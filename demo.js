/**
 * Created by mike on 2016/8/29.
 */
/**
 * worktile v4.3.9-7 by @Worktile Inc.
 * Copyright 2016-08-29 10:26:26 wow@worktile.com
 */
function Sanitize() {
    var a, b;
    for (b = arguments[0] || {}, this.config = {}, this.config.elements = b.elements ? b.elements : [], this.config.attributes = b.attributes ? b.attributes : {}, this.config.attributes[Sanitize.ALL] = this.config.attributes[Sanitize.ALL] ? this.config.attributes[Sanitize.ALL] : [], this.config.allow_comments = !!b.allow_comments && b.allow_comments, this.allowed_elements = {}, this.config.protocols = b.protocols ? b.protocols : {}, this.config.add_attributes = b.add_attributes ? b.add_attributes : {}, this.dom = b.dom ? b.dom : document, a = 0; a < this.config.elements.length; a++)this.allowed_elements[this.config.elements[a]] = !0;
    if (this.config.remove_element_contents = {}, this.config.remove_all_contents = !1, b.remove_contents)if (b.remove_contents instanceof Array)for (a = 0; a < b.remove_contents.length; a++)this.config.remove_element_contents[b.remove_contents[a]] = !0; else this.config.remove_all_contents = !0;
    this.transformers = b.transformers ? b.transformers : []
}
if (function () {
        function a(a, b) {
            if (a !== b) {
                var c = null === a, d = a === w, e = a === a, f = null === b, g = b === w, h = b === b;
                if (a > b && !f || !e || c && !g && h || d && h)return 1;
                if (a < b && !c || !h || f && !d && e || g && e)return -1
            }
            return 0
        }

        function b(a, b, c) {
            for (var d = a.length, e = c ? d : -1; c ? e-- : ++e < d;)if (b(a[e], e, a))return e;
            return -1
        }

        function c(a, b, c) {
            if (b !== b)return n(a, c);
            for (var d = c - 1, e = a.length; ++d < e;)if (a[d] === b)return d;
            return -1
        }

        function d(a) {
            return "function" == typeof a || !1
        }

        function e(a) {
            return null == a ? "" : a + ""
        }

        function f(a, b) {
            for (var c = -1, d = a.length; ++c < d && b.indexOf(a.charAt(c)) > -1;);
            return c
        }

        function g(a, b) {
            for (var c = a.length; c-- && b.indexOf(a.charAt(c)) > -1;);
            return c
        }

        function h(b, c) {
            return a(b.criteria, c.criteria) || b.index - c.index
        }

        function i(b, c, d) {
            for (var e = -1, f = b.criteria, g = c.criteria, h = f.length, i = d.length; ++e < h;) {
                var j = a(f[e], g[e]);
                if (j) {
                    if (e >= i)return j;
                    var k = d[e];
                    return j * ("asc" === k || k === !0 ? 1 : -1)
                }
            }
            return b.index - c.index
        }

        function j(a) {
            return Pa[a]
        }

        function k(a) {
            return Qa[a]
        }

        function l(a, b, c) {
            return b ? a = Ta[a] : c && (a = Ua[a]), "\\" + a
        }

        function m(a) {
            return "\\" + Ua[a]
        }

        function n(a, b, c) {
            for (var d = a.length, e = b + (c ? 0 : -1); c ? e-- : ++e < d;) {
                var f = a[e];
                if (f !== f)return e
            }
            return -1
        }

        function o(a) {
            return !!a && "object" == typeof a
        }

        function p(a) {
            return a <= 160 && a >= 9 && a <= 13 || 32 == a || 160 == a || 5760 == a || 6158 == a || a >= 8192 && (a <= 8202 || 8232 == a || 8233 == a || 8239 == a || 8287 == a || 12288 == a || 65279 == a)
        }

        function q(a, b) {
            for (var c = -1, d = a.length, e = -1, f = []; ++c < d;)a[c] === b && (a[c] = P, f[++e] = c);
            return f
        }

        function r(a, b) {
            for (var c, d = -1, e = a.length, f = -1, g = []; ++d < e;) {
                var h = a[d], i = b ? b(h, d, a) : h;
                d && c === i || (c = i, g[++f] = h)
            }
            return g
        }

        function s(a) {
            for (var b = -1, c = a.length; ++b < c && p(a.charCodeAt(b)););
            return b
        }

        function t(a) {
            for (var b = a.length; b-- && p(a.charCodeAt(b)););
            return b
        }

        function u(a) {
            return Ra[a]
        }

        function v(p) {
            function W(a) {
                if (o(a) && !Ch(a) && !(a instanceof Pa)) {
                    if (a instanceof aa)return a;
                    if (ag.call(a, "__chain__") && ag.call(a, "__wrapped__"))return md(a)
                }
                return new aa(a)
            }

            function $() {
            }

            function aa(a, b, c) {
                this.__wrapped__ = a, this.__actions__ = c || [], this.__chain__ = !!b
            }

            function Pa(a) {
                this.__wrapped__ = a, this.__actions__ = [], this.__dir__ = 1, this.__filtered__ = !1, this.__iteratees__ = [], this.__takeCount__ = Bg, this.__views__ = []
            }

            function Qa() {
                var a = new Pa(this.__wrapped__);
                return a.__actions__ = cb(this.__actions__), a.__dir__ = this.__dir__, a.__filtered__ = this.__filtered__, a.__iteratees__ = cb(this.__iteratees__), a.__takeCount__ = this.__takeCount__, a.__views__ = cb(this.__views__), a
            }

            function Ra() {
                if (this.__filtered__) {
                    var a = new Pa(this);
                    a.__dir__ = -1, a.__filtered__ = !0
                } else a = this.clone(), a.__dir__ *= -1;
                return a
            }

            function Sa() {
                var a = this.__wrapped__.value(), b = this.__dir__, c = Ch(a), d = b < 0, e = c ? a.length : 0, f = Tc(0, e, this.__views__), g = f.start, h = f.end, i = h - g, j = d ? h : g - 1, k = this.__iteratees__, l = k.length, m = 0, n = wg(i, this.__takeCount__);
                if (!c || e < L || e == i && n == i)return cc(a, this.__actions__);
                var o = [];
                a:for (; i-- && m < n;) {
                    j += b;
                    for (var p = -1, q = a[j]; ++p < l;) {
                        var r = k[p], s = r.iteratee, t = r.type, u = s(q);
                        if (t == N)q = u; else if (!u) {
                            if (t == M)continue a;
                            break a
                        }
                    }
                    o[m++] = q
                }
                return o
            }

            function Ta() {
                this.__data__ = {}
            }

            function Ua(a) {
                return this.has(a) && delete this.__data__[a]
            }

            function Va(a) {
                return "__proto__" == a ? w : this.__data__[a]
            }

            function Wa(a) {
                return "__proto__" != a && ag.call(this.__data__, a)
            }

            function Xa(a, b) {
                return "__proto__" != a && (this.__data__[a] = b), this
            }

            function Ya(a) {
                var b = a ? a.length : 0;
                for (this.data = {hash: qg(null), set: new kg}; b--;)this.push(a[b])
            }

            function Za(a, b) {
                var c = a.data, d = "string" == typeof b || He(b) ? c.set.has(b) : c.hash[b];
                return d ? 0 : -1
            }

            function $a(a) {
                var b = this.data;
                "string" == typeof a || He(a) ? b.set.add(a) : b.hash[a] = !0
            }

            function bb(a, b) {
                for (var c = -1, d = a.length, e = -1, f = b.length, g = Of(d + f); ++c < d;)g[c] = a[c];
                for (; ++e < f;)g[c++] = b[e];
                return g
            }

            function cb(a, b) {
                var c = -1, d = a.length;
                for (b || (b = Of(d)); ++c < d;)b[c] = a[c];
                return b
            }

            function db(a, b) {
                for (var c = -1, d = a.length; ++c < d && b(a[c], c, a) !== !1;);
                return a
            }

            function eb(a, b) {
                for (var c = a.length; c-- && b(a[c], c, a) !== !1;);
                return a
            }

            function fb(a, b) {
                for (var c = -1, d = a.length; ++c < d;)if (!b(a[c], c, a))return !1;
                return !0
            }

            function gb(a, b, c, d) {
                for (var e = -1, f = a.length, g = d, h = g; ++e < f;) {
                    var i = a[e], j = +b(i);
                    c(j, g) && (g = j, h = i)
                }
                return h
            }

            function hb(a, b) {
                for (var c = -1, d = a.length, e = -1, f = []; ++c < d;) {
                    var g = a[c];
                    b(g, c, a) && (f[++e] = g)
                }
                return f
            }

            function ib(a, b) {
                for (var c = -1, d = a.length, e = Of(d); ++c < d;)e[c] = b(a[c], c, a);
                return e
            }

            function jb(a, b) {
                for (var c = -1, d = b.length, e = a.length; ++c < d;)a[e + c] = b[c];
                return a
            }

            function kb(a, b, c, d) {
                var e = -1, f = a.length;
                for (d && f && (c = a[++e]); ++e < f;)c = b(c, a[e], e, a);
                return c
            }

            function lb(a, b, c, d) {
                var e = a.length;
                for (d && e && (c = a[--e]); e--;)c = b(c, a[e], e, a);
                return c
            }

            function mb(a, b) {
                for (var c = -1, d = a.length; ++c < d;)if (b(a[c], c, a))return !0;
                return !1
            }

            function nb(a, b) {
                for (var c = a.length, d = 0; c--;)d += +b(a[c]) || 0;
                return d
            }

            function ob(a, b) {
                return a === w ? b : a
            }

            function pb(a, b, c, d) {
                return a !== w && ag.call(d, c) ? a : b
            }

            function qb(a, b, c) {
                for (var d = -1, e = Nh(b), f = e.length; ++d < f;) {
                    var g = e[d], h = a[g], i = c(h, b[g], g, a, b);
                    (i === i ? i === h : h !== h) && (h !== w || g in a) || (a[g] = i)
                }
                return a
            }

            function rb(a, b) {
                return null == b ? a : tb(b, Nh(b), a)
            }

            function sb(a, b) {
                for (var c = -1, d = null == a, e = !d && Yc(a), f = e ? a.length : 0, g = b.length, h = Of(g); ++c < g;) {
                    var i = b[c];
                    e ? h[c] = Zc(i, f) ? a[i] : w : h[c] = d ? w : a[i]
                }
                return h
            }

            function tb(a, b, c) {
                c || (c = {});
                for (var d = -1, e = b.length; ++d < e;) {
                    var f = b[d];
                    c[f] = a[f]
                }
                return c
            }

            function ub(a, b, c) {
                var d = typeof a;
                return "function" == d ? b === w ? a : fc(a, b, c) : null == a ? Bf : "object" == d ? Nb(a) : b === w ? Hf(a) : Ob(a, b)
            }

            function vb(a, b, c, d, e, f, g) {
                var h;
                if (c && (h = e ? c(a, d, e) : c(a)), h !== w)return h;
                if (!He(a))return a;
                var i = Ch(a);
                if (i) {
                    if (h = Uc(a), !b)return cb(a, h)
                } else {
                    var j = cg.call(a), k = j == V;
                    if (j != Y && j != Q && (!k || e))return Oa[j] ? Wc(a, j, b) : e ? a : {};
                    if (h = Vc(k ? {} : a), !b)return rb(h, a)
                }
                f || (f = []), g || (g = []);
                for (var l = f.length; l--;)if (f[l] == a)return g[l];
                return f.push(a), g.push(h), (i ? db : Fb)(a, function (d, e) {
                    h[e] = vb(d, b, c, e, a, f, g)
                }), h
            }

            function wb(a, b, c) {
                if ("function" != typeof a)throw new Xf(O);
                return lg(function () {
                    a.apply(w, c)
                }, b)
            }

            function xb(a, b) {
                var d = a ? a.length : 0, e = [];
                if (!d)return e;
                var f = -1, g = Qc(), h = g === c, i = h && b.length >= L ? oc(b) : null, j = b.length;
                i && (g = Za, h = !1, b = i);
                a:for (; ++f < d;) {
                    var k = a[f];
                    if (h && k === k) {
                        for (var l = j; l--;)if (b[l] === k)continue a;
                        e.push(k)
                    } else g(b, k, 0) < 0 && e.push(k)
                }
                return e
            }

            function yb(a, b) {
                var c = !0;
                return Jg(a, function (a, d, e) {
                    return c = !!b(a, d, e)
                }), c
            }

            function zb(a, b, c, d) {
                var e = d, f = e;
                return Jg(a, function (a, g, h) {
                    var i = +b(a, g, h);
                    (c(i, e) || i === d && i === f) && (e = i, f = a)
                }), f
            }

            function Ab(a, b, c, d) {
                var e = a.length;
                for (c = null == c ? 0 : +c || 0, c < 0 && (c = -c > e ? 0 : e + c), d = d === w || d > e ? e : +d || 0, d < 0 && (d += e), e = c > d ? 0 : d >>> 0, c >>>= 0; c < e;)a[c++] = b;
                return a
            }

            function Bb(a, b) {
                var c = [];
                return Jg(a, function (a, d, e) {
                    b(a, d, e) && c.push(a)
                }), c
            }

            function Cb(a, b, c, d) {
                var e;
                return c(a, function (a, c, f) {
                    if (b(a, c, f))return e = d ? c : a, !1
                }), e
            }

            function Db(a, b, c, d) {
                d || (d = []);
                for (var e = -1, f = a.length; ++e < f;) {
                    var g = a[e];
                    o(g) && Yc(g) && (c || Ch(g) || ye(g)) ? b ? Db(g, b, c, d) : jb(d, g) : c || (d[d.length] = g)
                }
                return d
            }

            function Eb(a, b) {
                return Lg(a, b, _e)
            }

            function Fb(a, b) {
                return Lg(a, b, Nh)
            }

            function Gb(a, b) {
                return Mg(a, b, Nh)
            }

            function Hb(a, b) {
                for (var c = -1, d = b.length, e = -1, f = []; ++c < d;) {
                    var g = b[c];
                    Ge(a[g]) && (f[++e] = g)
                }
                return f
            }

            function Ib(a, b, c) {
                if (null != a) {
                    c !== w && c in kd(a) && (b = [c]);
                    for (var d = 0, e = b.length; null != a && d < e;)a = a[b[d++]];
                    return d && d == e ? a : w
                }
            }

            function Jb(a, b, c, d, e, f) {
                return a === b || (null == a || null == b || !He(a) && !o(b) ? a !== a && b !== b : Kb(a, b, Jb, c, d, e, f))
            }

            function Kb(a, b, c, d, e, f, g) {
                var h = Ch(a), i = Ch(b), j = R, k = R;
                h || (j = cg.call(a), j == Q ? j = Y : j != Y && (h = Qe(a))), i || (k = cg.call(b), k == Q ? k = Y : k != Y && (i = Qe(b)));
                var l = j == Y, m = k == Y, n = j == k;
                if (n && !h && !l)return Mc(a, b, j);
                if (!e) {
                    var o = l && ag.call(a, "__wrapped__"), p = m && ag.call(b, "__wrapped__");
                    if (o || p)return c(o ? a.value() : a, p ? b.value() : b, d, e, f, g)
                }
                if (!n)return !1;
                f || (f = []), g || (g = []);
                for (var q = f.length; q--;)if (f[q] == a)return g[q] == b;
                f.push(a), g.push(b);
                var r = (h ? Lc : Nc)(a, b, c, d, e, f, g);
                return f.pop(), g.pop(), r
            }

            function Lb(a, b, c) {
                var d = b.length, e = d, f = !c;
                if (null == a)return !e;
                for (a = kd(a); d--;) {
                    var g = b[d];
                    if (f && g[2] ? g[1] !== a[g[0]] : !(g[0] in a))return !1
                }
                for (; ++d < e;) {
                    g = b[d];
                    var h = g[0], i = a[h], j = g[1];
                    if (f && g[2]) {
                        if (i === w && !(h in a))return !1
                    } else {
                        var k = c ? c(i, j, h) : w;
                        if (!(k === w ? Jb(j, i, c, !0) : k))return !1
                    }
                }
                return !0
            }

            function Mb(a, b) {
                var c = -1, d = Yc(a) ? Of(a.length) : [];
                return Jg(a, function (a, e, f) {
                    d[++c] = b(a, e, f)
                }), d
            }

            function Nb(a) {
                var b = Rc(a);
                if (1 == b.length && b[0][2]) {
                    var c = b[0][0], d = b[0][1];
                    return function (a) {
                        return null != a && (a[c] === d && (d !== w || c in kd(a)))
                    }
                }
                return function (a) {
                    return Lb(a, b)
                }
            }

            function Ob(a, b) {
                var c = Ch(a), d = _c(a) && cd(b), e = a + "";
                return a = ld(a), function (f) {
                    if (null == f)return !1;
                    var g = e;
                    if (f = kd(f), (c || !d) && !(g in f)) {
                        if (f = 1 == a.length ? f : Ib(f, Wb(a, 0, -1)), null == f)return !1;
                        g = zd(a), f = kd(f)
                    }
                    return f[g] === b ? b !== w || g in f : Jb(b, f[g], w, !0)
                }
            }

            function Pb(a, b, c, d, e) {
                if (!He(a))return a;
                var f = Yc(b) && (Ch(b) || Qe(b)), g = f ? w : Nh(b);
                return db(g || b, function (h, i) {
                    if (g && (i = h, h = b[i]), o(h))d || (d = []), e || (e = []), Qb(a, b, i, Pb, c, d, e); else {
                        var j = a[i], k = c ? c(j, h, i, a, b) : w, l = k === w;
                        l && (k = h), k === w && (!f || i in a) || !l && (k === k ? k === j : j !== j) || (a[i] = k)
                    }
                }), a
            }

            function Qb(a, b, c, d, e, f, g) {
                for (var h = f.length, i = b[c]; h--;)if (f[h] == i)return void(a[c] = g[h]);
                var j = a[c], k = e ? e(j, i, c, a, b) : w, l = k === w;
                l && (k = i, Yc(i) && (Ch(i) || Qe(i)) ? k = Ch(j) ? j : Yc(j) ? cb(j) : [] : Ne(i) || ye(i) ? k = ye(j) ? Ve(j) : Ne(j) ? j : {} : l = !1), f.push(i), g.push(k), l ? a[c] = d(k, i, e, f, g) : (k === k ? k !== j : j === j) && (a[c] = k)
            }

            function Rb(a) {
                return function (b) {
                    return null == b ? w : b[a]
                }
            }

            function Sb(a) {
                var b = a + "";
                return a = ld(a), function (c) {
                    return Ib(c, a, b)
                }
            }

            function Tb(a, b) {
                for (var c = a ? b.length : 0; c--;) {
                    var d = b[c];
                    if (d != e && Zc(d)) {
                        var e = d;
                        mg.call(a, d, 1)
                    }
                }
                return a
            }

            function Ub(a, b) {
                return a + rg(zg() * (b - a + 1))
            }

            function Vb(a, b, c, d, e) {
                return e(a, function (a, e, f) {
                    c = d ? (d = !1, a) : b(c, a, e, f)
                }), c
            }

            function Wb(a, b, c) {
                var d = -1, e = a.length;
                b = null == b ? 0 : +b || 0, b < 0 && (b = -b > e ? 0 : e + b), c = c === w || c > e ? e : +c || 0, c < 0 && (c += e), e = b > c ? 0 : c - b >>> 0, b >>>= 0;
                for (var f = Of(e); ++d < e;)f[d] = a[d + b];
                return f
            }

            function Xb(a, b) {
                var c;
                return Jg(a, function (a, d, e) {
                    return c = b(a, d, e), !c
                }), !!c
            }

            function Yb(a, b) {
                var c = a.length;
                for (a.sort(b); c--;)a[c] = a[c].value;
                return a
            }

            function Zb(a, b, c) {
                var d = Oc(), e = -1;
                b = ib(b, function (a) {
                    return d(a)
                });
                var f = Mb(a, function (a) {
                    var c = ib(b, function (b) {
                        return b(a)
                    });
                    return {criteria: c, index: ++e, value: a}
                });
                return Yb(f, function (a, b) {
                    return i(a, b, c)
                })
            }

            function $b(a, b) {
                var c = 0;
                return Jg(a, function (a, d, e) {
                    c += +b(a, d, e) || 0
                }), c
            }

            function _b(a, b) {
                var d = -1, e = Qc(), f = a.length, g = e === c, h = g && f >= L, i = h ? oc() : null, j = [];
                i ? (e = Za, g = !1) : (h = !1, i = b ? [] : j);
                a:for (; ++d < f;) {
                    var k = a[d], l = b ? b(k, d, a) : k;
                    if (g && k === k) {
                        for (var m = i.length; m--;)if (i[m] === l)continue a;
                        b && i.push(l), j.push(k)
                    } else e(i, l, 0) < 0 && ((b || h) && i.push(l), j.push(k))
                }
                return j
            }

            function ac(a, b) {
                for (var c = -1, d = b.length, e = Of(d); ++c < d;)e[c] = a[b[c]];
                return e
            }

            function bc(a, b, c, d) {
                for (var e = a.length, f = d ? e : -1; (d ? f-- : ++f < e) && b(a[f], f, a););
                return c ? Wb(a, d ? 0 : f, d ? f + 1 : e) : Wb(a, d ? f + 1 : 0, d ? e : f)
            }

            function cc(a, b) {
                var c = a;
                c instanceof Pa && (c = c.value());
                for (var d = -1, e = b.length; ++d < e;) {
                    var f = b[d];
                    c = f.func.apply(f.thisArg, jb([c], f.args))
                }
                return c
            }

            function dc(a, b, c) {
                var d = 0, e = a ? a.length : d;
                if ("number" == typeof b && b === b && e <= Eg) {
                    for (; d < e;) {
                        var f = d + e >>> 1, g = a[f];
                        (c ? g <= b : g < b) && null !== g ? d = f + 1 : e = f
                    }
                    return e
                }
                return ec(a, b, Bf, c)
            }

            function ec(a, b, c, d) {
                b = c(b);
                for (var e = 0, f = a ? a.length : 0, g = b !== b, h = null === b, i = b === w; e < f;) {
                    var j = rg((e + f) / 2), k = c(a[j]), l = k !== w, m = k === k;
                    if (g)var n = m || d; else n = h ? m && l && (d || null != k) : i ? m && (d || l) : null != k && (d ? k <= b : k < b);
                    n ? e = j + 1 : f = j
                }
                return wg(f, Dg)
            }

            function fc(a, b, c) {
                if ("function" != typeof a)return Bf;
                if (b === w)return a;
                switch (c) {
                    case 1:
                        return function (c) {
                            return a.call(b, c)
                        };
                    case 3:
                        return function (c, d, e) {
                            return a.call(b, c, d, e)
                        };
                    case 4:
                        return function (c, d, e, f) {
                            return a.call(b, c, d, e, f)
                        };
                    case 5:
                        return function (c, d, e, f, g) {
                            return a.call(b, c, d, e, f, g)
                        }
                }
                return function () {
                    return a.apply(b, arguments)
                }
            }

            function gc(a) {
                var b = new fg(a.byteLength), c = new ng(b);
                return c.set(new ng(a)), b
            }

            function hc(a, b, c) {
                for (var d = c.length, e = -1, f = vg(a.length - d, 0), g = -1, h = b.length, i = Of(h + f); ++g < h;)i[g] = b[g];
                for (; ++e < d;)i[c[e]] = a[e];
                for (; f--;)i[g++] = a[e++];
                return i
            }

            function ic(a, b, c) {
                for (var d = -1, e = c.length, f = -1, g = vg(a.length - e, 0), h = -1, i = b.length, j = Of(g + i); ++f < g;)j[f] = a[f];
                for (var k = f; ++h < i;)j[k + h] = b[h];
                for (; ++d < e;)j[k + c[d]] = a[f++];
                return j
            }

            function jc(a, b) {
                return function (c, d, e) {
                    var f = b ? b() : {};
                    if (d = Oc(d, e, 3), Ch(c))for (var g = -1, h = c.length; ++g < h;) {
                        var i = c[g];
                        a(f, i, d(i, g, c), c)
                    } else Jg(c, function (b, c, e) {
                        a(f, b, d(b, c, e), e)
                    });
                    return f
                }
            }

            function kc(a) {
                return qe(function (b, c) {
                    var d = -1, e = null == b ? 0 : c.length, f = e > 2 ? c[e - 2] : w, g = e > 2 ? c[2] : w, h = e > 1 ? c[e - 1] : w;
                    for ("function" == typeof f ? (f = fc(f, h, 5), e -= 2) : (f = "function" == typeof h ? h : w, e -= f ? 1 : 0), g && $c(c[0], c[1], g) && (f = e < 3 ? w : f, e = 1); ++d < e;) {
                        var i = c[d];
                        i && a(b, i, f)
                    }
                    return b
                })
            }

            function lc(a, b) {
                return function (c, d) {
                    var e = c ? Pg(c) : 0;
                    if (!bd(e))return a(c, d);
                    for (var f = b ? e : -1, g = kd(c); (b ? f-- : ++f < e) && d(g[f], f, g) !== !1;);
                    return c
                }
            }

            function mc(a) {
                return function (b, c, d) {
                    for (var e = kd(b), f = d(b), g = f.length, h = a ? g : -1; a ? h-- : ++h < g;) {
                        var i = f[h];
                        if (c(e[i], i, e) === !1)break
                    }
                    return b
                }
            }

            function nc(a, b) {
                function c() {
                    var e = this && this !== _a && this instanceof c ? d : a;
                    return e.apply(b, arguments)
                }

                var d = qc(a);
                return c
            }

            function oc(a) {
                return qg && kg ? new Ya(a) : null
            }

            function pc(a) {
                return function (b) {
                    for (var c = -1, d = yf(kf(b)), e = d.length, f = ""; ++c < e;)f = a(f, d[c], c);
                    return f
                }
            }

            function qc(a) {
                return function () {
                    var b = arguments;
                    switch (b.length) {
                        case 0:
                            return new a;
                        case 1:
                            return new a(b[0]);
                        case 2:
                            return new a(b[0], b[1]);
                        case 3:
                            return new a(b[0], b[1], b[2]);
                        case 4:
                            return new a(b[0], b[1], b[2], b[3]);
                        case 5:
                            return new a(b[0], b[1], b[2], b[3], b[4]);
                        case 6:
                            return new a(b[0], b[1], b[2], b[3], b[4], b[5]);
                        case 7:
                            return new a(b[0], b[1], b[2], b[3], b[4], b[5], b[6])
                    }
                    var c = Ig(a.prototype), d = a.apply(c, b);
                    return He(d) ? d : c
                }
            }

            function rc(a) {
                function b(c, d, e) {
                    e && $c(c, d, e) && (d = w);
                    var f = Kc(c, a, w, w, w, w, w, d);
                    return f.placeholder = b.placeholder, f
                }

                return b
            }

            function sc(a, b) {
                return qe(function (c) {
                    var d = c[0];
                    return null == d ? d : (c.push(b), a.apply(w, c))
                })
            }

            function tc(a, b) {
                return function (c, d, e) {
                    if (e && $c(c, d, e) && (d = w), d = Oc(d, e, 3), 1 == d.length) {
                        c = Ch(c) ? c : jd(c);
                        var f = gb(c, d, a, b);
                        if (!c.length || f !== b)return f
                    }
                    return zb(c, d, a, b)
                }
            }

            function uc(a, c) {
                return function (d, e, f) {
                    if (e = Oc(e, f, 3), Ch(d)) {
                        var g = b(d, e, c);
                        return g > -1 ? d[g] : w
                    }
                    return Cb(d, e, a)
                }
            }

            function vc(a) {
                return function (c, d, e) {
                    return c && c.length ? (d = Oc(d, e, 3), b(c, d, a)) : -1
                }
            }

            function wc(a) {
                return function (b, c, d) {
                    return c = Oc(c, d, 3), Cb(b, c, a, !0)
                }
            }

            function xc(a) {
                return function () {
                    for (var b, c = arguments.length, d = a ? c : -1, e = 0, f = Of(c); a ? d-- : ++d < c;) {
                        var g = f[e++] = arguments[d];
                        if ("function" != typeof g)throw new Xf(O);
                        !b && aa.prototype.thru && "wrapper" == Pc(g) && (b = new aa([], !0))
                    }
                    for (d = b ? -1 : c; ++d < c;) {
                        g = f[d];
                        var h = Pc(g), i = "wrapper" == h ? Og(g) : w;
                        b = i && ad(i[0]) && i[1] == (F | B | D | G) && !i[4].length && 1 == i[9] ? b[Pc(i[0])].apply(b, i[3]) : 1 == g.length && ad(g) ? b[h]() : b.thru(g)
                    }
                    return function () {
                        var a = arguments, d = a[0];
                        if (b && 1 == a.length && Ch(d) && d.length >= L)return b.plant(d).value();
                        for (var e = 0, g = c ? f[e].apply(this, a) : d; ++e < c;)g = f[e].call(this, g);
                        return g
                    }
                }
            }

            function yc(a, b) {
                return function (c, d, e) {
                    return "function" == typeof d && e === w && Ch(c) ? a(c, d) : b(c, fc(d, e, 3))
                }
            }

            function zc(a) {
                return function (b, c, d) {
                    return "function" == typeof c && d === w || (c = fc(c, d, 3)), a(b, c, _e)
                }
            }

            function Ac(a) {
                return function (b, c, d) {
                    return "function" == typeof c && d === w || (c = fc(c, d, 3)), a(b, c)
                }
            }

            function Bc(a) {
                return function (b, c, d) {
                    var e = {};
                    return c = Oc(c, d, 3), Fb(b, function (b, d, f) {
                        var g = c(b, d, f);
                        d = a ? g : d, b = a ? b : g, e[d] = b
                    }), e
                }
            }

            function Cc(a) {
                return function (b, c, d) {
                    return b = e(b), (a ? b : "") + Gc(b, c, d) + (a ? "" : b)
                }
            }

            function Dc(a) {
                var b = qe(function (c, d) {
                    var e = q(d, b.placeholder);
                    return Kc(c, a, w, d, e)
                });
                return b
            }

            function Ec(a, b) {
                return function (c, d, e, f) {
                    var g = arguments.length < 3;
                    return "function" == typeof d && f === w && Ch(c) ? a(c, d, e, g) : Vb(c, Oc(d, f, 4), e, g, b)
                }
            }

            function Fc(a, b, c, d, e, f, g, h, i, j) {
                function k() {
                    for (var t = arguments.length, u = t, v = Of(t); u--;)v[u] = arguments[u];
                    if (d && (v = hc(v, d, e)), f && (v = ic(v, f, g)), o || r) {
                        var x = k.placeholder, A = q(v, x);
                        if (t -= A.length, t < j) {
                            var B = h ? cb(h) : w, C = vg(j - t, 0), F = o ? A : w, G = o ? w : A, H = o ? v : w, I = o ? w : v;
                            b |= o ? D : E, b &= ~(o ? E : D), p || (b &= ~(y | z));
                            var J = [a, b, c, H, F, I, G, B, i, C], K = Fc.apply(w, J);
                            return ad(a) && Qg(K, J), K.placeholder = x, K
                        }
                    }
                    var L = m ? c : this, M = n ? L[a] : a;
                    return h && (v = hd(v, h)), l && i < v.length && (v.length = i), this && this !== _a && this instanceof k && (M = s || qc(a)), M.apply(L, v)
                }

                var l = b & F, m = b & y, n = b & z, o = b & B, p = b & A, r = b & C, s = n ? w : qc(a);
                return k
            }

            function Gc(a, b, c) {
                var d = a.length;
                if (b = +b, d >= b || !tg(b))return "";
                var e = b - d;
                return c = null == c ? " " : c + "", qf(c, pg(e / c.length)).slice(0, e)
            }

            function Hc(a, b, c, d) {
                function e() {
                    for (var b = -1, h = arguments.length, i = -1, j = d.length, k = Of(j + h); ++i < j;)k[i] = d[i];
                    for (; h--;)k[i++] = arguments[++b];
                    var l = this && this !== _a && this instanceof e ? g : a;
                    return l.apply(f ? c : this, k)
                }

                var f = b & y, g = qc(a);
                return e
            }

            function Ic(a) {
                var b = Sf[a];
                return function (a, c) {
                    return c = c === w ? 0 : +c || 0, c ? (c = ig(10, c), b(a * c) / c) : b(a)
                }
            }

            function Jc(a) {
                return function (b, c, d, e) {
                    var f = Oc(d);
                    return null == d && f === ub ? dc(b, c, a) : ec(b, c, f(d, e, 1), a)
                }
            }

            function Kc(a, b, c, d, e, f, g, h) {
                var i = b & z;
                if (!i && "function" != typeof a)throw new Xf(O);
                var j = d ? d.length : 0;
                if (j || (b &= ~(D | E), d = e = w), j -= e ? e.length : 0, b & E) {
                    var k = d, l = e;
                    d = e = w
                }
                var m = i ? w : Og(a), n = [a, b, c, d, e, k, l, f, g, h];
                if (m && (dd(n, m), b = n[1], h = n[9]), n[9] = null == h ? i ? 0 : a.length : vg(h - j, 0) || 0, b == y)var o = nc(n[0], n[2]); else o = b != D && b != (y | D) || n[4].length ? Fc.apply(w, n) : Hc.apply(w, n);
                var p = m ? Ng : Qg;
                return p(o, n)
            }

            function Lc(a, b, c, d, e, f, g) {
                var h = -1, i = a.length, j = b.length;
                if (i != j && !(e && j > i))return !1;
                for (; ++h < i;) {
                    var k = a[h], l = b[h], m = d ? d(e ? l : k, e ? k : l, h) : w;
                    if (m !== w) {
                        if (m)continue;
                        return !1
                    }
                    if (e) {
                        if (!mb(b, function (a) {
                                return k === a || c(k, a, d, e, f, g)
                            }))return !1
                    } else if (k !== l && !c(k, l, d, e, f, g))return !1
                }
                return !0
            }

            function Mc(a, b, c) {
                switch (c) {
                    case S:
                    case T:
                        return +a == +b;
                    case U:
                        return a.name == b.name && a.message == b.message;
                    case X:
                        return a != +a ? b != +b : a == +b;
                    case Z:
                    case _:
                        return a == b + ""
                }
                return !1
            }

            function Nc(a, b, c, d, e, f, g) {
                var h = Nh(a), i = h.length, j = Nh(b), k = j.length;
                if (i != k && !e)return !1;
                for (var l = i; l--;) {
                    var m = h[l];
                    if (!(e ? m in b : ag.call(b, m)))return !1
                }
                for (var n = e; ++l < i;) {
                    m = h[l];
                    var o = a[m], p = b[m], q = d ? d(e ? p : o, e ? o : p, m) : w;
                    if (!(q === w ? c(o, p, d, e, f, g) : q))return !1;
                    n || (n = "constructor" == m)
                }
                if (!n) {
                    var r = a.constructor, s = b.constructor;
                    if (r != s && "constructor" in a && "constructor" in b && !("function" == typeof r && r instanceof r && "function" == typeof s && s instanceof s))return !1
                }
                return !0
            }

            function Oc(a, b, c) {
                var d = W.callback || zf;
                return d = d === zf ? ub : d, c ? d(a, b, c) : d
            }

            function Pc(a) {
                for (var b = a.name + "", c = Hg[b], d = c ? c.length : 0; d--;) {
                    var e = c[d], f = e.func;
                    if (null == f || f == a)return e.name
                }
                return b
            }

            function Qc(a, b, d) {
                var e = W.indexOf || xd;
                return e = e === xd ? c : e, a ? e(a, b, d) : e
            }

            function Rc(a) {
                for (var b = af(a), c = b.length; c--;)b[c][2] = cd(b[c][1]);
                return b
            }

            function Sc(a, b) {
                var c = null == a ? w : a[b];
                return Ke(c) ? c : w
            }

            function Tc(a, b, c) {
                for (var d = -1, e = c.length; ++d < e;) {
                    var f = c[d], g = f.size;
                    switch (f.type) {
                        case"drop":
                            a += g;
                            break;
                        case"dropRight":
                            b -= g;
                            break;
                        case"take":
                            b = wg(b, a + g);
                            break;
                        case"takeRight":
                            a = vg(a, b - g)
                    }
                }
                return {start: a, end: b}
            }

            function Uc(a) {
                var b = a.length, c = new a.constructor(b);
                return b && "string" == typeof a[0] && ag.call(a, "index") && (c.index = a.index, c.input = a.input), c
            }

            function Vc(a) {
                var b = a.constructor;
                return "function" == typeof b && b instanceof b || (b = Uf), new b
            }

            function Wc(a, b, c) {
                var d = a.constructor;
                switch (b) {
                    case ba:
                        return gc(a);
                    case S:
                    case T:
                        return new d(+a);
                    case ca:
                    case da:
                    case ea:
                    case fa:
                    case ga:
                    case ha:
                    case ia:
                    case ja:
                    case ka:
                        var e = a.buffer;
                        return new d(c ? gc(e) : e, a.byteOffset, a.length);
                    case X:
                    case _:
                        return new d(a);
                    case Z:
                        var f = new d(a.source, Da.exec(a));
                        f.lastIndex = a.lastIndex
                }
                return f
            }

            function Xc(a, b, c) {
                null == a || _c(b, a) || (b = ld(b), a = 1 == b.length ? a : Ib(a, Wb(b, 0, -1)), b = zd(b));
                var d = null == a ? a : a[b];
                return null == d ? w : d.apply(a, c)
            }

            function Yc(a) {
                return null != a && bd(Pg(a))
            }

            function Zc(a, b) {
                return a = "number" == typeof a || Ga.test(a) ? +a : -1, b = null == b ? Fg : b, a > -1 && a % 1 == 0 && a < b
            }

            function $c(a, b, c) {
                if (!He(c))return !1;
                var d = typeof b;
                if ("number" == d ? Yc(c) && Zc(b, c.length) : "string" == d && b in c) {
                    var e = c[b];
                    return a === a ? a === e : e !== e
                }
                return !1
            }

            function _c(a, b) {
                var c = typeof a;
                if ("string" == c && wa.test(a) || "number" == c)return !0;
                if (Ch(a))return !1;
                var d = !va.test(a);
                return d || null != b && a in kd(b)
            }

            function ad(a) {
                var b = Pc(a), c = W[b];
                if ("function" != typeof c || !(b in Pa.prototype))return !1;
                if (a === c)return !0;
                var d = Og(c);
                return !!d && a === d[0]
            }

            function bd(a) {
                return "number" == typeof a && a > -1 && a % 1 == 0 && a <= Fg
            }

            function cd(a) {
                return a === a && !He(a)
            }

            function dd(a, b) {
                var c = a[1], d = b[1], e = c | d, f = e < F, g = d == F && c == B || d == F && c == G && a[7].length <= b[8] || d == (F | G) && c == B;
                if (!f && !g)return a;
                d & y && (a[2] = b[2], e |= c & y ? 0 : A);
                var h = b[3];
                if (h) {
                    var i = a[3];
                    a[3] = i ? hc(i, h, b[4]) : cb(h), a[4] = i ? q(a[3], P) : cb(b[4])
                }
                return h = b[5], h && (i = a[5], a[5] = i ? ic(i, h, b[6]) : cb(h), a[6] = i ? q(a[5], P) : cb(b[6])), h = b[7], h && (a[7] = cb(h)), d & F && (a[8] = null == a[8] ? b[8] : wg(a[8], b[8])), null == a[9] && (a[9] = b[9]), a[0] = b[0], a[1] = e, a
            }

            function ed(a, b) {
                return a === w ? b : Dh(a, b, ed)
            }

            function fd(a, b) {
                a = kd(a);
                for (var c = -1, d = b.length, e = {}; ++c < d;) {
                    var f = b[c];
                    f in a && (e[f] = a[f])
                }
                return e
            }

            function gd(a, b) {
                var c = {};
                return Eb(a, function (a, d, e) {
                    b(a, d, e) && (c[d] = a)
                }), c
            }

            function hd(a, b) {
                for (var c = a.length, d = wg(b.length, c), e = cb(a); d--;) {
                    var f = b[d];
                    a[d] = Zc(f, c) ? e[f] : w
                }
                return a
            }

            function id(a) {
                for (var b = _e(a), c = b.length, d = c && a.length, e = !!d && bd(d) && (Ch(a) || ye(a)), f = -1, g = []; ++f < c;) {
                    var h = b[f];
                    (e && Zc(h, d) || ag.call(a, h)) && g.push(h)
                }
                return g
            }

            function jd(a) {
                return null == a ? [] : Yc(a) ? He(a) ? a : Uf(a) : ef(a)
            }

            function kd(a) {
                return He(a) ? a : Uf(a)
            }

            function ld(a) {
                if (Ch(a))return a;
                var b = [];
                return e(a).replace(xa, function (a, c, d, e) {
                    b.push(d ? e.replace(Ba, "$1") : c || a)
                }), b
            }

            function md(a) {
                return a instanceof Pa ? a.clone() : new aa(a.__wrapped__, a.__chain__, cb(a.__actions__))
            }

            function nd(a, b, c) {
                b = (c ? $c(a, b, c) : null == b) ? 1 : vg(rg(b) || 1, 1);
                for (var d = 0, e = a ? a.length : 0, f = -1, g = Of(pg(e / b)); d < e;)g[++f] = Wb(a, d, d += b);
                return g
            }

            function od(a) {
                for (var b = -1, c = a ? a.length : 0, d = -1, e = []; ++b < c;) {
                    var f = a[b];
                    f && (e[++d] = f)
                }
                return e
            }

            function pd(a, b, c) {
                var d = a ? a.length : 0;
                return d ? ((c ? $c(a, b, c) : null == b) && (b = 1), Wb(a, b < 0 ? 0 : b)) : []
            }

            function qd(a, b, c) {
                var d = a ? a.length : 0;
                return d ? ((c ? $c(a, b, c) : null == b) && (b = 1), b = d - (+b || 0), Wb(a, 0, b < 0 ? 0 : b)) : []
            }

            function rd(a, b, c) {
                return a && a.length ? bc(a, Oc(b, c, 3), !0, !0) : []
            }

            function sd(a, b, c) {
                return a && a.length ? bc(a, Oc(b, c, 3), !0) : []
            }

            function td(a, b, c, d) {
                var e = a ? a.length : 0;
                return e ? (c && "number" != typeof c && $c(a, b, c) && (c = 0, d = e), Ab(a, b, c, d)) : []
            }

            function ud(a) {
                return a ? a[0] : w
            }

            function vd(a, b, c) {
                var d = a ? a.length : 0;
                return c && $c(a, b, c) && (b = !1), d ? Db(a, b) : []
            }

            function wd(a) {
                var b = a ? a.length : 0;
                return b ? Db(a, !0) : []
            }

            function xd(a, b, d) {
                var e = a ? a.length : 0;
                if (!e)return -1;
                if ("number" == typeof d)d = d < 0 ? vg(e + d, 0) : d; else if (d) {
                    var f = dc(a, b);
                    return f < e && (b === b ? b === a[f] : a[f] !== a[f]) ? f : -1
                }
                return c(a, b, d || 0)
            }

            function yd(a) {
                return qd(a, 1)
            }

            function zd(a) {
                var b = a ? a.length : 0;
                return b ? a[b - 1] : w
            }

            function Ad(a, b, c) {
                var d = a ? a.length : 0;
                if (!d)return -1;
                var e = d;
                if ("number" == typeof c)e = (c < 0 ? vg(d + c, 0) : wg(c || 0, d - 1)) + 1; else if (c) {
                    e = dc(a, b, !0) - 1;
                    var f = a[e];
                    return (b === b ? b === f : f !== f) ? e : -1
                }
                if (b !== b)return n(a, e, !0);
                for (; e--;)if (a[e] === b)return e;
                return -1
            }

            function Bd() {
                var a = arguments, b = a[0];
                if (!b || !b.length)return b;
                for (var c = 0, d = Qc(), e = a.length; ++c < e;)for (var f = 0, g = a[c]; (f = d(b, g, f)) > -1;)mg.call(b, f, 1);
                return b
            }

            function Cd(a, b, c) {
                var d = [];
                if (!a || !a.length)return d;
                var e = -1, f = [], g = a.length;
                for (b = Oc(b, c, 3); ++e < g;) {
                    var h = a[e];
                    b(h, e, a) && (d.push(h), f.push(e))
                }
                return Tb(a, f), d
            }

            function Dd(a) {
                return pd(a, 1)
            }

            function Ed(a, b, c) {
                var d = a ? a.length : 0;
                return d ? (c && "number" != typeof c && $c(a, b, c) && (b = 0, c = d), Wb(a, b, c)) : []
            }

            function Fd(a, b, c) {
                var d = a ? a.length : 0;
                return d ? ((c ? $c(a, b, c) : null == b) && (b = 1), Wb(a, 0, b < 0 ? 0 : b)) : []
            }

            function Gd(a, b, c) {
                var d = a ? a.length : 0;
                return d ? ((c ? $c(a, b, c) : null == b) && (b = 1), b = d - (+b || 0), Wb(a, b < 0 ? 0 : b)) : []
            }

            function Hd(a, b, c) {
                return a && a.length ? bc(a, Oc(b, c, 3), !1, !0) : []
            }

            function Id(a, b, c) {
                return a && a.length ? bc(a, Oc(b, c, 3)) : []
            }

            function Jd(a, b, d, e) {
                var f = a ? a.length : 0;
                if (!f)return [];
                null != b && "boolean" != typeof b && (e = d, d = $c(a, b, e) ? w : b, b = !1);
                var g = Oc();
                return null == d && g === ub || (d = g(d, e, 3)), b && Qc() === c ? r(a, d) : _b(a, d)
            }

            function Kd(a) {
                if (!a || !a.length)return [];
                var b = -1, c = 0;
                a = hb(a, function (a) {
                    if (Yc(a))return c = vg(a.length, c), !0
                });
                for (var d = Of(c); ++b < c;)d[b] = ib(a, Rb(b));
                return d
            }

            function Ld(a, b, c) {
                var d = a ? a.length : 0;
                if (!d)return [];
                var e = Kd(a);
                return null == b ? e : (b = fc(b, c, 4), ib(e, function (a) {
                    return kb(a, b, w, !0)
                }))
            }

            function Md() {
                for (var a = -1, b = arguments.length; ++a < b;) {
                    var c = arguments[a];
                    if (Yc(c))var d = d ? jb(xb(d, c), xb(c, d)) : c
                }
                return d ? _b(d) : []
            }

            function Nd(a, b) {
                var c = -1, d = a ? a.length : 0, e = {};
                for (!d || b || Ch(a[0]) || (b = []); ++c < d;) {
                    var f = a[c];
                    b ? e[f] = b[c] : f && (e[f[0]] = f[1])
                }
                return e
            }

            function Od(a) {
                var b = W(a);
                return b.__chain__ = !0, b
            }

            function Pd(a, b, c) {
                return b.call(c, a), a
            }

            function Qd(a, b, c) {
                return b.call(c, a)
            }

            function Rd() {
                return Od(this)
            }

            function Sd() {
                return new aa(this.value(), this.__chain__)
            }

            function Td(a) {
                for (var b, c = this; c instanceof $;) {
                    var d = md(c);
                    b ? e.__wrapped__ = d : b = d;
                    var e = d;
                    c = c.__wrapped__
                }
                return e.__wrapped__ = a, b
            }

            function Ud() {
                var a = this.__wrapped__, b = function (a) {
                    return a.reverse()
                };
                if (a instanceof Pa) {
                    var c = a;
                    return this.__actions__.length && (c = new Pa(this)), c = c.reverse(), c.__actions__.push({
                        func: Qd,
                        args: [b],
                        thisArg: w
                    }), new aa(c, this.__chain__)
                }
                return this.thru(b)
            }

            function Vd() {
                return this.value() + ""
            }

            function Wd() {
                return cc(this.__wrapped__, this.__actions__)
            }

            function Xd(a, b, c) {
                var d = Ch(a) ? fb : yb;
                return c && $c(a, b, c) && (b = w), "function" == typeof b && c === w || (b = Oc(b, c, 3)), d(a, b)
            }

            function Yd(a, b, c) {
                var d = Ch(a) ? hb : Bb;
                return b = Oc(b, c, 3), d(a, b)
            }

            function Zd(a, b) {
                return dh(a, Nb(b))
            }

            function $d(a, b, c, d) {
                var e = a ? Pg(a) : 0;
                return bd(e) || (a = ef(a), e = a.length), c = "number" != typeof c || d && $c(b, c, d) ? 0 : c < 0 ? vg(e + c, 0) : c || 0, "string" == typeof a || !Ch(a) && Pe(a) ? c <= e && a.indexOf(b, c) > -1 : !!e && Qc(a, b, c) > -1
            }

            function _d(a, b, c) {
                var d = Ch(a) ? ib : Mb;
                return b = Oc(b, c, 3), d(a, b)
            }

            function ae(a, b) {
                return _d(a, Hf(b))
            }

            function be(a, b, c) {
                var d = Ch(a) ? hb : Bb;
                return b = Oc(b, c, 3), d(a, function (a, c, d) {
                    return !b(a, c, d)
                })
            }

            function ce(a, b, c) {
                if (c ? $c(a, b, c) : null == b) {
                    a = jd(a);
                    var d = a.length;
                    return d > 0 ? a[Ub(0, d - 1)] : w
                }
                var e = -1, f = Ue(a), d = f.length, g = d - 1;
                for (b = wg(b < 0 ? 0 : +b || 0, d); ++e < b;) {
                    var h = Ub(e, g), i = f[h];
                    f[h] = f[e], f[e] = i
                }
                return f.length = b, f
            }

            function de(a) {
                return ce(a, Bg)
            }

            function ee(a) {
                var b = a ? Pg(a) : 0;
                return bd(b) ? b : Nh(a).length
            }

            function fe(a, b, c) {
                var d = Ch(a) ? mb : Xb;
                return c && $c(a, b, c) && (b = w), "function" == typeof b && c === w || (b = Oc(b, c, 3)), d(a, b)
            }

            function ge(a, b, c) {
                if (null == a)return [];
                c && $c(a, b, c) && (b = w);
                var d = -1;
                b = Oc(b, c, 3);
                var e = Mb(a, function (a, c, e) {
                    return {criteria: b(a, c, e), index: ++d, value: a}
                });
                return Yb(e, h)
            }

            function he(a, b, c, d) {
                return null == a ? [] : (d && $c(b, c, d) && (c = w), Ch(b) || (b = null == b ? [] : [b]), Ch(c) || (c = null == c ? [] : [c]), Zb(a, b, c))
            }

            function ie(a, b) {
                return Yd(a, Nb(b))
            }

            function je(a, b) {
                if ("function" != typeof b) {
                    if ("function" != typeof a)throw new Xf(O);
                    var c = a;
                    a = b, b = c
                }
                return a = tg(a = +a) ? a : 0, function () {
                    if (--a < 1)return b.apply(this, arguments)
                }
            }

            function ke(a, b, c) {
                return c && $c(a, b, c) && (b = w), b = a && null == b ? a.length : vg(+b || 0, 0), Kc(a, F, w, w, w, w, b)
            }

            function le(a, b) {
                var c;
                if ("function" != typeof b) {
                    if ("function" != typeof a)throw new Xf(O);
                    var d = a;
                    a = b, b = d
                }
                return function () {
                    return --a > 0 && (c = b.apply(this, arguments)), a <= 1 && (b = w), c
                }
            }

            function me(a, b, c) {
                function d() {
                    n && gg(n), j && gg(j), p = 0, j = n = o = w
                }

                function e(b, c) {
                    c && gg(c), j = n = o = w, b && (p = oh(), k = a.apply(m, i), n || j || (i = m = w))
                }

                function f() {
                    var a = b - (oh() - l);
                    a <= 0 || a > b ? e(o, j) : n = lg(f, a)
                }

                function g() {
                    e(r, n)
                }

                function h() {
                    if (i = arguments, l = oh(), m = this, o = r && (n || !s), q === !1)var c = s && !n; else {
                        j || s || (p = l);
                        var d = q - (l - p), e = d <= 0 || d > q;
                        e ? (j && (j = gg(j)), p = l, k = a.apply(m, i)) : j || (j = lg(g, d))
                    }
                    return e && n ? n = gg(n) : n || b === q || (n = lg(f, b)), c && (e = !0, k = a.apply(m, i)), !e || n || j || (i = m = w), k
                }

                var i, j, k, l, m, n, o, p = 0, q = !1, r = !0;
                if ("function" != typeof a)throw new Xf(O);
                if (b = b < 0 ? 0 : +b || 0, c === !0) {
                    var s = !0;
                    r = !1
                } else He(c) && (s = !!c.leading, q = "maxWait" in c && vg(+c.maxWait || 0, b), r = "trailing" in c ? !!c.trailing : r);
                return h.cancel = d, h
            }

            function ne(a, b) {
                if ("function" != typeof a || b && "function" != typeof b)throw new Xf(O);
                var c = function () {
                    var d = arguments, e = b ? b.apply(this, d) : d[0], f = c.cache;
                    if (f.has(e))return f.get(e);
                    var g = a.apply(this, d);
                    return c.cache = f.set(e, g), g
                };
                return c.cache = new ne.Cache, c
            }

            function oe(a) {
                if ("function" != typeof a)throw new Xf(O);
                return function () {
                    return !a.apply(this, arguments)
                }
            }

            function pe(a) {
                return le(2, a)
            }

            function qe(a, b) {
                if ("function" != typeof a)throw new Xf(O);
                return b = vg(b === w ? a.length - 1 : +b || 0, 0), function () {
                    for (var c = arguments, d = -1, e = vg(c.length - b, 0), f = Of(e); ++d < e;)f[d] = c[b + d];
                    switch (b) {
                        case 0:
                            return a.call(this, f);
                        case 1:
                            return a.call(this, c[0], f);
                        case 2:
                            return a.call(this, c[0], c[1], f)
                    }
                    var g = Of(b + 1);
                    for (d = -1; ++d < b;)g[d] = c[d];
                    return g[b] = f, a.apply(this, g)
                }
            }

            function re(a) {
                if ("function" != typeof a)throw new Xf(O);
                return function (b) {
                    return a.apply(this, b)
                }
            }

            function se(a, b, c) {
                var d = !0, e = !0;
                if ("function" != typeof a)throw new Xf(O);
                return c === !1 ? d = !1 : He(c) && (d = "leading" in c ? !!c.leading : d, e = "trailing" in c ? !!c.trailing : e), me(a, b, {
                    leading: d,
                    maxWait: +b,
                    trailing: e
                })
            }

            function te(a, b) {
                return b = null == b ? Bf : b, Kc(b, D, w, [a], [])
            }

            function ue(a, b, c, d) {
                return b && "boolean" != typeof b && $c(a, b, c) ? b = !1 : "function" == typeof b && (d = c, c = b, b = !1), "function" == typeof c ? vb(a, b, fc(c, d, 3)) : vb(a, b)
            }

            function ve(a, b, c) {
                return "function" == typeof b ? vb(a, !0, fc(b, c, 3)) : vb(a, !0)
            }

            function we(a, b) {
                return a > b
            }

            function xe(a, b) {
                return a >= b
            }

            function ye(a) {
                return o(a) && Yc(a) && ag.call(a, "callee") && !jg.call(a, "callee")
            }

            function ze(a) {
                return a === !0 || a === !1 || o(a) && cg.call(a) == S
            }

            function Ae(a) {
                return o(a) && cg.call(a) == T
            }

            function Be(a) {
                return !!a && 1 === a.nodeType && o(a) && !Ne(a)
            }

            function Ce(a) {
                return null == a || (Yc(a) && (Ch(a) || Pe(a) || ye(a) || o(a) && Ge(a.splice)) ? !a.length : !Nh(a).length)
            }

            function De(a, b, c, d) {
                c = "function" == typeof c ? fc(c, d, 3) : w;
                var e = c ? c(a, b) : w;
                return e === w ? Jb(a, b, c) : !!e
            }

            function Ee(a) {
                return o(a) && "string" == typeof a.message && cg.call(a) == U
            }

            function Fe(a) {
                return "number" == typeof a && tg(a)
            }

            function Ge(a) {
                return He(a) && cg.call(a) == V
            }

            function He(a) {
                var b = typeof a;
                return !!a && ("object" == b || "function" == b)
            }

            function Ie(a, b, c, d) {
                return c = "function" == typeof c ? fc(c, d, 3) : w, Lb(a, Rc(b), c)
            }

            function Je(a) {
                return Me(a) && a != +a
            }

            function Ke(a) {
                return null != a && (Ge(a) ? eg.test(_f.call(a)) : o(a) && Fa.test(a))
            }

            function Le(a) {
                return null === a
            }

            function Me(a) {
                return "number" == typeof a || o(a) && cg.call(a) == X
            }

            function Ne(a) {
                var b;
                if (!o(a) || cg.call(a) != Y || ye(a) || !ag.call(a, "constructor") && (b = a.constructor, "function" == typeof b && !(b instanceof b)))return !1;
                var c;
                return Eb(a, function (a, b) {
                    c = b
                }), c === w || ag.call(a, c)
            }

            function Oe(a) {
                return He(a) && cg.call(a) == Z
            }

            function Pe(a) {
                return "string" == typeof a || o(a) && cg.call(a) == _
            }

            function Qe(a) {
                return o(a) && bd(a.length) && !!Na[cg.call(a)]
            }

            function Re(a) {
                return a === w
            }

            function Se(a, b) {
                return a < b
            }

            function Te(a, b) {
                return a <= b
            }

            function Ue(a) {
                var b = a ? Pg(a) : 0;
                return bd(b) ? b ? cb(a) : [] : ef(a)
            }

            function Ve(a) {
                return tb(a, _e(a))
            }

            function We(a, b, c) {
                var d = Ig(a);
                return c && $c(a, b, c) && (b = w), b ? rb(d, b) : d
            }

            function Xe(a) {
                return Hb(a, _e(a))
            }

            function Ye(a, b, c) {
                var d = null == a ? w : Ib(a, ld(b), b + "");
                return d === w ? c : d
            }

            function Ze(a, b) {
                if (null == a)return !1;
                var c = ag.call(a, b);
                if (!c && !_c(b)) {
                    if (b = ld(b), a = 1 == b.length ? a : Ib(a, Wb(b, 0, -1)), null == a)return !1;
                    b = zd(b), c = ag.call(a, b)
                }
                return c || bd(a.length) && Zc(b, a.length) && (Ch(a) || ye(a))
            }

            function $e(a, b, c) {
                c && $c(a, b, c) && (b = w);
                for (var d = -1, e = Nh(a), f = e.length, g = {}; ++d < f;) {
                    var h = e[d], i = a[h];
                    b ? ag.call(g, i) ? g[i].push(h) : g[i] = [h] : g[i] = h
                }
                return g
            }

            function _e(a) {
                if (null == a)return [];
                He(a) || (a = Uf(a));
                var b = a.length;
                b = b && bd(b) && (Ch(a) || ye(a)) && b || 0;
                for (var c = a.constructor, d = -1, e = "function" == typeof c && c.prototype === a, f = Of(b), g = b > 0; ++d < b;)f[d] = d + "";
                for (var h in a)g && Zc(h, b) || "constructor" == h && (e || !ag.call(a, h)) || f.push(h);
                return f
            }

            function af(a) {
                a = kd(a);
                for (var b = -1, c = Nh(a), d = c.length, e = Of(d); ++b < d;) {
                    var f = c[b];
                    e[b] = [f, a[f]]
                }
                return e
            }

            function bf(a, b, c) {
                var d = null == a ? w : a[b];
                return d === w && (null == a || _c(b, a) || (b = ld(b), a = 1 == b.length ? a : Ib(a, Wb(b, 0, -1)), d = null == a ? w : a[zd(b)]), d = d === w ? c : d), Ge(d) ? d.call(a) : d
            }

            function cf(a, b, c) {
                if (null == a)return a;
                var d = b + "";
                b = null != a[d] || _c(b, a) ? [d] : ld(b);
                for (var e = -1, f = b.length, g = f - 1, h = a; null != h && ++e < f;) {
                    var i = b[e];
                    He(h) && (e == g ? h[i] = c : null == h[i] && (h[i] = Zc(b[e + 1]) ? [] : {})), h = h[i]
                }
                return a
            }

            function df(a, b, c, d) {
                var e = Ch(a) || Qe(a);
                if (b = Oc(b, d, 4), null == c)if (e || He(a)) {
                    var f = a.constructor;
                    c = e ? Ch(a) ? new f : [] : Ig(Ge(f) ? f.prototype : w)
                } else c = {};
                return (e ? db : Fb)(a, function (a, d, e) {
                    return b(c, a, d, e)
                }), c
            }

            function ef(a) {
                return ac(a, Nh(a))
            }

            function ff(a) {
                return ac(a, _e(a))
            }

            function gf(a, b, c) {
                return b = +b || 0, c === w ? (c = b, b = 0) : c = +c || 0, a >= wg(b, c) && a < vg(b, c)
            }

            function hf(a, b, c) {
                c && $c(a, b, c) && (b = c = w);
                var d = null == a, e = null == b;
                if (null == c && (e && "boolean" == typeof a ? (c = a, a = 1) : "boolean" == typeof b && (c = b, e = !0)), d && e && (b = 1, e = !1), a = +a || 0, e ? (b = a, a = 0) : b = +b || 0, c || a % 1 || b % 1) {
                    var f = zg();
                    return wg(a + f * (b - a + hg("1e-" + ((f + "").length - 1))), b)
                }
                return Ub(a, b)
            }

            function jf(a) {
                return a = e(a), a && a.charAt(0).toUpperCase() + a.slice(1)
            }

            function kf(a) {
                return a = e(a), a && a.replace(Ha, j).replace(Aa, "")
            }

            function lf(a, b, c) {
                a = e(a), b += "";
                var d = a.length;
                return c = c === w ? d : wg(c < 0 ? 0 : +c || 0, d), c -= b.length, c >= 0 && a.indexOf(b, c) == c
            }

            function mf(a) {
                return a = e(a), a && ra.test(a) ? a.replace(pa, k) : a
            }

            function nf(a) {
                return a = e(a), a && za.test(a) ? a.replace(ya, l) : a || "(?:)"
            }

            function of(a, b, c) {
                a = e(a), b = +b;
                var d = a.length;
                if (d >= b || !tg(b))return a;
                var f = (b - d) / 2, g = rg(f), h = pg(f);
                return c = Gc("", h, c), c.slice(0, g) + a + c
            }

            function pf(a, b, c) {
                return (c ? $c(a, b, c) : null == b) ? b = 0 : b && (b = +b), a = tf(a), yg(a, b || (Ea.test(a) ? 16 : 10))
            }

            function qf(a, b) {
                var c = "";
                if (a = e(a), b = +b, b < 1 || !a || !tg(b))return c;
                do b % 2 && (c += a), b = rg(b / 2), a += a; while (b);
                return c
            }

            function rf(a, b, c) {
                return a = e(a), c = null == c ? 0 : wg(c < 0 ? 0 : +c || 0, a.length), a.lastIndexOf(b, c) == c
            }

            function sf(a, b, c) {
                var d = W.templateSettings;
                c && $c(a, b, c) && (b = c = w), a = e(a), b = qb(rb({}, c || b), d, pb);
                var f, g, h = qb(rb({}, b.imports), d.imports, pb), i = Nh(h), j = ac(h, i), k = 0, l = b.interpolate || Ia, n = "__p += '", o = Vf((b.escape || Ia).source + "|" + l.source + "|" + (l === ua ? Ca : Ia).source + "|" + (b.evaluate || Ia).source + "|$", "g"), p = "//# sourceURL=" + ("sourceURL" in b ? b.sourceURL : "lodash.templateSources[" + ++Ma + "]") + "\n";
                a.replace(o, function (b, c, d, e, h, i) {
                    return d || (d = e), n += a.slice(k, i).replace(Ja, m), c && (f = !0, n += "' +\n__e(" + c + ") +\n'"), h && (g = !0, n += "';\n" + h + ";\n__p += '"), d && (n += "' +\n((__t = (" + d + ")) == null ? '' : __t) +\n'"), k = i + b.length, b
                }), n += "';\n";
                var q = b.variable;
                q || (n = "with (obj) {\n" + n + "\n}\n"), n = (g ? n.replace(la, "") : n).replace(ma, "$1").replace(na, "$1;"), n = "function(" + (q || "obj") + ") {\n" + (q ? "" : "obj || (obj = {});\n") + "var __t, __p = ''" + (f ? ", __e = _.escape" : "") + (g ? ", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n" : ";\n") + n + "return __p\n}";
                var r = Yh(function () {
                    return Rf(i, p + "return " + n).apply(w, j)
                });
                if (r.source = n, Ee(r))throw r;
                return r
            }

            function tf(a, b, c) {
                var d = a;
                return (a = e(a)) ? (c ? $c(d, b, c) : null == b) ? a.slice(s(a), t(a) + 1) : (b += "", a.slice(f(a, b), g(a, b) + 1)) : a
            }

            function uf(a, b, c) {
                var d = a;
                return a = e(a), a ? (c ? $c(d, b, c) : null == b) ? a.slice(s(a)) : a.slice(f(a, b + "")) : a
            }

            function vf(a, b, c) {
                var d = a;
                return a = e(a), a ? (c ? $c(d, b, c) : null == b) ? a.slice(0, t(a) + 1) : a.slice(0, g(a, b + "") + 1) : a
            }

            function wf(a, b, c) {
                c && $c(a, b, c) && (b = w);
                var d = H, f = I;
                if (null != b)if (He(b)) {
                    var g = "separator" in b ? b.separator : g;
                    d = "length" in b ? +b.length || 0 : d, f = "omission" in b ? e(b.omission) : f
                } else d = +b || 0;
                if (a = e(a), d >= a.length)return a;
                var h = d - f.length;
                if (h < 1)return f;
                var i = a.slice(0, h);
                if (null == g)return i + f;
                if (Oe(g)) {
                    if (a.slice(h).search(g)) {
                        var j, k, l = a.slice(0, h);
                        for (g.global || (g = Vf(g.source, (Da.exec(g) || "") + "g")), g.lastIndex = 0; j = g.exec(l);)k = j.index;
                        i = i.slice(0, null == k ? h : k)
                    }
                } else if (a.indexOf(g, h) != h) {
                    var m = i.lastIndexOf(g);
                    m > -1 && (i = i.slice(0, m))
                }
                return i + f
            }

            function xf(a) {
                return a = e(a), a && qa.test(a) ? a.replace(oa, u) : a
            }

            function yf(a, b, c) {
                return c && $c(a, b, c) && (b = w), a = e(a), a.match(b || Ka) || []
            }

            function zf(a, b, c) {
                return c && $c(a, b, c) && (b = w), o(a) ? Cf(a) : ub(a, b)
            }

            function Af(a) {
                return function () {
                    return a
                }
            }

            function Bf(a) {
                return a
            }

            function Cf(a) {
                return Nb(vb(a, !0))
            }

            function Df(a, b) {
                return Ob(a, vb(b, !0))
            }

            function Ef(a, b, c) {
                if (null == c) {
                    var d = He(b), e = d ? Nh(b) : w, f = e && e.length ? Hb(b, e) : w;
                    (f ? f.length : d) || (f = !1, c = b, b = a, a = this)
                }
                f || (f = Hb(b, Nh(b)));
                var g = !0, h = -1, i = Ge(a), j = f.length;
                c === !1 ? g = !1 : He(c) && "chain" in c && (g = c.chain);
                for (; ++h < j;) {
                    var k = f[h], l = b[k];
                    a[k] = l, i && (a.prototype[k] = function (b) {
                        return function () {
                            var c = this.__chain__;
                            if (g || c) {
                                var d = a(this.__wrapped__), e = d.__actions__ = cb(this.__actions__);
                                return e.push({func: b, args: arguments, thisArg: a}), d.__chain__ = c, d
                            }
                            return b.apply(a, jb([this.value()], arguments))
                        }
                    }(l))
                }
                return a
            }

            function Ff() {
                return _a._ = dg, this
            }

            function Gf() {
            }

            function Hf(a) {
                return _c(a) ? Rb(a) : Sb(a)
            }

            function If(a) {
                return function (b) {
                    return Ib(a, ld(b), b + "")
                }
            }

            function Jf(a, b, c) {
                c && $c(a, b, c) && (b = c = w), a = +a || 0, c = null == c ? 1 : +c || 0, null == b ? (b = a, a = 0) : b = +b || 0;
                for (var d = -1, e = vg(pg((b - a) / (c || 1)), 0), f = Of(e); ++d < e;)f[d] = a, a += c;
                return f
            }

            function Kf(a, b, c) {
                if (a = rg(a), a < 1 || !tg(a))return [];
                var d = -1, e = Of(wg(a, Cg));
                for (b = fc(b, c, 1); ++d < a;)d < Cg ? e[d] = b(d) : b(d);
                return e
            }

            function Lf(a) {
                var b = ++bg;
                return e(a) + b
            }

            function Mf(a, b) {
                return (+a || 0) + (+b || 0)
            }

            function Nf(a, b, c) {
                return c && $c(a, b, c) && (b = w), b = Oc(b, c, 3), 1 == b.length ? nb(Ch(a) ? a : jd(a), b) : $b(a, b)
            }

            p = p ? ab.defaults(_a.Object(), p, ab.pick(_a, La)) : _a;
            var Of = p.Array, Pf = p.Date, Qf = p.Error, Rf = p.Function, Sf = p.Math, Tf = p.Number, Uf = p.Object, Vf = p.RegExp, Wf = p.String, Xf = p.TypeError, Yf = Of.prototype, Zf = Uf.prototype, $f = Wf.prototype, _f = Rf.prototype.toString, ag = Zf.hasOwnProperty, bg = 0, cg = Zf.toString, dg = _a._, eg = Vf("^" + _f.call(ag).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"), fg = p.ArrayBuffer, gg = p.clearTimeout, hg = p.parseFloat, ig = Sf.pow, jg = Zf.propertyIsEnumerable, kg = Sc(p, "Set"), lg = p.setTimeout, mg = Yf.splice, ng = p.Uint8Array, og = Sc(p, "WeakMap"), pg = Sf.ceil, qg = Sc(Uf, "create"), rg = Sf.floor, sg = Sc(Of, "isArray"), tg = p.isFinite, ug = Sc(Uf, "keys"), vg = Sf.max, wg = Sf.min, xg = Sc(Pf, "now"), yg = p.parseInt, zg = Sf.random, Ag = Tf.NEGATIVE_INFINITY, Bg = Tf.POSITIVE_INFINITY, Cg = 4294967295, Dg = Cg - 1, Eg = Cg >>> 1, Fg = 9007199254740991, Gg = og && new og, Hg = {};
            W.support = {};
            W.templateSettings = {escape: sa, evaluate: ta, interpolate: ua, variable: "", imports: {_: W}};
            var Ig = function () {
                function a() {
                }

                return function (b) {
                    if (He(b)) {
                        a.prototype = b;
                        var c = new a;
                        a.prototype = w
                    }
                    return c || {}
                }
            }(), Jg = lc(Fb), Kg = lc(Gb, !0), Lg = mc(), Mg = mc(!0), Ng = Gg ? function (a, b) {
                return Gg.set(a, b), a
            } : Bf, Og = Gg ? function (a) {
                return Gg.get(a)
            } : Gf, Pg = Rb("length"), Qg = function () {
                var a = 0, b = 0;
                return function (c, d) {
                    var e = oh(), f = K - (e - b);
                    if (b = e, f > 0) {
                        if (++a >= J)return c
                    } else a = 0;
                    return Ng(c, d)
                }
            }(), Rg = qe(function (a, b) {
                return o(a) && Yc(a) ? xb(a, Db(b, !1, !0)) : []
            }), Sg = vc(), Tg = vc(!0), Ug = qe(function (a) {
                for (var b = a.length, d = b, e = Of(l), f = Qc(), g = f === c, h = []; d--;) {
                    var i = a[d] = Yc(i = a[d]) ? i : [];
                    e[d] = g && i.length >= 120 ? oc(d && i) : null
                }
                var j = a[0], k = -1, l = j ? j.length : 0, m = e[0];
                a:for (; ++k < l;)if (i = j[k], (m ? Za(m, i) : f(h, i, 0)) < 0) {
                    for (var d = b; --d;) {
                        var n = e[d];
                        if ((n ? Za(n, i) : f(a[d], i, 0)) < 0)continue a
                    }
                    m && m.push(i), h.push(i)
                }
                return h
            }), Vg = qe(function (b, c) {
                c = Db(c);
                var d = sb(b, c);
                return Tb(b, c.sort(a)), d
            }), Wg = Jc(), Xg = Jc(!0), Yg = qe(function (a) {
                return _b(Db(a, !1, !0))
            }), Zg = qe(function (a, b) {
                return Yc(a) ? xb(a, b) : []
            }), $g = qe(Kd), _g = qe(function (a) {
                var b = a.length, c = b > 2 ? a[b - 2] : w, d = b > 1 ? a[b - 1] : w;
                return b > 2 && "function" == typeof c ? b -= 2 : (c = b > 1 && "function" == typeof d ? (--b, d) : w, d = w), a.length = b, Ld(a, c, d)
            }), ah = qe(function (a) {
                return a = Db(a), this.thru(function (b) {
                    return bb(Ch(b) ? b : [kd(b)], a)
                })
            }), bh = qe(function (a, b) {
                return sb(a, Db(b))
            }), ch = jc(function (a, b, c) {
                ag.call(a, c) ? ++a[c] : a[c] = 1
            }), dh = uc(Jg), eh = uc(Kg, !0), fh = yc(db, Jg), gh = yc(eb, Kg), hh = jc(function (a, b, c) {
                ag.call(a, c) ? a[c].push(b) : a[c] = [b]
            }), ih = jc(function (a, b, c) {
                a[c] = b
            }), jh = qe(function (a, b, c) {
                var d = -1, e = "function" == typeof b, f = _c(b), g = Yc(a) ? Of(a.length) : [];
                return Jg(a, function (a) {
                    var h = e ? b : f && null != a ? a[b] : w;
                    g[++d] = h ? h.apply(a, c) : Xc(a, b, c)
                }), g
            }), kh = jc(function (a, b, c) {
                a[c ? 0 : 1].push(b)
            }, function () {
                return [[], []]
            }), lh = Ec(kb, Jg), mh = Ec(lb, Kg), nh = qe(function (a, b) {
                if (null == a)return [];
                var c = b[2];
                return c && $c(b[0], b[1], c) && (b.length = 1), Zb(a, Db(b), [])
            }), oh = xg || function () {
                    return (new Pf).getTime()
                }, ph = qe(function (a, b, c) {
                var d = y;
                if (c.length) {
                    var e = q(c, ph.placeholder);
                    d |= D
                }
                return Kc(a, d, b, c, e)
            }), qh = qe(function (a, b) {
                b = b.length ? Db(b) : Xe(a);
                for (var c = -1, d = b.length; ++c < d;) {
                    var e = b[c];
                    a[e] = Kc(a[e], y, a)
                }
                return a
            }), rh = qe(function (a, b, c) {
                var d = y | z;
                if (c.length) {
                    var e = q(c, rh.placeholder);
                    d |= D
                }
                return Kc(b, d, a, c, e)
            }), sh = rc(B), th = rc(C), uh = qe(function (a, b) {
                return wb(a, 1, b)
            }), vh = qe(function (a, b, c) {
                return wb(a, b, c)
            }), wh = xc(), xh = xc(!0), yh = qe(function (a, b) {
                if (b = Db(b), "function" != typeof a || !fb(b, d))throw new Xf(O);
                var c = b.length;
                return qe(function (d) {
                    for (var e = wg(d.length, c); e--;)d[e] = b[e](d[e]);
                    return a.apply(this, d)
                })
            }), zh = Dc(D), Ah = Dc(E), Bh = qe(function (a, b) {
                return Kc(a, G, w, w, w, Db(b))
            }), Ch = sg || function (a) {
                    return o(a) && bd(a.length) && cg.call(a) == R
                }, Dh = kc(Pb), Eh = kc(function (a, b, c) {
                return c ? qb(a, b, c) : rb(a, b)
            }), Fh = sc(Eh, ob), Gh = sc(Dh, ed), Hh = wc(Fb), Ih = wc(Gb), Jh = zc(Lg), Kh = zc(Mg), Lh = Ac(Fb), Mh = Ac(Gb), Nh = ug ? function (a) {
                var b = null == a ? w : a.constructor;
                return "function" == typeof b && b.prototype === a || "function" != typeof a && Yc(a) ? id(a) : He(a) ? ug(a) : []
            } : id, Oh = Bc(!0), Ph = Bc(), Qh = qe(function (a, b) {
                if (null == a)return {};
                if ("function" != typeof b[0]) {
                    var b = ib(Db(b), Wf);
                    return fd(a, xb(_e(a), b))
                }
                var c = fc(b[0], b[1], 3);
                return gd(a, function (a, b, d) {
                    return !c(a, b, d)
                })
            }), Rh = qe(function (a, b) {
                return null == a ? {} : "function" == typeof b[0] ? gd(a, fc(b[0], b[1], 3)) : fd(a, Db(b))
            }), Sh = pc(function (a, b, c) {
                return b = b.toLowerCase(), a + (c ? b.charAt(0).toUpperCase() + b.slice(1) : b)
            }), Th = pc(function (a, b, c) {
                return a + (c ? "-" : "") + b.toLowerCase()
            }), Uh = Cc(), Vh = Cc(!0), Wh = pc(function (a, b, c) {
                return a + (c ? "_" : "") + b.toLowerCase()
            }), Xh = pc(function (a, b, c) {
                return a + (c ? " " : "") + (b.charAt(0).toUpperCase() + b.slice(1))
            }), Yh = qe(function (a, b) {
                try {
                    return a.apply(w, b)
                } catch (a) {
                    return Ee(a) ? a : new Qf(a)
                }
            }), Zh = qe(function (a, b) {
                return function (c) {
                    return Xc(c, a, b)
                }
            }), $h = qe(function (a, b) {
                return function (c) {
                    return Xc(a, c, b)
                }
            }), _h = Ic("ceil"), ai = Ic("floor"), bi = tc(we, Ag), ci = tc(Se, Bg), di = Ic("round");
            return W.prototype = $.prototype, aa.prototype = Ig($.prototype), aa.prototype.constructor = aa, Pa.prototype = Ig($.prototype), Pa.prototype.constructor = Pa, Ta.prototype.delete = Ua, Ta.prototype.get = Va, Ta.prototype.has = Wa, Ta.prototype.set = Xa, Ya.prototype.push = $a, ne.Cache = Ta, W.after = je, W.ary = ke, W.assign = Eh, W.at = bh, W.before = le, W.bind = ph, W.bindAll = qh, W.bindKey = rh, W.callback = zf, W.chain = Od, W.chunk = nd, W.compact = od, W.constant = Af, W.countBy = ch, W.create = We, W.curry = sh, W.curryRight = th, W.debounce = me, W.defaults = Fh, W.defaultsDeep = Gh, W.defer = uh, W.delay = vh, W.difference = Rg, W.drop = pd, W.dropRight = qd, W.dropRightWhile = rd, W.dropWhile = sd, W.fill = td, W.filter = Yd, W.flatten = vd, W.flattenDeep = wd, W.flow = wh, W.flowRight = xh, W.forEach = fh, W.forEachRight = gh, W.forIn = Jh, W.forInRight = Kh, W.forOwn = Lh, W.forOwnRight = Mh, W.functions = Xe, W.groupBy = hh, W.indexBy = ih, W.initial = yd, W.intersection = Ug, W.invert = $e, W.invoke = jh, W.keys = Nh, W.keysIn = _e, W.map = _d, W.mapKeys = Oh, W.mapValues = Ph, W.matches = Cf, W.matchesProperty = Df, W.memoize = ne, W.merge = Dh, W.method = Zh, W.methodOf = $h, W.mixin = Ef, W.modArgs = yh, W.negate = oe, W.omit = Qh, W.once = pe, W.pairs = af, W.partial = zh, W.partialRight = Ah, W.partition = kh, W.pick = Rh, W.pluck = ae, W.property = Hf, W.propertyOf = If, W.pull = Bd, W.pullAt = Vg, W.range = Jf, W.rearg = Bh, W.reject = be, W.remove = Cd, W.rest = Dd, W.restParam = qe, W.set = cf, W.shuffle = de, W.slice = Ed, W.sortBy = ge, W.sortByAll = nh, W.sortByOrder = he, W.spread = re, W.take = Fd, W.takeRight = Gd, W.takeRightWhile = Hd, W.takeWhile = Id, W.tap = Pd,W.throttle = se,W.thru = Qd,W.times = Kf,W.toArray = Ue,W.toPlainObject = Ve,W.transform = df,W.union = Yg,W.uniq = Jd,W.unzip = Kd,W.unzipWith = Ld,W.values = ef,W.valuesIn = ff,W.where = ie,W.without = Zg,W.wrap = te,W.xor = Md,W.zip = $g,W.zipObject = Nd,W.zipWith = _g,W.backflow = xh,W.collect = _d,W.compose = xh,W.each = fh,W.eachRight = gh,W.extend = Eh,W.iteratee = zf,W.methods = Xe,W.object = Nd,W.select = Yd,W.tail = Dd,W.unique = Jd,Ef(W, W),W.add = Mf,W.attempt = Yh,W.camelCase = Sh,W.capitalize = jf,W.ceil = _h,W.clone = ue,W.cloneDeep = ve,W.deburr = kf,W.endsWith = lf,W.escape = mf,W.escapeRegExp = nf,W.every = Xd,W.find = dh,W.findIndex = Sg,W.findKey = Hh,W.findLast = eh,W.findLastIndex = Tg,W.findLastKey = Ih,W.findWhere = Zd,W.first = ud,W.floor = ai,W.get = Ye,W.gt = we,W.gte = xe,W.has = Ze,W.identity = Bf,W.includes = $d,W.indexOf = xd,W.inRange = gf,W.isArguments = ye,W.isArray = Ch,W.isBoolean = ze,W.isDate = Ae,W.isElement = Be,W.isEmpty = Ce,W.isEqual = De,W.isError = Ee,W.isFinite = Fe,W.isFunction = Ge,W.isMatch = Ie,W.isNaN = Je,W.isNative = Ke,W.isNull = Le,W.isNumber = Me,W.isObject = He,W.isPlainObject = Ne,W.isRegExp = Oe,W.isString = Pe,W.isTypedArray = Qe,W.isUndefined = Re,W.kebabCase = Th,W.last = zd,W.lastIndexOf = Ad,W.lt = Se,W.lte = Te,W.max = bi,W.min = ci,W.noConflict = Ff,W.noop = Gf,W.now = oh,W.pad = of,W.padLeft = Uh,W.padRight = Vh,W.parseInt = pf,W.random = hf,W.reduce = lh,W.reduceRight = mh,W.repeat = qf,W.result = bf,W.round = di,W.runInContext = v,W.size = ee,W.snakeCase = Wh,W.some = fe,W.sortedIndex = Wg,W.sortedLastIndex = Xg,W.startCase = Xh,W.startsWith = rf,W.sum = Nf,W.template = sf,W.trim = tf,W.trimLeft = uf,W.trimRight = vf,W.trunc = wf,W.unescape = xf,W.uniqueId = Lf,W.words = yf,W.all = Xd,W.any = fe,W.contains = $d,W.eq = De,W.detect = dh,W.foldl = lh,W.foldr = mh,W.head = ud,W.include = $d,W.inject = lh,Ef(W, function () {
                var a = {};
                return Fb(W, function (b, c) {
                    W.prototype[c] || (a[c] = b)
                }), a
            }(), !1),W.sample = ce,W.prototype.sample = function (a) {
                return this.__chain__ || null != a ? this.thru(function (b) {
                    return ce(b, a)
                }) : ce(this.value())
            },W.VERSION = x,db(["bind", "bindKey", "curry", "curryRight", "partial", "partialRight"], function (a) {
                W[a].placeholder = W
            }),db(["drop", "take"], function (a, b) {
                Pa.prototype[a] = function (c) {
                    var d = this.__filtered__;
                    if (d && !b)return new Pa(this);
                    c = null == c ? 1 : vg(rg(c) || 0, 0);
                    var e = this.clone();
                    return d ? e.__takeCount__ = wg(e.__takeCount__, c) : e.__views__.push({
                        size: c,
                        type: a + (e.__dir__ < 0 ? "Right" : "")
                    }), e
                }, Pa.prototype[a + "Right"] = function (b) {
                    return this.reverse()[a](b).reverse()
                }
            }),db(["filter", "map", "takeWhile"], function (a, b) {
                var c = b + 1, d = c != N;
                Pa.prototype[a] = function (a, b) {
                    var e = this.clone();
                    return e.__iteratees__.push({
                        iteratee: Oc(a, b, 1),
                        type: c
                    }), e.__filtered__ = e.__filtered__ || d, e
                }
            }),db(["first", "last"], function (a, b) {
                var c = "take" + (b ? "Right" : "");
                Pa.prototype[a] = function () {
                    return this[c](1).value()[0]
                }
            }),db(["initial", "rest"], function (a, b) {
                var c = "drop" + (b ? "" : "Right");
                Pa.prototype[a] = function () {
                    return this.__filtered__ ? new Pa(this) : this[c](1)
                }
            }),db(["pluck", "where"], function (a, b) {
                var c = b ? "filter" : "map", d = b ? Nb : Hf;
                Pa.prototype[a] = function (a) {
                    return this[c](d(a))
                }
            }),Pa.prototype.compact = function () {
                return this.filter(Bf)
            },Pa.prototype.reject = function (a, b) {
                return a = Oc(a, b, 1), this.filter(function (b) {
                    return !a(b)
                })
            },Pa.prototype.slice = function (a, b) {
                a = null == a ? 0 : +a || 0;
                var c = this;
                return c.__filtered__ && (a > 0 || b < 0) ? new Pa(c) : (a < 0 ? c = c.takeRight(-a) : a && (c = c.drop(a)), b !== w && (b = +b || 0, c = b < 0 ? c.dropRight(-b) : c.take(b - a)), c)
            },Pa.prototype.takeRightWhile = function (a, b) {
                return this.reverse().takeWhile(a, b).reverse()
            },Pa.prototype.toArray = function () {
                return this.take(Bg)
            },Fb(Pa.prototype, function (a, b) {
                var c = /^(?:filter|map|reject)|While$/.test(b), d = /^(?:first|last)$/.test(b), e = W[d ? "take" + ("last" == b ? "Right" : "") : b];
                e && (W.prototype[b] = function () {
                    var b = d ? [1] : arguments, f = this.__chain__, g = this.__wrapped__, h = !!this.__actions__.length, i = g instanceof Pa, j = b[0], k = i || Ch(g);
                    k && c && "function" == typeof j && 1 != j.length && (i = k = !1);
                    var l = function (a) {
                        return d && f ? e(a, 1)[0] : e.apply(w, jb([a], b))
                    }, m = {func: Qd, args: [l], thisArg: w}, n = i && !h;
                    if (d && !f)return n ? (g = g.clone(), g.__actions__.push(m), a.call(g)) : e.call(w, this.value())[0];
                    if (!d && k) {
                        g = n ? g : new Pa(this);
                        var o = a.apply(g, b);
                        return o.__actions__.push(m), new aa(o, f)
                    }
                    return this.thru(l)
                })
            }),db(["join", "pop", "push", "replace", "shift", "sort", "splice", "split", "unshift"], function (a) {
                var b = (/^(?:replace|split)$/.test(a) ? $f : Yf)[a], c = /^(?:push|sort|unshift)$/.test(a) ? "tap" : "thru", d = /^(?:join|pop|replace|shift)$/.test(a);
                W.prototype[a] = function () {
                    var a = arguments;
                    return d && !this.__chain__ ? b.apply(this.value(), a) : this[c](function (c) {
                        return b.apply(c, a)
                    })
                }
            }),Fb(Pa.prototype, function (a, b) {
                var c = W[b];
                if (c) {
                    var d = c.name + "", e = Hg[d] || (Hg[d] = []);
                    e.push({name: b, func: c})
                }
            }),Hg[Fc(w, z).name] = [{
                name: "wrapper",
                func: w
            }],Pa.prototype.clone = Qa,Pa.prototype.reverse = Ra,Pa.prototype.value = Sa,W.prototype.chain = Rd,W.prototype.commit = Sd,W.prototype.concat = ah,W.prototype.plant = Td,W.prototype.reverse = Ud,W.prototype.toString = Vd,W.prototype.run = W.prototype.toJSON = W.prototype.valueOf = W.prototype.value = Wd,W.prototype.collect = W.prototype.map,W.prototype.head = W.prototype.first,W.prototype.select = W.prototype.filter,W.prototype.tail = W.prototype.rest,W
        }

        var w, x = "3.10.1", y = 1, z = 2, A = 4, B = 8, C = 16, D = 32, E = 64, F = 128, G = 256, H = 30, I = "...", J = 150, K = 16, L = 200, M = 1, N = 2, O = "Expected a function", P = "__lodash_placeholder__", Q = "[object Arguments]", R = "[object Array]", S = "[object Boolean]", T = "[object Date]", U = "[object Error]", V = "[object Function]", W = "[object Map]", X = "[object Number]", Y = "[object Object]", Z = "[object RegExp]", $ = "[object Set]", _ = "[object String]", aa = "[object WeakMap]", ba = "[object ArrayBuffer]", ca = "[object Float32Array]", da = "[object Float64Array]", ea = "[object Int8Array]", fa = "[object Int16Array]", ga = "[object Int32Array]", ha = "[object Uint8Array]", ia = "[object Uint8ClampedArray]", ja = "[object Uint16Array]", ka = "[object Uint32Array]", la = /\b__p \+= '';/g, ma = /\b(__p \+=) '' \+/g, na = /(__e\(.*?\)|\b__t\)) \+\n'';/g, oa = /&(?:amp|lt|gt|quot|#39|#96);/g, pa = /[&<>"'`]/g, qa = RegExp(oa.source), ra = RegExp(pa.source), sa = /<%-([\s\S]+?)%>/g, ta = /<%([\s\S]+?)%>/g, ua = /<%=([\s\S]+?)%>/g, va = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/, wa = /^\w*$/, xa = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g, ya = /^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g, za = RegExp(ya.source), Aa = /[\u0300-\u036f\ufe20-\ufe23]/g, Ba = /\\(\\)?/g, Ca = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g, Da = /\w*$/, Ea = /^0[xX]/, Fa = /^\[object .+?Constructor\]$/, Ga = /^\d+$/, Ha = /[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g, Ia = /($^)/, Ja = /['\n\r\u2028\u2029\\]/g, Ka = function () {
            var a = "[A-Z\\xc0-\\xd6\\xd8-\\xde]", b = "[a-z\\xdf-\\xf6\\xf8-\\xff]+";
            return RegExp(a + "+(?=" + a + b + ")|" + a + "?" + b + "|" + a + "+|[0-9]+", "g")
        }(), La = ["Array", "ArrayBuffer", "Date", "Error", "Float32Array", "Float64Array", "Function", "Int8Array", "Int16Array", "Int32Array", "Math", "Number", "Object", "RegExp", "Set", "String", "_", "clearTimeout", "isFinite", "parseFloat", "parseInt", "setTimeout", "TypeError", "Uint8Array", "Uint8ClampedArray", "Uint16Array", "Uint32Array", "WeakMap"], Ma = -1, Na = {};
        Na[ca] = Na[da] = Na[ea] = Na[fa] = Na[ga] = Na[ha] = Na[ia] = Na[ja] = Na[ka] = !0, Na[Q] = Na[R] = Na[ba] = Na[S] = Na[T] = Na[U] = Na[V] = Na[W] = Na[X] = Na[Y] = Na[Z] = Na[$] = Na[_] = Na[aa] = !1;
        var Oa = {};
        Oa[Q] = Oa[R] = Oa[ba] = Oa[S] = Oa[T] = Oa[ca] = Oa[da] = Oa[ea] = Oa[fa] = Oa[ga] = Oa[X] = Oa[Y] = Oa[Z] = Oa[_] = Oa[ha] = Oa[ia] = Oa[ja] = Oa[ka] = !0, Oa[U] = Oa[V] = Oa[W] = Oa[$] = Oa[aa] = !1;
        var Pa = {
            "": "A",
            "": "A",
            "": "A",
            "": "A",
            "": "A",
            "": "A",
            "": "a",
            "": "a",
            "": "a",
            "": "a",
            "": "a",
            "": "a",
            "": "C",
            "": "c",
            "": "D",
            "": "d",
            "": "E",
            "": "E",
            "": "E",
            "": "E",
            "": "e",
            "": "e",
            "": "e",
            "": "e",
            "": "I",
            "": "I",
            "": "I",
            "": "I",
            "": "i",
            "": "i",
            "": "i",
            "": "i",
            "": "N",
            "": "n",
            "": "O",
            "": "O",
            "": "O",
            "": "O",
            "": "O",
            "": "O",
            "": "o",
            "": "o",
            "": "o",
            "": "o",
            "": "o",
            "": "o",
            "": "U",
            "": "U",
            "": "U",
            "": "U",
            "": "u",
            "": "u",
            "": "u",
            "": "u",
            "": "Y",
            "": "y",
            "": "y",
            "": "Ae",
            "": "ae",
            "": "Th",
            "": "th",
            "": "ss"
        }, Qa = {"&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#39;", "`": "&#96;"}, Ra = {
            "&amp;": "&",
            "&lt;": "<",
            "&gt;": ">",
            "&quot;": '"',
            "&#39;": "'",
            "&#96;": "`"
        }, Sa = {function: !0, object: !0}, Ta = {
            0: "x30",
            1: "x31",
            2: "x32",
            3: "x33",
            4: "x34",
            5: "x35",
            6: "x36",
            7: "x37",
            8: "x38",
            9: "x39",
            A: "x41",
            B: "x42",
            C: "x43",
            D: "x44",
            E: "x45",
            F: "x46",
            a: "x61",
            b: "x62",
            c: "x63",
            d: "x64",
            e: "x65",
            f: "x66",
            n: "x6e",
            r: "x72",
            t: "x74",
            u: "x75",
            v: "x76",
            x: "x78"
        }, Ua = {
            "\\": "\\",
            "'": "'",
            "\n": "n",
            "\r": "r",
            "\u2028": "u2028",
            "\u2029": "u2029"
        }, Va = Sa[typeof exports] && exports && !exports.nodeType && exports, Wa = Sa[typeof module] && module && !module.nodeType && module, Xa = Va && Wa && "object" == typeof global && global && global.Object && global, Ya = Sa[typeof self] && self && self.Object && self, Za = Sa[typeof window] && window && window.Object && window, $a = Wa && Wa.exports === Va && Va, _a = Xa || Za !== (this && this.window) && Za || Ya || this, ab = v();
        "function" == typeof define && "object" == typeof define.amd && define.amd ? (_a._ = ab, define(function () {
            return ab
        })) : Va && Wa ? $a ? (Wa.exports = ab)._ = ab : Va._ = ab : _a._ = ab
    }.call(this), function (a, b) {
        "object" == typeof module && "object" == typeof module.exports ? module.exports = a.document ? b(a, !0) : function (a) {
            if (!a.document)throw new Error("jQuery requires a window with a document");
            return b(a)
        } : b(a)
    }("undefined" != typeof window ? window : this, function (a, b) {
        function c(a) {
            var b = "length" in a && a.length, c = _.type(a);
            return "function" !== c && !_.isWindow(a) && (!(1 !== a.nodeType || !b) || ("array" === c || 0 === b || "number" == typeof b && b > 0 && b - 1 in a))
        }

        function d(a, b, c) {
            if (_.isFunction(b))return _.grep(a, function (a, d) {
                return !!b.call(a, d, a) !== c
            });
            if (b.nodeType)return _.grep(a, function (a) {
                return a === b !== c
            });
            if ("string" == typeof b) {
                if (ha.test(b))return _.filter(b, a, c);
                b = _.filter(b, a)
            }
            return _.grep(a, function (a) {
                return U.call(b, a) >= 0 !== c
            })
        }

        function e(a, b) {
            for (; (a = a[b]) && 1 !== a.nodeType;);
            return a
        }

        function f(a) {
            var b = oa[a] = {};
            return _.each(a.match(na) || [], function (a, c) {
                b[c] = !0
            }), b
        }

        function g() {
            Z.removeEventListener("DOMContentLoaded", g, !1), a.removeEventListener("load", g, !1), _.ready()
        }

        function h() {
            Object.defineProperty(this.cache = {}, 0, {
                get: function () {
                    return {}
                }
            }), this.expando = _.expando + h.uid++
        }

        function i(a, b, c) {
            var d;
            if (void 0 === c && 1 === a.nodeType)if (d = "data-" + b.replace(ua, "-$1").toLowerCase(), c = a.getAttribute(d), "string" == typeof c) {
                try {
                    c = "true" === c || "false" !== c && ("null" === c ? null : +c + "" === c ? +c : ta.test(c) ? _.parseJSON(c) : c)
                } catch (a) {
                }
                sa.set(a, b, c)
            } else c = void 0;
            return c
        }

        function j() {
            return !0
        }

        function k() {
            return !1
        }

        function l() {
            try {
                return Z.activeElement
            } catch (a) {
            }
        }

        function m(a, b) {
            return _.nodeName(a, "table") && _.nodeName(11 !== b.nodeType ? b : b.firstChild, "tr") ? a.getElementsByTagName("tbody")[0] || a.appendChild(a.ownerDocument.createElement("tbody")) : a
        }

        function n(a) {
            return a.type = (null !== a.getAttribute("type")) + "/" + a.type, a
        }

        function o(a) {
            var b = Ka.exec(a.type);
            return b ? a.type = b[1] : a.removeAttribute("type"), a
        }

        function p(a, b) {
            for (var c = 0, d = a.length; c < d; c++)ra.set(a[c], "globalEval", !b || ra.get(b[c], "globalEval"))
        }

        function q(a, b) {
            var c, d, e, f, g, h, i, j;
            if (1 === b.nodeType) {
                if (ra.hasData(a) && (f = ra.access(a), g = ra.set(b, f), j = f.events)) {
                    delete g.handle, g.events = {};
                    for (e in j)for (c = 0, d = j[e].length; c < d; c++)_.event.add(b, e, j[e][c])
                }
                sa.hasData(a) && (h = sa.access(a), i = _.extend({}, h), sa.set(b, i))
            }
        }

        function r(a, b) {
            var c = a.getElementsByTagName ? a.getElementsByTagName(b || "*") : a.querySelectorAll ? a.querySelectorAll(b || "*") : [];
            return void 0 === b || b && _.nodeName(a, b) ? _.merge([a], c) : c
        }

        function s(a, b) {
            var c = b.nodeName.toLowerCase();
            "input" === c && ya.test(a.type) ? b.checked = a.checked : "input" !== c && "textarea" !== c || (b.defaultValue = a.defaultValue)
        }

        function t(b, c) {
            var d, e = _(c.createElement(b)).appendTo(c.body), f = a.getDefaultComputedStyle && (d = a.getDefaultComputedStyle(e[0])) ? d.display : _.css(e[0], "display");
            return e.detach(), f
        }

        function u(a) {
            var b = Z, c = Oa[a];
            return c || (c = t(a, b), "none" !== c && c || (Na = (Na || _("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement), b = Na[0].contentDocument, b.write(), b.close(), c = t(a, b), Na.detach()), Oa[a] = c), c
        }

        function v(a, b, c) {
            var d, e, f, g, h = a.style;
            return c = c || Ra(a), c && (g = c.getPropertyValue(b) || c[b]), c && ("" !== g || _.contains(a.ownerDocument, a) || (g = _.style(a, b)), Qa.test(g) && Pa.test(b) && (d = h.width, e = h.minWidth, f = h.maxWidth, h.minWidth = h.maxWidth = h.width = g, g = c.width, h.width = d, h.minWidth = e, h.maxWidth = f)), void 0 !== g ? g + "" : g
        }

        function w(a, b) {
            return {
                get: function () {
                    return a() ? void delete this.get : (this.get = b).apply(this, arguments)
                }
            }
        }

        function x(a, b) {
            if (b in a)return b;
            for (var c = b[0].toUpperCase() + b.slice(1), d = b, e = Xa.length; e--;)if (b = Xa[e] + c, b in a)return b;
            return d
        }

        function y(a, b, c) {
            var d = Ta.exec(b);
            return d ? Math.max(0, d[1] - (c || 0)) + (d[2] || "px") : b
        }

        function z(a, b, c, d, e) {
            for (var f = c === (d ? "border" : "content") ? 4 : "width" === b ? 1 : 0, g = 0; f < 4; f += 2)"margin" === c && (g += _.css(a, c + wa[f], !0, e)), d ? ("content" === c && (g -= _.css(a, "padding" + wa[f], !0, e)), "margin" !== c && (g -= _.css(a, "border" + wa[f] + "Width", !0, e))) : (g += _.css(a, "padding" + wa[f], !0, e), "padding" !== c && (g += _.css(a, "border" + wa[f] + "Width", !0, e)));
            return g
        }

        function A(a, b, c) {
            var d = !0, e = "width" === b ? a.offsetWidth : a.offsetHeight, f = Ra(a), g = "border-box" === _.css(a, "boxSizing", !1, f);
            if (e <= 0 || null == e) {
                if (e = v(a, b, f), (e < 0 || null == e) && (e = a.style[b]), Qa.test(e))return e;
                d = g && (Y.boxSizingReliable() || e === a.style[b]), e = parseFloat(e) || 0
            }
            return e + z(a, b, c || (g ? "border" : "content"), d, f) + "px"
        }

        function B(a, b) {
            for (var c, d, e, f = [], g = 0, h = a.length; g < h; g++)d = a[g], d.style && (f[g] = ra.get(d, "olddisplay"), c = d.style.display, b ? (f[g] || "none" !== c || (d.style.display = ""), "" === d.style.display && xa(d) && (f[g] = ra.access(d, "olddisplay", u(d.nodeName)))) : (e = xa(d), "none" === c && e || ra.set(d, "olddisplay", e ? c : _.css(d, "display"))));
            for (g = 0; g < h; g++)d = a[g], d.style && (b && "none" !== d.style.display && "" !== d.style.display || (d.style.display = b ? f[g] || "" : "none"));
            return a
        }

        function C(a, b, c, d, e) {
            return new C.prototype.init(a, b, c, d, e)
        }

        function D() {
            return setTimeout(function () {
                Ya = void 0
            }), Ya = _.now()
        }

        function E(a, b) {
            var c, d = 0, e = {height: a};
            for (b = b ? 1 : 0; d < 4; d += 2 - b)c = wa[d], e["margin" + c] = e["padding" + c] = a;
            return b && (e.opacity = e.width = a), e
        }

        function F(a, b, c) {
            for (var d, e = (cb[b] || []).concat(cb["*"]), f = 0, g = e.length; f < g; f++)if (d = e[f].call(c, b, a))return d
        }

        function G(a, b, c) {
            var d, e, f, g, h, i, j, k, l = this, m = {}, n = a.style, o = a.nodeType && xa(a), p = ra.get(a, "fxshow");
            c.queue || (h = _._queueHooks(a, "fx"), null == h.unqueued && (h.unqueued = 0, i = h.empty.fire, h.empty.fire = function () {
                h.unqueued || i()
            }), h.unqueued++, l.always(function () {
                l.always(function () {
                    h.unqueued--, _.queue(a, "fx").length || h.empty.fire()
                })
            })), 1 === a.nodeType && ("height" in b || "width" in b) && (c.overflow = [n.overflow, n.overflowX, n.overflowY], j = _.css(a, "display"), k = "none" === j ? ra.get(a, "olddisplay") || u(a.nodeName) : j, "inline" === k && "none" === _.css(a, "float") && (n.display = "inline-block")), c.overflow && (n.overflow = "hidden", l.always(function () {
                n.overflow = c.overflow[0], n.overflowX = c.overflow[1], n.overflowY = c.overflow[2]
            }));
            for (d in b)if (e = b[d], $a.exec(e)) {
                if (delete b[d], f = f || "toggle" === e, e === (o ? "hide" : "show")) {
                    if ("show" !== e || !p || void 0 === p[d])continue;
                    o = !0
                }
                m[d] = p && p[d] || _.style(a, d)
            } else j = void 0;
            if (_.isEmptyObject(m))"inline" === ("none" === j ? u(a.nodeName) : j) && (n.display = j); else {
                p ? "hidden" in p && (o = p.hidden) : p = ra.access(a, "fxshow", {}), f && (p.hidden = !o), o ? _(a).show() : l.done(function () {
                    _(a).hide()
                }), l.done(function () {
                    var b;
                    ra.remove(a, "fxshow");
                    for (b in m)_.style(a, b, m[b])
                });
                for (d in m)g = F(o ? p[d] : 0, d, l), d in p || (p[d] = g.start, o && (g.end = g.start, g.start = "width" === d || "height" === d ? 1 : 0))
            }
        }

        function H(a, b) {
            var c, d, e, f, g;
            for (c in a)if (d = _.camelCase(c), e = b[d], f = a[c], _.isArray(f) && (e = f[1], f = a[c] = f[0]), c !== d && (a[d] = f, delete a[c]), g = _.cssHooks[d], g && "expand" in g) {
                f = g.expand(f), delete a[d];
                for (c in f)c in a || (a[c] = f[c], b[c] = e)
            } else b[d] = e
        }

        function I(a, b, c) {
            var d, e, f = 0, g = bb.length, h = _.Deferred().always(function () {
                delete i.elem
            }), i = function () {
                if (e)return !1;
                for (var b = Ya || D(), c = Math.max(0, j.startTime + j.duration - b), d = c / j.duration || 0, f = 1 - d, g = 0, i = j.tweens.length; g < i; g++)j.tweens[g].run(f);
                return h.notifyWith(a, [j, f, c]), f < 1 && i ? c : (h.resolveWith(a, [j]), !1)
            }, j = h.promise({
                elem: a,
                props: _.extend({}, b),
                opts: _.extend(!0, {specialEasing: {}}, c),
                originalProperties: b,
                originalOptions: c,
                startTime: Ya || D(),
                duration: c.duration,
                tweens: [],
                createTween: function (b, c) {
                    var d = _.Tween(a, j.opts, b, c, j.opts.specialEasing[b] || j.opts.easing);
                    return j.tweens.push(d), d
                },
                stop: function (b) {
                    var c = 0, d = b ? j.tweens.length : 0;
                    if (e)return this;
                    for (e = !0; c < d; c++)j.tweens[c].run(1);
                    return b ? h.resolveWith(a, [j, b]) : h.rejectWith(a, [j, b]), this
                }
            }), k = j.props;
            for (H(k, j.opts.specialEasing); f < g; f++)if (d = bb[f].call(j, a, k, j.opts))return d;
            return _.map(k, F, j), _.isFunction(j.opts.start) && j.opts.start.call(a, j), _.fx.timer(_.extend(i, {
                elem: a,
                anim: j,
                queue: j.opts.queue
            })), j.progress(j.opts.progress).done(j.opts.done, j.opts.complete).fail(j.opts.fail).always(j.opts.always)
        }

        function J(a) {
            return function (b, c) {
                "string" != typeof b && (c = b, b = "*");
                var d, e = 0, f = b.toLowerCase().match(na) || [];
                if (_.isFunction(c))for (; d = f[e++];)"+" === d[0] ? (d = d.slice(1) || "*", (a[d] = a[d] || []).unshift(c)) : (a[d] = a[d] || []).push(c)
            }
        }

        function K(a, b, c, d) {
            function e(h) {
                var i;
                return f[h] = !0, _.each(a[h] || [], function (a, h) {
                    var j = h(b, c, d);
                    return "string" != typeof j || g || f[j] ? g ? !(i = j) : void 0 : (b.dataTypes.unshift(j), e(j), !1)
                }), i
            }

            var f = {}, g = a === tb;
            return e(b.dataTypes[0]) || !f["*"] && e("*")
        }

        function L(a, b) {
            var c, d, e = _.ajaxSettings.flatOptions || {};
            for (c in b)void 0 !== b[c] && ((e[c] ? a : d || (d = {}))[c] = b[c]);
            return d && _.extend(!0, a, d), a
        }

        function M(a, b, c) {
            for (var d, e, f, g, h = a.contents, i = a.dataTypes; "*" === i[0];)i.shift(), void 0 === d && (d = a.mimeType || b.getResponseHeader("Content-Type"));
            if (d)for (e in h)if (h[e] && h[e].test(d)) {
                i.unshift(e);
                break
            }
            if (i[0] in c)f = i[0]; else {
                for (e in c) {
                    if (!i[0] || a.converters[e + " " + i[0]]) {
                        f = e;
                        break
                    }
                    g || (g = e)
                }
                f = f || g
            }
            if (f)return f !== i[0] && i.unshift(f), c[f]
        }

        function N(a, b, c, d) {
            var e, f, g, h, i, j = {}, k = a.dataTypes.slice();
            if (k[1])for (g in a.converters)j[g.toLowerCase()] = a.converters[g];
            for (f = k.shift(); f;)if (a.responseFields[f] && (c[a.responseFields[f]] = b), !i && d && a.dataFilter && (b = a.dataFilter(b, a.dataType)), i = f, f = k.shift())if ("*" === f)f = i; else if ("*" !== i && i !== f) {
                if (g = j[i + " " + f] || j["* " + f], !g)for (e in j)if (h = e.split(" "), h[1] === f && (g = j[i + " " + h[0]] || j["* " + h[0]])) {
                    g === !0 ? g = j[e] : j[e] !== !0 && (f = h[0], k.unshift(h[1]));
                    break
                }
                if (g !== !0)if (g && a.throws)b = g(b); else try {
                    b = g(b)
                } catch (a) {
                    return {state: "parsererror", error: g ? a : "No conversion from " + i + " to " + f}
                }
            }
            return {state: "success", data: b}
        }

        function O(a, b, c, d) {
            var e;
            if (_.isArray(b))_.each(b, function (b, e) {
                c || yb.test(a) ? d(a, e) : O(a + "[" + ("object" == typeof e ? b : "") + "]", e, c, d)
            }); else if (c || "object" !== _.type(b))d(a, b); else for (e in b)O(a + "[" + e + "]", b[e], c, d)
        }

        function P(a) {
            return _.isWindow(a) ? a : 9 === a.nodeType && a.defaultView
        }

        var Q = [], R = Q.slice, S = Q.concat, T = Q.push, U = Q.indexOf, V = {}, W = V.toString, X = V.hasOwnProperty, Y = {}, Z = a.document, $ = "2.1.4", _ = function (a, b) {
            return new _.fn.init(a, b)
        }, aa = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, ba = /^-ms-/, ca = /-([\da-z])/gi, da = function (a, b) {
            return b.toUpperCase()
        };
        _.fn = _.prototype = {
            jquery: $, constructor: _, selector: "", length: 0, toArray: function () {
                return R.call(this)
            }, get: function (a) {
                return null != a ? a < 0 ? this[a + this.length] : this[a] : R.call(this)
            }, pushStack: function (a) {
                var b = _.merge(this.constructor(), a);
                return b.prevObject = this, b.context = this.context, b
            }, each: function (a, b) {
                return _.each(this, a, b)
            }, map: function (a) {
                return this.pushStack(_.map(this, function (b, c) {
                    return a.call(b, c, b)
                }))
            }, slice: function () {
                return this.pushStack(R.apply(this, arguments))
            }, first: function () {
                return this.eq(0)
            }, last: function () {
                return this.eq(-1)
            }, eq: function (a) {
                var b = this.length, c = +a + (a < 0 ? b : 0);
                return this.pushStack(c >= 0 && c < b ? [this[c]] : [])
            }, end: function () {
                return this.prevObject || this.constructor(null)
            }, push: T, sort: Q.sort, splice: Q.splice
        }, _.extend = _.fn.extend = function () {
            var a, b, c, d, e, f, g = arguments[0] || {}, h = 1, i = arguments.length, j = !1;
            for ("boolean" == typeof g && (j = g, g = arguments[h] || {}, h++), "object" == typeof g || _.isFunction(g) || (g = {}), h === i && (g = this, h--); h < i; h++)if (null != (a = arguments[h]))for (b in a)c = g[b], d = a[b], g !== d && (j && d && (_.isPlainObject(d) || (e = _.isArray(d))) ? (e ? (e = !1, f = c && _.isArray(c) ? c : []) : f = c && _.isPlainObject(c) ? c : {}, g[b] = _.extend(j, f, d)) : void 0 !== d && (g[b] = d));
            return g
        }, _.extend({
            expando: "jQuery" + ($ + Math.random()).replace(/\D/g, ""), isReady: !0, error: function (a) {
                throw new Error(a)
            }, noop: function () {
            }, isFunction: function (a) {
                return "function" === _.type(a)
            }, isArray: Array.isArray, isWindow: function (a) {
                return null != a && a === a.window
            }, isNumeric: function (a) {
                return !_.isArray(a) && a - parseFloat(a) + 1 >= 0
            }, isPlainObject: function (a) {
                return "object" === _.type(a) && !a.nodeType && !_.isWindow(a) && !(a.constructor && !X.call(a.constructor.prototype, "isPrototypeOf"))
            }, isEmptyObject: function (a) {
                var b;
                for (b in a)return !1;
                return !0
            }, type: function (a) {
                return null == a ? a + "" : "object" == typeof a || "function" == typeof a ? V[W.call(a)] || "object" : typeof a
            }, globalEval: function (a) {
                var b, c = eval;
                a = _.trim(a), a && (1 === a.indexOf("use strict") ? (b = Z.createElement("script"), b.text = a, Z.head.appendChild(b).parentNode.removeChild(b)) : c(a))
            }, camelCase: function (a) {
                return a.replace(ba, "ms-").replace(ca, da)
            }, nodeName: function (a, b) {
                return a.nodeName && a.nodeName.toLowerCase() === b.toLowerCase()
            }, each: function (a, b, d) {
                var e, f = 0, g = a.length, h = c(a);
                if (d) {
                    if (h)for (; f < g && (e = b.apply(a[f], d), e !== !1); f++); else for (f in a)if (e = b.apply(a[f], d), e === !1)break
                } else if (h)for (; f < g && (e = b.call(a[f], f, a[f]),
                e !== !1); f++); else for (f in a)if (e = b.call(a[f], f, a[f]), e === !1)break;
                return a
            }, trim: function (a) {
                return null == a ? "" : (a + "").replace(aa, "")
            }, makeArray: function (a, b) {
                var d = b || [];
                return null != a && (c(Object(a)) ? _.merge(d, "string" == typeof a ? [a] : a) : T.call(d, a)), d
            }, inArray: function (a, b, c) {
                return null == b ? -1 : U.call(b, a, c)
            }, merge: function (a, b) {
                for (var c = +b.length, d = 0, e = a.length; d < c; d++)a[e++] = b[d];
                return a.length = e, a
            }, grep: function (a, b, c) {
                for (var d, e = [], f = 0, g = a.length, h = !c; f < g; f++)d = !b(a[f], f), d !== h && e.push(a[f]);
                return e
            }, map: function (a, b, d) {
                var e, f = 0, g = a.length, h = c(a), i = [];
                if (h)for (; f < g; f++)e = b(a[f], f, d), null != e && i.push(e); else for (f in a)e = b(a[f], f, d), null != e && i.push(e);
                return S.apply([], i)
            }, guid: 1, proxy: function (a, b) {
                var c, d, e;
                if ("string" == typeof b && (c = a[b], b = a, a = c), _.isFunction(a))return d = R.call(arguments, 2), e = function () {
                    return a.apply(b || this, d.concat(R.call(arguments)))
                }, e.guid = a.guid = a.guid || _.guid++, e
            }, now: Date.now, support: Y
        }), _.each("Boolean Number String Function Array Date RegExp Object Error".split(" "), function (a, b) {
            V["[object " + b + "]"] = b.toLowerCase()
        });
        var ea = function (a) {
            function b(a, b, c, d) {
                var e, f, g, h, i, j, l, n, o, p;
                if ((b ? b.ownerDocument || b : O) !== G && F(b), b = b || G, c = c || [], h = b.nodeType, "string" != typeof a || !a || 1 !== h && 9 !== h && 11 !== h)return c;
                if (!d && I) {
                    if (11 !== h && (e = sa.exec(a)))if (g = e[1]) {
                        if (9 === h) {
                            if (f = b.getElementById(g), !f || !f.parentNode)return c;
                            if (f.id === g)return c.push(f), c
                        } else if (b.ownerDocument && (f = b.ownerDocument.getElementById(g)) && M(b, f) && f.id === g)return c.push(f), c
                    } else {
                        if (e[2])return $.apply(c, b.getElementsByTagName(a)), c;
                        if ((g = e[3]) && v.getElementsByClassName)return $.apply(c, b.getElementsByClassName(g)), c
                    }
                    if (v.qsa && (!J || !J.test(a))) {
                        if (n = l = N, o = b, p = 1 !== h && a, 1 === h && "object" !== b.nodeName.toLowerCase()) {
                            for (j = z(a), (l = b.getAttribute("id")) ? n = l.replace(ua, "\\$&") : b.setAttribute("id", n), n = "[id='" + n + "'] ", i = j.length; i--;)j[i] = n + m(j[i]);
                            o = ta.test(a) && k(b.parentNode) || b, p = j.join(",")
                        }
                        if (p)try {
                            return $.apply(c, o.querySelectorAll(p)), c
                        } catch (a) {
                        } finally {
                            l || b.removeAttribute("id")
                        }
                    }
                }
                return B(a.replace(ia, "$1"), b, c, d)
            }

            function c() {
                function a(c, d) {
                    return b.push(c + " ") > w.cacheLength && delete a[b.shift()], a[c + " "] = d
                }

                var b = [];
                return a
            }

            function d(a) {
                return a[N] = !0, a
            }

            function e(a) {
                var b = G.createElement("div");
                try {
                    return !!a(b)
                } catch (a) {
                    return !1
                } finally {
                    b.parentNode && b.parentNode.removeChild(b), b = null
                }
            }

            function f(a, b) {
                for (var c = a.split("|"), d = a.length; d--;)w.attrHandle[c[d]] = b
            }

            function g(a, b) {
                var c = b && a, d = c && 1 === a.nodeType && 1 === b.nodeType && (~b.sourceIndex || V) - (~a.sourceIndex || V);
                if (d)return d;
                if (c)for (; c = c.nextSibling;)if (c === b)return -1;
                return a ? 1 : -1
            }

            function h(a) {
                return function (b) {
                    var c = b.nodeName.toLowerCase();
                    return "input" === c && b.type === a
                }
            }

            function i(a) {
                return function (b) {
                    var c = b.nodeName.toLowerCase();
                    return ("input" === c || "button" === c) && b.type === a
                }
            }

            function j(a) {
                return d(function (b) {
                    return b = +b, d(function (c, d) {
                        for (var e, f = a([], c.length, b), g = f.length; g--;)c[e = f[g]] && (c[e] = !(d[e] = c[e]))
                    })
                })
            }

            function k(a) {
                return a && "undefined" != typeof a.getElementsByTagName && a
            }

            function l() {
            }

            function m(a) {
                for (var b = 0, c = a.length, d = ""; b < c; b++)d += a[b].value;
                return d
            }

            function n(a, b, c) {
                var d = b.dir, e = c && "parentNode" === d, f = Q++;
                return b.first ? function (b, c, f) {
                    for (; b = b[d];)if (1 === b.nodeType || e)return a(b, c, f)
                } : function (b, c, g) {
                    var h, i, j = [P, f];
                    if (g) {
                        for (; b = b[d];)if ((1 === b.nodeType || e) && a(b, c, g))return !0
                    } else for (; b = b[d];)if (1 === b.nodeType || e) {
                        if (i = b[N] || (b[N] = {}), (h = i[d]) && h[0] === P && h[1] === f)return j[2] = h[2];
                        if (i[d] = j, j[2] = a(b, c, g))return !0
                    }
                }
            }

            function o(a) {
                return a.length > 1 ? function (b, c, d) {
                    for (var e = a.length; e--;)if (!a[e](b, c, d))return !1;
                    return !0
                } : a[0]
            }

            function p(a, c, d) {
                for (var e = 0, f = c.length; e < f; e++)b(a, c[e], d);
                return d
            }

            function q(a, b, c, d, e) {
                for (var f, g = [], h = 0, i = a.length, j = null != b; h < i; h++)(f = a[h]) && (c && !c(f, d, e) || (g.push(f), j && b.push(h)));
                return g
            }

            function r(a, b, c, e, f, g) {
                return e && !e[N] && (e = r(e)), f && !f[N] && (f = r(f, g)), d(function (d, g, h, i) {
                    var j, k, l, m = [], n = [], o = g.length, r = d || p(b || "*", h.nodeType ? [h] : h, []), s = !a || !d && b ? r : q(r, m, a, h, i), t = c ? f || (d ? a : o || e) ? [] : g : s;
                    if (c && c(s, t, h, i), e)for (j = q(t, n), e(j, [], h, i), k = j.length; k--;)(l = j[k]) && (t[n[k]] = !(s[n[k]] = l));
                    if (d) {
                        if (f || a) {
                            if (f) {
                                for (j = [], k = t.length; k--;)(l = t[k]) && j.push(s[k] = l);
                                f(null, t = [], j, i)
                            }
                            for (k = t.length; k--;)(l = t[k]) && (j = f ? aa(d, l) : m[k]) > -1 && (d[j] = !(g[j] = l))
                        }
                    } else t = q(t === g ? t.splice(o, t.length) : t), f ? f(null, g, t, i) : $.apply(g, t)
                })
            }

            function s(a) {
                for (var b, c, d, e = a.length, f = w.relative[a[0].type], g = f || w.relative[" "], h = f ? 1 : 0, i = n(function (a) {
                    return a === b
                }, g, !0), j = n(function (a) {
                    return aa(b, a) > -1
                }, g, !0), k = [function (a, c, d) {
                    var e = !f && (d || c !== C) || ((b = c).nodeType ? i(a, c, d) : j(a, c, d));
                    return b = null, e
                }]; h < e; h++)if (c = w.relative[a[h].type])k = [n(o(k), c)]; else {
                    if (c = w.filter[a[h].type].apply(null, a[h].matches), c[N]) {
                        for (d = ++h; d < e && !w.relative[a[d].type]; d++);
                        return r(h > 1 && o(k), h > 1 && m(a.slice(0, h - 1).concat({value: " " === a[h - 2].type ? "*" : ""})).replace(ia, "$1"), c, h < d && s(a.slice(h, d)), d < e && s(a = a.slice(d)), d < e && m(a))
                    }
                    k.push(c)
                }
                return o(k)
            }

            function t(a, c) {
                var e = c.length > 0, f = a.length > 0, g = function (d, g, h, i, j) {
                    var k, l, m, n = 0, o = "0", p = d && [], r = [], s = C, t = d || f && w.find.TAG("*", j), u = P += null == s ? 1 : Math.random() || .1, v = t.length;
                    for (j && (C = g !== G && g); o !== v && null != (k = t[o]); o++) {
                        if (f && k) {
                            for (l = 0; m = a[l++];)if (m(k, g, h)) {
                                i.push(k);
                                break
                            }
                            j && (P = u)
                        }
                        e && ((k = !m && k) && n--, d && p.push(k))
                    }
                    if (n += o, e && o !== n) {
                        for (l = 0; m = c[l++];)m(p, r, g, h);
                        if (d) {
                            if (n > 0)for (; o--;)p[o] || r[o] || (r[o] = Y.call(i));
                            r = q(r)
                        }
                        $.apply(i, r), j && !d && r.length > 0 && n + c.length > 1 && b.uniqueSort(i)
                    }
                    return j && (P = u, C = s), p
                };
                return e ? d(g) : g
            }

            var u, v, w, x, y, z, A, B, C, D, E, F, G, H, I, J, K, L, M, N = "sizzle" + 1 * new Date, O = a.document, P = 0, Q = 0, R = c(), S = c(), T = c(), U = function (a, b) {
                return a === b && (E = !0), 0
            }, V = 1 << 31, W = {}.hasOwnProperty, X = [], Y = X.pop, Z = X.push, $ = X.push, _ = X.slice, aa = function (a, b) {
                for (var c = 0, d = a.length; c < d; c++)if (a[c] === b)return c;
                return -1
            }, ba = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped", ca = "[\\x20\\t\\r\\n\\f]", da = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+", ea = da.replace("w", "w#"), fa = "\\[" + ca + "*(" + da + ")(?:" + ca + "*([*^$|!~]?=)" + ca + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + ea + "))|)" + ca + "*\\]", ga = ":(" + da + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + fa + ")*)|.*)\\)|)", ha = new RegExp(ca + "+", "g"), ia = new RegExp("^" + ca + "+|((?:^|[^\\\\])(?:\\\\.)*)" + ca + "+$", "g"), ja = new RegExp("^" + ca + "*," + ca + "*"), ka = new RegExp("^" + ca + "*([>+~]|" + ca + ")" + ca + "*"), la = new RegExp("=" + ca + "*([^\\]'\"]*?)" + ca + "*\\]", "g"), ma = new RegExp(ga), na = new RegExp("^" + ea + "$"), oa = {
                ID: new RegExp("^#(" + da + ")"),
                CLASS: new RegExp("^\\.(" + da + ")"),
                TAG: new RegExp("^(" + da.replace("w", "w*") + ")"),
                ATTR: new RegExp("^" + fa),
                PSEUDO: new RegExp("^" + ga),
                CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + ca + "*(even|odd|(([+-]|)(\\d*)n|)" + ca + "*(?:([+-]|)" + ca + "*(\\d+)|))" + ca + "*\\)|)", "i"),
                bool: new RegExp("^(?:" + ba + ")$", "i"),
                needsContext: new RegExp("^" + ca + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + ca + "*((?:-\\d)?\\d*)" + ca + "*\\)|)(?=[^-]|$)", "i")
            }, pa = /^(?:input|select|textarea|button)$/i, qa = /^h\d$/i, ra = /^[^{]+\{\s*\[native \w/, sa = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/, ta = /[+~]/, ua = /'|\\/g, va = new RegExp("\\\\([\\da-f]{1,6}" + ca + "?|(" + ca + ")|.)", "ig"), wa = function (a, b, c) {
                var d = "0x" + b - 65536;
                return d !== d || c ? b : d < 0 ? String.fromCharCode(d + 65536) : String.fromCharCode(d >> 10 | 55296, 1023 & d | 56320)
            }, xa = function () {
                F()
            };
            try {
                $.apply(X = _.call(O.childNodes), O.childNodes), X[O.childNodes.length].nodeType
            } catch (a) {
                $ = {
                    apply: X.length ? function (a, b) {
                        Z.apply(a, _.call(b))
                    } : function (a, b) {
                        for (var c = a.length, d = 0; a[c++] = b[d++];);
                        a.length = c - 1
                    }
                }
            }
            v = b.support = {}, y = b.isXML = function (a) {
                var b = a && (a.ownerDocument || a).documentElement;
                return !!b && "HTML" !== b.nodeName
            }, F = b.setDocument = function (a) {
                var b, c, d = a ? a.ownerDocument || a : O;
                return d !== G && 9 === d.nodeType && d.documentElement ? (G = d, H = d.documentElement, c = d.defaultView, c && c !== c.top && (c.addEventListener ? c.addEventListener("unload", xa, !1) : c.attachEvent && c.attachEvent("onunload", xa)), I = !y(d), v.attributes = e(function (a) {
                    return a.className = "i", !a.getAttribute("className")
                }), v.getElementsByTagName = e(function (a) {
                    return a.appendChild(d.createComment("")), !a.getElementsByTagName("*").length
                }), v.getElementsByClassName = ra.test(d.getElementsByClassName), v.getById = e(function (a) {
                    return H.appendChild(a).id = N, !d.getElementsByName || !d.getElementsByName(N).length
                }), v.getById ? (w.find.ID = function (a, b) {
                    if ("undefined" != typeof b.getElementById && I) {
                        var c = b.getElementById(a);
                        return c && c.parentNode ? [c] : []
                    }
                }, w.filter.ID = function (a) {
                    var b = a.replace(va, wa);
                    return function (a) {
                        return a.getAttribute("id") === b
                    }
                }) : (delete w.find.ID, w.filter.ID = function (a) {
                    var b = a.replace(va, wa);
                    return function (a) {
                        var c = "undefined" != typeof a.getAttributeNode && a.getAttributeNode("id");
                        return c && c.value === b
                    }
                }), w.find.TAG = v.getElementsByTagName ? function (a, b) {
                    return "undefined" != typeof b.getElementsByTagName ? b.getElementsByTagName(a) : v.qsa ? b.querySelectorAll(a) : void 0
                } : function (a, b) {
                    var c, d = [], e = 0, f = b.getElementsByTagName(a);
                    if ("*" === a) {
                        for (; c = f[e++];)1 === c.nodeType && d.push(c);
                        return d
                    }
                    return f
                }, w.find.CLASS = v.getElementsByClassName && function (a, b) {
                        if (I)return b.getElementsByClassName(a)
                    }, K = [], J = [], (v.qsa = ra.test(d.querySelectorAll)) && (e(function (a) {
                    H.appendChild(a).innerHTML = "<a id='" + N + "'></a><select id='" + N + "-\f]' msallowcapture=''><option selected=''></option></select>", a.querySelectorAll("[msallowcapture^='']").length && J.push("[*^$]=" + ca + "*(?:''|\"\")"), a.querySelectorAll("[selected]").length || J.push("\\[" + ca + "*(?:value|" + ba + ")"), a.querySelectorAll("[id~=" + N + "-]").length || J.push("~="), a.querySelectorAll(":checked").length || J.push(":checked"), a.querySelectorAll("a#" + N + "+*").length || J.push(".#.+[+~]")
                }), e(function (a) {
                    var b = d.createElement("input");
                    b.setAttribute("type", "hidden"), a.appendChild(b).setAttribute("name", "D"), a.querySelectorAll("[name=d]").length && J.push("name" + ca + "*[*^$|!~]?="), a.querySelectorAll(":enabled").length || J.push(":enabled", ":disabled"), a.querySelectorAll("*,:x"), J.push(",.*:")
                })), (v.matchesSelector = ra.test(L = H.matches || H.webkitMatchesSelector || H.mozMatchesSelector || H.oMatchesSelector || H.msMatchesSelector)) && e(function (a) {
                    v.disconnectedMatch = L.call(a, "div"), L.call(a, "[s!='']:x"), K.push("!=", ga)
                }), J = J.length && new RegExp(J.join("|")), K = K.length && new RegExp(K.join("|")), b = ra.test(H.compareDocumentPosition), M = b || ra.test(H.contains) ? function (a, b) {
                    var c = 9 === a.nodeType ? a.documentElement : a, d = b && b.parentNode;
                    return a === d || !(!d || 1 !== d.nodeType || !(c.contains ? c.contains(d) : a.compareDocumentPosition && 16 & a.compareDocumentPosition(d)))
                } : function (a, b) {
                    if (b)for (; b = b.parentNode;)if (b === a)return !0;
                    return !1
                }, U = b ? function (a, b) {
                    if (a === b)return E = !0, 0;
                    var c = !a.compareDocumentPosition - !b.compareDocumentPosition;
                    return c ? c : (c = (a.ownerDocument || a) === (b.ownerDocument || b) ? a.compareDocumentPosition(b) : 1, 1 & c || !v.sortDetached && b.compareDocumentPosition(a) === c ? a === d || a.ownerDocument === O && M(O, a) ? -1 : b === d || b.ownerDocument === O && M(O, b) ? 1 : D ? aa(D, a) - aa(D, b) : 0 : 4 & c ? -1 : 1)
                } : function (a, b) {
                    if (a === b)return E = !0, 0;
                    var c, e = 0, f = a.parentNode, h = b.parentNode, i = [a], j = [b];
                    if (!f || !h)return a === d ? -1 : b === d ? 1 : f ? -1 : h ? 1 : D ? aa(D, a) - aa(D, b) : 0;
                    if (f === h)return g(a, b);
                    for (c = a; c = c.parentNode;)i.unshift(c);
                    for (c = b; c = c.parentNode;)j.unshift(c);
                    for (; i[e] === j[e];)e++;
                    return e ? g(i[e], j[e]) : i[e] === O ? -1 : j[e] === O ? 1 : 0
                }, d) : G
            }, b.matches = function (a, c) {
                return b(a, null, null, c)
            }, b.matchesSelector = function (a, c) {
                if ((a.ownerDocument || a) !== G && F(a), c = c.replace(la, "='$1']"), v.matchesSelector && I && (!K || !K.test(c)) && (!J || !J.test(c)))try {
                    var d = L.call(a, c);
                    if (d || v.disconnectedMatch || a.document && 11 !== a.document.nodeType)return d
                } catch (a) {
                }
                return b(c, G, null, [a]).length > 0
            }, b.contains = function (a, b) {
                return (a.ownerDocument || a) !== G && F(a), M(a, b)
            }, b.attr = function (a, b) {
                (a.ownerDocument || a) !== G && F(a);
                var c = w.attrHandle[b.toLowerCase()], d = c && W.call(w.attrHandle, b.toLowerCase()) ? c(a, b, !I) : void 0;
                return void 0 !== d ? d : v.attributes || !I ? a.getAttribute(b) : (d = a.getAttributeNode(b)) && d.specified ? d.value : null
            }, b.error = function (a) {
                throw new Error("Syntax error, unrecognized expression: " + a)
            }, b.uniqueSort = function (a) {
                var b, c = [], d = 0, e = 0;
                if (E = !v.detectDuplicates, D = !v.sortStable && a.slice(0), a.sort(U), E) {
                    for (; b = a[e++];)b === a[e] && (d = c.push(e));
                    for (; d--;)a.splice(c[d], 1)
                }
                return D = null, a
            }, x = b.getText = function (a) {
                var b, c = "", d = 0, e = a.nodeType;
                if (e) {
                    if (1 === e || 9 === e || 11 === e) {
                        if ("string" == typeof a.textContent)return a.textContent;
                        for (a = a.firstChild; a; a = a.nextSibling)c += x(a)
                    } else if (3 === e || 4 === e)return a.nodeValue
                } else for (; b = a[d++];)c += x(b);
                return c
            }, w = b.selectors = {
                cacheLength: 50,
                createPseudo: d,
                match: oa,
                attrHandle: {},
                find: {},
                relative: {
                    ">": {dir: "parentNode", first: !0},
                    " ": {dir: "parentNode"},
                    "+": {dir: "previousSibling", first: !0},
                    "~": {dir: "previousSibling"}
                },
                preFilter: {
                    ATTR: function (a) {
                        return a[1] = a[1].replace(va, wa), a[3] = (a[3] || a[4] || a[5] || "").replace(va, wa), "~=" === a[2] && (a[3] = " " + a[3] + " "), a.slice(0, 4)
                    }, CHILD: function (a) {
                        return a[1] = a[1].toLowerCase(), "nth" === a[1].slice(0, 3) ? (a[3] || b.error(a[0]), a[4] = +(a[4] ? a[5] + (a[6] || 1) : 2 * ("even" === a[3] || "odd" === a[3])), a[5] = +(a[7] + a[8] || "odd" === a[3])) : a[3] && b.error(a[0]), a
                    }, PSEUDO: function (a) {
                        var b, c = !a[6] && a[2];
                        return oa.CHILD.test(a[0]) ? null : (a[3] ? a[2] = a[4] || a[5] || "" : c && ma.test(c) && (b = z(c, !0)) && (b = c.indexOf(")", c.length - b) - c.length) && (a[0] = a[0].slice(0, b), a[2] = c.slice(0, b)), a.slice(0, 3))
                    }
                },
                filter: {
                    TAG: function (a) {
                        var b = a.replace(va, wa).toLowerCase();
                        return "*" === a ? function () {
                            return !0
                        } : function (a) {
                            return a.nodeName && a.nodeName.toLowerCase() === b
                        }
                    }, CLASS: function (a) {
                        var b = R[a + " "];
                        return b || (b = new RegExp("(^|" + ca + ")" + a + "(" + ca + "|$)")) && R(a, function (a) {
                                return b.test("string" == typeof a.className && a.className || "undefined" != typeof a.getAttribute && a.getAttribute("class") || "")
                            })
                    }, ATTR: function (a, c, d) {
                        return function (e) {
                            var f = b.attr(e, a);
                            return null == f ? "!=" === c : !c || (f += "", "=" === c ? f === d : "!=" === c ? f !== d : "^=" === c ? d && 0 === f.indexOf(d) : "*=" === c ? d && f.indexOf(d) > -1 : "$=" === c ? d && f.slice(-d.length) === d : "~=" === c ? (" " + f.replace(ha, " ") + " ").indexOf(d) > -1 : "|=" === c && (f === d || f.slice(0, d.length + 1) === d + "-"))
                        }
                    }, CHILD: function (a, b, c, d, e) {
                        var f = "nth" !== a.slice(0, 3), g = "last" !== a.slice(-4), h = "of-type" === b;
                        return 1 === d && 0 === e ? function (a) {
                            return !!a.parentNode
                        } : function (b, c, i) {
                            var j, k, l, m, n, o, p = f !== g ? "nextSibling" : "previousSibling", q = b.parentNode, r = h && b.nodeName.toLowerCase(), s = !i && !h;
                            if (q) {
                                if (f) {
                                    for (; p;) {
                                        for (l = b; l = l[p];)if (h ? l.nodeName.toLowerCase() === r : 1 === l.nodeType)return !1;
                                        o = p = "only" === a && !o && "nextSibling"
                                    }
                                    return !0
                                }
                                if (o = [g ? q.firstChild : q.lastChild], g && s) {
                                    for (k = q[N] || (q[N] = {}), j = k[a] || [], n = j[0] === P && j[1], m = j[0] === P && j[2], l = n && q.childNodes[n]; l = ++n && l && l[p] || (m = n = 0) || o.pop();)if (1 === l.nodeType && ++m && l === b) {
                                        k[a] = [P, n, m];
                                        break
                                    }
                                } else if (s && (j = (b[N] || (b[N] = {}))[a]) && j[0] === P)m = j[1]; else for (; (l = ++n && l && l[p] || (m = n = 0) || o.pop()) && ((h ? l.nodeName.toLowerCase() !== r : 1 !== l.nodeType) || !++m || (s && ((l[N] || (l[N] = {}))[a] = [P, m]), l !== b)););
                                return m -= e, m === d || m % d === 0 && m / d >= 0
                            }
                        }
                    }, PSEUDO: function (a, c) {
                        var e, f = w.pseudos[a] || w.setFilters[a.toLowerCase()] || b.error("unsupported pseudo: " + a);
                        return f[N] ? f(c) : f.length > 1 ? (e = [a, a, "", c], w.setFilters.hasOwnProperty(a.toLowerCase()) ? d(function (a, b) {
                            for (var d, e = f(a, c), g = e.length; g--;)d = aa(a, e[g]), a[d] = !(b[d] = e[g])
                        }) : function (a) {
                            return f(a, 0, e)
                        }) : f
                    }
                },
                pseudos: {
                    not: d(function (a) {
                        var b = [], c = [], e = A(a.replace(ia, "$1"));
                        return e[N] ? d(function (a, b, c, d) {
                            for (var f, g = e(a, null, d, []), h = a.length; h--;)(f = g[h]) && (a[h] = !(b[h] = f))
                        }) : function (a, d, f) {
                            return b[0] = a, e(b, null, f, c), b[0] = null, !c.pop()
                        }
                    }), has: d(function (a) {
                        return function (c) {
                            return b(a, c).length > 0
                        }
                    }), contains: d(function (a) {
                        return a = a.replace(va, wa), function (b) {
                            return (b.textContent || b.innerText || x(b)).indexOf(a) > -1
                        }
                    }), lang: d(function (a) {
                        return na.test(a || "") || b.error("unsupported lang: " + a), a = a.replace(va, wa).toLowerCase(), function (b) {
                            var c;
                            do if (c = I ? b.lang : b.getAttribute("xml:lang") || b.getAttribute("lang"))return c = c.toLowerCase(), c === a || 0 === c.indexOf(a + "-"); while ((b = b.parentNode) && 1 === b.nodeType);
                            return !1
                        }
                    }), target: function (b) {
                        var c = a.location && a.location.hash;
                        return c && c.slice(1) === b.id
                    }, root: function (a) {
                        return a === H
                    }, focus: function (a) {
                        return a === G.activeElement && (!G.hasFocus || G.hasFocus()) && !!(a.type || a.href || ~a.tabIndex)
                    }, enabled: function (a) {
                        return a.disabled === !1
                    }, disabled: function (a) {
                        return a.disabled === !0
                    }, checked: function (a) {
                        var b = a.nodeName.toLowerCase();
                        return "input" === b && !!a.checked || "option" === b && !!a.selected
                    }, selected: function (a) {
                        return a.parentNode && a.parentNode.selectedIndex, a.selected === !0
                    }, empty: function (a) {
                        for (a = a.firstChild; a; a = a.nextSibling)if (a.nodeType < 6)return !1;
                        return !0
                    }, parent: function (a) {
                        return !w.pseudos.empty(a)
                    }, header: function (a) {
                        return qa.test(a.nodeName)
                    }, input: function (a) {
                        return pa.test(a.nodeName)
                    }, button: function (a) {
                        var b = a.nodeName.toLowerCase();
                        return "input" === b && "button" === a.type || "button" === b
                    }, text: function (a) {
                        var b;
                        return "input" === a.nodeName.toLowerCase() && "text" === a.type && (null == (b = a.getAttribute("type")) || "text" === b.toLowerCase())
                    }, first: j(function () {
                        return [0]
                    }), last: j(function (a, b) {
                        return [b - 1]
                    }), eq: j(function (a, b, c) {
                        return [c < 0 ? c + b : c]
                    }), even: j(function (a, b) {
                        for (var c = 0; c < b; c += 2)a.push(c);
                        return a
                    }), odd: j(function (a, b) {
                        for (var c = 1; c < b; c += 2)a.push(c);
                        return a
                    }), lt: j(function (a, b, c) {
                        for (var d = c < 0 ? c + b : c; --d >= 0;)a.push(d);
                        return a
                    }), gt: j(function (a, b, c) {
                        for (var d = c < 0 ? c + b : c; ++d < b;)a.push(d);
                        return a
                    })
                }
            }, w.pseudos.nth = w.pseudos.eq;
            for (u in{radio: !0, checkbox: !0, file: !0, password: !0, image: !0})w.pseudos[u] = h(u);
            for (u in{submit: !0, reset: !0})w.pseudos[u] = i(u);
            return l.prototype = w.filters = w.pseudos, w.setFilters = new l, z = b.tokenize = function (a, c) {
                var d, e, f, g, h, i, j, k = S[a + " "];
                if (k)return c ? 0 : k.slice(0);
                for (h = a, i = [], j = w.preFilter; h;) {
                    d && !(e = ja.exec(h)) || (e && (h = h.slice(e[0].length) || h), i.push(f = [])), d = !1, (e = ka.exec(h)) && (d = e.shift(), f.push({
                        value: d,
                        type: e[0].replace(ia, " ")
                    }), h = h.slice(d.length));
                    for (g in w.filter)!(e = oa[g].exec(h)) || j[g] && !(e = j[g](e)) || (d = e.shift(), f.push({
                        value: d,
                        type: g,
                        matches: e
                    }), h = h.slice(d.length));
                    if (!d)break
                }
                return c ? h.length : h ? b.error(a) : S(a, i).slice(0)
            }, A = b.compile = function (a, b) {
                var c, d = [], e = [], f = T[a + " "];
                if (!f) {
                    for (b || (b = z(a)), c = b.length; c--;)f = s(b[c]), f[N] ? d.push(f) : e.push(f);
                    f = T(a, t(e, d)), f.selector = a
                }
                return f
            }, B = b.select = function (a, b, c, d) {
                var e, f, g, h, i, j = "function" == typeof a && a, l = !d && z(a = j.selector || a);
                if (c = c || [], 1 === l.length) {
                    if (f = l[0] = l[0].slice(0), f.length > 2 && "ID" === (g = f[0]).type && v.getById && 9 === b.nodeType && I && w.relative[f[1].type]) {
                        if (b = (w.find.ID(g.matches[0].replace(va, wa), b) || [])[0], !b)return c;
                        j && (b = b.parentNode), a = a.slice(f.shift().value.length)
                    }
                    for (e = oa.needsContext.test(a) ? 0 : f.length; e-- && (g = f[e], !w.relative[h = g.type]);)if ((i = w.find[h]) && (d = i(g.matches[0].replace(va, wa), ta.test(f[0].type) && k(b.parentNode) || b))) {
                        if (f.splice(e, 1), a = d.length && m(f), !a)return $.apply(c, d), c;
                        break
                    }
                }
                return (j || A(a, l))(d, b, !I, c, ta.test(a) && k(b.parentNode) || b), c
            }, v.sortStable = N.split("").sort(U).join("") === N, v.detectDuplicates = !!E, F(), v.sortDetached = e(function (a) {
                return 1 & a.compareDocumentPosition(G.createElement("div"))
            }), e(function (a) {
                return a.innerHTML = "<a href='#'></a>", "#" === a.firstChild.getAttribute("href")
            }) || f("type|href|height|width", function (a, b, c) {
                if (!c)return a.getAttribute(b, "type" === b.toLowerCase() ? 1 : 2)
            }), v.attributes && e(function (a) {
                return a.innerHTML = "<input/>", a.firstChild.setAttribute("value", ""), "" === a.firstChild.getAttribute("value")
            }) || f("value", function (a, b, c) {
                if (!c && "input" === a.nodeName.toLowerCase())return a.defaultValue
            }), e(function (a) {
                return null == a.getAttribute("disabled")
            }) || f(ba, function (a, b, c) {
                var d;
                if (!c)return a[b] === !0 ? b.toLowerCase() : (d = a.getAttributeNode(b)) && d.specified ? d.value : null
            }), b
        }(a);
        _.find = ea, _.expr = ea.selectors, _.expr[":"] = _.expr.pseudos, _.unique = ea.uniqueSort, _.text = ea.getText, _.isXMLDoc = ea.isXML, _.contains = ea.contains;
        var fa = _.expr.match.needsContext, ga = /^<(\w+)\s*\/?>(?:<\/\1>|)$/, ha = /^.[^:#\[\.,]*$/;
        _.filter = function (a, b, c) {
            var d = b[0];
            return c && (a = ":not(" + a + ")"), 1 === b.length && 1 === d.nodeType ? _.find.matchesSelector(d, a) ? [d] : [] : _.find.matches(a, _.grep(b, function (a) {
                return 1 === a.nodeType
            }))
        }, _.fn.extend({
            find: function (a) {
                var b, c = this.length, d = [], e = this;
                if ("string" != typeof a)return this.pushStack(_(a).filter(function () {
                    for (b = 0; b < c; b++)if (_.contains(e[b], this))return !0
                }));
                for (b = 0; b < c; b++)_.find(a, e[b], d);
                return d = this.pushStack(c > 1 ? _.unique(d) : d), d.selector = this.selector ? this.selector + " " + a : a, d
            }, filter: function (a) {
                return this.pushStack(d(this, a || [], !1))
            }, not: function (a) {
                return this.pushStack(d(this, a || [], !0))
            }, is: function (a) {
                return !!d(this, "string" == typeof a && fa.test(a) ? _(a) : a || [], !1).length
            }
        });
        var ia, ja = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/, ka = _.fn.init = function (a, b) {
            var c, d;
            if (!a)return this;
            if ("string" == typeof a) {
                if (c = "<" === a[0] && ">" === a[a.length - 1] && a.length >= 3 ? [null, a, null] : ja.exec(a), !c || !c[1] && b)return !b || b.jquery ? (b || ia).find(a) : this.constructor(b).find(a);
                if (c[1]) {
                    if (b = b instanceof _ ? b[0] : b, _.merge(this, _.parseHTML(c[1], b && b.nodeType ? b.ownerDocument || b : Z, !0)), ga.test(c[1]) && _.isPlainObject(b))for (c in b)_.isFunction(this[c]) ? this[c](b[c]) : this.attr(c, b[c]);
                    return this
                }
                return d = Z.getElementById(c[2]), d && d.parentNode && (this.length = 1, this[0] = d), this.context = Z, this.selector = a, this
            }
            return a.nodeType ? (this.context = this[0] = a, this.length = 1, this) : _.isFunction(a) ? "undefined" != typeof ia.ready ? ia.ready(a) : a(_) : (void 0 !== a.selector && (this.selector = a.selector, this.context = a.context), _.makeArray(a, this))
        };
        ka.prototype = _.fn, ia = _(Z);
        var la = /^(?:parents|prev(?:Until|All))/, ma = {children: !0, contents: !0, next: !0, prev: !0};
        _.extend({
            dir: function (a, b, c) {
                for (var d = [], e = void 0 !== c; (a = a[b]) && 9 !== a.nodeType;)if (1 === a.nodeType) {
                    if (e && _(a).is(c))break;
                    d.push(a)
                }
                return d
            }, sibling: function (a, b) {
                for (var c = []; a; a = a.nextSibling)1 === a.nodeType && a !== b && c.push(a);
                return c
            }
        }), _.fn.extend({
            has: function (a) {
                var b = _(a, this), c = b.length;
                return this.filter(function () {
                    for (var a = 0; a < c; a++)if (_.contains(this, b[a]))return !0
                })
            }, closest: function (a, b) {
                for (var c, d = 0, e = this.length, f = [], g = fa.test(a) || "string" != typeof a ? _(a, b || this.context) : 0; d < e; d++)for (c = this[d]; c && c !== b; c = c.parentNode)if (c.nodeType < 11 && (g ? g.index(c) > -1 : 1 === c.nodeType && _.find.matchesSelector(c, a))) {
                    f.push(c);
                    break
                }
                return this.pushStack(f.length > 1 ? _.unique(f) : f)
            }, index: function (a) {
                return a ? "string" == typeof a ? U.call(_(a), this[0]) : U.call(this, a.jquery ? a[0] : a) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1
            }, add: function (a, b) {
                return this.pushStack(_.unique(_.merge(this.get(), _(a, b))))
            }, addBack: function (a) {
                return this.add(null == a ? this.prevObject : this.prevObject.filter(a))
            }
        }), _.each({
            parent: function (a) {
                var b = a.parentNode;
                return b && 11 !== b.nodeType ? b : null
            }, parents: function (a) {
                return _.dir(a, "parentNode")
            }, parentsUntil: function (a, b, c) {
                return _.dir(a, "parentNode", c)
            }, next: function (a) {
                return e(a, "nextSibling")
            }, prev: function (a) {
                return e(a, "previousSibling")
            }, nextAll: function (a) {
                return _.dir(a, "nextSibling")
            }, prevAll: function (a) {
                return _.dir(a, "previousSibling")
            }, nextUntil: function (a, b, c) {
                return _.dir(a, "nextSibling", c)
            }, prevUntil: function (a, b, c) {
                return _.dir(a, "previousSibling", c)
            }, siblings: function (a) {
                return _.sibling((a.parentNode || {}).firstChild, a)
            }, children: function (a) {
                return _.sibling(a.firstChild)
            }, contents: function (a) {
                return a.contentDocument || _.merge([], a.childNodes)
            }
        }, function (a, b) {
            _.fn[a] = function (c, d) {
                var e = _.map(this, b, c);
                return "Until" !== a.slice(-5) && (d = c), d && "string" == typeof d && (e = _.filter(d, e)), this.length > 1 && (ma[a] || _.unique(e), la.test(a) && e.reverse()), this.pushStack(e)
            }
        });
        var na = /\S+/g, oa = {};
        _.Callbacks = function (a) {
            a = "string" == typeof a ? oa[a] || f(a) : _.extend({}, a);
            var b, c, d, e, g, h, i = [], j = !a.once && [], k = function (f) {
                for (b = a.memory && f, c = !0, h = e || 0, e = 0, g = i.length, d = !0; i && h < g; h++)if (i[h].apply(f[0], f[1]) === !1 && a.stopOnFalse) {
                    b = !1;
                    break
                }
                d = !1, i && (j ? j.length && k(j.shift()) : b ? i = [] : l.disable())
            }, l = {
                add: function () {
                    if (i) {
                        var c = i.length;
                        !function b(c) {
                            _.each(c, function (c, d) {
                                var e = _.type(d);
                                "function" === e ? a.unique && l.has(d) || i.push(d) : d && d.length && "string" !== e && b(d)
                            })
                        }(arguments), d ? g = i.length : b && (e = c, k(b))
                    }
                    return this
                }, remove: function () {
                    return i && _.each(arguments, function (a, b) {
                        for (var c; (c = _.inArray(b, i, c)) > -1;)i.splice(c, 1), d && (c <= g && g--, c <= h && h--)
                    }), this
                }, has: function (a) {
                    return a ? _.inArray(a, i) > -1 : !(!i || !i.length)
                }, empty: function () {
                    return i = [], g = 0, this
                }, disable: function () {
                    return i = j = b = void 0, this
                }, disabled: function () {
                    return !i
                }, lock: function () {
                    return j = void 0, b || l.disable(), this
                }, locked: function () {
                    return !j
                }, fireWith: function (a, b) {
                    return !i || c && !j || (b = b || [], b = [a, b.slice ? b.slice() : b], d ? j.push(b) : k(b)), this
                }, fire: function () {
                    return l.fireWith(this, arguments), this
                }, fired: function () {
                    return !!c
                }
            };
            return l
        }, _.extend({
            Deferred: function (a) {
                var b = [["resolve", "done", _.Callbacks("once memory"), "resolved"], ["reject", "fail", _.Callbacks("once memory"), "rejected"], ["notify", "progress", _.Callbacks("memory")]], c = "pending", d = {
                    state: function () {
                        return c
                    }, always: function () {
                        return e.done(arguments).fail(arguments), this
                    }, then: function () {
                        var a = arguments;
                        return _.Deferred(function (c) {
                            _.each(b, function (b, f) {
                                var g = _.isFunction(a[b]) && a[b];
                                e[f[1]](function () {
                                    var a = g && g.apply(this, arguments);
                                    a && _.isFunction(a.promise) ? a.promise().done(c.resolve).fail(c.reject).progress(c.notify) : c[f[0] + "With"](this === d ? c.promise() : this, g ? [a] : arguments)
                                })
                            }), a = null
                        }).promise()
                    }, promise: function (a) {
                        return null != a ? _.extend(a, d) : d
                    }
                }, e = {};
                return d.pipe = d.then, _.each(b, function (a, f) {
                    var g = f[2], h = f[3];
                    d[f[1]] = g.add, h && g.add(function () {
                        c = h
                    }, b[1 ^ a][2].disable, b[2][2].lock), e[f[0]] = function () {
                        return e[f[0] + "With"](this === e ? d : this, arguments), this
                    }, e[f[0] + "With"] = g.fireWith
                }), d.promise(e), a && a.call(e, e), e
            }, when: function (a) {
                var b, c, d, e = 0, f = R.call(arguments), g = f.length, h = 1 !== g || a && _.isFunction(a.promise) ? g : 0, i = 1 === h ? a : _.Deferred(), j = function (a, c, d) {
                    return function (e) {
                        c[a] = this, d[a] = arguments.length > 1 ? R.call(arguments) : e, d === b ? i.notifyWith(c, d) : --h || i.resolveWith(c, d)
                    }
                };
                if (g > 1)for (b = new Array(g), c = new Array(g), d = new Array(g); e < g; e++)f[e] && _.isFunction(f[e].promise) ? f[e].promise().done(j(e, d, f)).fail(i.reject).progress(j(e, c, b)) : --h;
                return h || i.resolveWith(d, f), i.promise()
            }
        });
        var pa;
        _.fn.ready = function (a) {
            return _.ready.promise().done(a), this
        }, _.extend({
            isReady: !1, readyWait: 1, holdReady: function (a) {
                a ? _.readyWait++ : _.ready(!0)
            }, ready: function (a) {
                (a === !0 ? --_.readyWait : _.isReady) || (_.isReady = !0, a !== !0 && --_.readyWait > 0 || (pa.resolveWith(Z, [_]), _.fn.triggerHandler && (_(Z).triggerHandler("ready"), _(Z).off("ready"))))
            }
        }), _.ready.promise = function (b) {
            return pa || (pa = _.Deferred(), "complete" === Z.readyState ? setTimeout(_.ready) : (Z.addEventListener("DOMContentLoaded", g, !1), a.addEventListener("load", g, !1))), pa.promise(b)
        }, _.ready.promise();
        var qa = _.access = function (a, b, c, d, e, f, g) {
            var h = 0, i = a.length, j = null == c;
            if ("object" === _.type(c)) {
                e = !0;
                for (h in c)_.access(a, b, h, c[h], !0, f, g)
            } else if (void 0 !== d && (e = !0, _.isFunction(d) || (g = !0), j && (g ? (b.call(a, d), b = null) : (j = b, b = function (a, b, c) {
                    return j.call(_(a), c)
                })), b))for (; h < i; h++)b(a[h], c, g ? d : d.call(a[h], h, b(a[h], c)));
            return e ? a : j ? b.call(a) : i ? b(a[0], c) : f
        };
        _.acceptData = function (a) {
            return 1 === a.nodeType || 9 === a.nodeType || !+a.nodeType
        }, h.uid = 1, h.accepts = _.acceptData, h.prototype = {
            key: function (a) {
                if (!h.accepts(a))return 0;
                var b = {}, c = a[this.expando];
                if (!c) {
                    c = h.uid++;
                    try {
                        b[this.expando] = {value: c}, Object.defineProperties(a, b)
                    } catch (d) {
                        b[this.expando] = c, _.extend(a, b)
                    }
                }
                return this.cache[c] || (this.cache[c] = {}), c
            }, set: function (a, b, c) {
                var d, e = this.key(a), f = this.cache[e];
                if ("string" == typeof b)f[b] = c; else if (_.isEmptyObject(f))_.extend(this.cache[e], b); else for (d in b)f[d] = b[d];
                return f
            }, get: function (a, b) {
                var c = this.cache[this.key(a)];
                return void 0 === b ? c : c[b]
            }, access: function (a, b, c) {
                var d;
                return void 0 === b || b && "string" == typeof b && void 0 === c ? (d = this.get(a, b), void 0 !== d ? d : this.get(a, _.camelCase(b))) : (this.set(a, b, c), void 0 !== c ? c : b)
            }, remove: function (a, b) {
                var c, d, e, f = this.key(a), g = this.cache[f];
                if (void 0 === b)this.cache[f] = {}; else {
                    _.isArray(b) ? d = b.concat(b.map(_.camelCase)) : (e = _.camelCase(b), b in g ? d = [b, e] : (d = e, d = d in g ? [d] : d.match(na) || [])), c = d.length;
                    for (; c--;)delete g[d[c]]
                }
            }, hasData: function (a) {
                return !_.isEmptyObject(this.cache[a[this.expando]] || {})
            }, discard: function (a) {
                a[this.expando] && delete this.cache[a[this.expando]]
            }
        };
        var ra = new h, sa = new h, ta = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/, ua = /([A-Z])/g;
        _.extend({
            hasData: function (a) {
                return sa.hasData(a) || ra.hasData(a)
            }, data: function (a, b, c) {
                return sa.access(a, b, c)
            }, removeData: function (a, b) {
                sa.remove(a, b)
            }, _data: function (a, b, c) {
                return ra.access(a, b, c)
            }, _removeData: function (a, b) {
                ra.remove(a, b)
            }
        }), _.fn.extend({
            data: function (a, b) {
                var c, d, e, f = this[0], g = f && f.attributes;
                if (void 0 === a) {
                    if (this.length && (e = sa.get(f), 1 === f.nodeType && !ra.get(f, "hasDataAttrs"))) {
                        for (c = g.length; c--;)g[c] && (d = g[c].name, 0 === d.indexOf("data-") && (d = _.camelCase(d.slice(5)), i(f, d, e[d])));
                        ra.set(f, "hasDataAttrs", !0)
                    }
                    return e
                }
                return "object" == typeof a ? this.each(function () {
                    sa.set(this, a)
                }) : qa(this, function (b) {
                    var c, d = _.camelCase(a);
                    if (f && void 0 === b) {
                        if (c = sa.get(f, a), void 0 !== c)return c;
                        if (c = sa.get(f, d), void 0 !== c)return c;
                        if (c = i(f, d, void 0), void 0 !== c)return c
                    } else this.each(function () {
                        var c = sa.get(this, d);
                        sa.set(this, d, b), a.indexOf("-") !== -1 && void 0 !== c && sa.set(this, a, b)
                    })
                }, null, b, arguments.length > 1, null, !0)
            }, removeData: function (a) {
                return this.each(function () {
                    sa.remove(this, a)
                })
            }
        }), _.extend({
            queue: function (a, b, c) {
                var d;
                if (a)return b = (b || "fx") + "queue", d = ra.get(a, b), c && (!d || _.isArray(c) ? d = ra.access(a, b, _.makeArray(c)) : d.push(c)), d || []
            }, dequeue: function (a, b) {
                b = b || "fx";
                var c = _.queue(a, b), d = c.length, e = c.shift(), f = _._queueHooks(a, b), g = function () {
                    _.dequeue(a, b)
                };
                "inprogress" === e && (e = c.shift(), d--), e && ("fx" === b && c.unshift("inprogress"), delete f.stop, e.call(a, g, f)), !d && f && f.empty.fire()
            }, _queueHooks: function (a, b) {
                var c = b + "queueHooks";
                return ra.get(a, c) || ra.access(a, c, {
                        empty: _.Callbacks("once memory").add(function () {
                            ra.remove(a, [b + "queue", c])
                        })
                    })
            }
        }), _.fn.extend({
            queue: function (a, b) {
                var c = 2;
                return "string" != typeof a && (b = a, a = "fx", c--), arguments.length < c ? _.queue(this[0], a) : void 0 === b ? this : this.each(function () {
                    var c = _.queue(this, a, b);
                    _._queueHooks(this, a), "fx" === a && "inprogress" !== c[0] && _.dequeue(this, a)
                })
            }, dequeue: function (a) {
                return this.each(function () {
                    _.dequeue(this, a)
                })
            }, clearQueue: function (a) {
                return this.queue(a || "fx", [])
            }, promise: function (a, b) {
                var c, d = 1, e = _.Deferred(), f = this, g = this.length, h = function () {
                    --d || e.resolveWith(f, [f])
                };
                for ("string" != typeof a && (b = a, a = void 0), a = a || "fx"; g--;)c = ra.get(f[g], a + "queueHooks"), c && c.empty && (d++, c.empty.add(h));
                return h(), e.promise(b)
            }
        });
        var va = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source, wa = ["Top", "Right", "Bottom", "Left"], xa = function (a, b) {
            return a = b || a, "none" === _.css(a, "display") || !_.contains(a.ownerDocument, a)
        }, ya = /^(?:checkbox|radio)$/i;
        !function () {
            var a = Z.createDocumentFragment(), b = a.appendChild(Z.createElement("div")), c = Z.createElement("input");
            c.setAttribute("type", "radio"), c.setAttribute("checked", "checked"), c.setAttribute("name", "t"), b.appendChild(c), Y.checkClone = b.cloneNode(!0).cloneNode(!0).lastChild.checked, b.innerHTML = "<textarea>x</textarea>", Y.noCloneChecked = !!b.cloneNode(!0).lastChild.defaultValue
        }();
        var za = "undefined";
        Y.focusinBubbles = "onfocusin" in a;
        var Aa = /^key/, Ba = /^(?:mouse|pointer|contextmenu)|click/, Ca = /^(?:focusinfocus|focusoutblur)$/, Da = /^([^.]*)(?:\.(.+)|)$/;
        _.event = {
            global: {},
            add: function (a, b, c, d, e) {
                var f, g, h, i, j, k, l, m, n, o, p, q = ra.get(a);
                if (q)for (c.handler && (f = c, c = f.handler, e = f.selector), c.guid || (c.guid = _.guid++), (i = q.events) || (i = q.events = {}), (g = q.handle) || (g = q.handle = function (b) {
                    return typeof _ !== za && _.event.triggered !== b.type ? _.event.dispatch.apply(a, arguments) : void 0
                }), b = (b || "").match(na) || [""], j = b.length; j--;)h = Da.exec(b[j]) || [], n = p = h[1], o = (h[2] || "").split(".").sort(), n && (l = _.event.special[n] || {}, n = (e ? l.delegateType : l.bindType) || n, l = _.event.special[n] || {}, k = _.extend({
                    type: n,
                    origType: p,
                    data: d,
                    handler: c,
                    guid: c.guid,
                    selector: e,
                    needsContext: e && _.expr.match.needsContext.test(e),
                    namespace: o.join(".")
                }, f), (m = i[n]) || (m = i[n] = [], m.delegateCount = 0, l.setup && l.setup.call(a, d, o, g) !== !1 || a.addEventListener && a.addEventListener(n, g, !1)), l.add && (l.add.call(a, k), k.handler.guid || (k.handler.guid = c.guid)), e ? m.splice(m.delegateCount++, 0, k) : m.push(k), _.event.global[n] = !0)
            },
            remove: function (a, b, c, d, e) {
                var f, g, h, i, j, k, l, m, n, o, p, q = ra.hasData(a) && ra.get(a);
                if (q && (i = q.events)) {
                    for (b = (b || "").match(na) || [""], j = b.length; j--;)if (h = Da.exec(b[j]) || [], n = p = h[1], o = (h[2] || "").split(".").sort(), n) {
                        for (l = _.event.special[n] || {},
                                 n = (d ? l.delegateType : l.bindType) || n, m = i[n] || [], h = h[2] && new RegExp("(^|\\.)" + o.join("\\.(?:.*\\.|)") + "(\\.|$)"), g = f = m.length; f--;)k = m[f], !e && p !== k.origType || c && c.guid !== k.guid || h && !h.test(k.namespace) || d && d !== k.selector && ("**" !== d || !k.selector) || (m.splice(f, 1), k.selector && m.delegateCount--, l.remove && l.remove.call(a, k));
                        g && !m.length && (l.teardown && l.teardown.call(a, o, q.handle) !== !1 || _.removeEvent(a, n, q.handle), delete i[n])
                    } else for (n in i)_.event.remove(a, n + b[j], c, d, !0);
                    _.isEmptyObject(i) && (delete q.handle, ra.remove(a, "events"))
                }
            },
            trigger: function (b, c, d, e) {
                var f, g, h, i, j, k, l, m = [d || Z], n = X.call(b, "type") ? b.type : b, o = X.call(b, "namespace") ? b.namespace.split(".") : [];
                if (g = h = d = d || Z, 3 !== d.nodeType && 8 !== d.nodeType && !Ca.test(n + _.event.triggered) && (n.indexOf(".") >= 0 && (o = n.split("."), n = o.shift(), o.sort()), j = n.indexOf(":") < 0 && "on" + n, b = b[_.expando] ? b : new _.Event(n, "object" == typeof b && b), b.isTrigger = e ? 2 : 3, b.namespace = o.join("."), b.namespace_re = b.namespace ? new RegExp("(^|\\.)" + o.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, b.result = void 0, b.target || (b.target = d), c = null == c ? [b] : _.makeArray(c, [b]), l = _.event.special[n] || {}, e || !l.trigger || l.trigger.apply(d, c) !== !1)) {
                    if (!e && !l.noBubble && !_.isWindow(d)) {
                        for (i = l.delegateType || n, Ca.test(i + n) || (g = g.parentNode); g; g = g.parentNode)m.push(g), h = g;
                        h === (d.ownerDocument || Z) && m.push(h.defaultView || h.parentWindow || a)
                    }
                    for (f = 0; (g = m[f++]) && !b.isPropagationStopped();)b.type = f > 1 ? i : l.bindType || n, k = (ra.get(g, "events") || {})[b.type] && ra.get(g, "handle"), k && k.apply(g, c), k = j && g[j], k && k.apply && _.acceptData(g) && (b.result = k.apply(g, c), b.result === !1 && b.preventDefault());
                    return b.type = n, e || b.isDefaultPrevented() || l._default && l._default.apply(m.pop(), c) !== !1 || !_.acceptData(d) || j && _.isFunction(d[n]) && !_.isWindow(d) && (h = d[j], h && (d[j] = null), _.event.triggered = n, d[n](), _.event.triggered = void 0, h && (d[j] = h)), b.result
                }
            },
            dispatch: function (a) {
                a = _.event.fix(a);
                var b, c, d, e, f, g = [], h = R.call(arguments), i = (ra.get(this, "events") || {})[a.type] || [], j = _.event.special[a.type] || {};
                if (h[0] = a, a.delegateTarget = this, !j.preDispatch || j.preDispatch.call(this, a) !== !1) {
                    for (g = _.event.handlers.call(this, a, i), b = 0; (e = g[b++]) && !a.isPropagationStopped();)for (a.currentTarget = e.elem, c = 0; (f = e.handlers[c++]) && !a.isImmediatePropagationStopped();)a.namespace_re && !a.namespace_re.test(f.namespace) || (a.handleObj = f, a.data = f.data, d = ((_.event.special[f.origType] || {}).handle || f.handler).apply(e.elem, h), void 0 !== d && (a.result = d) === !1 && (a.preventDefault(), a.stopPropagation()));
                    return j.postDispatch && j.postDispatch.call(this, a), a.result
                }
            },
            handlers: function (a, b) {
                var c, d, e, f, g = [], h = b.delegateCount, i = a.target;
                if (h && i.nodeType && (!a.button || "click" !== a.type))for (; i !== this; i = i.parentNode || this)if (i.disabled !== !0 || "click" !== a.type) {
                    for (d = [], c = 0; c < h; c++)f = b[c], e = f.selector + " ", void 0 === d[e] && (d[e] = f.needsContext ? _(e, this).index(i) >= 0 : _.find(e, this, null, [i]).length), d[e] && d.push(f);
                    d.length && g.push({elem: i, handlers: d})
                }
                return h < b.length && g.push({elem: this, handlers: b.slice(h)}), g
            },
            props: "altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
            fixHooks: {},
            keyHooks: {
                props: "char charCode key keyCode".split(" "), filter: function (a, b) {
                    return null == a.which && (a.which = null != b.charCode ? b.charCode : b.keyCode), a
                }
            },
            mouseHooks: {
                props: "button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
                filter: function (a, b) {
                    var c, d, e, f = b.button;
                    return null == a.pageX && null != b.clientX && (c = a.target.ownerDocument || Z, d = c.documentElement, e = c.body, a.pageX = b.clientX + (d && d.scrollLeft || e && e.scrollLeft || 0) - (d && d.clientLeft || e && e.clientLeft || 0), a.pageY = b.clientY + (d && d.scrollTop || e && e.scrollTop || 0) - (d && d.clientTop || e && e.clientTop || 0)), a.which || void 0 === f || (a.which = 1 & f ? 1 : 2 & f ? 3 : 4 & f ? 2 : 0), a
                }
            },
            fix: function (a) {
                if (a[_.expando])return a;
                var b, c, d, e = a.type, f = a, g = this.fixHooks[e];
                for (g || (this.fixHooks[e] = g = Ba.test(e) ? this.mouseHooks : Aa.test(e) ? this.keyHooks : {}), d = g.props ? this.props.concat(g.props) : this.props, a = new _.Event(f), b = d.length; b--;)c = d[b], a[c] = f[c];
                return a.target || (a.target = Z), 3 === a.target.nodeType && (a.target = a.target.parentNode), g.filter ? g.filter(a, f) : a
            },
            special: {
                load: {noBubble: !0}, focus: {
                    trigger: function () {
                        if (this !== l() && this.focus)return this.focus(), !1
                    }, delegateType: "focusin"
                }, blur: {
                    trigger: function () {
                        if (this === l() && this.blur)return this.blur(), !1
                    }, delegateType: "focusout"
                }, click: {
                    trigger: function () {
                        if ("checkbox" === this.type && this.click && _.nodeName(this, "input"))return this.click(), !1
                    }, _default: function (a) {
                        return _.nodeName(a.target, "a")
                    }
                }, beforeunload: {
                    postDispatch: function (a) {
                        void 0 !== a.result && a.originalEvent && (a.originalEvent.returnValue = a.result)
                    }
                }
            },
            simulate: function (a, b, c, d) {
                var e = _.extend(new _.Event, c, {type: a, isSimulated: !0, originalEvent: {}});
                d ? _.event.trigger(e, null, b) : _.event.dispatch.call(b, e), e.isDefaultPrevented() && c.preventDefault()
            }
        }, _.removeEvent = function (a, b, c) {
            a.removeEventListener && a.removeEventListener(b, c, !1)
        }, _.Event = function (a, b) {
            return this instanceof _.Event ? (a && a.type ? (this.originalEvent = a, this.type = a.type, this.isDefaultPrevented = a.defaultPrevented || void 0 === a.defaultPrevented && a.returnValue === !1 ? j : k) : this.type = a, b && _.extend(this, b), this.timeStamp = a && a.timeStamp || _.now(), void(this[_.expando] = !0)) : new _.Event(a, b)
        }, _.Event.prototype = {
            isDefaultPrevented: k,
            isPropagationStopped: k,
            isImmediatePropagationStopped: k,
            preventDefault: function () {
                var a = this.originalEvent;
                this.isDefaultPrevented = j, a && a.preventDefault && a.preventDefault()
            },
            stopPropagation: function () {
                var a = this.originalEvent;
                this.isPropagationStopped = j, a && a.stopPropagation && a.stopPropagation()
            },
            stopImmediatePropagation: function () {
                var a = this.originalEvent;
                this.isImmediatePropagationStopped = j, a && a.stopImmediatePropagation && a.stopImmediatePropagation(), this.stopPropagation()
            }
        }, _.each({
            mouseenter: "mouseover",
            mouseleave: "mouseout",
            pointerenter: "pointerover",
            pointerleave: "pointerout"
        }, function (a, b) {
            _.event.special[a] = {
                delegateType: b, bindType: b, handle: function (a) {
                    var c, d = this, e = a.relatedTarget, f = a.handleObj;
                    return e && (e === d || _.contains(d, e)) || (a.type = f.origType, c = f.handler.apply(this, arguments), a.type = b), c
                }
            }
        }), Y.focusinBubbles || _.each({focus: "focusin", blur: "focusout"}, function (a, b) {
            var c = function (a) {
                _.event.simulate(b, a.target, _.event.fix(a), !0)
            };
            _.event.special[b] = {
                setup: function () {
                    var d = this.ownerDocument || this, e = ra.access(d, b);
                    e || d.addEventListener(a, c, !0), ra.access(d, b, (e || 0) + 1)
                }, teardown: function () {
                    var d = this.ownerDocument || this, e = ra.access(d, b) - 1;
                    e ? ra.access(d, b, e) : (d.removeEventListener(a, c, !0), ra.remove(d, b))
                }
            }
        }), _.fn.extend({
            on: function (a, b, c, d, e) {
                var f, g;
                if ("object" == typeof a) {
                    "string" != typeof b && (c = c || b, b = void 0);
                    for (g in a)this.on(g, b, c, a[g], e);
                    return this
                }
                if (null == c && null == d ? (d = b, c = b = void 0) : null == d && ("string" == typeof b ? (d = c, c = void 0) : (d = c, c = b, b = void 0)), d === !1)d = k; else if (!d)return this;
                return 1 === e && (f = d, d = function (a) {
                    return _().off(a), f.apply(this, arguments)
                }, d.guid = f.guid || (f.guid = _.guid++)), this.each(function () {
                    _.event.add(this, a, d, c, b)
                })
            }, one: function (a, b, c, d) {
                return this.on(a, b, c, d, 1)
            }, off: function (a, b, c) {
                var d, e;
                if (a && a.preventDefault && a.handleObj)return d = a.handleObj, _(a.delegateTarget).off(d.namespace ? d.origType + "." + d.namespace : d.origType, d.selector, d.handler), this;
                if ("object" == typeof a) {
                    for (e in a)this.off(e, b, a[e]);
                    return this
                }
                return b !== !1 && "function" != typeof b || (c = b, b = void 0), c === !1 && (c = k), this.each(function () {
                    _.event.remove(this, a, c, b)
                })
            }, trigger: function (a, b) {
                return this.each(function () {
                    _.event.trigger(a, b, this)
                })
            }, triggerHandler: function (a, b) {
                var c = this[0];
                if (c)return _.event.trigger(a, b, c, !0)
            }
        });
        var Ea = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi, Fa = /<([\w:]+)/, Ga = /<|&#?\w+;/, Ha = /<(?:script|style|link)/i, Ia = /checked\s*(?:[^=]|=\s*.checked.)/i, Ja = /^$|\/(?:java|ecma)script/i, Ka = /^true\/(.*)/, La = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g, Ma = {
            option: [1, "<select multiple='multiple'>", "</select>"],
            thead: [1, "<table>", "</table>"],
            col: [2, "<table><colgroup>", "</colgroup></table>"],
            tr: [2, "<table><tbody>", "</tbody></table>"],
            td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
            _default: [0, "", ""]
        };
        Ma.optgroup = Ma.option, Ma.tbody = Ma.tfoot = Ma.colgroup = Ma.caption = Ma.thead, Ma.th = Ma.td, _.extend({
            clone: function (a, b, c) {
                var d, e, f, g, h = a.cloneNode(!0), i = _.contains(a.ownerDocument, a);
                if (!(Y.noCloneChecked || 1 !== a.nodeType && 11 !== a.nodeType || _.isXMLDoc(a)))for (g = r(h), f = r(a), d = 0, e = f.length; d < e; d++)s(f[d], g[d]);
                if (b)if (c)for (f = f || r(a), g = g || r(h), d = 0, e = f.length; d < e; d++)q(f[d], g[d]); else q(a, h);
                return g = r(h, "script"), g.length > 0 && p(g, !i && r(a, "script")), h
            }, buildFragment: function (a, b, c, d) {
                for (var e, f, g, h, i, j, k = b.createDocumentFragment(), l = [], m = 0, n = a.length; m < n; m++)if (e = a[m], e || 0 === e)if ("object" === _.type(e))_.merge(l, e.nodeType ? [e] : e); else if (Ga.test(e)) {
                    for (f = f || k.appendChild(b.createElement("div")), g = (Fa.exec(e) || ["", ""])[1].toLowerCase(), h = Ma[g] || Ma._default, f.innerHTML = h[1] + e.replace(Ea, "<$1></$2>") + h[2], j = h[0]; j--;)f = f.lastChild;
                    _.merge(l, f.childNodes), f = k.firstChild, f.textContent = ""
                } else l.push(b.createTextNode(e));
                for (k.textContent = "", m = 0; e = l[m++];)if ((!d || _.inArray(e, d) === -1) && (i = _.contains(e.ownerDocument, e), f = r(k.appendChild(e), "script"), i && p(f), c))for (j = 0; e = f[j++];)Ja.test(e.type || "") && c.push(e);
                return k
            }, cleanData: function (a) {
                for (var b, c, d, e, f = _.event.special, g = 0; void 0 !== (c = a[g]); g++) {
                    if (_.acceptData(c) && (e = c[ra.expando], e && (b = ra.cache[e]))) {
                        if (b.events)for (d in b.events)f[d] ? _.event.remove(c, d) : _.removeEvent(c, d, b.handle);
                        ra.cache[e] && delete ra.cache[e]
                    }
                    delete sa.cache[c[sa.expando]]
                }
            }
        }), _.fn.extend({
            text: function (a) {
                return qa(this, function (a) {
                    return void 0 === a ? _.text(this) : this.empty().each(function () {
                        1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || (this.textContent = a)
                    })
                }, null, a, arguments.length)
            }, append: function () {
                return this.domManip(arguments, function (a) {
                    if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                        var b = m(this, a);
                        b.appendChild(a)
                    }
                })
            }, prepend: function () {
                return this.domManip(arguments, function (a) {
                    if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                        var b = m(this, a);
                        b.insertBefore(a, b.firstChild)
                    }
                })
            }, before: function () {
                return this.domManip(arguments, function (a) {
                    this.parentNode && this.parentNode.insertBefore(a, this)
                })
            }, after: function () {
                return this.domManip(arguments, function (a) {
                    this.parentNode && this.parentNode.insertBefore(a, this.nextSibling)
                })
            }, remove: function (a, b) {
                for (var c, d = a ? _.filter(a, this) : this, e = 0; null != (c = d[e]); e++)b || 1 !== c.nodeType || _.cleanData(r(c)), c.parentNode && (b && _.contains(c.ownerDocument, c) && p(r(c, "script")), c.parentNode.removeChild(c));
                return this
            }, empty: function () {
                for (var a, b = 0; null != (a = this[b]); b++)1 === a.nodeType && (_.cleanData(r(a, !1)), a.textContent = "");
                return this
            }, clone: function (a, b) {
                return a = null != a && a, b = null == b ? a : b, this.map(function () {
                    return _.clone(this, a, b)
                })
            }, html: function (a) {
                return qa(this, function (a) {
                    var b = this[0] || {}, c = 0, d = this.length;
                    if (void 0 === a && 1 === b.nodeType)return b.innerHTML;
                    if ("string" == typeof a && !Ha.test(a) && !Ma[(Fa.exec(a) || ["", ""])[1].toLowerCase()]) {
                        a = a.replace(Ea, "<$1></$2>");
                        try {
                            for (; c < d; c++)b = this[c] || {}, 1 === b.nodeType && (_.cleanData(r(b, !1)), b.innerHTML = a);
                            b = 0
                        } catch (a) {
                        }
                    }
                    b && this.empty().append(a)
                }, null, a, arguments.length)
            }, replaceWith: function () {
                var a = arguments[0];
                return this.domManip(arguments, function (b) {
                    a = this.parentNode, _.cleanData(r(this)), a && a.replaceChild(b, this)
                }), a && (a.length || a.nodeType) ? this : this.remove()
            }, detach: function (a) {
                return this.remove(a, !0)
            }, domManip: function (a, b) {
                a = S.apply([], a);
                var c, d, e, f, g, h, i = 0, j = this.length, k = this, l = j - 1, m = a[0], p = _.isFunction(m);
                if (p || j > 1 && "string" == typeof m && !Y.checkClone && Ia.test(m))return this.each(function (c) {
                    var d = k.eq(c);
                    p && (a[0] = m.call(this, c, d.html())), d.domManip(a, b)
                });
                if (j && (c = _.buildFragment(a, this[0].ownerDocument, !1, this), d = c.firstChild, 1 === c.childNodes.length && (c = d), d)) {
                    for (e = _.map(r(c, "script"), n), f = e.length; i < j; i++)g = c, i !== l && (g = _.clone(g, !0, !0), f && _.merge(e, r(g, "script"))), b.call(this[i], g, i);
                    if (f)for (h = e[e.length - 1].ownerDocument, _.map(e, o), i = 0; i < f; i++)g = e[i], Ja.test(g.type || "") && !ra.access(g, "globalEval") && _.contains(h, g) && (g.src ? _._evalUrl && _._evalUrl(g.src) : _.globalEval(g.textContent.replace(La, "")))
                }
                return this
            }
        }), _.each({
            appendTo: "append",
            prependTo: "prepend",
            insertBefore: "before",
            insertAfter: "after",
            replaceAll: "replaceWith"
        }, function (a, b) {
            _.fn[a] = function (a) {
                for (var c, d = [], e = _(a), f = e.length - 1, g = 0; g <= f; g++)c = g === f ? this : this.clone(!0), _(e[g])[b](c), T.apply(d, c.get());
                return this.pushStack(d)
            }
        });
        var Na, Oa = {}, Pa = /^margin/, Qa = new RegExp("^(" + va + ")(?!px)[a-z%]+$", "i"), Ra = function (b) {
            return b.ownerDocument.defaultView.opener ? b.ownerDocument.defaultView.getComputedStyle(b, null) : a.getComputedStyle(b, null)
        };
        !function () {
            function b() {
                g.style.cssText = "-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute", g.innerHTML = "", e.appendChild(f);
                var b = a.getComputedStyle(g, null);
                c = "1%" !== b.top, d = "4px" === b.width, e.removeChild(f)
            }

            var c, d, e = Z.documentElement, f = Z.createElement("div"), g = Z.createElement("div");
            g.style && (g.style.backgroundClip = "content-box", g.cloneNode(!0).style.backgroundClip = "", Y.clearCloneStyle = "content-box" === g.style.backgroundClip, f.style.cssText = "border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute", f.appendChild(g), a.getComputedStyle && _.extend(Y, {
                pixelPosition: function () {
                    return b(), c
                }, boxSizingReliable: function () {
                    return null == d && b(), d
                }, reliableMarginRight: function () {
                    var b, c = g.appendChild(Z.createElement("div"));
                    return c.style.cssText = g.style.cssText = "-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0", c.style.marginRight = c.style.width = "0", g.style.width = "1px", e.appendChild(f), b = !parseFloat(a.getComputedStyle(c, null).marginRight), e.removeChild(f), g.removeChild(c), b
                }
            }))
        }(), _.swap = function (a, b, c, d) {
            var e, f, g = {};
            for (f in b)g[f] = a.style[f], a.style[f] = b[f];
            e = c.apply(a, d || []);
            for (f in b)a.style[f] = g[f];
            return e
        };
        var Sa = /^(none|table(?!-c[ea]).+)/, Ta = new RegExp("^(" + va + ")(.*)$", "i"), Ua = new RegExp("^([+-])=(" + va + ")", "i"), Va = {
            position: "absolute",
            visibility: "hidden",
            display: "block"
        }, Wa = {letterSpacing: "0", fontWeight: "400"}, Xa = ["Webkit", "O", "Moz", "ms"];
        _.extend({
            cssHooks: {
                opacity: {
                    get: function (a, b) {
                        if (b) {
                            var c = v(a, "opacity");
                            return "" === c ? "1" : c
                        }
                    }
                }
            },
            cssNumber: {
                columnCount: !0,
                fillOpacity: !0,
                flexGrow: !0,
                flexShrink: !0,
                fontWeight: !0,
                lineHeight: !0,
                opacity: !0,
                order: !0,
                orphans: !0,
                widows: !0,
                zIndex: !0,
                zoom: !0
            },
            cssProps: {float: "cssFloat"},
            style: function (a, b, c, d) {
                if (a && 3 !== a.nodeType && 8 !== a.nodeType && a.style) {
                    var e, f, g, h = _.camelCase(b), i = a.style;
                    return b = _.cssProps[h] || (_.cssProps[h] = x(i, h)), g = _.cssHooks[b] || _.cssHooks[h], void 0 === c ? g && "get" in g && void 0 !== (e = g.get(a, !1, d)) ? e : i[b] : (f = typeof c, "string" === f && (e = Ua.exec(c)) && (c = (e[1] + 1) * e[2] + parseFloat(_.css(a, b)), f = "number"), null != c && c === c && ("number" !== f || _.cssNumber[h] || (c += "px"), Y.clearCloneStyle || "" !== c || 0 !== b.indexOf("background") || (i[b] = "inherit"), g && "set" in g && void 0 === (c = g.set(a, c, d)) || (i[b] = c)), void 0)
                }
            },
            css: function (a, b, c, d) {
                var e, f, g, h = _.camelCase(b);
                return b = _.cssProps[h] || (_.cssProps[h] = x(a.style, h)), g = _.cssHooks[b] || _.cssHooks[h], g && "get" in g && (e = g.get(a, !0, c)), void 0 === e && (e = v(a, b, d)), "normal" === e && b in Wa && (e = Wa[b]), "" === c || c ? (f = parseFloat(e), c === !0 || _.isNumeric(f) ? f || 0 : e) : e
            }
        }), _.each(["height", "width"], function (a, b) {
            _.cssHooks[b] = {
                get: function (a, c, d) {
                    if (c)return Sa.test(_.css(a, "display")) && 0 === a.offsetWidth ? _.swap(a, Va, function () {
                        return A(a, b, d)
                    }) : A(a, b, d)
                }, set: function (a, c, d) {
                    var e = d && Ra(a);
                    return y(a, c, d ? z(a, b, d, "border-box" === _.css(a, "boxSizing", !1, e), e) : 0)
                }
            }
        }), _.cssHooks.marginRight = w(Y.reliableMarginRight, function (a, b) {
            if (b)return _.swap(a, {display: "inline-block"}, v, [a, "marginRight"])
        }), _.each({margin: "", padding: "", border: "Width"}, function (a, b) {
            _.cssHooks[a + b] = {
                expand: function (c) {
                    for (var d = 0, e = {}, f = "string" == typeof c ? c.split(" ") : [c]; d < 4; d++)e[a + wa[d] + b] = f[d] || f[d - 2] || f[0];
                    return e
                }
            }, Pa.test(a) || (_.cssHooks[a + b].set = y)
        }), _.fn.extend({
            css: function (a, b) {
                return qa(this, function (a, b, c) {
                    var d, e, f = {}, g = 0;
                    if (_.isArray(b)) {
                        for (d = Ra(a), e = b.length; g < e; g++)f[b[g]] = _.css(a, b[g], !1, d);
                        return f
                    }
                    return void 0 !== c ? _.style(a, b, c) : _.css(a, b)
                }, a, b, arguments.length > 1)
            }, show: function () {
                return B(this, !0)
            }, hide: function () {
                return B(this)
            }, toggle: function (a) {
                return "boolean" == typeof a ? a ? this.show() : this.hide() : this.each(function () {
                    xa(this) ? _(this).show() : _(this).hide()
                })
            }
        }), _.Tween = C, C.prototype = {
            constructor: C, init: function (a, b, c, d, e, f) {
                this.elem = a, this.prop = c, this.easing = e || "swing", this.options = b, this.start = this.now = this.cur(), this.end = d, this.unit = f || (_.cssNumber[c] ? "" : "px")
            }, cur: function () {
                var a = C.propHooks[this.prop];
                return a && a.get ? a.get(this) : C.propHooks._default.get(this)
            }, run: function (a) {
                var b, c = C.propHooks[this.prop];
                return this.options.duration ? this.pos = b = _.easing[this.easing](a, this.options.duration * a, 0, 1, this.options.duration) : this.pos = b = a, this.now = (this.end - this.start) * b + this.start, this.options.step && this.options.step.call(this.elem, this.now, this), c && c.set ? c.set(this) : C.propHooks._default.set(this), this
            }
        }, C.prototype.init.prototype = C.prototype, C.propHooks = {
            _default: {
                get: function (a) {
                    var b;
                    return null == a.elem[a.prop] || a.elem.style && null != a.elem.style[a.prop] ? (b = _.css(a.elem, a.prop, ""), b && "auto" !== b ? b : 0) : a.elem[a.prop]
                }, set: function (a) {
                    _.fx.step[a.prop] ? _.fx.step[a.prop](a) : a.elem.style && (null != a.elem.style[_.cssProps[a.prop]] || _.cssHooks[a.prop]) ? _.style(a.elem, a.prop, a.now + a.unit) : a.elem[a.prop] = a.now
                }
            }
        }, C.propHooks.scrollTop = C.propHooks.scrollLeft = {
            set: function (a) {
                a.elem.nodeType && a.elem.parentNode && (a.elem[a.prop] = a.now)
            }
        }, _.easing = {
            linear: function (a) {
                return a
            }, swing: function (a) {
                return .5 - Math.cos(a * Math.PI) / 2
            }
        }, _.fx = C.prototype.init, _.fx.step = {};
        var Ya, Za, $a = /^(?:toggle|show|hide)$/, _a = new RegExp("^(?:([+-])=|)(" + va + ")([a-z%]*)$", "i"), ab = /queueHooks$/, bb = [G], cb = {
            "*": [function (a, b) {
                var c = this.createTween(a, b), d = c.cur(), e = _a.exec(b), f = e && e[3] || (_.cssNumber[a] ? "" : "px"), g = (_.cssNumber[a] || "px" !== f && +d) && _a.exec(_.css(c.elem, a)), h = 1, i = 20;
                if (g && g[3] !== f) {
                    f = f || g[3], e = e || [], g = +d || 1;
                    do h = h || ".5", g /= h, _.style(c.elem, a, g + f); while (h !== (h = c.cur() / d) && 1 !== h && --i)
                }
                return e && (g = c.start = +g || +d || 0, c.unit = f, c.end = e[1] ? g + (e[1] + 1) * e[2] : +e[2]), c
            }]
        };
        _.Animation = _.extend(I, {
            tweener: function (a, b) {
                _.isFunction(a) ? (b = a, a = ["*"]) : a = a.split(" ");
                for (var c, d = 0, e = a.length; d < e; d++)c = a[d], cb[c] = cb[c] || [], cb[c].unshift(b)
            }, prefilter: function (a, b) {
                b ? bb.unshift(a) : bb.push(a)
            }
        }), _.speed = function (a, b, c) {
            var d = a && "object" == typeof a ? _.extend({}, a) : {
                complete: c || !c && b || _.isFunction(a) && a,
                duration: a,
                easing: c && b || b && !_.isFunction(b) && b
            };
            return d.duration = _.fx.off ? 0 : "number" == typeof d.duration ? d.duration : d.duration in _.fx.speeds ? _.fx.speeds[d.duration] : _.fx.speeds._default, null != d.queue && d.queue !== !0 || (d.queue = "fx"), d.old = d.complete, d.complete = function () {
                _.isFunction(d.old) && d.old.call(this), d.queue && _.dequeue(this, d.queue)
            }, d
        }, _.fn.extend({
            fadeTo: function (a, b, c, d) {
                return this.filter(xa).css("opacity", 0).show().end().animate({opacity: b}, a, c, d)
            }, animate: function (a, b, c, d) {
                var e = _.isEmptyObject(a), f = _.speed(b, c, d), g = function () {
                    var b = I(this, _.extend({}, a), f);
                    (e || ra.get(this, "finish")) && b.stop(!0)
                };
                return g.finish = g, e || f.queue === !1 ? this.each(g) : this.queue(f.queue, g)
            }, stop: function (a, b, c) {
                var d = function (a) {
                    var b = a.stop;
                    delete a.stop, b(c)
                };
                return "string" != typeof a && (c = b, b = a, a = void 0), b && a !== !1 && this.queue(a || "fx", []), this.each(function () {
                    var b = !0, e = null != a && a + "queueHooks", f = _.timers, g = ra.get(this);
                    if (e)g[e] && g[e].stop && d(g[e]); else for (e in g)g[e] && g[e].stop && ab.test(e) && d(g[e]);
                    for (e = f.length; e--;)f[e].elem !== this || null != a && f[e].queue !== a || (f[e].anim.stop(c), b = !1, f.splice(e, 1));
                    !b && c || _.dequeue(this, a)
                })
            }, finish: function (a) {
                return a !== !1 && (a = a || "fx"), this.each(function () {
                    var b, c = ra.get(this), d = c[a + "queue"], e = c[a + "queueHooks"], f = _.timers, g = d ? d.length : 0;
                    for (c.finish = !0, _.queue(this, a, []), e && e.stop && e.stop.call(this, !0), b = f.length; b--;)f[b].elem === this && f[b].queue === a && (f[b].anim.stop(!0), f.splice(b, 1));
                    for (b = 0; b < g; b++)d[b] && d[b].finish && d[b].finish.call(this);
                    delete c.finish
                })
            }
        }), _.each(["toggle", "show", "hide"], function (a, b) {
            var c = _.fn[b];
            _.fn[b] = function (a, d, e) {
                return null == a || "boolean" == typeof a ? c.apply(this, arguments) : this.animate(E(b, !0), a, d, e)
            }
        }), _.each({
            slideDown: E("show"),
            slideUp: E("hide"),
            slideToggle: E("toggle"),
            fadeIn: {opacity: "show"},
            fadeOut: {opacity: "hide"},
            fadeToggle: {opacity: "toggle"}
        }, function (a, b) {
            _.fn[a] = function (a, c, d) {
                return this.animate(b, a, c, d)
            }
        }), _.timers = [], _.fx.tick = function () {
            var a, b = 0, c = _.timers;
            for (Ya = _.now(); b < c.length; b++)a = c[b], a() || c[b] !== a || c.splice(b--, 1);
            c.length || _.fx.stop(), Ya = void 0
        }, _.fx.timer = function (a) {
            _.timers.push(a), a() ? _.fx.start() : _.timers.pop()
        }, _.fx.interval = 13, _.fx.start = function () {
            Za || (Za = setInterval(_.fx.tick, _.fx.interval))
        }, _.fx.stop = function () {
            clearInterval(Za), Za = null
        }, _.fx.speeds = {slow: 600, fast: 200, _default: 400}, _.fn.delay = function (a, b) {
            return a = _.fx ? _.fx.speeds[a] || a : a, b = b || "fx", this.queue(b, function (b, c) {
                var d = setTimeout(b, a);
                c.stop = function () {
                    clearTimeout(d)
                }
            })
        }, function () {
            var a = Z.createElement("input"), b = Z.createElement("select"), c = b.appendChild(Z.createElement("option"));
            a.type = "checkbox", Y.checkOn = "" !== a.value, Y.optSelected = c.selected, b.disabled = !0, Y.optDisabled = !c.disabled, a = Z.createElement("input"), a.value = "t", a.type = "radio", Y.radioValue = "t" === a.value
        }();
        var db, eb, fb = _.expr.attrHandle;
        _.fn.extend({
            attr: function (a, b) {
                return qa(this, _.attr, a, b, arguments.length > 1)
            }, removeAttr: function (a) {
                return this.each(function () {
                    _.removeAttr(this, a)
                })
            }
        }), _.extend({
            attr: function (a, b, c) {
                var d, e, f = a.nodeType;
                if (a && 3 !== f && 8 !== f && 2 !== f)return typeof a.getAttribute === za ? _.prop(a, b, c) : (1 === f && _.isXMLDoc(a) || (b = b.toLowerCase(), d = _.attrHooks[b] || (_.expr.match.bool.test(b) ? eb : db)), void 0 === c ? d && "get" in d && null !== (e = d.get(a, b)) ? e : (e = _.find.attr(a, b), null == e ? void 0 : e) : null !== c ? d && "set" in d && void 0 !== (e = d.set(a, c, b)) ? e : (a.setAttribute(b, c + ""), c) : void _.removeAttr(a, b))
            }, removeAttr: function (a, b) {
                var c, d, e = 0, f = b && b.match(na);
                if (f && 1 === a.nodeType)for (; c = f[e++];)d = _.propFix[c] || c, _.expr.match.bool.test(c) && (a[d] = !1), a.removeAttribute(c)
            }, attrHooks: {
                type: {
                    set: function (a, b) {
                        if (!Y.radioValue && "radio" === b && _.nodeName(a, "input")) {
                            var c = a.value;
                            return a.setAttribute("type", b), c && (a.value = c), b
                        }
                    }
                }
            }
        }), eb = {
            set: function (a, b, c) {
                return b === !1 ? _.removeAttr(a, c) : a.setAttribute(c, c), c
            }
        }, _.each(_.expr.match.bool.source.match(/\w+/g), function (a, b) {
            var c = fb[b] || _.find.attr;
            fb[b] = function (a, b, d) {
                var e, f;
                return d || (f = fb[b], fb[b] = e, e = null != c(a, b, d) ? b.toLowerCase() : null, fb[b] = f), e
            }
        });
        var gb = /^(?:input|select|textarea|button)$/i;
        _.fn.extend({
            prop: function (a, b) {
                return qa(this, _.prop, a, b, arguments.length > 1)
            }, removeProp: function (a) {
                return this.each(function () {
                    delete this[_.propFix[a] || a]
                })
            }
        }), _.extend({
            propFix: {for: "htmlFor", class: "className"}, prop: function (a, b, c) {
                var d, e, f, g = a.nodeType;
                if (a && 3 !== g && 8 !== g && 2 !== g)return f = 1 !== g || !_.isXMLDoc(a), f && (b = _.propFix[b] || b, e = _.propHooks[b]), void 0 !== c ? e && "set" in e && void 0 !== (d = e.set(a, c, b)) ? d : a[b] = c : e && "get" in e && null !== (d = e.get(a, b)) ? d : a[b]
            }, propHooks: {
                tabIndex: {
                    get: function (a) {
                        return a.hasAttribute("tabindex") || gb.test(a.nodeName) || a.href ? a.tabIndex : -1
                    }
                }
            }
        }), Y.optSelected || (_.propHooks.selected = {
            get: function (a) {
                var b = a.parentNode;
                return b && b.parentNode && b.parentNode.selectedIndex, null
            }
        }), _.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], function () {
            _.propFix[this.toLowerCase()] = this
        });
        var hb = /[\t\r\n\f]/g;
        _.fn.extend({
            addClass: function (a) {
                var b, c, d, e, f, g, h = "string" == typeof a && a, i = 0, j = this.length;
                if (_.isFunction(a))return this.each(function (b) {
                    _(this).addClass(a.call(this, b, this.className))
                });
                if (h)for (b = (a || "").match(na) || []; i < j; i++)if (c = this[i], d = 1 === c.nodeType && (c.className ? (" " + c.className + " ").replace(hb, " ") : " ")) {
                    for (f = 0; e = b[f++];)d.indexOf(" " + e + " ") < 0 && (d += e + " ");
                    g = _.trim(d), c.className !== g && (c.className = g)
                }
                return this
            }, removeClass: function (a) {
                var b, c, d, e, f, g, h = 0 === arguments.length || "string" == typeof a && a, i = 0, j = this.length;
                if (_.isFunction(a))return this.each(function (b) {
                    _(this).removeClass(a.call(this, b, this.className))
                });
                if (h)for (b = (a || "").match(na) || []; i < j; i++)if (c = this[i], d = 1 === c.nodeType && (c.className ? (" " + c.className + " ").replace(hb, " ") : "")) {
                    for (f = 0; e = b[f++];)for (; d.indexOf(" " + e + " ") >= 0;)d = d.replace(" " + e + " ", " ");
                    g = a ? _.trim(d) : "", c.className !== g && (c.className = g)
                }
                return this
            }, toggleClass: function (a, b) {
                var c = typeof a;
                return "boolean" == typeof b && "string" === c ? b ? this.addClass(a) : this.removeClass(a) : _.isFunction(a) ? this.each(function (c) {
                    _(this).toggleClass(a.call(this, c, this.className, b), b)
                }) : this.each(function () {
                    if ("string" === c)for (var b, d = 0, e = _(this), f = a.match(na) || []; b = f[d++];)e.hasClass(b) ? e.removeClass(b) : e.addClass(b); else c !== za && "boolean" !== c || (this.className && ra.set(this, "__className__", this.className), this.className = this.className || a === !1 ? "" : ra.get(this, "__className__") || "")
                })
            }, hasClass: function (a) {
                for (var b = " " + a + " ", c = 0, d = this.length; c < d; c++)if (1 === this[c].nodeType && (" " + this[c].className + " ").replace(hb, " ").indexOf(b) >= 0)return !0;
                return !1
            }
        });
        var ib = /\r/g;
        _.fn.extend({
            val: function (a) {
                var b, c, d, e = this[0];
                {
                    if (arguments.length)return d = _.isFunction(a), this.each(function (c) {
                        var e;
                        1 === this.nodeType && (e = d ? a.call(this, c, _(this).val()) : a, null == e ? e = "" : "number" == typeof e ? e += "" : _.isArray(e) && (e = _.map(e, function (a) {
                            return null == a ? "" : a + ""
                        })), b = _.valHooks[this.type] || _.valHooks[this.nodeName.toLowerCase()], b && "set" in b && void 0 !== b.set(this, e, "value") || (this.value = e))
                    });
                    if (e)return b = _.valHooks[e.type] || _.valHooks[e.nodeName.toLowerCase()], b && "get" in b && void 0 !== (c = b.get(e, "value")) ? c : (c = e.value, "string" == typeof c ? c.replace(ib, "") : null == c ? "" : c)
                }
            }
        }), _.extend({
            valHooks: {
                option: {
                    get: function (a) {
                        var b = _.find.attr(a, "value");
                        return null != b ? b : _.trim(_.text(a))
                    }
                }, select: {
                    get: function (a) {
                        for (var b, c, d = a.options, e = a.selectedIndex, f = "select-one" === a.type || e < 0, g = f ? null : [], h = f ? e + 1 : d.length, i = e < 0 ? h : f ? e : 0; i < h; i++)if (c = d[i], (c.selected || i === e) && (Y.optDisabled ? !c.disabled : null === c.getAttribute("disabled")) && (!c.parentNode.disabled || !_.nodeName(c.parentNode, "optgroup"))) {
                            if (b = _(c).val(), f)return b;
                            g.push(b)
                        }
                        return g
                    }, set: function (a, b) {
                        for (var c, d, e = a.options, f = _.makeArray(b), g = e.length; g--;)d = e[g], (d.selected = _.inArray(d.value, f) >= 0) && (c = !0);
                        return c || (a.selectedIndex = -1), f
                    }
                }
            }
        }), _.each(["radio", "checkbox"], function () {
            _.valHooks[this] = {
                set: function (a, b) {
                    if (_.isArray(b))return a.checked = _.inArray(_(a).val(), b) >= 0
                }
            }, Y.checkOn || (_.valHooks[this].get = function (a) {
                return null === a.getAttribute("value") ? "on" : a.value
            })
        }), _.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "), function (a, b) {
            _.fn[b] = function (a, c) {
                return arguments.length > 0 ? this.on(b, null, a, c) : this.trigger(b)
            }
        }), _.fn.extend({
            hover: function (a, b) {
                return this.mouseenter(a).mouseleave(b || a)
            }, bind: function (a, b, c) {
                return this.on(a, null, b, c)
            }, unbind: function (a, b) {
                return this.off(a, null, b)
            }, delegate: function (a, b, c, d) {
                return this.on(b, a, c, d)
            }, undelegate: function (a, b, c) {
                return 1 === arguments.length ? this.off(a, "**") : this.off(b, a || "**", c)
            }
        });
        var jb = _.now(), kb = /\?/;
        _.parseJSON = function (a) {
            return JSON.parse(a + "")
        }, _.parseXML = function (a) {
            var b, c;
            if (!a || "string" != typeof a)return null;
            try {
                c = new DOMParser, b = c.parseFromString(a, "text/xml")
            } catch (a) {
                b = void 0
            }
            return b && !b.getElementsByTagName("parsererror").length || _.error("Invalid XML: " + a), b
        };
        var lb = /#.*$/, mb = /([?&])_=[^&]*/, nb = /^(.*?):[ \t]*([^\r\n]*)$/gm, ob = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/, pb = /^(?:GET|HEAD)$/, qb = /^\/\//, rb = /^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/, sb = {}, tb = {}, ub = "*/".concat("*"), vb = a.location.href, wb = rb.exec(vb.toLowerCase()) || [];
        _.extend({
            active: 0,
            lastModified: {},
            etag: {},
            ajaxSettings: {
                url: vb,
                type: "GET",
                isLocal: ob.test(wb[1]),
                global: !0,
                processData: !0,
                async: !0,
                contentType: "application/x-www-form-urlencoded; charset=UTF-8",
                accepts: {
                    "*": ub,
                    text: "text/plain",
                    html: "text/html",
                    xml: "application/xml, text/xml",
                    json: "application/json, text/javascript"
                },
                contents: {xml: /xml/, html: /html/, json: /json/},
                responseFields: {xml: "responseXML", text: "responseText", json: "responseJSON"},
                converters: {"* text": String, "text html": !0, "text json": _.parseJSON, "text xml": _.parseXML},
                flatOptions: {url: !0, context: !0}
            },
            ajaxSetup: function (a, b) {
                return b ? L(L(a, _.ajaxSettings), b) : L(_.ajaxSettings, a)
            },
            ajaxPrefilter: J(sb),
            ajaxTransport: J(tb),
            ajax: function (a, b) {
                function c(a, b, c, g) {
                    var i, k, r, s, u, w = b;
                    2 !== t && (t = 2, h && clearTimeout(h), d = void 0, f = g || "", v.readyState = a > 0 ? 4 : 0, i = a >= 200 && a < 300 || 304 === a, c && (s = M(l, v, c)), s = N(l, s, v, i), i ? (l.ifModified && (u = v.getResponseHeader("Last-Modified"), u && (_.lastModified[e] = u), u = v.getResponseHeader("etag"), u && (_.etag[e] = u)), 204 === a || "HEAD" === l.type ? w = "nocontent" : 304 === a ? w = "notmodified" : (w = s.state, k = s.data, r = s.error, i = !r)) : (r = w, !a && w || (w = "error", a < 0 && (a = 0))), v.status = a, v.statusText = (b || w) + "", i ? o.resolveWith(m, [k, w, v]) : o.rejectWith(m, [v, w, r]), v.statusCode(q), q = void 0, j && n.trigger(i ? "ajaxSuccess" : "ajaxError", [v, l, i ? k : r]), p.fireWith(m, [v, w]), j && (n.trigger("ajaxComplete", [v, l]), --_.active || _.event.trigger("ajaxStop")))
                }

                "object" == typeof a && (b = a, a = void 0), b = b || {};
                var d, e, f, g, h, i, j, k, l = _.ajaxSetup({}, b), m = l.context || l, n = l.context && (m.nodeType || m.jquery) ? _(m) : _.event, o = _.Deferred(), p = _.Callbacks("once memory"), q = l.statusCode || {}, r = {}, s = {}, t = 0, u = "canceled", v = {
                    readyState: 0,
                    getResponseHeader: function (a) {
                        var b;
                        if (2 === t) {
                            if (!g)for (g = {}; b = nb.exec(f);)g[b[1].toLowerCase()] = b[2];
                            b = g[a.toLowerCase()]
                        }
                        return null == b ? null : b
                    },
                    getAllResponseHeaders: function () {
                        return 2 === t ? f : null
                    },
                    setRequestHeader: function (a, b) {
                        var c = a.toLowerCase();
                        return t || (a = s[c] = s[c] || a, r[a] = b), this
                    },
                    overrideMimeType: function (a) {
                        return t || (l.mimeType = a), this
                    },
                    statusCode: function (a) {
                        var b;
                        if (a)if (t < 2)for (b in a)q[b] = [q[b], a[b]]; else v.always(a[v.status]);
                        return this
                    },
                    abort: function (a) {
                        var b = a || u;
                        return d && d.abort(b), c(0, b), this
                    }
                };
                if (o.promise(v).complete = p.add, v.success = v.done, v.error = v.fail, l.url = ((a || l.url || vb) + "").replace(lb, "").replace(qb, wb[1] + "//"), l.type = b.method || b.type || l.method || l.type, l.dataTypes = _.trim(l.dataType || "*").toLowerCase().match(na) || [""], null == l.crossDomain && (i = rb.exec(l.url.toLowerCase()), l.crossDomain = !(!i || i[1] === wb[1] && i[2] === wb[2] && (i[3] || ("http:" === i[1] ? "80" : "443")) === (wb[3] || ("http:" === wb[1] ? "80" : "443")))), l.data && l.processData && "string" != typeof l.data && (l.data = _.param(l.data, l.traditional)), K(sb, l, b, v), 2 === t)return v;
                j = _.event && l.global, j && 0 === _.active++ && _.event.trigger("ajaxStart"), l.type = l.type.toUpperCase(), l.hasContent = !pb.test(l.type), e = l.url, l.hasContent || (l.data && (e = l.url += (kb.test(e) ? "&" : "?") + l.data, delete l.data), l.cache === !1 && (l.url = mb.test(e) ? e.replace(mb, "$1_=" + jb++) : e + (kb.test(e) ? "&" : "?") + "_=" + jb++)), l.ifModified && (_.lastModified[e] && v.setRequestHeader("If-Modified-Since", _.lastModified[e]), _.etag[e] && v.setRequestHeader("If-None-Match", _.etag[e])), (l.data && l.hasContent && l.contentType !== !1 || b.contentType) && v.setRequestHeader("Content-Type", l.contentType), v.setRequestHeader("Accept", l.dataTypes[0] && l.accepts[l.dataTypes[0]] ? l.accepts[l.dataTypes[0]] + ("*" !== l.dataTypes[0] ? ", " + ub + "; q=0.01" : "") : l.accepts["*"]);
                for (k in l.headers)v.setRequestHeader(k, l.headers[k]);
                if (l.beforeSend && (l.beforeSend.call(m, v, l) === !1 || 2 === t))return v.abort();
                u = "abort";
                for (k in{success: 1, error: 1, complete: 1})v[k](l[k]);
                if (d = K(tb, l, b, v)) {
                    v.readyState = 1, j && n.trigger("ajaxSend", [v, l]), l.async && l.timeout > 0 && (h = setTimeout(function () {
                        v.abort("timeout")
                    }, l.timeout));
                    try {
                        t = 1, d.send(r, c)
                    } catch (a) {
                        if (!(t < 2))throw a;
                        c(-1, a)
                    }
                } else c(-1, "No Transport");
                return v
            },
            getJSON: function (a, b, c) {
                return _.get(a, b, c, "json")
            },
            getScript: function (a, b) {
                return _.get(a, void 0, b, "script")
            }
        }), _.each(["get", "post"], function (a, b) {
            _[b] = function (a, c, d, e) {
                return _.isFunction(c) && (e = e || d, d = c, c = void 0), _.ajax({
                    url: a,
                    type: b,
                    dataType: e,
                    data: c,
                    success: d
                })
            }
        }), _._evalUrl = function (a) {
            return _.ajax({url: a, type: "GET", dataType: "script", async: !1, global: !1, throws: !0})
        }, _.fn.extend({
            wrapAll: function (a) {
                var b;
                return _.isFunction(a) ? this.each(function (b) {
                    _(this).wrapAll(a.call(this, b));
                }) : (this[0] && (b = _(a, this[0].ownerDocument).eq(0).clone(!0), this[0].parentNode && b.insertBefore(this[0]), b.map(function () {
                    for (var a = this; a.firstElementChild;)a = a.firstElementChild;
                    return a
                }).append(this)), this)
            }, wrapInner: function (a) {
                return _.isFunction(a) ? this.each(function (b) {
                    _(this).wrapInner(a.call(this, b))
                }) : this.each(function () {
                    var b = _(this), c = b.contents();
                    c.length ? c.wrapAll(a) : b.append(a)
                })
            }, wrap: function (a) {
                var b = _.isFunction(a);
                return this.each(function (c) {
                    _(this).wrapAll(b ? a.call(this, c) : a)
                })
            }, unwrap: function () {
                return this.parent().each(function () {
                    _.nodeName(this, "body") || _(this).replaceWith(this.childNodes)
                }).end()
            }
        }), _.expr.filters.hidden = function (a) {
            return a.offsetWidth <= 0 && a.offsetHeight <= 0
        }, _.expr.filters.visible = function (a) {
            return !_.expr.filters.hidden(a)
        };
        var xb = /%20/g, yb = /\[\]$/, zb = /\r?\n/g, Ab = /^(?:submit|button|image|reset|file)$/i, Bb = /^(?:input|select|textarea|keygen)/i;
        _.param = function (a, b) {
            var c, d = [], e = function (a, b) {
                b = _.isFunction(b) ? b() : null == b ? "" : b, d[d.length] = encodeURIComponent(a) + "=" + encodeURIComponent(b)
            };
            if (void 0 === b && (b = _.ajaxSettings && _.ajaxSettings.traditional), _.isArray(a) || a.jquery && !_.isPlainObject(a))_.each(a, function () {
                e(this.name, this.value)
            }); else for (c in a)O(c, a[c], b, e);
            return d.join("&").replace(xb, "+")
        }, _.fn.extend({
            serialize: function () {
                return _.param(this.serializeArray())
            }, serializeArray: function () {
                return this.map(function () {
                    var a = _.prop(this, "elements");
                    return a ? _.makeArray(a) : this
                }).filter(function () {
                    var a = this.type;
                    return this.name && !_(this).is(":disabled") && Bb.test(this.nodeName) && !Ab.test(a) && (this.checked || !ya.test(a))
                }).map(function (a, b) {
                    var c = _(this).val();
                    return null == c ? null : _.isArray(c) ? _.map(c, function (a) {
                        return {name: b.name, value: a.replace(zb, "\r\n")}
                    }) : {name: b.name, value: c.replace(zb, "\r\n")}
                }).get()
            }
        }), _.ajaxSettings.xhr = function () {
            try {
                return new XMLHttpRequest
            } catch (a) {
            }
        };
        var Cb = 0, Db = {}, Eb = {0: 200, 1223: 204}, Fb = _.ajaxSettings.xhr();
        a.attachEvent && a.attachEvent("onunload", function () {
            for (var a in Db)Db[a]()
        }), Y.cors = !!Fb && "withCredentials" in Fb, Y.ajax = Fb = !!Fb, _.ajaxTransport(function (a) {
            var b;
            if (Y.cors || Fb && !a.crossDomain)return {
                send: function (c, d) {
                    var e, f = a.xhr(), g = ++Cb;
                    if (f.open(a.type, a.url, a.async, a.username, a.password), a.xhrFields)for (e in a.xhrFields)f[e] = a.xhrFields[e];
                    a.mimeType && f.overrideMimeType && f.overrideMimeType(a.mimeType), a.crossDomain || c["X-Requested-With"] || (c["X-Requested-With"] = "XMLHttpRequest");
                    for (e in c)f.setRequestHeader(e, c[e]);
                    b = function (a) {
                        return function () {
                            b && (delete Db[g], b = f.onload = f.onerror = null, "abort" === a ? f.abort() : "error" === a ? d(f.status, f.statusText) : d(Eb[f.status] || f.status, f.statusText, "string" == typeof f.responseText ? {text: f.responseText} : void 0, f.getAllResponseHeaders()))
                        }
                    }, f.onload = b(), f.onerror = b("error"), b = Db[g] = b("abort");
                    try {
                        f.send(a.hasContent && a.data || null)
                    } catch (a) {
                        if (b)throw a
                    }
                }, abort: function () {
                    b && b()
                }
            }
        }), _.ajaxSetup({
            accepts: {script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
            contents: {script: /(?:java|ecma)script/},
            converters: {
                "text script": function (a) {
                    return _.globalEval(a), a
                }
            }
        }), _.ajaxPrefilter("script", function (a) {
            void 0 === a.cache && (a.cache = !1), a.crossDomain && (a.type = "GET")
        }), _.ajaxTransport("script", function (a) {
            if (a.crossDomain) {
                var b, c;
                return {
                    send: function (d, e) {
                        b = _("<script>").prop({
                            async: !0,
                            charset: a.scriptCharset,
                            src: a.url
                        }).on("load error", c = function (a) {
                            b.remove(), c = null, a && e("error" === a.type ? 404 : 200, a.type)
                        }), Z.head.appendChild(b[0])
                    }, abort: function () {
                        c && c()
                    }
                }
            }
        });
        var Gb = [], Hb = /(=)\?(?=&|$)|\?\?/;
        _.ajaxSetup({
            jsonp: "callback", jsonpCallback: function () {
                var a = Gb.pop() || _.expando + "_" + jb++;
                return this[a] = !0, a
            }
        }), _.ajaxPrefilter("json jsonp", function (b, c, d) {
            var e, f, g, h = b.jsonp !== !1 && (Hb.test(b.url) ? "url" : "string" == typeof b.data && !(b.contentType || "").indexOf("application/x-www-form-urlencoded") && Hb.test(b.data) && "data");
            if (h || "jsonp" === b.dataTypes[0])return e = b.jsonpCallback = _.isFunction(b.jsonpCallback) ? b.jsonpCallback() : b.jsonpCallback, h ? b[h] = b[h].replace(Hb, "$1" + e) : b.jsonp !== !1 && (b.url += (kb.test(b.url) ? "&" : "?") + b.jsonp + "=" + e), b.converters["script json"] = function () {
                return g || _.error(e + " was not called"), g[0]
            }, b.dataTypes[0] = "json", f = a[e], a[e] = function () {
                g = arguments
            }, d.always(function () {
                a[e] = f, b[e] && (b.jsonpCallback = c.jsonpCallback, Gb.push(e)), g && _.isFunction(f) && f(g[0]), g = f = void 0
            }), "script"
        }), _.parseHTML = function (a, b, c) {
            if (!a || "string" != typeof a)return null;
            "boolean" == typeof b && (c = b, b = !1), b = b || Z;
            var d = ga.exec(a), e = !c && [];
            return d ? [b.createElement(d[1])] : (d = _.buildFragment([a], b, e), e && e.length && _(e).remove(), _.merge([], d.childNodes))
        };
        var Ib = _.fn.load;
        _.fn.load = function (a, b, c) {
            if ("string" != typeof a && Ib)return Ib.apply(this, arguments);
            var d, e, f, g = this, h = a.indexOf(" ");
            return h >= 0 && (d = _.trim(a.slice(h)), a = a.slice(0, h)), _.isFunction(b) ? (c = b, b = void 0) : b && "object" == typeof b && (e = "POST"), g.length > 0 && _.ajax({
                url: a,
                type: e,
                dataType: "html",
                data: b
            }).done(function (a) {
                f = arguments, g.html(d ? _("<div>").append(_.parseHTML(a)).find(d) : a)
            }).complete(c && function (a, b) {
                    g.each(c, f || [a.responseText, b, a])
                }), this
        }, _.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function (a, b) {
            _.fn[b] = function (a) {
                return this.on(b, a)
            }
        }), _.expr.filters.animated = function (a) {
            return _.grep(_.timers, function (b) {
                return a === b.elem
            }).length
        };
        var Jb = a.document.documentElement;
        _.offset = {
            setOffset: function (a, b, c) {
                var d, e, f, g, h, i, j, k = _.css(a, "position"), l = _(a), m = {};
                "static" === k && (a.style.position = "relative"), h = l.offset(), f = _.css(a, "top"), i = _.css(a, "left"), j = ("absolute" === k || "fixed" === k) && (f + i).indexOf("auto") > -1, j ? (d = l.position(), g = d.top, e = d.left) : (g = parseFloat(f) || 0, e = parseFloat(i) || 0), _.isFunction(b) && (b = b.call(a, c, h)), null != b.top && (m.top = b.top - h.top + g), null != b.left && (m.left = b.left - h.left + e), "using" in b ? b.using.call(a, m) : l.css(m)
            }
        }, _.fn.extend({
            offset: function (a) {
                if (arguments.length)return void 0 === a ? this : this.each(function (b) {
                    _.offset.setOffset(this, a, b)
                });
                var b, c, d = this[0], e = {top: 0, left: 0}, f = d && d.ownerDocument;
                if (f)return b = f.documentElement, _.contains(b, d) ? (typeof d.getBoundingClientRect !== za && (e = d.getBoundingClientRect()), c = P(f), {
                    top: e.top + c.pageYOffset - b.clientTop,
                    left: e.left + c.pageXOffset - b.clientLeft
                }) : e
            }, position: function () {
                if (this[0]) {
                    var a, b, c = this[0], d = {top: 0, left: 0};
                    return "fixed" === _.css(c, "position") ? b = c.getBoundingClientRect() : (a = this.offsetParent(), b = this.offset(), _.nodeName(a[0], "html") || (d = a.offset()), d.top += _.css(a[0], "borderTopWidth", !0), d.left += _.css(a[0], "borderLeftWidth", !0)), {
                        top: b.top - d.top - _.css(c, "marginTop", !0),
                        left: b.left - d.left - _.css(c, "marginLeft", !0)
                    }
                }
            }, offsetParent: function () {
                return this.map(function () {
                    for (var a = this.offsetParent || Jb; a && !_.nodeName(a, "html") && "static" === _.css(a, "position");)a = a.offsetParent;
                    return a || Jb
                })
            }
        }), _.each({scrollLeft: "pageXOffset", scrollTop: "pageYOffset"}, function (b, c) {
            var d = "pageYOffset" === c;
            _.fn[b] = function (e) {
                return qa(this, function (b, e, f) {
                    var g = P(b);
                    return void 0 === f ? g ? g[c] : b[e] : void(g ? g.scrollTo(d ? a.pageXOffset : f, d ? f : a.pageYOffset) : b[e] = f)
                }, b, e, arguments.length, null)
            }
        }), _.each(["top", "left"], function (a, b) {
            _.cssHooks[b] = w(Y.pixelPosition, function (a, c) {
                if (c)return c = v(a, b), Qa.test(c) ? _(a).position()[b] + "px" : c
            })
        }), _.each({Height: "height", Width: "width"}, function (a, b) {
            _.each({padding: "inner" + a, content: b, "": "outer" + a}, function (c, d) {
                _.fn[d] = function (d, e) {
                    var f = arguments.length && (c || "boolean" != typeof d), g = c || (d === !0 || e === !0 ? "margin" : "border");
                    return qa(this, function (b, c, d) {
                        var e;
                        return _.isWindow(b) ? b.document.documentElement["client" + a] : 9 === b.nodeType ? (e = b.documentElement, Math.max(b.body["scroll" + a], e["scroll" + a], b.body["offset" + a], e["offset" + a], e["client" + a])) : void 0 === d ? _.css(b, c, g) : _.style(b, c, d, g)
                    }, b, f ? d : void 0, f, null)
                }
            })
        }), _.fn.size = function () {
            return this.length
        }, _.fn.andSelf = _.fn.addBack, "function" == typeof define && define.amd && define("jquery", [], function () {
            return _
        });
        var Kb = a.jQuery, Lb = a.$;
        return _.noConflict = function (b) {
            return a.$ === _ && (a.$ = Lb), b && a.jQuery === _ && (a.jQuery = Kb), _
        }, typeof b === za && (a.jQuery = a.$ = _), _
    }), function (a) {
        "function" == typeof define && define.amd ? define(["jquery"], a) : a(jQuery)
    }(function (a) {
        function b(b, d) {
            var e, f, g, h = b.nodeName.toLowerCase();
            return "area" === h ? (e = b.parentNode, f = e.name, !(!b.href || !f || "map" !== e.nodeName.toLowerCase()) && (g = a("img[usemap='#" + f + "']")[0], !!g && c(g))) : (/^(input|select|textarea|button|object)$/.test(h) ? !b.disabled : "a" === h ? b.href || d : d) && c(b)
        }

        function c(b) {
            return a.expr.filters.visible(b) && !a(b).parents().addBack().filter(function () {
                    return "hidden" === a.css(this, "visibility")
                }).length
        }

        a.ui = a.ui || {}, a.extend(a.ui, {
            version: "1.11.4",
            keyCode: {
                BACKSPACE: 8,
                COMMA: 188,
                DELETE: 46,
                DOWN: 40,
                END: 35,
                ENTER: 13,
                ESCAPE: 27,
                HOME: 36,
                LEFT: 37,
                PAGE_DOWN: 34,
                PAGE_UP: 33,
                PERIOD: 190,
                RIGHT: 39,
                SPACE: 32,
                TAB: 9,
                UP: 38
            }
        }), a.fn.extend({
            scrollParent: function (b) {
                var c = this.css("position"), d = "absolute" === c, e = b ? /(auto|scroll|hidden)/ : /(auto|scroll)/, f = this.parents().filter(function () {
                    var b = a(this);
                    return (!d || "static" !== b.css("position")) && e.test(b.css("overflow") + b.css("overflow-y") + b.css("overflow-x"))
                }).eq(0);
                return "fixed" !== c && f.length ? f : a(this[0].ownerDocument || document)
            }, uniqueId: function () {
                var a = 0;
                return function () {
                    return this.each(function () {
                        this.id || (this.id = "ui-id-" + ++a)
                    })
                }
            }(), removeUniqueId: function () {
                return this.each(function () {
                    /^ui-id-\d+$/.test(this.id) && a(this).removeAttr("id")
                })
            }
        }), a.extend(a.expr[":"], {
            data: a.expr.createPseudo ? a.expr.createPseudo(function (b) {
                return function (c) {
                    return !!a.data(c, b)
                }
            }) : function (b, c, d) {
                return !!a.data(b, d[3])
            }, focusable: function (c) {
                return b(c, !isNaN(a.attr(c, "tabindex")))
            }, tabbable: function (c) {
                var d = a.attr(c, "tabindex"), e = isNaN(d);
                return (e || d >= 0) && b(c, !e)
            }
        }), a("<a>").outerWidth(1).jquery || a.each(["Width", "Height"], function (b, c) {
            function d(b, c, d, f) {
                return a.each(e, function () {
                    c -= parseFloat(a.css(b, "padding" + this)) || 0, d && (c -= parseFloat(a.css(b, "border" + this + "Width")) || 0), f && (c -= parseFloat(a.css(b, "margin" + this)) || 0)
                }), c
            }

            var e = "Width" === c ? ["Left", "Right"] : ["Top", "Bottom"], f = c.toLowerCase(), g = {
                innerWidth: a.fn.innerWidth,
                innerHeight: a.fn.innerHeight,
                outerWidth: a.fn.outerWidth,
                outerHeight: a.fn.outerHeight
            };
            a.fn["inner" + c] = function (b) {
                return void 0 === b ? g["inner" + c].call(this) : this.each(function () {
                    a(this).css(f, d(this, b) + "px")
                })
            }, a.fn["outer" + c] = function (b, e) {
                return "number" != typeof b ? g["outer" + c].call(this, b) : this.each(function () {
                    a(this).css(f, d(this, b, !0, e) + "px")
                })
            }
        }), a.fn.addBack || (a.fn.addBack = function (a) {
            return this.add(null == a ? this.prevObject : this.prevObject.filter(a))
        }), a("<a>").data("a-b", "a").removeData("a-b").data("a-b") && (a.fn.removeData = function (b) {
            return function (c) {
                return arguments.length ? b.call(this, a.camelCase(c)) : b.call(this)
            }
        }(a.fn.removeData)), a.ui.ie = !!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()), a.fn.extend({
            focus: function (b) {
                return function (c, d) {
                    return "number" == typeof c ? this.each(function () {
                        var b = this;
                        setTimeout(function () {
                            a(b).focus(), d && d.call(b)
                        }, c)
                    }) : b.apply(this, arguments)
                }
            }(a.fn.focus), disableSelection: function () {
                var a = "onselectstart" in document.createElement("div") ? "selectstart" : "mousedown";
                return function () {
                    return this.bind(a + ".ui-disableSelection", function (a) {
                        a.preventDefault()
                    })
                }
            }(), enableSelection: function () {
                return this.unbind(".ui-disableSelection")
            }, zIndex: function (b) {
                if (void 0 !== b)return this.css("zIndex", b);
                if (this.length)for (var c, d, e = a(this[0]); e.length && e[0] !== document;) {
                    if (c = e.css("position"), ("absolute" === c || "relative" === c || "fixed" === c) && (d = parseInt(e.css("zIndex"), 10), !isNaN(d) && 0 !== d))return d;
                    e = e.parent()
                }
                return 0
            }
        }), a.ui.plugin = {
            add: function (b, c, d) {
                var e, f = a.ui[b].prototype;
                for (e in d)f.plugins[e] = f.plugins[e] || [], f.plugins[e].push([c, d[e]])
            }, call: function (a, b, c, d) {
                var e, f = a.plugins[b];
                if (f && (d || a.element[0].parentNode && 11 !== a.element[0].parentNode.nodeType))for (e = 0; e < f.length; e++)a.options[f[e][0]] && f[e][1].apply(a.element, c)
            }
        }
    }), function (a) {
        "function" == typeof define && define.amd ? define(["jquery"], a) : a(jQuery)
    }(function (a) {
        var b = 0, c = Array.prototype.slice;
        return a.cleanData = function (b) {
            return function (c) {
                var d, e, f;
                for (f = 0; null != (e = c[f]); f++)try {
                    d = a._data(e, "events"), d && d.remove && a(e).triggerHandler("remove")
                } catch (a) {
                }
                b(c)
            }
        }(a.cleanData), a.widget = function (b, c, d) {
            var e, f, g, h, i = {}, j = b.split(".")[0];
            return b = b.split(".")[1], e = j + "-" + b, d || (d = c, c = a.Widget), a.expr[":"][e.toLowerCase()] = function (b) {
                return !!a.data(b, e)
            }, a[j] = a[j] || {}, f = a[j][b], g = a[j][b] = function (a, b) {
                return this._createWidget ? void(arguments.length && this._createWidget(a, b)) : new g(a, b)
            }, a.extend(g, f, {
                version: d.version,
                _proto: a.extend({}, d),
                _childConstructors: []
            }), h = new c, h.options = a.widget.extend({}, h.options), a.each(d, function (b, d) {
                return a.isFunction(d) ? void(i[b] = function () {
                    var a = function () {
                        return c.prototype[b].apply(this, arguments)
                    }, e = function (a) {
                        return c.prototype[b].apply(this, a)
                    };
                    return function () {
                        var b, c = this._super, f = this._superApply;
                        return this._super = a, this._superApply = e, b = d.apply(this, arguments), this._super = c, this._superApply = f, b
                    }
                }()) : void(i[b] = d)
            }), g.prototype = a.widget.extend(h, {widgetEventPrefix: f ? h.widgetEventPrefix || b : b}, i, {
                constructor: g,
                namespace: j,
                widgetName: b,
                widgetFullName: e
            }), f ? (a.each(f._childConstructors, function (b, c) {
                var d = c.prototype;
                a.widget(d.namespace + "." + d.widgetName, g, c._proto)
            }), delete f._childConstructors) : c._childConstructors.push(g), a.widget.bridge(b, g), g
        }, a.widget.extend = function (b) {
            for (var d, e, f = c.call(arguments, 1), g = 0, h = f.length; g < h; g++)for (d in f[g])e = f[g][d], f[g].hasOwnProperty(d) && void 0 !== e && (a.isPlainObject(e) ? b[d] = a.isPlainObject(b[d]) ? a.widget.extend({}, b[d], e) : a.widget.extend({}, e) : b[d] = e);
            return b
        }, a.widget.bridge = function (b, d) {
            var e = d.prototype.widgetFullName || b;
            a.fn[b] = function (f) {
                var g = "string" == typeof f, h = c.call(arguments, 1), i = this;
                return g ? this.each(function () {
                    var c, d = a.data(this, e);
                    return "instance" === f ? (i = d, !1) : d ? a.isFunction(d[f]) && "_" !== f.charAt(0) ? (c = d[f].apply(d, h), c !== d && void 0 !== c ? (i = c && c.jquery ? i.pushStack(c.get()) : c, !1) : void 0) : a.error("no such method '" + f + "' for " + b + " widget instance") : a.error("cannot call methods on " + b + " prior to initialization; attempted to call method '" + f + "'")
                }) : (h.length && (f = a.widget.extend.apply(null, [f].concat(h))), this.each(function () {
                    var b = a.data(this, e);
                    b ? (b.option(f || {}), b._init && b._init()) : a.data(this, e, new d(f, this))
                })), i
            }
        }, a.Widget = function () {
        }, a.Widget._childConstructors = [], a.Widget.prototype = {
            widgetName: "widget",
            widgetEventPrefix: "",
            defaultElement: "<div>",
            options: {disabled: !1, create: null},
            _createWidget: function (c, d) {
                d = a(d || this.defaultElement || this)[0], this.element = a(d), this.uuid = b++, this.eventNamespace = "." + this.widgetName + this.uuid, this.bindings = a(), this.hoverable = a(), this.focusable = a(), d !== this && (a.data(d, this.widgetFullName, this), this._on(!0, this.element, {
                    remove: function (a) {
                        a.target === d && this.destroy()
                    }
                }), this.document = a(d.style ? d.ownerDocument : d.document || d), this.window = a(this.document[0].defaultView || this.document[0].parentWindow)), this.options = a.widget.extend({}, this.options, this._getCreateOptions(), c), this._create(), this._trigger("create", null, this._getCreateEventData()), this._init()
            },
            _getCreateOptions: a.noop,
            _getCreateEventData: a.noop,
            _create: a.noop,
            _init: a.noop,
            destroy: function () {
                this._destroy(), this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName)), this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName + "-disabled ui-state-disabled"), this.bindings.unbind(this.eventNamespace), this.hoverable.removeClass("ui-state-hover"), this.focusable.removeClass("ui-state-focus")
            },
            _destroy: a.noop,
            widget: function () {
                return this.element
            },
            option: function (b, c) {
                var d, e, f, g = b;
                if (0 === arguments.length)return a.widget.extend({}, this.options);
                if ("string" == typeof b)if (g = {}, d = b.split("."), b = d.shift(), d.length) {
                    for (e = g[b] = a.widget.extend({}, this.options[b]), f = 0; f < d.length - 1; f++)e[d[f]] = e[d[f]] || {}, e = e[d[f]];
                    if (b = d.pop(), 1 === arguments.length)return void 0 === e[b] ? null : e[b];
                    e[b] = c
                } else {
                    if (1 === arguments.length)return void 0 === this.options[b] ? null : this.options[b];
                    g[b] = c
                }
                return this._setOptions(g), this
            },
            _setOptions: function (a) {
                var b;
                for (b in a)this._setOption(b, a[b]);
                return this
            },
            _setOption: function (a, b) {
                return this.options[a] = b, "disabled" === a && (this.widget().toggleClass(this.widgetFullName + "-disabled", !!b), b && (this.hoverable.removeClass("ui-state-hover"), this.focusable.removeClass("ui-state-focus"))), this
            },
            enable: function () {
                return this._setOptions({disabled: !1})
            },
            disable: function () {
                return this._setOptions({disabled: !0})
            },
            _on: function (b, c, d) {
                var e, f = this;
                "boolean" != typeof b && (d = c, c = b, b = !1), d ? (c = e = a(c), this.bindings = this.bindings.add(c)) : (d = c, c = this.element, e = this.widget()), a.each(d, function (d, g) {
                    function h() {
                        if (b || f.options.disabled !== !0 && !a(this).hasClass("ui-state-disabled"))return ("string" == typeof g ? f[g] : g).apply(f, arguments)
                    }

                    "string" != typeof g && (h.guid = g.guid = g.guid || h.guid || a.guid++);
                    var i = d.match(/^([\w:-]*)\s*(.*)$/), j = i[1] + f.eventNamespace, k = i[2];
                    k ? e.delegate(k, j, h) : c.bind(j, h)
                })
            },
            _off: function (b, c) {
                c = (c || "").split(" ").join(this.eventNamespace + " ") + this.eventNamespace, b.unbind(c).undelegate(c), this.bindings = a(this.bindings.not(b).get()), this.focusable = a(this.focusable.not(b).get()), this.hoverable = a(this.hoverable.not(b).get())
            },
            _delay: function (a, b) {
                function c() {
                    return ("string" == typeof a ? d[a] : a).apply(d, arguments)
                }

                var d = this;
                return setTimeout(c, b || 0)
            },
            _hoverable: function (b) {
                this.hoverable = this.hoverable.add(b), this._on(b, {
                    mouseenter: function (b) {
                        a(b.currentTarget).addClass("ui-state-hover")
                    }, mouseleave: function (b) {
                        a(b.currentTarget).removeClass("ui-state-hover")
                    }
                })
            },
            _focusable: function (b) {
                this.focusable = this.focusable.add(b), this._on(b, {
                    focusin: function (b) {
                        a(b.currentTarget).addClass("ui-state-focus")
                    }, focusout: function (b) {
                        a(b.currentTarget).removeClass("ui-state-focus")
                    }
                })
            },
            _trigger: function (b, c, d) {
                var e, f, g = this.options[b];
                if (d = d || {}, c = a.Event(c), c.type = (b === this.widgetEventPrefix ? b : this.widgetEventPrefix + b).toLowerCase(), c.target = this.element[0], f = c.originalEvent)for (e in f)e in c || (c[e] = f[e]);
                return this.element.trigger(c, d), !(a.isFunction(g) && g.apply(this.element[0], [c].concat(d)) === !1 || c.isDefaultPrevented())
            }
        }, a.each({show: "fadeIn", hide: "fadeOut"}, function (b, c) {
            a.Widget.prototype["_" + b] = function (d, e, f) {
                "string" == typeof e && (e = {effect: e});
                var g, h = e ? e === !0 || "number" == typeof e ? c : e.effect || c : b;
                e = e || {}, "number" == typeof e && (e = {duration: e}), g = !a.isEmptyObject(e), e.complete = f, e.delay && d.delay(e.delay), g && a.effects && a.effects.effect[h] ? d[b](e) : h !== b && d[h] ? d[h](e.duration, e.easing, f) : d.queue(function (c) {
                    a(this)[b](), f && f.call(d[0]), c()
                })
            }
        }), a.widget
    }), function (a) {
        "function" == typeof define && define.amd ? define(["jquery", "./widget"], a) : a(jQuery)
    }(function (a) {
        var b = !1;
        return a(document).mouseup(function () {
            b = !1
        }), a.widget("ui.mouse", {
            version: "1.11.4",
            options: {cancel: "input,textarea,button,select,option", distance: 1, delay: 0},
            _mouseInit: function () {
                var b = this;
                this.element.bind("mousedown." + this.widgetName, function (a) {
                    return b._mouseDown(a)
                }).bind("click." + this.widgetName, function (c) {
                    if (!0 === a.data(c.target, b.widgetName + ".preventClickEvent"))return a.removeData(c.target, b.widgetName + ".preventClickEvent"), c.stopImmediatePropagation(), !1
                }), this.started = !1
            },
            _mouseDestroy: function () {
                this.element.unbind("." + this.widgetName), this._mouseMoveDelegate && this.document.unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate)
            },
            _mouseDown: function (c) {
                if (!b) {
                    this._mouseMoved = !1, this._mouseStarted && this._mouseUp(c), this._mouseDownEvent = c;
                    var d = this, e = 1 === c.which, f = !("string" != typeof this.options.cancel || !c.target.nodeName) && a(c.target).closest(this.options.cancel).length;
                    return !(e && !f && this._mouseCapture(c)) || (this.mouseDelayMet = !this.options.delay, this.mouseDelayMet || (this._mouseDelayTimer = setTimeout(function () {
                            d.mouseDelayMet = !0
                        }, this.options.delay)), this._mouseDistanceMet(c) && this._mouseDelayMet(c) && (this._mouseStarted = this._mouseStart(c) !== !1, !this._mouseStarted) ? (c.preventDefault(), !0) : (!0 === a.data(c.target, this.widgetName + ".preventClickEvent") && a.removeData(c.target, this.widgetName + ".preventClickEvent"), this._mouseMoveDelegate = function (a) {
                            return d._mouseMove(a)
                        }, this._mouseUpDelegate = function (a) {
                            return d._mouseUp(a)
                        }, this.document.bind("mousemove." + this.widgetName, this._mouseMoveDelegate).bind("mouseup." + this.widgetName, this._mouseUpDelegate), c.preventDefault(), b = !0, !0))
                }
            },
            _mouseMove: function (b) {
                if (this._mouseMoved) {
                    if (a.ui.ie && (!document.documentMode || document.documentMode < 9) && !b.button)return this._mouseUp(b);
                    if (!b.which)return this._mouseUp(b)
                }
                return (b.which || b.button) && (this._mouseMoved = !0), this._mouseStarted ? (this._mouseDrag(b), b.preventDefault()) : (this._mouseDistanceMet(b) && this._mouseDelayMet(b) && (this._mouseStarted = this._mouseStart(this._mouseDownEvent, b) !== !1, this._mouseStarted ? this._mouseDrag(b) : this._mouseUp(b)), !this._mouseStarted)
            },
            _mouseUp: function (c) {
                return this.document.unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate), this._mouseStarted && (this._mouseStarted = !1, c.target === this._mouseDownEvent.target && a.data(c.target, this.widgetName + ".preventClickEvent", !0), this._mouseStop(c)), b = !1, !1
            },
            _mouseDistanceMet: function (a) {
                return Math.max(Math.abs(this._mouseDownEvent.pageX - a.pageX), Math.abs(this._mouseDownEvent.pageY - a.pageY)) >= this.options.distance
            },
            _mouseDelayMet: function () {
                return this.mouseDelayMet
            },
            _mouseStart: function () {
            },
            _mouseDrag: function () {
            },
            _mouseStop: function () {
            },
            _mouseCapture: function () {
                return !0
            }
        })
    }), function (a) {
        "function" == typeof define && define.amd ? define(["jquery", "./core", "./mouse", "./widget"], a) : a(jQuery)
    }(function (a) {
        return a.widget("ui.draggable", a.ui.mouse, {
            version: "1.11.4",
            widgetEventPrefix: "drag",
            options: {
                addClasses: !0,
                appendTo: "parent",
                axis: !1,
                connectToSortable: !1,
                containment: !1,
                cursor: "auto",
                cursorAt: !1,
                grid: !1,
                handle: !1,
                helper: "original",
                iframeFix: !1,
                opacity: !1,
                refreshPositions: !1,
                revert: !1,
                revertDuration: 500,
                scope: "default",
                scroll: !0,
                scrollSensitivity: 20,
                scrollSpeed: 20,
                snap: !1,
                snapMode: "both",
                snapTolerance: 20,
                stack: !1,
                zIndex: !1,
                drag: null,
                start: null,
                stop: null
            },
            _create: function () {
                "original" === this.options.helper && this._setPositionRelative(), this.options.addClasses && this.element.addClass("ui-draggable"), this.options.disabled && this.element.addClass("ui-draggable-disabled"), this._setHandleClassName(), this._mouseInit()
            },
            _setOption: function (a, b) {
                this._super(a, b), "handle" === a && (this._removeHandleClassName(), this._setHandleClassName())
            },
            _destroy: function () {
                return (this.helper || this.element).is(".ui-draggable-dragging") ? void(this.destroyOnClear = !0) : (this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"), this._removeHandleClassName(), void this._mouseDestroy())
            },
            _mouseCapture: function (b) {
                var c = this.options;
                return this._blurActiveElement(b), !(this.helper || c.disabled || a(b.target).closest(".ui-resizable-handle").length > 0) && (this.handle = this._getHandle(b), !!this.handle && (this._blockFrames(c.iframeFix === !0 ? "iframe" : c.iframeFix), !0))
            },
            _blockFrames: function (b) {
                this.iframeBlocks = this.document.find(b).map(function () {
                    var b = a(this);
                    return a("<div>").css("position", "absolute").appendTo(b.parent()).outerWidth(b.outerWidth()).outerHeight(b.outerHeight()).offset(b.offset())[0]
                })
            },
            _unblockFrames: function () {
                this.iframeBlocks && (this.iframeBlocks.remove(), delete this.iframeBlocks)
            },
            _blurActiveElement: function (b) {
                var c = this.document[0];
                if (this.handleElement.is(b.target))try {
                    c.activeElement && "body" !== c.activeElement.nodeName.toLowerCase() && a(c.activeElement).blur()
                } catch (a) {
                }
            },
            _mouseStart: function (b) {
                var c = this.options;
                return this.helper = this._createHelper(b), this.helper.addClass("ui-draggable-dragging"), this._cacheHelperProportions(), a.ui.ddmanager && (a.ui.ddmanager.current = this), this._cacheMargins(), this.cssPosition = this.helper.css("position"), this.scrollParent = this.helper.scrollParent(!0), this.offsetParent = this.helper.offsetParent(), this.hasFixedAncestor = this.helper.parents().filter(function () {
                        return "fixed" === a(this).css("position")
                    }).length > 0, this.positionAbs = this.element.offset(), this._refreshOffsets(b), this.originalPosition = this.position = this._generatePosition(b, !1), this.originalPageX = b.pageX, this.originalPageY = b.pageY, c.cursorAt && this._adjustOffsetFromHelper(c.cursorAt), this._setContainment(), this._trigger("start", b) === !1 ? (this._clear(), !1) : (this._cacheHelperProportions(), a.ui.ddmanager && !c.dropBehaviour && a.ui.ddmanager.prepareOffsets(this, b), this._normalizeRightBottom(), this._mouseDrag(b, !0), a.ui.ddmanager && a.ui.ddmanager.dragStart(this, b), !0)
            },
            _refreshOffsets: function (a) {
                this.offset = {
                    top: this.positionAbs.top - this.margins.top,
                    left: this.positionAbs.left - this.margins.left,
                    scroll: !1,
                    parent: this._getParentOffset(),
                    relative: this._getRelativeOffset()
                }, this.offset.click = {left: a.pageX - this.offset.left, top: a.pageY - this.offset.top}
            },
            _mouseDrag: function (b, c) {
                if (this.hasFixedAncestor && (this.offset.parent = this._getParentOffset()), this.position = this._generatePosition(b, !0), this.positionAbs = this._convertPositionTo("absolute"), !c) {
                    var d = this._uiHash();
                    if (this._trigger("drag", b, d) === !1)return this._mouseUp({}), !1;
                    this.position = d.position
                }
                return this.helper[0].style.left = this.position.left + "px", this.helper[0].style.top = this.position.top + "px", a.ui.ddmanager && a.ui.ddmanager.drag(this, b), !1
            },
            _mouseStop: function (b) {
                var c = this, d = !1;
                return a.ui.ddmanager && !this.options.dropBehaviour && (d = a.ui.ddmanager.drop(this, b)), this.dropped && (d = this.dropped, this.dropped = !1), "invalid" === this.options.revert && !d || "valid" === this.options.revert && d || this.options.revert === !0 || a.isFunction(this.options.revert) && this.options.revert.call(this.element, d) ? a(this.helper).animate(this.originalPosition, parseInt(this.options.revertDuration, 10), function () {
                    c._trigger("stop", b) !== !1 && c._clear()
                }) : this._trigger("stop", b) !== !1 && this._clear(), !1
            },
            _mouseUp: function (b) {
                return this._unblockFrames(), a.ui.ddmanager && a.ui.ddmanager.dragStop(this, b), this.handleElement.is(b.target) && this.element.focus(), a.ui.mouse.prototype._mouseUp.call(this, b)
            },
            cancel: function () {
                return this.helper.is(".ui-draggable-dragging") ? this._mouseUp({}) : this._clear(), this
            },
            _getHandle: function (b) {
                return !this.options.handle || !!a(b.target).closest(this.element.find(this.options.handle)).length
            },
            _setHandleClassName: function () {
                this.handleElement = this.options.handle ? this.element.find(this.options.handle) : this.element, this.handleElement.addClass("ui-draggable-handle")
            },
            _removeHandleClassName: function () {
                this.handleElement.removeClass("ui-draggable-handle")
            },
            _createHelper: function (b) {
                var c = this.options, d = a.isFunction(c.helper), e = d ? a(c.helper.apply(this.element[0], [b])) : "clone" === c.helper ? this.element.clone().removeAttr("id") : this.element;
                return e.parents("body").length || e.appendTo("parent" === c.appendTo ? this.element[0].parentNode : c.appendTo), d && e[0] === this.element[0] && this._setPositionRelative(), e[0] === this.element[0] || /(fixed|absolute)/.test(e.css("position")) || e.css("position", "absolute"), e
            },
            _setPositionRelative: function () {
                /^(?:r|a|f)/.test(this.element.css("position")) || (this.element[0].style.position = "relative")
            },
            _adjustOffsetFromHelper: function (b) {
                "string" == typeof b && (b = b.split(" ")), a.isArray(b) && (b = {
                    left: +b[0],
                    top: +b[1] || 0
                }), "left" in b && (this.offset.click.left = b.left + this.margins.left), "right" in b && (this.offset.click.left = this.helperProportions.width - b.right + this.margins.left), "top" in b && (this.offset.click.top = b.top + this.margins.top), "bottom" in b && (this.offset.click.top = this.helperProportions.height - b.bottom + this.margins.top)
            },
            _isRootNode: function (a) {
                return /(html|body)/i.test(a.tagName) || a === this.document[0]
            },
            _getParentOffset: function () {
                var b = this.offsetParent.offset(), c = this.document[0];
                return "absolute" === this.cssPosition && this.scrollParent[0] !== c && a.contains(this.scrollParent[0], this.offsetParent[0]) && (b.left += this.scrollParent.scrollLeft(), b.top += this.scrollParent.scrollTop()), this._isRootNode(this.offsetParent[0]) && (b = {
                    top: 0,
                    left: 0
                }), {
                    top: b.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
                    left: b.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
                }
            },
            _getRelativeOffset: function () {
                if ("relative" !== this.cssPosition)return {top: 0, left: 0};
                var a = this.element.position(), b = this._isRootNode(this.scrollParent[0]);
                return {
                    top: a.top - (parseInt(this.helper.css("top"), 10) || 0) + (b ? 0 : this.scrollParent.scrollTop()),
                    left: a.left - (parseInt(this.helper.css("left"), 10) || 0) + (b ? 0 : this.scrollParent.scrollLeft())
                }
            },
            _cacheMargins: function () {
                this.margins = {
                    left: parseInt(this.element.css("marginLeft"), 10) || 0,
                    top: parseInt(this.element.css("marginTop"), 10) || 0,
                    right: parseInt(this.element.css("marginRight"), 10) || 0,
                    bottom: parseInt(this.element.css("marginBottom"), 10) || 0
                }
            },
            _cacheHelperProportions: function () {
                this.helperProportions = {width: this.helper.outerWidth(), height: this.helper.outerHeight()}
            },
            _setContainment: function () {
                var b, c, d, e = this.options, f = this.document[0];
                return this.relativeContainer = null, e.containment ? "window" === e.containment ? void(this.containment = [a(window).scrollLeft() - this.offset.relative.left - this.offset.parent.left, a(window).scrollTop() - this.offset.relative.top - this.offset.parent.top, a(window).scrollLeft() + a(window).width() - this.helperProportions.width - this.margins.left, a(window).scrollTop() + (a(window).height() || f.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top]) : "document" === e.containment ? void(this.containment = [0, 0, a(f).width() - this.helperProportions.width - this.margins.left, (a(f).height() || f.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top]) : e.containment.constructor === Array ? void(this.containment = e.containment) : ("parent" === e.containment && (e.containment = this.helper[0].parentNode), c = a(e.containment), d = c[0], void(d && (b = /(scroll|auto)/.test(c.css("overflow")), this.containment = [(parseInt(c.css("borderLeftWidth"), 10) || 0) + (parseInt(c.css("paddingLeft"), 10) || 0), (parseInt(c.css("borderTopWidth"), 10) || 0) + (parseInt(c.css("paddingTop"), 10) || 0), (b ? Math.max(d.scrollWidth, d.offsetWidth) : d.offsetWidth) - (parseInt(c.css("borderRightWidth"), 10) || 0) - (parseInt(c.css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left - this.margins.right, (b ? Math.max(d.scrollHeight, d.offsetHeight) : d.offsetHeight) - (parseInt(c.css("borderBottomWidth"), 10) || 0) - (parseInt(c.css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top - this.margins.bottom], this.relativeContainer = c))) : void(this.containment = null)
            },
            _convertPositionTo: function (a, b) {
                b || (b = this.position);
                var c = "absolute" === a ? 1 : -1, d = this._isRootNode(this.scrollParent[0]);
                return {
                    top: b.top + this.offset.relative.top * c + this.offset.parent.top * c - ("fixed" === this.cssPosition ? -this.offset.scroll.top : d ? 0 : this.offset.scroll.top) * c,
                    left: b.left + this.offset.relative.left * c + this.offset.parent.left * c - ("fixed" === this.cssPosition ? -this.offset.scroll.left : d ? 0 : this.offset.scroll.left) * c
                }
            },
            _generatePosition: function (a, b) {
                var c, d, e, f, g = this.options, h = this._isRootNode(this.scrollParent[0]), i = a.pageX, j = a.pageY;
                return h && this.offset.scroll || (this.offset.scroll = {
                    top: this.scrollParent.scrollTop(),
                    left: this.scrollParent.scrollLeft()
                }), b && (this.containment && (this.relativeContainer ? (d = this.relativeContainer.offset(), c = [this.containment[0] + d.left, this.containment[1] + d.top, this.containment[2] + d.left, this.containment[3] + d.top]) : c = this.containment, a.pageX - this.offset.click.left < c[0] && (i = c[0] + this.offset.click.left), a.pageY - this.offset.click.top < c[1] && (j = c[1] + this.offset.click.top), a.pageX - this.offset.click.left > c[2] && (i = c[2] + this.offset.click.left), a.pageY - this.offset.click.top > c[3] && (j = c[3] + this.offset.click.top)), g.grid && (e = g.grid[1] ? this.originalPageY + Math.round((j - this.originalPageY) / g.grid[1]) * g.grid[1] : this.originalPageY, j = c ? e - this.offset.click.top >= c[1] || e - this.offset.click.top > c[3] ? e : e - this.offset.click.top >= c[1] ? e - g.grid[1] : e + g.grid[1] : e, f = g.grid[0] ? this.originalPageX + Math.round((i - this.originalPageX) / g.grid[0]) * g.grid[0] : this.originalPageX, i = c ? f - this.offset.click.left >= c[0] || f - this.offset.click.left > c[2] ? f : f - this.offset.click.left >= c[0] ? f - g.grid[0] : f + g.grid[0] : f), "y" === g.axis && (i = this.originalPageX), "x" === g.axis && (j = this.originalPageY)), {
                    top: j - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + ("fixed" === this.cssPosition ? -this.offset.scroll.top : h ? 0 : this.offset.scroll.top),
                    left: i - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + ("fixed" === this.cssPosition ? -this.offset.scroll.left : h ? 0 : this.offset.scroll.left)
                }
            },
            _clear: function () {
                this.helper.removeClass("ui-draggable-dragging"), this.helper[0] === this.element[0] || this.cancelHelperRemoval || this.helper.remove(), this.helper = null, this.cancelHelperRemoval = !1, this.destroyOnClear && this.destroy()
            },
            _normalizeRightBottom: function () {
                "y" !== this.options.axis && "auto" !== this.helper.css("right") && (this.helper.width(this.helper.width()), this.helper.css("right", "auto")), "x" !== this.options.axis && "auto" !== this.helper.css("bottom") && (this.helper.height(this.helper.height()), this.helper.css("bottom", "auto"))
            },
            _trigger: function (b, c, d) {
                return d = d || this._uiHash(), a.ui.plugin.call(this, b, [c, d, this], !0), /^(drag|start|stop)/.test(b) && (this.positionAbs = this._convertPositionTo("absolute"), d.offset = this.positionAbs), a.Widget.prototype._trigger.call(this, b, c, d)
            },
            plugins: {},
            _uiHash: function () {
                return {
                    helper: this.helper,
                    position: this.position,
                    originalPosition: this.originalPosition,
                    offset: this.positionAbs
                }
            }
        }), a.ui.plugin.add("draggable", "connectToSortable", {
            start: function (b, c, d) {
                var e = a.extend({}, c, {item: d.element});
                d.sortables = [], a(d.options.connectToSortable).each(function () {
                    var c = a(this).sortable("instance");
                    c && !c.options.disabled && (d.sortables.push(c), c.refreshPositions(), c._trigger("activate", b, e))
                })
            }, stop: function (b, c, d) {
                var e = a.extend({}, c, {item: d.element});
                d.cancelHelperRemoval = !1, a.each(d.sortables, function () {
                    var a = this;
                    a.isOver ? (a.isOver = 0, d.cancelHelperRemoval = !0, a.cancelHelperRemoval = !1, a._storedCSS = {
                        position: a.placeholder.css("position"),
                        top: a.placeholder.css("top"),
                        left: a.placeholder.css("left")
                    }, a._mouseStop(b), a.options.helper = a.options._helper) : (a.cancelHelperRemoval = !0, a._trigger("deactivate", b, e))
                })
            }, drag: function (b, c, d) {
                a.each(d.sortables, function () {
                    var e = !1, f = this;
                    f.positionAbs = d.positionAbs, f.helperProportions = d.helperProportions, f.offset.click = d.offset.click, f._intersectsWith(f.containerCache) && (e = !0, a.each(d.sortables, function () {
                        return this.positionAbs = d.positionAbs, this.helperProportions = d.helperProportions, this.offset.click = d.offset.click, this !== f && this._intersectsWith(this.containerCache) && a.contains(f.element[0], this.element[0]) && (e = !1), e
                    })), e ? (f.isOver || (f.isOver = 1, d._parent = c.helper.parent(), f.currentItem = c.helper.appendTo(f.element).data("ui-sortable-item", !0), f.options._helper = f.options.helper, f.options.helper = function () {
                        return c.helper[0]
                    }, b.target = f.currentItem[0], f._mouseCapture(b, !0), f._mouseStart(b, !0, !0), f.offset.click.top = d.offset.click.top, f.offset.click.left = d.offset.click.left, f.offset.parent.left -= d.offset.parent.left - f.offset.parent.left, f.offset.parent.top -= d.offset.parent.top - f.offset.parent.top, d._trigger("toSortable", b), d.dropped = f.element, a.each(d.sortables, function () {
                        this.refreshPositions()
                    }), d.currentItem = d.element, f.fromOutside = d), f.currentItem && (f._mouseDrag(b), c.position = f.position)) : f.isOver && (f.isOver = 0, f.cancelHelperRemoval = !0, f.options._revert = f.options.revert, f.options.revert = !1, f._trigger("out", b, f._uiHash(f)), f._mouseStop(b, !0), f.options.revert = f.options._revert, f.options.helper = f.options._helper, f.placeholder && f.placeholder.remove(), c.helper.appendTo(d._parent), d._refreshOffsets(b), c.position = d._generatePosition(b, !0), d._trigger("fromSortable", b), d.dropped = !1, a.each(d.sortables, function () {
                        this.refreshPositions()
                    }))
                })
            }
        }), a.ui.plugin.add("draggable", "cursor", {
            start: function (b, c, d) {
                var e = a("body"), f = d.options;
                e.css("cursor") && (f._cursor = e.css("cursor")), e.css("cursor", f.cursor)
            }, stop: function (b, c, d) {
                var e = d.options;
                e._cursor && a("body").css("cursor", e._cursor)
            }
        }), a.ui.plugin.add("draggable", "opacity", {
            start: function (b, c, d) {
                var e = a(c.helper), f = d.options;
                e.css("opacity") && (f._opacity = e.css("opacity")), e.css("opacity", f.opacity)
            }, stop: function (b, c, d) {
                var e = d.options;
                e._opacity && a(c.helper).css("opacity", e._opacity)
            }
        }), a.ui.plugin.add("draggable", "scroll", {
            start: function (a, b, c) {
                c.scrollParentNotHidden || (c.scrollParentNotHidden = c.helper.scrollParent(!1)), c.scrollParentNotHidden[0] !== c.document[0] && "HTML" !== c.scrollParentNotHidden[0].tagName && (c.overflowOffset = c.scrollParentNotHidden.offset())
            }, drag: function (b, c, d) {
                var e = d.options, f = !1, g = d.scrollParentNotHidden[0], h = d.document[0];
                g !== h && "HTML" !== g.tagName ? (e.axis && "x" === e.axis || (d.overflowOffset.top + g.offsetHeight - b.pageY < e.scrollSensitivity ? g.scrollTop = f = g.scrollTop + e.scrollSpeed : b.pageY - d.overflowOffset.top < e.scrollSensitivity && (g.scrollTop = f = g.scrollTop - e.scrollSpeed)), e.axis && "y" === e.axis || (d.overflowOffset.left + g.offsetWidth - b.pageX < e.scrollSensitivity ? g.scrollLeft = f = g.scrollLeft + e.scrollSpeed : b.pageX - d.overflowOffset.left < e.scrollSensitivity && (g.scrollLeft = f = g.scrollLeft - e.scrollSpeed))) : (e.axis && "x" === e.axis || (b.pageY - a(h).scrollTop() < e.scrollSensitivity ? f = a(h).scrollTop(a(h).scrollTop() - e.scrollSpeed) : a(window).height() - (b.pageY - a(h).scrollTop()) < e.scrollSensitivity && (f = a(h).scrollTop(a(h).scrollTop() + e.scrollSpeed))), e.axis && "y" === e.axis || (b.pageX - a(h).scrollLeft() < e.scrollSensitivity ? f = a(h).scrollLeft(a(h).scrollLeft() - e.scrollSpeed) : a(window).width() - (b.pageX - a(h).scrollLeft()) < e.scrollSensitivity && (f = a(h).scrollLeft(a(h).scrollLeft() + e.scrollSpeed)))), f !== !1 && a.ui.ddmanager && !e.dropBehaviour && a.ui.ddmanager.prepareOffsets(d, b)
            }
        }), a.ui.plugin.add("draggable", "snap", {
            start: function (b, c, d) {
                var e = d.options;
                d.snapElements = [], a(e.snap.constructor !== String ? e.snap.items || ":data(ui-draggable)" : e.snap).each(function () {
                    var b = a(this), c = b.offset();
                    this !== d.element[0] && d.snapElements.push({
                        item: this,
                        width: b.outerWidth(),
                        height: b.outerHeight(),
                        top: c.top,
                        left: c.left
                    })
                })
            }, drag: function (b, c, d) {
                var e, f, g, h, i, j, k, l, m, n, o = d.options, p = o.snapTolerance, q = c.offset.left, r = q + d.helperProportions.width, s = c.offset.top, t = s + d.helperProportions.height;
                for (m = d.snapElements.length - 1; m >= 0; m--)i = d.snapElements[m].left - d.margins.left, j = i + d.snapElements[m].width, k = d.snapElements[m].top - d.margins.top, l = k + d.snapElements[m].height, r < i - p || q > j + p || t < k - p || s > l + p || !a.contains(d.snapElements[m].item.ownerDocument, d.snapElements[m].item) ? (d.snapElements[m].snapping && d.options.snap.release && d.options.snap.release.call(d.element, b, a.extend(d._uiHash(), {snapItem: d.snapElements[m].item})), d.snapElements[m].snapping = !1) : ("inner" !== o.snapMode && (e = Math.abs(k - t) <= p, f = Math.abs(l - s) <= p, g = Math.abs(i - r) <= p, h = Math.abs(j - q) <= p, e && (c.position.top = d._convertPositionTo("relative", {
                    top: k - d.helperProportions.height,
                    left: 0
                }).top), f && (c.position.top = d._convertPositionTo("relative", {
                    top: l,
                    left: 0
                }).top), g && (c.position.left = d._convertPositionTo("relative", {
                    top: 0,
                    left: i - d.helperProportions.width
                }).left), h && (c.position.left = d._convertPositionTo("relative", {
                    top: 0,
                    left: j
                }).left)), n = e || f || g || h, "outer" !== o.snapMode && (e = Math.abs(k - s) <= p, f = Math.abs(l - t) <= p, g = Math.abs(i - q) <= p, h = Math.abs(j - r) <= p, e && (c.position.top = d._convertPositionTo("relative", {
                    top: k,
                    left: 0
                }).top), f && (c.position.top = d._convertPositionTo("relative", {
                    top: l - d.helperProportions.height,
                    left: 0
                }).top), g && (c.position.left = d._convertPositionTo("relative", {
                    top: 0,
                    left: i
                }).left), h && (c.position.left = d._convertPositionTo("relative", {
                    top: 0,
                    left: j - d.helperProportions.width
                }).left)), !d.snapElements[m].snapping && (e || f || g || h || n) && d.options.snap.snap && d.options.snap.snap.call(d.element, b, a.extend(d._uiHash(), {snapItem: d.snapElements[m].item})), d.snapElements[m].snapping = e || f || g || h || n)
            }
        }), a.ui.plugin.add("draggable", "stack", {
            start: function (b, c, d) {
                var e, f = d.options, g = a.makeArray(a(f.stack)).sort(function (b, c) {
                    return (parseInt(a(b).css("zIndex"), 10) || 0) - (parseInt(a(c).css("zIndex"), 10) || 0)
                });
                g.length && (e = parseInt(a(g[0]).css("zIndex"), 10) || 0, a(g).each(function (b) {
                    a(this).css("zIndex", e + b)
                }), this.css("zIndex", e + g.length))
            }
        }), a.ui.plugin.add("draggable", "zIndex", {
            start: function (b, c, d) {
                var e = a(c.helper), f = d.options;
                e.css("zIndex") && (f._zIndex = e.css("zIndex")), e.css("zIndex", f.zIndex)
            }, stop: function (b, c, d) {
                var e = d.options;
                e._zIndex && a(c.helper).css("zIndex", e._zIndex)
            }
        }), a.ui.draggable
    }), function (a) {
        "function" == typeof define && define.amd ? define(["jquery", "./core", "./widget", "./mouse", "./draggable"], a) : a(jQuery)
    }(function (a) {
        return a.widget("ui.droppable", {
            version: "1.11.4",
            widgetEventPrefix: "drop",
            options: {
                accept: "*",
                activeClass: !1,
                addClasses: !0,
                greedy: !1,
                hoverClass: !1,
                scope: "default",
                tolerance: "intersect",
                activate: null,
                deactivate: null,
                drop: null,
                out: null,
                over: null
            },
            _create: function () {
                var b, c = this.options, d = c.accept;
                this.isover = !1, this.isout = !0, this.accept = a.isFunction(d) ? d : function (a) {
                    return a.is(d)
                }, this.proportions = function () {
                    return arguments.length ? void(b = arguments[0]) : b ? b : b = {
                        width: this.element[0].offsetWidth,
                        height: this.element[0].offsetHeight
                    }
                }, this._addToManager(c.scope), c.addClasses && this.element.addClass("ui-droppable")
            },
            _addToManager: function (b) {
                a.ui.ddmanager.droppables[b] = a.ui.ddmanager.droppables[b] || [], a.ui.ddmanager.droppables[b].push(this)
            },
            _splice: function (a) {
                for (var b = 0; b < a.length; b++)a[b] === this && a.splice(b, 1)
            },
            _destroy: function () {
                var b = a.ui.ddmanager.droppables[this.options.scope];
                this._splice(b), this.element.removeClass("ui-droppable ui-droppable-disabled")
            },
            _setOption: function (b, c) {
                if ("accept" === b)this.accept = a.isFunction(c) ? c : function (a) {
                    return a.is(c)
                }; else if ("scope" === b) {
                    var d = a.ui.ddmanager.droppables[this.options.scope];
                    this._splice(d), this._addToManager(c)
                }
                this._super(b, c)
            },
            _activate: function (b) {
                var c = a.ui.ddmanager.current;
                this.options.activeClass && this.element.addClass(this.options.activeClass), c && this._trigger("activate", b, this.ui(c))
            },
            _deactivate: function (b) {
                var c = a.ui.ddmanager.current;
                this.options.activeClass && this.element.removeClass(this.options.activeClass), c && this._trigger("deactivate", b, this.ui(c))
            },
            _over: function (b) {
                var c = a.ui.ddmanager.current;
                c && (c.currentItem || c.element)[0] !== this.element[0] && this.accept.call(this.element[0], c.currentItem || c.element) && (this.options.hoverClass && this.element.addClass(this.options.hoverClass), this._trigger("over", b, this.ui(c)))
            },
            _out: function (b) {
                var c = a.ui.ddmanager.current;
                c && (c.currentItem || c.element)[0] !== this.element[0] && this.accept.call(this.element[0], c.currentItem || c.element) && (this.options.hoverClass && this.element.removeClass(this.options.hoverClass), this._trigger("out", b, this.ui(c)))
            },
            _drop: function (b, c) {
                var d = c || a.ui.ddmanager.current, e = !1;
                return !(!d || (d.currentItem || d.element)[0] === this.element[0]) && (this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function () {
                        var c = a(this).droppable("instance");
                        if (c.options.greedy && !c.options.disabled && c.options.scope === d.options.scope && c.accept.call(c.element[0], d.currentItem || d.element) && a.ui.intersect(d, a.extend(c, {offset: c.element.offset()}), c.options.tolerance, b))return e = !0, !1
                    }), !e && (!!this.accept.call(this.element[0], d.currentItem || d.element) && (this.options.activeClass && this.element.removeClass(this.options.activeClass), this.options.hoverClass && this.element.removeClass(this.options.hoverClass), this._trigger("drop", b, this.ui(d)), this.element)))
            },
            ui: function (a) {
                return {
                    draggable: a.currentItem || a.element,
                    helper: a.helper,
                    position: a.position,
                    offset: a.positionAbs
                }
            }
        }), a.ui.intersect = function () {
            function a(a, b, c) {
                return a >= b && a < b + c
            }

            return function (b, c, d, e) {
                if (!c.offset)return !1;
                var f = (b.positionAbs || b.position.absolute).left + b.margins.left, g = (b.positionAbs || b.position.absolute).top + b.margins.top, h = f + b.helperProportions.width, i = g + b.helperProportions.height, j = c.offset.left, k = c.offset.top, l = j + c.proportions().width, m = k + c.proportions().height;
                switch (d) {
                    case"fit":
                        return j <= f && h <= l && k <= g && i <= m;
                    case"intersect":
                        return j < f + b.helperProportions.width / 2 && h - b.helperProportions.width / 2 < l && k < g + b.helperProportions.height / 2 && i - b.helperProportions.height / 2 < m;
                    case"pointer":
                        return a(e.pageY, k, c.proportions().height) && a(e.pageX, j, c.proportions().width);
                    case"touch":
                        return (g >= k && g <= m || i >= k && i <= m || g < k && i > m) && (f >= j && f <= l || h >= j && h <= l || f < j && h > l);
                    default:
                        return !1
                }
            }
        }(), a.ui.ddmanager = {
            current: null, droppables: {default: []}, prepareOffsets: function (b, c) {
                var d, e, f = a.ui.ddmanager.droppables[b.options.scope] || [], g = c ? c.type : null, h = (b.currentItem || b.element).find(":data(ui-droppable)").addBack();
                a:for (d = 0; d < f.length; d++)if (!(f[d].options.disabled || b && !f[d].accept.call(f[d].element[0], b.currentItem || b.element))) {
                    for (e = 0; e < h.length; e++)if (h[e] === f[d].element[0]) {
                        f[d].proportions().height = 0;
                        continue a
                    }
                    f[d].visible = "none" !== f[d].element.css("display"), f[d].visible && ("mousedown" === g && f[d]._activate.call(f[d], c), f[d].offset = f[d].element.offset(), f[d].proportions({
                        width: f[d].element[0].offsetWidth,
                        height: f[d].element[0].offsetHeight
                    }))
                }
            }, drop: function (b, c) {
                var d = !1;
                return a.each((a.ui.ddmanager.droppables[b.options.scope] || []).slice(), function () {
                    this.options && (!this.options.disabled && this.visible && a.ui.intersect(b, this, this.options.tolerance, c) && (d = this._drop.call(this, c) || d), !this.options.disabled && this.visible && this.accept.call(this.element[0], b.currentItem || b.element) && (this.isout = !0, this.isover = !1, this._deactivate.call(this, c)))
                }), d
            }, dragStart: function (b, c) {
                b.element.parentsUntil("body").bind("scroll.droppable", function () {
                    b.options.refreshPositions || a.ui.ddmanager.prepareOffsets(b, c)
                })
            }, drag: function (b, c) {
                b.options.refreshPositions && a.ui.ddmanager.prepareOffsets(b, c), a.each(a.ui.ddmanager.droppables[b.options.scope] || [], function () {
                    if (!this.options.disabled && !this.greedyChild && this.visible) {
                        var d, e, f, g = a.ui.intersect(b, this, this.options.tolerance, c), h = !g && this.isover ? "isout" : g && !this.isover ? "isover" : null;
                        h && (this.options.greedy && (e = this.options.scope, f = this.element.parents(":data(ui-droppable)").filter(function () {
                            return a(this).droppable("instance").options.scope === e
                        }), f.length && (d = a(f[0]).droppable("instance"), d.greedyChild = "isover" === h)), d && "isover" === h && (d.isover = !1, d.isout = !0, d._out.call(d, c)), this[h] = !0, this["isout" === h ? "isover" : "isout"] = !1, this["isover" === h ? "_over" : "_out"].call(this, c), d && "isout" === h && (d.isout = !1, d.isover = !0, d._over.call(d, c)))
                    }
                })
            }, dragStop: function (b, c) {
                b.element.parentsUntil("body").unbind("scroll.droppable"), b.options.refreshPositions || a.ui.ddmanager.prepareOffsets(b, c)
            }
        }, a.ui.droppable
    }), function (a) {
        "function" == typeof define && define.amd ? define(["jquery", "./core", "./mouse", "./widget"], a) : a(jQuery)
    }(function (a) {
        return a.widget("ui.sortable", a.ui.mouse, {
            version: "1.11.4",
            widgetEventPrefix: "sort",
            ready: !1,
            options: {
                appendTo: "parent",
                axis: !1,
                connectWith: !1,
                containment: !1,
                cursor: "auto",
                cursorAt: !1,
                dropOnEmpty: !0,
                forcePlaceholderSize: !1,
                forceHelperSize: !1,
                grid: !1,
                handle: !1,
                helper: "original",
                items: "> *",
                opacity: !1,
                placeholder: !1,
                revert: !1,
                scroll: !0,
                scrollSensitivity: 20,
                scrollSpeed: 20,
                scope: "default",
                tolerance: "intersect",
                zIndex: 1e3,
                activate: null,
                beforeStop: null,
                change: null,
                deactivate: null,
                out: null,
                over: null,
                receive: null,
                remove: null,
                sort: null,
                start: null,
                stop: null,
                update: null
            },
            _isOverAxis: function (a, b, c) {
                return a >= b && a < b + c
            },
            _isFloating: function (a) {
                return /left|right/.test(a.css("float")) || /inline|table-cell/.test(a.css("display"))
            },
            _create: function () {
                this.containerCache = {}, this.element.addClass("ui-sortable"), this.refresh(), this.offset = this.element.offset(), this._mouseInit(), this._setHandleClassName(), this.ready = !0
            },
            _setOption: function (a, b) {
                this._super(a, b), "handle" === a && this._setHandleClassName()
            },
            _setHandleClassName: function () {
                this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"), a.each(this.items, function () {
                    (this.instance.options.handle ? this.item.find(this.instance.options.handle) : this.item).addClass("ui-sortable-handle")
                })
            },
            _destroy: function () {
                this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"), this._mouseDestroy();
                for (var a = this.items.length - 1; a >= 0; a--)this.items[a].item.removeData(this.widgetName + "-item");
                return this
            },
            _mouseCapture: function (b, c) {
                var d = null, e = !1, f = this;
                return !this.reverting && (!this.options.disabled && "static" !== this.options.type && (this._refreshItems(b), a(b.target).parents().each(function () {
                        if (a.data(this, f.widgetName + "-item") === f)return d = a(this), !1
                    }), a.data(b.target, f.widgetName + "-item") === f && (d = a(b.target)), !!d && (!(this.options.handle && !c && (a(this.options.handle, d).find("*").addBack().each(function () {
                        this === b.target && (e = !0)
                    }), !e)) && (this.currentItem = d, this._removeCurrentsFromItems(), !0))))
            },
            _mouseStart: function (b, c, d) {
                var e, f, g = this.options;
                if (this.currentContainer = this, this.refreshPositions(), this.helper = this._createHelper(b), this._cacheHelperProportions(), this._cacheMargins(), this.scrollParent = this.helper.scrollParent(), this.offset = this.currentItem.offset(), this.offset = {
                        top: this.offset.top - this.margins.top,
                        left: this.offset.left - this.margins.left
                    }, a.extend(this.offset, {
                        click: {left: b.pageX - this.offset.left, top: b.pageY - this.offset.top},
                        parent: this._getParentOffset(),
                        relative: this._getRelativeOffset()
                    }), this.helper.css("position", "absolute"), this.cssPosition = this.helper.css("position"), this.originalPosition = this._generatePosition(b), this.originalPageX = b.pageX, this.originalPageY = b.pageY, g.cursorAt && this._adjustOffsetFromHelper(g.cursorAt), this.domPosition = {
                        prev: this.currentItem.prev()[0],
                        parent: this.currentItem.parent()[0]
                    }, this.helper[0] !== this.currentItem[0] && this.currentItem.hide(), this._createPlaceholder(), g.containment && this._setContainment(), g.cursor && "auto" !== g.cursor && (f = this.document.find("body"), this.storedCursor = f.css("cursor"), f.css("cursor", g.cursor), this.storedStylesheet = a("<style>*{ cursor: " + g.cursor + " !important; }</style>").appendTo(f)), g.opacity && (this.helper.css("opacity") && (this._storedOpacity = this.helper.css("opacity")), this.helper.css("opacity", g.opacity)), g.zIndex && (this.helper.css("zIndex") && (this._storedZIndex = this.helper.css("zIndex")), this.helper.css("zIndex", g.zIndex)), this.scrollParent[0] !== this.document[0] && "HTML" !== this.scrollParent[0].tagName && (this.overflowOffset = this.scrollParent.offset()), this._trigger("start", b, this._uiHash()), this._preserveHelperProportions || this._cacheHelperProportions(), !d)for (e = this.containers.length - 1; e >= 0; e--)this.containers[e]._trigger("activate", b, this._uiHash(this));
                return a.ui.ddmanager && (a.ui.ddmanager.current = this), a.ui.ddmanager && !g.dropBehaviour && a.ui.ddmanager.prepareOffsets(this, b), this.dragging = !0, this.helper.addClass("ui-sortable-helper"), this._mouseDrag(b), !0
            },
            _mouseDrag: function (b) {
                var c, d, e, f, g = this.options, h = !1;
                for (this.position = this._generatePosition(b), this.positionAbs = this._convertPositionTo("absolute"), this.lastPositionAbs || (this.lastPositionAbs = this.positionAbs), this.options.scroll && (this.scrollParent[0] !== this.document[0] && "HTML" !== this.scrollParent[0].tagName ? (this.overflowOffset.top + this.scrollParent[0].offsetHeight - b.pageY < g.scrollSensitivity ? this.scrollParent[0].scrollTop = h = this.scrollParent[0].scrollTop + g.scrollSpeed : b.pageY - this.overflowOffset.top < g.scrollSensitivity && (this.scrollParent[0].scrollTop = h = this.scrollParent[0].scrollTop - g.scrollSpeed), this.overflowOffset.left + this.scrollParent[0].offsetWidth - b.pageX < g.scrollSensitivity ? this.scrollParent[0].scrollLeft = h = this.scrollParent[0].scrollLeft + g.scrollSpeed : b.pageX - this.overflowOffset.left < g.scrollSensitivity && (this.scrollParent[0].scrollLeft = h = this.scrollParent[0].scrollLeft - g.scrollSpeed)) : (b.pageY - this.document.scrollTop() < g.scrollSensitivity ? h = this.document.scrollTop(this.document.scrollTop() - g.scrollSpeed) : this.window.height() - (b.pageY - this.document.scrollTop()) < g.scrollSensitivity && (h = this.document.scrollTop(this.document.scrollTop() + g.scrollSpeed)), b.pageX - this.document.scrollLeft() < g.scrollSensitivity ? h = this.document.scrollLeft(this.document.scrollLeft() - g.scrollSpeed) : this.window.width() - (b.pageX - this.document.scrollLeft()) < g.scrollSensitivity && (h = this.document.scrollLeft(this.document.scrollLeft() + g.scrollSpeed))), h !== !1 && a.ui.ddmanager && !g.dropBehaviour && a.ui.ddmanager.prepareOffsets(this, b)), this.positionAbs = this._convertPositionTo("absolute"), this.options.axis && "y" === this.options.axis || (this.helper[0].style.left = this.position.left + "px"), this.options.axis && "x" === this.options.axis || (this.helper[0].style.top = this.position.top + "px"), c = this.items.length - 1; c >= 0; c--)if (d = this.items[c], e = d.item[0], f = this._intersectsWithPointer(d), f && d.instance === this.currentContainer && !(e === this.currentItem[0] || this.placeholder[1 === f ? "next" : "prev"]()[0] === e || a.contains(this.placeholder[0], e) || "semi-dynamic" === this.options.type && a.contains(this.element[0], e))) {
                    if (this.direction = 1 === f ? "down" : "up", "pointer" !== this.options.tolerance && !this._intersectsWithSides(d))break;
                    this._rearrange(b, d), this._trigger("change", b, this._uiHash());
                    break
                }
                return this._contactContainers(b), a.ui.ddmanager && a.ui.ddmanager.drag(this, b), this._trigger("sort", b, this._uiHash()), this.lastPositionAbs = this.positionAbs, !1
            },
            _mouseStop: function (b, c) {
                if (b) {
                    if (a.ui.ddmanager && !this.options.dropBehaviour && a.ui.ddmanager.drop(this, b), this.options.revert) {
                        var d = this, e = this.placeholder.offset(), f = this.options.axis, g = {};
                        f && "x" !== f || (g.left = e.left - this.offset.parent.left - this.margins.left + (this.offsetParent[0] === this.document[0].body ? 0 : this.offsetParent[0].scrollLeft)), f && "y" !== f || (g.top = e.top - this.offset.parent.top - this.margins.top + (this.offsetParent[0] === this.document[0].body ? 0 : this.offsetParent[0].scrollTop)), this.reverting = !0, a(this.helper).animate(g, parseInt(this.options.revert, 10) || 500, function () {
                            d._clear(b)
                        })
                    } else this._clear(b, c);
                    return !1
                }
            },
            cancel: function () {
                if (this.dragging) {
                    this._mouseUp({target: null}), "original" === this.options.helper ? this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper") : this.currentItem.show();
                    for (var b = this.containers.length - 1; b >= 0; b--)this.containers[b]._trigger("deactivate", null, this._uiHash(this)), this.containers[b].containerCache.over && (this.containers[b]._trigger("out", null, this._uiHash(this)), this.containers[b].containerCache.over = 0)
                }
                return this.placeholder && (this.placeholder[0].parentNode && this.placeholder[0].parentNode.removeChild(this.placeholder[0]), "original" !== this.options.helper && this.helper && this.helper[0].parentNode && this.helper.remove(), a.extend(this, {
                    helper: null,
                    dragging: !1,
                    reverting: !1,
                    _noFinalSort: null
                }), this.domPosition.prev ? a(this.domPosition.prev).after(this.currentItem) : a(this.domPosition.parent).prepend(this.currentItem)), this
            },
            serialize: function (b) {
                var c = this._getItemsAsjQuery(b && b.connected), d = [];
                return b = b || {}, a(c).each(function () {
                    var c = (a(b.item || this).attr(b.attribute || "id") || "").match(b.expression || /(.+)[\-=_](.+)/);
                    c && d.push((b.key || c[1] + "[]") + "=" + (b.key && b.expression ? c[1] : c[2]))
                }), !d.length && b.key && d.push(b.key + "="), d.join("&")
            },
            toArray: function (b) {
                var c = this._getItemsAsjQuery(b && b.connected), d = [];
                return b = b || {}, c.each(function () {
                    d.push(a(b.item || this).attr(b.attribute || "id") || "")
                }), d
            },
            _intersectsWith: function (a) {
                var b = this.positionAbs.left, c = b + this.helperProportions.width, d = this.positionAbs.top, e = d + this.helperProportions.height, f = a.left, g = f + a.width, h = a.top, i = h + a.height, j = this.offset.click.top, k = this.offset.click.left, l = "x" === this.options.axis || d + j > h && d + j < i, m = "y" === this.options.axis || b + k > f && b + k < g, n = l && m;
                return "pointer" === this.options.tolerance || this.options.forcePointerForContainers || "pointer" !== this.options.tolerance && this.helperProportions[this.floating ? "width" : "height"] > a[this.floating ? "width" : "height"] ? n : f < b + this.helperProportions.width / 2 && c - this.helperProportions.width / 2 < g && h < d + this.helperProportions.height / 2 && e - this.helperProportions.height / 2 < i
            },
            _intersectsWithPointer: function (a) {
                var b = "x" === this.options.axis || this._isOverAxis(this.positionAbs.top + this.offset.click.top, a.top, a.height), c = "y" === this.options.axis || this._isOverAxis(this.positionAbs.left + this.offset.click.left, a.left, a.width), d = b && c, e = this._getDragVerticalDirection(), f = this._getDragHorizontalDirection();
                return !!d && (this.floating ? f && "right" === f || "down" === e ? 2 : 1 : e && ("down" === e ? 2 : 1))
            },
            _intersectsWithSides: function (a) {
                var b = this._isOverAxis(this.positionAbs.top + this.offset.click.top, a.top + a.height / 2, a.height), c = this._isOverAxis(this.positionAbs.left + this.offset.click.left, a.left + a.width / 2, a.width), d = this._getDragVerticalDirection(), e = this._getDragHorizontalDirection();
                return this.floating && e ? "right" === e && c || "left" === e && !c : d && ("down" === d && b || "up" === d && !b)
            },
            _getDragVerticalDirection: function () {
                var a = this.positionAbs.top - this.lastPositionAbs.top;
                return 0 !== a && (a > 0 ? "down" : "up")
            },
            _getDragHorizontalDirection: function () {
                var a = this.positionAbs.left - this.lastPositionAbs.left;
                return 0 !== a && (a > 0 ? "right" : "left")
            },
            refresh: function (a) {
                return this._refreshItems(a), this._setHandleClassName(), this.refreshPositions(), this
            },
            _connectWith: function () {
                var a = this.options;
                return a.connectWith.constructor === String ? [a.connectWith] : a.connectWith
            },
            _getItemsAsjQuery: function (b) {
                function c() {
                    h.push(this)
                }

                var d, e, f, g, h = [], i = [], j = this._connectWith();
                if (j && b)for (d = j.length - 1; d >= 0; d--)for (f = a(j[d], this.document[0]), e = f.length - 1; e >= 0; e--)g = a.data(f[e], this.widgetFullName), g && g !== this && !g.options.disabled && i.push([a.isFunction(g.options.items) ? g.options.items.call(g.element) : a(g.options.items, g.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), g]);
                for (i.push([a.isFunction(this.options.items) ? this.options.items.call(this.element, null, {
                    options: this.options,
                    item: this.currentItem
                }) : a(this.options.items, this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), this]), d = i.length - 1; d >= 0; d--)i[d][0].each(c);
                return a(h)
            },
            _removeCurrentsFromItems: function () {
                var b = this.currentItem.find(":data(" + this.widgetName + "-item)");
                this.items = a.grep(this.items, function (a) {
                    for (var c = 0; c < b.length; c++)if (b[c] === a.item[0])return !1;
                    return !0
                })
            },
            _refreshItems: function (b) {
                this.items = [], this.containers = [this];
                var c, d, e, f, g, h, i, j, k = this.items, l = [[a.isFunction(this.options.items) ? this.options.items.call(this.element[0], b, {item: this.currentItem}) : a(this.options.items, this.element), this]], m = this._connectWith();
                if (m && this.ready)for (c = m.length - 1; c >= 0; c--)for (e = a(m[c], this.document[0]), d = e.length - 1; d >= 0; d--)f = a.data(e[d], this.widgetFullName), f && f !== this && !f.options.disabled && (l.push([a.isFunction(f.options.items) ? f.options.items.call(f.element[0], b, {item: this.currentItem}) : a(f.options.items, f.element), f]), this.containers.push(f));
                for (c = l.length - 1; c >= 0; c--)for (g = l[c][1], h = l[c][0], d = 0, j = h.length; d < j; d++)i = a(h[d]), i.data(this.widgetName + "-item", g), k.push({
                    item: i,
                    instance: g,
                    width: 0,
                    height: 0,
                    left: 0,
                    top: 0
                })
            },
            refreshPositions: function (b) {
                this.floating = !!this.items.length && ("x" === this.options.axis || this._isFloating(this.items[0].item)), this.offsetParent && this.helper && (this.offset.parent = this._getParentOffset());
                var c, d, e, f;
                for (c = this.items.length - 1; c >= 0; c--)d = this.items[c], d.instance !== this.currentContainer && this.currentContainer && d.item[0] !== this.currentItem[0] || (e = this.options.toleranceElement ? a(this.options.toleranceElement, d.item) : d.item, b || (d.width = e.outerWidth(), d.height = e.outerHeight()), f = e.offset(), d.left = f.left, d.top = f.top);
                if (this.options.custom && this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this); else for (c = this.containers.length - 1; c >= 0; c--)f = this.containers[c].element.offset(), this.containers[c].containerCache.left = f.left, this.containers[c].containerCache.top = f.top, this.containers[c].containerCache.width = this.containers[c].element.outerWidth(), this.containers[c].containerCache.height = this.containers[c].element.outerHeight();
                return this
            },
            _createPlaceholder: function (b) {
                b = b || this;
                var c, d = b.options;
                d.placeholder && d.placeholder.constructor !== String || (c = d.placeholder, d.placeholder = {
                    element: function () {
                        var d = b.currentItem[0].nodeName.toLowerCase(), e = a("<" + d + ">", b.document[0]).addClass(c || b.currentItem[0].className + " ui-sortable-placeholder").removeClass("ui-sortable-helper");
                        return "tbody" === d ? b._createTrPlaceholder(b.currentItem.find("tr").eq(0), a("<tr>", b.document[0]).appendTo(e)) : "tr" === d ? b._createTrPlaceholder(b.currentItem, e) : "img" === d && e.attr("src", b.currentItem.attr("src")), c || e.css("visibility", "hidden"), e
                    }, update: function (a, e) {
                        c && !d.forcePlaceholderSize || (e.height() || e.height(b.currentItem.innerHeight() - parseInt(b.currentItem.css("paddingTop") || 0, 10) - parseInt(b.currentItem.css("paddingBottom") || 0, 10)), e.width() || e.width(b.currentItem.innerWidth() - parseInt(b.currentItem.css("paddingLeft") || 0, 10) - parseInt(b.currentItem.css("paddingRight") || 0, 10)))
                    }
                }), b.placeholder = a(d.placeholder.element.call(b.element, b.currentItem)), b.currentItem.after(b.placeholder), d.placeholder.update(b, b.placeholder)
            },
            _createTrPlaceholder: function (b, c) {
                var d = this;
                b.children().each(function () {
                    a("<td>&#160;</td>", d.document[0]).attr("colspan", a(this).attr("colspan") || 1).appendTo(c)
                })
            },
            _contactContainers: function (b) {
                var c, d, e, f, g, h, i, j, k, l, m = null, n = null;
                for (c = this.containers.length - 1; c >= 0; c--)if (!a.contains(this.currentItem[0], this.containers[c].element[0]))if (this._intersectsWith(this.containers[c].containerCache)) {
                    if (m && a.contains(this.containers[c].element[0], m.element[0]))continue;
                    m = this.containers[c], n = c
                } else this.containers[c].containerCache.over && (this.containers[c]._trigger("out", b, this._uiHash(this)), this.containers[c].containerCache.over = 0);
                if (m)if (1 === this.containers.length)this.containers[n].containerCache.over || (this.containers[n]._trigger("over", b, this._uiHash(this)), this.containers[n].containerCache.over = 1); else {
                    for (e = 1e4, f = null, k = m.floating || this._isFloating(this.currentItem), g = k ? "left" : "top", h = k ? "width" : "height", l = k ? "clientX" : "clientY", d = this.items.length - 1; d >= 0; d--)a.contains(this.containers[n].element[0], this.items[d].item[0]) && this.items[d].item[0] !== this.currentItem[0] && (i = this.items[d].item.offset()[g], j = !1, b[l] - i > this.items[d][h] / 2 && (j = !0), Math.abs(b[l] - i) < e && (e = Math.abs(b[l] - i), f = this.items[d], this.direction = j ? "up" : "down"));
                    if (!f && !this.options.dropOnEmpty)return;
                    if (this.currentContainer === this.containers[n])return void(this.currentContainer.containerCache.over || (this.containers[n]._trigger("over", b, this._uiHash()), this.currentContainer.containerCache.over = 1));
                    f ? this._rearrange(b, f, null, !0) : this._rearrange(b, null, this.containers[n].element, !0), this._trigger("change", b, this._uiHash()), this.containers[n]._trigger("change", b, this._uiHash(this)), this.currentContainer = this.containers[n], this.options.placeholder.update(this.currentContainer, this.placeholder), this.containers[n]._trigger("over", b, this._uiHash(this)), this.containers[n].containerCache.over = 1
                }
            },
            _createHelper: function (b) {
                var c = this.options, d = a.isFunction(c.helper) ? a(c.helper.apply(this.element[0], [b, this.currentItem])) : "clone" === c.helper ? this.currentItem.clone() : this.currentItem;
                return d.parents("body").length || a("parent" !== c.appendTo ? c.appendTo : this.currentItem[0].parentNode)[0].appendChild(d[0]), d[0] === this.currentItem[0] && (this._storedCSS = {
                    width: this.currentItem[0].style.width,
                    height: this.currentItem[0].style.height,
                    position: this.currentItem.css("position"),
                    top: this.currentItem.css("top"),
                    left: this.currentItem.css("left")
                }), d[0].style.width && !c.forceHelperSize || d.width(this.currentItem.width()), d[0].style.height && !c.forceHelperSize || d.height(this.currentItem.height()), d
            },
            _adjustOffsetFromHelper: function (b) {
                "string" == typeof b && (b = b.split(" ")), a.isArray(b) && (b = {
                    left: +b[0],
                    top: +b[1] || 0
                }), "left" in b && (this.offset.click.left = b.left + this.margins.left), "right" in b && (this.offset.click.left = this.helperProportions.width - b.right + this.margins.left), "top" in b && (this.offset.click.top = b.top + this.margins.top), "bottom" in b && (this.offset.click.top = this.helperProportions.height - b.bottom + this.margins.top)
            },
            _getParentOffset: function () {
                this.offsetParent = this.helper.offsetParent();
                var b = this.offsetParent.offset();
                return "absolute" === this.cssPosition && this.scrollParent[0] !== this.document[0] && a.contains(this.scrollParent[0], this.offsetParent[0]) && (b.left += this.scrollParent.scrollLeft(), b.top += this.scrollParent.scrollTop()), (this.offsetParent[0] === this.document[0].body || this.offsetParent[0].tagName && "html" === this.offsetParent[0].tagName.toLowerCase() && a.ui.ie) && (b = {
                    top: 0,
                    left: 0
                }), {
                    top: b.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
                    left: b.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
                }
            },
            _getRelativeOffset: function () {
                if ("relative" === this.cssPosition) {
                    var a = this.currentItem.position();
                    return {
                        top: a.top - (parseInt(this.helper.css("top"), 10) || 0) + this.scrollParent.scrollTop(),
                        left: a.left - (parseInt(this.helper.css("left"), 10) || 0) + this.scrollParent.scrollLeft()
                    }
                }
                return {top: 0, left: 0}
            },
            _cacheMargins: function () {
                this.margins = {
                    left: parseInt(this.currentItem.css("marginLeft"), 10) || 0,
                    top: parseInt(this.currentItem.css("marginTop"), 10) || 0
                }
            },
            _cacheHelperProportions: function () {
                this.helperProportions = {width: this.helper.outerWidth(), height: this.helper.outerHeight()}
            },
            _setContainment: function () {
                var b, c, d, e = this.options;
                "parent" === e.containment && (e.containment = this.helper[0].parentNode), "document" !== e.containment && "window" !== e.containment || (this.containment = [0 - this.offset.relative.left - this.offset.parent.left, 0 - this.offset.relative.top - this.offset.parent.top, "document" === e.containment ? this.document.width() : this.window.width() - this.helperProportions.width - this.margins.left, ("document" === e.containment ? this.document.width() : this.window.height() || this.document[0].body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top]), /^(document|window|parent)$/.test(e.containment) || (b = a(e.containment)[0], c = a(e.containment).offset(), d = "hidden" !== a(b).css("overflow"), this.containment = [c.left + (parseInt(a(b).css("borderLeftWidth"), 10) || 0) + (parseInt(a(b).css("paddingLeft"), 10) || 0) - this.margins.left, c.top + (parseInt(a(b).css("borderTopWidth"), 10) || 0) + (parseInt(a(b).css("paddingTop"), 10) || 0) - this.margins.top, c.left + (d ? Math.max(b.scrollWidth, b.offsetWidth) : b.offsetWidth) - (parseInt(a(b).css("borderLeftWidth"), 10) || 0) - (parseInt(a(b).css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left, c.top + (d ? Math.max(b.scrollHeight, b.offsetHeight) : b.offsetHeight) - (parseInt(a(b).css("borderTopWidth"), 10) || 0) - (parseInt(a(b).css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top])
            },
            _convertPositionTo: function (b, c) {
                c || (c = this.position);
                var d = "absolute" === b ? 1 : -1, e = "absolute" !== this.cssPosition || this.scrollParent[0] !== this.document[0] && a.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent : this.offsetParent, f = /(html|body)/i.test(e[0].tagName);
                return {
                    top: c.top + this.offset.relative.top * d + this.offset.parent.top * d - ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : f ? 0 : e.scrollTop()) * d,
                    left: c.left + this.offset.relative.left * d + this.offset.parent.left * d - ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : f ? 0 : e.scrollLeft()) * d
                }
            },
            _generatePosition: function (b) {
                var c, d, e = this.options, f = b.pageX, g = b.pageY, h = "absolute" !== this.cssPosition || this.scrollParent[0] !== this.document[0] && a.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent : this.offsetParent, i = /(html|body)/i.test(h[0].tagName);
                return "relative" !== this.cssPosition || this.scrollParent[0] !== this.document[0] && this.scrollParent[0] !== this.offsetParent[0] || (this.offset.relative = this._getRelativeOffset()), this.originalPosition && (this.containment && (b.pageX - this.offset.click.left < this.containment[0] && (f = this.containment[0] + this.offset.click.left), b.pageY - this.offset.click.top < this.containment[1] && (g = this.containment[1] + this.offset.click.top), b.pageX - this.offset.click.left > this.containment[2] && (f = this.containment[2] + this.offset.click.left), b.pageY - this.offset.click.top > this.containment[3] && (g = this.containment[3] + this.offset.click.top)), e.grid && (c = this.originalPageY + Math.round((g - this.originalPageY) / e.grid[1]) * e.grid[1], g = this.containment ? c - this.offset.click.top >= this.containment[1] && c - this.offset.click.top <= this.containment[3] ? c : c - this.offset.click.top >= this.containment[1] ? c - e.grid[1] : c + e.grid[1] : c, d = this.originalPageX + Math.round((f - this.originalPageX) / e.grid[0]) * e.grid[0], f = this.containment ? d - this.offset.click.left >= this.containment[0] && d - this.offset.click.left <= this.containment[2] ? d : d - this.offset.click.left >= this.containment[0] ? d - e.grid[0] : d + e.grid[0] : d)), {
                    top: g - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : i ? 0 : h.scrollTop()),
                    left: f - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : i ? 0 : h.scrollLeft())
                }
            },
            _rearrange: function (a, b, c, d) {
                c ? c[0].appendChild(this.placeholder[0]) : b.item[0].parentNode.insertBefore(this.placeholder[0], "down" === this.direction ? b.item[0] : b.item[0].nextSibling), this.counter = this.counter ? ++this.counter : 1;
                var e = this.counter;
                this._delay(function () {
                    e === this.counter && this.refreshPositions(!d)
                })
            },
            _clear: function (a, b) {
                function c(a, b, c) {
                    return function (d) {
                        c._trigger(a, d, b._uiHash(b))
                    }
                }

                this.reverting = !1;
                var d, e = [];
                if (!this._noFinalSort && this.currentItem.parent().length && this.placeholder.before(this.currentItem), this._noFinalSort = null, this.helper[0] === this.currentItem[0]) {
                    for (d in this._storedCSS)"auto" !== this._storedCSS[d] && "static" !== this._storedCSS[d] || (this._storedCSS[d] = "");
                    this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")
                } else this.currentItem.show();
                for (this.fromOutside && !b && e.push(function (a) {
                    this._trigger("receive", a, this._uiHash(this.fromOutside))
                }), !this.fromOutside && this.domPosition.prev === this.currentItem.prev().not(".ui-sortable-helper")[0] && this.domPosition.parent === this.currentItem.parent()[0] || b || e.push(function (a) {
                    this._trigger("update", a, this._uiHash())
                }), this !== this.currentContainer && (b || (e.push(function (a) {
                    this._trigger("remove", a, this._uiHash())
                }), e.push(function (a) {
                    return function (b) {
                        a._trigger("receive", b, this._uiHash(this))
                    }
                }.call(this, this.currentContainer)), e.push(function (a) {
                    return function (b) {
                        a._trigger("update", b, this._uiHash(this))
                    }
                }.call(this, this.currentContainer)))), d = this.containers.length - 1; d >= 0; d--)b || e.push(c("deactivate", this, this.containers[d])), this.containers[d].containerCache.over && (e.push(c("out", this, this.containers[d])), this.containers[d].containerCache.over = 0);
                if (this.storedCursor && (this.document.find("body").css("cursor", this.storedCursor), this.storedStylesheet.remove()), this._storedOpacity && this.helper.css("opacity", this._storedOpacity), this._storedZIndex && this.helper.css("zIndex", "auto" === this._storedZIndex ? "" : this._storedZIndex), this.dragging = !1, b || this._trigger("beforeStop", a, this._uiHash()), this.placeholder[0].parentNode.removeChild(this.placeholder[0]), this.cancelHelperRemoval || (this.helper[0] !== this.currentItem[0] && this.helper.remove(), this.helper = null), !b) {
                    for (d = 0; d < e.length; d++)e[d].call(this, a);
                    this._trigger("stop", a, this._uiHash())
                }
                return this.fromOutside = !1, !this.cancelHelperRemoval
            },
            _trigger: function () {
                a.Widget.prototype._trigger.apply(this, arguments) === !1 && this.cancel()
            },
            _uiHash: function (b) {
                var c = b || this;
                return {
                    helper: c.helper,
                    placeholder: c.placeholder || a([]),
                    position: c.position,
                    originalPosition: c.originalPosition,
                    offset: c.positionAbs,
                    item: c.currentItem,
                    sender: b ? b.element : null
                }
            }
        })
    }), function (a) {
        "function" == typeof define && define.amd ? define(["jquery", "./core"], a) : a(jQuery)
    }(function (a) {
        function b(a) {
            for (var b, c; a.length && a[0] !== document;) {
                if (b = a.css("position"), ("absolute" === b || "relative" === b || "fixed" === b) && (c = parseInt(a.css("zIndex"), 10), !isNaN(c) && 0 !== c))return c;
                a = a.parent()
            }
            return 0
        }

        function c() {
            this._curInst = null, this._keyEvent = !1, this._disabledInputs = [], this._datepickerShowing = !1, this._inDialog = !1, this._mainDivId = "ui-datepicker-div", this._inlineClass = "ui-datepicker-inline", this._appendClass = "ui-datepicker-append", this._triggerClass = "ui-datepicker-trigger", this._dialogClass = "ui-datepicker-dialog", this._disableClass = "ui-datepicker-disabled", this._unselectableClass = "ui-datepicker-unselectable", this._currentClass = "ui-datepicker-current-day", this._dayOverClass = "ui-datepicker-days-cell-over", this.regional = [], this.regional[""] = {
                closeText: "Done",
                prevText: "Prev",
                nextText: "Next",
                currentText: "Today",
                monthNames: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
                monthNamesShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
                dayNames: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
                dayNamesShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
                dayNamesMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
                weekHeader: "Wk",
                dateFormat: "mm/dd/yy",
                firstDay: 0,
                isRTL: !1,
                showMonthAfterYear: !1,
                yearSuffix: ""
            }, this._defaults = {
                showOn: "focus",
                showAnim: "fadeIn",
                showOptions: {},
                defaultDate: null,
                appendText: "",
                buttonText: "...",
                buttonImage: "",
                buttonImageOnly: !1,
                hideIfNoPrevNext: !1,
                navigationAsDateFormat: !1,
                gotoCurrent: !1,
                changeMonth: !1,
                changeYear: !1,
                yearRange: "c-10:c+10",
                showOtherMonths: !1,
                selectOtherMonths: !1,
                showWeek: !1,
                calculateWeek: this.iso8601Week,
                shortYearCutoff: "+10",
                minDate: null,
                maxDate: null,
                duration: "fast",
                beforeShowDay: null,
                beforeShow: null,
                onSelect: null,
                onChangeMonthYear: null,
                onClose: null,
                numberOfMonths: 1,
                showCurrentAtPos: 0,
                stepMonths: 1,
                stepBigMonths: 12,
                altField: "",
                altFormat: "",
                constrainInput: !0,
                showButtonPanel: !1,
                autoSize: !1,
                disabled: !1
            }, a.extend(this._defaults, this.regional[""]), this.regional.en = a.extend(!0, {}, this.regional[""]), this.regional["en-US"] = a.extend(!0, {}, this.regional.en), this.dpDiv = d(a("<div id='" + this._mainDivId + "' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))
        }

        function d(b) {
            var c = "button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";
            return b.delegate(c, "mouseout", function () {
                a(this).removeClass("ui-state-hover"), this.className.indexOf("ui-datepicker-prev") !== -1 && a(this).removeClass("ui-datepicker-prev-hover"), this.className.indexOf("ui-datepicker-next") !== -1 && a(this).removeClass("ui-datepicker-next-hover")
            }).delegate(c, "mouseover", e)
        }

        function e() {
            a.datepicker._isDisabledDatepicker(g.inline ? g.dpDiv.parent()[0] : g.input[0]) || (a(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"), a(this).addClass("ui-state-hover"), this.className.indexOf("ui-datepicker-prev") !== -1 && a(this).addClass("ui-datepicker-prev-hover"), this.className.indexOf("ui-datepicker-next") !== -1 && a(this).addClass("ui-datepicker-next-hover"))
        }

        function f(b, c) {
            a.extend(b, c);
            for (var d in c)null == c[d] && (b[d] = c[d]);
            return b
        }

        a.extend(a.ui, {datepicker: {version: "1.11.4"}});
        var g;
        return a.extend(c.prototype, {
            markerClassName: "hasDatepicker",
            maxRows: 4,
            _widgetDatepicker: function () {
                return this.dpDiv
            },
            setDefaults: function (a) {
                return f(this._defaults, a || {}), this
            },
            _attachDatepicker: function (b, c) {
                var d, e, f;
                d = b.nodeName.toLowerCase(), e = "div" === d || "span" === d, b.id || (this.uuid += 1, b.id = "dp" + this.uuid), f = this._newInst(a(b), e), f.settings = a.extend({}, c || {}), "input" === d ? this._connectDatepicker(b, f) : e && this._inlineDatepicker(b, f)
            },
            _newInst: function (b, c) {
                var e = b[0].id.replace(/([^A-Za-z0-9_\-])/g, "\\\\$1");
                return {
                    id: e,
                    input: b,
                    selectedDay: 0,
                    selectedMonth: 0,
                    selectedYear: 0,
                    drawMonth: 0,
                    drawYear: 0,
                    inline: c,
                    dpDiv: c ? d(a("<div class='" + this._inlineClass + " ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")) : this.dpDiv
                }
            },
            _connectDatepicker: function (b, c) {
                var d = a(b);
                c.append = a([]), c.trigger = a([]), d.hasClass(this.markerClassName) || (this._attachments(d, c), d.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp), this._autoSize(c), a.data(b, "datepicker", c), c.settings.disabled && this._disableDatepicker(b))
            },
            _attachments: function (b, c) {
                var d, e, f, g = this._get(c, "appendText"), h = this._get(c, "isRTL");
                c.append && c.append.remove(), g && (c.append = a("<span class='" + this._appendClass + "'>" + g + "</span>"), b[h ? "before" : "after"](c.append)), b.unbind("focus", this._showDatepicker), c.trigger && c.trigger.remove(), d = this._get(c, "showOn"), "focus" !== d && "both" !== d || b.focus(this._showDatepicker), "button" !== d && "both" !== d || (e = this._get(c, "buttonText"), f = this._get(c, "buttonImage"), c.trigger = a(this._get(c, "buttonImageOnly") ? a("<img/>").addClass(this._triggerClass).attr({
                    src: f,
                    alt: e,
                    title: e
                }) : a("<button type='button'></button>").addClass(this._triggerClass).html(f ? a("<img/>").attr({
                    src: f,
                    alt: e,
                    title: e
                }) : e)), b[h ? "before" : "after"](c.trigger), c.trigger.click(function () {
                    return a.datepicker._datepickerShowing && a.datepicker._lastInput === b[0] ? a.datepicker._hideDatepicker() : a.datepicker._datepickerShowing && a.datepicker._lastInput !== b[0] ? (a.datepicker._hideDatepicker(), a.datepicker._showDatepicker(b[0])) : a.datepicker._showDatepicker(b[0]), !1
                }))
            },
            _autoSize: function (a) {
                if (this._get(a, "autoSize") && !a.inline) {
                    var b, c, d, e, f = new Date(2009, 11, 20), g = this._get(a, "dateFormat");
                    g.match(/[DM]/) && (b = function (a) {
                        for (c = 0, d = 0, e = 0; e < a.length; e++)a[e].length > c && (c = a[e].length, d = e);
                        return d
                    }, f.setMonth(b(this._get(a, g.match(/MM/) ? "monthNames" : "monthNamesShort"))), f.setDate(b(this._get(a, g.match(/DD/) ? "dayNames" : "dayNamesShort")) + 20 - f.getDay())), a.input.attr("size", this._formatDate(a, f).length)
                }
            },
            _inlineDatepicker: function (b, c) {
                var d = a(b);
                d.hasClass(this.markerClassName) || (d.addClass(this.markerClassName).append(c.dpDiv), a.data(b, "datepicker", c), this._setDate(c, this._getDefaultDate(c), !0), this._updateDatepicker(c), this._updateAlternate(c), c.settings.disabled && this._disableDatepicker(b), c.dpDiv.css("display", "block"))
            },
            _dialogDatepicker: function (b, c, d, e, g) {
                var h, i, j, k, l, m = this._dialogInst;
                return m || (this.uuid += 1, h = "dp" + this.uuid, this._dialogInput = a("<input type='text' id='" + h + "' style='position: absolute; top: -100px; width: 0px;'/>"), this._dialogInput.keydown(this._doKeyDown), a("body").append(this._dialogInput), m = this._dialogInst = this._newInst(this._dialogInput, !1), m.settings = {}, a.data(this._dialogInput[0], "datepicker", m)), f(m.settings, e || {}), c = c && c.constructor === Date ? this._formatDate(m, c) : c, this._dialogInput.val(c), this._pos = g ? g.length ? g : [g.pageX, g.pageY] : null, this._pos || (i = document.documentElement.clientWidth, j = document.documentElement.clientHeight, k = document.documentElement.scrollLeft || document.body.scrollLeft, l = document.documentElement.scrollTop || document.body.scrollTop, this._pos = [i / 2 - 100 + k, j / 2 - 150 + l]), this._dialogInput.css("left", this._pos[0] + 20 + "px").css("top", this._pos[1] + "px"), m.settings.onSelect = d, this._inDialog = !0, this.dpDiv.addClass(this._dialogClass), this._showDatepicker(this._dialogInput[0]), a.blockUI && a.blockUI(this.dpDiv), a.data(this._dialogInput[0], "datepicker", m), this
            },
            _destroyDatepicker: function (b) {
                var c, d = a(b), e = a.data(b, "datepicker");
                d.hasClass(this.markerClassName) && (c = b.nodeName.toLowerCase(), a.removeData(b, "datepicker"), "input" === c ? (e.append.remove(), e.trigger.remove(), d.removeClass(this.markerClassName).unbind("focus", this._showDatepicker).unbind("keydown", this._doKeyDown).unbind("keypress", this._doKeyPress).unbind("keyup", this._doKeyUp)) : "div" !== c && "span" !== c || d.removeClass(this.markerClassName).empty(), g === e && (g = null))
            },
            _enableDatepicker: function (b) {
                var c, d, e = a(b), f = a.data(b, "datepicker");
                e.hasClass(this.markerClassName) && (c = b.nodeName.toLowerCase(), "input" === c ? (b.disabled = !1, f.trigger.filter("button").each(function () {
                    this.disabled = !1
                }).end().filter("img").css({
                    opacity: "1.0",
                    cursor: ""
                })) : "div" !== c && "span" !== c || (d = e.children("." + this._inlineClass), d.children().removeClass("ui-state-disabled"), d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", !1)), this._disabledInputs = a.map(this._disabledInputs, function (a) {
                    return a === b ? null : a
                }))
            },
            _disableDatepicker: function (b) {
                var c, d, e = a(b), f = a.data(b, "datepicker");
                e.hasClass(this.markerClassName) && (c = b.nodeName.toLowerCase(), "input" === c ? (b.disabled = !0, f.trigger.filter("button").each(function () {
                    this.disabled = !0
                }).end().filter("img").css({
                    opacity: "0.5",
                    cursor: "default"
                })) : "div" !== c && "span" !== c || (d = e.children("." + this._inlineClass), d.children().addClass("ui-state-disabled"), d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", !0)), this._disabledInputs = a.map(this._disabledInputs, function (a) {
                    return a === b ? null : a
                }), this._disabledInputs[this._disabledInputs.length] = b)
            },
            _isDisabledDatepicker: function (a) {
                if (!a)return !1;
                for (var b = 0; b < this._disabledInputs.length; b++)if (this._disabledInputs[b] === a)return !0;
                return !1
            },
            _getInst: function (b) {
                try {
                    return a.data(b, "datepicker")
                } catch (a) {
                    throw"Missing instance data for this datepicker"
                }
            },
            _optionDatepicker: function (b, c, d) {
                var e, g, h, i, j = this._getInst(b);
                return 2 === arguments.length && "string" == typeof c ? "defaults" === c ? a.extend({}, a.datepicker._defaults) : j ? "all" === c ? a.extend({}, j.settings) : this._get(j, c) : null : (e = c || {}, "string" == typeof c && (e = {}, e[c] = d), void(j && (this._curInst === j && this._hideDatepicker(), g = this._getDateDatepicker(b, !0), h = this._getMinMaxDate(j, "min"), i = this._getMinMaxDate(j, "max"), f(j.settings, e), null !== h && void 0 !== e.dateFormat && void 0 === e.minDate && (j.settings.minDate = this._formatDate(j, h)), null !== i && void 0 !== e.dateFormat && void 0 === e.maxDate && (j.settings.maxDate = this._formatDate(j, i)), "disabled" in e && (e.disabled ? this._disableDatepicker(b) : this._enableDatepicker(b)), this._attachments(a(b), j), this._autoSize(j), this._setDate(j, g), this._updateAlternate(j), this._updateDatepicker(j))))
            },
            _changeDatepicker: function (a, b, c) {
                this._optionDatepicker(a, b, c)
            },
            _refreshDatepicker: function (a) {
                var b = this._getInst(a);
                b && this._updateDatepicker(b)
            },
            _setDateDatepicker: function (a, b) {
                var c = this._getInst(a);
                c && (this._setDate(c, b), this._updateDatepicker(c), this._updateAlternate(c))
            },
            _getDateDatepicker: function (a, b) {
                var c = this._getInst(a);
                return c && !c.inline && this._setDateFromField(c, b), c ? this._getDate(c) : null
            },
            _doKeyDown: function (b) {
                var c, d, e, f = a.datepicker._getInst(b.target), g = !0, h = f.dpDiv.is(".ui-datepicker-rtl");
                if (f._keyEvent = !0, a.datepicker._datepickerShowing)switch (b.keyCode) {
                    case 9:
                        a.datepicker._hideDatepicker(), g = !1;
                        break;
                    case 13:
                        return e = a("td." + a.datepicker._dayOverClass + ":not(." + a.datepicker._currentClass + ")", f.dpDiv), e[0] && a.datepicker._selectDay(b.target, f.selectedMonth, f.selectedYear, e[0]), c = a.datepicker._get(f, "onSelect"), c ? (d = a.datepicker._formatDate(f), c.apply(f.input ? f.input[0] : null, [d, f])) : a.datepicker._hideDatepicker(), !1;
                    case 27:
                        a.datepicker._hideDatepicker();
                        break;
                    case 33:
                        a.datepicker._adjustDate(b.target, b.ctrlKey ? -a.datepicker._get(f, "stepBigMonths") : -a.datepicker._get(f, "stepMonths"), "M");
                        break;
                    case 34:
                        a.datepicker._adjustDate(b.target, b.ctrlKey ? +a.datepicker._get(f, "stepBigMonths") : +a.datepicker._get(f, "stepMonths"), "M");
                        break;
                    case 35:
                        (b.ctrlKey || b.metaKey) && a.datepicker._clearDate(b.target), g = b.ctrlKey || b.metaKey;
                        break;
                    case 36:
                        (b.ctrlKey || b.metaKey) && a.datepicker._gotoToday(b.target), g = b.ctrlKey || b.metaKey;
                        break;
                    case 37:
                        (b.ctrlKey || b.metaKey) && a.datepicker._adjustDate(b.target, h ? 1 : -1, "D"), g = b.ctrlKey || b.metaKey, b.originalEvent.altKey && a.datepicker._adjustDate(b.target, b.ctrlKey ? -a.datepicker._get(f, "stepBigMonths") : -a.datepicker._get(f, "stepMonths"), "M");
                        break;
                    case 38:
                        (b.ctrlKey || b.metaKey) && a.datepicker._adjustDate(b.target, -7, "D"), g = b.ctrlKey || b.metaKey;
                        break;
                    case 39:
                        (b.ctrlKey || b.metaKey) && a.datepicker._adjustDate(b.target, h ? -1 : 1, "D"), g = b.ctrlKey || b.metaKey, b.originalEvent.altKey && a.datepicker._adjustDate(b.target, b.ctrlKey ? +a.datepicker._get(f, "stepBigMonths") : +a.datepicker._get(f, "stepMonths"), "M");
                        break;
                    case 40:
                        (b.ctrlKey || b.metaKey) && a.datepicker._adjustDate(b.target, 7, "D"), g = b.ctrlKey || b.metaKey;
                        break;
                    default:
                        g = !1
                } else 36 === b.keyCode && b.ctrlKey ? a.datepicker._showDatepicker(this) : g = !1;
                g && (b.preventDefault(), b.stopPropagation())
            },
            _doKeyPress: function (b) {
                var c, d, e = a.datepicker._getInst(b.target);
                if (a.datepicker._get(e, "constrainInput"))return c = a.datepicker._possibleChars(a.datepicker._get(e, "dateFormat")), d = String.fromCharCode(null == b.charCode ? b.keyCode : b.charCode), b.ctrlKey || b.metaKey || d < " " || !c || c.indexOf(d) > -1
            },
            _doKeyUp: function (b) {
                var c, d = a.datepicker._getInst(b.target);
                if (d.input.val() !== d.lastVal)try {
                    c = a.datepicker.parseDate(a.datepicker._get(d, "dateFormat"), d.input ? d.input.val() : null, a.datepicker._getFormatConfig(d)), c && (a.datepicker._setDateFromField(d), a.datepicker._updateAlternate(d), a.datepicker._updateDatepicker(d))
                } catch (a) {
                }
                return !0
            },
            _showDatepicker: function (c) {
                if (c = c.target || c, "input" !== c.nodeName.toLowerCase() && (c = a("input", c.parentNode)[0]), !a.datepicker._isDisabledDatepicker(c) && a.datepicker._lastInput !== c) {
                    var d, e, g, h, i, j, k;
                    d = a.datepicker._getInst(c), a.datepicker._curInst && a.datepicker._curInst !== d && (a.datepicker._curInst.dpDiv.stop(!0, !0), d && a.datepicker._datepickerShowing && a.datepicker._hideDatepicker(a.datepicker._curInst.input[0])), e = a.datepicker._get(d, "beforeShow"), g = e ? e.apply(c, [c, d]) : {}, g !== !1 && (f(d.settings, g), d.lastVal = null, a.datepicker._lastInput = c, a.datepicker._setDateFromField(d), a.datepicker._inDialog && (c.value = ""), a.datepicker._pos || (a.datepicker._pos = a.datepicker._findPos(c), a.datepicker._pos[1] += c.offsetHeight), h = !1, a(c).parents().each(function () {
                        return h |= "fixed" === a(this).css("position"), !h
                    }), i = {
                        left: a.datepicker._pos[0],
                        top: a.datepicker._pos[1]
                    }, a.datepicker._pos = null, d.dpDiv.empty(), d.dpDiv.css({
                        position: "absolute",
                        display: "block",
                        top: "-1000px"
                    }), a.datepicker._updateDatepicker(d), i = a.datepicker._checkOffset(d, i, h), d.dpDiv.css({
                        position: a.datepicker._inDialog && a.blockUI ? "static" : h ? "fixed" : "absolute",
                        display: "none",
                        left: i.left + "px",
                        top: i.top + "px"
                    }), d.inline || (j = a.datepicker._get(d, "showAnim"), k = a.datepicker._get(d, "duration"), d.dpDiv.css("z-index", b(a(c)) + 1), a.datepicker._datepickerShowing = !0, a.effects && a.effects.effect[j] ? d.dpDiv.show(j, a.datepicker._get(d, "showOptions"), k) : d.dpDiv[j || "show"](j ? k : null), a.datepicker._shouldFocusInput(d) && d.input.focus(), a.datepicker._curInst = d))
                }
            },
            _updateDatepicker: function (b) {
                this.maxRows = 4, g = b, b.dpDiv.empty().append(this._generateHTML(b)), this._attachHandlers(b);
                var c, d = this._getNumberOfMonths(b), f = d[1], h = 17, i = b.dpDiv.find("." + this._dayOverClass + " a");
                i.length > 0 && e.apply(i.get(0)), b.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""), f > 1 && b.dpDiv.addClass("ui-datepicker-multi-" + f).css("width", h * f + "em"), b.dpDiv[(1 !== d[0] || 1 !== d[1] ? "add" : "remove") + "Class"]("ui-datepicker-multi"), b.dpDiv[(this._get(b, "isRTL") ? "add" : "remove") + "Class"]("ui-datepicker-rtl"), b === a.datepicker._curInst && a.datepicker._datepickerShowing && a.datepicker._shouldFocusInput(b) && b.input.focus(), b.yearshtml && (c = b.yearshtml, setTimeout(function () {
                    c === b.yearshtml && b.yearshtml && b.dpDiv.find("select.ui-datepicker-year:first").replaceWith(b.yearshtml), c = b.yearshtml = null
                }, 0))
            },
            _shouldFocusInput: function (a) {
                return a.input && a.input.is(":visible") && !a.input.is(":disabled") && !a.input.is(":focus")
            },
            _checkOffset: function (b, c, d) {
                var e = b.dpDiv.outerWidth(), f = b.dpDiv.outerHeight(), g = b.input ? b.input.outerWidth() : 0, h = b.input ? b.input.outerHeight() : 0, i = document.documentElement.clientWidth + (d ? 0 : a(document).scrollLeft()), j = document.documentElement.clientHeight + (d ? 0 : a(document).scrollTop());
                return c.left -= this._get(b, "isRTL") ? e - g : 0, c.left -= d && c.left === b.input.offset().left ? a(document).scrollLeft() : 0, c.top -= d && c.top === b.input.offset().top + h ? a(document).scrollTop() : 0, c.left -= Math.min(c.left, c.left + e > i && i > e ? Math.abs(c.left + e - i) : 0), c.top -= Math.min(c.top, c.top + f > j && j > f ? Math.abs(f + h) : 0), c
            },
            _findPos: function (b) {
                for (var c, d = this._getInst(b), e = this._get(d, "isRTL"); b && ("hidden" === b.type || 1 !== b.nodeType || a.expr.filters.hidden(b));)b = b[e ? "previousSibling" : "nextSibling"];
                return c = a(b).offset(), [c.left, c.top]
            },
            _hideDatepicker: function (b) {
                var c, d, e, f, g = this._curInst;
                !g || b && g !== a.data(b, "datepicker") || this._datepickerShowing && (c = this._get(g, "showAnim"), d = this._get(g, "duration"), e = function () {
                    a.datepicker._tidyDialog(g)
                }, a.effects && (a.effects.effect[c] || a.effects[c]) ? g.dpDiv.hide(c, a.datepicker._get(g, "showOptions"), d, e) : g.dpDiv["slideDown" === c ? "slideUp" : "fadeIn" === c ? "fadeOut" : "hide"](c ? d : null, e), c || e(), this._datepickerShowing = !1, f = this._get(g, "onClose"), f && f.apply(g.input ? g.input[0] : null, [g.input ? g.input.val() : "", g]), this._lastInput = null, this._inDialog && (this._dialogInput.css({
                    position: "absolute",
                    left: "0",
                    top: "-100px"
                }), a.blockUI && (a.unblockUI(), a("body").append(this.dpDiv))), this._inDialog = !1)
            },
            _tidyDialog: function (a) {
                a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")
            },
            _checkExternalClick: function (b) {
                if (a.datepicker._curInst) {
                    var c = a(b.target), d = a.datepicker._getInst(c[0]);
                    (c[0].id === a.datepicker._mainDivId || 0 !== c.parents("#" + a.datepicker._mainDivId).length || c.hasClass(a.datepicker.markerClassName) || c.closest("." + a.datepicker._triggerClass).length || !a.datepicker._datepickerShowing || a.datepicker._inDialog && a.blockUI) && (!c.hasClass(a.datepicker.markerClassName) || a.datepicker._curInst === d) || a.datepicker._hideDatepicker()
                }
            },
            _adjustDate: function (b, c, d) {
                var e = a(b), f = this._getInst(e[0]);
                this._isDisabledDatepicker(e[0]) || (this._adjustInstDate(f, c + ("M" === d ? this._get(f, "showCurrentAtPos") : 0), d), this._updateDatepicker(f))
            },
            _gotoToday: function (b) {
                var c, d = a(b), e = this._getInst(d[0]);
                this._get(e, "gotoCurrent") && e.currentDay ? (e.selectedDay = e.currentDay, e.drawMonth = e.selectedMonth = e.currentMonth, e.drawYear = e.selectedYear = e.currentYear) : (c = new Date, e.selectedDay = c.getDate(), e.drawMonth = e.selectedMonth = c.getMonth(), e.drawYear = e.selectedYear = c.getFullYear()), this._notifyChange(e), this._adjustDate(d)
            },
            _selectMonthYear: function (b, c, d) {
                var e = a(b), f = this._getInst(e[0]);
                f["selected" + ("M" === d ? "Month" : "Year")] = f["draw" + ("M" === d ? "Month" : "Year")] = parseInt(c.options[c.selectedIndex].value, 10), this._notifyChange(f), this._adjustDate(e)
            },
            _selectDay: function (b, c, d, e) {
                var f, g = a(b);
                a(e).hasClass(this._unselectableClass) || this._isDisabledDatepicker(g[0]) || (f = this._getInst(g[0]), f.selectedDay = f.currentDay = a("a", e).html(), f.selectedMonth = f.currentMonth = c, f.selectedYear = f.currentYear = d, this._selectDate(b, this._formatDate(f, f.currentDay, f.currentMonth, f.currentYear)))
            },
            _clearDate: function (b) {
                var c = a(b);
                this._selectDate(c, "")
            },
            _selectDate: function (b, c) {
                var d, e = a(b), f = this._getInst(e[0]);
                c = null != c ? c : this._formatDate(f), f.input && f.input.val(c), this._updateAlternate(f), d = this._get(f, "onSelect"), d ? d.apply(f.input ? f.input[0] : null, [c, f]) : f.input && f.input.trigger("change"), f.inline ? this._updateDatepicker(f) : (this._hideDatepicker(), this._lastInput = f.input[0], "object" != typeof f.input[0] && f.input.focus(), this._lastInput = null)
            },
            _updateAlternate: function (b) {
                var c, d, e, f = this._get(b, "altField");
                f && (c = this._get(b, "altFormat") || this._get(b, "dateFormat"), d = this._getDate(b), e = this.formatDate(c, d, this._getFormatConfig(b)), a(f).each(function () {
                    a(this).val(e)
                }))
            },
            noWeekends: function (a) {
                var b = a.getDay();
                return [b > 0 && b < 6, ""]
            },
            iso8601Week: function (a) {
                var b, c = new Date(a.getTime());
                return c.setDate(c.getDate() + 4 - (c.getDay() || 7)), b = c.getTime(), c.setMonth(0), c.setDate(1), Math.floor(Math.round((b - c) / 864e5) / 7) + 1
            },
            parseDate: function (b, c, d) {
                if (null == b || null == c)throw"Invalid arguments";
                if (c = "object" == typeof c ? c.toString() : c + "", "" === c)return null;
                var e, f, g, h, i = 0, j = (d ? d.shortYearCutoff : null) || this._defaults.shortYearCutoff, k = "string" != typeof j ? j : (new Date).getFullYear() % 100 + parseInt(j, 10), l = (d ? d.dayNamesShort : null) || this._defaults.dayNamesShort, m = (d ? d.dayNames : null) || this._defaults.dayNames, n = (d ? d.monthNamesShort : null) || this._defaults.monthNamesShort, o = (d ? d.monthNames : null) || this._defaults.monthNames, p = -1, q = -1, r = -1, s = -1, t = !1, u = function (a) {
                    var c = e + 1 < b.length && b.charAt(e + 1) === a;
                    return c && e++, c
                }, v = function (a) {
                    var b = u(a), d = "@" === a ? 14 : "!" === a ? 20 : "y" === a && b ? 4 : "o" === a ? 3 : 2, e = "y" === a ? d : 1, f = new RegExp("^\\d{" + e + "," + d + "}"), g = c.substring(i).match(f);
                    if (!g)throw"Missing number at position " + i;
                    return i += g[0].length, parseInt(g[0], 10)
                }, w = function (b, d, e) {
                    var f = -1, g = a.map(u(b) ? e : d, function (a, b) {
                        return [[b, a]]
                    }).sort(function (a, b) {
                        return -(a[1].length - b[1].length)
                    });
                    if (a.each(g, function (a, b) {
                            var d = b[1];
                            if (c.substr(i, d.length).toLowerCase() === d.toLowerCase())return f = b[0], i += d.length, !1
                        }), f !== -1)return f + 1;
                    throw"Unknown name at position " + i
                }, x = function () {
                    if (c.charAt(i) !== b.charAt(e))throw"Unexpected literal at position " + i;
                    i++
                };
                for (e = 0; e < b.length; e++)if (t)"'" !== b.charAt(e) || u("'") ? x() : t = !1; else switch (b.charAt(e)) {
                    case"d":
                        r = v("d");
                        break;
                    case"D":
                        w("D", l, m);
                        break;
                    case"o":
                        s = v("o");
                        break;
                    case"m":
                        q = v("m");
                        break;
                    case"M":
                        q = w("M", n, o);
                        break;
                    case"y":
                        p = v("y");
                        break;
                    case"@":
                        h = new Date(v("@")), p = h.getFullYear(), q = h.getMonth() + 1, r = h.getDate();
                        break;
                    case"!":
                        h = new Date((v("!") - this._ticksTo1970) / 1e4), p = h.getFullYear(), q = h.getMonth() + 1, r = h.getDate();
                        break;
                    case"'":
                        u("'") ? x() : t = !0;
                        break;
                    default:
                        x()
                }
                if (i < c.length && (g = c.substr(i), !/^\s+/.test(g)))throw"Extra/unparsed characters found in date: " + g;
                if (p === -1 ? p = (new Date).getFullYear() : p < 100 && (p += (new Date).getFullYear() - (new Date).getFullYear() % 100 + (p <= k ? 0 : -100)), s > -1)for (q = 1, r = s; ;) {
                    if (f = this._getDaysInMonth(p, q - 1), r <= f)break;
                    q++, r -= f
                }
                if (h = this._daylightSavingAdjust(new Date(p, q - 1, r)), h.getFullYear() !== p || h.getMonth() + 1 !== q || h.getDate() !== r)throw"Invalid date";
                return h
            },
            ATOM: "yy-mm-dd",
            COOKIE: "D, dd M yy",
            ISO_8601: "yy-mm-dd",
            RFC_822: "D, d M y",
            RFC_850: "DD, dd-M-y",
            RFC_1036: "D, d M y",
            RFC_1123: "D, d M yy",
            RFC_2822: "D, d M yy",
            RSS: "D, d M y",
            TICKS: "!",
            TIMESTAMP: "@",
            W3C: "yy-mm-dd",
            _ticksTo1970: 24 * (718685 + Math.floor(492.5) - Math.floor(19.7) + Math.floor(4.925)) * 60 * 60 * 1e7,
            formatDate: function (a, b, c) {
                if (!b)return "";
                var d, e = (c ? c.dayNamesShort : null) || this._defaults.dayNamesShort, f = (c ? c.dayNames : null) || this._defaults.dayNames, g = (c ? c.monthNamesShort : null) || this._defaults.monthNamesShort, h = (c ? c.monthNames : null) || this._defaults.monthNames, i = function (b) {
                    var c = d + 1 < a.length && a.charAt(d + 1) === b;
                    return c && d++, c
                }, j = function (a, b, c) {
                    var d = "" + b;
                    if (i(a))for (; d.length < c;)d = "0" + d;
                    return d
                }, k = function (a, b, c, d) {
                    return i(a) ? d[b] : c[b]
                }, l = "", m = !1;
                if (b)for (d = 0; d < a.length; d++)if (m)"'" !== a.charAt(d) || i("'") ? l += a.charAt(d) : m = !1; else switch (a.charAt(d)) {
                    case"d":
                        l += j("d", b.getDate(), 2);
                        break;
                    case"D":
                        l += k("D", b.getDay(), e, f);
                        break;
                    case"o":
                        l += j("o", Math.round((new Date(b.getFullYear(), b.getMonth(), b.getDate()).getTime() - new Date(b.getFullYear(), 0, 0).getTime()) / 864e5), 3);
                        break;
                    case"m":
                        l += j("m", b.getMonth() + 1, 2);
                        break;
                    case"M":
                        l += k("M", b.getMonth(), g, h);
                        break;
                    case"y":
                        l += i("y") ? b.getFullYear() : (b.getYear() % 100 < 10 ? "0" : "") + b.getYear() % 100;
                        break;
                    case"@":
                        l += b.getTime();
                        break;
                    case"!":
                        l += 1e4 * b.getTime() + this._ticksTo1970;
                        break;
                    case"'":
                        i("'") ? l += "'" : m = !0;
                        break;
                    default:
                        l += a.charAt(d)
                }
                return l
            },
            _possibleChars: function (a) {
                var b, c = "", d = !1, e = function (c) {
                    var d = b + 1 < a.length && a.charAt(b + 1) === c;
                    return d && b++, d
                };
                for (b = 0; b < a.length; b++)if (d)"'" !== a.charAt(b) || e("'") ? c += a.charAt(b) : d = !1; else switch (a.charAt(b)) {
                    case"d":
                    case"m":
                    case"y":
                    case"@":
                        c += "0123456789";
                        break;
                    case"D":
                    case"M":
                        return null;
                    case"'":
                        e("'") ? c += "'" : d = !0;
                        break;
                    default:
                        c += a.charAt(b)
                }
                return c
            },
            _get: function (a, b) {
                return void 0 !== a.settings[b] ? a.settings[b] : this._defaults[b]
            },
            _setDateFromField: function (a, b) {
                if (a.input.val() !== a.lastVal) {
                    var c = this._get(a, "dateFormat"), d = a.lastVal = a.input ? a.input.val() : null, e = this._getDefaultDate(a), f = e, g = this._getFormatConfig(a);
                    try {
                        f = this.parseDate(c, d, g) || e
                    } catch (a) {
                        d = b ? "" : d
                    }
                    a.selectedDay = f.getDate(), a.drawMonth = a.selectedMonth = f.getMonth(), a.drawYear = a.selectedYear = f.getFullYear(), a.currentDay = d ? f.getDate() : 0, a.currentMonth = d ? f.getMonth() : 0, a.currentYear = d ? f.getFullYear() : 0, this._adjustInstDate(a)
                }
            },
            _getDefaultDate: function (a) {
                return this._restrictMinMax(a, this._determineDate(a, this._get(a, "defaultDate"), new Date))
            },
            _determineDate: function (b, c, d) {
                var e = function (a) {
                    var b = new Date;
                    return b.setDate(b.getDate() + a), b
                }, f = function (c) {
                    try {
                        return a.datepicker.parseDate(a.datepicker._get(b, "dateFormat"), c, a.datepicker._getFormatConfig(b))
                    } catch (a) {
                    }
                    for (var d = (c.toLowerCase().match(/^c/) ? a.datepicker._getDate(b) : null) || new Date, e = d.getFullYear(), f = d.getMonth(), g = d.getDate(), h = /([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g, i = h.exec(c); i;) {
                        switch (i[2] || "d") {
                            case"d":
                            case"D":
                                g += parseInt(i[1], 10);
                                break;
                            case"w":
                            case"W":
                                g += 7 * parseInt(i[1], 10);
                                break;
                            case"m":
                            case"M":
                                f += parseInt(i[1], 10), g = Math.min(g, a.datepicker._getDaysInMonth(e, f));
                                break;
                            case"y":
                            case"Y":
                                e += parseInt(i[1], 10), g = Math.min(g, a.datepicker._getDaysInMonth(e, f))
                        }
                        i = h.exec(c)
                    }
                    return new Date(e, f, g)
                }, g = null == c || "" === c ? d : "string" == typeof c ? f(c) : "number" == typeof c ? isNaN(c) ? d : e(c) : new Date(c.getTime());
                return g = g && "Invalid Date" === g.toString() ? d : g, g && (g.setHours(0), g.setMinutes(0), g.setSeconds(0), g.setMilliseconds(0)), this._daylightSavingAdjust(g)
            },
            _daylightSavingAdjust: function (a) {
                return a ? (a.setHours(a.getHours() > 12 ? a.getHours() + 2 : 0), a) : null
            },
            _setDate: function (a, b, c) {
                var d = !b, e = a.selectedMonth, f = a.selectedYear, g = this._restrictMinMax(a, this._determineDate(a, b, new Date));
                a.selectedDay = a.currentDay = g.getDate(), a.drawMonth = a.selectedMonth = a.currentMonth = g.getMonth(), a.drawYear = a.selectedYear = a.currentYear = g.getFullYear(),
                e === a.selectedMonth && f === a.selectedYear || c || this._notifyChange(a), this._adjustInstDate(a), a.input && a.input.val(d ? "" : this._formatDate(a))
            },
            _getDate: function (a) {
                var b = !a.currentYear || a.input && "" === a.input.val() ? null : this._daylightSavingAdjust(new Date(a.currentYear, a.currentMonth, a.currentDay));
                return b
            },
            _attachHandlers: function (b) {
                var c = this._get(b, "stepMonths"), d = "#" + b.id.replace(/\\\\/g, "\\");
                b.dpDiv.find("[data-handler]").map(function () {
                    var b = {
                        prev: function () {
                            a.datepicker._adjustDate(d, -c, "M")
                        }, next: function () {
                            a.datepicker._adjustDate(d, +c, "M")
                        }, hide: function () {
                            a.datepicker._hideDatepicker()
                        }, today: function () {
                            a.datepicker._gotoToday(d)
                        }, selectDay: function () {
                            return a.datepicker._selectDay(d, +this.getAttribute("data-month"), +this.getAttribute("data-year"), this), !1
                        }, selectMonth: function () {
                            return a.datepicker._selectMonthYear(d, this, "M"), !1
                        }, selectYear: function () {
                            return a.datepicker._selectMonthYear(d, this, "Y"), !1
                        }
                    };
                    a(this).bind(this.getAttribute("data-event"), b[this.getAttribute("data-handler")])
                })
            },
            _generateHTML: function (a) {
                var b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u, v, w, x, y, z, A, B, C, D, E, F, G, H, I, J, K, L, M, N, O = new Date, P = this._daylightSavingAdjust(new Date(O.getFullYear(), O.getMonth(), O.getDate())), Q = this._get(a, "isRTL"), R = this._get(a, "showButtonPanel"), S = this._get(a, "hideIfNoPrevNext"), T = this._get(a, "navigationAsDateFormat"), U = this._getNumberOfMonths(a), V = this._get(a, "showCurrentAtPos"), W = this._get(a, "stepMonths"), X = 1 !== U[0] || 1 !== U[1], Y = this._daylightSavingAdjust(a.currentDay ? new Date(a.currentYear, a.currentMonth, a.currentDay) : new Date(9999, 9, 9)), Z = this._getMinMaxDate(a, "min"), $ = this._getMinMaxDate(a, "max"), _ = a.drawMonth - V, aa = a.drawYear;
                if (_ < 0 && (_ += 12, aa--), $)for (b = this._daylightSavingAdjust(new Date($.getFullYear(), $.getMonth() - U[0] * U[1] + 1, $.getDate())), b = Z && b < Z ? Z : b; this._daylightSavingAdjust(new Date(aa, _, 1)) > b;)_--, _ < 0 && (_ = 11, aa--);
                for (a.drawMonth = _, a.drawYear = aa, c = this._get(a, "prevText"), c = T ? this.formatDate(c, this._daylightSavingAdjust(new Date(aa, _ - W, 1)), this._getFormatConfig(a)) : c, d = this._canAdjustMonth(a, -1, aa, _) ? "<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='" + c + "'><span class='ui-icon ui-icon-circle-triangle-" + (Q ? "e" : "w") + "'>" + c + "</span></a>" : S ? "" : "<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='" + c + "'><span class='ui-icon ui-icon-circle-triangle-" + (Q ? "e" : "w") + "'>" + c + "</span></a>", e = this._get(a, "nextText"), e = T ? this.formatDate(e, this._daylightSavingAdjust(new Date(aa, _ + W, 1)), this._getFormatConfig(a)) : e, f = this._canAdjustMonth(a, 1, aa, _) ? "<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='" + e + "'><span class='ui-icon ui-icon-circle-triangle-" + (Q ? "w" : "e") + "'>" + e + "</span></a>" : S ? "" : "<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='" + e + "'><span class='ui-icon ui-icon-circle-triangle-" + (Q ? "w" : "e") + "'>" + e + "</span></a>", g = this._get(a, "currentText"), h = this._get(a, "gotoCurrent") && a.currentDay ? Y : P, g = T ? this.formatDate(g, h, this._getFormatConfig(a)) : g, i = a.inline ? "" : "<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>" + this._get(a, "closeText") + "</button>", j = R ? "<div class='ui-datepicker-buttonpane ui-widget-content'>" + (Q ? i : "") + (this._isInRange(a, h) ? "<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>" + g + "</button>" : "") + (Q ? "" : i) + "</div>" : "", k = parseInt(this._get(a, "firstDay"), 10), k = isNaN(k) ? 0 : k, l = this._get(a, "showWeek"), m = this._get(a, "dayNames"), n = this._get(a, "dayNamesMin"), o = this._get(a, "monthNames"), p = this._get(a, "monthNamesShort"), q = this._get(a, "beforeShowDay"), r = this._get(a, "showOtherMonths"), s = this._get(a, "selectOtherMonths"), t = this._getDefaultDate(a), u = "", w = 0; w < U[0]; w++) {
                    for (x = "", this.maxRows = 4, y = 0; y < U[1]; y++) {
                        if (z = this._daylightSavingAdjust(new Date(aa, _, a.selectedDay)), A = " ui-corner-all", B = "", X) {
                            if (B += "<div class='ui-datepicker-group", U[1] > 1)switch (y) {
                                case 0:
                                    B += " ui-datepicker-group-first", A = " ui-corner-" + (Q ? "right" : "left");
                                    break;
                                case U[1] - 1:
                                    B += " ui-datepicker-group-last", A = " ui-corner-" + (Q ? "left" : "right");
                                    break;
                                default:
                                    B += " ui-datepicker-group-middle", A = ""
                            }
                            B += "'>"
                        }
                        for (B += "<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix" + A + "'>" + (/all|left/.test(A) && 0 === w ? Q ? f : d : "") + (/all|right/.test(A) && 0 === w ? Q ? d : f : "") + this._generateMonthYearHeader(a, _, aa, Z, $, w > 0 || y > 0, o, p) + "</div><table class='ui-datepicker-calendar'><thead><tr>", C = l ? "<th class='ui-datepicker-week-col'>" + this._get(a, "weekHeader") + "</th>" : "", v = 0; v < 7; v++)D = (v + k) % 7, C += "<th scope='col'" + ((v + k + 6) % 7 >= 5 ? " class='ui-datepicker-week-end'" : "") + "><span title='" + m[D] + "'>" + n[D] + "</span></th>";
                        for (B += C + "</tr></thead><tbody>", E = this._getDaysInMonth(aa, _), aa === a.selectedYear && _ === a.selectedMonth && (a.selectedDay = Math.min(a.selectedDay, E)), F = (this._getFirstDayOfMonth(aa, _) - k + 7) % 7, G = Math.ceil((F + E) / 7), H = X && this.maxRows > G ? this.maxRows : G, this.maxRows = H, I = this._daylightSavingAdjust(new Date(aa, _, 1 - F)), J = 0; J < H; J++) {
                            for (B += "<tr>", K = l ? "<td class='ui-datepicker-week-col'>" + this._get(a, "calculateWeek")(I) + "</td>" : "", v = 0; v < 7; v++)L = q ? q.apply(a.input ? a.input[0] : null, [I]) : [!0, ""], M = I.getMonth() !== _, N = M && !s || !L[0] || Z && I < Z || $ && I > $, K += "<td class='" + ((v + k + 6) % 7 >= 5 ? " ui-datepicker-week-end" : "") + (M ? " ui-datepicker-other-month" : "") + (I.getTime() === z.getTime() && _ === a.selectedMonth && a._keyEvent || t.getTime() === I.getTime() && t.getTime() === z.getTime() ? " " + this._dayOverClass : "") + (N ? " " + this._unselectableClass + " ui-state-disabled" : "") + (M && !r ? "" : " " + L[1] + (I.getTime() === Y.getTime() ? " " + this._currentClass : "") + (I.getTime() === P.getTime() ? " ui-datepicker-today" : "")) + "'" + (M && !r || !L[2] ? "" : " title='" + L[2].replace(/'/g, "&#39;") + "'") + (N ? "" : " data-handler='selectDay' data-event='click' data-month='" + I.getMonth() + "' data-year='" + I.getFullYear() + "'") + ">" + (M && !r ? "&#xa0;" : N ? "<span class='ui-state-default'>" + I.getDate() + "</span>" : "<a class='ui-state-default" + (I.getTime() === P.getTime() ? " ui-state-highlight" : "") + (I.getTime() === Y.getTime() ? " ui-state-active" : "") + (M ? " ui-priority-secondary" : "") + "' href='#'>" + I.getDate() + "</a>") + "</td>", I.setDate(I.getDate() + 1), I = this._daylightSavingAdjust(I);
                            B += K + "</tr>"
                        }
                        _++, _ > 11 && (_ = 0, aa++), B += "</tbody></table>" + (X ? "</div>" + (U[0] > 0 && y === U[1] - 1 ? "<div class='ui-datepicker-row-break'></div>" : "") : ""), x += B
                    }
                    u += x
                }
                return u += j, a._keyEvent = !1, u
            },
            _generateMonthYearHeader: function (a, b, c, d, e, f, g, h) {
                var i, j, k, l, m, n, o, p, q = this._get(a, "changeMonth"), r = this._get(a, "changeYear"), s = this._get(a, "showMonthAfterYear"), t = "<div class='ui-datepicker-title'>", u = "";
                if (f || !q)u += "<span class='ui-datepicker-month'>" + g[b] + "</span>"; else {
                    for (i = d && d.getFullYear() === c, j = e && e.getFullYear() === c, u += "<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>", k = 0; k < 12; k++)(!i || k >= d.getMonth()) && (!j || k <= e.getMonth()) && (u += "<option value='" + k + "'" + (k === b ? " selected='selected'" : "") + ">" + h[k] + "</option>");
                    u += "</select>"
                }
                if (s || (t += u + (!f && q && r ? "" : "&#xa0;")), !a.yearshtml)if (a.yearshtml = "", f || !r)t += "<span class='ui-datepicker-year'>" + c + "</span>"; else {
                    for (l = this._get(a, "yearRange").split(":"), m = (new Date).getFullYear(), n = function (a) {
                        var b = a.match(/c[+\-].*/) ? c + parseInt(a.substring(1), 10) : a.match(/[+\-].*/) ? m + parseInt(a, 10) : parseInt(a, 10);
                        return isNaN(b) ? m : b
                    }, o = n(l[0]), p = Math.max(o, n(l[1] || "")), o = d ? Math.max(o, d.getFullYear()) : o, p = e ? Math.min(p, e.getFullYear()) : p, a.yearshtml += "<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>"; o <= p; o++)a.yearshtml += "<option value='" + o + "'" + (o === c ? " selected='selected'" : "") + ">" + o + "</option>";
                    a.yearshtml += "</select>", t += a.yearshtml, a.yearshtml = null
                }
                return t += this._get(a, "yearSuffix"), s && (t += (!f && q && r ? "" : "&#xa0;") + u), t += "</div>"
            },
            _adjustInstDate: function (a, b, c) {
                var d = a.drawYear + ("Y" === c ? b : 0), e = a.drawMonth + ("M" === c ? b : 0), f = Math.min(a.selectedDay, this._getDaysInMonth(d, e)) + ("D" === c ? b : 0), g = this._restrictMinMax(a, this._daylightSavingAdjust(new Date(d, e, f)));
                a.selectedDay = g.getDate(), a.drawMonth = a.selectedMonth = g.getMonth(), a.drawYear = a.selectedYear = g.getFullYear(), "M" !== c && "Y" !== c || this._notifyChange(a)
            },
            _restrictMinMax: function (a, b) {
                var c = this._getMinMaxDate(a, "min"), d = this._getMinMaxDate(a, "max"), e = c && b < c ? c : b;
                return d && e > d ? d : e
            },
            _notifyChange: function (a) {
                var b = this._get(a, "onChangeMonthYear");
                b && b.apply(a.input ? a.input[0] : null, [a.selectedYear, a.selectedMonth + 1, a])
            },
            _getNumberOfMonths: function (a) {
                var b = this._get(a, "numberOfMonths");
                return null == b ? [1, 1] : "number" == typeof b ? [1, b] : b
            },
            _getMinMaxDate: function (a, b) {
                return this._determineDate(a, this._get(a, b + "Date"), null)
            },
            _getDaysInMonth: function (a, b) {
                return 32 - this._daylightSavingAdjust(new Date(a, b, 32)).getDate()
            },
            _getFirstDayOfMonth: function (a, b) {
                return new Date(a, b, 1).getDay()
            },
            _canAdjustMonth: function (a, b, c, d) {
                var e = this._getNumberOfMonths(a), f = this._daylightSavingAdjust(new Date(c, d + (b < 0 ? b : e[0] * e[1]), 1));
                return b < 0 && f.setDate(this._getDaysInMonth(f.getFullYear(), f.getMonth())), this._isInRange(a, f)
            },
            _isInRange: function (a, b) {
                var c, d, e = this._getMinMaxDate(a, "min"), f = this._getMinMaxDate(a, "max"), g = null, h = null, i = this._get(a, "yearRange");
                return i && (c = i.split(":"), d = (new Date).getFullYear(), g = parseInt(c[0], 10), h = parseInt(c[1], 10), c[0].match(/[+\-].*/) && (g += d), c[1].match(/[+\-].*/) && (h += d)), (!e || b.getTime() >= e.getTime()) && (!f || b.getTime() <= f.getTime()) && (!g || b.getFullYear() >= g) && (!h || b.getFullYear() <= h)
            },
            _getFormatConfig: function (a) {
                var b = this._get(a, "shortYearCutoff");
                return b = "string" != typeof b ? b : (new Date).getFullYear() % 100 + parseInt(b, 10), {
                    shortYearCutoff: b,
                    dayNamesShort: this._get(a, "dayNamesShort"),
                    dayNames: this._get(a, "dayNames"),
                    monthNamesShort: this._get(a, "monthNamesShort"),
                    monthNames: this._get(a, "monthNames")
                }
            },
            _formatDate: function (a, b, c, d) {
                b || (a.currentDay = a.selectedDay, a.currentMonth = a.selectedMonth, a.currentYear = a.selectedYear);
                var e = b ? "object" == typeof b ? b : this._daylightSavingAdjust(new Date(d, c, b)) : this._daylightSavingAdjust(new Date(a.currentYear, a.currentMonth, a.currentDay));
                return this.formatDate(this._get(a, "dateFormat"), e, this._getFormatConfig(a))
            }
        }), a.fn.datepicker = function (b) {
            if (!this.length)return this;
            a.datepicker.initialized || (a(document).mousedown(a.datepicker._checkExternalClick), a.datepicker.initialized = !0), 0 === a("#" + a.datepicker._mainDivId).length && a("body").append(a.datepicker.dpDiv);
            var c = Array.prototype.slice.call(arguments, 1);
            return "string" != typeof b || "isDisabled" !== b && "getDate" !== b && "widget" !== b ? "option" === b && 2 === arguments.length && "string" == typeof arguments[1] ? a.datepicker["_" + b + "Datepicker"].apply(a.datepicker, [this[0]].concat(c)) : this.each(function () {
                "string" == typeof b ? a.datepicker["_" + b + "Datepicker"].apply(a.datepicker, [this].concat(c)) : a.datepicker._attachDatepicker(this, b)
            }) : a.datepicker["_" + b + "Datepicker"].apply(a.datepicker, [this[0]].concat(c))
        }, a.datepicker = new c, a.datepicker.initialized = !1, a.datepicker.uuid = (new Date).getTime(), a.datepicker.version = "1.11.4", a.datepicker
    }), "undefined" == typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");
+function (a) {
    "use strict";
    var b = a.fn.jquery.split(" ")[0].split(".");
    if (b[0] < 2 && b[1] < 9 || 1 == b[0] && 9 == b[1] && b[2] < 1 || b[0] > 2)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3")
}(jQuery), +function (a) {
    "use strict";
    function b() {
        var a = document.createElement("bootstrap"), b = {
            WebkitTransition: "webkitTransitionEnd",
            MozTransition: "transitionend",
            OTransition: "oTransitionEnd otransitionend",
            transition: "transitionend"
        };
        for (var c in b)if (void 0 !== a.style[c])return {end: b[c]};
        return !1
    }

    a.fn.emulateTransitionEnd = function (b) {
        var c = !1, d = this;
        a(this).one("bsTransitionEnd", function () {
            c = !0
        });
        var e = function () {
            c || a(d).trigger(a.support.transition.end)
        };
        return setTimeout(e, b), this
    }, a(function () {
        a.support.transition = b(), a.support.transition && (a.event.special.bsTransitionEnd = {
            bindType: a.support.transition.end,
            delegateType: a.support.transition.end,
            handle: function (b) {
                if (a(b.target).is(this))return b.handleObj.handler.apply(this, arguments)
            }
        })
    })
}(jQuery), +function (a) {
    "use strict";
    function b(b) {
        return this.each(function () {
            var c = a(this), e = c.data("bs.alert");
            e || c.data("bs.alert", e = new d(this)), "string" == typeof b && e[b].call(c)
        })
    }

    var c = '[data-dismiss="alert"]', d = function (b) {
        a(b).on("click", c, this.close)
    };
    d.VERSION = "3.3.6", d.TRANSITION_DURATION = 150, d.prototype.close = function (b) {
        function c() {
            g.detach().trigger("closed.bs.alert").remove()
        }

        var e = a(this), f = e.attr("data-target");
        f || (f = e.attr("href"), f = f && f.replace(/.*(?=#[^\s]*$)/, ""));
        var g = a(f);
        b && b.preventDefault(), g.length || (g = e.closest(".alert")), g.trigger(b = a.Event("close.bs.alert")), b.isDefaultPrevented() || (g.removeClass("in"), a.support.transition && g.hasClass("fade") ? g.one("bsTransitionEnd", c).emulateTransitionEnd(d.TRANSITION_DURATION) : c())
    };
    var e = a.fn.alert;
    a.fn.alert = b, a.fn.alert.Constructor = d, a.fn.alert.noConflict = function () {
        return a.fn.alert = e, this
    }, a(document).on("click.bs.alert.data-api", c, d.prototype.close)
}(jQuery), +function (a) {
    "use strict";
    function b(b) {
        return this.each(function () {
            var d = a(this), e = d.data("bs.button"), f = "object" == typeof b && b;
            e || d.data("bs.button", e = new c(this, f)), "toggle" == b ? e.toggle() : b && e.setState(b)
        })
    }

    var c = function (b, d) {
        this.$element = a(b), this.options = a.extend({}, c.DEFAULTS, d), this.isLoading = !1
    };
    c.VERSION = "3.3.6", c.DEFAULTS = {loadingText: "loading..."}, c.prototype.setState = function (b) {
        var c = "disabled", d = this.$element, e = d.is("input") ? "val" : "html", f = d.data();
        b += "Text", null == f.resetText && d.data("resetText", d[e]()), setTimeout(a.proxy(function () {
            d[e](null == f[b] ? this.options[b] : f[b]), "loadingText" == b ? (this.isLoading = !0, d.addClass(c).attr(c, c)) : this.isLoading && (this.isLoading = !1, d.removeClass(c).removeAttr(c))
        }, this), 0)
    }, c.prototype.toggle = function () {
        var a = !0, b = this.$element.closest('[data-toggle="buttons"]');
        if (b.length) {
            var c = this.$element.find("input");
            "radio" == c.prop("type") ? (c.prop("checked") && (a = !1), b.find(".active").removeClass("active"), this.$element.addClass("active")) : "checkbox" == c.prop("type") && (c.prop("checked") !== this.$element.hasClass("active") && (a = !1), this.$element.toggleClass("active")), c.prop("checked", this.$element.hasClass("active")), a && c.trigger("change")
        } else this.$element.attr("aria-pressed", !this.$element.hasClass("active")), this.$element.toggleClass("active")
    };
    var d = a.fn.button;
    a.fn.button = b, a.fn.button.Constructor = c, a.fn.button.noConflict = function () {
        return a.fn.button = d, this
    }, a(document).on("click.bs.button.data-api", '[data-toggle^="button"]', function (c) {
        var d = a(c.target);
        d.hasClass("btn") || (d = d.closest(".btn")), b.call(d, "toggle"), a(c.target).is('input[type="radio"]') || a(c.target).is('input[type="checkbox"]') || c.preventDefault()
    }).on("focus.bs.button.data-api blur.bs.button.data-api", '[data-toggle^="button"]', function (b) {
        a(b.target).closest(".btn").toggleClass("focus", /^focus(in)?$/.test(b.type))
    })
}(jQuery), +function (a) {
    "use strict";
    function b(b) {
        return this.each(function () {
            var d = a(this), e = d.data("bs.carousel"), f = a.extend({}, c.DEFAULTS, d.data(), "object" == typeof b && b), g = "string" == typeof b ? b : f.slide;
            e || d.data("bs.carousel", e = new c(this, f)), "number" == typeof b ? e.to(b) : g ? e[g]() : f.interval && e.pause().cycle()
        })
    }

    var c = function (b, c) {
        this.$element = a(b), this.$indicators = this.$element.find(".carousel-indicators"), this.options = c, this.paused = null, this.sliding = null, this.interval = null, this.$active = null, this.$items = null, this.options.keyboard && this.$element.on("keydown.bs.carousel", a.proxy(this.keydown, this)), "hover" == this.options.pause && !("ontouchstart" in document.documentElement) && this.$element.on("mouseenter.bs.carousel", a.proxy(this.pause, this)).on("mouseleave.bs.carousel", a.proxy(this.cycle, this))
    };
    c.VERSION = "3.3.6", c.TRANSITION_DURATION = 600, c.DEFAULTS = {
        interval: 5e3,
        pause: "hover",
        wrap: !0,
        keyboard: !0
    }, c.prototype.keydown = function (a) {
        if (!/input|textarea/i.test(a.target.tagName)) {
            switch (a.which) {
                case 37:
                    this.prev();
                    break;
                case 39:
                    this.next();
                    break;
                default:
                    return
            }
            a.preventDefault()
        }
    }, c.prototype.cycle = function (b) {
        return b || (this.paused = !1), this.interval && clearInterval(this.interval), this.options.interval && !this.paused && (this.interval = setInterval(a.proxy(this.next, this), this.options.interval)), this
    }, c.prototype.getItemIndex = function (a) {
        return this.$items = a.parent().children(".item"), this.$items.index(a || this.$active)
    }, c.prototype.getItemForDirection = function (a, b) {
        var c = this.getItemIndex(b), d = "prev" == a && 0 === c || "next" == a && c == this.$items.length - 1;
        if (d && !this.options.wrap)return b;
        var e = "prev" == a ? -1 : 1, f = (c + e) % this.$items.length;
        return this.$items.eq(f)
    }, c.prototype.to = function (a) {
        var b = this, c = this.getItemIndex(this.$active = this.$element.find(".item.active"));
        if (!(a > this.$items.length - 1 || a < 0))return this.sliding ? this.$element.one("slid.bs.carousel", function () {
            b.to(a)
        }) : c == a ? this.pause().cycle() : this.slide(a > c ? "next" : "prev", this.$items.eq(a))
    }, c.prototype.pause = function (b) {
        return b || (this.paused = !0), this.$element.find(".next, .prev").length && a.support.transition && (this.$element.trigger(a.support.transition.end), this.cycle(!0)), this.interval = clearInterval(this.interval), this
    }, c.prototype.next = function () {
        if (!this.sliding)return this.slide("next")
    }, c.prototype.prev = function () {
        if (!this.sliding)return this.slide("prev")
    }, c.prototype.slide = function (b, d) {
        var e = this.$element.find(".item.active"), f = d || this.getItemForDirection(b, e), g = this.interval, h = "next" == b ? "left" : "right", i = this;
        if (f.hasClass("active"))return this.sliding = !1;
        var j = f[0], k = a.Event("slide.bs.carousel", {relatedTarget: j, direction: h});
        if (this.$element.trigger(k), !k.isDefaultPrevented()) {
            if (this.sliding = !0, g && this.pause(), this.$indicators.length) {
                this.$indicators.find(".active").removeClass("active");
                var l = a(this.$indicators.children()[this.getItemIndex(f)]);
                l && l.addClass("active")
            }
            var m = a.Event("slid.bs.carousel", {relatedTarget: j, direction: h});
            return a.support.transition && this.$element.hasClass("slide") ? (f.addClass(b), f[0].offsetWidth, e.addClass(h), f.addClass(h), e.one("bsTransitionEnd", function () {
                f.removeClass([b, h].join(" ")).addClass("active"), e.removeClass(["active", h].join(" ")), i.sliding = !1, setTimeout(function () {
                    i.$element.trigger(m)
                }, 0)
            }).emulateTransitionEnd(c.TRANSITION_DURATION)) : (e.removeClass("active"), f.addClass("active"), this.sliding = !1, this.$element.trigger(m)), g && this.cycle(), this
        }
    };
    var d = a.fn.carousel;
    a.fn.carousel = b, a.fn.carousel.Constructor = c, a.fn.carousel.noConflict = function () {
        return a.fn.carousel = d, this
    };
    var e = function (c) {
        var d, e = a(this), f = a(e.attr("data-target") || (d = e.attr("href")) && d.replace(/.*(?=#[^\s]+$)/, ""));
        if (f.hasClass("carousel")) {
            var g = a.extend({}, f.data(), e.data()), h = e.attr("data-slide-to");
            h && (g.interval = !1), b.call(f, g), h && f.data("bs.carousel").to(h), c.preventDefault()
        }
    };
    a(document).on("click.bs.carousel.data-api", "[data-slide]", e).on("click.bs.carousel.data-api", "[data-slide-to]", e), a(window).on("load", function () {
        a('[data-ride="carousel"]').each(function () {
            var c = a(this);
            b.call(c, c.data())
        })
    })
}(jQuery), +function (a) {
    "use strict";
    function b(b) {
        var c, d = b.attr("data-target") || (c = b.attr("href")) && c.replace(/.*(?=#[^\s]+$)/, "");
        return a(d)
    }

    function c(b) {
        return this.each(function () {
            var c = a(this), e = c.data("bs.collapse"), f = a.extend({}, d.DEFAULTS, c.data(), "object" == typeof b && b);
            !e && f.toggle && /show|hide/.test(b) && (f.toggle = !1), e || c.data("bs.collapse", e = new d(this, f)), "string" == typeof b && e[b]()
        })
    }

    var d = function (b, c) {
        this.$element = a(b), this.options = a.extend({}, d.DEFAULTS, c), this.$trigger = a('[data-toggle="collapse"][href="#' + b.id + '"],[data-toggle="collapse"][data-target="#' + b.id + '"]'), this.transitioning = null, this.options.parent ? this.$parent = this.getParent() : this.addAriaAndCollapsedClass(this.$element, this.$trigger), this.options.toggle && this.toggle()
    };
    d.VERSION = "3.3.6", d.TRANSITION_DURATION = 350, d.DEFAULTS = {toggle: !0}, d.prototype.dimension = function () {
        var a = this.$element.hasClass("width");
        return a ? "width" : "height"
    }, d.prototype.show = function () {
        if (!this.transitioning && !this.$element.hasClass("in")) {
            var b, e = this.$parent && this.$parent.children(".panel").children(".in, .collapsing");
            if (!(e && e.length && (b = e.data("bs.collapse"), b && b.transitioning))) {
                var f = a.Event("show.bs.collapse");
                if (this.$element.trigger(f), !f.isDefaultPrevented()) {
                    e && e.length && (c.call(e, "hide"), b || e.data("bs.collapse", null));
                    var g = this.dimension();
                    this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded", !0), this.$trigger.removeClass("collapsed").attr("aria-expanded", !0), this.transitioning = 1;
                    var h = function () {
                        this.$element.removeClass("collapsing").addClass("collapse in")[g](""), this.transitioning = 0, this.$element.trigger("shown.bs.collapse")
                    };
                    if (!a.support.transition)return h.call(this);
                    var i = a.camelCase(["scroll", g].join("-"));
                    this.$element.one("bsTransitionEnd", a.proxy(h, this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])
                }
            }
        }
    }, d.prototype.hide = function () {
        if (!this.transitioning && this.$element.hasClass("in")) {
            var b = a.Event("hide.bs.collapse");
            if (this.$element.trigger(b), !b.isDefaultPrevented()) {
                var c = this.dimension();
                this.$element[c](this.$element[c]())[0].offsetHeight, this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded", !1), this.$trigger.addClass("collapsed").attr("aria-expanded", !1), this.transitioning = 1;
                var e = function () {
                    this.transitioning = 0, this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")
                };
                return a.support.transition ? void this.$element[c](0).one("bsTransitionEnd", a.proxy(e, this)).emulateTransitionEnd(d.TRANSITION_DURATION) : e.call(this)
            }
        }
    }, d.prototype.toggle = function () {
        this[this.$element.hasClass("in") ? "hide" : "show"]()
    }, d.prototype.getParent = function () {
        return a(this.options.parent).find('[data-toggle="collapse"][data-parent="' + this.options.parent + '"]').each(a.proxy(function (c, d) {
            var e = a(d);
            this.addAriaAndCollapsedClass(b(e), e)
        }, this)).end()
    }, d.prototype.addAriaAndCollapsedClass = function (a, b) {
        var c = a.hasClass("in");
        a.attr("aria-expanded", c), b.toggleClass("collapsed", !c).attr("aria-expanded", c)
    };
    var e = a.fn.collapse;
    a.fn.collapse = c, a.fn.collapse.Constructor = d, a.fn.collapse.noConflict = function () {
        return a.fn.collapse = e, this
    }, a(document).on("click.bs.collapse.data-api", '[data-toggle="collapse"]', function (d) {
        var e = a(this);
        e.attr("data-target") || d.preventDefault();
        var f = b(e), g = f.data("bs.collapse"), h = g ? "toggle" : e.data();
        c.call(f, h)
    })
}(jQuery), +function (a) {
    "use strict";
    function b(b) {
        var c = b.attr("data-target");
        c || (c = b.attr("href"), c = c && /#[A-Za-z]/.test(c) && c.replace(/.*(?=#[^\s]*$)/, ""));
        var d = c && a(c);
        return d && d.length ? d : b.parent()
    }

    function c(c) {
        c && 3 === c.which || (a(e).remove(), a(f).each(function () {
            var d = a(this), e = b(d), f = {relatedTarget: this};
            e.hasClass("open") && (c && "click" == c.type && /input|textarea/i.test(c.target.tagName) && a.contains(e[0], c.target) || (e.trigger(c = a.Event("hide.bs.dropdown", f)), c.isDefaultPrevented() || (d.attr("aria-expanded", "false"), e.removeClass("open").trigger(a.Event("hidden.bs.dropdown", f)))))
        }))
    }

    function d(b) {
        return this.each(function () {
            var c = a(this), d = c.data("bs.dropdown");
            d || c.data("bs.dropdown", d = new g(this)), "string" == typeof b && d[b].call(c)
        })
    }

    var e = ".dropdown-backdrop", f = '[data-toggle="dropdown"]', g = function (b) {
        a(b).on("click.bs.dropdown", this.toggle)
    };
    g.VERSION = "3.3.6", g.prototype.toggle = function (d) {
        var e = a(this);
        if (!e.is(".disabled, :disabled")) {
            var f = b(e), g = f.hasClass("open");
            if (c(), !g) {
                "ontouchstart" in document.documentElement && !f.closest(".navbar-nav").length && a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click", c);
                var h = {relatedTarget: this};
                if (f.trigger(d = a.Event("show.bs.dropdown", h)), d.isDefaultPrevented())return;
                e.trigger("focus").attr("aria-expanded", "true"), f.toggleClass("open").trigger(a.Event("shown.bs.dropdown", h))
            }
            return !1
        }
    }, g.prototype.keydown = function (c) {
        if (/(38|40|27|32)/.test(c.which) && !/input|textarea/i.test(c.target.tagName)) {
            var d = a(this);
            if (c.preventDefault(), c.stopPropagation(), !d.is(".disabled, :disabled")) {
                var e = b(d), g = e.hasClass("open");
                if (!g && 27 != c.which || g && 27 == c.which)return 27 == c.which && e.find(f).trigger("focus"), d.trigger("click");
                var h = " li:not(.disabled):visible a", i = e.find(".dropdown-menu" + h);
                if (i.length) {
                    var j = i.index(c.target);
                    38 == c.which && j > 0 && j--, 40 == c.which && j < i.length - 1 && j++, ~j || (j = 0), i.eq(j).trigger("focus")
                }
            }
        }
    };
    var h = a.fn.dropdown;
    a.fn.dropdown = d, a.fn.dropdown.Constructor = g, a.fn.dropdown.noConflict = function () {
        return a.fn.dropdown = h, this
    }, a(document).on("click.bs.dropdown.data-api", c).on("click.bs.dropdown.data-api", ".dropdown form", function (a) {
        a.stopPropagation()
    }).on("click.bs.dropdown.data-api", f, g.prototype.toggle).on("keydown.bs.dropdown.data-api", f, g.prototype.keydown).on("keydown.bs.dropdown.data-api", ".dropdown-menu", g.prototype.keydown)
}(jQuery), +function (a) {
    "use strict";
    function b(b, d) {
        return this.each(function () {
            var e = a(this), f = e.data("bs.modal"), g = a.extend({}, c.DEFAULTS, e.data(), "object" == typeof b && b);
            f || e.data("bs.modal", f = new c(this, g)), "string" == typeof b ? f[b](d) : g.show && f.show(d)
        })
    }

    var c = function (b, c) {
        this.options = c, this.$body = a(document.body), this.$element = a(b), this.$dialog = this.$element.find(".modal-dialog"), this.$backdrop = null, this.isShown = null, this.originalBodyPad = null, this.scrollbarWidth = 0, this.ignoreBackdropClick = !1, this.options.remote && this.$element.find(".modal-content").load(this.options.remote, a.proxy(function () {
            this.$element.trigger("loaded.bs.modal")
        }, this))
    };
    c.VERSION = "3.3.6", c.TRANSITION_DURATION = 300, c.BACKDROP_TRANSITION_DURATION = 150, c.DEFAULTS = {
        backdrop: !0,
        keyboard: !0,
        show: !0
    }, c.prototype.toggle = function (a) {
        return this.isShown ? this.hide() : this.show(a)
    }, c.prototype.show = function (b) {
        var d = this, e = a.Event("show.bs.modal", {relatedTarget: b});
        this.$element.trigger(e), this.isShown || e.isDefaultPrevented() || (this.isShown = !0, this.checkScrollbar(), this.setScrollbar(), this.$body.addClass("modal-open"), this.escape(), this.resize(), this.$element.on("click.dismiss.bs.modal", '[data-dismiss="modal"]', a.proxy(this.hide, this)), this.$dialog.on("mousedown.dismiss.bs.modal", function () {
            d.$element.one("mouseup.dismiss.bs.modal", function (b) {
                a(b.target).is(d.$element) && (d.ignoreBackdropClick = !0)
            })
        }), this.backdrop(function () {
            var e = a.support.transition && d.$element.hasClass("fade");
            d.$element.parent().length || d.$element.appendTo(d.$body), d.$element.show().scrollTop(0), d.adjustDialog(), e && d.$element[0].offsetWidth, d.$element.addClass("in"), d.enforceFocus();
            var f = a.Event("shown.bs.modal", {relatedTarget: b});
            e ? d.$dialog.one("bsTransitionEnd", function () {
                d.$element.trigger("focus").trigger(f)
            }).emulateTransitionEnd(c.TRANSITION_DURATION) : d.$element.trigger("focus").trigger(f)
        }))
    }, c.prototype.hide = function (b) {
        b && b.preventDefault(), b = a.Event("hide.bs.modal"), this.$element.trigger(b), this.isShown && !b.isDefaultPrevented() && (this.isShown = !1, this.escape(), this.resize(), a(document).off("focusin.bs.modal"), this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"), this.$dialog.off("mousedown.dismiss.bs.modal"), a.support.transition && this.$element.hasClass("fade") ? this.$element.one("bsTransitionEnd", a.proxy(this.hideModal, this)).emulateTransitionEnd(c.TRANSITION_DURATION) : this.hideModal())
    }, c.prototype.enforceFocus = function () {
        a(document).off("focusin.bs.modal").on("focusin.bs.modal", a.proxy(function (a) {
            this.$element[0] === a.target || this.$element.has(a.target).length || this.$element.trigger("focus")
        }, this))
    }, c.prototype.escape = function () {
        this.isShown && this.options.keyboard ? this.$element.on("keydown.dismiss.bs.modal", a.proxy(function (a) {
            27 == a.which && this.hide()
        }, this)) : this.isShown || this.$element.off("keydown.dismiss.bs.modal")
    }, c.prototype.resize = function () {
        this.isShown ? a(window).on("resize.bs.modal", a.proxy(this.handleUpdate, this)) : a(window).off("resize.bs.modal")
    }, c.prototype.hideModal = function () {
        var a = this;
        this.$element.hide(), this.backdrop(function () {
            a.$body.removeClass("modal-open"), a.resetAdjustments(), a.resetScrollbar(), a.$element.trigger("hidden.bs.modal")
        })
    }, c.prototype.removeBackdrop = function () {
        this.$backdrop && this.$backdrop.remove(), this.$backdrop = null
    }, c.prototype.backdrop = function (b) {
        var d = this, e = this.$element.hasClass("fade") ? "fade" : "";
        if (this.isShown && this.options.backdrop) {
            var f = a.support.transition && e;
            if (this.$backdrop = a(document.createElement("div")).addClass("modal-backdrop " + e).appendTo(this.$body), this.$element.on("click.dismiss.bs.modal", a.proxy(function (a) {
                    return this.ignoreBackdropClick ? void(this.ignoreBackdropClick = !1) : void(a.target === a.currentTarget && ("static" == this.options.backdrop ? this.$element[0].focus() : this.hide()))
                }, this)), f && this.$backdrop[0].offsetWidth, this.$backdrop.addClass("in"), !b)return;
            f ? this.$backdrop.one("bsTransitionEnd", b).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION) : b()
        } else if (!this.isShown && this.$backdrop) {
            this.$backdrop.removeClass("in");
            var g = function () {
                d.removeBackdrop(), b && b()
            };
            a.support.transition && this.$element.hasClass("fade") ? this.$backdrop.one("bsTransitionEnd", g).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION) : g()
        } else b && b()
    }, c.prototype.handleUpdate = function () {
        this.adjustDialog()
    }, c.prototype.adjustDialog = function () {
        var a = this.$element[0].scrollHeight > document.documentElement.clientHeight;
        this.$element.css({
            paddingLeft: !this.bodyIsOverflowing && a ? this.scrollbarWidth : "",
            paddingRight: this.bodyIsOverflowing && !a ? this.scrollbarWidth : ""
        })
    }, c.prototype.resetAdjustments = function () {
        this.$element.css({paddingLeft: "", paddingRight: ""})
    }, c.prototype.checkScrollbar = function () {
        var a = window.innerWidth;
        if (!a) {
            var b = document.documentElement.getBoundingClientRect();
            a = b.right - Math.abs(b.left)
        }
        this.bodyIsOverflowing = document.body.clientWidth < a, this.scrollbarWidth = this.measureScrollbar()
    }, c.prototype.setScrollbar = function () {
        var a = parseInt(this.$body.css("padding-right") || 0, 10);
        this.originalBodyPad = document.body.style.paddingRight || "", this.bodyIsOverflowing && this.$body.css("padding-right", a + this.scrollbarWidth)
    }, c.prototype.resetScrollbar = function () {
        this.$body.css("padding-right", this.originalBodyPad)
    }, c.prototype.measureScrollbar = function () {
        var a = document.createElement("div");
        a.className = "modal-scrollbar-measure", this.$body.append(a);
        var b = a.offsetWidth - a.clientWidth;
        return this.$body[0].removeChild(a), b
    };
    var d = a.fn.modal;
    a.fn.modal = b, a.fn.modal.Constructor = c, a.fn.modal.noConflict = function () {
        return a.fn.modal = d, this
    }, a(document).on("click.bs.modal.data-api", '[data-toggle="modal"]', function (c) {
        var d = a(this), e = d.attr("href"), f = a(d.attr("data-target") || e && e.replace(/.*(?=#[^\s]+$)/, "")), g = f.data("bs.modal") ? "toggle" : a.extend({remote: !/#/.test(e) && e}, f.data(), d.data());
        d.is("a") && c.preventDefault(), f.one("show.bs.modal", function (a) {
            a.isDefaultPrevented() || f.one("hidden.bs.modal", function () {
                d.is(":visible") && d.trigger("focus")
            })
        }), b.call(f, g, this)
    })
}(jQuery), +function (a) {
    "use strict";
    function b(b) {
        return this.each(function () {
            var d = a(this), e = d.data("bs.tooltip"), f = "object" == typeof b && b;
            !e && /destroy|hide/.test(b) || (e || d.data("bs.tooltip", e = new c(this, f)), "string" == typeof b && e[b]())
        })
    }

    var c = function (a, b) {
        this.type = null, this.options = null, this.enabled = null, this.timeout = null, this.hoverState = null, this.$element = null, this.inState = null, this.init("tooltip", a, b)
    };
    c.VERSION = "3.3.6", c.TRANSITION_DURATION = 150, c.DEFAULTS = {
        animation: !0,
        placement: "top",
        selector: !1,
        template: '<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',
        trigger: "hover focus",
        title: "",
        delay: 0,
        html: !1,
        container: !1,
        viewport: {selector: "body", padding: 0}
    }, c.prototype.init = function (b, c, d) {
        if (this.enabled = !0, this.type = b, this.$element = a(c), this.options = this.getOptions(d), this.$viewport = this.options.viewport && a(a.isFunction(this.options.viewport) ? this.options.viewport.call(this, this.$element) : this.options.viewport.selector || this.options.viewport), this.inState = {
                click: !1,
                hover: !1,
                focus: !1
            }, this.$element[0] instanceof document.constructor && !this.options.selector)throw new Error("`selector` option must be specified when initializing " + this.type + " on the window.document object!");
        for (var e = this.options.trigger.split(" "), f = e.length; f--;) {
            var g = e[f];
            if ("click" == g)this.$element.on("click." + this.type, this.options.selector, a.proxy(this.toggle, this)); else if ("manual" != g) {
                var h = "hover" == g ? "mouseenter" : "focusin", i = "hover" == g ? "mouseleave" : "focusout";
                this.$element.on(h + "." + this.type, this.options.selector, a.proxy(this.enter, this)), this.$element.on(i + "." + this.type, this.options.selector, a.proxy(this.leave, this))
            }
        }
        this.options.selector ? this._options = a.extend({}, this.options, {
            trigger: "manual",
            selector: ""
        }) : this.fixTitle()
    }, c.prototype.getDefaults = function () {
        return c.DEFAULTS
    }, c.prototype.getOptions = function (b) {
        return b = a.extend({}, this.getDefaults(), this.$element.data(), b), b.delay && "number" == typeof b.delay && (b.delay = {
            show: b.delay,
            hide: b.delay
        }), b
    }, c.prototype.getDelegateOptions = function () {
        var b = {}, c = this.getDefaults();
        return this._options && a.each(this._options, function (a, d) {
            c[a] != d && (b[a] = d)
        }), b
    }, c.prototype.enter = function (b) {
        var c = b instanceof this.constructor ? b : a(b.currentTarget).data("bs." + this.type);
        return c || (c = new this.constructor(b.currentTarget, this.getDelegateOptions()), a(b.currentTarget).data("bs." + this.type, c)), b instanceof a.Event && (c.inState["focusin" == b.type ? "focus" : "hover"] = !0), c.tip().hasClass("in") || "in" == c.hoverState ? void(c.hoverState = "in") : (clearTimeout(c.timeout), c.hoverState = "in", c.options.delay && c.options.delay.show ? void(c.timeout = setTimeout(function () {
            "in" == c.hoverState && c.show()
        }, c.options.delay.show)) : c.show())
    }, c.prototype.isInStateTrue = function () {
        for (var a in this.inState)if (this.inState[a])return !0;
        return !1
    }, c.prototype.leave = function (b) {
        var c = b instanceof this.constructor ? b : a(b.currentTarget).data("bs." + this.type);
        if (c || (c = new this.constructor(b.currentTarget, this.getDelegateOptions()), a(b.currentTarget).data("bs." + this.type, c)), b instanceof a.Event && (c.inState["focusout" == b.type ? "focus" : "hover"] = !1), !c.isInStateTrue())return clearTimeout(c.timeout), c.hoverState = "out", c.options.delay && c.options.delay.hide ? void(c.timeout = setTimeout(function () {
            "out" == c.hoverState && c.hide()
        }, c.options.delay.hide)) : c.hide()
    }, c.prototype.show = function () {
        var b = a.Event("show.bs." + this.type);
        if (this.hasContent() && this.enabled) {
            this.$element.trigger(b);
            var d = a.contains(this.$element[0].ownerDocument.documentElement, this.$element[0]);
            if (b.isDefaultPrevented() || !d)return;
            var e = this, f = this.tip(), g = this.getUID(this.type);
            this.setContent(), f.attr("id", g), this.$element.attr("aria-describedby", g), this.options.animation && f.addClass("fade");
            var h = "function" == typeof this.options.placement ? this.options.placement.call(this, f[0], this.$element[0]) : this.options.placement, i = /\s?auto?\s?/i, j = i.test(h);
            j && (h = h.replace(i, "") || "top"), f.detach().css({
                top: 0,
                left: 0,
                display: "block"
            }).addClass(h).data("bs." + this.type, this), this.options.container ? f.appendTo(this.options.container) : f.insertAfter(this.$element), this.$element.trigger("inserted.bs." + this.type);
            var k = this.getPosition(), l = f[0].offsetWidth, m = f[0].offsetHeight;
            if (j) {
                var n = h, o = this.getPosition(this.$viewport);
                h = "bottom" == h && k.bottom + m > o.bottom ? "top" : "top" == h && k.top - m < o.top ? "bottom" : "right" == h && k.right + l > o.width ? "left" : "left" == h && k.left - l < o.left ? "right" : h, f.removeClass(n).addClass(h)
            }
            var p = this.getCalculatedOffset(h, k, l, m);
            this.applyPlacement(p, h);
            var q = function () {
                var a = e.hoverState;
                e.$element.trigger("shown.bs." + e.type), e.hoverState = null, "out" == a && e.leave(e)
            };
            a.support.transition && this.$tip.hasClass("fade") ? f.one("bsTransitionEnd", q).emulateTransitionEnd(c.TRANSITION_DURATION) : q()
        }
    }, c.prototype.applyPlacement = function (b, c) {
        var d = this.tip(), e = d[0].offsetWidth, f = d[0].offsetHeight, g = parseInt(d.css("margin-top"), 10), h = parseInt(d.css("margin-left"), 10);
        isNaN(g) && (g = 0), isNaN(h) && (h = 0), b.top += g, b.left += h, a.offset.setOffset(d[0], a.extend({
            using: function (a) {
                d.css({top: Math.round(a.top), left: Math.round(a.left)})
            }
        }, b), 0), d.addClass("in");
        var i = d[0].offsetWidth, j = d[0].offsetHeight;
        "top" == c && j != f && (b.top = b.top + f - j);
        var k = this.getViewportAdjustedDelta(c, b, i, j);
        k.left ? b.left += k.left : b.top += k.top;
        var l = /top|bottom/.test(c), m = l ? 2 * k.left - e + i : 2 * k.top - f + j, n = l ? "offsetWidth" : "offsetHeight";
        d.offset(b), this.replaceArrow(m, d[0][n], l)
    }, c.prototype.replaceArrow = function (a, b, c) {
        this.arrow().css(c ? "left" : "top", 50 * (1 - a / b) + "%").css(c ? "top" : "left", "")
    }, c.prototype.setContent = function () {
        var a = this.tip(), b = this.getTitle();
        a.find(".tooltip-inner")[this.options.html ? "html" : "text"](b), a.removeClass("fade in top bottom left right")
    }, c.prototype.hide = function (b) {
        function d() {
            "in" != e.hoverState && f.detach(), e.$element.removeAttr("aria-describedby").trigger("hidden.bs." + e.type), b && b()
        }

        var e = this, f = a(this.$tip), g = a.Event("hide.bs." + this.type);
        if (this.$element.trigger(g), !g.isDefaultPrevented())return f.removeClass("in"), a.support.transition && f.hasClass("fade") ? f.one("bsTransitionEnd", d).emulateTransitionEnd(c.TRANSITION_DURATION) : d(), this.hoverState = null, this
    }, c.prototype.fixTitle = function () {
        var a = this.$element;
        (a.attr("title") || "string" != typeof a.attr("data-original-title")) && a.attr("data-original-title", a.attr("title") || "").attr("title", "")
    }, c.prototype.hasContent = function () {
        return this.getTitle()
    }, c.prototype.getPosition = function (b) {
        b = b || this.$element;
        var c = b[0], d = "BODY" == c.tagName, e = c.getBoundingClientRect();
        null == e.width && (e = a.extend({}, e, {width: e.right - e.left, height: e.bottom - e.top}));
        var f = d ? {
            top: 0,
            left: 0
        } : b.offset(), g = {scroll: d ? document.documentElement.scrollTop || document.body.scrollTop : b.scrollTop()}, h = d ? {
            width: a(window).width(),
            height: a(window).height()
        } : null;
        return a.extend({}, e, g, h, f)
    }, c.prototype.getCalculatedOffset = function (a, b, c, d) {
        return "bottom" == a ? {
            top: b.top + b.height,
            left: b.left + b.width / 2 - c / 2
        } : "top" == a ? {
            top: b.top - d,
            left: b.left + b.width / 2 - c / 2
        } : "left" == a ? {top: b.top + b.height / 2 - d / 2, left: b.left - c} : {
            top: b.top + b.height / 2 - d / 2,
            left: b.left + b.width
        }
    }, c.prototype.getViewportAdjustedDelta = function (a, b, c, d) {
        var e = {top: 0, left: 0};
        if (!this.$viewport)return e;
        var f = this.options.viewport && this.options.viewport.padding || 0, g = this.getPosition(this.$viewport);
        if (/right|left/.test(a)) {
            var h = b.top - f - g.scroll, i = b.top + f - g.scroll + d;
            h < g.top ? e.top = g.top - h : i > g.top + g.height && (e.top = g.top + g.height - i)
        } else {
            var j = b.left - f, k = b.left + f + c;
            j < g.left ? e.left = g.left - j : k > g.right && (e.left = g.left + g.width - k)
        }
        return e
    }, c.prototype.getTitle = function () {
        var a, b = this.$element, c = this.options;
        return a = b.attr("data-original-title") || ("function" == typeof c.title ? c.title.call(b[0]) : c.title)
    }, c.prototype.getUID = function (a) {
        do a += ~~(1e6 * Math.random()); while (document.getElementById(a));
        return a
    }, c.prototype.tip = function () {
        if (!this.$tip && (this.$tip = a(this.options.template), 1 != this.$tip.length))throw new Error(this.type + " `template` option must consist of exactly 1 top-level element!");
        return this.$tip
    }, c.prototype.arrow = function () {
        return this.$arrow = this.$arrow || this.tip().find(".tooltip-arrow")
    }, c.prototype.enable = function () {
        this.enabled = !0
    }, c.prototype.disable = function () {
        this.enabled = !1
    }, c.prototype.toggleEnabled = function () {
        this.enabled = !this.enabled
    }, c.prototype.toggle = function (b) {
        var c = this;
        b && (c = a(b.currentTarget).data("bs." + this.type), c || (c = new this.constructor(b.currentTarget, this.getDelegateOptions()), a(b.currentTarget).data("bs." + this.type, c))), b ? (c.inState.click = !c.inState.click, c.isInStateTrue() ? c.enter(c) : c.leave(c)) : c.tip().hasClass("in") ? c.leave(c) : c.enter(c)
    }, c.prototype.destroy = function () {
        var a = this;
        clearTimeout(this.timeout), this.hide(function () {
            a.$element.off("." + a.type).removeData("bs." + a.type), a.$tip && a.$tip.detach(), a.$tip = null, a.$arrow = null, a.$viewport = null
        })
    };
    var d = a.fn.tooltip;
    a.fn.tooltip = b, a.fn.tooltip.Constructor = c, a.fn.tooltip.noConflict = function () {
        return a.fn.tooltip = d, this
    }
}(jQuery), +function (a) {
    "use strict";
    function b(b) {
        return this.each(function () {
            var d = a(this), e = d.data("bs.popover"), f = "object" == typeof b && b;
            !e && /destroy|hide/.test(b) || (e || d.data("bs.popover", e = new c(this, f)), "string" == typeof b && e[b]())
        })
    }

    var c = function (a, b) {
        this.init("popover", a, b)
    };
    if (!a.fn.tooltip)throw new Error("Popover requires tooltip.js");
    c.VERSION = "3.3.6", c.DEFAULTS = a.extend({}, a.fn.tooltip.Constructor.DEFAULTS, {
        placement: "right",
        trigger: "click",
        content: "",
        template: '<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'
    }), c.prototype = a.extend({}, a.fn.tooltip.Constructor.prototype), c.prototype.constructor = c, c.prototype.getDefaults = function () {
        return c.DEFAULTS
    }, c.prototype.setContent = function () {
        var a = this.tip(), b = this.getTitle(), c = this.getContent();
        a.find(".popover-title")[this.options.html ? "html" : "text"](b), a.find(".popover-content").children().detach().end()[this.options.html ? "string" == typeof c ? "html" : "append" : "text"](c), a.removeClass("fade top bottom left right in"), a.find(".popover-title").html() || a.find(".popover-title").hide()
    }, c.prototype.hasContent = function () {
        return this.getTitle() || this.getContent()
    }, c.prototype.getContent = function () {
        var a = this.$element, b = this.options;
        return a.attr("data-content") || ("function" == typeof b.content ? b.content.call(a[0]) : b.content)
    }, c.prototype.arrow = function () {
        return this.$arrow = this.$arrow || this.tip().find(".arrow")
    };
    var d = a.fn.popover;
    a.fn.popover = b, a.fn.popover.Constructor = c, a.fn.popover.noConflict = function () {
        return a.fn.popover = d, this
    }
}(jQuery), +function (a) {
    "use strict";
    function b(c, d) {
        this.$body = a(document.body), this.$scrollElement = a(a(c).is(document.body) ? window : c), this.options = a.extend({}, b.DEFAULTS, d), this.selector = (this.options.target || "") + " .nav li > a", this.offsets = [], this.targets = [], this.activeTarget = null, this.scrollHeight = 0, this.$scrollElement.on("scroll.bs.scrollspy", a.proxy(this.process, this)), this.refresh(), this.process()
    }

    function c(c) {
        return this.each(function () {
            var d = a(this), e = d.data("bs.scrollspy"), f = "object" == typeof c && c;
            e || d.data("bs.scrollspy", e = new b(this, f)), "string" == typeof c && e[c]()
        })
    }

    b.VERSION = "3.3.6", b.DEFAULTS = {offset: 10}, b.prototype.getScrollHeight = function () {
        return this.$scrollElement[0].scrollHeight || Math.max(this.$body[0].scrollHeight, document.documentElement.scrollHeight)
    }, b.prototype.refresh = function () {
        var b = this, c = "offset", d = 0;
        this.offsets = [], this.targets = [], this.scrollHeight = this.getScrollHeight(), a.isWindow(this.$scrollElement[0]) || (c = "position", d = this.$scrollElement.scrollTop()), this.$body.find(this.selector).map(function () {
            var b = a(this), e = b.data("target") || b.attr("href"), f = /^#./.test(e) && a(e);
            return f && f.length && f.is(":visible") && [[f[c]().top + d, e]] || null
        }).sort(function (a, b) {
            return a[0] - b[0]
        }).each(function () {
            b.offsets.push(this[0]), b.targets.push(this[1])
        })
    }, b.prototype.process = function () {
        var a, b = this.$scrollElement.scrollTop() + this.options.offset, c = this.getScrollHeight(), d = this.options.offset + c - this.$scrollElement.height(), e = this.offsets, f = this.targets, g = this.activeTarget;
        if (this.scrollHeight != c && this.refresh(), b >= d)return g != (a = f[f.length - 1]) && this.activate(a);
        if (g && b < e[0])return this.activeTarget = null, this.clear();
        for (a = e.length; a--;)g != f[a] && b >= e[a] && (void 0 === e[a + 1] || b < e[a + 1]) && this.activate(f[a])
    }, b.prototype.activate = function (b) {
        this.activeTarget = b, this.clear();
        var c = this.selector + '[data-target="' + b + '"],' + this.selector + '[href="' + b + '"]', d = a(c).parents("li").addClass("active");
        d.parent(".dropdown-menu").length && (d = d.closest("li.dropdown").addClass("active")), d.trigger("activate.bs.scrollspy")
    }, b.prototype.clear = function () {
        a(this.selector).parentsUntil(this.options.target, ".active").removeClass("active")
    };
    var d = a.fn.scrollspy;
    a.fn.scrollspy = c, a.fn.scrollspy.Constructor = b, a.fn.scrollspy.noConflict = function () {
        return a.fn.scrollspy = d, this
    }, a(window).on("load.bs.scrollspy.data-api", function () {
        a('[data-spy="scroll"]').each(function () {
            var b = a(this);
            c.call(b, b.data())
        })
    })
}(jQuery), +function (a) {
    "use strict";
    function b(b) {
        return this.each(function () {
            var d = a(this), e = d.data("bs.tab");
            e || d.data("bs.tab", e = new c(this)), "string" == typeof b && e[b]()
        })
    }

    var c = function (b) {
        this.element = a(b)
    };
    c.VERSION = "3.3.6", c.TRANSITION_DURATION = 150, c.prototype.show = function () {
        var b = this.element, c = b.closest("ul:not(.dropdown-menu)"), d = b.data("target");
        if (d || (d = b.attr("href"), d = d && d.replace(/.*(?=#[^\s]*$)/, "")), !b.parent("li").hasClass("active")) {
            var e = c.find(".active:last a"), f = a.Event("hide.bs.tab", {relatedTarget: b[0]}), g = a.Event("show.bs.tab", {relatedTarget: e[0]});
            if (e.trigger(f), b.trigger(g), !g.isDefaultPrevented() && !f.isDefaultPrevented()) {
                var h = a(d);
                this.activate(b.closest("li"), c), this.activate(h, h.parent(), function () {
                    e.trigger({type: "hidden.bs.tab", relatedTarget: b[0]}), b.trigger({
                        type: "shown.bs.tab",
                        relatedTarget: e[0]
                    })
                })
            }
        }
    }, c.prototype.activate = function (b, d, e) {
        function f() {
            g.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded", !1), b.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded", !0), h ? (b[0].offsetWidth, b.addClass("in")) : b.removeClass("fade"), b.parent(".dropdown-menu").length && b.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded", !0), e && e()
        }

        var g = d.find("> .active"), h = e && a.support.transition && (g.length && g.hasClass("fade") || !!d.find("> .fade").length);
        g.length && h ? g.one("bsTransitionEnd", f).emulateTransitionEnd(c.TRANSITION_DURATION) : f(), g.removeClass("in")
    };
    var d = a.fn.tab;
    a.fn.tab = b, a.fn.tab.Constructor = c, a.fn.tab.noConflict = function () {
        return a.fn.tab = d, this
    };
    var e = function (c) {
        c.preventDefault(), b.call(a(this), "show")
    };
    a(document).on("click.bs.tab.data-api", '[data-toggle="tab"]', e).on("click.bs.tab.data-api", '[data-toggle="pill"]', e)
}(jQuery), +function (a) {
    "use strict";
    function b(b) {
        return this.each(function () {
            var d = a(this), e = d.data("bs.affix"), f = "object" == typeof b && b;
            e || d.data("bs.affix", e = new c(this, f)), "string" == typeof b && e[b]()
        })
    }

    var c = function (b, d) {
        this.options = a.extend({}, c.DEFAULTS, d), this.$target = a(this.options.target).on("scroll.bs.affix.data-api", a.proxy(this.checkPosition, this)).on("click.bs.affix.data-api", a.proxy(this.checkPositionWithEventLoop, this)), this.$element = a(b), this.affixed = null, this.unpin = null, this.pinnedOffset = null, this.checkPosition()
    };
    c.VERSION = "3.3.6", c.RESET = "affix affix-top affix-bottom", c.DEFAULTS = {
        offset: 0,
        target: window
    }, c.prototype.getState = function (a, b, c, d) {
        var e = this.$target.scrollTop(), f = this.$element.offset(), g = this.$target.height();
        if (null != c && "top" == this.affixed)return e < c && "top";
        if ("bottom" == this.affixed)return null != c ? !(e + this.unpin <= f.top) && "bottom" : !(e + g <= a - d) && "bottom";
        var h = null == this.affixed, i = h ? e : f.top, j = h ? g : b;
        return null != c && e <= c ? "top" : null != d && i + j >= a - d && "bottom"
    }, c.prototype.getPinnedOffset = function () {
        if (this.pinnedOffset)return this.pinnedOffset;
        this.$element.removeClass(c.RESET).addClass("affix");
        var a = this.$target.scrollTop(), b = this.$element.offset();
        return this.pinnedOffset = b.top - a
    }, c.prototype.checkPositionWithEventLoop = function () {
        setTimeout(a.proxy(this.checkPosition, this), 1)
    }, c.prototype.checkPosition = function () {
        if (this.$element.is(":visible")) {
            var b = this.$element.height(), d = this.options.offset, e = d.top, f = d.bottom, g = Math.max(a(document).height(), a(document.body).height());
            "object" != typeof d && (f = e = d), "function" == typeof e && (e = d.top(this.$element)), "function" == typeof f && (f = d.bottom(this.$element));
            var h = this.getState(g, b, e, f);
            if (this.affixed != h) {
                null != this.unpin && this.$element.css("top", "");
                var i = "affix" + (h ? "-" + h : ""), j = a.Event(i + ".bs.affix");
                if (this.$element.trigger(j), j.isDefaultPrevented())return;
                this.affixed = h, this.unpin = "bottom" == h ? this.getPinnedOffset() : null, this.$element.removeClass(c.RESET).addClass(i).trigger(i.replace("affix", "affixed") + ".bs.affix")
            }
            "bottom" == h && this.$element.offset({top: g - b - f})
        }
    };
    var d = a.fn.affix;
    a.fn.affix = b, a.fn.affix.Constructor = c, a.fn.affix.noConflict = function () {
        return a.fn.affix = d, this
    }, a(window).on("load", function () {
        a('[data-spy="affix"]').each(function () {
            var c = a(this), d = c.data();
            d.offset = d.offset || {}, null != d.offsetBottom && (d.offset.bottom = d.offsetBottom), null != d.offsetTop && (d.offset.top = d.offsetTop), b.call(c, d)
        })
    })
}(jQuery), function (a) {
    var b = function (b, d) {
        if (this.$element = a(b), this.$note = a('<div class="alert"></div>'), this.options = a.extend(!0, {}, a.fn.notify.defaults, d), this.options.transition ? "fade" == this.options.transition ? this.$note.addClass("in").addClass(this.options.transition) : this.$note.addClass(this.options.transition) : this.$note.addClass("fade").addClass("in"), this.options.type ? this.$note.addClass("alert-" + this.options.type) : this.$note.addClass("alert-success"), this.options.message || "" === this.$element.data("message") ? "object" == typeof this.options.message ? this.options.message.html ? this.$note.html(this.options.message.html) : this.options.message.text && this.$note.text(this.options.message.text) : this.$note.html(this.options.message) : this.$note.html(this.$element.data("message")), this.options.closable) {
            var e = a('<a class="close pull-right" href="#">&times;</a>');
            a(e).on("click", a.proxy(c, this)), this.$note.prepend(e)
        }
        return this
    }, c = function () {
        return this.options.onClose(), a(this.$note).remove(), this.options.onClosed(), !1
    };
    b.prototype.show = function () {
        this.options.fadeOut.enabled && this.$note.delay(this.options.fadeOut.delay || 3e3).fadeOut("slow", a.proxy(c, this)), this.$element.append(this.$note), this.$note.alert()
    }, b.prototype.hide = function () {
        this.options.fadeOut.enabled ? this.$note.delay(this.options.fadeOut.delay || 3e3).fadeOut("slow", a.proxy(c, this)) : c.call(this)
    }, a.fn.notify = function (a) {
        return new b(this, a)
    }, a.fn.notify.defaults = {
        type: "success",
        closable: !0,
        transition: "fade",
        fadeOut: {enabled: !0, delay: 3e3},
        message: null,
        onClose: function () {
        },
        onClosed: function () {
        }
    }
}(window.jQuery), function () {
    function a() {
    }

    function b(a) {
        return f.retinaImageSuffix + a
    }

    function c(a, c) {
        if (this.path = a || "", "undefined" != typeof c && null !== c)this.at_2x_path = c, this.perform_check = !1; else {
            if (void 0 !== document.createElement) {
                var d = document.createElement("a");
                d.href = this.path, d.pathname = d.pathname.replace(g, b), this.at_2x_path = d.href
            } else {
                var e = this.path.split("?");
                e[0] = e[0].replace(g, b), this.at_2x_path = e.join("?")
            }
            this.perform_check = !0
        }
    }

    function d(a) {
        this.el = a, this.path = new c(this.el.getAttribute("src"), this.el.getAttribute("data-at2x"));
        var b = this;
        this.path.check_2x_variant(function (a) {
            a && b.swap()
        })
    }

    var e = "undefined" == typeof exports ? window : exports, f = {
        retinaImageSuffix: "@2x",
        check_mime_type: !0,
        force_original_dimensions: !0
    };
    e.Retina = a, a.configure = function (a) {
        null === a && (a = {});
        for (var b in a)a.hasOwnProperty(b) && (f[b] = a[b])
    }, a.init = function (a) {
        null === a && (a = e);
        var b = a.onload || function () {
            };
        a.onload = function () {
            var a, c, e = document.getElementsByTagName("img"), f = [];
            for (a = 0; a < e.length; a += 1)c = e[a], c.getAttributeNode("data-no-retina") || f.push(new d(c));
            b()
        }
    }, a.isRetina = function () {
        var a = "(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-resolution: 1.5dppx)";
        return e.devicePixelRatio > 1 || !(!e.matchMedia || !e.matchMedia(a).matches)
    };
    var g = /\.\w+$/;
    e.RetinaImagePath = c, c.confirmed_paths = [], c.prototype.is_external = function () {
        return !(!this.path.match(/^https?\:/i) || this.path.match("//" + document.domain))
    }, c.prototype.check_2x_variant = function (a) {
        var b, d = this;
        return this.is_external() ? a(!1) : this.perform_check || "undefined" == typeof this.at_2x_path || null === this.at_2x_path ? this.at_2x_path in c.confirmed_paths ? a(!0) : (b = new XMLHttpRequest, b.open("HEAD", this.at_2x_path), b.onreadystatechange = function () {
            if (4 !== b.readyState)return a(!1);
            if (b.status >= 200 && b.status <= 399) {
                if (f.check_mime_type) {
                    var e = b.getResponseHeader("Content-Type");
                    if (null === e || !e.match(/^image/i))return a(!1)
                }
                return c.confirmed_paths.push(d.at_2x_path), a(!0)
            }
            return a(!1)
        }, b.send(), void 0) : a(!0)
    }, e.RetinaImage = d, d.prototype.swap = function (a) {
        function b() {
            c.el.complete ? (f.force_original_dimensions && (c.el.setAttribute("width", c.el.offsetWidth), c.el.setAttribute("height", c.el.offsetHeight)), c.el.setAttribute("src", a)) : setTimeout(b, 5)
        }

        "undefined" == typeof a && (a = this.path.at_2x_path);
        var c = this;
        b()
    }, a.isRetina() && a.init(e)
}(), function (a) {
    var b = a.sdk_url, c = a.name, d = window, e = document, f = "script", g = null, h = null;
    d.sensorsDataAnalytic201505 = c, d[c] = d[c] || function (a) {
            return function () {
                (d[c]._q = d[c]._q || []).push([a, arguments])
            }
        };
    for (var i = ["track", "quick", "register", "registerPage", "registerOnce", "registerSession", "registerSessionOnce", "trackSignup", "trackAbtest", "setProfile", "setOnceProfile", "appendProfile", "incrementProfile", "deleteProfile", "unsetProfile", "identify"], j = 0; j < i.length; j++)d[c][i[j]] = d[c].call(null, i[j]);
    d[c]._t || (g = e.createElement(f), h = e.getElementsByTagName(f)[0], g.async = 1, g.src = b, h.parentNode.insertBefore(g, h), d[c]._t = 1 * new Date, d[c].para = a)
}({
    sdk_url: "/shared/bower_extends/sensors/sensorsdata.1.3.5.js",
    name: "sa",
    server_url: wt.appConfig.feed_host.indexOf("worktile.com") !== -1 ? "https://worktile.com/sa" : "http://101.201.78.36:8006/sa",
    show_log: wt.appConfig.feed_host.indexOf("worktile.com") === -1,
    debug_mode: wt.appConfig.feed_host.indexOf("worktile.com") === -1,
    debug_mode_upload: wt.appConfig.feed_host.indexOf("worktile.com") === -1
}), "object" != typeof JSON && (JSON = {}), function () {
    "use strict";
    function f(a) {
        return 10 > a ? "0" + a : a
    }

    function this_value() {
        return this.valueOf()
    }

    function quote(a) {
        return rx_escapable.lastIndex = 0, rx_escapable.test(a) ? '"' + a.replace(rx_escapable, function (a) {
            var b = meta[a];
            return "string" == typeof b ? b : "\\u" + ("0000" + a.charCodeAt(0).toString(16)).slice(-4)
        }) + '"' : '"' + a + '"'
    }

    function str(a, b) {
        var c, d, e, f, g, h = gap, i = b[a];
        switch (i && "object" == typeof i && "function" == typeof i.toJSON && (i = i.toJSON(a)), "function" == typeof rep && (i = rep.call(b, a, i)), typeof i) {
            case"string":
                return quote(i);
            case"number":
                return isFinite(i) ? String(i) : "null";
            case"boolean":
            case"null":
                return String(i);
            case"object":
                if (!i)return "null";
                if (gap += indent, g = [], "[object Array]" === Object.prototype.toString.apply(i)) {
                    for (f = i.length, c = 0; f > c; c += 1)g[c] = str(c, i) || "null";
                    return e = 0 === g.length ? "[]" : gap ? "[\n" + gap + g.join(",\n" + gap) + "\n" + h + "]" : "[" + g.join(",") + "]", gap = h, e
                }
                if (rep && "object" == typeof rep)for (f = rep.length, c = 0; f > c; c += 1)"string" == typeof rep[c] && (d = rep[c], e = str(d, i), e && g.push(quote(d) + (gap ? ": " : ":") + e)); else for (d in i)Object.prototype.hasOwnProperty.call(i, d) && (e = str(d, i), e && g.push(quote(d) + (gap ? ": " : ":") + e));
                return e = 0 === g.length ? "{}" : gap ? "{\n" + gap + g.join(",\n" + gap) + "\n" + h + "}" : "{" + g.join(",") + "}", gap = h, e
        }
    }

    var rx_one = /^[\],:{}\s]*$/, rx_two = /\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, rx_three = /"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, rx_four = /(?:^|:|,)(?:\s*\[)+/g, rx_escapable = /[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g, rx_dangerous = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;
    "function" != typeof Date.prototype.toJSON && (Date.prototype.toJSON = function () {
        return isFinite(this.valueOf()) ? this.getUTCFullYear() + "-" + f(this.getUTCMonth() + 1) + "-" + f(this.getUTCDate()) + "T" + f(this.getUTCHours()) + ":" + f(this.getUTCMinutes()) + ":" + f(this.getUTCSeconds()) + "Z" : null
    }, Boolean.prototype.toJSON = this_value, Number.prototype.toJSON = this_value, String.prototype.toJSON = this_value);
    var gap, indent, meta, rep;
    "function" != typeof JSON.stringify && (meta = {
        "\b": "\\b",
        "\t": "\\t",
        "\n": "\\n",
        "\f": "\\f",
        "\r": "\\r",
        '"': '\\"',
        "\\": "\\\\"
    }, JSON.stringify = function (a, b, c) {
        var d;
        if (gap = "", indent = "", "number" == typeof c)for (d = 0; c > d; d += 1)indent += " "; else"string" == typeof c && (indent = c);
        if (rep = b, b && "function" != typeof b && ("object" != typeof b || "number" != typeof b.length))throw new Error("JSON.stringify");
        return str("", {"": a})
    }), "function" != typeof JSON.parse && (JSON.parse = function (text, reviver) {
        function walk(a, b) {
            var c, d, e = a[b];
            if (e && "object" == typeof e)for (c in e)Object.prototype.hasOwnProperty.call(e, c) && (d = walk(e, c), void 0 !== d ? e[c] = d : delete e[c]);
            return reviver.call(a, b, e)
        }

        var j;
        if (text = String(text), rx_dangerous.lastIndex = 0, rx_dangerous.test(text) && (text = text.replace(rx_dangerous, function (a) {
                return "\\u" + ("0000" + a.charCodeAt(0).toString(16)).slice(-4)
            })), rx_one.test(text.replace(rx_two, "@").replace(rx_three, "]").replace(rx_four, "")))return j = eval("(" + text + ")"), "function" == typeof reviver ? walk({"": j}, "") : j;
        throw new SyntaxError("JSON.parse")
    })
}(), function (a) {
    a = window[a];
    var b = a._ = {};
    a.para = a.para || {}, a.para_default = {
        cross_subdomain: !0,
        show_log: !0,
        debug_mode: !1,
        debug_mode_upload: !1,
        vtrack_prefix: !1
    };
    for (var c in a.para_default)void 0 === a.para[c] && (a.para[c] = a.para_default[c]);
    /sa\.gif/.test(a.para.server_url) || (a.para.server_url = a.para.server_url.replace(/\/(sa)\\?/, "/$1.gif")), a.para.debug_mode_url = a.para.debug_mode_url || a.para.server_url.replace("sa.gif", "debug"), a.para.noCache === !0 ? a.para.noCache = "?" + (new Date).getTime() : a.para.noCache = "";
    var d = {};
    !function () {
        function a(a) {
            return Object.prototype.toString.call(a)
        }

        function b(b) {
            return "[object Object]" === a(b)
        }

        function c(b) {
            return "[object Function]" === a(b)
        }

        function e(a, b) {
            for (var c = 0, d = a.length; d > c && b.call(a, a[c], c) !== !1; c++);
        }

        function f(a) {
            if (!p.test(a))return null;
            var b, c, d, e, f;
            if (-1 !== a.indexOf("trident/") && (b = /\btrident\/([0-9.]+)/.exec(a), b && b.length >= 2)) {
                d = b[1];
                var g = b[1].split(".");
                g[0] = parseInt(g[0], 10) + 4, f = g.join(".")
            }
            b = p.exec(a), e = b[1];
            var h = b[1].split(".");
            return "undefined" == typeof f && (f = e), h[0] = parseInt(h[0], 10) - 4, c = h.join("."), "undefined" == typeof d && (d = c), {
                browserVersion: f,
                browserMode: e,
                engineVersion: d,
                engineMode: c,
                compatible: d !== c
            }
        }

        function g(a) {
            if (l)try {
                var b = l.twGetRunPath.toLowerCase(), c = l.twGetSecurityID(k), d = l.twGetVersion(c);
                if (b && -1 === b.indexOf(a))return !1;
                if (d)return {version: d}
            } catch (a) {
            }
        }

        function h(d, e, f) {
            var g = c(e) ? e.call(null, f) : e;
            if (!g)return null;
            var h = {name: d, version: j, codename: ""}, i = a(g);
            if (g === !0)return h;
            if ("[object String]" === i) {
                if (-1 !== f.indexOf(g))return h
            } else {
                if (b(g))return g.hasOwnProperty("version") && (h.version = g.version), h;
                if (g.exec) {
                    var k = g.exec(f);
                    if (k)return k.length >= 2 && k[1] ? h.version = k[1].replace(/_/g, ".") : h.version = j, h
                }
            }
        }

        function i(a, b, c, d) {
            var f = x;
            e(b, function (b) {
                var c = h(b[0], b[1], a);
                return c ? (f = c, !1) : void 0
            }), c.call(d, f.name, f.version)
        }

        var j = "-1", k = window, l = k.external, m = k.navigator.userAgent || "", n = k.navigator.appVersion || "", o = k.navigator.vendor || "", p = /\b(?:msie |ie |trident\/[0-9].*rv[ :])([0-9.]+)/, q = /\bbb10\b.+?\bversion\/([\d.]+)/, r = /\bblackberry\b.+\bversion\/([\d.]+)/, s = /\bblackberry\d+\/([\d.]+)/, t = [["nokia", function (a) {
            return -1 !== a.indexOf("nokia ") ? /\bnokia ([0-9]+)?/ : /\bnokia([a-z0-9]+)?/
        }], ["samsung", function (a) {
            return -1 !== a.indexOf("samsung") ? /\bsamsung(?:[ \-](?:sgh|gt|sm))?-([a-z0-9]+)/ : /\b(?:sgh|sch|gt|sm)-([a-z0-9]+)/
        }], ["wp", function (a) {
            return -1 !== a.indexOf("windows phone ") || -1 !== a.indexOf("xblwp") || -1 !== a.indexOf("zunewp") || -1 !== a.indexOf("windows ce")
        }], ["pc", "windows"], ["ipad", "ipad"], ["ipod", "ipod"], ["iphone", /\biphone\b|\biph(\d)/], ["mac", "macintosh"], ["mi", /\bmi[ \-]?([a-z0-9 ]+(?= build|\)))/], ["hongmi", /\bhm[ \-]?([a-z0-9]+)/], ["aliyun", /\baliyunos\b(?:[\-](\d+))?/], ["meizu", function (a) {
            return a.indexOf("meizu") >= 0 ? /\bmeizu[\/ ]([a-z0-9]+)\b/ : /\bm([0-9cx]{1,4})\b/
        }], ["nexus", /\bnexus ([0-9s.]+)/], ["huawei", function (a) {
            var b = /\bmediapad (.+?)(?= build\/huaweimediapad\b)/;
            return -1 !== a.indexOf("huawei-huawei") ? /\bhuawei\-huawei\-([a-z0-9\-]+)/ : b.test(a) ? b : /\bhuawei[ _\-]?([a-z0-9]+)/
        }], ["lenovo", function (a) {
            return -1 !== a.indexOf("lenovo-lenovo") ? /\blenovo\-lenovo[ \-]([a-z0-9]+)/ : /\blenovo[ \-]?([a-z0-9]+)/
        }], ["zte", function (a) {
            return /\bzte\-[tu]/.test(a) ? /\bzte-[tu][ _\-]?([a-su-z0-9\+]+)/ : /\bzte[ _\-]?([a-su-z0-9\+]+)/
        }], ["vivo", /\bvivo(?: ([a-z0-9]+))?/], ["htc", function (a) {
            return /\bhtc[a-z0-9 _\-]+(?= build\b)/.test(a) ? /\bhtc[ _\-]?([a-z0-9 ]+(?= build))/ : /\bhtc[ _\-]?([a-z0-9 ]+)/
        }], ["oppo", /\boppo[_]([a-z0-9]+)/], ["konka", /\bkonka[_\-]([a-z0-9]+)/], ["sonyericsson", /\bmt([a-z0-9]+)/], ["coolpad", /\bcoolpad[_ ]?([a-z0-9]+)/], ["lg", /\blg[\-]([a-z0-9]+)/], ["android", /\bandroid\b|\badr\b/], ["blackberry", function (a) {
            return a.indexOf("blackberry") >= 0 ? /\bblackberry\s?(\d+)/ : "bb10"
        }]], u = [["wp", function (a) {
            return -1 !== a.indexOf("windows phone ") ? /\bwindows phone (?:os )?([0-9.]+)/ : -1 !== a.indexOf("xblwp") ? /\bxblwp([0-9.]+)/ : -1 !== a.indexOf("zunewp") ? /\bzunewp([0-9.]+)/ : "windows phone"
        }], ["windows", /\bwindows nt ([0-9.]+)/], ["macosx", /\bmac os x ([0-9._]+)/], ["ios", function (a) {
            return /\bcpu(?: iphone)? os /.test(a) ? /\bcpu(?: iphone)? os ([0-9._]+)/ : -1 !== a.indexOf("iph os ") ? /\biph os ([0-9_]+)/ : /\bios\b/
        }], ["yunos", /\baliyunos ([0-9.]+)/], ["android", function (a) {
            return a.indexOf("android") >= 0 ? /\bandroid[ \/-]?([0-9.x]+)?/ : a.indexOf("adr") >= 0 ? a.indexOf("mqqbrowser") >= 0 ? /\badr[ ]\(linux; u; ([0-9.]+)?/ : /\badr(?:[ ]([0-9.]+))?/ : "android"
        }], ["chromeos", /\bcros i686 ([0-9.]+)/], ["linux", "linux"], ["windowsce", /\bwindows ce(?: ([0-9.]+))?/], ["symbian", /\bsymbian(?:os)?\/([0-9.]+)/], ["blackberry", function (a) {
            var b = a.match(q) || a.match(r) || a.match(s);
            return b ? {version: b[1]} : "blackberry"
        }]], v = [["edgehtml", /edge\/([0-9.]+)/], ["trident", p], ["blink", function () {
            return "chrome" in k && "CSS" in k && /\bapplewebkit[\/]?([0-9.+]+)/
        }], ["webkit", /\bapplewebkit[\/]?([0-9.+]+)/], ["gecko", function (a) {
            var b;
            return (b = a.match(/\brv:([\d\w.]+).*\bgecko\/(\d+)/)) ? {version: b[1] + "." + b[2]} : void 0
        }], ["presto", /\bpresto\/([0-9.]+)/], ["androidwebkit", /\bandroidwebkit\/([0-9.]+)/], ["coolpadwebkit", /\bcoolpadwebkit\/([0-9.]+)/], ["u2", /\bu2\/([0-9.]+)/], ["u3", /\bu3\/([0-9.]+)/]], w = [["edge", /edge\/([0-9.]+)/], ["sogou", function (a) {
            return a.indexOf("sogoumobilebrowser") >= 0 ? /sogoumobilebrowser\/([0-9.]+)/ : a.indexOf("sogoumse") >= 0 || / se ([0-9.x]+)/
        }], ["theworld", function () {
            var a = g("theworld");
            return "undefined" != typeof a ? a : "theworld"
        }], ["360", function (a) {
            var b = g("360se");
            return "undefined" != typeof b ? b : -1 !== a.indexOf("360 aphone browser") ? /\b360 aphone browser \(([^\)]+)\)/ : /\b360(?:se|ee|chrome|browser)\b/
        }], ["maxthon", function () {
            try {
                if (l && (l.mxVersion || l.max_version))return {version: l.mxVersion || l.max_version}
            } catch (a) {
            }
            return /\b(?:maxthon|mxbrowser)(?:[ \/]([0-9.]+))?/
        }], ["micromessenger", /\bmicromessenger\/([\d.]+)/], ["qq", /\bm?qqbrowser\/([0-9.]+)/], ["green", "greenbrowser"], ["tt", /\btencenttraveler ([0-9.]+)/], ["liebao", function (a) {
            if (a.indexOf("liebaofast") >= 0)return /\bliebaofast\/([0-9.]+)/;
            if (-1 === a.indexOf("lbbrowser"))return !1;
            var b;
            try {
                l && l.LiebaoGetVersion && (b = l.LiebaoGetVersion())
            } catch (a) {
            }
            return {version: b || j}
        }], ["tao", /\btaobrowser\/([0-9.]+)/], ["coolnovo", /\bcoolnovo\/([0-9.]+)/], ["saayaa", "saayaa"], ["baidu", /\b(?:ba?idubrowser|baiduhd)[ \/]([0-9.x]+)/], ["ie", p], ["mi", /\bmiuibrowser\/([0-9.]+)/], ["opera", function (a) {
            var b = /\bopera.+version\/([0-9.ab]+)/, c = /\bopr\/([0-9.]+)/;
            return b.test(a) ? b : c
        }], ["oupeng", /\boupeng\/([0-9.]+)/], ["yandex", /yabrowser\/([0-9.]+)/], ["ali-ap", function (a) {
            return a.indexOf("aliapp") > 0 ? /\baliapp\(ap\/([0-9.]+)\)/ : /\balipayclient\/([0-9.]+)\b/
        }], ["ali-ap-pd", /\baliapp\(ap-pd\/([0-9.]+)\)/], ["ali-am", /\baliapp\(am\/([0-9.]+)\)/], ["ali-tb", /\baliapp\(tb\/([0-9.]+)\)/], ["ali-tb-pd", /\baliapp\(tb-pd\/([0-9.]+)\)/], ["ali-tm", /\baliapp\(tm\/([0-9.]+)\)/], ["ali-tm-pd", /\baliapp\(tm-pd\/([0-9.]+)\)/], ["uc", function (a) {
            return a.indexOf("ucbrowser/") >= 0 ? /\bucbrowser\/([0-9.]+)/ : a.indexOf("ubrowser/") >= 0 ? /\bubrowser\/([0-9.]+)/ : /\buc\/[0-9]/.test(a) ? /\buc\/([0-9.]+)/ : a.indexOf("ucweb") >= 0 ? /\bucweb([0-9.]+)?/ : /\b(?:ucbrowser|uc)\b/
        }], ["chrome", / (?:chrome|crios|crmo)\/([0-9.]+)/], ["android", function (a) {
            return -1 !== a.indexOf("android") ? /\bversion\/([0-9.]+(?: beta)?)/ : void 0
        }], ["blackberry", function (a) {
            var b = a.match(q) || a.match(r) || a.match(s);
            return b ? {version: b[1]} : "blackberry"
        }], ["safari", /\bversion\/([0-9.]+(?: beta)?)(?: mobile(?:\/[a-z0-9]+)?)? safari\//], ["webview", /\bcpu(?: iphone)? os (?:[0-9._]+).+\bapplewebkit\b/], ["firefox", /\bfirefox\/([0-9.ab]+)/], ["nokia", /\bnokiabrowser\/([0-9.]+)/]], x = {
            name: "na",
            version: j
        }, y = function (a) {
            a = (a || "").toLowerCase();
            var b = {};
            i(a, t, function (a, c) {
                var d = parseFloat(c);
                b.device = {name: a, version: d, fullVersion: c}, b.device[a] = d
            }, b), i(a, u, function (a, c) {
                var d = parseFloat(c);
                b.os = {name: a, version: d, fullVersion: c}, b.os[a] = d
            }, b);
            var c = f(a);
            return i(a, v, function (a, d) {
                var e = d;
                c && (d = c.engineVersion || c.engineMode, e = c.engineMode);
                var f = parseFloat(d);
                b.engine = {
                    name: a,
                    version: f,
                    fullVersion: d,
                    mode: parseFloat(e),
                    fullMode: e,
                    compatible: !!c && c.compatible
                }, b.engine[a] = f
            }, b), i(a, w, function (a, d) {
                var e = d;
                c && ("ie" === a && (d = c.browserVersion), e = c.browserMode);
                var f = parseFloat(d);
                b.browser = {
                    name: a,
                    version: f,
                    fullVersion: d,
                    mode: parseFloat(e),
                    fullMode: e,
                    compatible: !!c && c.compatible
                }, b.browser[a] = f
            }, b), b
        };
        d = y(m + " " + n + " " + o)
    }();
    var e = Array.prototype, f = Function.prototype, g = Object.prototype, h = e.slice, i = g.toString, j = g.hasOwnProperty, k = window.navigator, l = window.document, m = k.userAgent, n = "1.3.5", o = "object" == typeof o ? o : {};
    o.info = function () {
        if (!a.para.show_log)return !1;
        if ("object" == typeof console && console.log)try {
            return console.log.apply(console, arguments)
        } catch (a) {
            console.log(arguments[0])
        }
    }, function () {
        var a = (f.bind, e.forEach), c = e.indexOf, d = Array.isArray, g = {}, k = b.each = function (b, c, d) {
            if (null == b)return !1;
            if (a && b.forEach === a)b.forEach(c, d); else if (b.length === +b.length) {
                for (var e = 0, f = b.length; f > e; e++)if (e in b && c.call(d, b[e], e, b) === g)return !1
            } else for (var h in b)if (j.call(b, h) && c.call(d, b[h], h, b) === g)return !1
        };
        b.extend = function (a) {
            return k(h.call(arguments, 1), function (b) {
                for (var c in b)void 0 !== b[c] && (a[c] = b[c])
            }), a
        }, b.coverExtend = function (a) {
            return k(h.call(arguments, 1), function (b) {
                for (var c in b)void 0 !== b[c] && void 0 === a[c] && (a[c] = b[c])
            }), a
        }, b.isArray = d || function (a) {
                return "[object Array]" === i.call(a)
            }, b.isFunction = function (a) {
            try {
                return /^\s*\bfunction\b/.test(a)
            } catch (a) {
                return !1
            }
        }, b.isArguments = function (a) {
            return !(!a || !j.call(a, "callee"))
        }, b.toArray = function (a) {
            return a ? a.toArray ? a.toArray() : b.isArray(a) ? h.call(a) : b.isArguments(a) ? h.call(a) : b.values(a) : []
        }, b.values = function (a) {
            var b = [];
            return null == a ? b : (k(a, function (a) {
                b[b.length] = a
            }), b)
        }, b.include = function (a, b) {
            var d = !1;
            return null == a ? d : c && a.indexOf === c ? -1 != a.indexOf(b) : (k(a, function (a) {
                return d || (d = a === b) ? g : void 0
            }), d)
        }, b.includes = function (a, b) {
            return -1 !== a.indexOf(b)
        }
    }(), b.inherit = function (a, b) {
        return a.prototype = new b, a.prototype.constructor = a, a.superclass = b.prototype, a
    }, b.isObject = function (a) {
        return "[object Object]" == i.call(a)
    }, b.isEmptyObject = function (a) {
        if (b.isObject(a)) {
            for (var c in a)if (j.call(a, c))return !1;
            return !0
        }
        return !1
    }, b.isUndefined = function (a) {
        return void 0 === a
    }, b.isString = function (a) {
        return "[object String]" == i.call(a)
    }, b.isDate = function (a) {
        return "[object Date]" == i.call(a)
    }, b.isBoolean = function (a) {
        return "[object Boolean]" == i.call(a)
    }, b.isNumber = function (a) {
        return "[object Number]" == i.call(a) && /[\d\.]+/.test(String(a))
    }, b.isJSONString = function (a) {
        try {
            JSON.parse(a)
        } catch (a) {
            return !1
        }
        return !0
    }, b.encodeDates = function (a) {
        return b.each(a, function (c, d) {
            b.isDate(c) ? a[d] = b.formatDate(c) : b.isObject(c) && (a[d] = b.encodeDates(c))
        }), a
    }, b.formatDate = function (a) {
        function b(a) {
            return 10 > a ? "0" + a : a
        }

        return a.getFullYear() + "-" + b(a.getMonth() + 1) + "-" + b(a.getDate()) + " " + b(a.getHours()) + ":" + b(a.getMinutes()) + ":" + b(a.getSeconds()) + "." + b(a.getMilliseconds())
    }, b.searchObjDate = function (a) {
        b.isObject(a) && b.each(a, function (c, d) {
            b.isObject(c) ? b.searchObjDate(a[d]) : b.isDate(c) && (a[d] = b.formatDate(c))
        })
    }, b.strip_sa_properties = function (a) {
        return b.isObject(a) ? (b.each(a, function (c, d) {
            if (b.isArray(c)) {
                var e = [];
                b.each(c, function (a) {
                    b.isString(a) ? e.push(a) : o.info("-", c, ",")
                }), 0 !== e.length ? a[d] = e : (delete a[d], o.info(""))
            }
            b.isString(c) || b.isNumber(c) || b.isDate(c) || b.isBoolean(c) || b.isArray(c) || (o.info("-", c, "-"), delete a[d])
        }), a) : a
    }, b.strip_empty_properties = function (a) {
        var c = {};
        return b.each(a, function (a, d) {
            b.isString(a) && a.length > 0 && (c[d] = a)
        }), c
    }, b.utf8Encode = function (a) {
        a = (a + "").replace(/\r\n/g, "\n").replace(/\r/g, "\n");
        var b, c, d, e = "", f = 0;
        for (b = c = 0, f = a.length, d = 0; f > d; d++) {
            var g = a.charCodeAt(d), h = null;
            128 > g ? c++ : h = g > 127 && 2048 > g ? String.fromCharCode(g >> 6 | 192, 63 & g | 128) : String.fromCharCode(g >> 12 | 224, g >> 6 & 63 | 128, 63 & g | 128), null !== h && (c > b && (e += a.substring(b, c)), e += h, b = c = d + 1)
        }
        return c > b && (e += a.substring(b, a.length)), e
    }, b.detector = d, b.base64Encode = function (a) {
        var c, d, e, f, g, h, i, j, k = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=", l = 0, m = 0, n = "", o = [];
        if (!a)return a;
        a = b.utf8Encode(a);
        do c = a.charCodeAt(l++), d = a.charCodeAt(l++), e = a.charCodeAt(l++), j = c << 16 | d << 8 | e, f = j >> 18 & 63, g = j >> 12 & 63, h = j >> 6 & 63, i = 63 & j, o[m++] = k.charAt(f) + k.charAt(g) + k.charAt(h) + k.charAt(i); while (l < a.length);
        switch (n = o.join(""), a.length % 3) {
            case 1:
                n = n.slice(0, -2) + "==";
                break;
            case 2:
                n = n.slice(0, -1) + "="
        }
        return n
    }, b.UUID = function () {
        var a = function () {
            for (var a = 1 * new Date, b = 0; a == 1 * new Date;)b++;
            return a.toString(16) + b.toString(16)
        }, b = function () {
            return Math.random().toString(16).replace(".", "")
        }, c = function (a) {
            function b(a, b) {
                var c, d = 0;
                for (c = 0; c < b.length; c++)d |= f[c] << 8 * c;
                return a ^ d
            }

            var c, d, e = m, f = [], g = 0;
            for (c = 0; c < e.length; c++)d = e.charCodeAt(c), f.unshift(255 & d), f.length >= 4 && (g = b(g, f), f = []);
            return f.length > 0 && (g = b(g, f)), g.toString(16)
        };
        return function () {
            var d = (screen.height * screen.width).toString(16);
            return a() + "-" + b() + "-" + c() + "-" + d + "-" + a()
        }
    }(), b.getQueryParam = function (a, b) {
        b = b.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
        var c = "[\\?&]" + b + "=([^&#]*)", d = new RegExp(c), e = d.exec(a);
        return null === e || e && "string" != typeof e[1] && e[1].length ? "" : decodeURIComponent(e[1]).replace(/\+/g, " ")
    }, b.urlParse = function (a) {
        var b = function (a) {
            this._fields = {
                Username: 4,
                Password: 5,
                Port: 7,
                Protocol: 2,
                Host: 6,
                Path: 8,
                URL: 0,
                QueryString: 9,
                Fragment: 10
            }, this._values = {}, this._regex = null, this.version = .1, this._regex = /^((\w+):\/\/)?((\w+):?(\w+)?@)?([^\/\?:]+):?(\d+)?(\/?[^\?#]+)?\??([^#]+)?#?(\w*)/, "undefined" != typeof a && this._parse(a)
        };
        return b.prototype.setURL = function (a) {
            this._parse(a)
        }, b.prototype._initValues = function () {
            for (var a in this._fields)this._values[a] = ""
        }, b.prototype._parse = function (a) {
            this._initValues();
            var b = this._regex.exec(a);
            if (!b)throw"DPURLParser::_parse -> Invalid URL";
            for (var c in this._fields)"undefined" != typeof b[this._fields[c]] && (this._values[c] = b[this._fields[c]]);
            this._values.Hostname = this._values.Host.replace(/:\d+$/, ""), this._values.Origin = this._values.Protocol + "://" + this._values.Hostname
        }, new b(a)
    }, b.cookie = {
        get: function (a) {
            for (var b = a + "=", c = l.cookie.split(";"), d = 0; d < c.length; d++) {
                for (var e = c[d]; " " == e.charAt(0);)e = e.substring(1, e.length);
                if (0 == e.indexOf(b))return decodeURIComponent(e.substring(b.length, e.length))
            }
            return null
        }, set: function (b, c, d, e, f) {
            e = "undefined" == typeof e ? a.para.cross_subdomain : e;
            var g = "", h = "", i = "";
            if (d = "undefined" == typeof d ? 730 : d, e) {
                var j = l.location.hostname.match(/[a-z0-9][a-z0-9\-]+\.[a-z\.]{2,6}$/i), k = j ? j[0] : "";
                g = k ? "; domain=." + k : ""
            }
            if (0 !== d) {
                var m = new Date;
                "s" === String(d).slice(-1) ? m.setTime(m.getTime() + 1e3 * Number(String(d).slice(0, -1))) : m.setTime(m.getTime() + 24 * d * 60 * 60 * 1e3), h = "; expires=" + m.toGMTString()
            }
            f && (i = "; secure"), l.cookie = b + "=" + encodeURIComponent(c) + h + "; path=/" + g + i
        }, remove: function (c, d) {
            d = "undefined" == typeof d ? a.para.cross_subdomain : d, b.cookie.set(c, "", -1, d)
        }
    }, b.localStorage = {
        get: function (a) {
            return window.localStorage.getItem(a)
        }, parse: function (a) {
            var c;
            try {
                c = JSON.parse(b.localStorage.get(a)) || null
            } catch (a) {
            }
            return c
        }, set: function (a, b) {
            window.localStorage.setItem(a, b)
        }, remove: function (a) {
            window.localStorage.removeItem(a)
        }
    }, b.getQueryParam = function (a, b) {
        b = b.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
        var c = "[\\?&]" + b + "=([^&#]*)", d = new RegExp(c), e = d.exec(a);
        return null === e || e && "string" != typeof e[1] && e[1].length ? "" : decodeURIComponent(e[1]).replace(/\+/g, " ")
    }, b.xhr = function (a) {
        if (a) {
            var b = new XMLHttpRequest;
            return "withCredentials" in b ? b : "undefined" != typeof XDomainRequest ? new XDomainRequest : b
        }
        if (XMLHttpRequest)return new XMLHttpRequest;
        if (window.ActiveXObject)try {
            return new ActiveXObject("Msxml2.XMLHTTP")
        } catch (a) {
            try {
                return new ActiveXObject("Microsoft.XMLHTTP")
            } catch (a) {
            }
        }
    }, b.ajax = function (a) {
        function c(a) {
            try {
                return JSON.parse(a)
            } catch (a) {
                return {}
            }
        }

        var d = b.xhr(a.cors);
        a.type || (a.type = a.data ? "POST" : "GET"), a = b.extend({
            success: function () {
            }, error: function () {
            }
        }, a), d.onreadystatechange = function () {
            4 == d.readyState && (d.status >= 200 && d.status < 300 || 304 == d.status ? a.success(c(d.responseText)) : a.error(c(d.responseText), d.status), d.onreadystatechange = null, d.onload = null)
        }, d.open(a.type, a.url, !0);
        try {
            if (d.withCredentials = !0, b.isObject(a.header))for (var e in a.header)d.setRequestHeader(e, a.header[e]);
            a.data && (d.setRequestHeader("X-Requested-With", "XMLHttpRequest"), "application/json" === a.contentType ? d.setRequestHeader("Content-type", "application/json; charset=UTF-8") : d.setRequestHeader("Content-type", "application/x-www-form-urlencoded"))
        } catch (a) {
        }
        d.send(a.data || null)
    }, b.info = {
        campaignParams: function () {
            var a = "utm_source utm_medium utm_campaign utm_content utm_term".split(" "), c = "", d = {};
            return b.each(a, function (a) {
                c = b.getQueryParam(location.href, a), c.length && (d[a] = c)
            }), d
        }, searchEngine: function (a) {
            return 0 === a.search("https?://(.*)google.([^/?]*)") ? "google" : 0 === a.search("https?://(.*)bing.com") ? "bing" : 0 === a.search("https?://(.*)yahoo.com") ? "yahoo" : 0 === a.search("https?://(.*)duckduckgo.com") ? "duckduckgo" : null
        }, browser: function (a, c, d) {
            var c = c || "";
            return d || b.includes(a, " OPR/") ? b.includes(a, "Mini") ? "Opera Mini" : "Opera" : /(BlackBerry|PlayBook|BB10)/i.test(a) ? "BlackBerry" : b.includes(a, "IEMobile") || b.includes(a, "WPDesktop") ? "Internet Explorer Mobile" : b.includes(a, "Edge") ? "Microsoft Edge" : b.includes(a, "FBIOS") ? "Facebook Mobile" : b.includes(a, "Chrome") ? "Chrome" : b.includes(a, "CriOS") ? "Chrome iOS" : b.includes(c, "Apple") ? b.includes(a, "Mobile") ? "Mobile Safari" : "Safari" : b.includes(a, "Android") ? "Android Mobile" : b.includes(a, "Konqueror") ? "Konqueror" : b.includes(a, "Firefox") ? "Firefox" : b.includes(a, "MSIE") || b.includes(a, "Trident/") ? "Internet Explorer" : b.includes(a, "Gecko") ? "Mozilla" : ""
        }, browserVersion: function (a, c, d) {
            var e = b.info.browser(a, c, d), f = {
                "Internet Explorer Mobile": /rv:(\d+(\.\d+)?)/,
                "Microsoft Edge": /Edge\/(\d+(\.\d+)?)/,
                Chrome: /Chrome\/(\d+(\.\d+)?)/,
                "Chrome iOS": /Chrome\/(\d+(\.\d+)?)/,
                Safari: /Version\/(\d+(\.\d+)?)/,
                "Mobile Safari": /Version\/(\d+(\.\d+)?)/,
                Opera: /(Opera|OPR)\/(\d+(\.\d+)?)/,
                Firefox: /Firefox\/(\d+(\.\d+)?)/,
                Konqueror: /Konqueror:(\d+(\.\d+)?)/,
                BlackBerry: /BlackBerry (\d+(\.\d+)?)/,
                "Android Mobile": /android\s(\d+(\.\d+)?)/,
                "Internet Explorer": /(rv:|MSIE )(\d+(\.\d+)?)/,
                Mozilla: /rv:(\d+(\.\d+)?)/
            }, g = f[e];
            if (void 0 == g)return null;
            var h = a.match(g);
            return h ? String(parseFloat(h[h.length - 2])) : null
        }, os: function () {
            var a = m;
            return /Windows/i.test(a) ? /Phone/.test(a) ? "Windows Mobile" : "Windows" : /(iPhone|iPad|iPod)/.test(a) ? "iOS" : /Android/.test(a) ? "Android" : /(BlackBerry|PlayBook|BB10)/i.test(a) ? "BlackBerry" : /Mac/i.test(a) ? "Mac OS X" : /Linux/.test(a) ? "Linux" : ""
        }, device: function (a) {
            return /iPad/.test(a) ? "iPad" : /iPod/i.test(a) ? "iPod" : /iPhone/i.test(a) ? "iPhone" : /(BlackBerry|PlayBook|BB10)/i.test(a) ? "BlackBerry" : /Windows Phone/i.test(a) ? "Windows Phone" : /Windows/i.test(a) ? "Windows" : /Macintosh/i.test(a) ? "Macintosh" : /Android/i.test(a) ? "Android" : /Linux/i.test(a) ? "Linux" : ""
        }, referringDomain: function (a) {
            var b = a.split("/");
            return b.length >= 3 ? b[2] : ""
        }, properties: function () {
            return b.extend(b.strip_empty_properties({
                $os: d.os.name,
                $model: d.device.name
            }), {
                _browser_engine: d.engine.name,
                $screen_height: screen.height,
                $screen_width: screen.width,
                $lib: "js",
                $lib_version: String(n),
                _browser: d.browser.name,
                _browser_version: String(d.browser.version)
            })
        }, currentProps: {}, register: function (a) {
            b.extend(b.info.currentProps, a)
        }
    };
    var p = {};
    p.checkOption = {
        regChecks: {regName: /^((?!^distinct_id$|^original_id$|^time$|^properties$|^id$|^first_id$|^second_id$|^users$|^events$|^event$|^user_id$|^date$|^datetime$)[a-zA-Z_$][a-zA-Z\d_$]{0,99})$/i},
        checkPropertiesKey: function (a) {
            var c = this, d = !0;
            return b.each(a, function (a, b) {
                c.regChecks.regName.test(b) || (d = !1)
            }), d
        },
        check: function (a, b) {
            return "string" == typeof this[a] ? this[this[a]](b) : this[a](b)
        },
        str: function (a) {
            return !!b.isString(a) || (o.info(","), !1)
        },
        properties: function (a) {
            return b.strip_sa_properties(a), !a || (b.isObject(a) ? !!this.checkPropertiesKey(a) || (o.info("propertieskey_"), !1) : (o.info("properties"), !1))
        },
        propertiesMust: function (a) {
            return b.strip_sa_properties(a), void 0 === a || !b.isObject(a) || b.isEmptyObject(a) ? (o.info("properties"), !1) : !!this.checkPropertiesKey(a) || (o.info("propertieskey_"), !1)
        },
        event: function (a) {
            return !(!b.isString(a) || !this.regChecks.regName.test(a)) || (o.info(",,eventName_,"), !1)
        },
        test_id: "str",
        group_id: "str",
        distinct_id: function (a) {
            return !(!b.isString(a) || !/^.{1,255}$/.test(a)) || (o.info("distinct_id255"), !1)
        }
    }, p.check = function (a) {
        var b = !0;
        for (var c in a)if (!this.checkOption.check(c, a[c]))return !1;
        return b
    }, p.send = function (c) {
        var d = {distinct_id: q.getDistinctId(), properties: {}};
        b.extend(d, c), b.isObject(c.properties) && !b.isEmptyObject(c.properties) && b.extend(d.properties, c.properties), c.type && "profile" === c.type.slice(0, 7) || (d.properties = b.extend({}, b.info.properties(), q.getProps(), q.getSessionProps(), b.info.currentProps, d.properties)), d.time = 1 * new Date, b.searchObjDate(d), a.para.debug_mode === !0 ? (o.info(d), this.debugPath(JSON.stringify(d))) : (o.info(d), this.serverPath(JSON.stringify(d)))
    }, p.debugPath = function (c) {
        var d = "";
        d = -1 !== a.para.debug_mode_url.indexOf("?") ? a.para.debug_mode_url + "&data=" + encodeURIComponent(b.base64Encode(c)) : a.para.debug_mode_url + "?data=" + encodeURIComponent(b.base64Encode(c)), b.ajax({
            url: d,
            type: "GET",
            cors: !0,
            header: {"Dry-Run": String(a.para.debug_mode_upload)}
        })
    }, p.serverPath = function (c) {
        a.requestImg = new Image, a.requestImg.onload = a.requestImg.onerror = function () {
            a.requestImg && (a.requestImg.onload = null, a.requestImg.onerror = null, a.requestImg = null)
        }, -1 !== a.para.server_url.indexOf("?") ? a.requestImg.src = a.para.server_url + "&data=" + encodeURIComponent(b.base64Encode(c)) : a.requestImg.src = a.para.server_url + "?data=" + encodeURIComponent(b.base64Encode(c))
    };
    var q = a.store = {
        getProps: function () {
            return this._state.props
        }, getSessionProps: function () {
            return this._sessionState
        }, getDistinctId: function () {
            return this._state.distinct_id
        }, toState: function (a) {
            var b = null;
            return null !== a && "object" == typeof(b = JSON.parse(a)) ? (this._state = b, b.distinct_id) : null
        }, initSessionState: function () {
            var a = b.cookie.get("sensorsdata2015session"), c = null;
            null !== a && "object" == typeof(c = JSON.parse(a)) && (this._sessionState = c)
        }, setOnce: function (a, b) {
            a in this._state || this.set(a, b)
        }, set: function (a, b) {
            this._state[a] = b, this.save()
        }, change: function (a, b) {
            this._state[a] = b
        }, setSessionProps: function (a) {
            var c = this._sessionState;
            b.extend(c, a), this.sessionSave(c)
        }, setSessionPropsOnce: function (a) {
            var c = this._sessionState;
            b.coverExtend(c, a), this.sessionSave(c)
        }, setProps: function (a) {
            var c = this._state.props || {};
            b.extend(c, a), this.set("props", c)
        }, setPropsOnce: function (a) {
            var c = this._state.props || {};
            b.coverExtend(c, a), this.set("props", c)
        }, sessionSave: function (a) {
            this._sessionState = a, b.cookie.set("sensorsdata2015session", JSON.stringify(this._sessionState), 0)
        }, save: function () {
            a.para.cross_subdomain ? b.cookie.set("sensorsdata2015jssdkcross", JSON.stringify(this._state), 730, !0) : b.cookie.set("sensorsdata2015jssdk", JSON.stringify(this._state), 730, !1)
        }, _sessionState: {}, _state: {}, init: function () {
            var c = b.cookie.get("sensorsdata2015jssdk"), d = b.cookie.get("sensorsdata2015jssdkcross"), e = null;
            a.para.cross_subdomain ? (e = d, null !== c && (o.info("cookie"), b.cookie.remove("sensorsdata2015jssdk", !1), b.cookie.remove("sensorsdata2015jssdk", !0)), null === e && null !== c && (o.info("", c), e = c)) : (o.info(""), e = c), this.initSessionState(), null !== e && this.toState(e) ? a.para.cross_subdomain && null === d && (o.info("cookie"), this.save()) : (o.info("set"), this.set("distinct_id", b.UUID()))
        }
    }, r = {
        getUtm: function () {
            return b.info.campaignParams()
        }, getStayTime: function () {
            return (new Date - a._t) / 1e3
        }, setInitReferrer: function () {
            var c = l.referrer;
            a.setOnceProfile({_init_referrer: c, _init_referrer_domain: b.info.referringDomain(c)})
        }, setSessionReferrer: function () {
            var a = l.referrer;
            q.setSessionPropsOnce({_session_referrer: a, _session_referrer_domain: b.info.referringDomain(a)})
        }, setDefaultAttr: function () {
            b.info.register({
                _current_url: location.href,
                _referrer: l.referrer,
                _referring_domain: b.info.referringDomain(l.referrer)
            })
        }, cookie: function () {
        }
    };
    a.quick = function () {
        var b = Array.prototype.slice.call(arguments), c = b[0], d = b.slice(1);
        return "string" == typeof c && r[c] ? r[c].apply(a, d) : void("function" == typeof c ? c.apply(a, d) : o.info("quick" + b[0]))
    }, a.track = function (a, b) {
        p.check({event: a, properties: b}) && p.send({type: "track", event: a, properties: b})
    }, a.setProfile = function (a) {
        p.check({propertiesMust: a}) && p.send({type: "profile_set", properties: a})
    }, a.setOnceProfile = function (a) {
        p.check({propertiesMust: a}) && p.send({type: "profile_set_once", properties: a})
    }, a.appendProfile = function (a) {
        p.check({propertiesMust: a}) && (b.each(a, function (c, d) {
            b.isString(c) ? a[d] = [c] : b.isArray(c) || (delete a[d], o.info("appendProfile"))
        }), b.isEmptyObject(a) || p.send({type: "profile_append", properties: a}))
    }, a.incrementProfile = function (a) {
        function c(a) {
            for (var b in a)if (!/-*\d+/.test(String(a[b])))return !1;
            return !0
        }

        var d = a;
        b.isString(a) && (a = {}, a[d] = 1), p.check({propertiesMust: a}) && (c(a) ? p.send({
            type: "profile_increment",
            properties: a
        }) : o.info("profile_increment"))
    }, a.deleteProfile = function () {
        p.send({type: "profile_delete"}), q.set("distinct_id", b.UUID())
    }, a.unsetProfile = function (a) {
        var c = a, d = {};
        b.isString(a) && (a = [], a.push(c)), b.isArray(a) ? (b.each(a, function (a) {
            b.isString(a) ? d[a] = !0 : o.info("profile_unsetstring,", a)
        }), p.send({type: "profile_unset", properties: d})) : o.info("profile_unset")
    }, a.identify = function (a, c) {
        "undefined" == typeof a ? q.set("distinct_id", b.UUID()) : p.check({distinct_id: a}) ? c === !0 ? q.set("distinct_id", a) : q.change("distinct_id", a) : o.info("identify")
    }, a.trackSignup = function (a, b, c) {
        p.check({distinct_id: a, event: b, properties: c}) && (p.send({
            original_id: q.getDistinctId(),
            distinct_id: a,
            type: "track_signup",
            event: b,
            properties: c
        }), q.set("distinct_id", a))
    }, a.trackAbtest = function (a, b) {
        p.check({test_id: a, group_id: b}) && p.send({type: "track_abtest", properties: {test_id: a, group_id: b}})
    }, a.registerPage = function (a) {
        p.check({properties: a}) ? b.extend(b.info.currentProps, a) : o.info("register")
    }, a.register = function (a) {
        p.check({properties: a}) ? q.setProps(a) : o.info("register")
    }, a.registerOnce = function (a) {
        p.check({properties: a}) ? q.setPropsOnce("props", a) : o.info("registerOnce")
    }, a.registerSession = function (a) {
        p.check({properties: a}) ? q.setSessionProps(a) : o.info("registerSession")
    }, a.registerSessionOnce = function (a) {
        p.check({properties: a}) ? q.setSessionPropsOnce(a) : o.info("registerSessionOnce")
    }, a.init = function () {
        q.init(), b.each(a._q, function (b) {
            a[b[0]].apply(a, h.call(b[1]))
        })
    }, a.init()
}(window.sensorsDataAnalytic201505), function (a) {
    var b, c = {
        MarkupType: "markdown",
        EditorMode: "code",
        NewFile: !1,
        HasFunctionBar: !0,
        Debug: !1,
        NoDefinitionsFor: [],
        AfterClickFunBar: null
    }, d = {};
    a.fn.GollumEditor = function (h) {
        if (b = this, d = a.extend(c, h), e("GollumEditor loading"), b.data("AfterClickFunBar", d.AfterClickFunBar), g.baseEditorMarkup()) {
            if (g.titleDisplayed() && b.find(".gollum-editor-title-field").addClass("active"), g.editSummaryMarkup() && (a.GollumEditor.Placeholder.add(a(".gollum-editor-edit-summary input")), a('.gollum-editor form[name="gollum-editor"]').submit(function (b) {
                    b.preventDefault(), a.GollumEditor.Placeholder.clearAll(), e("submitting"), a(this).unbind("submit"), a(this).submit()
                })), g.collapsibleInputs() && a(".gollum-editor .collapsed a.button, .gollum-editor .expanded a.button").click(function (b) {
                    b.preventDefault(), a(this).parent().toggleClass("expanded"), a(this).parent().toggleClass("collapsed")
                }), g.previewButton()) {
                b.find(".gollum-editor .gollum-editor-preview").click(function () {
                    var b = a(".gollum-editor form").attr("action"), c = a(a(".gollum-editor form").get(0));
                    return c.attr("action", this.href || "/preview"), c.attr("target", "_blank"), c.submit(), c.attr("action", b), c.removeAttr("target"), !1
                })
            }
            if (g.functionBar()) {
                var j = b.find(".gollum-editor-body").attr("data-markup-lang");
                j && (d.MarkupType = j), f.setActiveLanguage(d.MarkupType), g.formatSelector() && i.init(a(".gollum-editor-format-selector select")), g.help() && (a(".gollum-editor-help").hide(), a(".gollum-editor-help").removeClass("jaws"))
            }
        }
    }, a.GollumEditor = function () {
    }, a.GollumEditor.defineLanguage = function (a, b) {
        "object" == typeof b ? f.define(a, b) : e("GollumEditor.defineLanguage: definition for " + a + " is not an object")
    };
    var e = function (a) {
        d.Debug && "undefined" != typeof console && console.log(a)
    }, f = {
        _ACTIVE_LANG: "", _LOADED_LANGS: [], _LANG: {}, define: function (b, c) {
            if (f._ACTIVE_LANG = b, f._LOADED_LANGS.push(b), "object" == typeof a.GollumEditor.WikiLanguage) {
                var d = {};
                a.extend(d, a.GollumEditor.WikiLanguage, c), f._LANG[b] = d
            } else f._LANG[b] = c
        }, getActiveLanguage: function () {
            return f._ACTIVE_LANG
        }, setActiveLanguage: function (a) {
            f.isLoadedFor(a) ? (f._ACTIVE_LANG = a, h.refresh(b)) : (f._ACTIVE_LANG = null, f.loadFor(a, function (b, c) {
                "success" != c && (e("Failed to load language definition for " + a), f.define(a, {})), g.functionBar() && h.refresh(), f.isValid() && g.formatSelector() && i.updateSelected()
            }))
        }, getDefinitionFor: function (a, b) {
            return b || (b = f._ACTIVE_LANG), f.isLoadedFor(b) && f._LANG[b][a] && "object" == typeof f._LANG[b][a] ? f._LANG[b][a] : null
        }, loadFor: function (b, c) {
            if (d.NoDefinitionsFor.length)for (var e = 0; e < d.NoDefinitionsFor.length; e++)if (b == d.NoDefinitionsFor[e] && "function" == typeof c)return void c(null, "error");
            var f = "/assets/langs/" + b + ".js";
            a.ajax({
                url: f, dataType: "script", complete: function (a, b) {
                    "function" == typeof c && c(a, b)
                }
            })
        }, isLoadedFor: function (a) {
            if (0 === f._LOADED_LANGS.length)return !1;
            for (var b = 0; b < f._LOADED_LANGS.length; b++)if (f._LOADED_LANGS[b] == a)return !0;
            return !1
        }, isValid: function () {
            return f._ACTIVE_LANG && "object" == typeof f._LANG[f._ACTIVE_LANG]
        }
    }, g = {
        baseEditorMarkup: function () {
            return b.find(".gollum-editor").length && b.find(".gollum-editor-body").length
        }, collapsibleInputs: function () {
            return b.find(".gollum-editor .collapsed, .gollum-editor .expanded").length
        }, formatSelector: function () {
            return b.find(".gollum-editor-format-selector select").length
        }, functionBar: function () {
            return d.HasFunctionBar && b.find(".gollum-editor-function-bar").length
        }, ff4Environment: function () {
            var a = new RegExp(/Firefox\/4.0b/);
            return a.test(navigator.userAgent)
        }, editSummaryMarkup: function () {
            return b.find("input.gollum-editor-message-field").length > 0
        }, help: function () {
            return b.find(".gollum-editor .gollum-editor-help").length && b.find(".gollum-editor .function-help").length
        }, previewButton: function () {
            return b.find(".gollum-editor .gollum-editor-preview").length
        }, titleDisplayed: function () {
            return d.NewFile
        }
    }, h = {
        isActive: !1, activate: function () {
            e("Activating function bar"), b.find(".gollum-editor-function-bar a.function-button").each(function () {
                var b = a(this).attr("class").split(" ")[a(this).attr("class").split(" ").length - 1];
                f.getDefinitionFor(b) ? (a(this).click(h.evtFunctionButtonClick), a(this).removeClass("disabled")) : "function-help" != a(this).attr("id") && a(this).addClass("disabled")
            }), b.find(".gollum-editor-function-bar").addClass("active"), h.isActive = !0
        }, deactivate: function () {
            b.find(".gollum-editor-function-bar a.function-button").unbind("click"), b.find(".gollum-editor-function-bar").removeClass("active"), h.isActive = !1
        }, evtFunctionButtonClick: function (b) {
            b.preventDefault();
            var c = a(this).attr("class").split(" ")[a(this).attr("class").split(" ").length - 1], d = f.getDefinitionFor(c);
            "object" == typeof d && h.executeAction(d, b)
        }, executeAction: function (b, c) {
            var d = c || window.event, f = a(d.target).parents(".gollum-editor").find(".gollum-editor-body").val(), g = (h.getFieldSelectionPosition(a(d.target).parents(".gollum-editor").find(".gollum-editor-body")), h.getFieldSelection(a(d.target).parents(".gollum-editor").find(".gollum-editor-body"))), i = g, j = !0, k = null;
            if (null == b && (b = {}), b.exec && "function" == typeof b.exec)return void b.exec(f, g, a(d.target).parents(".gollum-editor").find(".gollum-editor-body"));
            var l = /([^\n]+)/gi;
            if (b.search && "object" == typeof b.search && (e("Replacing search Regex"), l = null, l = new RegExp(b.search), e(l)), e('repText is "' + i + '"'), b.replace && "string" == typeof b.replace) {
                e("Running replacement - using " + b.replace);
                var m = b.replace;
                i = i.replace(l, m), i = i.replace(/\$[\d]/g, ""), "" === i && (e("Search string is empty"), k = m.indexOf("$1"), i = m.replace(/\$[\d]/g, ""), k == -1 && (k = Math.floor(m.length / 2)))
            }
            b.append && "string" == typeof b.append && (i == g && (j = !1), i += b.append), i && h.replaceFieldSelection(a(d.target).parents(".gollum-editor").find(".gollum-editor-body"), i, j, k);
            var n = a(d.target).parents(".gollum-editor-wrap").data("AfterClickFunBar");
            a.isFunction(n) && n(a(d.target).parents(".gollum-editor").find(".gollum-editor-body").val())
        }, getFieldSelectionPosition: function (a) {
            if (a.length) {
                var b = 0, c = 0, d = a.get(0);
                if ("number" == typeof d.selectionStart && "number" == typeof d.selectionEnd)b = d.selectionStart, c = d.selectionEnd; else {
                    var f = document.selection.createRange(), g = f.duplicate();
                    g.moveToElementText(d), g.setEndPoint("EndToEnd", f), b = g.text.length - f.text.length, c = b + f.text.length;
                    var h, i = b, j = 0;
                    for (e("IE: start position is currently " + i), h = 0; h < i; h++)d.value.charAt(h).match(/\r/) && ++j;
                    j && (e("IE start: compensating for " + j + " line breaks"), b -= j, j = 0);
                    var k = c;
                    for (h = 0; h < k; h++)d.value.charAt(h).match(/\r/) && ++j;
                    j && (e("IE end: compensating for " + j + " line breaks"), c -= j)
                }
                return {start: b, end: c}
            }
        }, getFieldSelection: function (a) {
            var b, c = "";
            return !!a.length && (b = h.getFieldSelectionPosition(a), c = a.val().substring(b.start, b.end), e("Selected: " + c + " (" + b.start + ", " + b.end + ")"), c)
        }, isShown: function () {
            return b.find(".gollum-editor-function-bar").is(":visible")
        }, refresh: function () {
            g.functionBar() && (e("Refreshing function bar"), f.isValid() ? (b.find(".gollum-editor-function-bar a.function-button").unbind("click"), h.activate(), j && j.setActiveHelp(f.getActiveLanguage())) : (e("Language definition is invalid."), h.isShown() && h.deactivate(), j.isShown() && j.hide()))
        }, replaceFieldSelection: function (a, b, c, d) {
            var e = h.getFieldSelectionPosition(a), f = a.val(), g = !0;
            c === !1 && (g = !1);
            var i = null;
            if (a[0].scrollTop && (i = a[0].scrollTop), a.val(f.substring(0, e.start) + b + f.substring(e.end)), a[0].focus(), g)if (a[0].setSelectionRange)d ? a[0].setSelectionRange(e.start + d, e.start + d) : a[0].setSelectionRange(e.start, e.start + b.length); else if (a[0].createTextRange) {
                var j = a[0].createTextRange();
                j.collapse(!0), d ? (j.moveEnd(e.start + d), j.moveStart(e.start + d)) : (j.moveEnd("character", e.start + b.length), j.moveStart("character", e.start)), j.select()
            }
            i && (a[0].scrollTop = i)
        }
    }, i = {
        $_SELECTOR: null, evtChangeFormat: function (b) {
            var c = a(this).val();
            f.setActiveLanguage(c)
        }, init: function (a) {
            e("Initializing format selector"), i.$_SELECTOR && "object" == typeof i.$_SELECTOR && i.$_SELECTOR.unbind("change"), i.$_SELECTOR = a, i.updateSelected(), i.$_SELECTOR.change(i.evtChangeFormat)
        }, updateSelected: function () {
            var a = f.getActiveLanguage();
            i.$_SELECTOR.val(a)
        }
    }, j = {
        _ACTIVE_HELP: "", _LOADED_HELP_LANGS: [], _HELP: {}, define: function (b, c) {
            j.isValidHelpFormat(c) ? (e("help is a valid format"), j._ACTIVE_HELP_LANG = b, j._LOADED_HELP_LANGS.push(b), j._HELP[b] = c, a(".function-help").length && (a(".function-help").hasClass("disabled") && a(".function-help").removeClass("disabled"), a(".function-help").unbind("click"), a(".function-help").click(j.evtHelpButtonClick), j.generateHelpMenuFor(b), a(".gollum-editor-help").length && "undefined" != typeof a(".gollum-editor-help").attr("data-autodisplay") && "true" === a(".gollum-editor-help").attr("data-autodisplay") && j.show())) : a(".function-help").length && a(".function-help").addClass("disabled")
        }, generateHelpMenuFor: function (c) {
            if (!j._HELP[c])return e("Help is not defined for " + c.toString()), !1;
            var d = j._HELP[c];
            b.find(".gollum-editor-help-parent").html(""), b.find(".gollum-editor-help-list").html(""), b.find(".gollum-editor-help-content").html("");
            for (var f = 0; f < d.length && "object" == typeof d[f]; f++) {
                var g = a('<li><a href="#" rel="' + f + '">' + d[f].menuName + "</a></li>");
                a(".gollum-editor-help-parent").append(g), 0 === f && g.children("a").addClass("selected"), g.children("a").click(j.evtParentMenuClick)
            }
            j.generateSubMenu(d[0], 0)
        }, generateSubMenu: function (c, d) {
            b.find(".gollum-editor-help-list").html(""), b.find(".gollum-editor-help-content").html("");
            for (var e = 0; e < c.content.length && "object" == typeof c.content[e]; e++) {
                var f = a('<li><a href="#" rel="' + d + ":" + e + '">' + c.content[e].menuName + "</a></li>");
                b.find(".gollum-editor-help-list").append(f), f.children("a").click(j.evtSubMenuClick)
            }
        }, hide: function () {
            kzi.util.isIE() ? b.find(".gollum-editor-help").css("display", "none") : b.find(".gollum-editor-help").animate({opacity: 0}, 200, function () {
                b.find(".gollum-editor-help").animate({height: "hide"}, 200)
            })
        }, show: function () {
            kzi.util.isIE() ? b.find(".gollum-editor-help").css("display", "block") : b.find(".gollum-editor-help").animate({height: "show"}, 200, function () {
                b.find(".gollum-editor-help").animate({opacity: 1}, 300)
            })
        }, showHelpFor: function (a, c) {
            var d = j._HELP[j._ACTIVE_HELP_LANG][a].content[c].data;
            b.find(".gollum-editor-help-content").html(d)
        }, isLoadedFor: function (a) {
            for (var b = 0; b < j._LOADED_HELP_LANGS.length; b++)if (a == j._LOADED_HELP_LANGS[b])return !0;
            return !1
        }, isShown: function () {
            return b.find(".gollum-editor-help").is(":visible")
        }, isValidHelpFormat: function (a) {
            return "object" == typeof a && a.length && "string" == typeof a[0].menuName && "object" == typeof a[0].content && a[0].content.length
        }, setActiveHelp: function (a) {
            j.isLoadedFor(a) ? (j._ACTIVE_HELP_LANG = a, b.find(".function-help").length && (b.find(".function-help").hasClass("disabled") && b.find(".function-help").removeClass("disabled"), b.find(".function-help").unbind("click"), b.find(".function-help").click(j.evtHelpButtonClick), j.generateHelpMenuFor(a))) : (b.find(".function-help").length && b.find(".function-help").addClass("disabled"), j.isShown() && j.hide())
        }, evtHelpButtonClick: function (b) {
            b.preventDefault();
            var c = a(b.target).parents(".gollum-editor");
            j.isShown() ? (c.find(".gollum-editor-help").length && "undefined" !== c.find(".gollum-editor-help").attr("data-autodisplay") && "true" === c.find(".gollum-editor-help").attr("data-autodisplay") && c.find(".gollum-editor-help").attr("data-autodisplay", ""), j.hide()) : j.show()
        }, evtParentMenuClick: function (c) {
            if (c.preventDefault(), !a(this).hasClass("selected")) {
                var d = a(this).attr("rel"), e = j._HELP[j._ACTIVE_HELP_LANG][d];
                a(".gollum-editor-help-parent li a").removeClass("selected"), a(this).addClass("selected"), j.generateSubMenu(e, d), a(b.find(".gollum-editor-help-list li a").get(0)).click()
            }
        }, evtSubMenuClick: function (c) {
            if (c.preventDefault(), !a(this).hasClass("selected")) {
                var d = a(this).attr("rel").split(":");
                b.find(".gollum-editor-help-list li a").removeClass("selected"), a(this).addClass("selected"), j.showHelpFor(d[0], d[1])
            }
        }
    };
    a.GollumEditor.defineHelp = j.define, a.GollumEditor.Dialog = a.GollumDialog, a.GollumEditor.replaceSelection = function (b) {
        h.replaceFieldSelection(a(event.target).parents(".gollum-editor").find(".gollum-editor-body"), b)
    }, a.GollumEditor.FunctionBar = h, a.GollumEditor.Placeholder = a.GollumPlaceholder
}(jQuery), function (a) {
    var b = {
        _PLACEHOLDERS: [], _p: function (b) {
            this.fieldObject = b, this.placeholderText = b.val();
            var c = b.val();
            b.addClass("ph"), b.blur(function () {
                "" == a(this).val() && (a(this).val(c), a(this).addClass("ph"))
            }), b.focus(function () {
                a(this).removeClass("ph"), a(this).val() == c ? a(this).val("") : a(this)[0].select()
            })
        }, add: function (a) {
            b._PLACEHOLDERS.push(new b._p(a))
        }, clearAll: function () {
            for (var a = 0; a < b._PLACEHOLDERS.length; a++)b._PLACEHOLDERS[a].fieldObject.val() == b._PLACEHOLDERS[a].placeholderText && b._PLACEHOLDERS[a].fieldObject.val("")
        }, exists: function () {
            return _PLACEHOLDERS.length
        }
    };
    a.GollumPlaceholder = b
}(jQuery), function (a) {
    var b = {
        "function-bold": {search: /([^\n]+)([\n\s]*)/g, replace: "**$1**$2"},
        "function-italic": {search: /([^\n]+)([\n\s]*)/g, replace: "_$1_$2"},
        "function-code": {search: /(^[\n]+)([\n\s]*)/g, replace: "\n```\n$1\n```$2"},
        "function-hr": {append: "\n***\n"},
        "function-ul": {search: /(.+)([\n]?)/g, replace: "\n* $1$2"},
        "function-ol": {search: /(.+)([\n]?)/g, replace: "\n1. $1$2"},
        "function-blockquote": {search: /(.+)([\n]?)/g, replace: "\n> $1$2"},
        "function-h1": {search: /(.+)([\n]?)/g, replace: "\n# $1$2\n"},
        "function-h2": {search: /(.+)([\n]?)/g, replace: "\n## $1$2\n"},
        "function-h3": {search: /(.+)([\n]?)/g, replace: "\n### $1$2\n"},
        "function-link": {
            exec: function (a, b, c) {
            }
        },
        "function-image": {
            exec: function (a, b, c) {
            }
        },
        "function-emoji": {},
        "function-preview": {},
        "function-linkentity": {
            exec: function (a, b, c) {
            }
        }
    }, c = [{
        menuName: "Block Elements",
        content: [{
            menuName: "Paragraphs &amp; Breaks",
            data: "<p>To create a paragraph, simply create a block of text that is not separated by one or more blank lines. Blocks of text separated by one or more blank lines will be parsed as paragraphs.</p><p>If you want to create a line break, end a line with two or more spaces, then hit Return/Enter.</p>"
        }, {
            menuName: "Headers",
            data: "<p>Markdown supports two header formats. The wiki editor uses the &ldquo;atx&rsquo;-style headers. Simply prefix your header text with the number of <code>#</code> characters to specify heading depth. For example: <code># Header 1</code>, <code>## Header 2</code> and <code>### Header 3</code> will be progressively smaller headers. You may end your headers with any number of hashes.</p>"
        }, {
            menuName: "Blockquotes",
            data: "<p>Markdown creates blockquotes email-style by prefixing each line with the <code>&gt;</code>. This looks best if you decide to hard-wrap text and prefix each line with a <code>&gt;</code> character, but Markdown supports just putting <code>&gt;</code> before your paragraph.</p>"
        }, {
            menuName: "Lists",
            data: "<p>Markdown supports both ordered and unordered lists. To create an ordered list, simply prefix each line with a number (any number will do &mdash; this is why the editor only uses one number.) To create an unordered list, you can prefix each line with <code>*</code>, <code>+</code> or <code>-</code>.</p> List items can contain multiple paragraphs, however each paragraph must be indented by at least 4 spaces or a tab."
        }, {
            menuName: "Code Blocks",
            data: "<p>Markdown wraps code blocks in pre-formatted tags to preserve indentation in your code blocks. To create a code block, indent the entire block by at least 4 spaces or one tab. Markdown will strip the extra indentation you&rsquo;ve added to the code block.</p>"
        }, {
            menuName: "Horizontal Rules",
            data: "Horizontal rules are created by placing three or more hyphens, asterisks or underscores on a line by themselves. Spaces are allowed between the hyphens, asterisks or underscores."
        }]
    }, {
        menuName: "Span Elements",
        content: [{
            menuName: "Links",
            data: "<p>Markdown has two types of links: <strong>inline</strong> and <strong>reference</strong>. For both types of links, the text you want to display to the user is placed in square brackets. For example, if you want your link to display the text &ldquo;GitHub&rdquo;, you write <code>[GitHub]</code>.</p><p>To create an inline link, create a set of parentheses immediately after the brackets and write your URL within the parentheses. (e.g., <code>[GitHub](http://github.com/)</code>). Relative paths are allowed in inline links.</p><p>To create a reference link, use two sets of square brackets. <code>[my internal link][internal-ref]</code> will link to the internal reference <code>internal-ref</code>.</p>"
        }, {
            menuName: "Emphasis",
            data: "<p>Asterisks (<code>*</code>) and underscores (<code>_</code>) are treated as emphasis and are wrapped with an <code>&lt;em&gt;</code> tag, which usually displays as italics in most browsers. Double asterisks (<code>**</code>) or double underscores (<code>__</code>) are treated as bold using the <code>&lt;strong&gt;</code> tag. To create italic or bold text, simply wrap your words in single/double asterisks/underscores. For example, <code>**My double emphasis text**</code> becomes <strong>My double emphasis text</strong>, and <code>*My single emphasis text*</code> becomes <em>My single emphasis text</em>.</p>"
        }, {
            menuName: "Code",
            data: "<p>To create inline spans of code, simply wrap the code in backticks (<code>`</code>). Markdown will turn <code>`myFunction`</code> into <code>myFunction</code>.</p>"
        }, {
            menuName: "Images",
            data: "<p>Markdown image syntax looks a lot like the syntax for links; it is essentially the same syntax preceded by an exclamation point (<code>!</code>). For example, if you want to link to an image at <code>http://github.com/unicorn.png</code> with the alternate text <code>My Unicorn</code>, you would write <code>![My Unicorn](http://github.com/unicorn.png)</code>.</p>"
        }]
    }, {
        menuName: "Miscellaneous",
        content: [{
            menuName: "Automatic Links",
            data: '<p>If you want to create a link that displays the actual URL, markdown allows you to quickly wrap the URL in <code>&lt;</code> and <code>&gt;</code> to do so. For example, the link <a href="javascript:void(0);">http://github.com/</a> is easily produced by writing <code>&lt;http://github.com/&gt;</code>.</p>'
        }, {
            menuName: "Escaping",
            data: "<p>If you want to use a special Markdown character in your document (such as displaying literal asterisks), you can escape the character with the backslash (<code>\\</code>). Markdown will ignore the character directly after a backslash."
        }]
    }];
    a.GollumEditor.defineLanguage("markdown", b), a.GollumEditor.defineHelp("markdown", c)
}(jQuery), function (a, b) {
    "object" == typeof exports && "undefined" != typeof module ? module.exports = b() : "function" == typeof define && define.amd ? define(b) : a.moment = b()
}(this, function () {
    "use strict";
    function a() {
        return Hc.apply(null, arguments)
    }

    function b(a) {
        Hc = a
    }

    function c(a) {
        return "[object Array]" === Object.prototype.toString.call(a)
    }

    function d(a) {
        return a instanceof Date || "[object Date]" === Object.prototype.toString.call(a)
    }

    function e(a, b) {
        var c, d = [];
        for (c = 0; c < a.length; ++c)d.push(b(a[c], c));
        return d
    }

    function f(a, b) {
        return Object.prototype.hasOwnProperty.call(a, b)
    }

    function g(a, b) {
        for (var c in b)f(b, c) && (a[c] = b[c]);
        return f(b, "toString") && (a.toString = b.toString), f(b, "valueOf") && (a.valueOf = b.valueOf), a
    }

    function h(a, b, c, d) {
        return Ca(a, b, c, d, !0).utc()
    }

    function i() {
        return {
            empty: !1,
            unusedTokens: [],
            unusedInput: [],
            overflow: -2,
            charsLeftOver: 0,
            nullInput: !1,
            invalidMonth: null,
            invalidFormat: !1,
            userInvalidated: !1,
            iso: !1
        }
    }

    function j(a) {
        return null == a._pf && (a._pf = i()), a._pf
    }

    function k(a) {
        if (null == a._isValid) {
            var b = j(a);
            a._isValid = !(isNaN(a._d.getTime()) || !(b.overflow < 0) || b.empty || b.invalidMonth || b.invalidWeekday || b.nullInput || b.invalidFormat || b.userInvalidated), a._strict && (a._isValid = a._isValid && 0 === b.charsLeftOver && 0 === b.unusedTokens.length && void 0 === b.bigHour)
        }
        return a._isValid
    }

    function l(a) {
        var b = h(NaN);
        return null != a ? g(j(b), a) : j(b).userInvalidated = !0, b
    }

    function m(a, b) {
        var c, d, e;
        if ("undefined" != typeof b._isAMomentObject && (a._isAMomentObject = b._isAMomentObject), "undefined" != typeof b._i && (a._i = b._i), "undefined" != typeof b._f && (a._f = b._f), "undefined" != typeof b._l && (a._l = b._l), "undefined" != typeof b._strict && (a._strict = b._strict), "undefined" != typeof b._tzm && (a._tzm = b._tzm), "undefined" != typeof b._isUTC && (a._isUTC = b._isUTC), "undefined" != typeof b._offset && (a._offset = b._offset), "undefined" != typeof b._pf && (a._pf = j(b)), "undefined" != typeof b._locale && (a._locale = b._locale), Jc.length > 0)for (c in Jc)d = Jc[c], e = b[d], "undefined" != typeof e && (a[d] = e);
        return a
    }

    function n(b) {
        m(this, b), this._d = new Date(null != b._d ? b._d.getTime() : NaN), Kc === !1 && (Kc = !0, a.updateOffset(this), Kc = !1)
    }

    function o(a) {
        return a instanceof n || null != a && null != a._isAMomentObject
    }

    function p(a) {
        return a < 0 ? Math.ceil(a) : Math.floor(a)
    }

    function q(a) {
        var b = +a, c = 0;
        return 0 !== b && isFinite(b) && (c = p(b)), c
    }

    function r(a, b, c) {
        var d, e = Math.min(a.length, b.length), f = Math.abs(a.length - b.length), g = 0;
        for (d = 0; d < e; d++)(c && a[d] !== b[d] || !c && q(a[d]) !== q(b[d])) && g++;
        return g + f
    }

    function s() {
    }

    function t(a) {
        return a ? a.toLowerCase().replace("_", "-") : a
    }

    function u(a) {
        for (var b, c, d, e, f = 0; f < a.length;) {
            for (e = t(a[f]).split("-"), b = e.length, c = t(a[f + 1]), c = c ? c.split("-") : null; b > 0;) {
                if (d = v(e.slice(0, b).join("-")))return d;
                if (c && c.length >= b && r(e, c, !0) >= b - 1)break;
                b--
            }
            f++
        }
        return null
    }

    function v(a) {
        var b = null;
        if (!Lc[a] && "undefined" != typeof module && module && module.exports)try {
            b = Ic._abbr, require("./locale/" + a), w(b)
        } catch (a) {
        }
        return Lc[a]
    }

    function w(a, b) {
        var c;
        return a && (c = "undefined" == typeof b ? y(a) : x(a, b), c && (Ic = c)), Ic._abbr
    }

    function x(a, b) {
        return null !== b ? (b.abbr = a, Lc[a] = Lc[a] || new s, Lc[a].set(b), w(a), Lc[a]) : (delete Lc[a], null)
    }

    function y(a) {
        var b;
        if (a && a._locale && a._locale._abbr && (a = a._locale._abbr), !a)return Ic;
        if (!c(a)) {
            if (b = v(a))return b;
            a = [a]
        }
        return u(a)
    }

    function z(a, b) {
        var c = a.toLowerCase();
        Mc[c] = Mc[c + "s"] = Mc[b] = a
    }

    function A(a) {
        return "string" == typeof a ? Mc[a] || Mc[a.toLowerCase()] : void 0
    }

    function B(a) {
        var b, c, d = {};
        for (c in a)f(a, c) && (b = A(c), b && (d[b] = a[c]));
        return d
    }

    function C(b, c) {
        return function (d) {
            return null != d ? (E(this, b, d), a.updateOffset(this, c), this) : D(this, b)
        }
    }

    function D(a, b) {
        return a._d["get" + (a._isUTC ? "UTC" : "") + b]()
    }

    function E(a, b, c) {
        return a._d["set" + (a._isUTC ? "UTC" : "") + b](c)
    }

    function F(a, b) {
        var c;
        if ("object" == typeof a)for (c in a)this.set(c, a[c]); else if (a = A(a), "function" == typeof this[a])return this[a](b);
        return this
    }

    function G(a, b, c) {
        var d = "" + Math.abs(a), e = b - d.length, f = a >= 0;
        return (f ? c ? "+" : "" : "-") + Math.pow(10, Math.max(0, e)).toString().substr(1) + d
    }

    function H(a, b, c, d) {
        var e = d;
        "string" == typeof d && (e = function () {
            return this[d]()
        }), a && (Qc[a] = e), b && (Qc[b[0]] = function () {
            return G(e.apply(this, arguments), b[1], b[2])
        }), c && (Qc[c] = function () {
            return this.localeData().ordinal(e.apply(this, arguments), a)
        })
    }

    function I(a) {
        return a.match(/\[[\s\S]/) ? a.replace(/^\[|\]$/g, "") : a.replace(/\\/g, "")
    }

    function J(a) {
        var b, c, d = a.match(Nc);
        for (b = 0, c = d.length; b < c; b++)Qc[d[b]] ? d[b] = Qc[d[b]] : d[b] = I(d[b]);
        return function (e) {
            var f = "";
            for (b = 0; b < c; b++)f += d[b] instanceof Function ? d[b].call(e, a) : d[b];
            return f
        }
    }

    function K(a, b) {
        return a.isValid() ? (b = L(b, a.localeData()), Pc[b] = Pc[b] || J(b), Pc[b](a)) : a.localeData().invalidDate()
    }

    function L(a, b) {
        function c(a) {
            return b.longDateFormat(a) || a
        }

        var d = 5;
        for (Oc.lastIndex = 0; d >= 0 && Oc.test(a);)a = a.replace(Oc, c), Oc.lastIndex = 0, d -= 1;
        return a
    }

    function M(a) {
        return "function" == typeof a && "[object Function]" === Object.prototype.toString.call(a)
    }

    function N(a, b, c) {
        dd[a] = M(b) ? b : function (a) {
            return a && c ? c : b
        }
    }

    function O(a, b) {
        return f(dd, a) ? dd[a](b._strict, b._locale) : new RegExp(P(a))
    }

    function P(a) {
        return a.replace("\\", "").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function (a, b, c, d, e) {
            return b || c || d || e
        }).replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&")
    }

    function Q(a, b) {
        var c, d = b;
        for ("string" == typeof a && (a = [a]), "number" == typeof b && (d = function (a, c) {
            c[b] = q(a)
        }), c = 0; c < a.length; c++)ed[a[c]] = d
    }

    function R(a, b) {
        Q(a, function (a, c, d, e) {
            d._w = d._w || {}, b(a, d._w, d, e)
        })
    }

    function S(a, b, c) {
        null != b && f(ed, a) && ed[a](b, c._a, c, a)
    }

    function T(a, b) {
        return new Date(Date.UTC(a, b + 1, 0)).getUTCDate()
    }

    function U(a) {
        return this._months[a.month()]
    }

    function V(a) {
        return this._monthsShort[a.month()]
    }

    function W(a, b, c) {
        var d, e, f;
        for (this._monthsParse || (this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = []), d = 0; d < 12; d++) {
            if (e = h([2e3, d]), c && !this._longMonthsParse[d] && (this._longMonthsParse[d] = new RegExp("^" + this.months(e, "").replace(".", "") + "$", "i"), this._shortMonthsParse[d] = new RegExp("^" + this.monthsShort(e, "").replace(".", "") + "$", "i")), c || this._monthsParse[d] || (f = "^" + this.months(e, "") + "|^" + this.monthsShort(e, ""), this._monthsParse[d] = new RegExp(f.replace(".", ""), "i")), c && "MMMM" === b && this._longMonthsParse[d].test(a))return d;
            if (c && "MMM" === b && this._shortMonthsParse[d].test(a))return d;
            if (!c && this._monthsParse[d].test(a))return d
        }
    }

    function X(a, b) {
        var c;
        return "string" == typeof b && (b = a.localeData().monthsParse(b), "number" != typeof b) ? a : (c = Math.min(a.date(), T(a.year(), b)), a._d["set" + (a._isUTC ? "UTC" : "") + "Month"](b, c), a)
    }

    function Y(b) {
        return null != b ? (X(this, b), a.updateOffset(this, !0), this) : D(this, "Month")
    }

    function Z() {
        return T(this.year(), this.month())
    }

    function $(a) {
        var b, c = a._a;
        return c && j(a).overflow === -2 && (b = c[gd] < 0 || c[gd] > 11 ? gd : c[hd] < 1 || c[hd] > T(c[fd], c[gd]) ? hd : c[id] < 0 || c[id] > 24 || 24 === c[id] && (0 !== c[jd] || 0 !== c[kd] || 0 !== c[ld]) ? id : c[jd] < 0 || c[jd] > 59 ? jd : c[kd] < 0 || c[kd] > 59 ? kd : c[ld] < 0 || c[ld] > 999 ? ld : -1, j(a)._overflowDayOfYear && (b < fd || b > hd) && (b = hd), j(a).overflow = b), a
    }

    function _(b) {
        a.suppressDeprecationWarnings === !1 && "undefined" != typeof console && console.warn && console.warn("Deprecation warning: " + b)
    }

    function aa(a, b) {
        var c = !0;
        return g(function () {
            return c && (_(a + "\n" + (new Error).stack), c = !1), b.apply(this, arguments)
        }, b)
    }

    function ba(a, b) {
        od[a] || (_(b), od[a] = !0)
    }

    function ca(a) {
        var b, c, d = a._i, e = pd.exec(d);
        if (e) {
            for (j(a).iso = !0, b = 0, c = qd.length; b < c; b++)if (qd[b][1].exec(d)) {
                a._f = qd[b][0];
                break
            }
            for (b = 0, c = rd.length; b < c; b++)if (rd[b][1].exec(d)) {
                a._f += (e[6] || " ") + rd[b][0];
                break
            }
            d.match(ad) && (a._f += "Z"), va(a)
        } else a._isValid = !1
    }

    function da(b) {
        var c = sd.exec(b._i);
        return null !== c ? void(b._d = new Date(+c[1])) : (ca(b), void(b._isValid === !1 && (delete b._isValid, a.createFromInputFallback(b))))
    }

    function ea(a, b, c, d, e, f, g) {
        var h = new Date(a, b, c, d, e, f, g);
        return a < 1970 && h.setFullYear(a), h
    }

    function fa(a) {
        var b = new Date(Date.UTC.apply(null, arguments));
        return a < 1970 && b.setUTCFullYear(a), b
    }

    function ga(a) {
        return ha(a) ? 366 : 365
    }

    function ha(a) {
        return a % 4 === 0 && a % 100 !== 0 || a % 400 === 0
    }

    function ia() {
        return ha(this.year())
    }

    function ja(a, b, c) {
        var d, e = c - b, f = c - a.day();
        return f > e && (f -= 7), f < e - 7 && (f += 7), d = Da(a).add(f, "d"), {
            week: Math.ceil(d.dayOfYear() / 7),
            year: d.year()
        }
    }

    function ka(a) {
        return ja(a, this._week.dow, this._week.doy).week
    }

    function la() {
        return this._week.dow
    }

    function ma() {
        return this._week.doy
    }

    function na(a) {
        var b = this.localeData().week(this);
        return null == a ? b : this.add(7 * (a - b), "d")
    }

    function oa(a) {
        var b = ja(this, 1, 4).week;
        return null == a ? b : this.add(7 * (a - b), "d")
    }

    function pa(a, b, c, d, e) {
        var f, g = 6 + e - d, h = fa(a, 0, 1 + g), i = h.getUTCDay();
        return i < e && (i += 7), c = null != c ? 1 * c : e, f = 1 + g + 7 * (b - 1) - i + c, {
            year: f > 0 ? a : a - 1,
            dayOfYear: f > 0 ? f : ga(a - 1) + f
        }
    }

    function qa(a) {
        var b = Math.round((this.clone().startOf("day") - this.clone().startOf("year")) / 864e5) + 1;
        return null == a ? b : this.add(a - b, "d")
    }

    function ra(a, b, c) {
        return null != a ? a : null != b ? b : c
    }

    function sa(a) {
        var b = new Date;
        return a._useUTC ? [b.getUTCFullYear(), b.getUTCMonth(), b.getUTCDate()] : [b.getFullYear(), b.getMonth(), b.getDate()]
    }

    function ta(a) {
        var b, c, d, e, f = [];
        if (!a._d) {
            for (d = sa(a), a._w && null == a._a[hd] && null == a._a[gd] && ua(a), a._dayOfYear && (e = ra(a._a[fd], d[fd]), a._dayOfYear > ga(e) && (j(a)._overflowDayOfYear = !0), c = fa(e, 0, a._dayOfYear), a._a[gd] = c.getUTCMonth(), a._a[hd] = c.getUTCDate()), b = 0; b < 3 && null == a._a[b]; ++b)a._a[b] = f[b] = d[b];
            for (; b < 7; b++)a._a[b] = f[b] = null == a._a[b] ? 2 === b ? 1 : 0 : a._a[b];
            24 === a._a[id] && 0 === a._a[jd] && 0 === a._a[kd] && 0 === a._a[ld] && (a._nextDay = !0, a._a[id] = 0), a._d = (a._useUTC ? fa : ea).apply(null, f), null != a._tzm && a._d.setUTCMinutes(a._d.getUTCMinutes() - a._tzm), a._nextDay && (a._a[id] = 24)
        }
    }

    function ua(a) {
        var b, c, d, e, f, g, h;
        b = a._w, null != b.GG || null != b.W || null != b.E ? (f = 1, g = 4, c = ra(b.GG, a._a[fd], ja(Da(), 1, 4).year), d = ra(b.W, 1), e = ra(b.E, 1)) : (f = a._locale._week.dow, g = a._locale._week.doy, c = ra(b.gg, a._a[fd], ja(Da(), f, g).year), d = ra(b.w, 1), null != b.d ? (e = b.d, e < f && ++d) : e = null != b.e ? b.e + f : f), h = pa(c, d, e, g, f), a._a[fd] = h.year, a._dayOfYear = h.dayOfYear
    }

    function va(b) {
        if (b._f === a.ISO_8601)return void ca(b);
        b._a = [], j(b).empty = !0;
        var c, d, e, f, g, h = "" + b._i, i = h.length, k = 0;
        for (e = L(b._f, b._locale).match(Nc) || [], c = 0; c < e.length; c++)f = e[c], d = (h.match(O(f, b)) || [])[0], d && (g = h.substr(0, h.indexOf(d)), g.length > 0 && j(b).unusedInput.push(g), h = h.slice(h.indexOf(d) + d.length), k += d.length), Qc[f] ? (d ? j(b).empty = !1 : j(b).unusedTokens.push(f), S(f, d, b)) : b._strict && !d && j(b).unusedTokens.push(f);
        j(b).charsLeftOver = i - k, h.length > 0 && j(b).unusedInput.push(h), j(b).bigHour === !0 && b._a[id] <= 12 && b._a[id] > 0 && (j(b).bigHour = void 0), b._a[id] = wa(b._locale, b._a[id], b._meridiem), ta(b), $(b)
    }

    function wa(a, b, c) {
        var d;
        return null == c ? b : null != a.meridiemHour ? a.meridiemHour(b, c) : null != a.isPM ? (d = a.isPM(c), d && b < 12 && (b += 12), d || 12 !== b || (b = 0), b) : b
    }

    function xa(a) {
        var b, c, d, e, f;
        if (0 === a._f.length)return j(a).invalidFormat = !0, void(a._d = new Date(NaN));
        for (e = 0; e < a._f.length; e++)f = 0, b = m({}, a), null != a._useUTC && (b._useUTC = a._useUTC), b._f = a._f[e], va(b), k(b) && (f += j(b).charsLeftOver, f += 10 * j(b).unusedTokens.length, j(b).score = f, (null == d || f < d) && (d = f, c = b));
        g(a, c || b)
    }

    function ya(a) {
        if (!a._d) {
            var b = B(a._i);
            a._a = [b.year, b.month, b.day || b.date, b.hour, b.minute, b.second, b.millisecond], ta(a)
        }
    }

    function za(a) {
        var b = new n($(Aa(a)));
        return b._nextDay && (b.add(1, "d"), b._nextDay = void 0), b
    }

    function Aa(a) {
        var b = a._i, e = a._f;
        return a._locale = a._locale || y(a._l), null === b || void 0 === e && "" === b ? l({nullInput: !0}) : ("string" == typeof b && (a._i = b = a._locale.preparse(b)), o(b) ? new n($(b)) : (c(e) ? xa(a) : e ? va(a) : d(b) ? a._d = b : Ba(a), a))
    }

    function Ba(b) {
        var f = b._i;
        void 0 === f ? b._d = new Date : d(f) ? b._d = new Date(+f) : "string" == typeof f ? da(b) : c(f) ? (b._a = e(f.slice(0), function (a) {
            return parseInt(a, 10)
        }), ta(b)) : "object" == typeof f ? ya(b) : "number" == typeof f ? b._d = new Date(f) : a.createFromInputFallback(b)
    }

    function Ca(a, b, c, d, e) {
        var f = {};
        return "boolean" == typeof c && (d = c, c = void 0), f._isAMomentObject = !0, f._useUTC = f._isUTC = e, f._l = c, f._i = a, f._f = b, f._strict = d, za(f)
    }

    function Da(a, b, c, d) {
        return Ca(a, b, c, d, !1)
    }

    function Ea(a, b) {
        var d, e;
        if (1 === b.length && c(b[0]) && (b = b[0]), !b.length)return Da();
        for (d = b[0], e = 1; e < b.length; ++e)b[e].isValid() && !b[e][a](d) || (d = b[e]);
        return d
    }

    function Fa() {
        var a = [].slice.call(arguments, 0);
        return Ea("isBefore", a)
    }

    function Ga() {
        var a = [].slice.call(arguments, 0);
        return Ea("isAfter", a)
    }

    function Ha(a) {
        var b = B(a), c = b.year || 0, d = b.quarter || 0, e = b.month || 0, f = b.week || 0, g = b.day || 0, h = b.hour || 0, i = b.minute || 0, j = b.second || 0, k = b.millisecond || 0;
        this._milliseconds = +k + 1e3 * j + 6e4 * i + 36e5 * h, this._days = +g + 7 * f, this._months = +e + 3 * d + 12 * c, this._data = {}, this._locale = y(), this._bubble()
    }

    function Ia(a) {
        return a instanceof Ha
    }

    function Ja(a, b) {
        H(a, 0, 0, function () {
            var a = this.utcOffset(), c = "+";
            return a < 0 && (a = -a, c = "-"), c + G(~~(a / 60), 2) + b + G(~~a % 60, 2)
        })
    }

    function Ka(a) {
        var b = (a || "").match(ad) || [], c = b[b.length - 1] || [], d = (c + "").match(xd) || ["-", 0, 0], e = +(60 * d[1]) + q(d[2]);
        return "+" === d[0] ? e : -e
    }

    function La(b, c) {
        var e, f;
        return c._isUTC ? (e = c.clone(), f = (o(b) || d(b) ? +b : +Da(b)) - +e, e._d.setTime(+e._d + f), a.updateOffset(e, !1), e) : Da(b).local()
    }

    function Ma(a) {
        return 15 * -Math.round(a._d.getTimezoneOffset() / 15)
    }

    function Na(b, c) {
        var d, e = this._offset || 0;
        return null != b ? ("string" == typeof b && (b = Ka(b)), Math.abs(b) < 16 && (b = 60 * b), !this._isUTC && c && (d = Ma(this)), this._offset = b, this._isUTC = !0, null != d && this.add(d, "m"), e !== b && (!c || this._changeInProgress ? bb(this, Ya(b - e, "m"), 1, !1) : this._changeInProgress || (this._changeInProgress = !0, a.updateOffset(this, !0), this._changeInProgress = null)), this) : this._isUTC ? e : Ma(this)
    }

    function Oa(a, b) {
        return null != a ? ("string" != typeof a && (a = -a), this.utcOffset(a, b), this) : -this.utcOffset()
    }

    function Pa(a) {
        return this.utcOffset(0, a)
    }

    function Qa(a) {
        return this._isUTC && (this.utcOffset(0, a), this._isUTC = !1, a && this.subtract(Ma(this), "m")), this
    }

    function Ra() {
        return this._tzm ? this.utcOffset(this._tzm) : "string" == typeof this._i && this.utcOffset(Ka(this._i)), this
    }

    function Sa(a) {
        return a = a ? Da(a).utcOffset() : 0, (this.utcOffset() - a) % 60 === 0
    }

    function Ta() {
        return this.utcOffset() > this.clone().month(0).utcOffset() || this.utcOffset() > this.clone().month(5).utcOffset()
    }

    function Ua() {
        if ("undefined" != typeof this._isDSTShifted)return this._isDSTShifted;
        var a = {};
        if (m(a, this), a = Aa(a), a._a) {
            var b = a._isUTC ? h(a._a) : Da(a._a);
            this._isDSTShifted = this.isValid() && r(a._a, b.toArray()) > 0
        } else this._isDSTShifted = !1;
        return this._isDSTShifted
    }

    function Va() {
        return !this._isUTC
    }

    function Wa() {
        return this._isUTC
    }

    function Xa() {
        return this._isUTC && 0 === this._offset
    }

    function Ya(a, b) {
        var c, d, e, g = a, h = null;
        return Ia(a) ? g = {
            ms: a._milliseconds,
            d: a._days,
            M: a._months
        } : "number" == typeof a ? (g = {}, b ? g[b] = a : g.milliseconds = a) : (h = yd.exec(a)) ? (c = "-" === h[1] ? -1 : 1, g = {
            y: 0,
            d: q(h[hd]) * c,
            h: q(h[id]) * c,
            m: q(h[jd]) * c,
            s: q(h[kd]) * c,
            ms: q(h[ld]) * c
        }) : (h = zd.exec(a)) ? (c = "-" === h[1] ? -1 : 1, g = {
            y: Za(h[2], c),
            M: Za(h[3], c),
            d: Za(h[4], c),
            h: Za(h[5], c),
            m: Za(h[6], c),
            s: Za(h[7], c),
            w: Za(h[8], c)
        }) : null == g ? g = {} : "object" == typeof g && ("from" in g || "to" in g) && (e = _a(Da(g.from), Da(g.to)), g = {}, g.ms = e.milliseconds, g.M = e.months), d = new Ha(g), Ia(a) && f(a, "_locale") && (d._locale = a._locale), d
    }

    function Za(a, b) {
        var c = a && parseFloat(a.replace(",", "."));
        return (isNaN(c) ? 0 : c) * b
    }

    function $a(a, b) {
        var c = {milliseconds: 0, months: 0};
        return c.months = b.month() - a.month() + 12 * (b.year() - a.year()), a.clone().add(c.months, "M").isAfter(b) && --c.months, c.milliseconds = +b - +a.clone().add(c.months, "M"), c
    }

    function _a(a, b) {
        var c;
        return b = La(b, a), a.isBefore(b) ? c = $a(a, b) : (c = $a(b, a), c.milliseconds = -c.milliseconds, c.months = -c.months), c
    }

    function ab(a, b) {
        return function (c, d) {
            var e, f;
            return null === d || isNaN(+d) || (ba(b, "moment()." + b + "(period, number) is deprecated. Please use moment()." + b + "(number, period)."), f = c, c = d, d = f), c = "string" == typeof c ? +c : c, e = Ya(c, d), bb(this, e, a), this
        }
    }

    function bb(b, c, d, e) {
        var f = c._milliseconds, g = c._days, h = c._months;
        e = null == e || e, f && b._d.setTime(+b._d + f * d), g && E(b, "Date", D(b, "Date") + g * d), h && X(b, D(b, "Month") + h * d), e && a.updateOffset(b, g || h)
    }

    function cb(a, b) {
        var c = a || Da(), d = La(c, this).startOf("day"), e = this.diff(d, "days", !0), f = e < -6 ? "sameElse" : e < -1 ? "lastWeek" : e < 0 ? "lastDay" : e < 1 ? "sameDay" : e < 2 ? "nextDay" : e < 7 ? "nextWeek" : "sameElse";
        return this.format(b && b[f] || this.localeData().calendar(f, this, Da(c)))
    }

    function db() {
        return new n(this)
    }

    function eb(a, b) {
        var c;
        return b = A("undefined" != typeof b ? b : "millisecond"), "millisecond" === b ? (a = o(a) ? a : Da(a), +this > +a) : (c = o(a) ? +a : +Da(a), c < +this.clone().startOf(b))
    }

    function fb(a, b) {
        var c;
        return b = A("undefined" != typeof b ? b : "millisecond"), "millisecond" === b ? (a = o(a) ? a : Da(a), +this < +a) : (c = o(a) ? +a : +Da(a), +this.clone().endOf(b) < c)
    }

    function gb(a, b, c) {
        return this.isAfter(a, c) && this.isBefore(b, c)
    }

    function hb(a, b) {
        var c;
        return b = A(b || "millisecond"), "millisecond" === b ? (a = o(a) ? a : Da(a), +this === +a) : (c = +Da(a), +this.clone().startOf(b) <= c && c <= +this.clone().endOf(b))
    }

    function ib(a, b, c) {
        var d, e, f = La(a, this), g = 6e4 * (f.utcOffset() - this.utcOffset());
        return b = A(b), "year" === b || "month" === b || "quarter" === b ? (e = jb(this, f), "quarter" === b ? e /= 3 : "year" === b && (e /= 12)) : (d = this - f, e = "second" === b ? d / 1e3 : "minute" === b ? d / 6e4 : "hour" === b ? d / 36e5 : "day" === b ? (d - g) / 864e5 : "week" === b ? (d - g) / 6048e5 : d), c ? e : p(e)
    }

    function jb(a, b) {
        var c, d, e = 12 * (b.year() - a.year()) + (b.month() - a.month()), f = a.clone().add(e, "months");
        return b - f < 0 ? (c = a.clone().add(e - 1, "months"), d = (b - f) / (f - c)) : (c = a.clone().add(e + 1, "months"), d = (b - f) / (c - f)), -(e + d)
    }

    function kb() {
        return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")
    }

    function lb() {
        var a = this.clone().utc();
        return 0 < a.year() && a.year() <= 9999 ? "function" == typeof Date.prototype.toISOString ? this.toDate().toISOString() : K(a, "YYYY-MM-DD[T]HH:mm:ss.SSS[Z]") : K(a, "YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")
    }

    function mb(b) {
        var c = K(this, b || a.defaultFormat);
        return this.localeData().postformat(c)
    }

    function nb(a, b) {
        return this.isValid() ? Ya({
            to: this,
            from: a
        }).locale(this.locale()).humanize(!b) : this.localeData().invalidDate()
    }

    function ob(a) {
        return this.from(Da(), a)
    }

    function pb(a, b) {
        return this.isValid() ? Ya({
            from: this,
            to: a
        }).locale(this.locale()).humanize(!b) : this.localeData().invalidDate()
    }

    function qb(a) {
        return this.to(Da(), a)
    }

    function rb(a) {
        var b;
        return void 0 === a ? this._locale._abbr : (b = y(a), null != b && (this._locale = b), this)
    }

    function sb() {
        return this._locale
    }

    function tb(a) {
        switch (a = A(a)) {
            case"year":
                this.month(0);
            case"quarter":
            case"month":
                this.date(1);
            case"week":
            case"isoWeek":
            case"day":
                this.hours(0);
            case"hour":
                this.minutes(0);
            case"minute":
                this.seconds(0);
            case"second":
                this.milliseconds(0)
        }
        return "week" === a && this.weekday(0), "isoWeek" === a && this.isoWeekday(1), "quarter" === a && this.month(3 * Math.floor(this.month() / 3)), this
    }

    function ub(a) {
        return a = A(a), void 0 === a || "millisecond" === a ? this : this.startOf(a).add(1, "isoWeek" === a ? "week" : a).subtract(1, "ms")
    }

    function vb() {
        return +this._d - 6e4 * (this._offset || 0)
    }

    function wb() {
        return Math.floor(+this / 1e3)
    }

    function xb() {
        return this._offset ? new Date(+this) : this._d
    }

    function yb() {
        var a = this;
        return [a.year(), a.month(), a.date(), a.hour(), a.minute(), a.second(), a.millisecond()]
    }

    function zb() {
        var a = this;
        return {
            years: a.year(),
            months: a.month(),
            date: a.date(),
            hours: a.hours(),
            minutes: a.minutes(),
            seconds: a.seconds(),
            milliseconds: a.milliseconds()
        }
    }

    function Ab() {
        return k(this)
    }

    function Bb() {
        return g({}, j(this))
    }

    function Cb() {
        return j(this).overflow
    }

    function Db(a, b) {
        H(0, [a, a.length], 0, b)
    }

    function Eb(a, b, c) {
        return ja(Da([a, 11, 31 + b - c]), b, c).week
    }

    function Fb(a) {
        var b = ja(this, this.localeData()._week.dow, this.localeData()._week.doy).year;
        return null == a ? b : this.add(a - b, "y")
    }

    function Gb(a) {
        var b = ja(this, 1, 4).year;
        return null == a ? b : this.add(a - b, "y")
    }

    function Hb() {
        return Eb(this.year(), 1, 4)
    }

    function Ib() {
        var a = this.localeData()._week;
        return Eb(this.year(), a.dow, a.doy)
    }

    function Jb(a) {
        return null == a ? Math.ceil((this.month() + 1) / 3) : this.month(3 * (a - 1) + this.month() % 3)
    }

    function Kb(a, b) {
        return "string" != typeof a ? a : isNaN(a) ? (a = b.weekdaysParse(a), "number" == typeof a ? a : null) : parseInt(a, 10)
    }

    function Lb(a) {
        return this._weekdays[a.day()]
    }

    function Mb(a) {
        return this._weekdaysShort[a.day()]
    }

    function Nb(a) {
        return this._weekdaysMin[a.day()]
    }

    function Ob(a) {
        var b, c, d;
        for (this._weekdaysParse = this._weekdaysParse || [], b = 0; b < 7; b++)if (this._weekdaysParse[b] || (c = Da([2e3, 1]).day(b), d = "^" + this.weekdays(c, "") + "|^" + this.weekdaysShort(c, "") + "|^" + this.weekdaysMin(c, ""), this._weekdaysParse[b] = new RegExp(d.replace(".", ""), "i")), this._weekdaysParse[b].test(a))return b
    }

    function Pb(a) {
        var b = this._isUTC ? this._d.getUTCDay() : this._d.getDay();
        return null != a ? (a = Kb(a, this.localeData()), this.add(a - b, "d")) : b
    }

    function Qb(a) {
        var b = (this.day() + 7 - this.localeData()._week.dow) % 7;
        return null == a ? b : this.add(a - b, "d")
    }

    function Rb(a) {
        return null == a ? this.day() || 7 : this.day(this.day() % 7 ? a : a - 7)
    }

    function Sb(a, b) {
        H(a, 0, 0, function () {
            return this.localeData().meridiem(this.hours(), this.minutes(), b)
        })
    }

    function Tb(a, b) {
        return b._meridiemParse
    }

    function Ub(a) {
        return "p" === (a + "").toLowerCase().charAt(0)
    }

    function Vb(a, b, c) {
        return a > 11 ? c ? "pm" : "PM" : c ? "am" : "AM"
    }

    function Wb(a, b) {
        b[ld] = q(1e3 * ("0." + a))
    }

    function Xb() {
        return this._isUTC ? "UTC" : ""
    }

    function Yb() {
        return this._isUTC ? "Coordinated Universal Time" : ""
    }

    function Zb(a) {
        return Da(1e3 * a)
    }

    function $b() {
        return Da.apply(null, arguments).parseZone()
    }

    function _b(a, b, c) {
        var d = this._calendar[a];
        return "function" == typeof d ? d.call(b, c) : d
    }

    function ac(a) {
        var b = this._longDateFormat[a], c = this._longDateFormat[a.toUpperCase()];
        return b || !c ? b : (this._longDateFormat[a] = c.replace(/MMMM|MM|DD|dddd/g, function (a) {
            return a.slice(1)
        }), this._longDateFormat[a])
    }

    function bc() {
        return this._invalidDate
    }

    function cc(a) {
        return this._ordinal.replace("%d", a)
    }

    function dc(a) {
        return a
    }

    function ec(a, b, c, d) {
        var e = this._relativeTime[c];
        return "function" == typeof e ? e(a, b, c, d) : e.replace(/%d/i, a)
    }

    function fc(a, b) {
        var c = this._relativeTime[a > 0 ? "future" : "past"];
        return "function" == typeof c ? c(b) : c.replace(/%s/i, b)
    }

    function gc(a) {
        var b, c;
        for (c in a)b = a[c], "function" == typeof b ? this[c] = b : this["_" + c] = b;
        this._ordinalParseLenient = new RegExp(this._ordinalParse.source + "|" + /\d{1,2}/.source)
    }

    function hc(a, b, c, d) {
        var e = y(), f = h().set(d, b);
        return e[c](f, a)
    }

    function ic(a, b, c, d, e) {
        if ("number" == typeof a && (b = a, a = void 0), a = a || "", null != b)return hc(a, b, c, e);
        var f, g = [];
        for (f = 0; f < d; f++)g[f] = hc(a, f, c, e);
        return g
    }

    function jc(a, b) {
        return ic(a, b, "months", 12, "month")
    }

    function kc(a, b) {
        return ic(a, b, "monthsShort", 12, "month")
    }

    function lc(a, b) {
        return ic(a, b, "weekdays", 7, "day")
    }

    function mc(a, b) {
        return ic(a, b, "weekdaysShort", 7, "day")
    }

    function nc(a, b) {
        return ic(a, b, "weekdaysMin", 7, "day")
    }

    function oc() {
        var a = this._data;
        return this._milliseconds = Wd(this._milliseconds), this._days = Wd(this._days), this._months = Wd(this._months), a.milliseconds = Wd(a.milliseconds), a.seconds = Wd(a.seconds), a.minutes = Wd(a.minutes), a.hours = Wd(a.hours), a.months = Wd(a.months), a.years = Wd(a.years), this
    }

    function pc(a, b, c, d) {
        var e = Ya(b, c);
        return a._milliseconds += d * e._milliseconds, a._days += d * e._days, a._months += d * e._months, a._bubble()
    }

    function qc(a, b) {
        return pc(this, a, b, 1)
    }

    function rc(a, b) {
        return pc(this, a, b, -1)
    }

    function sc(a) {
        return a < 0 ? Math.floor(a) : Math.ceil(a)
    }

    function tc() {
        var a, b, c, d, e, f = this._milliseconds, g = this._days, h = this._months, i = this._data;
        return f >= 0 && g >= 0 && h >= 0 || f <= 0 && g <= 0 && h <= 0 || (f += 864e5 * sc(vc(h) + g), g = 0, h = 0), i.milliseconds = f % 1e3, a = p(f / 1e3), i.seconds = a % 60, b = p(a / 60), i.minutes = b % 60, c = p(b / 60), i.hours = c % 24, g += p(c / 24), e = p(uc(g)), h += e, g -= sc(vc(e)), d = p(h / 12), h %= 12, i.days = g, i.months = h, i.years = d, this
    }

    function uc(a) {
        return 4800 * a / 146097
    }

    function vc(a) {
        return 146097 * a / 4800
    }

    function wc(a) {
        var b, c, d = this._milliseconds;
        if (a = A(a), "month" === a || "year" === a)return b = this._days + d / 864e5, c = this._months + uc(b), "month" === a ? c : c / 12;
        switch (b = this._days + Math.round(vc(this._months)), a) {
            case"week":
                return b / 7 + d / 6048e5;
            case"day":
                return b + d / 864e5;
            case"hour":
                return 24 * b + d / 36e5;
            case"minute":
                return 1440 * b + d / 6e4;
            case"second":
                return 86400 * b + d / 1e3;
            case"millisecond":
                return Math.floor(864e5 * b) + d;
            default:
                throw new Error("Unknown unit " + a)
        }
    }

    function xc() {
        return this._milliseconds + 864e5 * this._days + this._months % 12 * 2592e6 + 31536e6 * q(this._months / 12)
    }

    function yc(a) {
        return function () {
            return this.as(a)
        }
    }

    function zc(a) {
        return a = A(a), this[a + "s"]()
    }

    function Ac(a) {
        return function () {
            return this._data[a]
        }
    }

    function Bc() {
        return p(this.days() / 7)
    }

    function Cc(a, b, c, d, e) {
        return e.relativeTime(b || 1, !!c, a, d)
    }

    function Dc(a, b, c) {
        var d = Ya(a).abs(), e = ke(d.as("s")), f = ke(d.as("m")), g = ke(d.as("h")), h = ke(d.as("d")), i = ke(d.as("M")), j = ke(d.as("y")), k = e < le.s && ["s", e] || 1 === f && ["m"] || f < le.m && ["mm", f] || 1 === g && ["h"] || g < le.h && ["hh", g] || 1 === h && ["d"] || h < le.d && ["dd", h] || 1 === i && ["M"] || i < le.M && ["MM", i] || 1 === j && ["y"] || ["yy", j];
        return k[2] = b, k[3] = +a > 0, k[4] = c, Cc.apply(null, k)
    }

    function Ec(a, b) {
        return void 0 !== le[a] && (void 0 === b ? le[a] : (le[a] = b, !0))
    }

    function Fc(a) {
        var b = this.localeData(), c = Dc(this, !a, b);
        return a && (c = b.pastFuture(+this, c)), b.postformat(c)
    }

    function Gc() {
        var a, b, c, d = me(this._milliseconds) / 1e3, e = me(this._days), f = me(this._months);
        a = p(d / 60), b = p(a / 60), d %= 60, a %= 60, c = p(f / 12), f %= 12;
        var g = c, h = f, i = e, j = b, k = a, l = d, m = this.asSeconds();
        return m ? (m < 0 ? "-" : "") + "P" + (g ? g + "Y" : "") + (h ? h + "M" : "") + (i ? i + "D" : "") + (j || k || l ? "T" : "") + (j ? j + "H" : "") + (k ? k + "M" : "") + (l ? l + "S" : "") : "P0D"
    }

    var Hc, Ic, Jc = a.momentProperties = [], Kc = !1, Lc = {}, Mc = {}, Nc = /(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g, Oc = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g, Pc = {}, Qc = {}, Rc = /\d/, Sc = /\d\d/, Tc = /\d{3}/, Uc = /\d{4}/, Vc = /[+-]?\d{6}/, Wc = /\d\d?/, Xc = /\d{1,3}/, Yc = /\d{1,4}/, Zc = /[+-]?\d{1,6}/, $c = /\d+/, _c = /[+-]?\d+/, ad = /Z|[+-]\d\d:?\d\d/gi, bd = /[+-]?\d+(\.\d{1,3})?/, cd = /[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i, dd = {}, ed = {}, fd = 0, gd = 1, hd = 2, id = 3, jd = 4, kd = 5, ld = 6;
    H("M", ["MM", 2], "Mo", function () {
        return this.month() + 1
    }), H("MMM", 0, 0, function (a) {
        return this.localeData().monthsShort(this, a)
    }), H("MMMM", 0, 0, function (a) {
        return this.localeData().months(this, a)
    }), z("month", "M"), N("M", Wc), N("MM", Wc, Sc), N("MMM", cd), N("MMMM", cd), Q(["M", "MM"], function (a, b) {
        b[gd] = q(a) - 1
    }), Q(["MMM", "MMMM"], function (a, b, c, d) {
        var e = c._locale.monthsParse(a, d, c._strict);
        null != e ? b[gd] = e : j(c).invalidMonth = a
    });
    var md = "January_February_March_April_May_June_July_August_September_October_November_December".split("_"), nd = "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"), od = {};
    a.suppressDeprecationWarnings = !1;
    var pd = /^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/, qd = [["YYYYYY-MM-DD", /[+-]\d{6}-\d{2}-\d{2}/], ["YYYY-MM-DD", /\d{4}-\d{2}-\d{2}/], ["GGGG-[W]WW-E", /\d{4}-W\d{2}-\d/], ["GGGG-[W]WW", /\d{4}-W\d{2}/], ["YYYY-DDD", /\d{4}-\d{3}/]], rd = [["HH:mm:ss.SSSS", /(T| )\d\d:\d\d:\d\d\.\d+/], ["HH:mm:ss", /(T| )\d\d:\d\d:\d\d/], ["HH:mm", /(T| )\d\d:\d\d/], ["HH", /(T| )\d\d/]], sd = /^\/?Date\((\-?\d+)/i;
    a.createFromInputFallback = aa("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.", function (a) {
        a._d = new Date(a._i + (a._useUTC ? " UTC" : ""))
    }), H(0, ["YY", 2], 0, function () {
        return this.year() % 100
    }), H(0, ["YYYY", 4], 0, "year"), H(0, ["YYYYY", 5], 0, "year"), H(0, ["YYYYYY", 6, !0], 0, "year"), z("year", "y"), N("Y", _c), N("YY", Wc, Sc), N("YYYY", Yc, Uc), N("YYYYY", Zc, Vc), N("YYYYYY", Zc, Vc), Q(["YYYYY", "YYYYYY"], fd), Q("YYYY", function (b, c) {
        c[fd] = 2 === b.length ? a.parseTwoDigitYear(b) : q(b)
    }), Q("YY", function (b, c) {
        c[fd] = a.parseTwoDigitYear(b)
    }), a.parseTwoDigitYear = function (a) {
        return q(a) + (q(a) > 68 ? 1900 : 2e3)
    };
    var td = C("FullYear", !1);
    H("w", ["ww", 2], "wo", "week"), H("W", ["WW", 2], "Wo", "isoWeek"), z("week", "w"), z("isoWeek", "W"), N("w", Wc), N("ww", Wc, Sc), N("W", Wc), N("WW", Wc, Sc), R(["w", "ww", "W", "WW"], function (a, b, c, d) {
        b[d.substr(0, 1)] = q(a)
    });
    var ud = {dow: 0, doy: 6};
    H("DDD", ["DDDD", 3], "DDDo", "dayOfYear"), z("dayOfYear", "DDD"), N("DDD", Xc), N("DDDD", Tc), Q(["DDD", "DDDD"], function (a, b, c) {
        c._dayOfYear = q(a)
    }), a.ISO_8601 = function () {
    };
    var vd = aa("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548", function () {
        var a = Da.apply(null, arguments);
        return a < this ? this : a
    }), wd = aa("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548", function () {
        var a = Da.apply(null, arguments);
        return a > this ? this : a
    });
    Ja("Z", ":"), Ja("ZZ", ""), N("Z", ad), N("ZZ", ad), Q(["Z", "ZZ"], function (a, b, c) {
        c._useUTC = !0, c._tzm = Ka(a)
    });
    var xd = /([\+\-]|\d\d)/gi;
    a.updateOffset = function () {
    };
    var yd = /(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/, zd = /^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;
    Ya.fn = Ha.prototype;
    var Ad = ab(1, "add"), Bd = ab(-1, "subtract");
    a.defaultFormat = "YYYY-MM-DDTHH:mm:ssZ";
    var Cd = aa("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.", function (a) {
        return void 0 === a ? this.localeData() : this.locale(a)
    });
    H(0, ["gg", 2], 0, function () {
        return this.weekYear() % 100
    }), H(0, ["GG", 2], 0, function () {
        return this.isoWeekYear() % 100
    }), Db("gggg", "weekYear"), Db("ggggg", "weekYear"), Db("GGGG", "isoWeekYear"), Db("GGGGG", "isoWeekYear"), z("weekYear", "gg"), z("isoWeekYear", "GG"), N("G", _c), N("g", _c), N("GG", Wc, Sc), N("gg", Wc, Sc), N("GGGG", Yc, Uc), N("gggg", Yc, Uc), N("GGGGG", Zc, Vc), N("ggggg", Zc, Vc), R(["gggg", "ggggg", "GGGG", "GGGGG"], function (a, b, c, d) {
        b[d.substr(0, 2)] = q(a)
    }), R(["gg", "GG"], function (b, c, d, e) {
        c[e] = a.parseTwoDigitYear(b)
    }), H("Q", 0, 0, "quarter"), z("quarter", "Q"), N("Q", Rc), Q("Q", function (a, b) {
        b[gd] = 3 * (q(a) - 1)
    }), H("D", ["DD", 2], "Do", "date"), z("date", "D"), N("D", Wc), N("DD", Wc, Sc), N("Do", function (a, b) {
        return a ? b._ordinalParse : b._ordinalParseLenient
    }), Q(["D", "DD"], hd), Q("Do", function (a, b) {
        b[hd] = q(a.match(Wc)[0], 10)
    });
    var Dd = C("Date", !0);
    H("d", 0, "do", "day"), H("dd", 0, 0, function (a) {
        return this.localeData().weekdaysMin(this, a)
    }), H("ddd", 0, 0, function (a) {
        return this.localeData().weekdaysShort(this, a)
    }), H("dddd", 0, 0, function (a) {
        return this.localeData().weekdays(this, a)
    }), H("e", 0, 0, "weekday"), H("E", 0, 0, "isoWeekday"), z("day", "d"), z("weekday", "e"), z("isoWeekday", "E"), N("d", Wc), N("e", Wc), N("E", Wc), N("dd", cd), N("ddd", cd), N("dddd", cd), R(["dd", "ddd", "dddd"], function (a, b, c) {
        var d = c._locale.weekdaysParse(a);
        null != d ? b.d = d : j(c).invalidWeekday = a
    }), R(["d", "e", "E"], function (a, b, c, d) {
        b[d] = q(a)
    });
    var Ed = "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"), Fd = "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"), Gd = "Su_Mo_Tu_We_Th_Fr_Sa".split("_");
    H("H", ["HH", 2], 0, "hour"), H("h", ["hh", 2], 0, function () {
        return this.hours() % 12 || 12
    }), Sb("a", !0), Sb("A", !1), z("hour", "h"), N("a", Tb), N("A", Tb), N("H", Wc), N("h", Wc), N("HH", Wc, Sc), N("hh", Wc, Sc), Q(["H", "HH"], id), Q(["a", "A"], function (a, b, c) {
        c._isPm = c._locale.isPM(a), c._meridiem = a
    }), Q(["h", "hh"], function (a, b, c) {
        b[id] = q(a), j(c).bigHour = !0
    });
    var Hd = /[ap]\.?m?\.?/i, Id = C("Hours", !0);
    H("m", ["mm", 2], 0, "minute"), z("minute", "m"), N("m", Wc), N("mm", Wc, Sc), Q(["m", "mm"], jd);
    var Jd = C("Minutes", !1);
    H("s", ["ss", 2], 0, "second"), z("second", "s"), N("s", Wc), N("ss", Wc, Sc), Q(["s", "ss"], kd);
    var Kd = C("Seconds", !1);
    H("S", 0, 0, function () {
        return ~~(this.millisecond() / 100)
    }), H(0, ["SS", 2], 0, function () {
        return ~~(this.millisecond() / 10)
    }), H(0, ["SSS", 3], 0, "millisecond"), H(0, ["SSSS", 4], 0, function () {
        return 10 * this.millisecond()
    }), H(0, ["SSSSS", 5], 0, function () {
        return 100 * this.millisecond()
    }), H(0, ["SSSSSS", 6], 0, function () {
        return 1e3 * this.millisecond()
    }), H(0, ["SSSSSSS", 7], 0, function () {
        return 1e4 * this.millisecond()
    }), H(0, ["SSSSSSSS", 8], 0, function () {
        return 1e5 * this.millisecond()
    }), H(0, ["SSSSSSSSS", 9], 0, function () {
        return 1e6 * this.millisecond()
    }), z("millisecond", "ms"), N("S", Xc, Rc), N("SS", Xc, Sc), N("SSS", Xc, Tc);
    var Ld;
    for (Ld = "SSSS"; Ld.length <= 9; Ld += "S")N(Ld, $c);
    for (Ld = "S"; Ld.length <= 9; Ld += "S")Q(Ld, Wb);
    var Md = C("Milliseconds", !1);
    H("z", 0, 0, "zoneAbbr"), H("zz", 0, 0, "zoneName");
    var Nd = n.prototype;
    Nd.add = Ad, Nd.calendar = cb, Nd.clone = db, Nd.diff = ib, Nd.endOf = ub, Nd.format = mb, Nd.from = nb, Nd.fromNow = ob, Nd.to = pb, Nd.toNow = qb, Nd.get = F, Nd.invalidAt = Cb, Nd.isAfter = eb, Nd.isBefore = fb, Nd.isBetween = gb, Nd.isSame = hb, Nd.isValid = Ab, Nd.lang = Cd, Nd.locale = rb, Nd.localeData = sb, Nd.max = wd, Nd.min = vd, Nd.parsingFlags = Bb, Nd.set = F, Nd.startOf = tb, Nd.subtract = Bd, Nd.toArray = yb, Nd.toObject = zb, Nd.toDate = xb, Nd.toISOString = lb, Nd.toJSON = lb, Nd.toString = kb, Nd.unix = wb, Nd.valueOf = vb, Nd.year = td, Nd.isLeapYear = ia, Nd.weekYear = Fb, Nd.isoWeekYear = Gb, Nd.quarter = Nd.quarters = Jb, Nd.month = Y, Nd.daysInMonth = Z, Nd.week = Nd.weeks = na, Nd.isoWeek = Nd.isoWeeks = oa, Nd.weeksInYear = Ib, Nd.isoWeeksInYear = Hb, Nd.date = Dd, Nd.day = Nd.days = Pb, Nd.weekday = Qb, Nd.isoWeekday = Rb, Nd.dayOfYear = qa, Nd.hour = Nd.hours = Id, Nd.minute = Nd.minutes = Jd, Nd.second = Nd.seconds = Kd, Nd.millisecond = Nd.milliseconds = Md, Nd.utcOffset = Na, Nd.utc = Pa, Nd.local = Qa, Nd.parseZone = Ra, Nd.hasAlignedHourOffset = Sa, Nd.isDST = Ta, Nd.isDSTShifted = Ua, Nd.isLocal = Va, Nd.isUtcOffset = Wa, Nd.isUtc = Xa, Nd.isUTC = Xa, Nd.zoneAbbr = Xb, Nd.zoneName = Yb, Nd.dates = aa("dates accessor is deprecated. Use date instead.", Dd), Nd.months = aa("months accessor is deprecated. Use month instead", Y), Nd.years = aa("years accessor is deprecated. Use year instead", td), Nd.zone = aa("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779", Oa);
    var Od = Nd, Pd = {
        sameDay: "[Today at] LT",
        nextDay: "[Tomorrow at] LT",
        nextWeek: "dddd [at] LT",
        lastDay: "[Yesterday at] LT",
        lastWeek: "[Last] dddd [at] LT",
        sameElse: "L"
    }, Qd = {
        LTS: "h:mm:ss A",
        LT: "h:mm A",
        L: "MM/DD/YYYY",
        LL: "MMMM D, YYYY",
        LLL: "MMMM D, YYYY h:mm A",
        LLLL: "dddd, MMMM D, YYYY h:mm A"
    }, Rd = "Invalid date", Sd = "%d", Td = /\d{1,2}/, Ud = {
        future: "in %s",
        past: "%s ago",
        s: "a few seconds",
        m: "a minute",
        mm: "%d minutes",
        h: "an hour",
        hh: "%d hours",
        d: "a day",
        dd: "%d days",
        M: "a month",
        MM: "%d months",
        y: "a year",
        yy: "%d years"
    }, Vd = s.prototype;
    Vd._calendar = Pd, Vd.calendar = _b, Vd._longDateFormat = Qd, Vd.longDateFormat = ac, Vd._invalidDate = Rd, Vd.invalidDate = bc, Vd._ordinal = Sd, Vd.ordinal = cc, Vd._ordinalParse = Td, Vd.preparse = dc, Vd.postformat = dc, Vd._relativeTime = Ud, Vd.relativeTime = ec, Vd.pastFuture = fc, Vd.set = gc, Vd.months = U, Vd._months = md, Vd.monthsShort = V, Vd._monthsShort = nd, Vd.monthsParse = W, Vd.week = ka, Vd._week = ud, Vd.firstDayOfYear = ma, Vd.firstDayOfWeek = la, Vd.weekdays = Lb, Vd._weekdays = Ed, Vd.weekdaysMin = Nb, Vd._weekdaysMin = Gd, Vd.weekdaysShort = Mb, Vd._weekdaysShort = Fd, Vd.weekdaysParse = Ob, Vd.isPM = Ub, Vd._meridiemParse = Hd, Vd.meridiem = Vb, w("en", {
        ordinalParse: /\d{1,2}(th|st|nd|rd)/,
        ordinal: function (a) {
            var b = a % 10, c = 1 === q(a % 100 / 10) ? "th" : 1 === b ? "st" : 2 === b ? "nd" : 3 === b ? "rd" : "th";
            return a + c
        }
    }), a.lang = aa("moment.lang is deprecated. Use moment.locale instead.", w), a.langData = aa("moment.langData is deprecated. Use moment.localeData instead.", y);
    var Wd = Math.abs, Xd = yc("ms"), Yd = yc("s"), Zd = yc("m"), $d = yc("h"), _d = yc("d"), ae = yc("w"), be = yc("M"), ce = yc("y"), de = Ac("milliseconds"), ee = Ac("seconds"), fe = Ac("minutes"), ge = Ac("hours"), he = Ac("days"), ie = Ac("months"), je = Ac("years"), ke = Math.round, le = {
        s: 45,
        m: 45,
        h: 22,
        d: 26,
        M: 11
    }, me = Math.abs, ne = Ha.prototype;
    ne.abs = oc, ne.add = qc, ne.subtract = rc, ne.as = wc, ne.asMilliseconds = Xd, ne.asSeconds = Yd, ne.asMinutes = Zd, ne.asHours = $d, ne.asDays = _d, ne.asWeeks = ae, ne.asMonths = be, ne.asYears = ce, ne.valueOf = xc, ne._bubble = tc, ne.get = zc, ne.milliseconds = de, ne.seconds = ee, ne.minutes = fe, ne.hours = ge, ne.days = he, ne.weeks = Bc, ne.months = ie, ne.years = je, ne.humanize = Fc, ne.toISOString = Gc, ne.toString = Gc, ne.toJSON = Gc, ne.locale = rb, ne.localeData = sb, ne.toIsoString = aa("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)", Gc), ne.lang = Cd, H("X", 0, 0, "unix"), H("x", 0, 0, "valueOf"), N("x", _c), N("X", bd), Q("X", function (a, b, c) {
        c._d = new Date(1e3 * parseFloat(a, 10))
    }), Q("x", function (a, b, c) {
        c._d = new Date(q(a))
    }), a.version = "2.10.6", b(Da), a.fn = Od, a.min = Fa, a.max = Ga, a.utc = h, a.unix = Zb, a.months = jc, a.isDate = d, a.locale = w, a.invalid = l, a.duration = Ya, a.isMoment = o, a.weekdays = lc, a.parseZone = $b, a.localeData = y, a.isDuration = Ia, a.monthsShort = kc, a.weekdaysMin = nc, a.defineLocale = x, a.weekdaysShort = mc, a.normalizeUnits = A, a.relativeTimeThreshold = Ec;
    var oe = a;
    return oe
}), function (a) {
    "function" == typeof define && define.amd ? define(["jquery", "moment"], a) : "object" == typeof exports ? module.exports = a(require("jquery"), require("moment")) : a(jQuery, moment)
}(function (a, b) {
    function c(a) {
        return W(a, Xa)
    }

    function d(b) {
        var c, d = {views: b.views || {}};
        return a.each(b, function (b, e) {
            "views" != b && (a.isPlainObject(e) && !/(time|duration|interval)$/i.test(b) && a.inArray(b, Xa) == -1 ? (c = null, a.each(e, function (a, e) {
                /^(month|week|day|default|basic(Week|Day)?|agenda(Week|Day)?)$/.test(a) ? (d.views[a] || (d.views[a] = {}), d.views[a][b] = e) : (c || (c = {}), c[a] = e)
            }), c && (d[b] = c)) : d[b] = e)
        }), d
    }

    function e(a, b) {
        b.left && a.css({"border-left-width": 1, "margin-left": b.left - 1}), b.right && a.css({
            "border-right-width": 1,
            "margin-right": b.right - 1
        })
    }

    function f(a) {
        a.css({"margin-left": "", "margin-right": "", "border-left-width": "", "border-right-width": ""})
    }

    function g() {
        a("body").addClass("fc-not-allowed")
    }

    function h() {
        a("body").removeClass("fc-not-allowed")
    }

    function i(b, c, d) {
        var e = Math.floor(c / b.length), f = Math.floor(c - e * (b.length - 1)), g = [], h = [], i = [], k = 0;
        j(b), b.each(function (c, d) {
            var j = c === b.length - 1 ? f : e, l = a(d).outerHeight(!0);
            l < j ? (g.push(d), h.push(l), i.push(a(d).height())) : k += l
        }), d && (c -= k, e = Math.floor(c / g.length), f = Math.floor(c - e * (g.length - 1))), a(g).each(function (b, c) {
            var d = b === g.length - 1 ? f : e, j = h[b], k = i[b], l = d - (j - k);
            j < d && a(c).height(l)
        })
    }

    function j(a) {
        a.height("")
    }

    function k(b) {
        var c = 0;
        return b.find("> span").each(function (b, d) {
            var e = a(d).outerWidth();
            e > c && (c = e)
        }), c++, b.width(c), c
    }

    function l(a, b) {
        var c, d = a.add(b);
        return d.css({position: "relative", left: -1}), c = a.outerHeight() - b.outerHeight(), d.css({
            position: "",
            left: ""
        }), c
    }

    function m(b) {
        var c = b.css("position"), d = b.parents().filter(function () {
            var b = a(this);
            return /(auto|scroll)/.test(b.css("overflow") + b.css("overflow-y") + b.css("overflow-x"))
        }).eq(0);
        return "fixed" !== c && d.length ? d : a(b[0].ownerDocument || document)
    }

    function n(a, b) {
        var c = a.offset(), d = c.left - (b ? b.left : 0), e = c.top - (b ? b.top : 0);
        return {left: d, right: d + a.outerWidth(), top: e, bottom: e + a.outerHeight()}
    }

    function o(a, b) {
        var c = a.offset(), d = q(a), e = c.left + t(a, "border-left-width") + d.left - (b ? b.left : 0), f = c.top + t(a, "border-top-width") + d.top - (b ? b.top : 0);
        return {left: e, right: e + a[0].clientWidth, top: f, bottom: f + a[0].clientHeight}
    }

    function p(a, b) {
        var c = a.offset(), d = c.left + t(a, "border-left-width") + t(a, "padding-left") - (b ? b.left : 0), e = c.top + t(a, "border-top-width") + t(a, "padding-top") - (b ? b.top : 0);
        return {left: d, right: d + a.width(), top: e, bottom: e + a.height()}
    }

    function q(a) {
        var b = a.innerWidth() - a[0].clientWidth, c = {
            left: 0,
            right: 0,
            top: 0,
            bottom: a.innerHeight() - a[0].clientHeight
        };
        return r() && "rtl" == a.css("direction") ? c.left = b : c.right = b, c
    }

    function r() {
        return null === Ya && (Ya = s()), Ya
    }

    function s() {
        var b = a("<div><div/></div>").css({
            position: "absolute",
            top: -1e3,
            left: 0,
            border: 0,
            padding: 0,
            overflow: "scroll",
            direction: "rtl"
        }).appendTo("body"), c = b.children(), d = c.offset().left > b.offset().left;
        return b.remove(), d
    }

    function t(a, b) {
        return parseFloat(a.css(b)) || 0
    }

    function u(a) {
        return 1 == a.which && !a.ctrlKey
    }

    function v(a) {
        if (void 0 !== a.pageX)return a.pageX;
        var b = a.originalEvent.touches;
        return b ? b[0].pageX : void 0
    }

    function w(a) {
        if (void 0 !== a.pageY)return a.pageY;
        var b = a.originalEvent.touches;
        return b ? b[0].pageY : void 0
    }

    function x(a) {
        return /^touch/.test(a.type)
    }

    function y(a) {
        a.addClass("fc-unselectable").on("selectstart", z)
    }

    function z(a) {
        a.preventDefault()
    }

    function A(a) {
        return !!window.addEventListener && (window.addEventListener("scroll", a, !0), !0)
    }

    function B(a) {
        return !!window.removeEventListener && (window.removeEventListener("scroll", a, !0), !0)
    }

    function C(a, b) {
        var c = {
            left: Math.max(a.left, b.left),
            right: Math.min(a.right, b.right),
            top: Math.max(a.top, b.top),
            bottom: Math.min(a.bottom, b.bottom)
        };
        return c.left < c.right && c.top < c.bottom && c
    }

    function D(a, b) {
        return {left: Math.min(Math.max(a.left, b.left), b.right), top: Math.min(Math.max(a.top, b.top), b.bottom)}
    }

    function E(a) {
        return {left: (a.left + a.right) / 2, top: (a.top + a.bottom) / 2}
    }

    function F(a, b) {
        return {left: a.left - b.left, top: a.top - b.top}
    }

    function G(b) {
        var c, d, e = [], f = [];
        for ("string" == typeof b ? f = b.split(/\s*,\s*/) : "function" == typeof b ? f = [b] : a.isArray(b) && (f = b), c = 0; c < f.length; c++)d = f[c], "string" == typeof d ? e.push("-" == d.charAt(0) ? {
            field: d.substring(1),
            order: -1
        } : {field: d, order: 1}) : "function" == typeof d && e.push({func: d});
        return e
    }

    function H(a, b, c) {
        var d, e;
        for (d = 0; d < c.length; d++)if (e = I(a, b, c[d]))return e;
        return 0
    }

    function I(a, b, c) {
        return c.func ? c.func(a, b) : J(a[c.field], b[c.field]) * (c.order || 1)
    }

    function J(b, c) {
        return b || c ? null == c ? -1 : null == b ? 1 : "string" === a.type(b) || "string" === a.type(c) ? String(b).localeCompare(String(c)) : b - c : 0
    }

    function K(a, b) {
        var c, d, e, f, g = a.start, h = a.end, i = b.start, j = b.end;
        if (h > i && g < j)return g >= i ? (c = g.clone(), e = !0) : (c = i.clone(), e = !1), h <= j ? (d = h.clone(), f = !0) : (d = j.clone(), f = !1), {
            start: c,
            end: d,
            isStart: e,
            isEnd: f
        }
    }

    function L(a, c) {
        return b.duration({days: a.clone().stripTime().diff(c.clone().stripTime(), "days"), ms: a.time() - c.time()})
    }

    function M(a, c) {
        return b.duration({days: a.clone().stripTime().diff(c.clone().stripTime(), "days")})
    }

    function N(a, c, d) {
        return b.duration(Math.round(a.diff(c, d, !0)), d)
    }

    function O(a, b) {
        var c, d, e;
        for (c = 0; c < $a.length && (d = $a[c], e = P(d, a, b), !(e >= 1 && ha(e))); c++);
        return d
    }

    function P(a, c, d) {
        return null != d ? d.diff(c, a, !0) : b.isDuration(c) ? c.as(a) : c.end.diff(c.start, a, !0)
    }

    function Q(a, b, c) {
        var d;
        return T(c) ? (b - a) / c : (d = c.asMonths(), Math.abs(d) >= 1 && ha(d) ? b.diff(a, "months", !0) / d : b.diff(a, "days", !0) / c.asDays())
    }

    function R(a, b) {
        var c, d;
        return T(a) || T(b) ? a / b : (c = a.asMonths(), d = b.asMonths(), Math.abs(c) >= 1 && ha(c) && Math.abs(d) >= 1 && ha(d) ? c / d : a.asDays() / b.asDays())
    }

    function S(a, c) {
        var d;
        return T(a) ? b.duration(a * c) : (d = a.asMonths(), Math.abs(d) >= 1 && ha(d) ? b.duration({months: d * c}) : b.duration({days: a.asDays() * c}))
    }

    function T(a) {
        return Boolean(a.hours() || a.minutes() || a.seconds() || a.milliseconds())
    }

    function U(a) {
        return "[object Date]" === Object.prototype.toString.call(a) || a instanceof Date
    }

    function V(a) {
        return /^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(a)
    }

    function W(a, b) {
        var c, d, e, f, g, h, i = {};
        if (b)for (c = 0; c < b.length; c++) {
            for (d = b[c], e = [], f = a.length - 1; f >= 0; f--)if (g = a[f][d], "object" == typeof g)e.unshift(g); else if (void 0 !== g) {
                i[d] = g;
                break
            }
            e.length && (i[d] = W(e))
        }
        for (c = a.length - 1; c >= 0; c--) {
            h = a[c];
            for (d in h)d in i || (i[d] = h[d])
        }
        return i
    }

    function X(a) {
        var b = function () {
        };
        return b.prototype = a, new b
    }

    function Y(a, b) {
        for (var c in a)$(a, c) && (b[c] = a[c])
    }

    function Z(a, b) {
        var c, d, e = ["constructor", "toString", "valueOf"];
        for (c = 0; c < e.length; c++)d = e[c], a[d] !== Object.prototype[d] && (b[d] = a[d])
    }

    function $(a, b) {
        return cb.call(a, b)
    }

    function _(b) {
        return /undefined|null|boolean|number|string/.test(a.type(b))
    }

    function aa(b, c, d) {
        if (a.isFunction(b) && (b = [b]), b) {
            var e, f;
            for (e = 0; e < b.length; e++)f = b[e].apply(c, d) || f;
            return f
        }
    }

    function ba() {
        for (var a = 0; a < arguments.length; a++)if (void 0 !== arguments[a])return arguments[a]
    }

    function ca(a) {
        return (a + "").replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/'/g, "&#039;").replace(/"/g, "&quot;").replace(/\n/g, "<br />")
    }

    function da(a) {
        return a.replace(/&.*?;/g, "")
    }

    function ea(b) {
        var c = [];
        return a.each(b, function (a, b) {
            null != b && c.push(a + ":" + b)
        }), c.join(";")
    }

    function fa(a) {
        return a.charAt(0).toUpperCase() + a.slice(1)
    }

    function ga(a, b) {
        return a - b
    }

    function ha(a) {
        return a % 1 === 0
    }

    function ia(a, b) {
        var c = a[b];
        return function () {
            return c.apply(a, arguments)
        }
    }

    function ja(a, b, c) {
        var d, e, f, g, h, i = function () {
            var j = +new Date - g;
            j < b ? d = setTimeout(i, b - j) : (d = null, c || (h = a.apply(f, e), f = e = null))
        };
        return function () {
            f = this, e = arguments, g = +new Date;
            var j = c && !d;
            return d || (d = setTimeout(i, b)), j && (h = a.apply(f, e), f = e = null), h
        }
    }

    function ka(c, d, e) {
        var f, g, h, i, j = c[0], k = 1 == c.length && "string" == typeof j;
        return b.isMoment(j) ? (i = b.apply(null, c), ma(j, i)) : U(j) || void 0 === j ? i = b.apply(null, c) : (f = !1, g = !1, k ? db.test(j) ? (j += "-01", c = [j], f = !0, g = !0) : (h = eb.exec(j)) && (f = !h[5], g = !0) : a.isArray(j) && (g = !0), i = d || f ? b.utc.apply(b, c) : b.apply(null, c), f ? (i._ambigTime = !0, i._ambigZone = !0) : e && (g ? i._ambigZone = !0 : k && (i.utcOffset ? i.utcOffset(j) : i.zone(j)))), i._fullCalendar = !0, i
    }

    function la(a, c) {
        var d, e, f = !1, g = !1, h = a.length, i = [];
        for (d = 0; d < h; d++)e = a[d], b.isMoment(e) || (e = Va.moment.parseZone(e)), f = f || e._ambigTime, g = g || e._ambigZone, i.push(e);
        for (d = 0; d < h; d++)e = i[d], c || !f || e._ambigTime ? g && !e._ambigZone && (i[d] = e.clone().stripZone()) : i[d] = e.clone().stripTime();
        return i
    }

    function ma(a, b) {
        a._ambigTime ? b._ambigTime = !0 : b._ambigTime && (b._ambigTime = !1), a._ambigZone ? b._ambigZone = !0 : b._ambigZone && (b._ambigZone = !1)
    }

    function na(a, b) {
        a.year(b[0] || 0).month(b[1] || 0).date(b[2] || 0).hours(b[3] || 0).minutes(b[4] || 0).seconds(b[5] || 0).milliseconds(b[6] || 0)
    }

    function oa(a, b) {
        return gb.format.call(a, b)
    }

    function pa(a, b) {
        return qa(a, va(b))
    }

    function qa(a, b) {
        var c, d = "";
        for (c = 0; c < b.length; c++)d += ra(a, b[c]);
        return d
    }

    function ra(a, b) {
        var c, d;
        return "string" == typeof b ? b : (c = b.token) ? hb[c] ? hb[c](a) : oa(a, c) : b.maybe && (d = qa(a, b.maybe), d.match(/[1-9]/)) ? d : ""
    }

    function sa(a, b, c, d, e) {
        var f;
        return a = Va.moment.parseZone(a), b = Va.moment.parseZone(b), f = (a.localeData || a.lang).call(a), c = f.longDateFormat(c) || c, d = d || " - ", ta(a, b, va(c), d, e)
    }

    function ta(a, b, c, d, e) {
        var f, g, h, i, j = a.clone().stripZone(), k = b.clone().stripZone(), l = "", m = "", n = "", o = "", p = "";
        for (g = 0; g < c.length && (f = ua(a, b, j, k, c[g]), f !== !1); g++)l += f;
        for (h = c.length - 1; h > g && (f = ua(a, b, j, k, c[h]), f !== !1); h--)m = f + m;
        for (i = g; i <= h; i++)n += ra(a, c[i]), o += ra(b, c[i]);
        return (n || o) && (p = e ? o + d + n : n + d + o), l + p + m
    }

    function ua(a, b, c, d, e) {
        var f, g;
        return "string" == typeof e ? e : !!((f = e.token) && (g = ib[f.charAt(0)], g && c.isSame(d, g))) && oa(a, f)
    }

    function va(a) {
        return a in jb ? jb[a] : jb[a] = wa(a)
    }

    function wa(a) {
        for (var b, c = [], d = /\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g; b = d.exec(a);)b[1] ? c.push(b[1]) : b[2] ? c.push({maybe: wa(b[2])}) : b[3] ? c.push({token: b[3]}) : b[5] && c.push(b[5]);
        return c
    }

    function xa() {
    }

    function ya(a, b) {
        var c;
        return $(b, "constructor") && (c = b.constructor), "function" != typeof c && (c = b.constructor = function () {
            a.apply(this, arguments)
        }), c.prototype = X(a.prototype), Y(b, c.prototype), Z(b, c.prototype), Y(a, c), c
    }

    function za(a, b) {
        Y(b, a.prototype)
    }

    function Aa(a, b) {
        return !a && !b || !(!a || !b) && (a.component === b.component && Ba(a, b) && Ba(b, a))
    }

    function Ba(a, b) {
        for (var c in a)if (!/^(component|left|right|top|bottom)$/.test(c) && a[c] !== b[c])return !1;
        return !0
    }

    function Ca(a) {
        var b = Ea(a);
        return "background" === b || "inverse-background" === b
    }

    function Da(a) {
        return "inverse-background" === Ea(a)
    }

    function Ea(a) {
        return ba((a.source || {}).rendering, a.rendering)
    }

    function Fa(a) {
        var b, c, d = {};
        for (b = 0; b < a.length; b++)c = a[b], (d[c._id] || (d[c._id] = [])).push(c);
        return d
    }

    function Ga(a, b) {
        return a.start - b.start
    }

    function Ha(c) {
        var d, e, f, g, h = Va.dataAttrPrefix;
        return h && (h += "-"), d = c.data(h + "event") || null, d && (d = "object" == typeof d ? a.extend({}, d) : {}, e = d.start, null == e && (e = d.time), f = d.duration, g = d.stick, delete d.start, delete d.time, delete d.duration, delete d.stick), null == e && (e = c.data(h + "start")), null == e && (e = c.data(h + "time")), null == f && (f = c.data(h + "duration")), null == g && (g = c.data(h + "stick")), e = null != e ? b.duration(e) : null, f = null != f ? b.duration(f) : null, g = Boolean(g), {
            eventProps: d,
            startTime: e,
            duration: f,
            stick: g
        }
    }

    function Ia(a, b) {
        var c, d;
        for (c = 0; c < b.length; c++)if (d = b[c], d.leftCol <= a.rightCol && d.rightCol >= a.leftCol)return !0;
        return !1
    }

    function Ja(a, b) {
        return a.leftCol - b.leftCol
    }

    function Ka(a) {
        var b, c, d, e = [];
        for (b = 0; b < a.length; b++) {
            for (c = a[b], d = 0; d < e.length && Na(c, e[d]).length; d++);
            c.level = d, (e[d] || (e[d] = [])).push(c)
        }
        return e
    }

    function La(a) {
        var b, c, d, e, f;
        for (b = 0; b < a.length; b++)for (c = a[b], d = 0; d < c.length; d++)for (e = c[d], e.forwardSegs = [], f = b + 1; f < a.length; f++)Na(e, a[f], e.forwardSegs)
    }

    function Ma(a) {
        var b, c, d = a.forwardSegs, e = 0;
        if (void 0 === a.forwardPressure) {
            for (b = 0; b < d.length; b++)c = d[b], Ma(c), e = Math.max(e, 1 + c.forwardPressure);
            a.forwardPressure = e
        }
    }

    function Na(a, b, c) {
        c = c || [];
        for (var d = 0; d < b.length; d++)Oa(a, b[d]) && c.push(b[d]);
        return c
    }

    function Oa(a, b) {
        return a.bottom > b.top && a.top < b.bottom
    }

    function Pa(c, d) {
        function e() {
            T ? h() && (k(), i()) : f()
        }

        function f() {
            U = O.theme ? "ui" : "fc", c.addClass("fc"), O.isRTL ? c.addClass("fc-rtl") : c.addClass("fc-ltr"), O.theme ? c.addClass("ui-widget") : c.addClass("fc-unthemed"), T = a("<div class='fc-view-container'/>").prependTo(c), R = N.header = new Sa(N, O), S = R.render(), S && c.prepend(S), i(O.defaultView), O.handleWindowResize && (Y = ja(m, O.windowResizeDelay), a(window).resize(Y))
        }

        function g() {
            V && V.removeElement(), R.removeElement(), T.remove(), c.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget"), Y && a(window).unbind("resize", Y)
        }

        function h() {
            return c.is(":visible")
        }

        function i(b) {
            ca++, V && b && V.type !== b && (R.deactivateButton(V.type), H(), V.removeElement(), V = N.view = null), !V && b && (V = N.view = ba[b] || (ba[b] = N.instantiateView(b)), V.setElement(a("<div class='fc-view fc-" + b + "-view' />").appendTo(T)), R.activateButton(b)), V && (Z = V.massageCurrentDate(Z), V.displaying && Z.isWithin(V.intervalStart, V.intervalEnd) || h() && (V.display(Z), I(), u(), v(), q())), I(), ca--
        }

        function j(a) {
            if (h())return a && l(), ca++, V.updateSize(!0), ca--, !0
        }

        function k() {
            h() && l()
        }

        function l() {
            W = "number" == typeof O.contentHeight ? O.contentHeight : "number" == typeof O.height ? O.height - (S ? S.outerHeight(!0) : 0) : Math.round(T.width() / Math.max(O.aspectRatio, .5))
        }

        function m(a) {
            !ca && a.target === window && V.start && j(!0) && V.trigger("windowResize", aa)
        }

        function n() {
            p(), r()
        }

        function o() {
            h() && (H(), V.displayEvents(da), I())
        }

        function p() {
            H(), V.clearEvents(), I()
        }

        function q() {
            !O.lazyFetching || $(V.start, V.end) ? r() : o()
        }

        function r() {
            _(V.start, V.end)
        }

        function s(a) {
            da = a, o()
        }

        function t() {
            o()
        }

        function u() {
            R.updateTitle(V.title)
        }

        function v() {
            var a = N.getNow();
            a.isWithin(V.intervalStart, V.intervalEnd) ? R.disableButton("today") : R.enableButton("today")
        }

        function w(a, b) {
            V.select(N.buildSelectSpan.apply(N, arguments))
        }

        function x() {
            V && V.unselect()
        }

        function y() {
            Z = V.computePrevDate(Z), i()
        }

        function z() {
            Z = V.computeNextDate(Z), i()
        }

        function A() {
            Z.add(-1, "years"), i()
        }

        function B() {
            Z.add(1, "years"), i()
        }

        function C() {
            Z = N.getNow(), i()
        }

        function D(a) {
            Z = N.moment(a).stripZone(), i()
        }

        function E(a) {
            Z.add(b.duration(a)), i()
        }

        function F(a, b) {
            var c;
            b = b || "day", c = N.getViewSpec(b) || N.getUnitViewSpec(b), Z = a.clone(), i(c ? c.type : null)
        }

        function G() {
            return N.applyTimezone(Z)
        }

        function H() {
            T.css({width: "100%", height: T.height(), overflow: "hidden"})
        }

        function I() {
            T.css({width: "", height: "", overflow: ""})
        }

        function J() {
            return N
        }

        function K() {
            return V
        }

        function L(a, b) {
            return void 0 === b ? O[a] : void("height" != a && "contentHeight" != a && "aspectRatio" != a || (O[a] = b, j(!0)))
        }

        function M(a, b) {
            var c = Array.prototype.slice.call(arguments, 2);
            if (b = b || aa, this.triggerWith(a, b, c), O[a])return O[a].apply(b, c)
        }

        var N = this;
        N.initOptions(d || {});
        var O = this.options;
        N.render = e, N.destroy = g, N.refetchEvents = n, N.reportEvents = s, N.reportEventChange = t, N.rerenderEvents = o, N.changeView = i, N.select = w, N.unselect = x, N.prev = y, N.next = z, N.prevYear = A, N.nextYear = B, N.today = C, N.gotoDate = D, N.incrementDate = E, N.zoomTo = F, N.getDate = G, N.getCalendar = J, N.getView = K, N.option = L, N.trigger = M;
        var P = X(Ra(O.lang));
        if (O.monthNames && (P._months = O.monthNames), O.monthNamesShort && (P._monthsShort = O.monthNamesShort), O.dayNames && (P._weekdays = O.dayNames), O.dayNamesShort && (P._weekdaysShort = O.dayNamesShort), null != O.firstDay) {
            var Q = X(P._week);
            Q.dow = O.firstDay, P._week = Q
        }
        P._fullCalendar_weekCalc = function (a) {
            return "function" == typeof a ? a : "local" === a ? a : "iso" === a || "ISO" === a ? "ISO" : void 0
        }(O.weekNumberCalculation), N.defaultAllDayEventDuration = b.duration(O.defaultAllDayEventDuration), N.defaultTimedEventDuration = b.duration(O.defaultTimedEventDuration), N.moment = function () {
            var a;
            return "local" === O.timezone ? (a = Va.moment.apply(null, arguments), a.hasTime() && a.local()) : a = "UTC" === O.timezone ? Va.moment.utc.apply(null, arguments) : Va.moment.parseZone.apply(null, arguments), "_locale" in a ? a._locale = P : a._lang = P, a
        }, N.getIsAmbigTimezone = function () {
            return "local" !== O.timezone && "UTC" !== O.timezone
        }, N.applyTimezone = function (a) {
            if (!a.hasTime())return a.clone();
            var b, c = N.moment(a.toArray()), d = a.time() - c.time();
            return d && (b = c.clone().add(d), a.time() - b.time() === 0 && (c = b)), c
        }, N.getNow = function () {
            var a = O.now;
            return "function" == typeof a && (a = a()), N.moment(a).stripZone()
        }, N.getEventEnd = function (a) {
            return a.end ? a.end.clone() : N.getDefaultEventEnd(a.allDay, a.start)
        }, N.getDefaultEventEnd = function (a, b) {
            var c = b.clone();
            return a ? c.stripTime().add(N.defaultAllDayEventDuration) : c.add(N.defaultTimedEventDuration), N.getIsAmbigTimezone() && c.stripZone(), c
        }, N.humanizeDuration = function (a) {
            return (a.locale || a.lang).call(a, O.lang).humanize()
        }, Ta.call(N, O);
        var R, S, T, U, V, W, Y, Z, $ = N.isFetchNeeded, _ = N.fetchEvents, aa = c[0], ba = {}, ca = 0, da = [];
        Z = null != O.defaultDate ? N.moment(O.defaultDate).stripZone() : N.getNow(), N.getSuggestedViewHeight = function () {
            return void 0 === W && k(), W
        }, N.isHeightAuto = function () {
            return "auto" === O.contentHeight || "auto" === O.height
        }, N.freezeContentHeight = H, N.unfreezeContentHeight = I, N.initialize()
    }

    function Qa(b) {
        a.each(Cb, function (a, c) {
            null == b[a] && (b[a] = c(b))
        })
    }

    function Ra(a) {
        var c = b.localeData || b.langData;
        return c.call(b, a) || c.call(b, "en")
    }

    function Sa(b, c) {
        function d() {
            var b = c.header;
            if (n = c.theme ? "ui" : "fc", b)return o = a("<div class='fc-toolbar'/>").append(f("left")).append(f("right")).append(f("center")).append('<div class="fc-clear"/>')
        }

        function e() {
            o.remove(), o = a()
        }

        function f(d) {
            var e = a('<div class="fc-' + d + '"/>'), f = c.header[d];
            return f && a.each(f.split(" "), function (d) {
                var f, g = a(), h = !0;
                a.each(this.split(","), function (d, e) {
                    var f, i, j, k, l, m, o, q, r, s;
                    "title" == e ? (g = g.add(a("<h2>&nbsp;</h2>")), h = !1) : ((f = (b.options.customButtons || {})[e]) ? (j = function (a) {
                        f.click && f.click.call(s[0], a)
                    }, k = "", l = f.text) : (i = b.getViewSpec(e)) ? (j = function () {
                        b.changeView(e)
                    }, p.push(e), k = i.buttonTextOverride, l = i.buttonTextDefault) : b[e] && (j = function () {
                        b[e]()
                    }, k = (b.overrides.buttonText || {})[e], l = c.buttonText[e]), j && (m = f ? f.themeIcon : c.themeButtonIcons[e], o = f ? f.icon : c.buttonIcons[e], q = k ? ca(k) : m && c.theme ? "<span class='ui-icon ui-icon-" + m + "'></span>" : o && !c.theme ? "<span class='fc-icon fc-icon-" + o + "'></span>" : ca(l), r = ["fc-" + e + "-button", n + "-button", n + "-state-default"], s = a('<button type="button" class="' + r.join(" ") + '">' + q + "</button>").click(function (a) {
                        s.hasClass(n + "-state-disabled") || (j(a), (s.hasClass(n + "-state-active") || s.hasClass(n + "-state-disabled")) && s.removeClass(n + "-state-hover"))
                    }).mousedown(function () {
                        s.not("." + n + "-state-active").not("." + n + "-state-disabled").addClass(n + "-state-down")
                    }).mouseup(function () {
                        s.removeClass(n + "-state-down")
                    }).hover(function () {
                        s.not("." + n + "-state-active").not("." + n + "-state-disabled").addClass(n + "-state-hover")
                    }, function () {
                        s.removeClass(n + "-state-hover").removeClass(n + "-state-down")
                    }), g = g.add(s)))
                }), h && g.first().addClass(n + "-corner-left").end().last().addClass(n + "-corner-right").end(), g.length > 1 ? (f = a("<div/>"), h && f.addClass("fc-button-group"), f.append(g), e.append(f)) : e.append(g)
            }), e
        }

        function g(a) {
            o.find("h2").text(a)
        }

        function h(a) {
            o.find(".fc-" + a + "-button").addClass(n + "-state-active")
        }

        function i(a) {
            o.find(".fc-" + a + "-button").removeClass(n + "-state-active")
        }

        function j(a) {
            o.find(".fc-" + a + "-button").attr("disabled", "disabled").addClass(n + "-state-disabled")
        }

        function k(a) {
            o.find(".fc-" + a + "-button").removeAttr("disabled").removeClass(n + "-state-disabled")
        }

        function l() {
            return p
        }

        var m = this;
        m.render = d, m.removeElement = e, m.updateTitle = g, m.activateButton = h, m.deactivateButton = i, m.disableButton = j, m.enableButton = k, m.getViewsWithButtons = l;
        var n, o = a(), p = []
    }

    function Ta(c) {
        function d(a, b) {
            return !I || a < I || b > J
        }

        function e(a, b) {
            I = a, J = b, S = [];
            var c = ++Q, d = P.length;
            R = d;
            for (var e = 0; e < d; e++)f(P[e], c)
        }

        function f(b, c) {
            g(b, function (d) {
                var e, f, g, h = a.isArray(b.events);
                if (c == Q) {
                    if (d)for (e = 0; e < d.length; e++)f = d[e], g = h ? f : s(f, b), g && S.push.apply(S, w(g));
                    R--, R || K(S)
                }
            })
        }

        function g(b, d) {
            var e, f, h = Va.sourceFetchers;
            for (e = 0; e < h.length; e++) {
                if (f = h[e].call(H, b, I.clone(), J.clone(), c.timezone, d), f === !0)return;
                if ("object" == typeof f)return void g(f, d)
            }
            var i = b.events;
            if (i)a.isFunction(i) ? (H.pushLoading(), i.call(H, I.clone(), J.clone(), c.timezone, function (a) {
                d(a), H.popLoading()
            })) : a.isArray(i) ? d(i) : d(); else {
                var j = b.url;
                if (j) {
                    var k, l = b.success, m = b.error, n = b.complete;
                    k = a.isFunction(b.data) ? b.data() : b.data;
                    var o = a.extend({}, k || {}), p = ba(b.startParam, c.startParam), q = ba(b.endParam, c.endParam), r = ba(b.timezoneParam, c.timezoneParam);
                    p && (o[p] = I.format()), q && (o[q] = J.format()), c.timezone && "local" != c.timezone && (o[r] = c.timezone), H.pushLoading(), a.ajax(a.extend({}, Db, b, {
                        data: o,
                        success: function (b) {
                            b = b || [];
                            var c = aa(l, this, arguments);
                            a.isArray(c) && (b = c), d(b)
                        },
                        error: function () {
                            aa(m, this, arguments), d()
                        },
                        complete: function () {
                            aa(n, this, arguments), H.popLoading()
                        }
                    }))
                } else d()
            }
        }

        function h(a) {
            var b = i(a);
            b && (P.push(b), R++, f(b, Q))
        }

        function i(b) {
            var c, d, e = Va.sourceNormalizers;
            if (a.isFunction(b) || a.isArray(b) ? c = {events: b} : "string" == typeof b ? c = {url: b} : "object" == typeof b && (c = a.extend({}, b)), c) {
                for (c.className ? "string" == typeof c.className && (c.className = c.className.split(/\s+/)) : c.className = [], a.isArray(c.events) && (c.origArray = c.events, c.events = a.map(c.events, function (a) {
                    return s(a, c)
                })), d = 0; d < e.length; d++)e[d].call(H, c);
                return c
            }
        }

        function j(b) {
            P = a.grep(P, function (a) {
                return !k(a, b)
            }), S = a.grep(S, function (a) {
                return !k(a.source, b)
            }), K(S)
        }

        function k(a, b) {
            return a && b && l(a) == l(b)
        }

        function l(a) {
            return ("object" == typeof a ? a.origArray || a.googleCalendarId || a.url || a.events : null) || a
        }

        function m(a) {
            a.start = H.moment(a.start), a.end ? a.end = H.moment(a.end) : a.end = null, x(a, n(a)), K(S)
        }

        function n(b) {
            var c = {};
            return a.each(b, function (a, b) {
                o(a) && void 0 !== b && _(b) && (c[a] = b)
            }), c
        }

        function o(a) {
            return !/^_|^(id|allDay|start|end)$/.test(a)
        }

        function p(a, b) {
            var c, d, e, f = s(a);
            if (f) {
                for (c = w(f), d = 0; d < c.length; d++)e = c[d], e.source || (b && (O.events.push(e), e.source = O), S.push(e));
                return K(S), c
            }
            return []
        }

        function q(b) {
            var c, d;
            for (null == b ? b = function () {
                return !0
            } : a.isFunction(b) || (c = b + "", b = function (a) {
                return a._id == c
            }), S = a.grep(S, b, !0), d = 0; d < P.length; d++)a.isArray(P[d].events) && (P[d].events = a.grep(P[d].events, b, !0));
            K(S)
        }

        function r(b) {
            return a.isFunction(b) ? a.grep(S, b) : null != b ? (b += "", a.grep(S, function (a) {
                return a._id == b
            })) : S
        }

        function s(d, e) {
            var f, g, h, i = {};
            if (c.eventDataTransform && (d = c.eventDataTransform(d)), e && e.eventDataTransform && (d = e.eventDataTransform(d)), a.extend(i, d), e && (i.source = e), i._id = d._id || (void 0 === d.id ? "_fc" + Eb++ : d.id + ""), d.className ? "string" == typeof d.className ? i.className = d.className.split(/\s+/) : i.className = d.className : i.className = [], f = d.start || d.date, g = d.end, V(f) && (f = b.duration(f)), V(g) && (g = b.duration(g)), d.dow || b.isDuration(f) || b.isDuration(g))i.start = f ? b.duration(f) : null, i.end = g ? b.duration(g) : null, i._recurring = !0; else {
                if (f && (f = H.moment(f), !f.isValid()))return !1;
                g && (g = H.moment(g), g.isValid() || (g = null)), h = d.allDay, void 0 === h && (h = ba(e ? e.allDayDefault : void 0, c.allDayDefault)), t(f, g, h, i)
            }
            return H.normalizeEvent(i), i
        }

        function t(a, b, c, d) {
            d.start = a, d.end = b, d.allDay = c, u(d), Ua(d)
        }

        function u(a) {
            v(a), a.end && !a.end.isAfter(a.start) && (a.end = null), a.end || (c.forceEventDuration ? a.end = H.getDefaultEventEnd(a.allDay, a.start) : a.end = null)
        }

        function v(a) {
            null == a.allDay && (a.allDay = !(a.start.hasTime() || a.end && a.end.hasTime())), a.allDay ? (a.start.stripTime(), a.end && a.end.stripTime()) : (a.start.hasTime() || (a.start = H.applyTimezone(a.start.time(0))), a.end && !a.end.hasTime() && (a.end = H.applyTimezone(a.end.time(0))))
        }

        function w(b, c, d) {
            var e, f, g, h, i, j, k, l, m, n = [];
            if (c = c || I, d = d || J, b)if (b._recurring) {
                if (f = b.dow)for (e = {}, g = 0; g < f.length; g++)e[f[g]] = !0;
                for (h = c.clone().stripTime(); h.isBefore(d);)e && !e[h.day()] || (i = b.start, j = b.end, k = h.clone(), l = null, i && (k = k.time(i)), j && (l = h.clone().time(j)), m = a.extend({}, b), t(k, l, !i && !j, m), n.push(m)), h.add(1, "days")
            } else n.push(b);
            return n
        }

        function x(b, c, d) {
            function e(a, b) {
                return d ? N(a, b, d) : c.allDay ? M(a, b) : L(a, b)
            }

            var f, g, h, i, j, k, l = {};
            return c = c || {}, c.start || (c.start = b.start.clone()), void 0 === c.end && (c.end = b.end ? b.end.clone() : null), null == c.allDay && (c.allDay = b.allDay), u(c), f = {
                start: b._start.clone(),
                end: b._end ? b._end.clone() : H.getDefaultEventEnd(b._allDay, b._start),
                allDay: c.allDay
            }, u(f), g = null !== b._end && null === c.end, h = e(c.start, f.start), c.end ? (i = e(c.end, f.end), j = i.subtract(h)) : j = null, a.each(c, function (a, b) {
                o(a) && void 0 !== b && (l[a] = b)
            }), k = y(r(b._id), g, c.allDay, h, j, l), {dateDelta: h, durationDelta: j, undo: k}
        }

        function y(b, c, d, e, f, g) {
            var h = H.getIsAmbigTimezone(), i = [];
            return e && !e.valueOf() && (e = null), f && !f.valueOf() && (f = null), a.each(b, function (b, j) {
                var k, l;
                k = {
                    start: j.start.clone(),
                    end: j.end ? j.end.clone() : null,
                    allDay: j.allDay
                }, a.each(g, function (a) {
                    k[a] = j[a]
                }), l = {
                    start: j._start,
                    end: j._end,
                    allDay: d
                }, u(l), c ? l.end = null : f && !l.end && (l.end = H.getDefaultEventEnd(l.allDay, l.start)), e && (l.start.add(e), l.end && l.end.add(e)), f && l.end.add(f), h && !l.allDay && (e || f) && (l.start.stripZone(), l.end && l.end.stripZone()), a.extend(j, g, l), Ua(j), i.push(function () {
                    a.extend(j, k), Ua(j)
                })
            }), function () {
                for (var a = 0; a < i.length; a++)i[a]()
            }
        }

        function z(b) {
            var d, e = c.businessHours, f = {
                className: "fc-nonbusiness",
                start: "09:00",
                end: "17:00",
                dow: [1, 2, 3, 4, 5],
                rendering: "inverse-background"
            }, g = H.getView();
            return e && (d = a.extend({}, f, "object" == typeof e ? e : {})), d ? (b && (d.start = null, d.end = null), w(s(d), g.start, g.end)) : []
        }

        function A(a, b) {
            var d = b.source || {}, e = ba(b.constraint, d.constraint, c.eventConstraint), f = ba(b.overlap, d.overlap, c.eventOverlap);
            return D(a, e, f, b)
        }

        function B(b, c, d) {
            var e, f;
            return d && (e = a.extend({}, d, c), f = w(s(e))[0]),
                f ? A(b, f) : C(b)
        }

        function C(a) {
            return D(a, c.selectConstraint, c.selectOverlap)
        }

        function D(a, b, c, d) {
            var e, f, g, h, i, j;
            if (null != b) {
                for (e = E(b), f = !1, h = 0; h < e.length; h++)if (F(e[h], a)) {
                    f = !0;
                    break
                }
                if (!f)return !1
            }
            for (g = H.getPeerEvents(a, d), h = 0; h < g.length; h++)if (i = g[h], G(i, a)) {
                if (c === !1)return !1;
                if ("function" == typeof c && !c(i, d))return !1;
                if (d) {
                    if (j = ba(i.overlap, (i.source || {}).overlap), j === !1)return !1;
                    if ("function" == typeof j && !j(d, i))return !1
                }
            }
            return !0
        }

        function E(a) {
            return "businessHours" === a ? z() : "object" == typeof a ? w(s(a)) : r(a)
        }

        function F(a, b) {
            var c = a.start.clone().stripZone(), d = H.getEventEnd(a).stripZone();
            return b.start >= c && b.end <= d
        }

        function G(a, b) {
            var c = a.start.clone().stripZone(), d = H.getEventEnd(a).stripZone();
            return b.start < d && b.end > c
        }

        var H = this;
        H.isFetchNeeded = d, H.fetchEvents = e, H.addEventSource = h, H.removeEventSource = j, H.updateEvent = m, H.renderEvent = p, H.removeEvents = q, H.clientEvents = r, H.mutateEvent = x, H.normalizeEventDates = u, H.normalizeEventTimes = v;
        var I, J, K = H.reportEvents, O = {events: []}, P = [O], Q = 0, R = 0, S = [];
        a.each((c.events ? [c.events] : []).concat(c.eventSources || []), function (a, b) {
            var c = i(b);
            c && P.push(c)
        }), H.getBusinessHoursEvents = z, H.isEventSpanAllowed = A, H.isExternalSpanAllowed = B, H.isSelectionSpanAllowed = C, H.getEventCache = function () {
            return S
        }
    }

    function Ua(a) {
        a._allDay = a.allDay, a._start = a.start.clone(), a._end = a.end ? a.end.clone() : null
    }

    var Va = a.fullCalendar = {version: "2.7.3", internalApiVersion: 4}, Wa = Va.views = {};
    a.fn.fullCalendar = function (b) {
        var c = Array.prototype.slice.call(arguments, 1), d = this;
        return this.each(function (e, f) {
            var g, h = a(f), i = h.data("fullCalendar");
            "string" == typeof b ? i && a.isFunction(i[b]) && (g = i[b].apply(i, c), e || (d = g), "destroy" === b && h.removeData("fullCalendar")) : i || (i = new yb(h, b), h.data("fullCalendar", i), i.render())
        }), d
    };
    var Xa = ["header", "buttonText", "buttonIcons", "themeButtonIcons"];
    Va.intersectRanges = K, Va.applyAll = aa, Va.debounce = ja, Va.isInt = ha, Va.htmlEscape = ca, Va.cssToStr = ea, Va.proxy = ia, Va.capitaliseFirstLetter = fa, Va.getOuterRect = n, Va.getClientRect = o, Va.getContentRect = p, Va.getScrollbarWidths = q;
    var Ya = null;
    Va.preventDefault = z, Va.intersectRects = C, Va.parseFieldSpecs = G, Va.compareByFieldSpecs = H, Va.compareByFieldSpec = I, Va.flexibleCompare = J, Va.computeIntervalUnit = O, Va.divideRangeByDuration = Q, Va.divideDurationByDuration = R, Va.multiplyDuration = S, Va.durationHasTime = T;
    var Za = ["sun", "mon", "tue", "wed", "thu", "fri", "sat"], $a = ["year", "month", "week", "day", "hour", "minute", "second", "millisecond"];
    Va.log = function () {
        var a = window.console;
        if (a && a.log)return a.log.apply(a, arguments)
    }, Va.warn = function () {
        var a = window.console;
        return a && a.warn ? a.warn.apply(a, arguments) : Va.log.apply(Va, arguments)
    };
    var _a, ab, bb, cb = {}.hasOwnProperty, db = /^\s*\d{4}-\d\d$/, eb = /^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/, fb = b.fn, gb = a.extend({}, fb);
    Va.moment = function () {
        return ka(arguments)
    }, Va.moment.utc = function () {
        var a = ka(arguments, !0);
        return a.hasTime() && a.utc(), a
    }, Va.moment.parseZone = function () {
        return ka(arguments, !0, !0)
    }, fb.clone = function () {
        var a = gb.clone.apply(this, arguments);
        return ma(this, a), this._fullCalendar && (a._fullCalendar = !0), a
    }, fb.week = fb.weeks = function (a) {
        var b = (this._locale || this._lang)._fullCalendar_weekCalc;
        return null == a && "function" == typeof b ? b(this) : "ISO" === b ? gb.isoWeek.apply(this, arguments) : gb.week.apply(this, arguments)
    }, fb.time = function (a) {
        if (!this._fullCalendar)return gb.time.apply(this, arguments);
        if (null == a)return b.duration({
            hours: this.hours(),
            minutes: this.minutes(),
            seconds: this.seconds(),
            milliseconds: this.milliseconds()
        });
        this._ambigTime = !1, b.isDuration(a) || b.isMoment(a) || (a = b.duration(a));
        var c = 0;
        return b.isDuration(a) && (c = 24 * Math.floor(a.asDays())), this.hours(c + a.hours()).minutes(a.minutes()).seconds(a.seconds()).milliseconds(a.milliseconds())
    }, fb.stripTime = function () {
        var a;
        return this._ambigTime || (a = this.toArray(), this.utc(), ab(this, a.slice(0, 3)), this._ambigTime = !0, this._ambigZone = !0), this
    }, fb.hasTime = function () {
        return !this._ambigTime
    }, fb.stripZone = function () {
        var a, b;
        return this._ambigZone || (a = this.toArray(), b = this._ambigTime, this.utc(), ab(this, a), this._ambigTime = b || !1, this._ambigZone = !0), this
    }, fb.hasZone = function () {
        return !this._ambigZone
    }, fb.local = function () {
        var a = this.toArray(), b = this._ambigZone;
        return gb.local.apply(this, arguments), this._ambigTime = !1, this._ambigZone = !1, b && bb(this, a), this
    }, fb.utc = function () {
        return gb.utc.apply(this, arguments), this._ambigTime = !1, this._ambigZone = !1, this
    }, a.each(["zone", "utcOffset"], function (a, b) {
        gb[b] && (fb[b] = function (a) {
            return null != a && (this._ambigTime = !1, this._ambigZone = !1), gb[b].apply(this, arguments)
        })
    }), fb.format = function () {
        return this._fullCalendar && arguments[0] ? pa(this, arguments[0]) : this._ambigTime ? oa(this, "YYYY-MM-DD") : this._ambigZone ? oa(this, "YYYY-MM-DD[T]HH:mm:ss") : gb.format.apply(this, arguments)
    }, fb.toISOString = function () {
        return this._ambigTime ? oa(this, "YYYY-MM-DD") : this._ambigZone ? oa(this, "YYYY-MM-DD[T]HH:mm:ss") : gb.toISOString.apply(this, arguments)
    }, fb.isWithin = function (a, b) {
        var c = la([this, a, b]);
        return c[0] >= c[1] && c[0] < c[2]
    }, fb.isSame = function (a, b) {
        var c;
        return this._fullCalendar ? b ? (c = la([this, a], !0), gb.isSame.call(c[0], c[1], b)) : (a = Va.moment.parseZone(a), gb.isSame.call(this, a) && Boolean(this._ambigTime) === Boolean(a._ambigTime) && Boolean(this._ambigZone) === Boolean(a._ambigZone)) : gb.isSame.apply(this, arguments)
    }, a.each(["isBefore", "isAfter"], function (a, b) {
        fb[b] = function (a, c) {
            var d;
            return this._fullCalendar ? (d = la([this, a]), gb[b].call(d[0], d[1], c)) : gb[b].apply(this, arguments)
        }
    }), _a = "_d" in b() && "updateOffset" in b, ab = _a ? function (a, c) {
        a._d.setTime(Date.UTC.apply(Date, c)), b.updateOffset(a, !1)
    } : na, bb = _a ? function (a, c) {
        a._d.setTime(+new Date(c[0] || 0, c[1] || 0, c[2] || 0, c[3] || 0, c[4] || 0, c[5] || 0, c[6] || 0)), b.updateOffset(a, !1)
    } : na;
    var hb = {
        t: function (a) {
            return oa(a, "a").charAt(0)
        }, T: function (a) {
            return oa(a, "A").charAt(0)
        }
    };
    Va.formatRange = sa;
    var ib = {
        Y: "year",
        M: "month",
        D: "day",
        d: "day",
        A: "second",
        a: "second",
        T: "second",
        t: "second",
        H: "second",
        h: "second",
        m: "second",
        s: "second"
    }, jb = {};
    Va.Class = xa, xa.extend = function () {
        var a, b, c = arguments.length;
        for (a = 0; a < c; a++)b = arguments[a], a < c - 1 && za(this, b);
        return ya(this, b || {})
    }, xa.mixin = function (a) {
        za(this, a)
    };
    var kb = Va.EmitterMixin = {
        on: function (b, c) {
            var d = function (a, b) {
                return c.apply(b.context || this, b.args || [])
            };
            return c.guid || (c.guid = a.guid++), d.guid = c.guid, a(this).on(b, d), this
        }, off: function (b, c) {
            return a(this).off(b, c), this
        }, trigger: function (b) {
            var c = Array.prototype.slice.call(arguments, 1);
            return a(this).triggerHandler(b, {args: c}), this
        }, triggerWith: function (b, c, d) {
            return a(this).triggerHandler(b, {context: c, args: d}), this
        }
    }, lb = Va.ListenerMixin = function () {
        var b = 0, c = {
            listenerId: null, listenTo: function (b, c, d) {
                if ("object" == typeof c)for (var e in c)c.hasOwnProperty(e) && this.listenTo(b, e, c[e]); else"string" == typeof c && b.on(c + "." + this.getListenerNamespace(), a.proxy(d, this))
            }, stopListeningTo: function (a, b) {
                a.off((b || "") + "." + this.getListenerNamespace())
            }, getListenerNamespace: function () {
                return null == this.listenerId && (this.listenerId = b++), "_listener" + this.listenerId
            }
        };
        return c
    }(), mb = {
        isIgnoringMouse: !1, delayUnignoreMouse: null, initMouseIgnoring: function (a) {
            this.delayUnignoreMouse = ja(ia(this, "unignoreMouse"), a || 1e3)
        }, tempIgnoreMouse: function () {
            this.isIgnoringMouse = !0, this.delayUnignoreMouse()
        }, unignoreMouse: function () {
            this.isIgnoringMouse = !1
        }
    }, nb = xa.extend(lb, {
        isHidden: !0, options: null, el: null, margin: 10, constructor: function (a) {
            this.options = a || {}
        }, show: function () {
            this.isHidden && (this.el || this.render(), this.el.show(), this.position(), this.isHidden = !1, this.trigger("show"))
        }, hide: function () {
            this.isHidden || (this.el.hide(), this.isHidden = !0, this.trigger("hide"))
        }, render: function () {
            var b = this, c = this.options;
            this.el = a('<div class="fc-popover"/>').addClass(c.className || "").css({
                top: 0,
                left: 0
            }).append(c.content).appendTo(c.parentEl), this.el.on("click", ".fc-close", function () {
                b.hide()
            }), c.autoHide && this.listenTo(a(document), "mousedown", this.documentMousedown)
        }, documentMousedown: function (b) {
            this.el && !a(b.target).closest(this.el).length && this.hide()
        }, removeElement: function () {
            this.hide(), this.el && (this.el.remove(), this.el = null), this.stopListeningTo(a(document), "mousedown")
        }, position: function () {
            var b, c, d, e, f, g = this.options, h = this.el.offsetParent().offset(), i = this.el.outerWidth(), j = this.el.outerHeight(), k = a(window), l = m(this.el);
            e = g.top || 0, f = void 0 !== g.left ? g.left : void 0 !== g.right ? g.right - i : 0, l.is(window) || l.is(document) ? (l = k, b = 0, c = 0) : (d = l.offset(), b = d.top, c = d.left), b += k.scrollTop(), c += k.scrollLeft(), g.viewportConstrain !== !1 && (e = Math.min(e, b + l.outerHeight() - j - this.margin), e = Math.max(e, b + this.margin), f = Math.min(f, c + l.outerWidth() - i - this.margin), f = Math.max(f, c + this.margin)), this.el.css({
                top: e - h.top,
                left: f - h.left
            })
        }, trigger: function (a) {
            this.options[a] && this.options[a].apply(this, Array.prototype.slice.call(arguments, 1))
        }
    }), ob = Va.CoordCache = xa.extend({
        els: null,
        forcedOffsetParentEl: null,
        origin: null,
        boundingRect: null,
        isHorizontal: !1,
        isVertical: !1,
        lefts: null,
        rights: null,
        tops: null,
        bottoms: null,
        constructor: function (b) {
            this.els = a(b.els), this.isHorizontal = b.isHorizontal, this.isVertical = b.isVertical, this.forcedOffsetParentEl = b.offsetParent ? a(b.offsetParent) : null
        },
        build: function () {
            var a = this.forcedOffsetParentEl || this.els.eq(0).offsetParent();
            this.origin = a.offset(), this.boundingRect = this.queryBoundingRect(), this.isHorizontal && this.buildElHorizontals(), this.isVertical && this.buildElVerticals()
        },
        clear: function () {
            this.origin = null, this.boundingRect = null, this.lefts = null, this.rights = null, this.tops = null, this.bottoms = null
        },
        ensureBuilt: function () {
            this.origin || this.build()
        },
        queryBoundingRect: function () {
            var a = m(this.els.eq(0));
            if (!a.is(document))return o(a)
        },
        buildElHorizontals: function () {
            var b = [], c = [];
            this.els.each(function (d, e) {
                var f = a(e), g = f.offset().left, h = f.outerWidth();
                b.push(g), c.push(g + h)
            }), this.lefts = b, this.rights = c
        },
        buildElVerticals: function () {
            var b = [], c = [];
            this.els.each(function (d, e) {
                var f = a(e), g = f.offset().top, h = f.outerHeight();
                b.push(g), c.push(g + h)
            }), this.tops = b, this.bottoms = c
        },
        getHorizontalIndex: function (a) {
            this.ensureBuilt();
            var b, c = this.boundingRect, d = this.lefts, e = this.rights, f = d.length;
            if (!c || a >= c.left && a < c.right)for (b = 0; b < f; b++)if (a >= d[b] && a < e[b])return b
        },
        getVerticalIndex: function (a) {
            this.ensureBuilt();
            var b, c = this.boundingRect, d = this.tops, e = this.bottoms, f = d.length;
            if (!c || a >= c.top && a < c.bottom)for (b = 0; b < f; b++)if (a >= d[b] && a < e[b])return b
        },
        getLeftOffset: function (a) {
            return this.ensureBuilt(), this.lefts[a]
        },
        getLeftPosition: function (a) {
            return this.ensureBuilt(), this.lefts[a] - this.origin.left
        },
        getRightOffset: function (a) {
            return this.ensureBuilt(), this.rights[a]
        },
        getRightPosition: function (a) {
            return this.ensureBuilt(), this.rights[a] - this.origin.left
        },
        getWidth: function (a) {
            return this.ensureBuilt(), this.rights[a] - this.lefts[a]
        },
        getTopOffset: function (a) {
            return this.ensureBuilt(), this.tops[a]
        },
        getTopPosition: function (a) {
            return this.ensureBuilt(), this.tops[a] - this.origin.top
        },
        getBottomOffset: function (a) {
            return this.ensureBuilt(), this.bottoms[a]
        },
        getBottomPosition: function (a) {
            return this.ensureBuilt(), this.bottoms[a] - this.origin.top
        },
        getHeight: function (a) {
            return this.ensureBuilt(), this.bottoms[a] - this.tops[a]
        }
    }), pb = Va.DragListener = xa.extend(lb, mb, {
        options: null,
        subjectEl: null,
        subjectHref: null,
        originX: null,
        originY: null,
        scrollEl: null,
        isInteracting: !1,
        isDistanceSurpassed: !1,
        isDelayEnded: !1,
        isDragging: !1,
        isTouch: !1,
        delay: null,
        delayTimeoutId: null,
        minDistance: null,
        handleTouchScrollProxy: null,
        constructor: function (a) {
            this.options = a || {}, this.handleTouchScrollProxy = ia(this, "handleTouchScroll"), this.initMouseIgnoring(500)
        },
        startInteraction: function (b, c) {
            var d = x(b);
            if ("mousedown" === b.type) {
                if (this.isIgnoringMouse)return;
                if (!u(b))return;
                b.preventDefault()
            }
            this.isInteracting || (c = c || {}, this.delay = ba(c.delay, this.options.delay, 0), this.minDistance = ba(c.distance, this.options.distance, 0), this.subjectEl = this.options.subjectEl, this.isInteracting = !0, this.isTouch = d, this.isDelayEnded = !1, this.isDistanceSurpassed = !1, this.originX = v(b), this.originY = w(b), this.scrollEl = m(a(b.target)), this.bindHandlers(), this.initAutoScroll(), this.handleInteractionStart(b), this.startDelay(b), this.minDistance || this.handleDistanceSurpassed(b))
        },
        handleInteractionStart: function (a) {
            this.trigger("interactionStart", a)
        },
        endInteraction: function (a, b) {
            this.isInteracting && (this.endDrag(a), this.delayTimeoutId && (clearTimeout(this.delayTimeoutId), this.delayTimeoutId = null), this.destroyAutoScroll(), this.unbindHandlers(), this.isInteracting = !1, this.handleInteractionEnd(a, b), this.isTouch && this.tempIgnoreMouse())
        },
        handleInteractionEnd: function (a, b) {
            this.trigger("interactionEnd", a, b || !1)
        },
        bindHandlers: function () {
            var b = this, c = 1;
            this.isTouch ? (this.listenTo(a(document), {
                touchmove: this.handleTouchMove,
                touchend: this.endInteraction,
                touchcancel: this.endInteraction,
                touchstart: function (a) {
                    c ? c-- : b.endInteraction(a, !0)
                }
            }), !A(this.handleTouchScrollProxy) && this.scrollEl && this.listenTo(this.scrollEl, "scroll", this.handleTouchScroll)) : this.listenTo(a(document), {
                mousemove: this.handleMouseMove,
                mouseup: this.endInteraction
            }), this.listenTo(a(document), {selectstart: z, contextmenu: z})
        },
        unbindHandlers: function () {
            this.stopListeningTo(a(document)), B(this.handleTouchScrollProxy), this.scrollEl && this.stopListeningTo(this.scrollEl, "scroll")
        },
        startDrag: function (a, b) {
            this.startInteraction(a, b), this.isDragging || (this.isDragging = !0, this.handleDragStart(a))
        },
        handleDragStart: function (a) {
            this.trigger("dragStart", a), this.initHrefHack()
        },
        handleMove: function (a) {
            var b, c = v(a) - this.originX, d = w(a) - this.originY, e = this.minDistance;
            this.isDistanceSurpassed || (b = c * c + d * d, b >= e * e && this.handleDistanceSurpassed(a)), this.isDragging && this.handleDrag(c, d, a)
        },
        handleDrag: function (a, b, c) {
            this.trigger("drag", a, b, c), this.updateAutoScroll(c)
        },
        endDrag: function (a) {
            this.isDragging && (this.isDragging = !1, this.handleDragEnd(a))
        },
        handleDragEnd: function (a) {
            this.trigger("dragEnd", a), this.destroyHrefHack()
        },
        startDelay: function (a) {
            var b = this;
            this.delay ? this.delayTimeoutId = setTimeout(function () {
                b.handleDelayEnd(a)
            }, this.delay) : this.handleDelayEnd(a)
        },
        handleDelayEnd: function (a) {
            this.isDelayEnded = !0, this.isDistanceSurpassed && this.startDrag(a)
        },
        handleDistanceSurpassed: function (a) {
            this.isDistanceSurpassed = !0, this.isDelayEnded && this.startDrag(a)
        },
        handleTouchMove: function (a) {
            this.isDragging && a.preventDefault(), this.handleMove(a)
        },
        handleMouseMove: function (a) {
            this.handleMove(a)
        },
        handleTouchScroll: function (a) {
            this.isDragging || this.endInteraction(a, !0)
        },
        initHrefHack: function () {
            var a = this.subjectEl;
            (this.subjectHref = a ? a.attr("href") : null) && a.removeAttr("href")
        },
        destroyHrefHack: function () {
            var a = this.subjectEl, b = this.subjectHref;
            setTimeout(function () {
                b && a.attr("href", b)
            }, 0)
        },
        trigger: function (a) {
            this.options[a] && this.options[a].apply(this, Array.prototype.slice.call(arguments, 1)), this["_" + a] && this["_" + a].apply(this, Array.prototype.slice.call(arguments, 1))
        }
    });
    pb.mixin({
        isAutoScroll: !1,
        scrollBounds: null,
        scrollTopVel: null,
        scrollLeftVel: null,
        scrollIntervalId: null,
        scrollSensitivity: 30,
        scrollSpeed: 200,
        scrollIntervalMs: 50,
        initAutoScroll: function () {
            var a = this.scrollEl;
            this.isAutoScroll = this.options.scroll && a && !a.is(window) && !a.is(document), this.isAutoScroll && this.listenTo(a, "scroll", ja(this.handleDebouncedScroll, 100))
        },
        destroyAutoScroll: function () {
            this.endAutoScroll(), this.isAutoScroll && this.stopListeningTo(this.scrollEl, "scroll")
        },
        computeScrollBounds: function () {
            this.isAutoScroll && (this.scrollBounds = n(this.scrollEl))
        },
        updateAutoScroll: function (a) {
            var b, c, d, e, f = this.scrollSensitivity, g = this.scrollBounds, h = 0, i = 0;
            g && (b = (f - (w(a) - g.top)) / f, c = (f - (g.bottom - w(a))) / f, d = (f - (v(a) - g.left)) / f, e = (f - (g.right - v(a))) / f, b >= 0 && b <= 1 ? h = b * this.scrollSpeed * -1 : c >= 0 && c <= 1 && (h = c * this.scrollSpeed), d >= 0 && d <= 1 ? i = d * this.scrollSpeed * -1 : e >= 0 && e <= 1 && (i = e * this.scrollSpeed)), this.setScrollVel(h, i)
        },
        setScrollVel: function (a, b) {
            this.scrollTopVel = a, this.scrollLeftVel = b, this.constrainScrollVel(), !this.scrollTopVel && !this.scrollLeftVel || this.scrollIntervalId || (this.scrollIntervalId = setInterval(ia(this, "scrollIntervalFunc"), this.scrollIntervalMs))
        },
        constrainScrollVel: function () {
            var a = this.scrollEl;
            this.scrollTopVel < 0 ? a.scrollTop() <= 0 && (this.scrollTopVel = 0) : this.scrollTopVel > 0 && a.scrollTop() + a[0].clientHeight >= a[0].scrollHeight && (this.scrollTopVel = 0), this.scrollLeftVel < 0 ? a.scrollLeft() <= 0 && (this.scrollLeftVel = 0) : this.scrollLeftVel > 0 && a.scrollLeft() + a[0].clientWidth >= a[0].scrollWidth && (this.scrollLeftVel = 0)
        },
        scrollIntervalFunc: function () {
            var a = this.scrollEl, b = this.scrollIntervalMs / 1e3;
            this.scrollTopVel && a.scrollTop(a.scrollTop() + this.scrollTopVel * b), this.scrollLeftVel && a.scrollLeft(a.scrollLeft() + this.scrollLeftVel * b), this.constrainScrollVel(), this.scrollTopVel || this.scrollLeftVel || this.endAutoScroll()
        },
        endAutoScroll: function () {
            this.scrollIntervalId && (clearInterval(this.scrollIntervalId), this.scrollIntervalId = null, this.handleScrollEnd())
        },
        handleDebouncedScroll: function () {
            this.scrollIntervalId || this.handleScrollEnd()
        },
        handleScrollEnd: function () {
        }
    });
    var qb = pb.extend({
        component: null, origHit: null, hit: null, coordAdjust: null, constructor: function (a, b) {
            pb.call(this, b), this.component = a
        }, handleInteractionStart: function (a) {
            var b, c, d, e = this.subjectEl;
            this.computeCoords(), a ? (c = {
                left: v(a),
                top: w(a)
            }, d = c, e && (b = n(e), d = D(d, b)), this.origHit = this.queryHit(d.left, d.top), e && this.options.subjectCenter && (this.origHit && (b = C(this.origHit, b) || b), d = E(b)), this.coordAdjust = F(d, c)) : (this.origHit = null, this.coordAdjust = null), pb.prototype.handleInteractionStart.apply(this, arguments)
        }, computeCoords: function () {
            this.component.prepareHits(), this.computeScrollBounds()
        }, handleDragStart: function (a) {
            var b;
            pb.prototype.handleDragStart.apply(this, arguments), b = this.queryHit(v(a), w(a)), b && this.handleHitOver(b)
        }, handleDrag: function (a, b, c) {
            var d;
            pb.prototype.handleDrag.apply(this, arguments), d = this.queryHit(v(c), w(c)), Aa(d, this.hit) || (this.hit && this.handleHitOut(), d && this.handleHitOver(d))
        }, handleDragEnd: function () {
            this.handleHitDone(), pb.prototype.handleDragEnd.apply(this, arguments)
        }, handleHitOver: function (a) {
            var b = Aa(a, this.origHit);
            this.hit = a, this.trigger("hitOver", this.hit, b, this.origHit)
        }, handleHitOut: function () {
            this.hit && (this.trigger("hitOut", this.hit), this.handleHitDone(), this.hit = null)
        }, handleHitDone: function () {
            this.hit && this.trigger("hitDone", this.hit)
        }, handleInteractionEnd: function () {
            pb.prototype.handleInteractionEnd.apply(this, arguments), this.origHit = null, this.hit = null, this.component.releaseHits()
        }, handleScrollEnd: function () {
            pb.prototype.handleScrollEnd.apply(this, arguments), this.computeCoords()
        }, queryHit: function (a, b) {
            return this.coordAdjust && (a += this.coordAdjust.left, b += this.coordAdjust.top), this.component.queryHit(a, b)
        }
    }), rb = xa.extend(lb, {
        options: null,
        sourceEl: null,
        el: null,
        parentEl: null,
        top0: null,
        left0: null,
        y0: null,
        x0: null,
        topDelta: null,
        leftDelta: null,
        isFollowing: !1,
        isHidden: !1,
        isAnimating: !1,
        constructor: function (b, c) {
            this.options = c = c || {}, this.sourceEl = b, this.parentEl = c.parentEl ? a(c.parentEl) : b.parent()
        },
        start: function (b) {
            this.isFollowing || (this.isFollowing = !0, this.y0 = w(b), this.x0 = v(b), this.topDelta = 0, this.leftDelta = 0, this.isHidden || this.updatePosition(), x(b) ? this.listenTo(a(document), "touchmove", this.handleMove) : this.listenTo(a(document), "mousemove", this.handleMove))
        },
        stop: function (b, c) {
            function d() {
                this.isAnimating = !1, e.removeElement(), this.top0 = this.left0 = null, c && c()
            }

            var e = this, f = this.options.revertDuration;
            this.isFollowing && !this.isAnimating && (this.isFollowing = !1, this.stopListeningTo(a(document)), b && f && !this.isHidden ? (this.isAnimating = !0, this.el.animate({
                top: this.top0,
                left: this.left0
            }, {duration: f, complete: d})) : d())
        },
        getEl: function () {
            var a = this.el;
            return a || (this.sourceEl.width(), a = this.el = this.sourceEl.clone().addClass(this.options.additionalClass || "").css({
                position: "absolute",
                visibility: "",
                display: this.isHidden ? "none" : "",
                margin: 0,
                right: "auto",
                bottom: "auto",
                width: this.sourceEl.width(),
                height: this.sourceEl.height(),
                opacity: this.options.opacity || "",
                zIndex: this.options.zIndex
            }), a.addClass("fc-unselectable"), a.appendTo(this.parentEl)), a
        },
        removeElement: function () {
            this.el && (this.el.remove(), this.el = null)
        },
        updatePosition: function () {
            var a, b;
            this.getEl(), null === this.top0 && (this.sourceEl.width(), a = this.sourceEl.offset(), b = this.el.offsetParent().offset(), this.top0 = a.top - b.top, this.left0 = a.left - b.left), this.el.css({
                top: this.top0 + this.topDelta,
                left: this.left0 + this.leftDelta
            })
        },
        handleMove: function (a) {
            this.topDelta = w(a) - this.y0, this.leftDelta = v(a) - this.x0, this.isHidden || this.updatePosition()
        },
        hide: function () {
            this.isHidden || (this.isHidden = !0, this.el && this.el.hide())
        },
        show: function () {
            this.isHidden && (this.isHidden = !1, this.updatePosition(), this.getEl().show())
        }
    }), sb = Va.Grid = xa.extend(lb, mb, {
        view: null,
        isRTL: null,
        start: null,
        end: null,
        el: null,
        elsByFill: null,
        eventTimeFormat: null,
        displayEventTime: null,
        displayEventEnd: null,
        minResizeDuration: null,
        largeUnit: null,
        dayDragListener: null,
        segDragListener: null,
        segResizeListener: null,
        externalDragListener: null,
        constructor: function (a) {
            this.view = a, this.isRTL = a.opt("isRTL"), this.elsByFill = {}, this.dayDragListener = this.buildDayDragListener(), this.initMouseIgnoring()
        },
        computeEventTimeFormat: function () {
            return this.view.opt("smallTimeFormat")
        },
        computeDisplayEventTime: function () {
            return !0
        },
        computeDisplayEventEnd: function () {
            return !0
        },
        setRange: function (a) {
            this.start = a.start.clone(), this.end = a.end.clone(), this.rangeUpdated(), this.processRangeOptions()
        },
        rangeUpdated: function () {
        },
        processRangeOptions: function () {
            var a, b, c = this.view;
            this.eventTimeFormat = c.opt("eventTimeFormat") || c.opt("timeFormat") || this.computeEventTimeFormat(), a = c.opt("displayEventTime"), null == a && (a = this.computeDisplayEventTime()), b = c.opt("displayEventEnd"), null == b && (b = this.computeDisplayEventEnd()), this.displayEventTime = a, this.displayEventEnd = b
        },
        spanToSegs: function (a) {
        },
        diffDates: function (a, b) {
            return this.largeUnit ? N(a, b, this.largeUnit) : L(a, b)
        },
        prepareHits: function () {
        },
        releaseHits: function () {
        },
        queryHit: function (a, b) {
        },
        getHitSpan: function (a) {
        },
        getHitEl: function (a) {
        },
        setElement: function (a) {
            this.el = a, y(a), this.bindDayHandler("touchstart", this.dayTouchStart), this.bindDayHandler("mousedown", this.dayMousedown), this.bindSegHandlers(), this.bindGlobalHandlers()
        },
        bindDayHandler: function (b, c) {
            var d = this;
            this.el.on(b, function (b) {
                if (!a(b.target).is(".fc-event-container *, .fc-more") && !a(b.target).closest(".fc-popover").length)return c.call(d, b)
            })
        },
        removeElement: function () {
            this.unbindGlobalHandlers(), this.clearDragListeners(), this.el.remove()
        },
        renderSkeleton: function () {
        },
        renderDates: function () {
        },
        unrenderDates: function () {
        },
        bindGlobalHandlers: function () {
            this.listenTo(a(document), {dragstart: this.externalDragStart, sortstart: this.externalDragStart})
        },
        unbindGlobalHandlers: function () {
            this.stopListeningTo(a(document))
        },
        dayMousedown: function (a) {
            this.isIgnoringMouse || this.dayDragListener.startInteraction(a, {})
        },
        dayTouchStart: function (a) {
            var b = this.view;
            (b.isSelected || b.selectedEvent) && this.tempIgnoreMouse(), this.dayDragListener.startInteraction(a, {delay: this.view.opt("longPressDelay")})
        },
        buildDayDragListener: function () {
            var a, b, c = this, d = this.view, e = d.opt("selectable"), f = new qb(this, {
                scroll: d.opt("dragScroll"),
                interactionStart: function () {
                    a = f.origHit
                },
                dragStart: function () {
                    d.unselect()
                },
                hitOver: function (d, f, h) {
                    h && (f || (a = null), e && (b = c.computeSelection(c.getHitSpan(h), c.getHitSpan(d)), b ? c.renderSelection(b) : b === !1 && g()))
                },
                hitOut: function () {
                    a = null, b = null, c.unrenderSelection(), h()
                },
                interactionEnd: function (e, f) {
                    f || (a && !c.isIgnoringMouse && d.triggerDayClick(c.getHitSpan(a), c.getHitEl(a), e), b && d.reportSelection(b, e), h())
                }
            });
            return f
        },
        clearDragListeners: function () {
            this.dayDragListener.endInteraction(), this.segDragListener && this.segDragListener.endInteraction(), this.segResizeListener && this.segResizeListener.endInteraction(), this.externalDragListener && this.externalDragListener.endInteraction()
        },
        renderEventLocationHelper: function (a, b) {
            var c = this.fabricateHelperEvent(a, b);
            return this.renderHelper(c, b)
        },
        fabricateHelperEvent: function (a, b) {
            var c = b ? X(b.event) : {};
            return c.start = a.start.clone(), c.end = a.end ? a.end.clone() : null, c.allDay = null, this.view.calendar.normalizeEventDates(c), c.className = (c.className || []).concat("fc-helper"), b || (c.editable = !1), c
        },
        renderHelper: function (a, b) {
        },
        unrenderHelper: function () {
        },
        renderSelection: function (a) {
            this.renderHighlight(a)
        },
        unrenderSelection: function () {
            this.unrenderHighlight()
        },
        computeSelection: function (a, b) {
            var c = this.computeSelectionSpan(a, b);
            return !(c && !this.view.calendar.isSelectionSpanAllowed(c)) && c
        },
        computeSelectionSpan: function (a, b) {
            var c = [a.start, a.end, b.start, b.end];
            return c.sort(ga), {start: c[0].clone(), end: c[3].clone()}
        },
        renderHighlight: function (a) {
            this.renderFill("highlight", this.spanToSegs(a))
        },
        unrenderHighlight: function () {
            this.unrenderFill("highlight")
        },
        highlightSegClasses: function () {
            return ["fc-highlight"]
        },
        renderBusinessHours: function () {
        },
        unrenderBusinessHours: function () {
        },
        getNowIndicatorUnit: function () {
        },
        renderNowIndicator: function (a) {
        },
        unrenderNowIndicator: function () {
        },
        renderFill: function (a, b) {
        },
        unrenderFill: function (a) {
            var b = this.elsByFill[a];
            b && (b.remove(), delete this.elsByFill[a])
        },
        renderFillSegEls: function (b, c) {
            var d, e = this, f = this[b + "SegEl"], g = "", h = [];
            if (c.length) {
                for (d = 0; d < c.length; d++)g += this.fillSegHtml(b, c[d]);
                a(g).each(function (b, d) {
                    var g = c[b], i = a(d);
                    f && (i = f.call(e, g, i)), i && (i = a(i), i.is(e.fillSegTag) && (g.el = i, h.push(g)))
                })
            }
            return h
        },
        fillSegTag: "div",
        fillSegHtml: function (a, b) {
            var c = this[a + "SegClasses"], d = this[a + "SegCss"], e = c ? c.call(this, b) : [], f = ea(d ? d.call(this, b) : {});
            return "<" + this.fillSegTag + (e.length ? ' class="' + e.join(" ") + '"' : "") + (f ? ' style="' + f + '"' : "") + " />"
        },
        getDayClasses: function (a) {
            var b = this.view, c = b.calendar.getNow(), d = ["fc-" + Za[a.day()]];
            return 1 == b.intervalDuration.as("months") && a.month() != b.intervalStart.month() && d.push("fc-other-month"), a.isSame(c, "day") ? d.push("fc-today", b.highlightStateClass) : a < c ? d.push("fc-past") : d.push("fc-future"), d
        }
    });
    sb.mixin({
        mousedOverSeg: null,
        isDraggingSeg: !1,
        isResizingSeg: !1,
        isDraggingExternal: !1,
        segs: null,
        renderEvents: function (a) {
            var b, c = [], d = [];
            for (b = 0; b < a.length; b++)(Ca(a[b]) ? c : d).push(a[b]);
            this.segs = [].concat(this.renderBgEvents(c), this.renderFgEvents(d))
        },
        renderBgEvents: function (a) {
            var b = this.eventsToSegs(a);
            return this.renderBgSegs(b) || b
        },
        renderFgEvents: function (a) {
            var b = this.eventsToSegs(a);
            return this.renderFgSegs(b) || b
        },
        unrenderEvents: function () {
            this.handleSegMouseout(), this.clearDragListeners(), this.unrenderFgSegs(), this.unrenderBgSegs(), this.segs = null
        },
        getEventSegs: function () {
            return this.segs || []
        },
        renderFgSegs: function (a) {
        },
        unrenderFgSegs: function () {
        },
        renderFgSegEls: function (b, c) {
            var d, e = this.view, f = "", g = [];
            if (b.length) {
                for (d = 0; d < b.length; d++)f += this.fgSegHtml(b[d], c);
                a(f).each(function (c, d) {
                    var f = b[c], h = e.resolveEventEl(f.event, a(d));
                    h && (h.data("fc-seg", f), f.el = h, g.push(f))
                })
            }
            return g
        },
        fgSegHtml: function (a, b) {
        },
        renderBgSegs: function (a) {
            return this.renderFill("bgEvent", a)
        },
        unrenderBgSegs: function () {
            this.unrenderFill("bgEvent")
        },
        bgEventSegEl: function (a, b) {
            return this.view.resolveEventEl(a.event, b)
        },
        bgEventSegClasses: function (a) {
            var b = a.event, c = b.source || {};
            return ["fc-bgevent"].concat(b.className, c.className || [])
        },
        bgEventSegCss: function (a) {
            return {"background-color": this.getSegSkinCss(a)["background-color"]}
        },
        businessHoursSegClasses: function (a) {
            return ["fc-nonbusiness", "fc-bgevent"]
        },
        bindSegHandlers: function () {
            this.bindSegHandler("touchstart", this.handleSegTouchStart), this.bindSegHandler("touchend", this.handleSegTouchEnd), this.bindSegHandler("mouseenter", this.handleSegMouseover), this.bindSegHandler("mouseleave", this.handleSegMouseout), this.bindSegHandler("mousedown", this.handleSegMousedown), this.bindSegHandler("click", this.handleSegClick)
        },
        bindSegHandler: function (b, c) {
            var d = this;
            this.el.on(b, ".fc-event-container > *", function (b) {
                var e = a(this).data("fc-seg");
                if (e && !d.isDraggingSeg && !d.isResizingSeg)return c.call(d, e, b)
            })
        },
        handleSegClick: function (a, b) {
            return this.view.trigger("eventClick", a.el[0], a.event, b)
        },
        handleSegMouseover: function (a, b) {
            this.isIgnoringMouse || this.mousedOverSeg || (this.mousedOverSeg = a, a.el.addClass("fc-allow-mouse-resize"), this.view.trigger("eventMouseover", a.el[0], a.event, b))
        },
        handleSegMouseout: function (a, b) {
            b = b || {}, this.mousedOverSeg && (a = a || this.mousedOverSeg, this.mousedOverSeg = null, a.el.removeClass("fc-allow-mouse-resize"), this.view.trigger("eventMouseout", a.el[0], a.event, b))
        },
        handleSegMousedown: function (a, b) {
            var c = this.startSegResize(a, b, {distance: 5});
            !c && this.view.isEventDraggable(a.event) && this.buildSegDragListener(a).startInteraction(b, {distance: 5})
        },
        handleSegTouchStart: function (a, b) {
            var c, d = this.view, e = a.event, f = d.isEventSelected(e), g = d.isEventDraggable(e), h = d.isEventResizable(e), i = !1;
            f && h && (i = this.startSegResize(a, b)), i || !g && !h || (c = g ? this.buildSegDragListener(a) : this.buildSegSelectListener(a), c.startInteraction(b, {delay: f ? 0 : this.view.opt("longPressDelay")})), this.tempIgnoreMouse()
        },
        handleSegTouchEnd: function (a, b) {
            this.tempIgnoreMouse()
        },
        startSegResize: function (b, c, d) {
            return !!a(c.target).is(".fc-resizer") && (this.buildSegResizeListener(b, a(c.target).is(".fc-start-resizer")).startInteraction(c, d), !0)
        },
        buildSegDragListener: function (a) {
            var b, c, d, e = this, f = this.view, i = f.calendar, j = a.el, k = a.event;
            if (this.segDragListener)return this.segDragListener;
            var l = this.segDragListener = new qb(f, {
                scroll: f.opt("dragScroll"),
                subjectEl: j,
                subjectCenter: !0,
                interactionStart: function (d) {
                    b = !1, c = new rb(a.el, {
                        additionalClass: "fc-dragging",
                        parentEl: f.el,
                        opacity: l.isTouch ? null : f.opt("dragOpacity"),
                        revertDuration: f.opt("dragRevertDuration"),
                        zIndex: 2
                    }), c.hide(), c.start(d)
                },
                dragStart: function (c) {
                    l.isTouch && !f.isEventSelected(k) && f.selectEvent(k), b = !0, e.handleSegMouseout(a, c), e.segDragStart(a, c), f.hideEvent(k)
                },
                hitOver: function (b, h, j) {
                    var m;
                    a.hit && (j = a.hit), d = e.computeEventDrop(j.component.getHitSpan(j), b.component.getHitSpan(b), k), d && !i.isEventSpanAllowed(e.eventToSpan(d), k) && (g(), d = null), d && (m = f.renderDrag(d, a)) ? (m.addClass("fc-dragging"), l.isTouch || e.applyDragOpacity(m), c.hide()) : c.show(), h && (d = null)
                },
                hitOut: function () {
                    f.unrenderDrag(), c.show(), d = null
                },
                hitDone: function () {
                    h()
                },
                interactionEnd: function (g) {
                    c.stop(!d, function () {
                        b && (f.unrenderDrag(), f.showEvent(k), e.segDragStop(a, g)), d && f.reportEventDrop(k, d, this.largeUnit, j, g)
                    }), e.segDragListener = null
                }
            });
            return l
        },
        buildSegSelectListener: function (a) {
            var b = this, c = this.view, d = a.event;
            if (this.segDragListener)return this.segDragListener;
            var e = this.segDragListener = new pb({
                dragStart: function (a) {
                    e.isTouch && !c.isEventSelected(d) && c.selectEvent(d)
                }, interactionEnd: function (a) {
                    b.segDragListener = null
                }
            });
            return e
        },
        segDragStart: function (a, b) {
            this.isDraggingSeg = !0, this.view.trigger("eventDragStart", a.el[0], a.event, b, {})
        },
        segDragStop: function (a, b) {
            this.isDraggingSeg = !1, this.view.trigger("eventDragStop", a.el[0], a.event, b, {})
        },
        computeEventDrop: function (a, b, c) {
            var d, e, f = this.view.calendar, g = a.start, h = b.start;
            return g.hasTime() === h.hasTime() ? (d = this.diffDates(h, g), c.allDay && T(d) ? (e = {
                start: c.start.clone(),
                end: f.getEventEnd(c),
                allDay: !1
            }, f.normalizeEventTimes(e)) : e = {
                start: c.start.clone(),
                end: c.end ? c.end.clone() : null,
                allDay: c.allDay
            }, e.start.add(d), e.end && e.end.add(d)) : e = {start: h.clone(), end: null, allDay: !h.hasTime()}, e
        },
        applyDragOpacity: function (a) {
            var b = this.view.opt("dragOpacity");
            null != b && a.each(function (a, c) {
                c.style.opacity = b
            })
        },
        externalDragStart: function (b, c) {
            var d, e, f = this.view;
            f.opt("droppable") && (d = a((c ? c.item : null) || b.target), e = f.opt("dropAccept"), (a.isFunction(e) ? e.call(d[0], d) : d.is(e)) && (this.isDraggingExternal || this.listenToExternalDrag(d, b, c)))
        },
        listenToExternalDrag: function (a, b, c) {
            var d, e = this, f = this.view.calendar, i = Ha(a), j = e.externalDragListener = new qb(this, {
                interactionStart: function () {
                    e.isDraggingExternal = !0
                }, hitOver: function (a) {
                    d = e.computeExternalDrop(a.component.getHitSpan(a), i), d && !f.isExternalSpanAllowed(e.eventToSpan(d), d, i.eventProps) && (g(), d = null), d && e.renderDrag(d)
                }, hitOut: function () {
                    d = null
                }, hitDone: function () {
                    h(), e.unrenderDrag()
                }, interactionEnd: function (b) {
                    d && e.view.reportExternalDrop(i, d, a, b, c), e.isDraggingExternal = !1, e.externalDragListener = null
                }
            });
            j.startDrag(b)
        },
        computeExternalDrop: function (a, b) {
            var c = this.view.calendar, d = {start: c.applyTimezone(a.start), end: null};
            return b.startTime && !d.start.hasTime() && d.start.time(b.startTime), b.duration && (d.end = d.start.clone().add(b.duration)), d
        },
        renderDrag: function (a, b) {
        },
        unrenderDrag: function () {
        },
        buildSegResizeListener: function (a, b) {
            var c, d, e = this, f = this.view, i = f.calendar, j = a.el, k = a.event, l = i.getEventEnd(k), m = this.segResizeListener = new qb(this, {
                scroll: f.opt("dragScroll"),
                subjectEl: j,
                interactionStart: function () {
                    c = !1
                },
                dragStart: function (b) {
                    c = !0, e.handleSegMouseout(a, b), e.segResizeStart(a, b)
                },
                hitOver: function (c, h, j) {
                    var m = e.getHitSpan(j), n = e.getHitSpan(c);
                    d = b ? e.computeEventStartResize(m, n, k) : e.computeEventEndResize(m, n, k), d && (i.isEventSpanAllowed(e.eventToSpan(d), k) ? d.start.isSame(k.start) && d.end.isSame(l) && (d = null) : (g(), d = null)), d && (f.hideEvent(k), e.renderEventResize(d, a))
                },
                hitOut: function () {
                    d = null
                },
                hitDone: function () {
                    e.unrenderEventResize(), f.showEvent(k), h()
                },
                interactionEnd: function (b) {
                    c && e.segResizeStop(a, b), d && f.reportEventResize(k, d, this.largeUnit, j, b), e.segResizeListener = null
                }
            });
            return m
        },
        segResizeStart: function (a, b) {
            this.isResizingSeg = !0, this.view.trigger("eventResizeStart", a.el[0], a.event, b, {})
        },
        segResizeStop: function (a, b) {
            this.isResizingSeg = !1, this.view.trigger("eventResizeStop", a.el[0], a.event, b, {})
        },
        computeEventStartResize: function (a, b, c) {
            return this.computeEventResize("start", a, b, c)
        },
        computeEventEndResize: function (a, b, c) {
            return this.computeEventResize("end", a, b, c)
        },
        computeEventResize: function (a, b, c, d) {
            var e, f, g = this.view.calendar, h = this.diffDates(c[a], b[a]);
            return e = {
                start: d.start.clone(),
                end: g.getEventEnd(d),
                allDay: d.allDay
            }, e.allDay && T(h) && (e.allDay = !1, g.normalizeEventTimes(e)), e[a].add(h), e.start.isBefore(e.end) || (f = this.minResizeDuration || (d.allDay ? g.defaultAllDayEventDuration : g.defaultTimedEventDuration), "start" == a ? e.start = e.end.clone().subtract(f) : e.end = e.start.clone().add(f)), e
        },
        renderEventResize: function (a, b) {
        },
        unrenderEventResize: function () {
        },
        getEventTimeText: function (a, b, c) {
            return null == b && (b = this.eventTimeFormat), null == c && (c = this.displayEventEnd), this.displayEventTime && a.start.hasTime() ? c && a.end ? this.view.formatRange(a, b) : a.start.format(b) : ""
        },
        getSegClasses: function (a, b, c) {
            var d = this.view, e = a.event, f = ["fc-event", a.isStart ? "fc-start" : "fc-not-start", a.isEnd ? "fc-end" : "fc-not-end"].concat(e.className, e.source ? e.source.className : []);
            return b && f.push("fc-draggable"), c && f.push("fc-resizable"), d.isEventSelected(e) && f.push("fc-selected"), f
        },
        getSegSkinCss: function (a) {
            var b = a.event, c = this.view, d = b.source || {}, e = b.color, f = d.color, g = c.opt("eventColor");
            return {
                "background-color": b.backgroundColor || e || d.backgroundColor || f || c.opt("eventBackgroundColor") || g,
                "border-color": b.borderColor || e || d.borderColor || f || c.opt("eventBorderColor") || g,
                color: b.textColor || d.textColor || c.opt("eventTextColor")
            }
        },
        eventToSegs: function (a) {
            return this.eventsToSegs([a])
        },
        eventToSpan: function (a) {
            return this.eventToSpans(a)[0]
        },
        eventToSpans: function (a) {
            var b = this.eventToRange(a);
            return this.eventRangeToSpans(b, a)
        },
        eventsToSegs: function (b, c) {
            var d = this, e = Fa(b), f = [];
            return a.each(e, function (a, b) {
                var e, g = [];
                for (e = 0; e < b.length; e++)g.push(d.eventToRange(b[e]));
                if (Da(b[0]))for (g = d.invertRanges(g), e = 0; e < g.length; e++)f.push.apply(f, d.eventRangeToSegs(g[e], b[0], c)); else for (e = 0; e < g.length; e++)f.push.apply(f, d.eventRangeToSegs(g[e], b[e], c))
            }), f
        },
        eventToRange: function (a) {
            return {
                start: a.start.clone().stripZone(),
                end: (a.end ? a.end.clone() : this.view.calendar.getDefaultEventEnd(null != a.allDay ? a.allDay : !a.start.hasTime(), a.start)).stripZone()
            }
        },
        eventRangeToSegs: function (a, b, c) {
            var d, e = this.eventRangeToSpans(a, b), f = [];
            for (d = 0; d < e.length; d++)f.push.apply(f, this.eventSpanToSegs(e[d], b, c));
            return f
        },
        eventRangeToSpans: function (b, c) {
            return [a.extend({}, b)]
        },
        eventSpanToSegs: function (a, b, c) {
            var d, e, f = c ? c(a) : this.spanToSegs(a);
            for (d = 0; d < f.length; d++)e = f[d], e.event = b, e.eventStartMS = +a.start, e.eventDurationMS = a.end - a.start;
            return f
        },
        invertRanges: function (a) {
            var b, c, d = this.view, e = d.start.clone(), f = d.end.clone(), g = [], h = e;
            for (a.sort(Ga), b = 0; b < a.length; b++)c = a[b], c.start > h && g.push({
                start: h,
                end: c.start
            }), h = c.end;
            return h < f && g.push({start: h, end: f}), g
        },
        sortEventSegs: function (a) {
            a.sort(ia(this, "compareEventSegs"))
        },
        compareEventSegs: function (a, b) {
            return a.eventStartMS - b.eventStartMS || b.eventDurationMS - a.eventDurationMS || b.event.allDay - a.event.allDay || H(a.event, b.event, this.view.eventOrderSpecs)
        }
    }), Va.isBgEvent = Ca, Va.dataAttrPrefix = "";
    var tb = Va.DayTableMixin = {
        breakOnWeeks: !1,
        dayDates: null,
        dayIndices: null,
        daysPerRow: null,
        rowCnt: null,
        colCnt: null,
        colHeadFormat: null,
        updateDayTable: function () {
            for (var a, b, c, d = this.view, e = this.start.clone(), f = -1, g = [], h = []; e.isBefore(this.end);)d.isHiddenDay(e) ? g.push(f + .5) : (f++, g.push(f), h.push(e.clone())), e.add(1, "days");
            if (this.breakOnWeeks) {
                for (b = h[0].day(), a = 1; a < h.length && h[a].day() != b; a++);
                c = Math.ceil(h.length / a)
            } else c = 1, a = h.length;
            this.dayDates = h, this.dayIndices = g, this.daysPerRow = a, this.rowCnt = c, this.updateDayTableCols()
        },
        updateDayTableCols: function () {
            this.colCnt = this.computeColCnt(), this.colHeadFormat = this.view.opt("columnFormat") || this.computeColHeadFormat()
        },
        computeColCnt: function () {
            return this.daysPerRow
        },
        getCellDate: function (a, b) {
            return this.dayDates[this.getCellDayIndex(a, b)].clone()
        },
        getCellRange: function (a, b) {
            var c = this.getCellDate(a, b), d = c.clone().add(1, "days");
            return {start: c, end: d}
        },
        getCellDayIndex: function (a, b) {
            return a * this.daysPerRow + this.getColDayIndex(b)
        },
        getColDayIndex: function (a) {
            return this.isRTL ? this.colCnt - 1 - a : a
        },
        getDateDayIndex: function (a) {
            var b = this.dayIndices, c = a.diff(this.start, "days");
            return c < 0 ? b[0] - 1 : c >= b.length ? b[b.length - 1] + 1 : b[c]
        },
        computeColHeadFormat: function () {
            return this.rowCnt > 1 || this.colCnt > 10 ? "ddd" : this.colCnt > 1 ? this.view.opt("dayOfMonthFormat") : "dddd"
        },
        sliceRangeByRow: function (a) {
            var b, c, d, e, f, g = this.daysPerRow, h = this.view.computeDayRange(a), i = this.getDateDayIndex(h.start), j = this.getDateDayIndex(h.end.clone().subtract(1, "days")), k = [];
            for (b = 0; b < this.rowCnt; b++)c = b * g, d = c + g - 1, e = Math.max(i, c), f = Math.min(j, d), e = Math.ceil(e), f = Math.floor(f), e <= f && k.push({
                row: b,
                firstRowDayIndex: e - c,
                lastRowDayIndex: f - c,
                isStart: e === i,
                isEnd: f === j
            });
            return k
        },
        sliceRangeByDay: function (a) {
            var b, c, d, e, f, g, h = this.daysPerRow, i = this.view.computeDayRange(a), j = this.getDateDayIndex(i.start), k = this.getDateDayIndex(i.end.clone().subtract(1, "days")), l = [];
            for (b = 0; b < this.rowCnt; b++)for (c = b * h, d = c + h - 1, e = c; e <= d; e++)f = Math.max(j, e), g = Math.min(k, e), f = Math.ceil(f), g = Math.floor(g), f <= g && l.push({
                row: b,
                firstRowDayIndex: f - c,
                lastRowDayIndex: g - c,
                isStart: f === j,
                isEnd: g === k
            });
            return l
        },
        renderHeadHtml: function () {
            var a = this.view;
            return '<div class="fc-row ' + a.widgetHeaderClass + '"><table><thead>' + this.renderHeadTrHtml() + "</thead></table></div>"
        },
        renderHeadIntroHtml: function () {
            return this.renderIntroHtml()
        },
        renderHeadTrHtml: function () {
            return "<tr>" + (this.isRTL ? "" : this.renderHeadIntroHtml()) + this.renderHeadDateCellsHtml() + (this.isRTL ? this.renderHeadIntroHtml() : "") + "</tr>"
        },
        renderHeadDateCellsHtml: function () {
            var a, b, c = [];
            for (a = 0; a < this.colCnt; a++)b = this.getCellDate(0, a), c.push(this.renderHeadDateCellHtml(b));
            return c.join("")
        },
        renderHeadDateCellHtml: function (a, b, c) {
            var d = this.view;
            return '<th class="fc-day-header ' + d.widgetHeaderClass + " fc-" + Za[a.day()] + '"' + (1 == this.rowCnt ? ' data-date="' + a.format("YYYY-MM-DD") + '"' : "") + (b > 1 ? ' colspan="' + b + '"' : "") + (c ? " " + c : "") + ">" + ca(a.format(this.colHeadFormat)) + "</th>"
        },
        renderBgTrHtml: function (a) {
            return "<tr>" + (this.isRTL ? "" : this.renderBgIntroHtml(a)) + this.renderBgCellsHtml(a) + (this.isRTL ? this.renderBgIntroHtml(a) : "") + "</tr>"
        },
        renderBgIntroHtml: function (a) {
            return this.renderIntroHtml()
        },
        renderBgCellsHtml: function (a) {
            var b, c, d = [];
            for (b = 0; b < this.colCnt; b++)c = this.getCellDate(a, b), d.push(this.renderBgCellHtml(c));
            return d.join("")
        },
        renderBgCellHtml: function (a, b) {
            var c = this.view, d = this.getDayClasses(a);
            return d.unshift("fc-day", c.widgetContentClass), '<td class="' + d.join(" ") + '" data-date="' + a.format("YYYY-MM-DD") + '"' + (b ? " " + b : "") + "></td>"
        },
        renderIntroHtml: function () {
        },
        bookendCells: function (a) {
            var b = this.renderIntroHtml();
            b && (this.isRTL ? a.append(b) : a.prepend(b))
        }
    }, ub = Va.DayGrid = sb.extend(tb, {
        numbersVisible: !1,
        bottomCoordPadding: 0,
        rowEls: null,
        cellEls: null,
        helperEls: null,
        rowCoordCache: null,
        colCoordCache: null,
        renderDates: function (a) {
            var b, c, d = this.view, e = this.rowCnt, f = this.colCnt, g = "";
            for (b = 0; b < e; b++)g += this.renderDayRowHtml(b, a);
            for (this.el.html(g), this.rowEls = this.el.find(".fc-row"), this.cellEls = this.el.find(".fc-day"), this.rowCoordCache = new ob({
                els: this.rowEls,
                isVertical: !0
            }), this.colCoordCache = new ob({
                els: this.cellEls.slice(0, this.colCnt),
                isHorizontal: !0
            }), b = 0; b < e; b++)for (c = 0; c < f; c++)d.trigger("dayRender", null, this.getCellDate(b, c), this.getCellEl(b, c))
        },
        unrenderDates: function () {
            this.removeSegPopover()
        },
        renderBusinessHours: function () {
            var a = this.view.calendar.getBusinessHoursEvents(!0), b = this.eventsToSegs(a);
            this.renderFill("businessHours", b, "bgevent")
        },
        renderDayRowHtml: function (a, b) {
            var c = this.view, d = ["fc-row", "fc-week", c.widgetContentClass];
            return b && d.push("fc-rigid"), '<div class="' + d.join(" ") + '"><div class="fc-bg"><table>' + this.renderBgTrHtml(a) + '</table></div><div class="fc-content-skeleton"><table>' + (this.numbersVisible ? "<thead>" + this.renderNumberTrHtml(a) + "</thead>" : "") + "</table></div></div>"
        },
        renderNumberTrHtml: function (a) {
            return "<tr>" + (this.isRTL ? "" : this.renderNumberIntroHtml(a)) + this.renderNumberCellsHtml(a) + (this.isRTL ? this.renderNumberIntroHtml(a) : "") + "</tr>"
        },
        renderNumberIntroHtml: function (a) {
            return this.renderIntroHtml()
        },
        renderNumberCellsHtml: function (a) {
            var b, c, d = [];
            for (b = 0; b < this.colCnt; b++)c = this.getCellDate(a, b), d.push(this.renderNumberCellHtml(c));
            return d.join("")
        },
        renderNumberCellHtml: function (a) {
            var b;
            return this.view.dayNumbersVisible ? (b = this.getDayClasses(a), b.unshift("fc-day-number"), '<td class="' + b.join(" ") + '" data-date="' + a.format() + '">' + a.date() + "</td>") : "<td/>"
        },
        computeEventTimeFormat: function () {
            return this.view.opt("extraSmallTimeFormat")
        },
        computeDisplayEventEnd: function () {
            return 1 == this.colCnt
        },
        rangeUpdated: function () {
            this.updateDayTable()
        },
        spanToSegs: function (a) {
            var b, c, d = this.sliceRangeByRow(a);
            for (b = 0; b < d.length; b++)c = d[b], this.isRTL ? (c.leftCol = this.daysPerRow - 1 - c.lastRowDayIndex, c.rightCol = this.daysPerRow - 1 - c.firstRowDayIndex) : (c.leftCol = c.firstRowDayIndex, c.rightCol = c.lastRowDayIndex);
            return d
        },
        prepareHits: function () {
            this.colCoordCache.build(), this.rowCoordCache.build(), this.rowCoordCache.bottoms[this.rowCnt - 1] += this.bottomCoordPadding
        },
        releaseHits: function () {
            this.colCoordCache.clear(), this.rowCoordCache.clear()
        },
        queryHit: function (a, b) {
            var c = this.colCoordCache.getHorizontalIndex(a), d = this.rowCoordCache.getVerticalIndex(b);
            if (null != d && null != c)return this.getCellHit(d, c)
        },
        getHitSpan: function (a) {
            return this.getCellRange(a.row, a.col)
        },
        getHitEl: function (a) {
            return this.getCellEl(a.row, a.col)
        },
        getCellHit: function (a, b) {
            return {
                row: a,
                col: b,
                component: this,
                left: this.colCoordCache.getLeftOffset(b),
                right: this.colCoordCache.getRightOffset(b),
                top: this.rowCoordCache.getTopOffset(a),
                bottom: this.rowCoordCache.getBottomOffset(a)
            }
        },
        getCellEl: function (a, b) {
            return this.cellEls.eq(a * this.colCnt + b)
        },
        renderDrag: function (a, b) {
            if (this.renderHighlight(this.eventToSpan(a)), b && !b.el.closest(this.el).length)return this.renderEventLocationHelper(a, b)
        },
        unrenderDrag: function () {
            this.unrenderHighlight(), this.unrenderHelper()
        },
        renderEventResize: function (a, b) {
            return this.renderHighlight(this.eventToSpan(a)), this.renderEventLocationHelper(a, b)
        },
        unrenderEventResize: function () {
            this.unrenderHighlight(), this.unrenderHelper()
        },
        renderHelper: function (b, c) {
            var d, e = [], f = this.eventToSegs(b);
            return f = this.renderFgSegEls(f), d = this.renderSegRows(f), this.rowEls.each(function (b, f) {
                var g, h = a(f), i = a('<div class="fc-helper-skeleton"><table/></div>');
                g = c && c.row === b ? c.el.position().top : h.find(".fc-content-skeleton tbody").position().top, i.css("top", g).find("table").append(d[b].tbodyEl), h.append(i), e.push(i[0])
            }), this.helperEls = a(e)
        },
        unrenderHelper: function () {
            this.helperEls && (this.helperEls.remove(), this.helperEls = null)
        },
        fillSegTag: "td",
        renderFill: function (b, c, d) {
            var e, f, g, h = [];
            for (c = this.renderFillSegEls(b, c), e = 0; e < c.length; e++)f = c[e], g = this.renderFillRow(b, f, d), this.rowEls.eq(f.row).append(g), h.push(g[0]);
            return this.elsByFill[b] = a(h), c
        },
        renderFillRow: function (b, c, d) {
            var e, f, g = this.colCnt, h = c.leftCol, i = c.rightCol + 1;
            return d = d || b.toLowerCase(), e = a('<div class="fc-' + d + '-skeleton"><table><tr/></table></div>'), f = e.find("tr"), h > 0 && f.append('<td colspan="' + h + '"/>'), f.append(c.el.attr("colspan", i - h)), i < g && f.append('<td colspan="' + (g - i) + '"/>'), this.bookendCells(f), e
        }
    });
    ub.mixin({
        rowStructs: null, unrenderEvents: function () {
            this.removeSegPopover(), sb.prototype.unrenderEvents.apply(this, arguments)
        }, getEventSegs: function () {
            return sb.prototype.getEventSegs.call(this).concat(this.popoverSegs || [])
        }, renderBgSegs: function (b) {
            var c = a.grep(b, function (a) {
                return a.event.allDay
            });
            return sb.prototype.renderBgSegs.call(this, c)
        }, renderFgSegs: function (b) {
            var c;
            return b = this.renderFgSegEls(b), c = this.rowStructs = this.renderSegRows(b), this.rowEls.each(function (b, d) {
                a(d).find(".fc-content-skeleton > table").append(c[b].tbodyEl)
            }), b
        }, unrenderFgSegs: function () {
            for (var a, b = this.rowStructs || []; a = b.pop();)a.tbodyEl.remove();
            this.rowStructs = null
        }, renderSegRows: function (a) {
            var b, c, d = [];
            for (b = this.groupSegRows(a), c = 0; c < b.length; c++)d.push(this.renderSegRow(c, b[c]));
            return d
        }, fgSegHtml: function (a, b) {
            var c, d, e = this.view, f = a.event, g = e.isEventDraggable(f), h = !b && f.allDay && a.isStart && e.isEventResizableFromStart(f), i = !b && f.allDay && a.isEnd && e.isEventResizableFromEnd(f), j = this.getSegClasses(a, g, h || i), k = ea(this.getSegSkinCss(a)), l = "";
            return j.unshift("fc-day-grid-event", "fc-h-event"), a.isStart && (c = this.getEventTimeText(f), c && (l = '<span class="fc-time">' + ca(c) + "</span>")), d = '<span class="fc-title">' + (ca(f.title || "") || "&nbsp;") + "</span>", '<a class="' + j.join(" ") + '"' + (f.url ? ' href="' + ca(f.url) + '"' : "") + (k ? ' style="' + k + '"' : "") + '><div class="fc-content">' + (this.isRTL ? d + " " + l : l + " " + d) + "</div>" + (h ? '<div class="fc-resizer fc-start-resizer" />' : "") + (i ? '<div class="fc-resizer fc-end-resizer" />' : "") + "</a>"
        }, renderSegRow: function (b, c) {
            function d(b) {
                for (; g < b;)k = (r[e - 1] || [])[g], k ? k.attr("rowspan", parseInt(k.attr("rowspan") || 1, 10) + 1) : (k = a("<td/>"), h.append(k)), q[e][g] = k, r[e][g] = k, g++
            }

            var e, f, g, h, i, j, k, l = this.colCnt, m = this.buildSegLevels(c), n = Math.max(1, m.length), o = a("<tbody/>"), p = [], q = [], r = [];
            for (e = 0; e < n; e++) {
                if (f = m[e], g = 0, h = a("<tr/>"), p.push([]), q.push([]), r.push([]), f)for (i = 0; i < f.length; i++) {
                    for (j = f[i], d(j.leftCol), k = a('<td class="fc-event-container"/>').append(j.el), j.leftCol != j.rightCol ? k.attr("colspan", j.rightCol - j.leftCol + 1) : r[e][g] = k; g <= j.rightCol;)q[e][g] = k, p[e][g] = j, g++;
                    h.append(k)
                }
                d(l), this.bookendCells(h), o.append(h)
            }
            return {row: b, tbodyEl: o, cellMatrix: q, segMatrix: p, segLevels: m, segs: c}
        }, buildSegLevels: function (a) {
            var b, c, d, e = [];
            for (this.sortEventSegs(a), b = 0; b < a.length; b++) {
                for (c = a[b], d = 0; d < e.length && Ia(c, e[d]); d++);
                c.level = d, (e[d] || (e[d] = [])).push(c)
            }
            for (d = 0; d < e.length; d++)e[d].sort(Ja);
            return e
        }, groupSegRows: function (a) {
            var b, c = [];
            for (b = 0; b < this.rowCnt; b++)c.push([]);
            for (b = 0; b < a.length; b++)c[a[b].row].push(a[b]);
            return c
        }
    }), ub.mixin({
        segPopover: null, popoverSegs: null, removeSegPopover: function () {
            this.segPopover && this.segPopover.hide()
        }, limitRows: function (a) {
            var b, c, d = this.rowStructs || [];
            for (b = 0; b < d.length; b++)this.unlimitRow(b), c = !!a && ("number" == typeof a ? a : this.computeRowLevelLimit(b)), c !== !1 && this.limitRow(b, c)
        }, computeRowLevelLimit: function (b) {
            function c(b, c) {
                f = Math.max(f, a(c).outerHeight())
            }

            var d, e, f, g = this.rowEls.eq(b), h = g.height(), i = this.rowStructs[b].tbodyEl.children();
            for (d = 0; d < i.length; d++)if (e = i.eq(d).removeClass("fc-limited"), f = 0, e.find("> td > :first-child").each(c), e.position().top + f > h)return d;
            return !1
        }, limitRow: function (b, c) {
            function d(d) {
                for (; w < d;)j = t.getCellSegs(b, w, c), j.length && (m = f[c - 1][w], s = t.renderMoreLink(b, w, j), r = a("<div/>").append(s), m.append(r), v.push(r[0])), w++
            }

            var e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t = this, u = this.rowStructs[b], v = [], w = 0;
            if (c && c < u.segLevels.length) {
                for (e = u.segLevels[c - 1], f = u.cellMatrix, g = u.tbodyEl.children().slice(c).addClass("fc-limited").get(), h = 0; h < e.length; h++) {
                    for (i = e[h], d(i.leftCol), l = [], k = 0; w <= i.rightCol;)j = this.getCellSegs(b, w, c), l.push(j), k += j.length, w++;
                    if (k) {
                        for (m = f[c - 1][i.leftCol], n = m.attr("rowspan") || 1, o = [], p = 0; p < l.length; p++)q = a('<td class="fc-more-cell"/>').attr("rowspan", n), j = l[p], s = this.renderMoreLink(b, i.leftCol + p, [i].concat(j)), r = a("<div/>").append(s), q.append(r), o.push(q[0]), v.push(q[0]);
                        m.addClass("fc-limited").after(a(o)), g.push(m[0])
                    }
                }
                d(this.colCnt), u.moreEls = a(v), u.limitedEls = a(g)
            }
        }, unlimitRow: function (a) {
            var b = this.rowStructs[a];
            b.moreEls && (b.moreEls.remove(), b.moreEls = null), b.limitedEls && (b.limitedEls.removeClass("fc-limited"), b.limitedEls = null)
        }, renderMoreLink: function (b, c, d) {
            var e = this, f = this.view;
            return a('<a class="fc-more"/>').text(this.getMoreLinkText(d.length)).on("click", function (g) {
                var h = f.opt("eventLimitClick"), i = e.getCellDate(b, c), j = a(this), k = e.getCellEl(b, c), l = e.getCellSegs(b, c), m = e.resliceDaySegs(l, i), n = e.resliceDaySegs(d, i);
                "function" == typeof h && (h = f.trigger("eventLimitClick", null, {
                    date: i,
                    dayEl: k,
                    moreEl: j,
                    segs: m,
                    hiddenSegs: n
                }, g)), "popover" === h ? e.showSegPopover(b, c, j, m) : "string" == typeof h && f.calendar.zoomTo(i, h)
            })
        }, showSegPopover: function (a, b, c, d) {
            var e, f, g = this, h = this.view, i = c.parent();
            e = 1 == this.rowCnt ? h.el : this.rowEls.eq(a), f = {
                className: "fc-more-popover",
                content: this.renderSegPopoverContent(a, b, d),
                parentEl: this.el,
                top: e.offset().top,
                autoHide: !0,
                viewportConstrain: h.opt("popoverViewportConstrain"),
                hide: function () {
                    g.segPopover.removeElement(), g.segPopover = null, g.popoverSegs = null
                }
            }, this.isRTL ? f.right = i.offset().left + i.outerWidth() + 1 : f.left = i.offset().left - 1, this.segPopover = new nb(f), this.segPopover.show()
        }, renderSegPopoverContent: function (b, c, d) {
            var e, f = this.view, g = f.opt("theme"), h = this.getCellDate(b, c).format(f.opt("dayPopoverFormat")), i = a('<div class="fc-header ' + f.widgetHeaderClass + '"><span class="fc-close ' + (g ? "ui-icon ui-icon-closethick" : "fc-icon fc-icon-x") + '"></span><span class="fc-title">' + ca(h) + '</span><div class="fc-clear"/></div><div class="fc-body ' + f.widgetContentClass + '"><div class="fc-event-container"></div></div>'), j = i.find(".fc-event-container");
            for (d = this.renderFgSegEls(d, !0), this.popoverSegs = d, e = 0; e < d.length; e++)this.prepareHits(), d[e].hit = this.getCellHit(b, c), this.releaseHits(), j.append(d[e].el);
            return i
        }, resliceDaySegs: function (b, c) {
            var d = a.map(b, function (a) {
                return a.event
            }), e = c.clone(), f = e.clone().add(1, "days"), g = {start: e, end: f};
            return b = this.eventsToSegs(d, function (a) {
                var b = K(a, g);
                return b ? [b] : []
            }), this.sortEventSegs(b), b
        }, getMoreLinkText: function (a) {
            var b = this.view.opt("eventLimitText");
            return "function" == typeof b ? b(a) : "+" + a + " " + b
        }, getCellSegs: function (a, b, c) {
            for (var d, e = this.rowStructs[a].segMatrix, f = c || 0, g = []; f < e.length;)d = e[f][b], d && g.push(d), f++;
            return g
        }
    });
    var vb = Va.TimeGrid = sb.extend(tb, {
        slotDuration: null,
        snapDuration: null,
        snapsPerSlot: null,
        minTime: null,
        maxTime: null,
        labelFormat: null,
        labelInterval: null,
        colEls: null,
        slatContainerEl: null,
        slatEls: null,
        nowIndicatorEls: null,
        colCoordCache: null,
        slatCoordCache: null,
        constructor: function () {
            sb.apply(this, arguments), this.processOptions()
        },
        renderDates: function () {
            this.el.html(this.renderHtml()), this.colEls = this.el.find(".fc-day"), this.slatContainerEl = this.el.find(".fc-slats"), this.slatEls = this.slatContainerEl.find("tr"), this.colCoordCache = new ob({
                els: this.colEls,
                isHorizontal: !0
            }), this.slatCoordCache = new ob({els: this.slatEls, isVertical: !0}), this.renderContentSkeleton()
        },
        renderHtml: function () {
            return '<div class="fc-bg"><table>' + this.renderBgTrHtml(0) + '</table></div><div class="fc-slats"><table>' + this.renderSlatRowHtml() + "</table></div>"
        },
        renderSlatRowHtml: function () {
            for (var a, c, d, e = this.view, f = this.isRTL, g = "", h = b.duration(+this.minTime); h < this.maxTime;)a = this.start.clone().time(h), c = ha(R(h, this.labelInterval)), d = '<td class="fc-axis fc-time ' + e.widgetContentClass + '" ' + e.axisStyleAttr() + ">" + (c ? "<span>" + ca(a.format(this.labelFormat)) + "</span>" : "") + "</td>", g += '<tr data-time="' + a.format("HH:mm:ss") + '"' + (c ? "" : ' class="fc-minor"') + ">" + (f ? "" : d) + '<td class="' + e.widgetContentClass + '"/>' + (f ? d : "") + "</tr>", h.add(this.slotDuration);
            return g
        },
        processOptions: function () {
            var c, d = this.view, e = d.opt("slotDuration"), f = d.opt("snapDuration");
            e = b.duration(e), f = f ? b.duration(f) : e, this.slotDuration = e, this.snapDuration = f, this.snapsPerSlot = e / f, this.minResizeDuration = f, this.minTime = b.duration(d.opt("minTime")), this.maxTime = b.duration(d.opt("maxTime")), c = d.opt("slotLabelFormat"), a.isArray(c) && (c = c[c.length - 1]), this.labelFormat = c || d.opt("axisFormat") || d.opt("smallTimeFormat"), c = d.opt("slotLabelInterval"), this.labelInterval = c ? b.duration(c) : this.computeLabelInterval(e)
        },
        computeLabelInterval: function (a) {
            var c, d, e;
            for (c = Mb.length - 1; c >= 0; c--)if (d = b.duration(Mb[c]), e = R(d, a), ha(e) && e > 1)return d;
            return b.duration(a)
        },
        computeEventTimeFormat: function () {
            return this.view.opt("noMeridiemTimeFormat")
        },
        computeDisplayEventEnd: function () {
            return !0
        },
        prepareHits: function () {
            this.colCoordCache.build(), this.slatCoordCache.build()
        },
        releaseHits: function () {
            this.colCoordCache.clear()
        },
        queryHit: function (a, b) {
            var c = this.snapsPerSlot, d = this.colCoordCache, e = this.slatCoordCache, f = d.getHorizontalIndex(a), g = e.getVerticalIndex(b);
            if (null != f && null != g) {
                var h = e.getTopOffset(g), i = e.getHeight(g), j = (b - h) / i, k = Math.floor(j * c), l = g * c + k, m = h + k / c * i, n = h + (k + 1) / c * i;
                return {
                    col: f,
                    snap: l,
                    component: this,
                    left: d.getLeftOffset(f),
                    right: d.getRightOffset(f),
                    top: m,
                    bottom: n
                }
            }
        },
        getHitSpan: function (a) {
            var b, c = this.getCellDate(0, a.col), d = this.computeSnapTime(a.snap);
            return c.time(d), b = c.clone().add(this.snapDuration), {start: c, end: b}
        },
        getHitEl: function (a) {
            return this.colEls.eq(a.col)
        },
        rangeUpdated: function () {
            this.updateDayTable()
        },
        computeSnapTime: function (a) {
            return b.duration(this.minTime + this.snapDuration * a)
        },
        spanToSegs: function (a) {
            var b, c = this.sliceRangeByTimes(a);
            for (b = 0; b < c.length; b++)this.isRTL ? c[b].col = this.daysPerRow - 1 - c[b].dayIndex : c[b].col = c[b].dayIndex;
            return c
        },
        sliceRangeByTimes: function (a) {
            var b, c, d, e, f = [];
            for (c = 0; c < this.daysPerRow; c++)d = this.dayDates[c].clone(), e = {
                start: d.clone().time(this.minTime),
                end: d.clone().time(this.maxTime)
            }, b = K(a, e), b && (b.dayIndex = c, f.push(b));
            return f
        },
        updateSize: function (a) {
            this.slatCoordCache.build(), a && this.updateSegVerticals([].concat(this.fgSegs || [], this.bgSegs || [], this.businessSegs || []))
        },
        getTotalSlatHeight: function () {
            return this.slatContainerEl.outerHeight()
        },
        computeDateTop: function (a, c) {
            return this.computeTimeTop(b.duration(a - c.clone().stripTime()))
        },
        computeTimeTop: function (a) {
            var b, c, d = this.slatEls.length, e = (a - this.minTime) / this.slotDuration;
            return e = Math.max(0, e), e = Math.min(d, e), b = Math.floor(e), b = Math.min(b, d - 1), c = e - b, this.slatCoordCache.getTopPosition(b) + this.slatCoordCache.getHeight(b) * c
        },
        renderDrag: function (a, b) {
            return b ? this.renderEventLocationHelper(a, b) : void this.renderHighlight(this.eventToSpan(a))
        },
        unrenderDrag: function () {
            this.unrenderHelper(), this.unrenderHighlight()
        },
        renderEventResize: function (a, b) {
            return this.renderEventLocationHelper(a, b)
        },
        unrenderEventResize: function () {
            this.unrenderHelper()
        },
        renderHelper: function (a, b) {
            return this.renderHelperSegs(this.eventToSegs(a), b)
        },
        unrenderHelper: function () {
            this.unrenderHelperSegs()
        },
        renderBusinessHours: function () {
            var a = this.view.calendar.getBusinessHoursEvents(), b = this.eventsToSegs(a);
            this.renderBusinessSegs(b)
        },
        unrenderBusinessHours: function () {
            this.unrenderBusinessSegs()
        },
        getNowIndicatorUnit: function () {
            return "minute"
        },
        renderNowIndicator: function (b) {
            var c, d = this.spanToSegs({start: b, end: b}), e = this.computeDateTop(b, b), f = [];
            for (c = 0; c < d.length; c++)f.push(a('<div class="fc-now-indicator fc-now-indicator-line"></div>').css("top", e).appendTo(this.colContainerEls.eq(d[c].col))[0]);
            d.length > 0 && f.push(a('<div class="fc-now-indicator fc-now-indicator-arrow"></div>').css("top", e).appendTo(this.el.find(".fc-content-skeleton"))[0]), this.nowIndicatorEls = a(f)
        },
        unrenderNowIndicator: function () {
            this.nowIndicatorEls && (this.nowIndicatorEls.remove(), this.nowIndicatorEls = null)
        },
        renderSelection: function (a) {
            this.view.opt("selectHelper") ? this.renderEventLocationHelper(a) : this.renderHighlight(a)
        },
        unrenderSelection: function () {
            this.unrenderHelper(), this.unrenderHighlight()
        },
        renderHighlight: function (a) {
            this.renderHighlightSegs(this.spanToSegs(a))
        },
        unrenderHighlight: function () {
            this.unrenderHighlightSegs()
        }
    });
    vb.mixin({
        colContainerEls: null,
        fgContainerEls: null,
        bgContainerEls: null,
        helperContainerEls: null,
        highlightContainerEls: null,
        businessContainerEls: null,
        fgSegs: null,
        bgSegs: null,
        helperSegs: null,
        highlightSegs: null,
        businessSegs: null,
        renderContentSkeleton: function () {
            var b, c, d = "";
            for (b = 0; b < this.colCnt; b++)d += '<td><div class="fc-content-col"><div class="fc-event-container fc-helper-container"></div><div class="fc-event-container"></div><div class="fc-highlight-container"></div><div class="fc-bgevent-container"></div><div class="fc-business-container"></div></div></td>';
            c = a('<div class="fc-content-skeleton"><table><tr>' + d + "</tr></table></div>"), this.colContainerEls = c.find(".fc-content-col"), this.helperContainerEls = c.find(".fc-helper-container"), this.fgContainerEls = c.find(".fc-event-container:not(.fc-helper-container)"), this.bgContainerEls = c.find(".fc-bgevent-container"), this.highlightContainerEls = c.find(".fc-highlight-container"), this.businessContainerEls = c.find(".fc-business-container"), this.bookendCells(c.find("tr")), this.el.append(c)
        },
        renderFgSegs: function (a) {
            return a = this.renderFgSegsIntoContainers(a, this.fgContainerEls), this.fgSegs = a, a
        },
        unrenderFgSegs: function () {
            this.unrenderNamedSegs("fgSegs")
        },
        renderHelperSegs: function (b, c) {
            var d, e, f, g = [];
            for (b = this.renderFgSegsIntoContainers(b, this.helperContainerEls), d = 0; d < b.length; d++)e = b[d], c && c.col === e.col && (f = c.el, e.el.css({
                left: f.css("left"),
                right: f.css("right"),
                "margin-left": f.css("margin-left"),
                "margin-right": f.css("margin-right")
            })), g.push(e.el[0]);
            return this.helperSegs = b, a(g)
        },
        unrenderHelperSegs: function () {
            this.unrenderNamedSegs("helperSegs")
        },
        renderBgSegs: function (a) {
            return a = this.renderFillSegEls("bgEvent", a), this.updateSegVerticals(a), this.attachSegsByCol(this.groupSegsByCol(a), this.bgContainerEls), this.bgSegs = a, a
        },
        unrenderBgSegs: function () {
            this.unrenderNamedSegs("bgSegs")
        },
        renderHighlightSegs: function (a) {
            a = this.renderFillSegEls("highlight", a), this.updateSegVerticals(a), this.attachSegsByCol(this.groupSegsByCol(a), this.highlightContainerEls), this.highlightSegs = a
        },
        unrenderHighlightSegs: function () {
            this.unrenderNamedSegs("highlightSegs")
        },
        renderBusinessSegs: function (a) {
            a = this.renderFillSegEls("businessHours", a), this.updateSegVerticals(a), this.attachSegsByCol(this.groupSegsByCol(a), this.businessContainerEls), this.businessSegs = a
        },
        unrenderBusinessSegs: function () {
            this.unrenderNamedSegs("businessSegs")
        },
        groupSegsByCol: function (a) {
            var b, c = [];
            for (b = 0; b < this.colCnt; b++)c.push([]);
            for (b = 0; b < a.length; b++)c[a[b].col].push(a[b]);
            return c
        },
        attachSegsByCol: function (a, b) {
            var c, d, e;
            for (c = 0; c < this.colCnt; c++)for (d = a[c], e = 0; e < d.length; e++)b.eq(c).append(d[e].el)
        },
        unrenderNamedSegs: function (a) {
            var b, c = this[a];
            if (c) {
                for (b = 0; b < c.length; b++)c[b].el.remove();
                this[a] = null
            }
        },
        renderFgSegsIntoContainers: function (a, b) {
            var c, d;
            for (a = this.renderFgSegEls(a), c = this.groupSegsByCol(a), d = 0; d < this.colCnt; d++)this.updateFgSegCoords(c[d]);
            return this.attachSegsByCol(c, b), a
        },
        fgSegHtml: function (a, b) {
            var c, d, e, f = this.view, g = a.event, h = f.isEventDraggable(g), i = !b && a.isStart && f.isEventResizableFromStart(g), j = !b && a.isEnd && f.isEventResizableFromEnd(g), k = this.getSegClasses(a, h, i || j), l = ea(this.getSegSkinCss(a));
            return k.unshift("fc-time-grid-event", "fc-v-event"), f.isMultiDayEvent(g) ? (a.isStart || a.isEnd) && (c = this.getEventTimeText(a), d = this.getEventTimeText(a, "LT"), e = this.getEventTimeText(a, null, !1)) : (c = this.getEventTimeText(g), d = this.getEventTimeText(g, "LT"), e = this.getEventTimeText(g, null, !1)), '<a class="' + k.join(" ") + '"' + (g.url ? ' href="' + ca(g.url) + '"' : "") + (l ? ' style="' + l + '"' : "") + '><div class="fc-content">' + (c ? '<div class="fc-time" data-start="' + ca(e) + '" data-full="' + ca(d) + '"><span>' + ca(c) + "</span></div>" : "") + (g.title ? '<div class="fc-title">' + ca(g.title) + "</div>" : "") + '</div><div class="fc-bg"/>' + (j ? '<div class="fc-resizer fc-end-resizer" />' : "") + "</a>"
        },
        updateSegVerticals: function (a) {
            this.computeSegVerticals(a), this.assignSegVerticals(a)
        },
        computeSegVerticals: function (a) {
            var b, c;
            for (b = 0; b < a.length; b++)c = a[b], c.top = this.computeDateTop(c.start, c.start), c.bottom = this.computeDateTop(c.end, c.start)
        },
        assignSegVerticals: function (a) {
            var b, c;
            for (b = 0; b < a.length; b++)c = a[b], c.el.css(this.generateSegVerticalCss(c))
        },
        generateSegVerticalCss: function (a) {
            return {top: a.top, bottom: -a.bottom}
        },
        updateFgSegCoords: function (a) {
            this.computeSegVerticals(a), this.computeFgSegHorizontals(a), this.assignSegVerticals(a), this.assignFgSegHorizontals(a)
        },
        computeFgSegHorizontals: function (a) {
            var b, c, d;
            if (this.sortEventSegs(a), b = Ka(a), La(b), c = b[0]) {
                for (d = 0; d < c.length; d++)Ma(c[d]);
                for (d = 0; d < c.length; d++)this.computeFgSegForwardBack(c[d], 0, 0)
            }
        },
        computeFgSegForwardBack: function (a, b, c) {
            var d, e = a.forwardSegs;
            if (void 0 === a.forwardCoord)for (e.length ? (this.sortForwardSegs(e), this.computeFgSegForwardBack(e[0], b + 1, c), a.forwardCoord = e[0].backwardCoord) : a.forwardCoord = 1, a.backwardCoord = a.forwardCoord - (a.forwardCoord - c) / (b + 1), d = 0; d < e.length; d++)this.computeFgSegForwardBack(e[d], 0, a.forwardCoord)
        },
        sortForwardSegs: function (a) {
            a.sort(ia(this, "compareForwardSegs"))
        },
        compareForwardSegs: function (a, b) {
            return b.forwardPressure - a.forwardPressure || (a.backwardCoord || 0) - (b.backwardCoord || 0) || this.compareEventSegs(a, b)
        },
        assignFgSegHorizontals: function (a) {
            var b, c;
            for (b = 0; b < a.length; b++)c = a[b], c.el.css(this.generateFgSegHorizontalCss(c)), c.bottom - c.top < 30 && c.el.addClass("fc-short")
        },
        generateFgSegHorizontalCss: function (a) {
            var b, c, d = this.view.opt("slotEventOverlap"), e = a.backwardCoord, f = a.forwardCoord, g = this.generateSegVerticalCss(a);
            return d && (f = Math.min(1, e + 2 * (f - e))), this.isRTL ? (b = 1 - f, c = e) : (b = e, c = 1 - f), g.zIndex = a.level + 1, g.left = 100 * b + "%", g.right = 100 * c + "%", d && a.forwardPressure && (g[this.isRTL ? "marginLeft" : "marginRight"] = 20), g
        }
    });
    var wb = Va.View = xa.extend(kb, lb, {
        type: null,
        name: null,
        title: null,
        calendar: null,
        options: null,
        el: null,
        displaying: null,
        isSkeletonRendered: !1,
        isEventsRendered: !1,
        start: null,
        end: null,
        intervalStart: null,
        intervalEnd: null,
        intervalDuration: null,
        intervalUnit: null,
        isRTL: !1,
        isSelected: !1,
        selectedEvent: null,
        eventOrderSpecs: null,
        widgetHeaderClass: null,
        widgetContentClass: null,
        highlightStateClass: null,
        nextDayThreshold: null,
        isHiddenDayHash: null,
        isNowIndicatorRendered: null,
        initialNowDate: null,
        initialNowQueriedMs: null,
        nowIndicatorTimeoutID: null,
        nowIndicatorIntervalID: null,
        constructor: function (a, c, d, e) {
            this.calendar = a, this.type = this.name = c, this.options = d, this.intervalDuration = e || b.duration(1, "day"), this.nextDayThreshold = b.duration(this.opt("nextDayThreshold")), this.initThemingProps(), this.initHiddenDays(), this.isRTL = this.opt("isRTL"), this.eventOrderSpecs = G(this.opt("eventOrder")), this.initialize()
        },
        initialize: function () {
        },
        opt: function (a) {
            return this.options[a]
        },
        trigger: function (a, b) {
            var c = this.calendar;
            return c.trigger.apply(c, [a, b || this].concat(Array.prototype.slice.call(arguments, 2), [this]))
        },
        setDate: function (a) {
            this.setRange(this.computeRange(a))
        },
        setRange: function (b) {
            a.extend(this, b), this.updateTitle()
        },
        computeRange: function (a) {
            var b, c, d = O(this.intervalDuration), e = a.clone().startOf(d), f = e.clone().add(this.intervalDuration);
            return /year|month|week|day/.test(d) ? (e.stripTime(), f.stripTime()) : (e.hasTime() || (e = this.calendar.time(0)), f.hasTime() || (f = this.calendar.time(0))), b = e.clone(), b = this.skipHiddenDays(b), c = f.clone(), c = this.skipHiddenDays(c, -1, !0), {
                intervalUnit: d,
                intervalStart: e,
                intervalEnd: f,
                start: b,
                end: c
            }
        },
        computePrevDate: function (a) {
            return this.massageCurrentDate(a.clone().startOf(this.intervalUnit).subtract(this.intervalDuration), -1)
        },
        computeNextDate: function (a) {
            return this.massageCurrentDate(a.clone().startOf(this.intervalUnit).add(this.intervalDuration))
        },
        massageCurrentDate: function (a, b) {
            return this.intervalDuration.as("days") <= 1 && this.isHiddenDay(a) && (a = this.skipHiddenDays(a, b), a.startOf("day")), a
        },
        updateTitle: function () {
            this.title = this.computeTitle()
        },
        computeTitle: function () {
            return this.formatRange({
                start: this.calendar.applyTimezone(this.intervalStart),
                end: this.calendar.applyTimezone(this.intervalEnd)
            }, this.opt("titleFormat") || this.computeTitleFormat(), this.opt("titleRangeSeparator"))
        },
        computeTitleFormat: function () {
            return "year" == this.intervalUnit ? "YYYY" : "month" == this.intervalUnit ? this.opt("monthYearFormat") : this.intervalDuration.as("days") > 1 ? "ll" : "LL";
        },
        formatRange: function (a, b, c) {
            var d = a.end;
            return d.hasTime() || (d = d.clone().subtract(1)), sa(a.start, d, b, c, this.opt("isRTL"))
        },
        setElement: function (a) {
            this.el = a, this.bindGlobalHandlers()
        },
        removeElement: function () {
            this.clear(), this.isSkeletonRendered && (this.unrenderSkeleton(), this.isSkeletonRendered = !1), this.unbindGlobalHandlers(), this.el.remove()
        },
        display: function (b) {
            var c = this, d = null;
            return this.displaying && (d = this.queryScroll()), this.calendar.freezeContentHeight(), this.clear().then(function () {
                return c.displaying = a.when(c.displayView(b)).then(function () {
                    c.forceScroll(c.computeInitialScroll(d)), c.calendar.unfreezeContentHeight(), c.triggerRender()
                })
            })
        },
        clear: function () {
            var b = this, c = this.displaying;
            return c ? c.then(function () {
                return b.displaying = null, b.clearEvents(), b.clearView()
            }) : a.when()
        },
        displayView: function (a) {
            this.isSkeletonRendered || (this.renderSkeleton(), this.isSkeletonRendered = !0), a && this.setDate(a), this.render && this.render(), this.renderDates(), this.updateSize(), this.renderBusinessHours(), this.startNowIndicator()
        },
        clearView: function () {
            this.unselect(), this.stopNowIndicator(), this.triggerUnrender(), this.unrenderBusinessHours(), this.unrenderDates(), this.destroy && this.destroy()
        },
        renderSkeleton: function () {
        },
        unrenderSkeleton: function () {
        },
        renderDates: function () {
        },
        unrenderDates: function () {
        },
        triggerRender: function () {
            this.trigger("viewRender", this, this, this.el)
        },
        triggerUnrender: function () {
            this.trigger("viewDestroy", this, this, this.el)
        },
        bindGlobalHandlers: function () {
            this.listenTo(a(document), "mousedown", this.handleDocumentMousedown), this.listenTo(a(document), "touchstart", this.processUnselect)
        },
        unbindGlobalHandlers: function () {
            this.stopListeningTo(a(document))
        },
        initThemingProps: function () {
            var a = this.opt("theme") ? "ui" : "fc";
            this.widgetHeaderClass = a + "-widget-header", this.widgetContentClass = a + "-widget-content", this.highlightStateClass = a + "-state-highlight"
        },
        renderBusinessHours: function () {
        },
        unrenderBusinessHours: function () {
        },
        startNowIndicator: function () {
            var a, c, d, e = this;
            this.opt("nowIndicator") && (a = this.getNowIndicatorUnit(), a && (c = ia(this, "updateNowIndicator"), this.initialNowDate = this.calendar.getNow(), this.initialNowQueriedMs = +new Date, this.renderNowIndicator(this.initialNowDate), this.isNowIndicatorRendered = !0, d = this.initialNowDate.clone().startOf(a).add(1, a) - this.initialNowDate, this.nowIndicatorTimeoutID = setTimeout(function () {
                e.nowIndicatorTimeoutID = null, c(), d = +b.duration(1, a), d = Math.max(100, d), e.nowIndicatorIntervalID = setInterval(c, d)
            }, d)))
        },
        updateNowIndicator: function () {
            this.isNowIndicatorRendered && (this.unrenderNowIndicator(), this.renderNowIndicator(this.initialNowDate.clone().add(new Date - this.initialNowQueriedMs)))
        },
        stopNowIndicator: function () {
            this.isNowIndicatorRendered && (this.nowIndicatorTimeoutID && (clearTimeout(this.nowIndicatorTimeoutID), this.nowIndicatorTimeoutID = null), this.nowIndicatorIntervalID && (clearTimeout(this.nowIndicatorIntervalID), this.nowIndicatorIntervalID = null), this.unrenderNowIndicator(), this.isNowIndicatorRendered = !1)
        },
        getNowIndicatorUnit: function () {
        },
        renderNowIndicator: function (a) {
        },
        unrenderNowIndicator: function () {
        },
        updateSize: function (a) {
            var b;
            a && (b = this.queryScroll()), this.updateHeight(a), this.updateWidth(a), this.updateNowIndicator(), a && this.setScroll(b)
        },
        updateWidth: function (a) {
        },
        updateHeight: function (a) {
            var b = this.calendar;
            this.setHeight(b.getSuggestedViewHeight(), b.isHeightAuto())
        },
        setHeight: function (a, b) {
        },
        computeInitialScroll: function (a) {
            return 0
        },
        queryScroll: function () {
        },
        setScroll: function (a) {
        },
        forceScroll: function (a) {
            var b = this;
            this.setScroll(a), setTimeout(function () {
                b.setScroll(a)
            }, 0)
        },
        displayEvents: function (a) {
            var b = this.queryScroll();
            this.clearEvents(), this.renderEvents(a), this.isEventsRendered = !0, this.setScroll(b), this.triggerEventRender()
        },
        clearEvents: function () {
            var a;
            this.isEventsRendered && (a = this.queryScroll(), this.triggerEventUnrender(), this.destroyEvents && this.destroyEvents(), this.unrenderEvents(), this.setScroll(a), this.isEventsRendered = !1)
        },
        renderEvents: function (a) {
        },
        unrenderEvents: function () {
        },
        triggerEventRender: function () {
            this.renderedEventSegEach(function (a) {
                this.trigger("eventAfterRender", a.event, a.event, a.el)
            }), this.trigger("eventAfterAllRender")
        },
        triggerEventUnrender: function () {
            this.renderedEventSegEach(function (a) {
                this.trigger("eventDestroy", a.event, a.event, a.el)
            })
        },
        resolveEventEl: function (b, c) {
            var d = this.trigger("eventRender", b, b, c);
            return d === !1 ? c = null : d && d !== !0 && (c = a(d)), c
        },
        showEvent: function (a) {
            this.renderedEventSegEach(function (a) {
                a.el.css("visibility", "")
            }, a)
        },
        hideEvent: function (a) {
            this.renderedEventSegEach(function (a) {
                a.el.css("visibility", "hidden")
            }, a)
        },
        renderedEventSegEach: function (a, b) {
            var c, d = this.getEventSegs();
            for (c = 0; c < d.length; c++)b && d[c].event._id !== b._id || d[c].el && a.call(this, d[c])
        },
        getEventSegs: function () {
            return []
        },
        isEventDraggable: function (a) {
            var b = a.source || {};
            return ba(a.startEditable, b.startEditable, this.opt("eventStartEditable"), a.editable, b.editable, this.opt("editable"))
        },
        reportEventDrop: function (a, b, c, d, e) {
            var f = this.calendar, g = f.mutateEvent(a, b, c), h = function () {
                g.undo(), f.reportEventChange()
            };
            this.triggerEventDrop(a, g.dateDelta, h, d, e), f.reportEventChange()
        },
        triggerEventDrop: function (a, b, c, d, e) {
            this.trigger("eventDrop", d[0], a, b, c, e, {})
        },
        reportExternalDrop: function (b, c, d, e, f) {
            var g, h, i = b.eventProps;
            i && (g = a.extend({}, i, c), h = this.calendar.renderEvent(g, b.stick)[0]), this.triggerExternalDrop(h, c, d, e, f)
        },
        triggerExternalDrop: function (a, b, c, d, e) {
            this.trigger("drop", c[0], b.start, d, e), a && this.trigger("eventReceive", null, a)
        },
        renderDrag: function (a, b) {
        },
        unrenderDrag: function () {
        },
        isEventResizableFromStart: function (a) {
            return this.opt("eventResizableFromStart") && this.isEventResizable(a)
        },
        isEventResizableFromEnd: function (a) {
            return this.isEventResizable(a)
        },
        isEventResizable: function (a) {
            var b = a.source || {};
            return ba(a.durationEditable, b.durationEditable, this.opt("eventDurationEditable"), a.editable, b.editable, this.opt("editable"))
        },
        reportEventResize: function (a, b, c, d, e) {
            var f = this.calendar, g = f.mutateEvent(a, b, c), h = function () {
                g.undo(), f.reportEventChange()
            };
            this.triggerEventResize(a, g.durationDelta, h, d, e), f.reportEventChange()
        },
        triggerEventResize: function (a, b, c, d, e) {
            this.trigger("eventResize", d[0], a, b, c, e, {})
        },
        select: function (a, b) {
            this.unselect(b), this.renderSelection(a), this.reportSelection(a, b)
        },
        renderSelection: function (a) {
        },
        reportSelection: function (a, b) {
            this.isSelected = !0, this.triggerSelect(a, b)
        },
        triggerSelect: function (a, b) {
            this.trigger("select", null, this.calendar.applyTimezone(a.start), this.calendar.applyTimezone(a.end), b)
        },
        unselect: function (a) {
            this.isSelected && (this.isSelected = !1, this.destroySelection && this.destroySelection(), this.unrenderSelection(), this.trigger("unselect", null, a))
        },
        unrenderSelection: function () {
        },
        selectEvent: function (a) {
            this.selectedEvent && this.selectedEvent === a || (this.unselectEvent(), this.renderedEventSegEach(function (a) {
                a.el.addClass("fc-selected")
            }, a), this.selectedEvent = a)
        },
        unselectEvent: function () {
            this.selectedEvent && (this.renderedEventSegEach(function (a) {
                a.el.removeClass("fc-selected")
            }, this.selectedEvent), this.selectedEvent = null)
        },
        isEventSelected: function (a) {
            return this.selectedEvent && this.selectedEvent._id === a._id
        },
        handleDocumentMousedown: function (a) {
            u(a) && this.processUnselect(a)
        },
        processUnselect: function (a) {
            this.processRangeUnselect(a), this.processEventUnselect(a)
        },
        processRangeUnselect: function (b) {
            var c;
            this.isSelected && this.opt("unselectAuto") && (c = this.opt("unselectCancel"), c && a(b.target).closest(c).length || this.unselect(b))
        },
        processEventUnselect: function (b) {
            this.selectedEvent && (a(b.target).closest(".fc-selected").length || this.unselectEvent())
        },
        triggerDayClick: function (a, b, c) {
            this.trigger("dayClick", b, this.calendar.applyTimezone(a.start), c)
        },
        initHiddenDays: function () {
            var b, c = this.opt("hiddenDays") || [], d = [], e = 0;
            for (this.opt("weekends") === !1 && c.push(0, 6), b = 0; b < 7; b++)(d[b] = a.inArray(b, c) !== -1) || e++;
            if (!e)throw"invalid hiddenDays";
            this.isHiddenDayHash = d
        },
        isHiddenDay: function (a) {
            return b.isMoment(a) && (a = a.day()), this.isHiddenDayHash[a]
        },
        skipHiddenDays: function (a, b, c) {
            var d = a.clone();
            for (b = b || 1; this.isHiddenDayHash[(d.day() + (c ? b : 0) + 7) % 7];)d.add(b, "days");
            return d
        },
        computeDayRange: function (a) {
            var b, c = a.start.clone().stripTime(), d = a.end, e = null;
            return d && (e = d.clone().stripTime(), b = +d.time(), b && b >= this.nextDayThreshold && e.add(1, "days")), (!d || e <= c) && (e = c.clone().add(1, "days")), {
                start: c,
                end: e
            }
        },
        isMultiDayEvent: function (a) {
            var b = this.computeDayRange(a);
            return b.end.diff(b.start, "days") > 1
        }
    }), xb = Va.Scroller = xa.extend({
        el: null,
        scrollEl: null,
        overflowX: null,
        overflowY: null,
        constructor: function (a) {
            a = a || {}, this.overflowX = a.overflowX || a.overflow || "auto", this.overflowY = a.overflowY || a.overflow || "auto"
        },
        render: function () {
            this.el = this.renderEl(), this.applyOverflow()
        },
        renderEl: function () {
            return this.scrollEl = a('<div class="fc-scroller"></div>')
        },
        clear: function () {
            this.setHeight("auto"), this.applyOverflow()
        },
        destroy: function () {
            this.el.remove()
        },
        applyOverflow: function () {
            this.scrollEl.css({"overflow-x": this.overflowX, "overflow-y": this.overflowY})
        },
        lockOverflow: function (a) {
            var b = this.overflowX, c = this.overflowY;
            a = a || this.getScrollbarWidths(), "auto" === b && (b = a.top || a.bottom || this.scrollEl[0].scrollWidth - 1 > this.scrollEl[0].clientWidth ? "scroll" : "hidden"), "auto" === c && (c = a.left || a.right || this.scrollEl[0].scrollHeight - 1 > this.scrollEl[0].clientHeight ? "scroll" : "hidden"), this.scrollEl.css({
                "overflow-x": b,
                "overflow-y": c
            })
        },
        setHeight: function (a) {
            this.scrollEl.height(a)
        },
        getScrollTop: function () {
            return this.scrollEl.scrollTop()
        },
        setScrollTop: function (a) {
            this.scrollEl.scrollTop(a)
        },
        getClientWidth: function () {
            return this.scrollEl[0].clientWidth
        },
        getClientHeight: function () {
            return this.scrollEl[0].clientHeight
        },
        getScrollbarWidths: function () {
            return q(this.scrollEl)
        }
    }), yb = Va.Calendar = xa.extend({
        dirDefaults: null,
        langDefaults: null,
        overrides: null,
        options: null,
        viewSpecCache: null,
        view: null,
        header: null,
        loadingLevel: 0,
        constructor: Pa,
        initialize: function () {
        },
        initOptions: function (a) {
            var b, e, f, g;
            a = d(a), b = a.lang, e = zb[b], e || (b = yb.defaults.lang, e = zb[b] || {}), f = ba(a.isRTL, e.isRTL, yb.defaults.isRTL), g = f ? yb.rtlDefaults : {}, this.dirDefaults = g, this.langDefaults = e, this.overrides = a, this.options = c([yb.defaults, g, e, a]), Qa(this.options), this.viewSpecCache = {}
        },
        getViewSpec: function (a) {
            var b = this.viewSpecCache;
            return b[a] || (b[a] = this.buildViewSpec(a))
        },
        getUnitViewSpec: function (b) {
            var c, d, e;
            if (a.inArray(b, $a) != -1)for (c = this.header.getViewsWithButtons(), a.each(Va.views, function (a) {
                c.push(a)
            }), d = 0; d < c.length; d++)if (e = this.getViewSpec(c[d]), e && e.singleUnit == b)return e
        },
        buildViewSpec: function (a) {
            for (var d, e, f, g, h = this.overrides.views || {}, i = [], j = [], k = [], l = a; l;)d = Wa[l], e = h[l], l = null, "function" == typeof d && (d = {class: d}), d && (i.unshift(d), j.unshift(d.defaults || {}), f = f || d.duration, l = l || d.type), e && (k.unshift(e), f = f || e.duration, l = l || e.type);
            return d = W(i), d.type = a, !!d.class && (f && (f = b.duration(f), f.valueOf() && (d.duration = f, g = O(f), 1 === f.as(g) && (d.singleUnit = g, k.unshift(h[g] || {})))), d.defaults = c(j), d.overrides = c(k), this.buildViewSpecOptions(d), this.buildViewSpecButtonText(d, a), d)
        },
        buildViewSpecOptions: function (a) {
            a.options = c([yb.defaults, a.defaults, this.dirDefaults, this.langDefaults, this.overrides, a.overrides]), Qa(a.options)
        },
        buildViewSpecButtonText: function (a, b) {
            function c(c) {
                var d = c.buttonText || {};
                return d[b] || (a.singleUnit ? d[a.singleUnit] : null)
            }

            a.buttonTextOverride = c(this.overrides) || a.overrides.buttonText, a.buttonTextDefault = c(this.langDefaults) || c(this.dirDefaults) || a.defaults.buttonText || c(yb.defaults) || (a.duration ? this.humanizeDuration(a.duration) : null) || b
        },
        instantiateView: function (a) {
            var b = this.getViewSpec(a);
            return new b.class(this, a, b.options, b.duration)
        },
        isValidViewType: function (a) {
            return Boolean(this.getViewSpec(a))
        },
        pushLoading: function () {
            this.loadingLevel++ || this.trigger("loading", null, !0, this.view)
        },
        popLoading: function () {
            --this.loadingLevel || this.trigger("loading", null, !1, this.view)
        },
        buildSelectSpan: function (a, b) {
            var c, d = this.moment(a).stripZone();
            return c = b ? this.moment(b).stripZone() : d.hasTime() ? d.clone().add(this.defaultTimedEventDuration) : d.clone().add(this.defaultAllDayEventDuration), {
                start: d,
                end: c
            }
        }
    });
    yb.mixin(kb), yb.defaults = {
        titleRangeSeparator: "  ",
        monthYearFormat: "MMMM YYYY",
        defaultTimedEventDuration: "02:00:00",
        defaultAllDayEventDuration: {days: 1},
        forceEventDuration: !1,
        nextDayThreshold: "09:00:00",
        defaultView: "month",
        aspectRatio: 1.35,
        header: {left: "title", center: "", right: "today prev,next"},
        weekends: !0,
        weekNumbers: !1,
        weekNumberTitle: "W",
        weekNumberCalculation: "local",
        scrollTime: "06:00:00",
        lazyFetching: !0,
        startParam: "start",
        endParam: "end",
        timezoneParam: "timezone",
        timezone: !1,
        isRTL: !1,
        buttonText: {
            prev: "prev",
            next: "next",
            prevYear: "prev year",
            nextYear: "next year",
            year: "year",
            today: "today",
            month: "month",
            week: "week",
            day: "day"
        },
        buttonIcons: {
            prev: "left-single-arrow",
            next: "right-single-arrow",
            prevYear: "left-double-arrow",
            nextYear: "right-double-arrow"
        },
        theme: !1,
        themeButtonIcons: {
            prev: "circle-triangle-w",
            next: "circle-triangle-e",
            prevYear: "seek-prev",
            nextYear: "seek-next"
        },
        dragOpacity: .75,
        dragRevertDuration: 500,
        dragScroll: !0,
        unselectAuto: !0,
        dropAccept: "*",
        eventOrder: "title",
        eventLimit: !1,
        eventLimitText: "more",
        eventLimitClick: "popover",
        dayPopoverFormat: "LL",
        handleWindowResize: !0,
        windowResizeDelay: 200,
        longPressDelay: 1e3
    }, yb.englishDefaults = {dayPopoverFormat: "dddd, MMMM D"}, yb.rtlDefaults = {
        header: {
            left: "next,prev today",
            center: "",
            right: "title"
        },
        buttonIcons: {
            prev: "right-single-arrow",
            next: "left-single-arrow",
            prevYear: "right-double-arrow",
            nextYear: "left-double-arrow"
        },
        themeButtonIcons: {
            prev: "circle-triangle-e",
            next: "circle-triangle-w",
            nextYear: "seek-prev",
            prevYear: "seek-next"
        }
    };
    var zb = Va.langs = {};
    Va.datepickerLang = function (b, c, d) {
        var e = zb[b] || (zb[b] = {});
        e.isRTL = d.isRTL, e.weekNumberTitle = d.weekHeader, a.each(Ab, function (a, b) {
            e[a] = b(d)
        }), a.datepicker && (a.datepicker.regional[c] = a.datepicker.regional[b] = d, a.datepicker.regional.en = a.datepicker.regional[""], a.datepicker.setDefaults(d))
    }, Va.lang = function (b, d) {
        var e, f;
        e = zb[b] || (zb[b] = {}), d && (e = zb[b] = c([e, d])), f = Ra(b), a.each(Bb, function (a, b) {
            null == e[a] && (e[a] = b(f, e))
        }), yb.defaults.lang = b
    };
    var Ab = {
        buttonText: function (a) {
            return {prev: da(a.prevText), next: da(a.nextText), today: da(a.currentText)}
        }, monthYearFormat: function (a) {
            return a.showMonthAfterYear ? "YYYY[" + a.yearSuffix + "] MMMM" : "MMMM YYYY[" + a.yearSuffix + "]"
        }
    }, Bb = {
        dayOfMonthFormat: function (a, b) {
            var c = a.longDateFormat("l");
            return c = c.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g, ""), b.isRTL ? c += " ddd" : c = "ddd " + c, c
        }, mediumTimeFormat: function (a) {
            return a.longDateFormat("LT").replace(/\s*a$/i, "a")
        }, smallTimeFormat: function (a) {
            return a.longDateFormat("LT").replace(":mm", "(:mm)").replace(/(\Wmm)$/, "($1)").replace(/\s*a$/i, "a")
        }, extraSmallTimeFormat: function (a) {
            return a.longDateFormat("LT").replace(":mm", "(:mm)").replace(/(\Wmm)$/, "($1)").replace(/\s*a$/i, "t")
        }, hourFormat: function (a) {
            return a.longDateFormat("LT").replace(":mm", "").replace(/(\Wmm)$/, "").replace(/\s*a$/i, "a")
        }, noMeridiemTimeFormat: function (a) {
            return a.longDateFormat("LT").replace(/\s*a$/i, "")
        }
    }, Cb = {
        smallDayDateFormat: function (a) {
            return a.isRTL ? "D dd" : "dd D"
        }, weekFormat: function (a) {
            return a.isRTL ? "w[ " + a.weekNumberTitle + "]" : "[" + a.weekNumberTitle + " ]w"
        }, smallWeekFormat: function (a) {
            return a.isRTL ? "w[" + a.weekNumberTitle + "]" : "[" + a.weekNumberTitle + "]w"
        }
    };
    Va.lang("en", yb.englishDefaults), Va.sourceNormalizers = [], Va.sourceFetchers = [];
    var Db = {dataType: "json", cache: !1}, Eb = 1;
    yb.prototype.normalizeEvent = function (a) {
    }, yb.prototype.getPeerEvents = function (a, b) {
        var c, d, e = this.getEventCache(), f = [];
        for (c = 0; c < e.length; c++)d = e[c], b && b._id === d._id || f.push(d);
        return f
    };
    var Fb = Va.BasicView = wb.extend({
        scroller: null,
        dayGridClass: ub,
        dayGrid: null,
        dayNumbersVisible: !1,
        weekNumbersVisible: !1,
        weekNumberWidth: null,
        headContainerEl: null,
        headRowEl: null,
        initialize: function () {
            this.dayGrid = this.instantiateDayGrid(), this.scroller = new xb({overflowX: "hidden", overflowY: "auto"})
        },
        instantiateDayGrid: function () {
            var a = this.dayGridClass.extend(Gb);
            return new a(this)
        },
        setRange: function (a) {
            wb.prototype.setRange.call(this, a), this.dayGrid.breakOnWeeks = /year|month|week/.test(this.intervalUnit), this.dayGrid.setRange(a)
        },
        computeRange: function (a) {
            var b = wb.prototype.computeRange.call(this, a);
            return /year|month/.test(b.intervalUnit) && (b.start.startOf("week"), b.start = this.skipHiddenDays(b.start), b.end.weekday() && (b.end.add(1, "week").startOf("week"), b.end = this.skipHiddenDays(b.end, -1, !0))), b
        },
        renderDates: function () {
            this.dayNumbersVisible = this.dayGrid.rowCnt > 1, this.weekNumbersVisible = this.opt("weekNumbers"), this.dayGrid.numbersVisible = this.dayNumbersVisible || this.weekNumbersVisible, this.el.addClass("fc-basic-view").html(this.renderSkeletonHtml()), this.renderHead(), this.scroller.render();
            var b = this.scroller.el.addClass("fc-day-grid-container"), c = a('<div class="fc-day-grid" />').appendTo(b);
            this.el.find(".fc-body > tr > td").append(b), this.dayGrid.setElement(c), this.dayGrid.renderDates(this.hasRigidRows())
        },
        renderHead: function () {
            this.headContainerEl = this.el.find(".fc-head-container").html(this.dayGrid.renderHeadHtml()), this.headRowEl = this.headContainerEl.find(".fc-row")
        },
        unrenderDates: function () {
            this.dayGrid.unrenderDates(), this.dayGrid.removeElement(), this.scroller.destroy()
        },
        renderBusinessHours: function () {
            this.dayGrid.renderBusinessHours()
        },
        renderSkeletonHtml: function () {
            return '<table><thead class="fc-head"><tr><td class="fc-head-container ' + this.widgetHeaderClass + '"></td></tr></thead><tbody class="fc-body"><tr><td class="' + this.widgetContentClass + '"></td></tr></tbody></table>'
        },
        weekNumberStyleAttr: function () {
            return null !== this.weekNumberWidth ? 'style="width:' + this.weekNumberWidth + 'px"' : ""
        },
        hasRigidRows: function () {
            var a = this.opt("eventLimit");
            return a && "number" != typeof a
        },
        updateWidth: function () {
            this.weekNumbersVisible && (this.weekNumberWidth = k(this.el.find(".fc-week-number")))
        },
        setHeight: function (a, b) {
            var c, d, g = this.opt("eventLimit");
            this.scroller.clear(), f(this.headRowEl), this.dayGrid.removeSegPopover(), g && "number" == typeof g && this.dayGrid.limitRows(g), c = this.computeScrollerHeight(a), this.setGridHeight(c, b), g && "number" != typeof g && this.dayGrid.limitRows(g), b || (this.scroller.setHeight(c), d = this.scroller.getScrollbarWidths(), (d.left || d.right) && (e(this.headRowEl, d), c = this.computeScrollerHeight(a), this.scroller.setHeight(c)), this.scroller.lockOverflow(d))
        },
        computeScrollerHeight: function (a) {
            return a - l(this.el, this.scroller.el)
        },
        setGridHeight: function (a, b) {
            b ? j(this.dayGrid.rowEls) : i(this.dayGrid.rowEls, a, !0)
        },
        queryScroll: function () {
            return this.scroller.getScrollTop()
        },
        setScroll: function (a) {
            this.scroller.setScrollTop(a)
        },
        prepareHits: function () {
            this.dayGrid.prepareHits()
        },
        releaseHits: function () {
            this.dayGrid.releaseHits()
        },
        queryHit: function (a, b) {
            return this.dayGrid.queryHit(a, b)
        },
        getHitSpan: function (a) {
            return this.dayGrid.getHitSpan(a)
        },
        getHitEl: function (a) {
            return this.dayGrid.getHitEl(a)
        },
        renderEvents: function (a) {
            this.dayGrid.renderEvents(a), this.updateHeight()
        },
        getEventSegs: function () {
            return this.dayGrid.getEventSegs()
        },
        unrenderEvents: function () {
            this.dayGrid.unrenderEvents()
        },
        renderDrag: function (a, b) {
            return this.dayGrid.renderDrag(a, b)
        },
        unrenderDrag: function () {
            this.dayGrid.unrenderDrag()
        },
        renderSelection: function (a) {
            this.dayGrid.renderSelection(a)
        },
        unrenderSelection: function () {
            this.dayGrid.unrenderSelection()
        }
    }), Gb = {
        renderHeadIntroHtml: function () {
            var a = this.view;
            return a.weekNumbersVisible ? '<th class="fc-week-number ' + a.widgetHeaderClass + '" ' + a.weekNumberStyleAttr() + "><span>" + ca(a.opt("weekNumberTitle")) + "</span></th>" : ""
        }, renderNumberIntroHtml: function (a) {
            var b = this.view;
            return b.weekNumbersVisible ? '<td class="fc-week-number" ' + b.weekNumberStyleAttr() + "><span>" + this.getCellDate(a, 0).format("w") + "</span></td>" : ""
        }, renderBgIntroHtml: function () {
            var a = this.view;
            return a.weekNumbersVisible ? '<td class="fc-week-number ' + a.widgetContentClass + '" ' + a.weekNumberStyleAttr() + "></td>" : ""
        }, renderIntroHtml: function () {
            var a = this.view;
            return a.weekNumbersVisible ? '<td class="fc-week-number" ' + a.weekNumberStyleAttr() + "></td>" : ""
        }
    }, Hb = Va.MonthView = Fb.extend({
        computeRange: function (a) {
            var b, c = Fb.prototype.computeRange.call(this, a);
            return this.isFixedWeeks() && (b = Math.ceil(c.end.diff(c.start, "weeks", !0)), c.end.add(6 - b, "weeks")), c
        }, setGridHeight: function (a, b) {
            b = b || "variable" === this.opt("weekMode"), b && (a *= this.rowCnt / 6), i(this.dayGrid.rowEls, a, !b)
        }, isFixedWeeks: function () {
            var a = this.opt("weekMode");
            return a ? "fixed" === a : this.opt("fixedWeekCount")
        }
    });
    Wa.basic = {class: Fb}, Wa.basicDay = {type: "basic", duration: {days: 1}}, Wa.basicWeek = {
        type: "basic",
        duration: {weeks: 1}
    }, Wa.month = {class: Hb, duration: {months: 1}, defaults: {fixedWeekCount: !0}};
    var Ib = Va.AgendaView = wb.extend({
        scroller: null,
        timeGridClass: vb,
        timeGrid: null,
        dayGridClass: ub,
        dayGrid: null,
        axisWidth: null,
        headContainerEl: null,
        noScrollRowEls: null,
        bottomRuleEl: null,
        initialize: function () {
            this.timeGrid = this.instantiateTimeGrid(), this.opt("allDaySlot") && (this.dayGrid = this.instantiateDayGrid()), this.scroller = new xb({
                overflowX: "hidden",
                overflowY: "auto"
            })
        },
        instantiateTimeGrid: function () {
            var a = this.timeGridClass.extend(Jb);
            return new a(this)
        },
        instantiateDayGrid: function () {
            var a = this.dayGridClass.extend(Kb);
            return new a(this)
        },
        setRange: function (a) {
            wb.prototype.setRange.call(this, a), this.timeGrid.setRange(a), this.dayGrid && this.dayGrid.setRange(a)
        },
        renderDates: function () {
            this.el.addClass("fc-agenda-view").html(this.renderSkeletonHtml()), this.renderHead(), this.scroller.render();
            var b = this.scroller.el.addClass("fc-time-grid-container"), c = a('<div class="fc-time-grid" />').appendTo(b);
            this.el.find(".fc-body > tr > td").append(b), this.timeGrid.setElement(c), this.timeGrid.renderDates(), this.bottomRuleEl = a('<hr class="fc-divider ' + this.widgetHeaderClass + '"/>').appendTo(this.timeGrid.el), this.dayGrid && (this.dayGrid.setElement(this.el.find(".fc-day-grid")), this.dayGrid.renderDates(), this.dayGrid.bottomCoordPadding = this.dayGrid.el.next("hr").outerHeight()), this.noScrollRowEls = this.el.find(".fc-row:not(.fc-scroller *)")
        },
        renderHead: function () {
            this.headContainerEl = this.el.find(".fc-head-container").html(this.timeGrid.renderHeadHtml())
        },
        unrenderDates: function () {
            this.timeGrid.unrenderDates(), this.timeGrid.removeElement(), this.dayGrid && (this.dayGrid.unrenderDates(), this.dayGrid.removeElement()), this.scroller.destroy()
        },
        renderSkeletonHtml: function () {
            return '<table><thead class="fc-head"><tr><td class="fc-head-container ' + this.widgetHeaderClass + '"></td></tr></thead><tbody class="fc-body"><tr><td class="' + this.widgetContentClass + '">' + (this.dayGrid ? '<div class="fc-day-grid"/><hr class="fc-divider ' + this.widgetHeaderClass + '"/>' : "") + "</td></tr></tbody></table>"
        },
        axisStyleAttr: function () {
            return null !== this.axisWidth ? 'style="width:' + this.axisWidth + 'px"' : ""
        },
        renderBusinessHours: function () {
            this.timeGrid.renderBusinessHours(), this.dayGrid && this.dayGrid.renderBusinessHours()
        },
        unrenderBusinessHours: function () {
            this.timeGrid.unrenderBusinessHours(), this.dayGrid && this.dayGrid.unrenderBusinessHours()
        },
        getNowIndicatorUnit: function () {
            return this.timeGrid.getNowIndicatorUnit()
        },
        renderNowIndicator: function (a) {
            this.timeGrid.renderNowIndicator(a)
        },
        unrenderNowIndicator: function () {
            this.timeGrid.unrenderNowIndicator()
        },
        updateSize: function (a) {
            this.timeGrid.updateSize(a), wb.prototype.updateSize.call(this, a)
        },
        updateWidth: function () {
            this.axisWidth = k(this.el.find(".fc-axis"))
        },
        setHeight: function (a, b) {
            var c, d, g;
            this.bottomRuleEl.hide(), this.scroller.clear(), f(this.noScrollRowEls), this.dayGrid && (this.dayGrid.removeSegPopover(), c = this.opt("eventLimit"), c && "number" != typeof c && (c = Lb), c && this.dayGrid.limitRows(c)), b || (d = this.computeScrollerHeight(a), this.scroller.setHeight(d), g = this.scroller.getScrollbarWidths(), (g.left || g.right) && (e(this.noScrollRowEls, g), d = this.computeScrollerHeight(a), this.scroller.setHeight(d)), this.scroller.lockOverflow(g), this.timeGrid.getTotalSlatHeight() < d && this.bottomRuleEl.show())
        },
        computeScrollerHeight: function (a) {
            return a - l(this.el, this.scroller.el)
        },
        computeInitialScroll: function () {
            var a = b.duration(this.opt("scrollTime")), c = this.timeGrid.computeTimeTop(a);
            return c = Math.ceil(c), c && c++, c
        },
        queryScroll: function () {
            return this.scroller.getScrollTop()
        },
        setScroll: function (a) {
            this.scroller.setScrollTop(a)
        },
        prepareHits: function () {
            this.timeGrid.prepareHits(), this.dayGrid && this.dayGrid.prepareHits()
        },
        releaseHits: function () {
            this.timeGrid.releaseHits(), this.dayGrid && this.dayGrid.releaseHits()
        },
        queryHit: function (a, b) {
            var c = this.timeGrid.queryHit(a, b);
            return !c && this.dayGrid && (c = this.dayGrid.queryHit(a, b)), c
        },
        getHitSpan: function (a) {
            return a.component.getHitSpan(a)
        },
        getHitEl: function (a) {
            return a.component.getHitEl(a)
        },
        renderEvents: function (a) {
            var b, c, d = [], e = [], f = [];
            for (c = 0; c < a.length; c++)a[c].allDay ? d.push(a[c]) : e.push(a[c]);
            b = this.timeGrid.renderEvents(e), this.dayGrid && (f = this.dayGrid.renderEvents(d)), this.updateHeight()
        },
        getEventSegs: function () {
            return this.timeGrid.getEventSegs().concat(this.dayGrid ? this.dayGrid.getEventSegs() : [])
        },
        unrenderEvents: function () {
            this.timeGrid.unrenderEvents(), this.dayGrid && this.dayGrid.unrenderEvents()
        },
        renderDrag: function (a, b) {
            return a.start.hasTime() ? this.timeGrid.renderDrag(a, b) : this.dayGrid ? this.dayGrid.renderDrag(a, b) : void 0
        },
        unrenderDrag: function () {
            this.timeGrid.unrenderDrag(), this.dayGrid && this.dayGrid.unrenderDrag()
        },
        renderSelection: function (a) {
            a.start.hasTime() || a.end.hasTime() ? this.timeGrid.renderSelection(a) : this.dayGrid && this.dayGrid.renderSelection(a)
        },
        unrenderSelection: function () {
            this.timeGrid.unrenderSelection(), this.dayGrid && this.dayGrid.unrenderSelection()
        }
    }), Jb = {
        renderHeadIntroHtml: function () {
            var a, b = this.view;
            return b.opt("weekNumbers") ? (a = this.start.format(b.opt("smallWeekFormat")), '<th class="fc-axis fc-week-number ' + b.widgetHeaderClass + '" ' + b.axisStyleAttr() + "><span>" + ca(a) + "</span></th>") : '<th class="fc-axis ' + b.widgetHeaderClass + '" ' + b.axisStyleAttr() + "></th>"
        }, renderBgIntroHtml: function () {
            var a = this.view;
            return '<td class="fc-axis ' + a.widgetContentClass + '" ' + a.axisStyleAttr() + "></td>"
        }, renderIntroHtml: function () {
            var a = this.view;
            return '<td class="fc-axis" ' + a.axisStyleAttr() + "></td>"
        }
    }, Kb = {
        renderBgIntroHtml: function () {
            var a = this.view;
            return '<td class="fc-axis ' + a.widgetContentClass + '" ' + a.axisStyleAttr() + "><span>" + (a.opt("allDayHtml") || ca(a.opt("allDayText"))) + "</span></td>"
        }, renderIntroHtml: function () {
            var a = this.view;
            return '<td class="fc-axis" ' + a.axisStyleAttr() + "></td>"
        }
    }, Lb = 5, Mb = [{hours: 1}, {minutes: 30}, {minutes: 15}, {seconds: 30}, {seconds: 15}];
    return Wa.agenda = {
        class: Ib,
        defaults: {
            allDaySlot: !0,
            allDayText: "all-day",
            slotDuration: "00:30:00",
            minTime: "00:00:00",
            maxTime: "24:00:00",
            slotEventOverlap: !0
        }
    }, Wa.agendaDay = {type: "agenda", duration: {days: 1}}, Wa.agendaWeek = {type: "agenda", duration: {weeks: 1}}, Va
}), function (a) {
    "use strict";
    function b(a, b) {
        return b = b || Error, function () {
            var c, d, e = 2, f = arguments, g = f[0], h = "[" + (a ? a + ":" : "") + g + "] ", i = f[1];
            for (h += i.replace(/\{\d+\}/g, function (a) {
                var b = +a.slice(1, -1), c = b + e;
                return c < f.length ? sa(f[c]) : a
            }), h += "\nhttp://errors.angularjs.org/1.5.6/" + (a ? a + "/" : "") + g, d = e, c = "?"; d < f.length; d++, c = "&")h += c + "p" + (d - e) + "=" + encodeURIComponent(sa(f[d]));
            return new b(h)
        }
    }

    function c(a) {
        if (null == a || A(a))return !1;
        if (Vd(a) || v(a) || Kd && a instanceof Kd)return !0;
        var b = "length" in Object(a) && a.length;
        return w(b) && (b >= 0 && (b - 1 in a || a instanceof Array) || "function" == typeof a.item)
    }

    function d(a, b, e) {
        var f, g;
        if (a)if (y(a))for (f in a)"prototype" == f || "length" == f || "name" == f || a.hasOwnProperty && !a.hasOwnProperty(f) || b.call(e, a[f], f, a); else if (Vd(a) || c(a)) {
            var h = "object" != typeof a;
            for (f = 0, g = a.length; f < g; f++)(h || f in a) && b.call(e, a[f], f, a)
        } else if (a.forEach && a.forEach !== d)a.forEach(b, e, a); else if (u(a))for (f in a)b.call(e, a[f], f, a); else if ("function" == typeof a.hasOwnProperty)for (f in a)a.hasOwnProperty(f) && b.call(e, a[f], f, a); else for (f in a)Ed.call(a, f) && b.call(e, a[f], f, a);
        return a
    }

    function e(a, b, c) {
        for (var d = Object.keys(a).sort(), e = 0; e < d.length; e++)b.call(c, a[d[e]], d[e]);
        return d
    }

    function f(a) {
        return function (b, c) {
            a(c, b)
        }
    }

    function g() {
        return ++Ud
    }

    function h(a, b) {
        b ? a.$$hashKey = b : delete a.$$hashKey
    }

    function i(a, b, c) {
        for (var d = a.$$hashKey, e = 0, f = b.length; e < f; ++e) {
            var g = b[e];
            if (t(g) || y(g))for (var j = Object.keys(g), k = 0, l = j.length; k < l; k++) {
                var m = j[k], n = g[m];
                c && t(n) ? x(n) ? a[m] = new Date(n.valueOf()) : z(n) ? a[m] = new RegExp(n) : n.nodeName ? a[m] = n.cloneNode(!0) : J(n) ? a[m] = n.clone() : (t(a[m]) || (a[m] = Vd(n) ? [] : {}), i(a[m], [n], !0)) : a[m] = n
            }
        }
        return h(a, d), a
    }

    function j(a) {
        return i(a, Nd.call(arguments, 1), !1)
    }

    function k(a) {
        return i(a, Nd.call(arguments, 1), !0)
    }

    function l(a) {
        return parseInt(a, 10)
    }

    function m(a, b) {
        return j(Object.create(a), b)
    }

    function n() {
    }

    function o(a) {
        return a
    }

    function p(a) {
        return function () {
            return a
        }
    }

    function q(a) {
        return y(a.toString) && a.toString !== Qd
    }

    function r(a) {
        return "undefined" == typeof a
    }

    function s(a) {
        return "undefined" != typeof a
    }

    function t(a) {
        return null !== a && "object" == typeof a
    }

    function u(a) {
        return null !== a && "object" == typeof a && !Rd(a)
    }

    function v(a) {
        return "string" == typeof a
    }

    function w(a) {
        return "number" == typeof a
    }

    function x(a) {
        return "[object Date]" === Qd.call(a)
    }

    function y(a) {
        return "function" == typeof a
    }

    function z(a) {
        return "[object RegExp]" === Qd.call(a)
    }

    function A(a) {
        return a && a.window === a
    }

    function B(a) {
        return a && a.$evalAsync && a.$watch
    }

    function C(a) {
        return "[object File]" === Qd.call(a)
    }

    function D(a) {
        return "[object FormData]" === Qd.call(a)
    }

    function E(a) {
        return "[object Blob]" === Qd.call(a)
    }

    function F(a) {
        return "boolean" == typeof a
    }

    function G(a) {
        return a && y(a.then)
    }

    function H(a) {
        return a && w(a.length) && Wd.test(Qd.call(a))
    }

    function I(a) {
        return "[object ArrayBuffer]" === Qd.call(a)
    }

    function J(a) {
        return !(!a || !(a.nodeName || a.prop && a.attr && a.find))
    }

    function K(a) {
        var b, c = {}, d = a.split(",");
        for (b = 0; b < d.length; b++)c[d[b]] = !0;
        return c
    }

    function L(a) {
        return Fd(a.nodeName || a[0] && a[0].nodeName)
    }

    function M(a, b) {
        var c = a.indexOf(b);
        return c >= 0 && a.splice(c, 1), c
    }

    function N(a, b) {
        function c(a, b) {
            var c, d = b.$$hashKey;
            if (Vd(a))for (var f = 0, g = a.length; f < g; f++)b.push(e(a[f])); else if (u(a))for (c in a)b[c] = e(a[c]); else if (a && "function" == typeof a.hasOwnProperty)for (c in a)a.hasOwnProperty(c) && (b[c] = e(a[c])); else for (c in a)Ed.call(a, c) && (b[c] = e(a[c]));
            return h(b, d), b
        }

        function e(a) {
            if (!t(a))return a;
            var b = g.indexOf(a);
            if (b !== -1)return i[b];
            if (A(a) || B(a))throw Sd("cpws", "Can't copy! Making copies of Window or Scope instances is not supported.");
            var d = !1, e = f(a);
            return void 0 === e && (e = Vd(a) ? [] : Object.create(Rd(a)), d = !0), g.push(a), i.push(e), d ? c(a, e) : e
        }

        function f(a) {
            switch (Qd.call(a)) {
                case"[object Int8Array]":
                case"[object Int16Array]":
                case"[object Int32Array]":
                case"[object Float32Array]":
                case"[object Float64Array]":
                case"[object Uint8Array]":
                case"[object Uint8ClampedArray]":
                case"[object Uint16Array]":
                case"[object Uint32Array]":
                    return new a.constructor(e(a.buffer));
                case"[object ArrayBuffer]":
                    if (!a.slice) {
                        var b = new ArrayBuffer(a.byteLength);
                        return new Uint8Array(b).set(new Uint8Array(a)), b
                    }
                    return a.slice(0);
                case"[object Boolean]":
                case"[object Number]":
                case"[object String]":
                case"[object Date]":
                    return new a.constructor(a.valueOf());
                case"[object RegExp]":
                    var c = new RegExp(a.source, a.toString().match(/[^\/]*$/)[0]);
                    return c.lastIndex = a.lastIndex, c;
                case"[object Blob]":
                    return new a.constructor([a], {type: a.type})
            }
            if (y(a.cloneNode))return a.cloneNode(!0)
        }

        var g = [], i = [];
        if (b) {
            if (H(b) || I(b))throw Sd("cpta", "Can't copy! TypedArray destination cannot be mutated.");
            if (a === b)throw Sd("cpi", "Can't copy! Source and destination are identical.");
            return Vd(b) ? b.length = 0 : d(b, function (a, c) {
                "$$hashKey" !== c && delete b[c]
            }), g.push(a), i.push(b), c(a, b)
        }
        return e(a)
    }

    function O(a, b) {
        if (Vd(a)) {
            b = b || [];
            for (var c = 0, d = a.length; c < d; c++)b[c] = a[c]
        } else if (t(a)) {
            b = b || {};
            for (var e in a)"$" === e.charAt(0) && "$" === e.charAt(1) || (b[e] = a[e])
        }
        return b || a
    }

    function P(a, b) {
        if (a === b)return !0;
        if (null === a || null === b)return !1;
        if (a !== a && b !== b)return !0;
        var c, d, e, f = typeof a, g = typeof b;
        if (f == g && "object" == f) {
            if (!Vd(a)) {
                if (x(a))return !!x(b) && P(a.getTime(), b.getTime());
                if (z(a))return !!z(b) && a.toString() == b.toString();
                if (B(a) || B(b) || A(a) || A(b) || Vd(b) || x(b) || z(b))return !1;
                e = pa();
                for (d in a)if ("$" !== d.charAt(0) && !y(a[d])) {
                    if (!P(a[d], b[d]))return !1;
                    e[d] = !0
                }
                for (d in b)if (!(d in e) && "$" !== d.charAt(0) && s(b[d]) && !y(b[d]))return !1;
                return !0
            }
            if (!Vd(b))return !1;
            if ((c = a.length) == b.length) {
                for (d = 0; d < c; d++)if (!P(a[d], b[d]))return !1;
                return !0
            }
        }
        return !1
    }

    function Q(a, b, c) {
        return a.concat(Nd.call(b, c));
    }

    function R(a, b) {
        return Nd.call(a, b || 0)
    }

    function S(a, b) {
        var c = arguments.length > 2 ? R(arguments, 2) : [];
        return !y(b) || b instanceof RegExp ? b : c.length ? function () {
            return arguments.length ? b.apply(a, Q(c, arguments, 0)) : b.apply(a, c)
        } : function () {
            return arguments.length ? b.apply(a, arguments) : b.call(a)
        }
    }

    function T(b, c) {
        var d = c;
        return "string" == typeof b && "$" === b.charAt(0) && "$" === b.charAt(1) ? d = void 0 : A(c) ? d = "$WINDOW" : c && a.document === c ? d = "$DOCUMENT" : B(c) && (d = "$SCOPE"), d
    }

    function U(a, b) {
        if (!r(a))return w(b) || (b = b ? 2 : null), JSON.stringify(a, T, b)
    }

    function V(a) {
        return v(a) ? JSON.parse(a) : a
    }

    function W(a, b) {
        a = a.replace(_d, "");
        var c = Date.parse("Jan 01, 1970 00:00:00 " + a) / 6e4;
        return isNaN(c) ? b : c
    }

    function X(a, b) {
        return a = new Date(a.getTime()), a.setMinutes(a.getMinutes() + b), a
    }

    function Y(a, b, c) {
        c = c ? -1 : 1;
        var d = a.getTimezoneOffset(), e = W(b, d);
        return X(a, c * (e - d))
    }

    function Z(a) {
        a = Kd(a).clone();
        try {
            a.empty()
        } catch (a) {
        }
        var b = Kd("<div>").append(a).html();
        try {
            return a[0].nodeType === fe ? Fd(b) : b.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/, function (a, b) {
                return "<" + Fd(b)
            })
        } catch (a) {
            return Fd(b)
        }
    }

    function $(a) {
        try {
            return decodeURIComponent(a)
        } catch (a) {
        }
    }

    function _(a) {
        var b = {};
        return d((a || "").split("&"), function (a) {
            var c, d, e;
            a && (d = a = a.replace(/\+/g, "%20"), c = a.indexOf("="), c !== -1 && (d = a.substring(0, c), e = a.substring(c + 1)), d = $(d), s(d) && (e = !s(e) || $(e), Ed.call(b, d) ? Vd(b[d]) ? b[d].push(e) : b[d] = [b[d], e] : b[d] = e))
        }), b
    }

    function aa(a) {
        var b = [];
        return d(a, function (a, c) {
            Vd(a) ? d(a, function (a) {
                b.push(ca(c, !0) + (a === !0 ? "" : "=" + ca(a, !0)))
            }) : b.push(ca(c, !0) + (a === !0 ? "" : "=" + ca(a, !0)))
        }), b.length ? b.join("&") : ""
    }

    function ba(a) {
        return ca(a, !0).replace(/%26/gi, "&").replace(/%3D/gi, "=").replace(/%2B/gi, "+")
    }

    function ca(a, b) {
        return encodeURIComponent(a).replace(/%40/gi, "@").replace(/%3A/gi, ":").replace(/%24/g, "$").replace(/%2C/gi, ",").replace(/%3B/gi, ";").replace(/%20/g, b ? "%20" : "+")
    }

    function da(a, b) {
        var c, d, e = ae.length;
        for (d = 0; d < e; ++d)if (c = ae[d] + b, v(c = a.getAttribute(c)))return c;
        return null
    }

    function ea(a, b) {
        var c, e, f = {};
        d(ae, function (b) {
            var d = b + "app";
            !c && a.hasAttribute && a.hasAttribute(d) && (c = a, e = a.getAttribute(d))
        }), d(ae, function (b) {
            var d, f = b + "app";
            !c && (d = a.querySelector("[" + f.replace(":", "\\:") + "]")) && (c = d, e = d.getAttribute(f))
        }), c && (f.strictDi = null !== da(c, "strict-di"), b(c, e ? [e] : [], f))
    }

    function fa(b, c, e) {
        t(e) || (e = {});
        var f = {strictDi: !1};
        e = j(f, e);
        var g = function () {
            if (b = Kd(b), b.injector()) {
                var d = b[0] === a.document ? "document" : Z(b);
                throw Sd("btstrpd", "App already bootstrapped with this element '{0}'", d.replace(/</, "&lt;").replace(/>/, "&gt;"))
            }
            c = c || [], c.unshift(["$provide", function (a) {
                a.value("$rootElement", b)
            }]), e.debugInfoEnabled && c.push(["$compileProvider", function (a) {
                a.debugInfoEnabled(!0)
            }]), c.unshift("ng");
            var f = db(c, e.strictDi);
            return f.invoke(["$rootScope", "$rootElement", "$compile", "$injector", function (a, b, c, d) {
                a.$apply(function () {
                    b.data("$injector", d), c(b)(a)
                })
            }]), f
        }, h = /^NG_ENABLE_DEBUG_INFO!/, i = /^NG_DEFER_BOOTSTRAP!/;
        return a && h.test(a.name) && (e.debugInfoEnabled = !0, a.name = a.name.replace(h, "")), a && !i.test(a.name) ? g() : (a.name = a.name.replace(i, ""), Td.resumeBootstrap = function (a) {
            return d(a, function (a) {
                c.push(a)
            }), g()
        }, void(y(Td.resumeDeferredBootstrap) && Td.resumeDeferredBootstrap()))
    }

    function ga() {
        a.name = "NG_ENABLE_DEBUG_INFO!" + a.name, a.location.reload()
    }

    function ha(a) {
        var b = Td.element(a).injector();
        if (!b)throw Sd("test", "no injector found for element argument to getTestability");
        return b.get("$$testability")
    }

    function ia(a, b) {
        return b = b || "_", a.replace(be, function (a, c) {
            return (c ? b : "") + a.toLowerCase()
        })
    }

    function ja() {
        var b;
        if (!ce) {
            var c = $d();
            Ld = r(c) ? a.jQuery : c ? a[c] : void 0, Ld && Ld.fn.on ? (Kd = Ld, j(Ld.fn, {
                scope: ye.scope,
                isolateScope: ye.isolateScope,
                controller: ye.controller,
                injector: ye.injector,
                inheritedData: ye.inheritedData
            }), b = Ld.cleanData, Ld.cleanData = function (a) {
                for (var c, d, e = 0; null != (d = a[e]); e++)c = Ld._data(d, "events"), c && c.$destroy && Ld(d).triggerHandler("$destroy");
                b(a)
            }) : Kd = Da, Td.element = Kd, ce = !0
        }
    }

    function ka(a, b, c) {
        if (!a)throw Sd("areq", "Argument '{0}' is {1}", b || "?", c || "required");
        return a
    }

    function la(a, b, c) {
        return c && Vd(a) && (a = a[a.length - 1]), ka(y(a), b, "not a function, got " + (a && "object" == typeof a ? a.constructor.name || "Object" : typeof a)), a
    }

    function ma(a, b) {
        if ("hasOwnProperty" === a)throw Sd("badname", "hasOwnProperty is not a valid {0} name", b)
    }

    function na(a, b, c) {
        if (!b)return a;
        for (var d, e = b.split("."), f = a, g = e.length, h = 0; h < g; h++)d = e[h], a && (a = (f = a)[d]);
        return !c && y(a) ? S(f, a) : a
    }

    function oa(a) {
        for (var b, c = a[0], d = a[a.length - 1], e = 1; c !== d && (c = c.nextSibling); e++)(b || a[e] !== c) && (b || (b = Kd(Nd.call(a, 0, e))), b.push(c));
        return b || a
    }

    function pa() {
        return Object.create(null)
    }

    function qa(a) {
        function c(a, b, c) {
            return a[b] || (a[b] = c())
        }

        var d = b("$injector"), e = b("ng"), f = c(a, "angular", Object);
        return f.$$minErr = f.$$minErr || b, c(f, "module", function () {
            var a = {};
            return function (b, f, g) {
                var h = function (a, b) {
                    if ("hasOwnProperty" === a)throw e("badname", "hasOwnProperty is not a valid {0} name", b)
                };
                return h(b, "module"), f && a.hasOwnProperty(b) && (a[b] = null), c(a, b, function () {
                    function a(a, b, c, d) {
                        return d || (d = e), function () {
                            return d[c || "push"]([a, b, arguments]), k
                        }
                    }

                    function c(a, c) {
                        return function (d, f) {
                            return f && y(f) && (f.$$moduleName = b), e.push([a, c, arguments]), k
                        }
                    }

                    if (!f)throw d("nomod", "Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.", b);
                    var e = [], h = [], i = [], j = a("$injector", "invoke", "push", h), k = {
                        _invokeQueue: e,
                        _configBlocks: h,
                        _runBlocks: i,
                        requires: f,
                        name: b,
                        provider: c("$provide", "provider"),
                        factory: c("$provide", "factory"),
                        service: c("$provide", "service"),
                        value: a("$provide", "value"),
                        constant: a("$provide", "constant", "unshift"),
                        decorator: c("$provide", "decorator"),
                        animation: c("$animateProvider", "register"),
                        filter: c("$filterProvider", "register"),
                        controller: c("$controllerProvider", "register"),
                        directive: c("$compileProvider", "directive"),
                        component: c("$compileProvider", "component"),
                        config: j,
                        run: function (a) {
                            return i.push(a), this
                        }
                    };
                    return g && j(g), k
                })
            }
        })
    }

    function ra(a) {
        var b = [];
        return JSON.stringify(a, function (a, c) {
            if (c = T(a, c), t(c)) {
                if (b.indexOf(c) >= 0)return "...";
                b.push(c)
            }
            return c
        })
    }

    function sa(a) {
        return "function" == typeof a ? a.toString().replace(/ \{[\s\S]*$/, "") : r(a) ? "undefined" : "string" != typeof a ? ra(a) : a
    }

    function ta(c) {
        j(c, {
            bootstrap: fa,
            copy: N,
            extend: j,
            merge: k,
            equals: P,
            element: Kd,
            forEach: d,
            injector: db,
            noop: n,
            bind: S,
            toJson: U,
            fromJson: V,
            identity: o,
            isUndefined: r,
            isDefined: s,
            isString: v,
            isFunction: y,
            isObject: t,
            isNumber: w,
            isElement: J,
            isArray: Vd,
            version: je,
            isDate: x,
            lowercase: Fd,
            uppercase: Gd,
            callbacks: {counter: 0},
            getTestability: ha,
            $$minErr: b,
            $$csp: Zd,
            reloadWithDebugInfo: ga
        }), (Md = qa(a))("ng", ["ngLocale"], ["$provide", function (a) {
            a.provider({$$sanitizeUri: yc}), a.provider("$compile", ob).directive({
                a: Gf,
                input: Zf,
                textarea: Zf,
                form: Lf,
                script: Ug,
                select: Xg,
                style: Zg,
                option: Yg,
                ngBind: ag,
                ngBindHtml: cg,
                ngBindTemplate: bg,
                ngClass: eg,
                ngClassEven: gg,
                ngClassOdd: fg,
                ngCloak: hg,
                ngController: ig,
                ngForm: Mf,
                ngHide: Ng,
                ngIf: lg,
                ngInclude: mg,
                ngInit: og,
                ngNonBindable: Eg,
                ngPluralize: Ig,
                ngRepeat: Jg,
                ngShow: Mg,
                ngStyle: Og,
                ngSwitch: Pg,
                ngSwitchWhen: Qg,
                ngSwitchDefault: Rg,
                ngOptions: Hg,
                ngTransclude: Tg,
                ngModel: Bg,
                ngList: pg,
                ngChange: dg,
                pattern: _g,
                ngPattern: _g,
                required: $g,
                ngRequired: $g,
                minlength: bh,
                ngMinlength: bh,
                maxlength: ah,
                ngMaxlength: ah,
                ngValue: _f,
                ngModelOptions: Dg
            }).directive({ngInclude: ng}).directive(Hf).directive(jg), a.provider({
                $anchorScroll: eb,
                $animate: Oe,
                $animateCss: Re,
                $$animateJs: Me,
                $$animateQueue: Ne,
                $$AnimateRunner: Qe,
                $$animateAsyncRun: Pe,
                $browser: kb,
                $cacheFactory: lb,
                $controller: ub,
                $document: vb,
                $exceptionHandler: wb,
                $filter: Mc,
                $$forceReflow: Xe,
                $interpolate: Kb,
                $interval: Lb,
                $http: Gb,
                $httpParamSerializer: yb,
                $httpParamSerializerJQLike: zb,
                $httpBackend: Ib,
                $xhrFactory: Hb,
                $location: $b,
                $log: _b,
                $parse: sc,
                $rootScope: xc,
                $q: tc,
                $$q: uc,
                $sce: Cc,
                $sceDelegate: Bc,
                $sniffer: Dc,
                $templateCache: mb,
                $templateRequest: Ec,
                $$testability: Fc,
                $timeout: Gc,
                $window: Jc,
                $$rAF: wc,
                $$jqLite: Ya,
                $$HashMap: Ce,
                $$cookieReader: Lc
            })
        }])
    }

    function ua() {
        return ++le
    }

    function va(a) {
        return a.replace(oe, function (a, b, c, d) {
            return d ? c.toUpperCase() : c
        }).replace(pe, "Moz$1")
    }

    function wa(a) {
        return !te.test(a)
    }

    function xa(a) {
        var b = a.nodeType;
        return b === de || !b || b === he
    }

    function ya(a) {
        for (var b in ke[a.ng339])return !0;
        return !1
    }

    function za(a) {
        for (var b = 0, c = a.length; b < c; b++)Ha(a[b])
    }

    function Aa(a, b) {
        var c, e, f, g, h = b.createDocumentFragment(), i = [];
        if (wa(a))i.push(b.createTextNode(a)); else {
            for (c = c || h.appendChild(b.createElement("div")), e = (ue.exec(a) || ["", ""])[1].toLowerCase(), f = we[e] || we._default, c.innerHTML = f[1] + a.replace(ve, "<$1></$2>") + f[2], g = f[0]; g--;)c = c.lastChild;
            i = Q(i, c.childNodes), c = h.firstChild, c.textContent = ""
        }
        return h.textContent = "", h.innerHTML = "", d(i, function (a) {
            h.appendChild(a)
        }), h
    }

    function Ba(b, c) {
        c = c || a.document;
        var d;
        return (d = se.exec(b)) ? [c.createElement(d[1])] : (d = Aa(b, c)) ? d.childNodes : []
    }

    function Ca(a, b) {
        var c = a.parentNode;
        c && c.replaceChild(b, a), b.appendChild(a)
    }

    function Da(a) {
        if (a instanceof Da)return a;
        var b;
        if (v(a) && (a = Xd(a), b = !0), !(this instanceof Da)) {
            if (b && "<" != a.charAt(0))throw re("nosel", "Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");
            return new Da(a)
        }
        b ? Na(this, Ba(a)) : Na(this, a)
    }

    function Ea(a) {
        return a.cloneNode(!0)
    }

    function Fa(a, b) {
        if (b || Ha(a), a.querySelectorAll)for (var c = a.querySelectorAll("*"), d = 0, e = c.length; d < e; d++)Ha(c[d])
    }

    function Ga(a, b, c, e) {
        if (s(e))throw re("offargs", "jqLite#off() does not support the `selector` argument");
        var f = Ia(a), g = f && f.events, h = f && f.handle;
        if (h)if (b) {
            var i = function (b) {
                var d = g[b];
                s(c) && M(d || [], c), s(c) && d && d.length > 0 || (ne(a, b, h), delete g[b])
            };
            d(b.split(" "), function (a) {
                i(a), qe[a] && i(qe[a])
            })
        } else for (b in g)"$destroy" !== b && ne(a, b, h), delete g[b]
    }

    function Ha(a, b) {
        var c = a.ng339, d = c && ke[c];
        if (d) {
            if (b)return void delete d.data[b];
            d.handle && (d.events.$destroy && d.handle({}, "$destroy"), Ga(a)), delete ke[c], a.ng339 = void 0
        }
    }

    function Ia(a, b) {
        var c = a.ng339, d = c && ke[c];
        return b && !d && (a.ng339 = c = ua(), d = ke[c] = {events: {}, data: {}, handle: void 0}), d
    }

    function Ja(a, b, c) {
        if (xa(a)) {
            var d = s(c), e = !d && b && !t(b), f = !b, g = Ia(a, !e), h = g && g.data;
            if (d)h[b] = c; else {
                if (f)return h;
                if (e)return h && h[b];
                j(h, b)
            }
        }
    }

    function Ka(a, b) {
        return !!a.getAttribute && (" " + (a.getAttribute("class") || "") + " ").replace(/[\n\t]/g, " ").indexOf(" " + b + " ") > -1
    }

    function La(a, b) {
        b && a.setAttribute && d(b.split(" "), function (b) {
            a.setAttribute("class", Xd((" " + (a.getAttribute("class") || "") + " ").replace(/[\n\t]/g, " ").replace(" " + Xd(b) + " ", " ")))
        })
    }

    function Ma(a, b) {
        if (b && a.setAttribute) {
            var c = (" " + (a.getAttribute("class") || "") + " ").replace(/[\n\t]/g, " ");
            d(b.split(" "), function (a) {
                a = Xd(a), c.indexOf(" " + a + " ") === -1 && (c += a + " ")
            }), a.setAttribute("class", Xd(c))
        }
    }

    function Na(a, b) {
        if (b)if (b.nodeType)a[a.length++] = b; else {
            var c = b.length;
            if ("number" == typeof c && b.window !== b) {
                if (c)for (var d = 0; d < c; d++)a[a.length++] = b[d]
            } else a[a.length++] = b
        }
    }

    function Oa(a, b) {
        return Pa(a, "$" + (b || "ngController") + "Controller")
    }

    function Pa(a, b, c) {
        a.nodeType == he && (a = a.documentElement);
        for (var d = Vd(b) ? b : [b]; a;) {
            for (var e = 0, f = d.length; e < f; e++)if (s(c = Kd.data(a, d[e])))return c;
            a = a.parentNode || a.nodeType === ie && a.host
        }
    }

    function Qa(a) {
        for (Fa(a, !0); a.firstChild;)a.removeChild(a.firstChild)
    }

    function Ra(a, b) {
        b || Fa(a);
        var c = a.parentNode;
        c && c.removeChild(a)
    }

    function Sa(b, c) {
        c = c || a, "complete" === c.document.readyState ? c.setTimeout(b) : Kd(c).on("load", b)
    }

    function Ta(a, b) {
        var c = ze[b.toLowerCase()];
        return c && Ae[L(a)] && c
    }

    function Ua(a) {
        return Be[a]
    }

    function Va(a, b) {
        var c = function (c, d) {
            c.isDefaultPrevented = function () {
                return c.defaultPrevented
            };
            var e = b[d || c.type], f = e ? e.length : 0;
            if (f) {
                if (r(c.immediatePropagationStopped)) {
                    var g = c.stopImmediatePropagation;
                    c.stopImmediatePropagation = function () {
                        c.immediatePropagationStopped = !0, c.stopPropagation && c.stopPropagation(), g && g.call(c)
                    }
                }
                c.isImmediatePropagationStopped = function () {
                    return c.immediatePropagationStopped === !0
                };
                var h = e.specialHandlerWrapper || Wa;
                f > 1 && (e = O(e));
                for (var i = 0; i < f; i++)c.isImmediatePropagationStopped() || h(a, c, e[i])
            }
        };
        return c.elem = a, c
    }

    function Wa(a, b, c) {
        c.call(a, b)
    }

    function Xa(a, b, c) {
        var d = b.relatedTarget;
        d && (d === a || xe.call(a, d)) || c.call(a, b)
    }

    function Ya() {
        this.$get = function () {
            return j(Da, {
                hasClass: function (a, b) {
                    return a.attr && (a = a[0]), Ka(a, b)
                }, addClass: function (a, b) {
                    return a.attr && (a = a[0]), Ma(a, b)
                }, removeClass: function (a, b) {
                    return a.attr && (a = a[0]), La(a, b)
                }
            })
        }
    }

    function Za(a, b) {
        var c = a && a.$$hashKey;
        if (c)return "function" == typeof c && (c = a.$$hashKey()), c;
        var d = typeof a;
        return c = "function" == d || "object" == d && null !== a ? a.$$hashKey = d + ":" + (b || g)() : d + ":" + a
    }

    function $a(a, b) {
        if (b) {
            var c = 0;
            this.nextUid = function () {
                return ++c
            }
        }
        d(a, this.put, this)
    }

    function _a(a) {
        return Function.prototype.toString.call(a) + " "
    }

    function ab(a) {
        var b = _a(a).replace(He, ""), c = b.match(De) || b.match(Ee);
        return c
    }

    function bb(a) {
        var b = ab(a);
        return b ? "function(" + (b[1] || "").replace(/[\s\r\n]+/, " ") + ")" : "fn"
    }

    function cb(a, b, c) {
        var e, f, g;
        if ("function" == typeof a) {
            if (!(e = a.$inject)) {
                if (e = [], a.length) {
                    if (b)throw v(c) && c || (c = a.name || bb(a)), Ie("strictdi", "{0} is not using explicit annotation and cannot be invoked in strict mode", c);
                    f = ab(a), d(f[1].split(Fe), function (a) {
                        a.replace(Ge, function (a, b, c) {
                            e.push(c)
                        })
                    })
                }
                a.$inject = e
            }
        } else Vd(a) ? (g = a.length - 1, la(a[g], "fn"), e = a.slice(0, g)) : la(a, "fn", !0);
        return e
    }

    function db(a, b) {
        function c(a) {
            return function (b, c) {
                return t(b) ? void d(b, f(a)) : a(b, c)
            }
        }

        function e(a, b) {
            if (ma(a, "service"), (y(b) || Vd(b)) && (b = x.instantiate(b)), !b.$get)throw Ie("pget", "Provider '{0}' must define $get factory method.", a);
            return w[a + q] = b
        }

        function g(a, b) {
            return function () {
                var c = B.invoke(b, this);
                if (r(c))throw Ie("undef", "Provider '{0}' must return a value from $get factory method.", a);
                return c
            }
        }

        function h(a, b, c) {
            return e(a, {$get: c !== !1 ? g(a, b) : b})
        }

        function i(a, b) {
            return h(a, ["$injector", function (a) {
                return a.instantiate(b)
            }])
        }

        function j(a, b) {
            return h(a, p(b), !1)
        }

        function k(a, b) {
            ma(a, "constant"), w[a] = b, z[a] = b
        }

        function l(a, b) {
            var c = x.get(a + q), d = c.$get;
            c.$get = function () {
                var a = B.invoke(d, c);
                return B.invoke(b, null, {$delegate: a})
            }
        }

        function m(a) {
            ka(r(a) || Vd(a), "modulesToLoad", "not an array");
            var b, c = [];
            return d(a, function (a) {
                function d(a) {
                    var b, c;
                    for (b = 0, c = a.length; b < c; b++) {
                        var d = a[b], e = x.get(d[0]);
                        e[d[1]].apply(e, d[2])
                    }
                }

                if (!u.get(a)) {
                    u.put(a, !0);
                    try {
                        v(a) ? (b = Md(a), c = c.concat(m(b.requires)).concat(b._runBlocks), d(b._invokeQueue), d(b._configBlocks)) : y(a) ? c.push(x.invoke(a)) : Vd(a) ? c.push(x.invoke(a)) : la(a, "module")
                    } catch (b) {
                        throw Vd(a) && (a = a[a.length - 1]), b.message && b.stack && b.stack.indexOf(b.message) == -1 && (b = b.message + "\n" + b.stack), Ie("modulerr", "Failed to instantiate module {0} due to:\n{1}", a, b.stack || b.message || b)
                    }
                }
            }), c
        }

        function n(a, c) {
            function d(b, d) {
                if (a.hasOwnProperty(b)) {
                    if (a[b] === o)throw Ie("cdep", "Circular dependency found: {0}", b + " <- " + s.join(" <- "));
                    return a[b]
                }
                try {
                    return s.unshift(b), a[b] = o, a[b] = c(b, d)
                } catch (c) {
                    throw a[b] === o && delete a[b], c
                } finally {
                    s.shift()
                }
            }

            function e(a, c, e) {
                for (var f = [], g = db.$$annotate(a, b, e), h = 0, i = g.length; h < i; h++) {
                    var j = g[h];
                    if ("string" != typeof j)throw Ie("itkn", "Incorrect injection token! Expected service name as string, got {0}", j);
                    f.push(c && c.hasOwnProperty(j) ? c[j] : d(j, e))
                }
                return f
            }

            function f(a) {
                return !(Jd <= 11) && ("function" == typeof a && /^(?:class\s|constructor\()/.test(_a(a)))
            }

            function g(a, b, c, d) {
                "string" == typeof c && (d = c, c = null);
                var g = e(a, c, d);
                return Vd(a) && (a = a[a.length - 1]), f(a) ? (g.unshift(null), new (Function.prototype.bind.apply(a, g))) : a.apply(b, g)
            }

            function h(a, b, c) {
                var d = Vd(a) ? a[a.length - 1] : a, f = e(a, b, c);
                return f.unshift(null), new (Function.prototype.bind.apply(d, f))
            }

            return {
                invoke: g, instantiate: h, get: d, annotate: db.$$annotate, has: function (b) {
                    return w.hasOwnProperty(b + q) || a.hasOwnProperty(b)
                }
            }
        }

        b = b === !0;
        var o = {}, q = "Provider", s = [], u = new $a([], !0), w = {
            $provide: {
                provider: c(e),
                factory: c(h),
                service: c(i),
                value: c(j),
                constant: c(k),
                decorator: l
            }
        }, x = w.$injector = n(w, function (a, b) {
            throw Td.isString(b) && s.push(b), Ie("unpr", "Unknown provider: {0}", s.join(" <- "))
        }), z = {}, A = n(z, function (a, b) {
            var c = x.get(a + q, b);
            return B.invoke(c.$get, c, void 0, a)
        }), B = A;
        w["$injector" + q] = {$get: p(A)};
        var C = m(a);
        return B = A.get("$injector"), B.strictDi = b, d(C, function (a) {
            a && B.invoke(a)
        }), B
    }

    function eb() {
        var a = !0;
        this.disableAutoScrolling = function () {
            a = !1
        }, this.$get = ["$window", "$location", "$rootScope", function (b, c, d) {
            function e(a) {
                var b = null;
                return Array.prototype.some.call(a, function (a) {
                    if ("a" === L(a))return b = a, !0
                }), b
            }

            function f() {
                var a = h.yOffset;
                if (y(a))a = a(); else if (J(a)) {
                    var c = a[0], d = b.getComputedStyle(c);
                    a = "fixed" !== d.position ? 0 : c.getBoundingClientRect().bottom
                } else w(a) || (a = 0);
                return a
            }

            function g(a) {
                if (a) {
                    a.scrollIntoView();
                    var c = f();
                    if (c) {
                        var d = a.getBoundingClientRect().top;
                        b.scrollBy(0, d - c)
                    }
                } else b.scrollTo(0, 0)
            }

            function h(a) {
                a = v(a) ? a : c.hash();
                var b;
                a ? (b = i.getElementById(a)) ? g(b) : (b = e(i.getElementsByName(a))) ? g(b) : "top" === a && g(null) : g(null)
            }

            var i = b.document;
            return a && d.$watch(function () {
                return c.hash()
            }, function (a, b) {
                a === b && "" === a || Sa(function () {
                    d.$evalAsync(h)
                })
            }), h
        }]
    }

    function fb(a, b) {
        return a || b ? a ? b ? (Vd(a) && (a = a.join(" ")), Vd(b) && (b = b.join(" ")), a + " " + b) : a : b : ""
    }

    function gb(a) {
        for (var b = 0; b < a.length; b++) {
            var c = a[b];
            if (c.nodeType === Ke)return c
        }
    }

    function hb(a) {
        v(a) && (a = a.split(" "));
        var b = pa();
        return d(a, function (a) {
            a.length && (b[a] = !0)
        }), b
    }

    function ib(a) {
        return t(a) ? a : {}
    }

    function jb(a, b, c, e) {
        function f(a) {
            try {
                a.apply(null, R(arguments, 1))
            } finally {
                if (s--, 0 === s)for (; t.length;)try {
                    t.pop()()
                } catch (a) {
                    c.error(a)
                }
            }
        }

        function g(a) {
            var b = a.indexOf("#");
            return b === -1 ? "" : a.substr(b)
        }

        function h() {
            y = null, i(), j()
        }

        function i() {
            u = z(), u = r(u) ? null : u, P(u, C) && (u = C), C = u
        }

        function j() {
            w === k.url() && v === u || (w = k.url(), v = u, d(A, function (a) {
                a(k.url(), u)
            }))
        }

        var k = this, l = a.location, m = a.history, o = a.setTimeout, p = a.clearTimeout, q = {};
        k.isMock = !1;
        var s = 0, t = [];
        k.$$completeOutstandingRequest = f, k.$$incOutstandingRequestCount = function () {
            s++
        }, k.notifyWhenNoOutstandingRequests = function (a) {
            0 === s ? a() : t.push(a)
        };
        var u, v, w = l.href, x = b.find("base"), y = null, z = e.history ? function () {
            try {
                return m.state
            } catch (a) {
            }
        } : n;
        i(), v = u, k.url = function (b, c, d) {
            if (r(d) && (d = null), l !== a.location && (l = a.location), m !== a.history && (m = a.history), b) {
                var f = v === d;
                if (w === b && (!e.history || f))return k;
                var h = w && Rb(w) === Rb(b);
                return w = b, v = d, !e.history || h && f ? (h || (y = b), c ? l.replace(b) : h ? l.hash = g(b) : l.href = b, l.href !== b && (y = b)) : (m[c ? "replaceState" : "pushState"](d, "", b), i(), v = u), y && (y = b), k
            }
            return y || l.href.replace(/%27/g, "'")
        }, k.state = function () {
            return u
        };
        var A = [], B = !1, C = null;
        k.onUrlChange = function (b) {
            return B || (e.history && Kd(a).on("popstate", h), Kd(a).on("hashchange", h), B = !0), A.push(b), b
        }, k.$$applicationDestroyed = function () {
            Kd(a).off("hashchange popstate", h)
        }, k.$$checkUrlChange = j, k.baseHref = function () {
            var a = x.attr("href");
            return a ? a.replace(/^(https?\:)?\/\/[^\/]*/, "") : ""
        }, k.defer = function (a, b) {
            var c;
            return s++, c = o(function () {
                delete q[c], f(a)
            }, b || 0), q[c] = !0, c
        }, k.defer.cancel = function (a) {
            return !!q[a] && (delete q[a], p(a), f(n), !0)
        }
    }

    function kb() {
        this.$get = ["$window", "$log", "$sniffer", "$document", function (a, b, c, d) {
            return new jb(a, d, b, c)
        }]
    }

    function lb() {
        this.$get = function () {
            function a(a, d) {
                function e(a) {
                    a != m && (n ? n == a && (n = a.n) : n = a, f(a.n, a.p), f(a, m), m = a, m.n = null)
                }

                function f(a, b) {
                    a != b && (a && (a.p = b), b && (b.n = a))
                }

                if (a in c)throw b("$cacheFactory")("iid", "CacheId '{0}' is already taken!", a);
                var g = 0, h = j({}, d, {id: a}), i = pa(), k = d && d.capacity || Number.MAX_VALUE, l = pa(), m = null, n = null;
                return c[a] = {
                    put: function (a, b) {
                        if (!r(b)) {
                            if (k < Number.MAX_VALUE) {
                                var c = l[a] || (l[a] = {key: a});
                                e(c)
                            }
                            return a in i || g++, i[a] = b, g > k && this.remove(n.key), b
                        }
                    }, get: function (a) {
                        if (k < Number.MAX_VALUE) {
                            var b = l[a];
                            if (!b)return;
                            e(b)
                        }
                        return i[a]
                    }, remove: function (a) {
                        if (k < Number.MAX_VALUE) {
                            var b = l[a];
                            if (!b)return;
                            b == m && (m = b.p), b == n && (n = b.n), f(b.n, b.p), delete l[a]
                        }
                        a in i && (delete i[a], g--)
                    }, removeAll: function () {
                        i = pa(), g = 0, l = pa(), m = n = null
                    }, destroy: function () {
                        i = null, h = null, l = null, delete c[a]
                    }, info: function () {
                        return j({}, h, {size: g})
                    }
                }
            }

            var c = {};
            return a.info = function () {
                var a = {};
                return d(c, function (b, c) {
                    a[c] = b.info()
                }), a
            }, a.get = function (a) {
                return c[a]
            }, a
        }
    }

    function mb() {
        this.$get = ["$cacheFactory", function (a) {
            return a("templates")
        }]
    }

    function nb() {
    }

    function ob(b, c) {
        function e(a, b, c) {
            var e = /^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/, f = pa();
            return d(a, function (a, d) {
                if (a in A)return void(f[d] = A[a]);
                var g = a.match(e);
                if (!g)throw Se("iscp", "Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}", b, d, a, c ? "controller bindings definition" : "isolate scope definition");
                f[d] = {
                    mode: g[1][0],
                    collection: "*" === g[2],
                    optional: "?" === g[3],
                    attrName: g[4] || d
                }, g[4] && (A[a] = f[d])
            }), f
        }

        function g(a, b) {
            var c = {isolateScope: null, bindToController: null};
            if (t(a.scope) && (a.bindToController === !0 ? (c.bindToController = e(a.scope, b, !0), c.isolateScope = {}) : c.isolateScope = e(a.scope, b, !1)), t(a.bindToController) && (c.bindToController = e(a.bindToController, b, !0)), t(c.bindToController)) {
                var d = a.controller, f = a.controllerAs;
                if (!d)throw Se("noctrl", "Cannot bind to controller without directive '{0}'s controller.", b);
                if (!tb(d, f))throw Se("noident", "Cannot bind to controller without identifier for directive '{0}'.", b)
            }
            return c
        }

        function h(a) {
            var b = a.charAt(0);
            if (!b || b !== Fd(b))throw Se("baddir", "Directive/Component name '{0}' is invalid. The first character must be a lowercase letter", a);
            if (a !== a.trim())throw Se("baddir", "Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces", a)
        }

        function i(a) {
            var b = a.require || a.controller && a.name;
            return !Vd(b) && t(b) && d(b, function (a, c) {
                var d = a.match(x), e = a.substring(d[0].length);
                e || (b[c] = d[0] + c)
            }), b
        }

        var k = {}, l = "Directive", q = /^\s*directive\:\s*([\w\-]+)\s+(.*)$/, u = /(([\w\-]+)(?:\:([^;]+))?;?)/, w = K("ngSrc,ngSrcset,src,srcset"), x = /^(?:(\^\^?)?(\?)?(\^\^?)?)?/, z = /^(on[a-z]+|formaction)$/, A = pa();
        this.directive = function a(c, e) {
            return ma(c, "directive"), v(c) ? (h(c), ka(e, "directiveFactory"), k.hasOwnProperty(c) || (k[c] = [], b.factory(c + l, ["$injector", "$exceptionHandler", function (a, b) {
                var e = [];
                return d(k[c], function (d, f) {
                    try {
                        var g = a.invoke(d);
                        y(g) ? g = {compile: p(g)} : !g.compile && g.link && (g.compile = p(g.link)), g.priority = g.priority || 0, g.index = f, g.name = g.name || c, g.require = i(g), g.restrict = g.restrict || "EA", g.$$moduleName = d.$$moduleName, e.push(g)
                    } catch (a) {
                        b(a)
                    }
                }), e
            }])), k[c].push(e)) : d(c, f(a)), this
        }, this.component = function (a, b) {
            function c(a) {
                function c(b) {
                    return y(b) || Vd(b) ? function (c, d) {
                        return a.invoke(b, this, {$element: c, $attrs: d})
                    } : b
                }

                var f = b.template || b.templateUrl ? b.template : "", g = {
                    controller: e,
                    controllerAs: tb(b.controller) || b.controllerAs || "$ctrl",
                    template: c(f),
                    templateUrl: c(b.templateUrl),
                    transclude: b.transclude,
                    scope: {},
                    bindToController: b.bindings || {},
                    restrict: "E",
                    require: b.require
                };
                return d(b, function (a, b) {
                    "$" === b.charAt(0) && (g[b] = a)
                }), g
            }

            var e = b.controller || function () {
                };
            return d(b, function (a, b) {
                "$" === b.charAt(0) && (c[b] = a, y(e) && (e[b] = a))
            }), c.$inject = ["$injector"], this.directive(a, c)
        }, this.aHrefSanitizationWhitelist = function (a) {
            return s(a) ? (c.aHrefSanitizationWhitelist(a), this) : c.aHrefSanitizationWhitelist()
        }, this.imgSrcSanitizationWhitelist = function (a) {
            return s(a) ? (c.imgSrcSanitizationWhitelist(a), this) : c.imgSrcSanitizationWhitelist()
        };
        var C = !0;
        this.debugInfoEnabled = function (a) {
            return s(a) ? (C = a, this) : C
        };
        var D = 10;
        this.onChangesTtl = function (a) {
            return arguments.length ? (D = a, this) : D
        }, this.$get = ["$injector", "$interpolate", "$exceptionHandler", "$templateRequest", "$parse", "$controller", "$rootScope", "$sce", "$animate", "$$sanitizeUri", function (b, c, e, f, h, i, p, A, E, G) {
            function H() {
                try {
                    if (!--va)throw sa = void 0, Se("infchng", "{0} $onChanges() iterations reached. Aborting!\n", D);
                    p.$apply(function () {
                        for (var a = 0, b = sa.length; a < b; ++a)sa[a]();
                        sa = void 0
                    })
                } finally {
                    va++
                }
            }

            function I(a, b) {
                if (b) {
                    var c, d, e, f = Object.keys(b);
                    for (c = 0, d = f.length; c < d; c++)e = f[c], this[e] = b[e]
                } else this.$attr = {};
                this.$$element = a
            }

            function J(a, b, c) {
                ua.innerHTML = "<span " + b + ">";
                var d = ua.firstChild.attributes, e = d[0];
                d.removeNamedItem(e.name), e.value = c, a.attributes.setNamedItem(e)
            }

            function K(a, b) {
                try {
                    a.addClass(b)
                } catch (a) {
                }
            }

            function N(b, c, d, e, f) {
                b instanceof Kd || (b = Kd(b));
                for (var g = /\S+/, h = 0, i = b.length; h < i; h++) {
                    var j = b[h];
                    j.nodeType === fe && j.nodeValue.match(g) && Ca(j, b[h] = a.document.createElement("span"))
                }
                var k = Q(b, c, b, d, e, f);
                N.$$addScopeClass(b);
                var l = null;
                return function (a, c, d) {
                    ka(a, "scope"), f && f.needsNewScope && (a = a.$parent.$new()), d = d || {};
                    var e = d.parentBoundTranscludeFn, g = d.transcludeControllers, h = d.futureParentElement;
                    e && e.$$boundTransclude && (e = e.$$boundTransclude), l || (l = O(h));
                    var i;
                    if (i = "html" !== l ? Kd(ja(l, Kd("<div>").append(b).html())) : c ? ye.clone.call(b) : b, g)for (var j in g)i.data("$" + j + "Controller", g[j].instance);
                    return N.$$addScopeInfo(i, a), c && c(i, a), k && k(a, i, i, e), i
                }
            }

            function O(a) {
                var b = a && a[0];
                return b && "foreignobject" !== L(b) && Qd.call(b).match(/SVG/) ? "svg" : "html"
            }

            function Q(a, b, c, d, e, f) {
                function g(a, c, d, e) {
                    var f, g, h, i, j, k, l, m, p;
                    if (n) {
                        var q = c.length;
                        for (p = new Array(q), j = 0; j < o.length; j += 3)l = o[j], p[l] = c[l]
                    } else p = c;
                    for (j = 0, k = o.length; j < k;)h = p[o[j++]], f = o[j++], g = o[j++], f ? (f.scope ? (i = a.$new(), N.$$addScopeInfo(Kd(h), i)) : i = a, m = f.transcludeOnThisElement ? T(a, f.transclude, e) : !f.templateOnThisElement && e ? e : !e && b ? T(a, b) : null, f(g, i, h, d, m)) : g && g(a, h.childNodes, void 0, e)
                }

                for (var h, i, j, k, l, m, n, o = [], p = 0; p < a.length; p++)h = new I, i = U(a[p], [], h, 0 === p ? d : void 0, e), j = i.length ? Y(i, a[p], h, b, c, null, [], [], f) : null, j && j.scope && N.$$addScopeClass(h.$$element), l = j && j.terminal || !(k = a[p].childNodes) || !k.length ? null : Q(k, j ? (j.transcludeOnThisElement || !j.templateOnThisElement) && j.transclude : b), (j || l) && (o.push(p, j, l), m = !0, n = n || j), f = null;
                return m ? g : null
            }

            function T(a, b, c) {
                function d(d, e, f, g, h) {
                    return d || (d = a.$new(!1, h), d.$$transcluded = !0), b(d, e, {
                        parentBoundTranscludeFn: c,
                        transcludeControllers: f,
                        futureParentElement: g
                    })
                }

                var e = d.$$slots = pa();
                for (var f in b.$$slots)b.$$slots[f] ? e[f] = T(a, b.$$slots[f], c) : e[f] = null;
                return d
            }

            function U(a, b, c, d, e) {
                var f, g, h = a.nodeType, i = c.$attr;
                switch (h) {
                    case de:
                        ba(b, qb(L(a)), "E", d, e);
                        for (var j, k, l, m, n, o, p = a.attributes, r = 0, s = p && p.length; r < s; r++) {
                            var w = !1, x = !1;
                            j = p[r], k = j.name, n = Xd(j.value), m = qb(k), (o = Aa.test(m)) && (k = k.replace(Ue, "").substr(8).replace(/_(.)/g, function (a, b) {
                                return b.toUpperCase()
                            }));
                            var y = m.match(Ba);
                            y && ca(y[1]) && (w = k, x = k.substr(0, k.length - 5) + "end", k = k.substr(0, k.length - 6)), l = qb(k.toLowerCase()), i[l] = k, !o && c.hasOwnProperty(l) || (c[l] = n, Ta(a, l) && (c[l] = !0)), ma(a, b, n, l, o), ba(b, l, "A", d, e, w, x)
                        }
                        if (g = a.className, t(g) && (g = g.animVal), v(g) && "" !== g)for (; f = u.exec(g);)l = qb(f[2]), ba(b, l, "C", d, e) && (c[l] = Xd(f[3])), g = g.substr(f.index + f[0].length);
                        break;
                    case fe:
                        if (11 === Jd)for (; a.parentNode && a.nextSibling && a.nextSibling.nodeType === fe;)a.nodeValue = a.nodeValue + a.nextSibling.nodeValue, a.parentNode.removeChild(a.nextSibling);
                        ha(b, a.nodeValue);
                        break;
                    case ge:
                        try {
                            f = q.exec(a.nodeValue), f && (l = qb(f[1]), ba(b, l, "M", d, e) && (c[l] = Xd(f[2])))
                        } catch (a) {
                        }
                }
                return b.sort(fa), b
            }

            function V(a, b, c) {
                var d = [], e = 0;
                if (b && a.hasAttribute && a.hasAttribute(b)) {
                    do {
                        if (!a)throw Se("uterdir", "Unterminated attribute, found '{0}' but no matching '{1}' found.", b, c);
                        a.nodeType == de && (a.hasAttribute(b) && e++, a.hasAttribute(c) && e--), d.push(a), a = a.nextSibling
                    } while (e > 0)
                } else d.push(a);
                return Kd(d)
            }

            function W(a, b, c) {
                return function (d, e, f, g, h) {
                    return e = V(e[0], b, c), a(d, e, f, g, h)
                }
            }

            function X(a, b, c, d, e, f) {
                var g;
                return a ? N(b, c, d, e, f) : function () {
                    return g || (g = N(b, c, d, e, f), b = c = f = null), g.apply(this, arguments)
                }
            }

            function Y(a, b, c, f, g, h, i, k, l) {
                function m(a, b, c, d) {
                    a && (c && (a = W(a, c, d)), a.require = o.require, a.directiveName = p, (z === o || o.$$isolateScope) && (a = oa(a, {isolateScope: !0})), i.push(a)), b && (c && (b = W(b, c, d)), b.require = o.require, b.directiveName = p, (z === o || o.$$isolateScope) && (b = oa(b, {isolateScope: !0})), k.push(b))
                }

                function n(a, e, f, g, h) {
                    function l(a, b, c, d) {
                        var e;
                        if (B(a) || (d = c, c = b, b = a, a = void 0), F && (e = s), c || (c = F ? v.parent() : v), !d)return h(a, b, e, c, L);
                        var f = h.$$slots[d];
                        if (f)return f(a, b, e, c, L);
                        if (r(f))throw Se("noslot", 'No parent directive that requires a transclusion with slot name "{0}". Element: {1}', d, Z(v))
                    }

                    var m, n, o, p, q, s, u, v, C, D;
                    b === f ? (C = c, v = c.$$element) : (v = Kd(f), C = new I(v, c)), q = e, z ? p = e.$new(!0) : w && (q = e.$parent), h && (u = l, u.$$boundTransclude = h, u.isSlotFilled = function (a) {
                        return !!h.$$slots[a]
                    }), x && (s = _(v, C, u, x, p, e, z)), z && (N.$$addScopeInfo(v, p, !0, !(A && (A === z || A === z.$$originalDirective))), N.$$addScopeClass(v, !0), p.$$isolateBindings = z.$$isolateBindings, D = ra(e, C, p, p.$$isolateBindings, z), D.removeWatches && p.$on("$destroy", D.removeWatches));
                    for (var E in s) {
                        var G = x[E], H = s[E], J = G.$$bindings.bindToController;
                        H.identifier && J ? H.bindingInfo = ra(q, C, H.instance, J, G) : H.bindingInfo = {};
                        var K = H();
                        K !== H.instance && (H.instance = K, v.data("$" + G.name + "Controller", K), H.bindingInfo.removeWatches && H.bindingInfo.removeWatches(), H.bindingInfo = ra(q, C, H.instance, J, G))
                    }
                    for (d(x, function (a, b) {
                        var c = a.require;
                        a.bindToController && !Vd(c) && t(c) && j(s[b].instance, $(b, c, v, s))
                    }), d(s, function (a) {
                        var b = a.instance;
                        y(b.$onChanges) && b.$onChanges(a.bindingInfo.initialChanges), y(b.$onInit) && b.$onInit(), y(b.$onDestroy) && q.$on("$destroy", function () {
                            b.$onDestroy()
                        })
                    }), m = 0, n = i.length; m < n; m++)o = i[m], qa(o, o.isolateScope ? p : e, v, C, o.require && $(o.directiveName, o.require, v, s), u);
                    var L = e;
                    for (z && (z.template || null === z.templateUrl) && (L = p), a && a(L, f.childNodes, void 0, h), m = k.length - 1; m >= 0; m--)o = k[m], qa(o, o.isolateScope ? p : e, v, C, o.require && $(o.directiveName, o.require, v, s), u);
                    d(s, function (a) {
                        var b = a.instance;
                        y(b.$postLink) && b.$postLink()
                    })
                }

                l = l || {};
                for (var o, p, q, s, u, v = -Number.MAX_VALUE, w = l.newScopeDirective, x = l.controllerDirectives, z = l.newIsolateScopeDirective, A = l.templateDirective, C = l.nonTlbTranscludeDirective, D = !1, E = !1, F = l.hasElementTranscludeDirective, G = c.$$element = Kd(b), H = h, J = f, K = !1, M = !1, O = 0, P = a.length; O < P; O++) {
                    o = a[O];
                    var Q = o.$$start, T = o.$$end;
                    if (Q && (G = V(b, Q, T)), q = void 0, v > o.priority)break;
                    if ((u = o.scope) && (o.templateUrl || (t(u) ? (ga("new/isolated scope", z || w, o, G), z = o) : ga("new/isolated scope", z, o, G)), w = w || o), p = o.name, !K && (o.replace && (o.templateUrl || o.template) || o.transclude && !o.$$tlb)) {
                        for (var Y, ba = O + 1; Y = a[ba++];)if (Y.transclude && !Y.$$tlb || Y.replace && (Y.templateUrl || Y.template)) {
                            M = !0;
                            break
                        }
                        K = !0
                    }
                    if (!o.templateUrl && o.controller && (u = o.controller, x = x || pa(), ga("'" + p + "' controller", x[p], o, G), x[p] = o), u = o.transclude)if (D = !0, o.$$tlb || (ga("transclusion", C, o, G), C = o), "element" == u)F = !0, v = o.priority, q = G, G = c.$$element = Kd(N.$$createComment(p, c[p])), b = G[0], na(g, R(q), b), q[0].$$parentNode = q[0].parentNode, J = X(M, q, f, v, H && H.name, {nonTlbTranscludeDirective: C}); else {
                        var ca = pa();
                        if (q = Kd(Ea(b)).contents(), t(u)) {
                            q = [];
                            var fa = pa(), ha = pa();
                            d(u, function (a, b) {
                                var c = "?" === a.charAt(0);
                                a = c ? a.substring(1) : a, fa[a] = b, ca[b] = null, ha[b] = c
                            }), d(G.contents(), function (a) {
                                var b = fa[qb(L(a))];
                                b ? (ha[b] = !0, ca[b] = ca[b] || [], ca[b].push(a)) : q.push(a)
                            }), d(ha, function (a, b) {
                                if (!a)throw Se("reqslot", "Required transclusion slot `{0}` was not filled.", b)
                            });
                            for (var ia in ca)ca[ia] && (ca[ia] = X(M, ca[ia], f))
                        }
                        G.empty(), J = X(M, q, f, void 0, void 0, {needsNewScope: o.$$isolateScope || o.$$newScope}), J.$$slots = ca
                    }
                    if (o.template)if (E = !0, ga("template", A, o, G), A = o, u = y(o.template) ? o.template(G, c) : o.template, u = za(u), o.replace) {
                        if (H = o, q = wa(u) ? [] : sb(ja(o.templateNamespace, Xd(u))), b = q[0], 1 != q.length || b.nodeType !== de)throw Se("tplrt", "Template for directive '{0}' must have exactly one root element. {1}", p, "");
                        na(g, G, b);
                        var ka = {$attr: {}}, la = U(b, [], ka), ma = a.splice(O + 1, a.length - (O + 1));
                        (z || w) && aa(la, z, w), a = a.concat(la).concat(ma), da(c, ka), P = a.length
                    } else G.html(u);
                    if (o.templateUrl)E = !0, ga("template", A, o, G), A = o, o.replace && (H = o), n = ea(a.splice(O, a.length - O), G, c, g, D && J, i, k, {
                        controllerDirectives: x,
                        newScopeDirective: w !== o && w,
                        newIsolateScopeDirective: z,
                        templateDirective: A,
                        nonTlbTranscludeDirective: C
                    }), P = a.length; else if (o.compile)try {
                        s = o.compile(G, c, J);
                        var sa = o.$$originalDirective || o;
                        y(s) ? m(null, S(sa, s), Q, T) : s && m(S(sa, s.pre), S(sa, s.post), Q, T)
                    } catch (a) {
                        e(a, Z(G))
                    }
                    o.terminal && (n.terminal = !0, v = Math.max(v, o.priority))
                }
                return n.scope = w && w.scope === !0, n.transcludeOnThisElement = D, n.templateOnThisElement = E, n.transclude = J, l.hasElementTranscludeDirective = F, n
            }

            function $(a, b, c, e) {
                var f;
                if (v(b)) {
                    var g = b.match(x), h = b.substring(g[0].length), i = g[1] || g[3], j = "?" === g[2];
                    if ("^^" === i ? c = c.parent() : (f = e && e[h], f = f && f.instance), !f) {
                        var k = "$" + h + "Controller";
                        f = i ? c.inheritedData(k) : c.data(k)
                    }
                    if (!f && !j)throw Se("ctreq", "Controller '{0}', required by directive '{1}', can't be found!", h, a)
                } else if (Vd(b)) {
                    f = [];
                    for (var l = 0, m = b.length; l < m; l++)f[l] = $(a, b[l], c, e)
                } else t(b) && (f = {}, d(b, function (b, d) {
                    f[d] = $(a, b, c, e)
                }));
                return f || null
            }

            function _(a, b, c, d, e, f, g) {
                var h = pa();
                for (var j in d) {
                    var k = d[j], l = {
                        $scope: k === g || k.$$isolateScope ? e : f, $element: a, $attrs: b, $transclude: c
                    }, m = k.controller;
                    "@" == m && (m = b[k.name]);
                    var n = i(m, l, !0, k.controllerAs);
                    h[k.name] = n, a.data("$" + k.name + "Controller", n.instance)
                }
                return h
            }

            function aa(a, b, c) {
                for (var d = 0, e = a.length; d < e; d++)a[d] = m(a[d], {$$isolateScope: b, $$newScope: c})
            }

            function ba(a, c, d, f, h, i, j) {
                if (c === h)return null;
                var n = null;
                if (k.hasOwnProperty(c))for (var o, p = b.get(c + l), q = 0, s = p.length; q < s; q++)try {
                    if (o = p[q], (r(f) || f > o.priority) && o.restrict.indexOf(d) != -1) {
                        if (i && (o = m(o, {$$start: i, $$end: j})), !o.$$bindings) {
                            var u = o.$$bindings = g(o, o.name);
                            t(u.isolateScope) && (o.$$isolateBindings = u.isolateScope)
                        }
                        a.push(o), n = o
                    }
                } catch (a) {
                    e(a)
                }
                return n
            }

            function ca(a) {
                if (k.hasOwnProperty(a))for (var c, d = b.get(a + l), e = 0, f = d.length; e < f; e++)if (c = d[e], c.multiElement)return !0;
                return !1
            }

            function da(a, b) {
                var c = b.$attr, e = a.$attr, f = a.$$element;
                d(a, function (d, e) {
                    "$" != e.charAt(0) && (b[e] && b[e] !== d && (d += ("style" === e ? ";" : " ") + b[e]), a.$set(e, d, !0, c[e]))
                }), d(b, function (b, d) {
                    "class" == d ? (K(f, b), a.class = (a.class ? a.class + " " : "") + b) : "style" == d ? (f.attr("style", f.attr("style") + ";" + b), a.style = (a.style ? a.style + ";" : "") + b) : "$" == d.charAt(0) || a.hasOwnProperty(d) || (a[d] = b, e[d] = c[d])
                })
            }

            function ea(a, b, c, e, g, h, i, j) {
                var k, l, n = [], o = b[0], p = a.shift(), q = m(p, {
                    templateUrl: null,
                    transclude: null,
                    replace: null,
                    $$originalDirective: p
                }), r = y(p.templateUrl) ? p.templateUrl(b, c) : p.templateUrl, s = p.templateNamespace;
                return b.empty(), f(r).then(function (f) {
                    var m, u, v, w;
                    if (f = za(f), p.replace) {
                        if (v = wa(f) ? [] : sb(ja(s, Xd(f))), m = v[0], 1 != v.length || m.nodeType !== de)throw Se("tplrt", "Template for directive '{0}' must have exactly one root element. {1}", p.name, r);
                        u = {$attr: {}}, na(e, b, m);
                        var x = U(m, [], u);
                        t(p.scope) && aa(x, !0), a = x.concat(a), da(c, u)
                    } else m = o, b.html(f);
                    for (a.unshift(q), k = Y(a, m, c, g, b, p, h, i, j), d(e, function (a, c) {
                        a == m && (e[c] = b[0])
                    }), l = Q(b[0].childNodes, g); n.length;) {
                        var y = n.shift(), z = n.shift(), A = n.shift(), B = n.shift(), C = b[0];
                        if (!y.$$destroyed) {
                            if (z !== o) {
                                var D = z.className;
                                j.hasElementTranscludeDirective && p.replace || (C = Ea(m)), na(A, Kd(z), C), K(Kd(C), D)
                            }
                            w = k.transcludeOnThisElement ? T(y, k.transclude, B) : B, k(l, y, C, e, w)
                        }
                    }
                    n = null
                }), function (a, b, c, d, e) {
                    var f = e;
                    b.$$destroyed || (n ? n.push(b, c, d, f) : (k.transcludeOnThisElement && (f = T(b, k.transclude, e)), k(l, b, c, d, f)))
                }
            }

            function fa(a, b) {
                var c = b.priority - a.priority;
                return 0 !== c ? c : a.name !== b.name ? a.name < b.name ? -1 : 1 : a.index - b.index
            }

            function ga(a, b, c, d) {
                function e(a) {
                    return a ? " (module: " + a + ")" : ""
                }

                if (b)throw Se("multidir", "Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}", b.name, e(b.$$moduleName), c.name, e(c.$$moduleName), a, Z(d))
            }

            function ha(a, b) {
                var d = c(b, !0);
                d && a.push({
                    priority: 0, compile: function (a) {
                        var b = a.parent(), c = !!b.length;
                        return c && N.$$addBindingClass(b), function (a, b) {
                            var e = b.parent();
                            c || N.$$addBindingClass(e), N.$$addBindingInfo(e, d.expressions), a.$watch(d, function (a) {
                                b[0].nodeValue = a
                            })
                        }
                    }
                })
            }

            function ja(b, c) {
                switch (b = Fd(b || "html")) {
                    case"svg":
                    case"math":
                        var d = a.document.createElement("div");
                        return d.innerHTML = "<" + b + ">" + c + "</" + b + ">", d.childNodes[0].childNodes;
                    default:
                        return c
                }
            }

            function la(a, b) {
                if ("srcdoc" == b)return A.HTML;
                var c = L(a);
                return "xlinkHref" == b || "form" == c && "action" == b || "img" != c && ("src" == b || "ngSrc" == b) ? A.RESOURCE_URL : void 0
            }

            function ma(a, b, d, e, f) {
                var g = la(a, e);
                f = w[e] || f;
                var h = c(d, !0, g, f);
                if (h) {
                    if ("multiple" === e && "select" === L(a))throw Se("selmulti", "Binding to the 'multiple' attribute is not supported. Element: {0}", Z(a));
                    b.push({
                        priority: 100, compile: function () {
                            return {
                                pre: function (a, b, i) {
                                    var j = i.$$observers || (i.$$observers = pa());
                                    if (z.test(e))throw Se("nodomevents", "Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");
                                    var k = i[e];
                                    k !== d && (h = k && c(k, !0, g, f), d = k), h && (i[e] = h(a), (j[e] || (j[e] = [])).$$inter = !0, (i.$$observers && i.$$observers[e].$$scope || a).$watch(h, function (a, b) {
                                        "class" === e && a != b ? i.$updateClass(a, b) : i.$set(e, a)
                                    }))
                                }
                            }
                        }
                    })
                }
            }

            function na(b, c, d) {
                var e, f, g = c[0], h = c.length, i = g.parentNode;
                if (b)for (e = 0, f = b.length; e < f; e++)if (b[e] == g) {
                    b[e++] = d;
                    for (var j = e, k = j + h - 1, l = b.length; j < l; j++, k++)k < l ? b[j] = b[k] : delete b[j];
                    b.length -= h - 1, b.context === g && (b.context = d);
                    break
                }
                i && i.replaceChild(d, g);
                var m = a.document.createDocumentFragment();
                for (e = 0; e < h; e++)m.appendChild(c[e]);
                for (Kd.hasData(g) && (Kd.data(d, Kd.data(g)), Kd(g).off("$destroy")), Kd.cleanData(m.querySelectorAll("*")), e = 1; e < h; e++)delete c[e];
                c[0] = d, c.length = 1
            }

            function oa(a, b) {
                return j(function () {
                    return a.apply(null, arguments)
                }, a, b)
            }

            function qa(a, b, c, d, f, g) {
                try {
                    a(b, c, d, f, g)
                } catch (a) {
                    e(a, Z(c))
                }
            }

            function ra(a, b, e, f, g) {
                function i(b, c, d) {
                    y(e.$onChanges) && c !== d && (sa || (a.$$postDigest(H), sa = []), k || (k = {}, sa.push(j)), k[b] && (d = k[b].previousValue), k[b] = new pb(d, c))
                }

                function j() {
                    e.$onChanges(k), k = void 0
                }

                var k, l = [], m = {};
                return d(f, function (d, f) {
                    var j, k, o, p, q, r = d.attrName, s = d.optional, t = d.mode;
                    switch (t) {
                        case"@":
                            s || Ed.call(b, r) || (e[f] = b[r] = void 0), b.$observe(r, function (a) {
                                if (v(a) || F(a)) {
                                    var b = e[f];
                                    i(f, a, b), e[f] = a
                                }
                            }), b.$$observers[r].$$scope = a, j = b[r], v(j) ? e[f] = c(j)(a) : F(j) && (e[f] = j), m[f] = new pb(Te, e[f]);
                            break;
                        case"=":
                            if (!Ed.call(b, r)) {
                                if (s)break;
                                b[r] = void 0
                            }
                            if (s && !b[r])break;
                            k = h(b[r]), p = k.literal ? P : function (a, b) {
                                return a === b || a !== a && b !== b
                            }, o = k.assign || function () {
                                    throw j = e[f] = k(a), Se("nonassign", "Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!", b[r], r, g.name)
                                }, j = e[f] = k(a);
                            var u = function (b) {
                                return p(b, e[f]) || (p(b, j) ? o(a, b = e[f]) : e[f] = b), j = b
                            };
                            u.$stateful = !0, q = d.collection ? a.$watchCollection(b[r], u) : a.$watch(h(b[r], u), null, k.literal), l.push(q);
                            break;
                        case"<":
                            if (!Ed.call(b, r)) {
                                if (s)break;
                                b[r] = void 0
                            }
                            if (s && !b[r])break;
                            k = h(b[r]);
                            var w = e[f] = k(a);
                            m[f] = new pb(Te, e[f]), q = a.$watch(k, function (a, b) {
                                if (b === a) {
                                    if (b === w)return;
                                    b = w
                                }
                                i(f, a, b), e[f] = a
                            }, k.literal), l.push(q);
                            break;
                        case"&":
                            if (k = b.hasOwnProperty(r) ? h(b[r]) : n, k === n && s)break;
                            e[f] = function (b) {
                                return k(a, b)
                            }
                    }
                }), {
                    initialChanges: m, removeWatches: l.length && function () {
                        for (var a = 0, b = l.length; a < b; ++a)l[a]()
                    }
                }
            }

            var sa, ta = /^\w/, ua = a.document.createElement("div"), va = D;
            I.prototype = {
                $normalize: qb, $addClass: function (a) {
                    a && a.length > 0 && E.addClass(this.$$element, a)
                }, $removeClass: function (a) {
                    a && a.length > 0 && E.removeClass(this.$$element, a)
                }, $updateClass: function (a, b) {
                    var c = rb(a, b);
                    c && c.length && E.addClass(this.$$element, c);
                    var d = rb(b, a);
                    d && d.length && E.removeClass(this.$$element, d)
                }, $set: function (a, b, c, f) {
                    var g, h = this.$$element[0], i = Ta(h, a), j = Ua(a), k = a;
                    if (i ? (this.$$element.prop(a, b), f = i) : j && (this[j] = b, k = j), this[a] = b, f ? this.$attr[a] = f : (f = this.$attr[a], f || (this.$attr[a] = f = ia(a, "-"))), g = L(this.$$element), "a" === g && ("href" === a || "xlinkHref" === a) || "img" === g && "src" === a)this[a] = b = G(b, "src" === a); else if ("img" === g && "srcset" === a && s(b)) {
                        for (var l = "", m = Xd(b), n = /(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/, o = /\s/.test(m) ? n : /(,)/, p = m.split(o), q = Math.floor(p.length / 2), t = 0; t < q; t++) {
                            var u = 2 * t;
                            l += G(Xd(p[u]), !0), l += " " + Xd(p[u + 1])
                        }
                        var v = Xd(p[2 * t]).split(/\s/);
                        l += G(Xd(v[0]), !0), 2 === v.length && (l += " " + Xd(v[1])), this[a] = b = l
                    }
                    c !== !1 && (null === b || r(b) ? this.$$element.removeAttr(f) : ta.test(f) ? this.$$element.attr(f, b) : J(this.$$element[0], f, b));
                    var w = this.$$observers;
                    w && d(w[k], function (a) {
                        try {
                            a(b)
                        } catch (a) {
                            e(a)
                        }
                    })
                }, $observe: function (a, b) {
                    var c = this, d = c.$$observers || (c.$$observers = pa()), e = d[a] || (d[a] = []);
                    return e.push(b), p.$evalAsync(function () {
                        e.$$inter || !c.hasOwnProperty(a) || r(c[a]) || b(c[a])
                    }), function () {
                        M(e, b)
                    }
                }
            };
            var xa = c.startSymbol(), ya = c.endSymbol(), za = "{{" == xa && "}}" == ya ? o : function (a) {
                return a.replace(/\{\{/g, xa).replace(/}}/g, ya)
            }, Aa = /^ngAttr[A-Z]/, Ba = /^(.+)Start$/;
            return N.$$addBindingInfo = C ? function (a, b) {
                var c = a.data("$binding") || [];
                Vd(b) ? c = c.concat(b) : c.push(b), a.data("$binding", c)
            } : n, N.$$addBindingClass = C ? function (a) {
                K(a, "ng-binding")
            } : n, N.$$addScopeInfo = C ? function (a, b, c, d) {
                var e = c ? d ? "$isolateScopeNoTemplate" : "$isolateScope" : "$scope";
                a.data(e, b)
            } : n, N.$$addScopeClass = C ? function (a, b) {
                K(a, b ? "ng-isolate-scope" : "ng-scope")
            } : n, N.$$createComment = function (b, c) {
                var d = "";
                return C && (d = " " + (b || "") + ": ", c && (d += c + " ")), a.document.createComment(d)
            }, N
        }]
    }

    function pb(a, b) {
        this.previousValue = a, this.currentValue = b
    }

    function qb(a) {
        return va(a.replace(Ue, ""))
    }

    function rb(a, b) {
        var c = "", d = a.split(/\s+/), e = b.split(/\s+/);
        a:for (var f = 0; f < d.length; f++) {
            for (var g = d[f], h = 0; h < e.length; h++)if (g == e[h])continue a;
            c += (c.length > 0 ? " " : "") + g
        }
        return c
    }

    function sb(a) {
        a = Kd(a);
        var b = a.length;
        if (b <= 1)return a;
        for (; b--;) {
            var c = a[b];
            c.nodeType === ge && Od.call(a, b, 1)
        }
        return a
    }

    function tb(a, b) {
        if (b && v(b))return b;
        if (v(a)) {
            var c = We.exec(a);
            if (c)return c[3]
        }
    }

    function ub() {
        var a = {}, c = !1;
        this.has = function (b) {
            return a.hasOwnProperty(b)
        }, this.register = function (b, c) {
            ma(b, "controller"), t(b) ? j(a, b) : a[b] = c
        }, this.allowGlobals = function () {
            c = !0
        }, this.$get = ["$injector", "$window", function (d, e) {
            function f(a, c, d, e) {
                if (!a || !t(a.$scope))throw b("$controller")("noscp", "Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.", e, c);
                a.$scope[c] = d
            }

            return function (b, g, h, i) {
                var k, l, m, n;
                if (h = h === !0, i && v(i) && (n = i), v(b)) {
                    if (l = b.match(We), !l)throw Ve("ctrlfmt", "Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.", b);
                    m = l[1], n = n || l[3], b = a.hasOwnProperty(m) ? a[m] : na(g.$scope, m, !0) || (c ? na(e, m, !0) : void 0), la(b, m, !0)
                }
                if (h) {
                    var o = (Vd(b) ? b[b.length - 1] : b).prototype;
                    k = Object.create(o || null), n && f(g, n, k, m || b.name);
                    var p;
                    return p = j(function () {
                        var a = d.invoke(b, k, g, m);
                        return a !== k && (t(a) || y(a)) && (k = a, n && f(g, n, k, m || b.name)), k
                    }, {instance: k, identifier: n})
                }
                return k = d.instantiate(b, g, m), n && f(g, n, k, m || b.name), k
            }
        }]
    }

    function vb() {
        this.$get = ["$window", function (a) {
            return Kd(a.document)
        }]
    }

    function wb() {
        this.$get = ["$log", function (a) {
            return function (b, c) {
                a.error.apply(a, arguments)
            }
        }]
    }

    function xb(a) {
        return t(a) ? x(a) ? a.toISOString() : U(a) : a
    }

    function yb() {
        this.$get = function () {
            return function (a) {
                if (!a)return "";
                var b = [];
                return e(a, function (a, c) {
                    null === a || r(a) || (Vd(a) ? d(a, function (a) {
                        b.push(ca(c) + "=" + ca(xb(a)))
                    }) : b.push(ca(c) + "=" + ca(xb(a))))
                }), b.join("&")
            }
        }
    }

    function zb() {
        this.$get = function () {
            return function (a) {
                function b(a, f, g) {
                    null === a || r(a) || (Vd(a) ? d(a, function (a, c) {
                        b(a, f + "[" + (t(a) ? c : "") + "]")
                    }) : t(a) && !x(a) ? e(a, function (a, c) {
                        b(a, f + (g ? "" : "[") + c + (g ? "" : "]"))
                    }) : c.push(ca(f) + "=" + ca(xb(a))))
                }

                if (!a)return "";
                var c = [];
                return b(a, "", !0), c.join("&")
            }
        }
    }

    function Ab(a, b) {
        if (v(a)) {
            var c = a.replace(af, "").trim();
            if (c) {
                var d = b("Content-Type");
                (d && 0 === d.indexOf(Ye) || Bb(c)) && (a = V(c))
            }
        }
        return a
    }

    function Bb(a) {
        var b = a.match($e);
        return b && _e[b[0]].test(a)
    }

    function Cb(a) {
        function b(a, b) {
            a && (e[a] = e[a] ? e[a] + ", " + b : b)
        }

        var c, e = pa();
        return v(a) ? d(a.split("\n"), function (a) {
            c = a.indexOf(":"), b(Fd(Xd(a.substr(0, c))), Xd(a.substr(c + 1)))
        }) : t(a) && d(a, function (a, c) {
            b(Fd(c), Xd(a))
        }), e
    }

    function Db(a) {
        var b;
        return function (c) {
            if (b || (b = Cb(a)), c) {
                var d = b[Fd(c)];
                return void 0 === d && (d = null), d
            }
            return b
        }
    }

    function Eb(a, b, c, e) {
        return y(e) ? e(a, b, c) : (d(e, function (d) {
            a = d(a, b, c)
        }), a)
    }

    function Fb(a) {
        return 200 <= a && a < 300
    }

    function Gb() {
        var a = this.defaults = {
            transformResponse: [Ab],
            transformRequest: [function (a) {
                return !t(a) || C(a) || E(a) || D(a) ? a : U(a)
            }],
            headers: {common: {Accept: "application/json, text/plain, */*"}, post: O(Ze), put: O(Ze), patch: O(Ze)},
            xsrfCookieName: "XSRF-TOKEN",
            xsrfHeaderName: "X-XSRF-TOKEN",
            paramSerializer: "$httpParamSerializer"
        }, c = !1;
        this.useApplyAsync = function (a) {
            return s(a) ? (c = !!a, this) : c
        };
        var e = !0;
        this.useLegacyPromiseExtensions = function (a) {
            return s(a) ? (e = !!a, this) : e
        };
        var f = this.interceptors = [];
        this.$get = ["$httpBackend", "$$cookieReader", "$cacheFactory", "$rootScope", "$q", "$injector", function (g, h, i, k, l, m) {
            function n(c) {
                function f(a) {
                    var b = j({}, a);
                    return b.data = Eb(a.data, a.headers, a.status, i.transformResponse), Fb(a.status) ? b : l.reject(b)
                }

                function g(a, b) {
                    var c, e = {};
                    return d(a, function (a, d) {
                        y(a) ? (c = a(b), null != c && (e[d] = c)) : e[d] = a
                    }), e
                }

                function h(b) {
                    var c, d, e, f = a.headers, h = j({}, b.headers);
                    f = j({}, f.common, f[Fd(b.method)]);
                    a:for (c in f) {
                        d = Fd(c);
                        for (e in h)if (Fd(e) === d)continue a;
                        h[c] = f[c]
                    }
                    return g(h, O(b))
                }

                if (!t(c))throw b("$http")("badreq", "Http request configuration must be an object.  Received: {0}", c);
                if (!v(c.url))throw b("$http")("badreq", "Http request configuration url must be a string.  Received: {0}", c.url);
                var i = j({
                    method: "get",
                    transformRequest: a.transformRequest,
                    transformResponse: a.transformResponse,
                    paramSerializer: a.paramSerializer
                }, c);
                i.headers = h(c), i.method = Gd(i.method), i.paramSerializer = v(i.paramSerializer) ? m.get(i.paramSerializer) : i.paramSerializer;
                var k = function (b) {
                    var c = b.headers, e = Eb(b.data, Db(c), void 0, b.transformRequest);
                    return r(e) && d(c, function (a, b) {
                        "content-type" === Fd(b) && delete c[b]
                    }), r(b.withCredentials) && !r(a.withCredentials) && (b.withCredentials = a.withCredentials), q(b, e).then(f, f)
                }, n = [k, void 0], o = l.when(i);
                for (d(x, function (a) {
                    (a.request || a.requestError) && n.unshift(a.request, a.requestError), (a.response || a.responseError) && n.push(a.response, a.responseError)
                }); n.length;) {
                    var p = n.shift(), s = n.shift();
                    o = o.then(p, s)
                }
                return e ? (o.success = function (a) {
                    return la(a, "fn"), o.then(function (b) {
                        a(b.data, b.status, b.headers, i)
                    }), o
                }, o.error = function (a) {
                    return la(a, "fn"), o.then(null, function (b) {
                        a(b.data, b.status, b.headers, i)
                    }), o
                }) : (o.success = cf("success"), o.error = cf("error")), o
            }

            function o(a) {
                d(arguments, function (a) {
                    n[a] = function (b, c) {
                        return n(j({}, c || {}, {method: a, url: b}))
                    }
                })
            }

            function p(a) {
                d(arguments, function (a) {
                    n[a] = function (b, c, d) {
                        return n(j({}, d || {}, {method: a, url: b, data: c}))
                    }
                })
            }

            function q(b, e) {
                function f(a) {
                    if (a) {
                        var b = {};
                        return d(a, function (a, d) {
                            b[d] = function (b) {
                                function d() {
                                    a(b)
                                }

                                c ? k.$applyAsync(d) : k.$$phase ? d() : k.$apply(d)
                            }
                        }), b
                    }
                }

                function i(a, b, d, e) {
                    function f() {
                        j(b, a, d, e)
                    }

                    p && (Fb(a) ? p.put(z, [a, b, Cb(d), e]) : p.remove(z)), c ? k.$applyAsync(f) : (f(), k.$$phase || k.$apply())
                }

                function j(a, c, d, e) {
                    c = c >= -1 ? c : 0, (Fb(c) ? v.resolve : v.reject)({
                        data: a,
                        status: c,
                        headers: Db(d),
                        config: b,
                        statusText: e
                    })
                }

                function m(a) {
                    j(a.data, a.status, O(a.headers()), a.statusText)
                }

                function o() {
                    var a = n.pendingRequests.indexOf(b);
                    a !== -1 && n.pendingRequests.splice(a, 1)
                }

                var p, q, v = l.defer(), x = v.promise, y = b.headers, z = u(b.url, b.paramSerializer(b.params));
                if (n.pendingRequests.push(b), x.then(o, o), !b.cache && !a.cache || b.cache === !1 || "GET" !== b.method && "JSONP" !== b.method || (p = t(b.cache) ? b.cache : t(a.cache) ? a.cache : w), p && (q = p.get(z), s(q) ? G(q) ? q.then(m, m) : Vd(q) ? j(q[1], q[0], O(q[2]), q[3]) : j(q, 200, {}, "OK") : p.put(z, x)), r(q)) {
                    var A = Ic(b.url) ? h()[b.xsrfCookieName || a.xsrfCookieName] : void 0;
                    A && (y[b.xsrfHeaderName || a.xsrfHeaderName] = A), g(b.method, z, e, i, y, b.timeout, b.withCredentials, b.responseType, f(b.eventHandlers), f(b.uploadEventHandlers))
                }
                return x
            }

            function u(a, b) {
                return b.length > 0 && (a += (a.indexOf("?") == -1 ? "?" : "&") + b), a
            }

            var w = i("$http");
            a.paramSerializer = v(a.paramSerializer) ? m.get(a.paramSerializer) : a.paramSerializer;
            var x = [];
            return d(f, function (a) {
                x.unshift(v(a) ? m.get(a) : m.invoke(a))
            }), n.pendingRequests = [], o("get", "delete", "head", "jsonp"), p("post", "put", "patch"), n.defaults = a, n
        }]
    }

    function Hb() {
        this.$get = function () {
            return function () {
                return new a.XMLHttpRequest
            }
        }
    }

    function Ib() {
        this.$get = ["$browser", "$window", "$document", "$xhrFactory", function (a, b, c, d) {
            return Jb(a, d, a.defer, b.angular.callbacks, c[0])
        }]
    }

    function Jb(a, b, c, e, f) {
        function g(a, b, c) {
            var d = f.createElement("script"), g = null;
            return d.type = "text/javascript", d.src = a, d.async = !0, g = function (a) {
                ne(d, "load", g), ne(d, "error", g), f.body.removeChild(d), d = null;
                var h = -1, i = "unknown";
                a && ("load" !== a.type || e[b].called || (a = {type: "error"}), i = a.type, h = "error" === a.type ? 404 : 200), c && c(h, i)
            }, me(d, "load", g), me(d, "error", g), f.body.appendChild(d), g
        }

        return function (f, h, i, j, k, l, m, o, p, q) {
            function t() {
                w && w(), x && x.abort()
            }

            function u(b, d, e, f, g) {
                s(z) && c.cancel(z), w = x = null, b(d, e, f, g), a.$$completeOutstandingRequest(n)
            }

            if (a.$$incOutstandingRequestCount(), h = h || a.url(), "jsonp" == Fd(f)) {
                var v = "_" + (e.counter++).toString(36);
                e[v] = function (a) {
                    e[v].data = a, e[v].called = !0
                };
                var w = g(h.replace("JSON_CALLBACK", "angular.callbacks." + v), v, function (a, b) {
                    u(j, a, e[v].data, "", b), e[v] = n
                })
            } else {
                var x = b(f, h);
                x.open(f, h, !0), d(k, function (a, b) {
                    s(a) && x.setRequestHeader(b, a)
                }), x.onload = function () {
                    var a = x.statusText || "", b = "response" in x ? x.response : x.responseText, c = 1223 === x.status ? 204 : x.status;
                    0 === c && (c = b ? 200 : "file" == Hc(h).protocol ? 404 : 0), u(j, c, b, x.getAllResponseHeaders(), a)
                };
                var y = function () {
                    u(j, -1, null, null, "")
                };
                if (x.onerror = y, x.onabort = y, d(p, function (a, b) {
                        x.addEventListener(b, a)
                    }), d(q, function (a, b) {
                        x.upload.addEventListener(b, a)
                    }), m && (x.withCredentials = !0), o)try {
                    x.responseType = o
                } catch (a) {
                    if ("json" !== o)throw a
                }
                x.send(r(i) ? null : i)
            }
            if (l > 0)var z = c(t, l); else G(l) && l.then(t)
        }
    }

    function Kb() {
        var a = "{{", b = "}}";
        this.startSymbol = function (b) {
            return b ? (a = b, this) : a
        }, this.endSymbol = function (a) {
            return a ? (b = a, this) : b
        }, this.$get = ["$parse", "$exceptionHandler", "$sce", function (c, d, e) {
            function f(a) {
                return "\\\\\\" + a
            }

            function g(c) {
                return c.replace(n, a).replace(o, b)
            }

            function h(a) {
                if (null == a)return "";
                switch (typeof a) {
                    case"string":
                        break;
                    case"number":
                        a = "" + a;
                        break;
                    default:
                        a = U(a)
                }
                return a
            }

            function i(a, b, c, d) {
                var e;
                return e = a.$watch(function (a) {
                    return e(), d(a)
                }, b, c)
            }

            function k(f, k, n, o) {
                function q(a) {
                    try {
                        return a = G(a), o && !s(a) ? a : h(a)
                    } catch (a) {
                        d(df.interr(f, a))
                    }
                }

                if (!f.length || f.indexOf(a) === -1) {
                    var t;
                    if (!k) {
                        var u = g(f);
                        t = p(u), t.exp = f, t.expressions = [], t.$$watchDelegate = i
                    }
                    return t
                }
                o = !!o;
                for (var v, w, x, z = 0, A = [], B = [], C = f.length, D = [], E = []; z < C;) {
                    if ((v = f.indexOf(a, z)) == -1 || (w = f.indexOf(b, v + l)) == -1) {
                        z !== C && D.push(g(f.substring(z)));
                        break
                    }
                    z !== v && D.push(g(f.substring(z, v))), x = f.substring(v + l, w), A.push(x), B.push(c(x, q)), z = w + m, E.push(D.length), D.push("")
                }
                if (n && D.length > 1 && df.throwNoconcat(f), !k || A.length) {
                    var F = function (a) {
                        for (var b = 0, c = A.length; b < c; b++) {
                            if (o && r(a[b]))return;
                            D[E[b]] = a[b]
                        }
                        return D.join("")
                    }, G = function (a) {
                        return n ? e.getTrusted(n, a) : e.valueOf(a)
                    };
                    return j(function (a) {
                        var b = 0, c = A.length, e = new Array(c);
                        try {
                            for (; b < c; b++)e[b] = B[b](a);
                            return F(e)
                        } catch (a) {
                            d(df.interr(f, a))
                        }
                    }, {
                        exp: f, expressions: A, $$watchDelegate: function (a, b) {
                            var c;
                            return a.$watchGroup(B, function (d, e) {
                                var f = F(d);
                                y(b) && b.call(this, f, d !== e ? c : f, a), c = f
                            })
                        }
                    })
                }
            }

            var l = a.length, m = b.length, n = new RegExp(a.replace(/./g, f), "g"), o = new RegExp(b.replace(/./g, f), "g");
            return k.startSymbol = function () {
                return a
            }, k.endSymbol = function () {
                return b
            }, k
        }]
    }

    function Lb() {
        this.$get = ["$rootScope", "$window", "$q", "$$q", "$browser", function (a, b, c, d, e) {
            function f(f, h, i, j) {
                function k() {
                    l ? f.apply(null, m) : f(p)
                }

                var l = arguments.length > 4, m = l ? R(arguments, 4) : [], n = b.setInterval, o = b.clearInterval, p = 0, q = s(j) && !j, r = (q ? d : c).defer(), t = r.promise;
                return i = s(i) ? i : 0, t.$$intervalId = n(function () {
                    q ? e.defer(k) : a.$evalAsync(k), r.notify(p++), i > 0 && p >= i && (r.resolve(p), o(t.$$intervalId), delete g[t.$$intervalId]), q || a.$apply()
                }, h), g[t.$$intervalId] = r, t
            }

            var g = {};
            return f.cancel = function (a) {
                return !!(a && a.$$intervalId in g) && (g[a.$$intervalId].reject("canceled"), b.clearInterval(a.$$intervalId), delete g[a.$$intervalId], !0)
            }, f
        }]
    }

    function Mb(a) {
        for (var b = a.split("/"), c = b.length; c--;)b[c] = ba(b[c]);
        return b.join("/")
    }

    function Nb(a, b) {
        var c = Hc(a);
        b.$$protocol = c.protocol, b.$$host = c.hostname, b.$$port = l(c.port) || ff[c.protocol] || null
    }

    function Ob(a, b) {
        var c = "/" !== a.charAt(0);
        c && (a = "/" + a);
        var d = Hc(a);
        b.$$path = decodeURIComponent(c && "/" === d.pathname.charAt(0) ? d.pathname.substring(1) : d.pathname), b.$$search = _(d.search), b.$$hash = decodeURIComponent(d.hash), b.$$path && "/" != b.$$path.charAt(0) && (b.$$path = "/" + b.$$path)
    }

    function Pb(a, b) {
        return 0 === a.lastIndexOf(b, 0)
    }

    function Qb(a, b) {
        if (Pb(b, a))return b.substr(a.length)
    }

    function Rb(a) {
        var b = a.indexOf("#");
        return b == -1 ? a : a.substr(0, b)
    }

    function Sb(a) {
        return a.replace(/(#.+)|#$/, "$1")
    }

    function Tb(a) {
        return a.substr(0, Rb(a).lastIndexOf("/") + 1)
    }

    function Ub(a) {
        return a.substring(0, a.indexOf("/", a.indexOf("//") + 2))
    }

    function Vb(a, b, c) {
        this.$$html5 = !0, c = c || "", Nb(a, this), this.$$parse = function (a) {
            var c = Qb(b, a);
            if (!v(c))throw gf("ipthprfx", 'Invalid url "{0}", missing path prefix "{1}".', a, b);
            Ob(c, this), this.$$path || (this.$$path = "/"), this.$$compose()
        }, this.$$compose = function () {
            var a = aa(this.$$search), c = this.$$hash ? "#" + ba(this.$$hash) : "";
            this.$$url = Mb(this.$$path) + (a ? "?" + a : "") + c, this.$$absUrl = b + this.$$url.substr(1)
        }, this.$$parseLinkUrl = function (d, e) {
            if (e && "#" === e[0])return this.hash(e.slice(1)), !0;
            var f, g, h;
            return s(f = Qb(a, d)) ? (g = f, h = s(f = Qb(c, f)) ? b + (Qb("/", f) || f) : a + g) : s(f = Qb(b, d)) ? h = b + f : b == d + "/" && (h = b), h && this.$$parse(h), !!h
        }
    }

    function Wb(a, b, c) {
        Nb(a, this), this.$$parse = function (d) {
            function e(a, b, c) {
                var d, e = /^\/[A-Z]:(\/.*)/;
                return Pb(b, c) && (b = b.replace(c, "")), e.exec(b) ? a : (d = e.exec(a), d ? d[1] : a)
            }

            var f, g = Qb(a, d) || Qb(b, d);
            r(g) || "#" !== g.charAt(0) ? this.$$html5 ? f = g : (f = "", r(g) && (a = d, this.replace())) : (f = Qb(c, g), r(f) && (f = g)), Ob(f, this), this.$$path = e(this.$$path, f, a), this.$$compose()
        }, this.$$compose = function () {
            var b = aa(this.$$search), d = this.$$hash ? "#" + ba(this.$$hash) : "";
            this.$$url = Mb(this.$$path) + (b ? "?" + b : "") + d, this.$$absUrl = a + (this.$$url ? c + this.$$url : "")
        }, this.$$parseLinkUrl = function (b, c) {
            return Rb(a) == Rb(b) && (this.$$parse(b), !0)
        }
    }

    function Xb(a, b, c) {
        this.$$html5 = !0, Wb.apply(this, arguments), this.$$parseLinkUrl = function (d, e) {
            if (e && "#" === e[0])return this.hash(e.slice(1)), !0;
            var f, g;
            return a == Rb(d) ? f = d : (g = Qb(b, d)) ? f = a + c + g : b === d + "/" && (f = b), f && this.$$parse(f), !!f
        }, this.$$compose = function () {
            var b = aa(this.$$search), d = this.$$hash ? "#" + ba(this.$$hash) : "";
            this.$$url = Mb(this.$$path) + (b ? "?" + b : "") + d, this.$$absUrl = a + c + this.$$url
        }
    }

    function Yb(a) {
        return function () {
            return this[a]
        }
    }

    function Zb(a, b) {
        return function (c) {
            return r(c) ? this[a] : (this[a] = b(c), this.$$compose(), this)
        }
    }

    function $b() {
        var a = "", b = {enabled: !1, requireBase: !0, rewriteLinks: !0};
        this.hashPrefix = function (b) {
            return s(b) ? (a = b, this) : a
        }, this.html5Mode = function (a) {
            return F(a) ? (b.enabled = a, this) : t(a) ? (F(a.enabled) && (b.enabled = a.enabled), F(a.requireBase) && (b.requireBase = a.requireBase), F(a.rewriteLinks) && (b.rewriteLinks = a.rewriteLinks), this) : b
        }, this.$get = ["$rootScope", "$browser", "$sniffer", "$rootElement", "$window", function (c, d, e, f, g) {
            function h(a, b, c) {
                var e = j.url(), f = j.$$state;
                try {
                    d.url(a, b, c), j.$$state = d.state()
                } catch (a) {
                    throw j.url(e), j.$$state = f, a
                }
            }

            function i(a, b) {
                c.$broadcast("$locationChangeSuccess", j.absUrl(), a, j.$$state, b)
            }

            var j, k, l, m = d.baseHref(), n = d.url();
            if (b.enabled) {
                if (!m && b.requireBase)throw gf("nobase", "$location in HTML5 mode requires a <base> tag to be present!");
                l = Ub(n) + (m || "/"), k = e.history ? Vb : Xb
            } else l = Rb(n), k = Wb;
            var o = Tb(l);
            j = new k(l, o, "#" + a), j.$$parseLinkUrl(n, n), j.$$state = d.state();
            var p = /^\s*(javascript|mailto):/i;
            f.on("click", function (a) {
                if (b.rewriteLinks && !a.ctrlKey && !a.metaKey && !a.shiftKey && 2 != a.which && 2 != a.button) {
                    for (var e = Kd(a.target); "a" !== L(e[0]);)if (e[0] === f[0] || !(e = e.parent())[0])return;
                    var h = e.prop("href"), i = e.attr("href") || e.attr("xlink:href");
                    t(h) && "[object SVGAnimatedString]" === h.toString() && (h = Hc(h.animVal).href), p.test(h) || !h || e.attr("target") || a.isDefaultPrevented() || j.$$parseLinkUrl(h, i) && (a.preventDefault(), j.absUrl() != d.url() && (c.$apply(), g.angular["ff-684208-preventDefault"] = !0))
                }
            }), Sb(j.absUrl()) != Sb(n) && d.url(j.absUrl(), !0);
            var q = !0;
            return d.onUrlChange(function (a, b) {
                return r(Qb(o, a)) ? void(g.location.href = a) : (c.$evalAsync(function () {
                    var d, e = j.absUrl(), f = j.$$state;
                    a = Sb(a), j.$$parse(a), j.$$state = b, d = c.$broadcast("$locationChangeStart", a, e, b, f).defaultPrevented, j.absUrl() === a && (d ? (j.$$parse(e), j.$$state = f, h(e, !1, f)) : (q = !1, i(e, f)))
                }), void(c.$$phase || c.$digest()))
            }), c.$watch(function () {
                var a = Sb(d.url()), b = Sb(j.absUrl()), f = d.state(), g = j.$$replace, k = a !== b || j.$$html5 && e.history && f !== j.$$state;
                (q || k) && (q = !1, c.$evalAsync(function () {
                    var b = j.absUrl(), d = c.$broadcast("$locationChangeStart", b, a, j.$$state, f).defaultPrevented;
                    j.absUrl() === b && (d ? (j.$$parse(a), j.$$state = f) : (k && h(b, g, f === j.$$state ? null : j.$$state), i(a, f)))
                })), j.$$replace = !1
            }), j
        }]
    }

    function _b() {
        var a = !0, b = this;
        this.debugEnabled = function (b) {
            return s(b) ? (a = b, this) : a
        }, this.$get = ["$window", function (c) {
            function e(a) {
                return a instanceof Error && (a.stack ? a = a.message && a.stack.indexOf(a.message) === -1 ? "Error: " + a.message + "\n" + a.stack : a.stack : a.sourceURL && (a = a.message + "\n" + a.sourceURL + ":" + a.line)), a
            }

            function f(a) {
                var b = c.console || {}, f = b[a] || b.log || n, g = !1;
                try {
                    g = !!f.apply
                } catch (a) {
                }
                return g ? function () {
                    var a = [];
                    return d(arguments, function (b) {
                        a.push(e(b))
                    }), f.apply(b, a)
                } : function (a, b) {
                    f(a, null == b ? "" : b)
                }
            }

            return {
                log: f("log"), info: f("info"), warn: f("warn"), error: f("error"), debug: function () {
                    var c = f("debug");
                    return function () {
                        a && c.apply(b, arguments)
                    }
                }()
            }
        }]
    }

    function ac(a, b) {
        if ("__defineGetter__" === a || "__defineSetter__" === a || "__lookupGetter__" === a || "__lookupSetter__" === a || "__proto__" === a)throw jf("isecfld", "Attempting to access a disallowed field in Angular expressions! Expression: {0}", b);
        return a
    }

    function bc(a) {
        return a + ""
    }

    function cc(a, b) {
        if (a) {
            if (a.constructor === a)throw jf("isecfn", "Referencing Function in Angular expressions is disallowed! Expression: {0}", b);
            if (a.window === a)throw jf("isecwindow", "Referencing the Window in Angular expressions is disallowed! Expression: {0}", b);
            if (a.children && (a.nodeName || a.prop && a.attr && a.find))throw jf("isecdom", "Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}", b);
            if (a === Object)throw jf("isecobj", "Referencing Object in Angular expressions is disallowed! Expression: {0}", b)
        }
        return a
    }

    function dc(a, b) {
        if (a) {
            if (a.constructor === a)throw jf("isecfn", "Referencing Function in Angular expressions is disallowed! Expression: {0}", b);
            if (a === kf || a === lf || a === mf)throw jf("isecff", "Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}", b)
        }
    }

    function ec(a, b) {
        if (a && (a === (0).constructor || a === (!1).constructor || a === "".constructor || a === {}.constructor || a === [].constructor || a === Function.constructor))throw jf("isecaf", "Assigning to a constructor is disallowed! Expression: {0}", b)
    }

    function fc(a, b) {
        return "undefined" != typeof a ? a : b
    }

    function gc(a, b) {
        return "undefined" == typeof a ? b : "undefined" == typeof b ? a : a + b
    }

    function hc(a, b) {
        var c = a(b);
        return !c.$stateful
    }

    function ic(a, b) {
        var c, e;
        switch (a.type) {
            case qf.Program:
                c = !0, d(a.body, function (a) {
                    ic(a.expression, b), c = c && a.expression.constant
                }), a.constant = c;
                break;
            case qf.Literal:
                a.constant = !0, a.toWatch = [];
                break;
            case qf.UnaryExpression:
                ic(a.argument, b), a.constant = a.argument.constant, a.toWatch = a.argument.toWatch;
                break;
            case qf.BinaryExpression:
                ic(a.left, b), ic(a.right, b), a.constant = a.left.constant && a.right.constant, a.toWatch = a.left.toWatch.concat(a.right.toWatch);
                break;
            case qf.LogicalExpression:
                ic(a.left, b), ic(a.right, b), a.constant = a.left.constant && a.right.constant, a.toWatch = a.constant ? [] : [a];
                break;
            case qf.ConditionalExpression:
                ic(a.test, b), ic(a.alternate, b), ic(a.consequent, b), a.constant = a.test.constant && a.alternate.constant && a.consequent.constant, a.toWatch = a.constant ? [] : [a];
                break;
            case qf.Identifier:
                a.constant = !1, a.toWatch = [a];
                break;
            case qf.MemberExpression:
                ic(a.object, b), a.computed && ic(a.property, b), a.constant = a.object.constant && (!a.computed || a.property.constant), a.toWatch = [a];
                break;
            case qf.CallExpression:
                c = !!a.filter && hc(b, a.callee.name), e = [], d(a.arguments, function (a) {
                    ic(a, b), c = c && a.constant, a.constant || e.push.apply(e, a.toWatch)
                }), a.constant = c, a.toWatch = a.filter && hc(b, a.callee.name) ? e : [a];
                break;
            case qf.AssignmentExpression:
                ic(a.left, b), ic(a.right, b), a.constant = a.left.constant && a.right.constant, a.toWatch = [a];
                break;
            case qf.ArrayExpression:
                c = !0, e = [], d(a.elements, function (a) {
                    ic(a, b), c = c && a.constant, a.constant || e.push.apply(e, a.toWatch)
                }), a.constant = c, a.toWatch = e;
                break;
            case qf.ObjectExpression:
                c = !0, e = [], d(a.properties, function (a) {
                    ic(a.value, b), c = c && a.value.constant && !a.computed, a.value.constant || e.push.apply(e, a.value.toWatch)
                }), a.constant = c, a.toWatch = e;
                break;
            case qf.ThisExpression:
                a.constant = !1, a.toWatch = [];
                break;
            case qf.LocalsExpression:
                a.constant = !1, a.toWatch = []
        }
    }

    function jc(a) {
        if (1 == a.length) {
            var b = a[0].expression, c = b.toWatch;
            return 1 !== c.length ? c : c[0] !== b ? c : void 0
        }
    }

    function kc(a) {
        return a.type === qf.Identifier || a.type === qf.MemberExpression
    }

    function lc(a) {
        if (1 === a.body.length && kc(a.body[0].expression))return {
            type: qf.AssignmentExpression,
            left: a.body[0].expression,
            right: {type: qf.NGValueParameter},
            operator: "="
        }
    }

    function mc(a) {
        return 0 === a.body.length || 1 === a.body.length && (a.body[0].expression.type === qf.Literal || a.body[0].expression.type === qf.ArrayExpression || a.body[0].expression.type === qf.ObjectExpression)
    }

    function nc(a) {
        return a.constant
    }

    function oc(a, b) {
        this.astBuilder = a, this.$filter = b
    }

    function pc(a, b) {
        this.astBuilder = a, this.$filter = b
    }

    function qc(a) {
        return "constructor" == a
    }

    function rc(a) {
        return y(a.valueOf) ? a.valueOf() : sf.call(a)
    }

    function sc() {
        var a, b, c = pa(), e = pa(), f = {true: !0, false: !1, null: null, undefined: void 0};
        this.addLiteral = function (a, b) {
            f[a] = b
        }, this.setIdentifierFns = function (c, d) {
            return a = c, b = d, this
        }, this.$get = ["$filter", function (g) {
            function h(a, b, d) {
                var f, h, j;
                switch (d = d || u, typeof a) {
                    case"string":
                        a = a.trim(), j = a;
                        var q = d ? e : c;
                        if (f = q[j], !f) {
                            ":" === a.charAt(0) && ":" === a.charAt(1) && (h = !0, a = a.substring(2));
                            var s = d ? t : r, v = new pf(s), w = new rf(v, g, s);
                            f = w.parse(a), f.constant ? f.$$watchDelegate = o : h ? f.$$watchDelegate = f.literal ? m : l : f.inputs && (f.$$watchDelegate = k), d && (f = i(f)), q[j] = f
                        }
                        return p(f, b);
                    case"function":
                        return p(a, b);
                    default:
                        return p(n, b)
                }
            }

            function i(a) {
                function b(b, c, d, e) {
                    var f = u;
                    u = !0;
                    try {
                        return a(b, c, d, e)
                    } finally {
                        u = f
                    }
                }

                if (!a)return a;
                b.$$watchDelegate = a.$$watchDelegate, b.assign = i(a.assign), b.constant = a.constant, b.literal = a.literal;
                for (var c = 0; a.inputs && c < a.inputs.length; ++c)a.inputs[c] = i(a.inputs[c]);
                return b.inputs = a.inputs, b
            }

            function j(a, b) {
                return null == a || null == b ? a === b : ("object" != typeof a || (a = rc(a), "object" != typeof a)) && (a === b || a !== a && b !== b)
            }

            function k(a, b, c, d, e) {
                var f, g = d.inputs;
                if (1 === g.length) {
                    var h = j;
                    return g = g[0], a.$watch(function (a) {
                        var b = g(a);
                        return j(b, h) || (f = d(a, void 0, void 0, [b]), h = b && rc(b)), f
                    }, b, c, e)
                }
                for (var i = [], k = [], l = 0, m = g.length; l < m; l++)i[l] = j, k[l] = null;
                return a.$watch(function (a) {
                    for (var b = !1, c = 0, e = g.length; c < e; c++) {
                        var h = g[c](a);
                        (b || (b = !j(h, i[c]))) && (k[c] = h, i[c] = h && rc(h))
                    }
                    return b && (f = d(a, void 0, void 0, k)), f
                }, b, c, e)
            }

            function l(a, b, c, d) {
                var e, f;
                return e = a.$watch(function (a) {
                    return d(a)
                }, function (a, c, d) {
                    f = a, y(b) && b.apply(this, arguments), s(a) && d.$$postDigest(function () {
                        s(f) && e()
                    })
                }, c)
            }

            function m(a, b, c, e) {
                function f(a) {
                    var b = !0;
                    return d(a, function (a) {
                        s(a) || (b = !1)
                    }), b
                }

                var g, h;
                return g = a.$watch(function (a) {
                    return e(a)
                }, function (a, c, d) {
                    h = a, y(b) && b.call(this, a, c, d), f(a) && d.$$postDigest(function () {
                        f(h) && g()
                    })
                }, c)
            }

            function o(a, b, c, d) {
                var e;
                return e = a.$watch(function (a) {
                    return e(), d(a)
                }, b, c)
            }

            function p(a, b) {
                if (!b)return a;
                var c = a.$$watchDelegate, d = !1, e = c !== m && c !== l, f = e ? function (c, e, f, g) {
                    var h = d && g ? g[0] : a(c, e, f, g);
                    return b(h, c, e)
                } : function (c, d, e, f) {
                    var g = a(c, d, e, f), h = b(g, c, d);
                    return s(g) ? h : g
                };
                return a.$$watchDelegate && a.$$watchDelegate !== k ? f.$$watchDelegate = a.$$watchDelegate : b.$stateful || (f.$$watchDelegate = k, d = !a.inputs, f.inputs = a.inputs ? a.inputs : [a]), f
            }

            var q = Zd().noUnsafeEval, r = {
                csp: q,
                expensiveChecks: !1,
                literals: N(f),
                isIdentifierStart: y(a) && a,
                isIdentifierContinue: y(b) && b
            }, t = {
                csp: q,
                expensiveChecks: !0,
                literals: N(f),
                isIdentifierStart: y(a) && a,
                isIdentifierContinue: y(b) && b
            }, u = !1;
            return h.$$runningExpensiveChecks = function () {
                return u
            }, h
        }]
    }

    function tc() {
        this.$get = ["$rootScope", "$exceptionHandler", function (a, b) {
            return vc(function (b) {
                a.$evalAsync(b)
            }, b)
        }]
    }

    function uc() {
        this.$get = ["$browser", "$exceptionHandler", function (a, b) {
            return vc(function (b) {
                a.defer(b)
            }, b)
        }]
    }

    function vc(a, c) {
        function e() {
            this.$$state = {status: 0}
        }

        function f(a, b) {
            return function (c) {
                b.call(a, c)
            }
        }

        function g(a) {
            var b, d, e;
            e = a.pending, a.processScheduled = !1, a.pending = void 0;
            for (var f = 0, g = e.length; f < g; ++f) {
                d = e[f][0], b = e[f][a.status];
                try {
                    y(b) ? d.resolve(b(a.value)) : 1 === a.status ? d.resolve(a.value) : d.reject(a.value)
                } catch (a) {
                    d.reject(a), c(a)
                }
            }
        }

        function h(b) {
            !b.processScheduled && b.pending && (b.processScheduled = !0, a(function () {
                g(b)
            }))
        }

        function i() {
            this.promise = new e
        }

        function k(a) {
            var b = new i, c = 0, e = Vd(a) ? [] : {};
            return d(a, function (a, d) {
                c++, q(a).then(function (a) {
                    e.hasOwnProperty(d) || (e[d] = a, --c || b.resolve(e))
                }, function (a) {
                    e.hasOwnProperty(d) || b.reject(a)
                })
            }), 0 === c && b.resolve(e), b.promise
        }

        var l = b("$q", TypeError), m = function () {
            var a = new i;
            return a.resolve = f(a, a.resolve), a.reject = f(a, a.reject), a.notify = f(a, a.notify), a
        };
        j(e.prototype, {
            then: function (a, b, c) {
                if (r(a) && r(b) && r(c))return this;
                var d = new i;
                return this.$$state.pending = this.$$state.pending || [], this.$$state.pending.push([d, a, b, c]), this.$$state.status > 0 && h(this.$$state), d.promise
            }, catch: function (a) {
                return this.then(null, a)
            }, finally: function (a, b) {
                return this.then(function (b) {
                    return p(b, !0, a)
                }, function (b) {
                    return p(b, !1, a)
                }, b)
            }
        }), j(i.prototype, {
            resolve: function (a) {
                this.promise.$$state.status || (a === this.promise ? this.$$reject(l("qcycle", "Expected promise to be resolved with value other than itself '{0}'", a)) : this.$$resolve(a));
            }, $$resolve: function (a) {
                function b(a) {
                    i || (i = !0, g.$$resolve(a))
                }

                function d(a) {
                    i || (i = !0, g.$$reject(a))
                }

                var e, g = this, i = !1;
                try {
                    (t(a) || y(a)) && (e = a && a.then), y(e) ? (this.promise.$$state.status = -1, e.call(a, b, d, f(this, this.notify))) : (this.promise.$$state.value = a, this.promise.$$state.status = 1, h(this.promise.$$state))
                } catch (a) {
                    d(a), c(a)
                }
            }, reject: function (a) {
                this.promise.$$state.status || this.$$reject(a)
            }, $$reject: function (a) {
                this.promise.$$state.value = a, this.promise.$$state.status = 2, h(this.promise.$$state)
            }, notify: function (b) {
                var d = this.promise.$$state.pending;
                this.promise.$$state.status <= 0 && d && d.length && a(function () {
                    for (var a, e, f = 0, g = d.length; f < g; f++) {
                        e = d[f][0], a = d[f][3];
                        try {
                            e.notify(y(a) ? a(b) : b)
                        } catch (a) {
                            c(a)
                        }
                    }
                })
            }
        });
        var n = function (a) {
            var b = new i;
            return b.reject(a), b.promise
        }, o = function (a, b) {
            var c = new i;
            return b ? c.resolve(a) : c.reject(a), c.promise
        }, p = function (a, b, c) {
            var d = null;
            try {
                y(c) && (d = c())
            } catch (a) {
                return o(a, !1)
            }
            return G(d) ? d.then(function () {
                return o(a, b)
            }, function (a) {
                return o(a, !1)
            }) : o(a, b)
        }, q = function (a, b, c, d) {
            var e = new i;
            return e.resolve(a), e.promise.then(b, c, d)
        }, s = q, u = function (a) {
            function b(a) {
                d.resolve(a)
            }

            function c(a) {
                d.reject(a)
            }

            if (!y(a))throw l("norslvr", "Expected resolverFn, got '{0}'", a);
            var d = new i;
            return a(b, c), d.promise
        };
        return u.prototype = e.prototype, u.defer = m, u.reject = n, u.when = q, u.resolve = s, u.all = k, u
    }

    function wc() {
        this.$get = ["$window", "$timeout", function (a, b) {
            var c = a.requestAnimationFrame || a.webkitRequestAnimationFrame, d = a.cancelAnimationFrame || a.webkitCancelAnimationFrame || a.webkitCancelRequestAnimationFrame, e = !!c, f = e ? function (a) {
                var b = c(a);
                return function () {
                    d(b)
                }
            } : function (a) {
                var c = b(a, 16.66, !1);
                return function () {
                    b.cancel(c)
                }
            };
            return f.supported = e, f
        }]
    }

    function xc() {
        function a(a) {
            function b() {
                this.$$watchers = this.$$nextSibling = this.$$childHead = this.$$childTail = null, this.$$listeners = {}, this.$$listenerCount = {}, this.$$watchersCount = 0, this.$id = g(), this.$$ChildScope = null
            }

            return b.prototype = a, b
        }

        var e = 10, f = b("$rootScope"), h = null, i = null;
        this.digestTtl = function (a) {
            return arguments.length && (e = a), e
        }, this.$get = ["$exceptionHandler", "$parse", "$browser", function (b, j, k) {
            function l(a) {
                a.currentScope.$$destroyed = !0
            }

            function m(a) {
                9 === Jd && (a.$$childHead && m(a.$$childHead), a.$$nextSibling && m(a.$$nextSibling)), a.$parent = a.$$nextSibling = a.$$prevSibling = a.$$childHead = a.$$childTail = a.$root = a.$$watchers = null
            }

            function o() {
                this.$id = g(), this.$$phase = this.$parent = this.$$watchers = this.$$nextSibling = this.$$prevSibling = this.$$childHead = this.$$childTail = null, this.$root = this, this.$$destroyed = !1, this.$$listeners = {}, this.$$listenerCount = {}, this.$$watchersCount = 0, this.$$isolateBindings = null
            }

            function p(a) {
                if (z.$$phase)throw f("inprog", "{0} already in progress", z.$$phase);
                z.$$phase = a
            }

            function q() {
                z.$$phase = null
            }

            function s(a, b) {
                do a.$$watchersCount += b; while (a = a.$parent)
            }

            function u(a, b, c) {
                do a.$$listenerCount[c] -= b, 0 === a.$$listenerCount[c] && delete a.$$listenerCount[c]; while (a = a.$parent)
            }

            function v() {
            }

            function w() {
                for (; C.length;)try {
                    C.shift()()
                } catch (a) {
                    b(a)
                }
                i = null
            }

            function x() {
                null === i && (i = k.defer(function () {
                    z.$apply(w)
                }))
            }

            o.prototype = {
                constructor: o, $new: function (b, c) {
                    var d;
                    return c = c || this, b ? (d = new o, d.$root = this.$root) : (this.$$ChildScope || (this.$$ChildScope = a(this)), d = new this.$$ChildScope), d.$parent = c, d.$$prevSibling = c.$$childTail, c.$$childHead ? (c.$$childTail.$$nextSibling = d, c.$$childTail = d) : c.$$childHead = c.$$childTail = d, (b || c != this) && d.$on("$destroy", l), d
                }, $watch: function (a, b, c, d) {
                    var e = j(a);
                    if (e.$$watchDelegate)return e.$$watchDelegate(this, b, c, e, a);
                    var f = this, g = f.$$watchers, i = {fn: b, last: v, get: e, exp: d || a, eq: !!c};
                    return h = null, y(b) || (i.fn = n), g || (g = f.$$watchers = []), g.unshift(i), s(this, 1), function () {
                        M(g, i) >= 0 && s(f, -1), h = null
                    }
                }, $watchGroup: function (a, b) {
                    function c() {
                        i = !1, j ? (j = !1, b(f, f, h)) : b(f, e, h)
                    }

                    var e = new Array(a.length), f = new Array(a.length), g = [], h = this, i = !1, j = !0;
                    if (!a.length) {
                        var k = !0;
                        return h.$evalAsync(function () {
                            k && b(f, f, h)
                        }), function () {
                            k = !1
                        }
                    }
                    return 1 === a.length ? this.$watch(a[0], function (a, c, d) {
                        f[0] = a, e[0] = c, b(f, a === c ? f : e, d)
                    }) : (d(a, function (a, b) {
                        var d = h.$watch(a, function (a, d) {
                            f[b] = a, e[b] = d, i || (i = !0, h.$evalAsync(c))
                        });
                        g.push(d)
                    }), function () {
                        for (; g.length;)g.shift()()
                    })
                }, $watchCollection: function (a, b) {
                    function d(a) {
                        f = a;
                        var b, d, e, h, i;
                        if (!r(f)) {
                            if (t(f))if (c(f)) {
                                g !== n && (g = n, q = g.length = 0, l++), b = f.length, q !== b && (l++, g.length = q = b);
                                for (var j = 0; j < b; j++)i = g[j], h = f[j], e = i !== i && h !== h, e || i === h || (l++, g[j] = h)
                            } else {
                                g !== o && (g = o = {}, q = 0, l++), b = 0;
                                for (d in f)Ed.call(f, d) && (b++, h = f[d], i = g[d], d in g ? (e = i !== i && h !== h, e || i === h || (l++, g[d] = h)) : (q++, g[d] = h, l++));
                                if (q > b) {
                                    l++;
                                    for (d in g)Ed.call(f, d) || (q--, delete g[d])
                                }
                            } else g !== f && (g = f, l++);
                            return l
                        }
                    }

                    function e() {
                        if (p ? (p = !1, b(f, f, i)) : b(f, h, i), k)if (t(f))if (c(f)) {
                            h = new Array(f.length);
                            for (var a = 0; a < f.length; a++)h[a] = f[a]
                        } else {
                            h = {};
                            for (var d in f)Ed.call(f, d) && (h[d] = f[d])
                        } else h = f
                    }

                    d.$stateful = !0;
                    var f, g, h, i = this, k = b.length > 1, l = 0, m = j(a, d), n = [], o = {}, p = !0, q = 0;
                    return this.$watch(m, e)
                }, $digest: function () {
                    var a, c, d, g, j, l, m, n, o, r, s, t, u = e, x = this, C = [];
                    p("$digest"), k.$$checkUrlChange(), this === z && null !== i && (k.defer.cancel(i), w()), h = null;
                    do {
                        n = !1, r = x;
                        for (var E = 0; E < A.length; E++) {
                            try {
                                t = A[E], t.scope.$eval(t.expression, t.locals)
                            } catch (a) {
                                b(a)
                            }
                            h = null
                        }
                        A.length = 0;
                        a:do {
                            if (l = r.$$watchers)for (m = l.length; m--;)try {
                                if (a = l[m])if (j = a.get, (c = j(r)) === (d = a.last) || (a.eq ? P(c, d) : "number" == typeof c && "number" == typeof d && isNaN(c) && isNaN(d))) {
                                    if (a === h) {
                                        n = !1;
                                        break a
                                    }
                                } else n = !0, h = a, a.last = a.eq ? N(c, null) : c, g = a.fn, g(c, d === v ? c : d, r), u < 5 && (s = 4 - u, C[s] || (C[s] = []), C[s].push({
                                    msg: y(a.exp) ? "fn: " + (a.exp.name || a.exp.toString()) : a.exp,
                                    newVal: c,
                                    oldVal: d
                                }))
                            } catch (a) {
                                b(a)
                            }
                            if (!(o = r.$$watchersCount && r.$$childHead || r !== x && r.$$nextSibling))for (; r !== x && !(o = r.$$nextSibling);)r = r.$parent
                        } while (r = o);
                        if ((n || A.length) && !u--)throw q(), f("infdig", "{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}", e, C)
                    } while (n || A.length);
                    for (q(); D < B.length;)try {
                        B[D++]()
                    } catch (a) {
                        b(a)
                    }
                    B.length = D = 0
                }, $destroy: function () {
                    if (!this.$$destroyed) {
                        var a = this.$parent;
                        this.$broadcast("$destroy"), this.$$destroyed = !0, this === z && k.$$applicationDestroyed(), s(this, -this.$$watchersCount);
                        for (var b in this.$$listenerCount)u(this, this.$$listenerCount[b], b);
                        a && a.$$childHead == this && (a.$$childHead = this.$$nextSibling), a && a.$$childTail == this && (a.$$childTail = this.$$prevSibling), this.$$prevSibling && (this.$$prevSibling.$$nextSibling = this.$$nextSibling), this.$$nextSibling && (this.$$nextSibling.$$prevSibling = this.$$prevSibling), this.$destroy = this.$digest = this.$apply = this.$evalAsync = this.$applyAsync = n, this.$on = this.$watch = this.$watchGroup = function () {
                            return n
                        }, this.$$listeners = {}, this.$$nextSibling = null, m(this)
                    }
                }, $eval: function (a, b) {
                    return j(a)(this, b)
                }, $evalAsync: function (a, b) {
                    z.$$phase || A.length || k.defer(function () {
                        A.length && z.$digest()
                    }), A.push({scope: this, expression: j(a), locals: b})
                }, $$postDigest: function (a) {
                    B.push(a)
                }, $apply: function (a) {
                    try {
                        p("$apply");
                        try {
                            return this.$eval(a)
                        } finally {
                            q()
                        }
                    } catch (a) {
                        b(a)
                    } finally {
                        try {
                            z.$digest()
                        } catch (a) {
                            throw b(a), a
                        }
                    }
                }, $applyAsync: function (a) {
                    function b() {
                        c.$eval(a)
                    }

                    var c = this;
                    a && C.push(b), a = j(a), x()
                }, $on: function (a, b) {
                    var c = this.$$listeners[a];
                    c || (this.$$listeners[a] = c = []), c.push(b);
                    var d = this;
                    do d.$$listenerCount[a] || (d.$$listenerCount[a] = 0), d.$$listenerCount[a]++; while (d = d.$parent);
                    var e = this;
                    return function () {
                        var d = c.indexOf(b);
                        d !== -1 && (c[d] = null, u(e, 1, a))
                    }
                }, $emit: function (a, c) {
                    var d, e, f, g = [], h = this, i = !1, j = {
                        name: a, targetScope: h, stopPropagation: function () {
                            i = !0
                        }, preventDefault: function () {
                            j.defaultPrevented = !0
                        }, defaultPrevented: !1
                    }, k = Q([j], arguments, 1);
                    do {
                        for (d = h.$$listeners[a] || g, j.currentScope = h, e = 0, f = d.length; e < f; e++)if (d[e])try {
                            d[e].apply(null, k)
                        } catch (a) {
                            b(a)
                        } else d.splice(e, 1), e--, f--;
                        if (i)return j.currentScope = null, j;
                        h = h.$parent
                    } while (h);
                    return j.currentScope = null, j
                }, $broadcast: function (a, c) {
                    var d = this, e = d, f = d, g = {
                        name: a, targetScope: d, preventDefault: function () {
                            g.defaultPrevented = !0
                        }, defaultPrevented: !1
                    };
                    if (!d.$$listenerCount[a])return g;
                    for (var h, i, j, k = Q([g], arguments, 1); e = f;) {
                        for (g.currentScope = e, h = e.$$listeners[a] || [], i = 0, j = h.length; i < j; i++)if (h[i])try {
                            h[i].apply(null, k)
                        } catch (a) {
                            b(a)
                        } else h.splice(i, 1), i--, j--;
                        if (!(f = e.$$listenerCount[a] && e.$$childHead || e !== d && e.$$nextSibling))for (; e !== d && !(f = e.$$nextSibling);)e = e.$parent
                    }
                    return g.currentScope = null, g
                }
            };
            var z = new o, A = z.$$asyncQueue = [], B = z.$$postDigestQueue = [], C = z.$$applyAsyncQueue = [], D = 0;
            return z
        }]
    }

    function yc() {
        var a = /^\s*(https?|ftp|mailto|tel|file):/, b = /^\s*((https?|ftp|file|blob):|data:image\/)/;
        this.aHrefSanitizationWhitelist = function (b) {
            return s(b) ? (a = b, this) : a
        }, this.imgSrcSanitizationWhitelist = function (a) {
            return s(a) ? (b = a, this) : b
        }, this.$get = function () {
            return function (c, d) {
                var e, f = d ? b : a;
                return e = Hc(c).href, "" === e || e.match(f) ? c : "unsafe:" + e
            }
        }
    }

    function zc(a) {
        if ("self" === a)return a;
        if (v(a)) {
            if (a.indexOf("***") > -1)throw tf("iwcard", "Illegal sequence *** in string matcher.  String: {0}", a);
            return a = Yd(a).replace("\\*\\*", ".*").replace("\\*", "[^:/.?&;]*"), new RegExp("^" + a + "$")
        }
        if (z(a))return new RegExp("^" + a.source + "$");
        throw tf("imatcher", 'Matchers may only be "self", string patterns or RegExp objects')
    }

    function Ac(a) {
        var b = [];
        return s(a) && d(a, function (a) {
            b.push(zc(a))
        }), b
    }

    function Bc() {
        this.SCE_CONTEXTS = uf;
        var a = ["self"], b = [];
        this.resourceUrlWhitelist = function (b) {
            return arguments.length && (a = Ac(b)), a
        }, this.resourceUrlBlacklist = function (a) {
            return arguments.length && (b = Ac(a)), b
        }, this.$get = ["$injector", function (c) {
            function d(a, b) {
                return "self" === a ? Ic(b) : !!a.exec(b.href)
            }

            function e(c) {
                var e, f, g = Hc(c.toString()), h = !1;
                for (e = 0, f = a.length; e < f; e++)if (d(a[e], g)) {
                    h = !0;
                    break
                }
                if (h)for (e = 0, f = b.length; e < f; e++)if (d(b[e], g)) {
                    h = !1;
                    break
                }
                return h
            }

            function f(a) {
                var b = function (a) {
                    this.$$unwrapTrustedValue = function () {
                        return a
                    }
                };
                return a && (b.prototype = new a), b.prototype.valueOf = function () {
                    return this.$$unwrapTrustedValue()
                }, b.prototype.toString = function () {
                    return this.$$unwrapTrustedValue().toString()
                }, b
            }

            function g(a, b) {
                var c = l.hasOwnProperty(a) ? l[a] : null;
                if (!c)throw tf("icontext", "Attempted to trust a value in invalid context. Context: {0}; Value: {1}", a, b);
                if (null === b || r(b) || "" === b)return b;
                if ("string" != typeof b)throw tf("itype", "Attempted to trust a non-string value in a content requiring a string: Context: {0}", a);
                return new c(b)
            }

            function h(a) {
                return a instanceof k ? a.$$unwrapTrustedValue() : a
            }

            function i(a, b) {
                if (null === b || r(b) || "" === b)return b;
                var c = l.hasOwnProperty(a) ? l[a] : null;
                if (c && b instanceof c)return b.$$unwrapTrustedValue();
                if (a === uf.RESOURCE_URL) {
                    if (e(b))return b;
                    throw tf("insecurl", "Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}", b.toString())
                }
                if (a === uf.HTML)return j(b);
                throw tf("unsafe", "Attempting to use an unsafe value in a safe context.")
            }

            var j = function (a) {
                throw tf("unsafe", "Attempting to use an unsafe value in a safe context.")
            };
            c.has("$sanitize") && (j = c.get("$sanitize"));
            var k = f(), l = {};
            return l[uf.HTML] = f(k), l[uf.CSS] = f(k), l[uf.URL] = f(k), l[uf.JS] = f(k), l[uf.RESOURCE_URL] = f(l[uf.URL]), {
                trustAs: g,
                getTrusted: i,
                valueOf: h
            }
        }]
    }

    function Cc() {
        var a = !0;
        this.enabled = function (b) {
            return arguments.length && (a = !!b), a
        }, this.$get = ["$parse", "$sceDelegate", function (b, c) {
            if (a && Jd < 8)throw tf("iequirks", "Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");
            var e = O(uf);
            e.isEnabled = function () {
                return a
            }, e.trustAs = c.trustAs, e.getTrusted = c.getTrusted, e.valueOf = c.valueOf, a || (e.trustAs = e.getTrusted = function (a, b) {
                return b
            }, e.valueOf = o), e.parseAs = function (a, c) {
                var d = b(c);
                return d.literal && d.constant ? d : b(c, function (b) {
                    return e.getTrusted(a, b)
                })
            };
            var f = e.parseAs, g = e.getTrusted, h = e.trustAs;
            return d(uf, function (a, b) {
                var c = Fd(b);
                e[va("parse_as_" + c)] = function (b) {
                    return f(a, b)
                }, e[va("get_trusted_" + c)] = function (b) {
                    return g(a, b)
                }, e[va("trust_as_" + c)] = function (b) {
                    return h(a, b)
                }
            }), e
        }]
    }

    function Dc() {
        this.$get = ["$window", "$document", function (a, b) {
            var c, d, e = {}, f = a.chrome && a.chrome.app && a.chrome.app.runtime, g = !f && a.history && a.history.pushState, h = l((/android (\d+)/.exec(Fd((a.navigator || {}).userAgent)) || [])[1]), i = /Boxee/i.test((a.navigator || {}).userAgent), j = b[0] || {}, k = /^(Moz|webkit|ms)(?=[A-Z])/, m = j.body && j.body.style, n = !1, o = !1;
            if (m) {
                for (var p in m)if (d = k.exec(p)) {
                    c = d[0], c = c[0].toUpperCase() + c.substr(1);
                    break
                }
                c || (c = "WebkitOpacity" in m && "webkit"), n = !!("transition" in m || c + "Transition" in m), o = !!("animation" in m || c + "Animation" in m), !h || n && o || (n = v(m.webkitTransition), o = v(m.webkitAnimation))
            }
            return {
                history: !(!g || h < 4 || i), hasEvent: function (a) {
                    if ("input" === a && Jd <= 11)return !1;
                    if (r(e[a])) {
                        var b = j.createElement("div");
                        e[a] = "on" + a in b
                    }
                    return e[a]
                }, csp: Zd(), vendorPrefix: c, transitions: n, animations: o, android: h
            }
        }]
    }

    function Ec() {
        var a;
        this.httpOptions = function (b) {
            return b ? (a = b, this) : a
        }, this.$get = ["$templateCache", "$http", "$q", "$sce", function (b, c, d, e) {
            function f(g, h) {
                function i(a) {
                    if (!h)throw vf("tpload", "Failed to load template: {0} (HTTP status: {1} {2})", g, a.status, a.statusText);
                    return d.reject(a)
                }

                f.totalPendingRequests++, v(g) && !r(b.get(g)) || (g = e.getTrustedResourceUrl(g));
                var k = c.defaults && c.defaults.transformResponse;
                return Vd(k) ? k = k.filter(function (a) {
                    return a !== Ab
                }) : k === Ab && (k = null), c.get(g, j({cache: b, transformResponse: k}, a)).finally(function () {
                    f.totalPendingRequests--
                }).then(function (a) {
                    return b.put(g, a.data), a.data
                }, i)
            }

            return f.totalPendingRequests = 0, f
        }]
    }

    function Fc() {
        this.$get = ["$rootScope", "$browser", "$location", function (a, b, c) {
            var e = {};
            return e.findBindings = function (a, b, c) {
                var e = a.getElementsByClassName("ng-binding"), f = [];
                return d(e, function (a) {
                    var e = Td.element(a).data("$binding");
                    e && d(e, function (d) {
                        if (c) {
                            var e = new RegExp("(^|\\s)" + Yd(b) + "(\\s|\\||$)");
                            e.test(d) && f.push(a)
                        } else d.indexOf(b) != -1 && f.push(a)
                    })
                }), f
            }, e.findModels = function (a, b, c) {
                for (var d = ["ng-", "data-ng-", "ng\\:"], e = 0; e < d.length; ++e) {
                    var f = c ? "=" : "*=", g = "[" + d[e] + "model" + f + '"' + b + '"]', h = a.querySelectorAll(g);
                    if (h.length)return h
                }
            }, e.getLocation = function () {
                return c.url()
            }, e.setLocation = function (b) {
                b !== c.url() && (c.url(b), a.$digest())
            }, e.whenStable = function (a) {
                b.notifyWhenNoOutstandingRequests(a)
            }, e
        }]
    }

    function Gc() {
        this.$get = ["$rootScope", "$browser", "$q", "$$q", "$exceptionHandler", function (a, b, c, d, e) {
            function f(f, h, i) {
                y(f) || (i = h, h = f, f = n);
                var j, k = R(arguments, 3), l = s(i) && !i, m = (l ? d : c).defer(), o = m.promise;
                return j = b.defer(function () {
                    try {
                        m.resolve(f.apply(null, k))
                    } catch (a) {
                        m.reject(a), e(a)
                    } finally {
                        delete g[o.$$timeoutId]
                    }
                    l || a.$apply()
                }, h), o.$$timeoutId = j, g[j] = m, o
            }

            var g = {};
            return f.cancel = function (a) {
                return !!(a && a.$$timeoutId in g) && (g[a.$$timeoutId].reject("canceled"), delete g[a.$$timeoutId], b.defer.cancel(a.$$timeoutId))
            }, f
        }]
    }

    function Hc(a) {
        var b = a;
        return Jd && (wf.setAttribute("href", b), b = wf.href), wf.setAttribute("href", b), {
            href: wf.href,
            protocol: wf.protocol ? wf.protocol.replace(/:$/, "") : "",
            host: wf.host,
            search: wf.search ? wf.search.replace(/^\?/, "") : "",
            hash: wf.hash ? wf.hash.replace(/^#/, "") : "",
            hostname: wf.hostname,
            port: wf.port,
            pathname: "/" === wf.pathname.charAt(0) ? wf.pathname : "/" + wf.pathname
        }
    }

    function Ic(a) {
        var b = v(a) ? Hc(a) : a;
        return b.protocol === xf.protocol && b.host === xf.host
    }

    function Jc() {
        this.$get = p(a)
    }

    function Kc(a) {
        function b(a) {
            try {
                return decodeURIComponent(a)
            } catch (b) {
                return a
            }
        }

        var c = a[0] || {}, d = {}, e = "";
        return function () {
            var a, f, g, h, i, j = c.cookie || "";
            if (j !== e)for (e = j, a = e.split("; "), d = {}, g = 0; g < a.length; g++)f = a[g], h = f.indexOf("="), h > 0 && (i = b(f.substring(0, h)), r(d[i]) && (d[i] = b(f.substring(h + 1))));
            return d
        }
    }

    function Lc() {
        this.$get = Kc
    }

    function Mc(a) {
        function b(e, f) {
            if (t(e)) {
                var g = {};
                return d(e, function (a, c) {
                    g[c] = b(c, a)
                }), g
            }
            return a.factory(e + c, f)
        }

        var c = "Filter";
        this.register = b, this.$get = ["$injector", function (a) {
            return function (b) {
                return a.get(b + c)
            }
        }], b("currency", Rc), b("date", ed), b("filter", Nc), b("json", fd), b("limitTo", gd), b("lowercase", Ef), b("number", Sc), b("orderBy", hd), b("uppercase", Ff)
    }

    function Nc() {
        return function (a, d, e) {
            if (!c(a)) {
                if (null == a)return a;
                throw b("filter")("notarray", "Expected array but received: {0}", a)
            }
            var f, g, h = Qc(d);
            switch (h) {
                case"function":
                    f = d;
                    break;
                case"boolean":
                case"null":
                case"number":
                case"string":
                    g = !0;
                case"object":
                    f = Oc(d, e, g);
                    break;
                default:
                    return a
            }
            return Array.prototype.filter.call(a, f)
        }
    }

    function Oc(a, b, c) {
        var d, e = t(a) && "$" in a;
        return b === !0 ? b = P : y(b) || (b = function (a, b) {
            return !r(a) && (null === a || null === b ? a === b : !(t(b) || t(a) && !q(a)) && (a = Fd("" + a), b = Fd("" + b), a.indexOf(b) !== -1))
        }), d = function (d) {
            return e && !t(d) ? Pc(d, a.$, b, !1) : Pc(d, a, b, c)
        }
    }

    function Pc(a, b, c, d, e) {
        var f = Qc(a), g = Qc(b);
        if ("string" === g && "!" === b.charAt(0))return !Pc(a, b.substring(1), c, d);
        if (Vd(a))return a.some(function (a) {
            return Pc(a, b, c, d)
        });
        switch (f) {
            case"object":
                var h;
                if (d) {
                    for (h in a)if ("$" !== h.charAt(0) && Pc(a[h], b, c, !0))return !0;
                    return !e && Pc(a, b, c, !1)
                }
                if ("object" === g) {
                    for (h in b) {
                        var i = b[h];
                        if (!y(i) && !r(i)) {
                            var j = "$" === h, k = j ? a : a[h];
                            if (!Pc(k, i, c, j, j))return !1
                        }
                    }
                    return !0
                }
                return c(a, b);
            case"function":
                return !1;
            default:
                return c(a, b)
        }
    }

    function Qc(a) {
        return null === a ? "null" : typeof a
    }

    function Rc(a) {
        var b = a.NUMBER_FORMATS;
        return function (a, c, d) {
            return r(c) && (c = b.CURRENCY_SYM), r(d) && (d = b.PATTERNS[1].maxFrac), null == a ? a : Vc(a, b.PATTERNS[1], b.GROUP_SEP, b.DECIMAL_SEP, d).replace(/\u00A4/g, c)
        }
    }

    function Sc(a) {
        var b = a.NUMBER_FORMATS;
        return function (a, c) {
            return null == a ? a : Vc(a, b.PATTERNS[0], b.GROUP_SEP, b.DECIMAL_SEP, c)
        }
    }

    function Tc(a) {
        var b, c, d, e, f, g = 0;
        for ((c = a.indexOf(zf)) > -1 && (a = a.replace(zf, "")), (d = a.search(/e/i)) > 0 ? (c < 0 && (c = d), c += +a.slice(d + 1), a = a.substring(0, d)) : c < 0 && (c = a.length), d = 0; a.charAt(d) == Af; d++);
        if (d == (f = a.length))b = [0], c = 1; else {
            for (f--; a.charAt(f) == Af;)f--;
            for (c -= d, b = [], e = 0; d <= f; d++, e++)b[e] = +a.charAt(d)
        }
        return c > yf && (b = b.splice(0, yf - 1), g = c - 1, c = 1), {d: b, e: g, i: c}
    }

    function Uc(a, b, c, d) {
        var e = a.d, f = e.length - a.i;
        b = r(b) ? Math.min(Math.max(c, f), d) : +b;
        var g = b + a.i, h = e[g];
        if (g > 0) {
            e.splice(Math.max(a.i, g));
            for (var i = g; i < e.length; i++)e[i] = 0
        } else {
            f = Math.max(0, f), a.i = 1, e.length = Math.max(1, g = b + 1), e[0] = 0;
            for (var j = 1; j < g; j++)e[j] = 0
        }
        if (h >= 5)if (g - 1 < 0) {
            for (var k = 0; k > g; k--)e.unshift(0), a.i++;
            e.unshift(1), a.i++
        } else e[g - 1]++;
        for (; f < Math.max(0, b); f++)e.push(0);
        var l = e.reduceRight(function (a, b, c, d) {
            return b += a, d[c] = b % 10, Math.floor(b / 10)
        }, 0);
        l && (e.unshift(l), a.i++)
    }

    function Vc(a, b, c, d, e) {
        if (!v(a) && !w(a) || isNaN(a))return "";
        var f, g = !isFinite(a), h = !1, i = Math.abs(a) + "", j = "";
        if (g)j = ""; else {
            f = Tc(i), Uc(f, e, b.minFrac, b.maxFrac);
            var k = f.d, l = f.i, m = f.e, n = [];
            for (h = k.reduce(function (a, b) {
                return a && !b
            }, !0); l < 0;)k.unshift(0), l++;
            l > 0 ? n = k.splice(l, k.length) : (n = k, k = [0]);
            var o = [];
            for (k.length >= b.lgSize && o.unshift(k.splice(-b.lgSize, k.length).join("")); k.length > b.gSize;)o.unshift(k.splice(-b.gSize, k.length).join(""));
            k.length && o.unshift(k.join("")), j = o.join(c), n.length && (j += d + n.join("")), m && (j += "e+" + m)
        }
        return a < 0 && !h ? b.negPre + j + b.negSuf : b.posPre + j + b.posSuf
    }

    function Wc(a, b, c, d) {
        var e = "";
        for ((a < 0 || d && a <= 0) && (d ? a = -a + 1 : (a = -a, e = "-")), a = "" + a; a.length < b;)a = Af + a;
        return c && (a = a.substr(a.length - b)), e + a
    }

    function Xc(a, b, c, d, e) {
        return c = c || 0, function (f) {
            var g = f["get" + a]();
            return (c > 0 || g > -c) && (g += c), 0 === g && c == -12 && (g = 12), Wc(g, b, d, e)
        }
    }

    function Yc(a, b, c) {
        return function (d, e) {
            var f = d["get" + a](), g = (c ? "STANDALONE" : "") + (b ? "SHORT" : ""), h = Gd(g + a);
            return e[h][f]
        }
    }

    function Zc(a, b, c) {
        var d = -1 * c, e = d >= 0 ? "+" : "";
        return e += Wc(Math[d > 0 ? "floor" : "ceil"](d / 60), 2) + Wc(Math.abs(d % 60), 2)
    }

    function $c(a) {
        var b = new Date(a, 0, 1).getDay();
        return new Date(a, 0, (b <= 4 ? 5 : 12) - b)
    }

    function _c(a) {
        return new Date(a.getFullYear(), a.getMonth(), a.getDate() + (4 - a.getDay()))
    }

    function ad(a) {
        return function (b) {
            var c = $c(b.getFullYear()), d = _c(b), e = +d - +c, f = 1 + Math.round(e / 6048e5);
            return Wc(f, a)
        }
    }

    function bd(a, b) {
        return a.getHours() < 12 ? b.AMPMS[0] : b.AMPMS[1]
    }

    function cd(a, b) {
        return a.getFullYear() <= 0 ? b.ERAS[0] : b.ERAS[1]
    }

    function dd(a, b) {
        return a.getFullYear() <= 0 ? b.ERANAMES[0] : b.ERANAMES[1]
    }

    function ed(a) {
        function b(a) {
            var b;
            if (b = a.match(c)) {
                var d = new Date(0), e = 0, f = 0, g = b[8] ? d.setUTCFullYear : d.setFullYear, h = b[8] ? d.setUTCHours : d.setHours;
                b[9] && (e = l(b[9] + b[10]), f = l(b[9] + b[11])), g.call(d, l(b[1]), l(b[2]) - 1, l(b[3]));
                var i = l(b[4] || 0) - e, j = l(b[5] || 0) - f, k = l(b[6] || 0), m = Math.round(1e3 * parseFloat("0." + (b[7] || 0)));
                return h.call(d, i, j, k, m), d
            }
            return a
        }

        var c = /^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;
        return function (c, e, f) {
            var g, h, i = "", j = [];
            if (e = e || "mediumDate", e = a.DATETIME_FORMATS[e] || e, v(c) && (c = Df.test(c) ? l(c) : b(c)), w(c) && (c = new Date(c)), !x(c) || !isFinite(c.getTime()))return c;
            for (; e;)h = Cf.exec(e), h ? (j = Q(j, h, 1), e = j.pop()) : (j.push(e), e = null);
            var k = c.getTimezoneOffset();
            return f && (k = W(f, k), c = Y(c, f, !0)), d(j, function (b) {
                g = Bf[b], i += g ? g(c, a.DATETIME_FORMATS, k) : "''" === b ? "'" : b.replace(/(^'|'$)/g, "").replace(/''/g, "'")
            }), i
        }
    }

    function fd() {
        return function (a, b) {
            return r(b) && (b = 2), U(a, b)
        }
    }

    function gd() {
        return function (a, b, c) {
            return b = Math.abs(Number(b)) === 1 / 0 ? Number(b) : l(b), isNaN(b) ? a : (w(a) && (a = a.toString()), Vd(a) || v(a) ? (c = !c || isNaN(c) ? 0 : l(c), c = c < 0 ? Math.max(0, a.length + c) : c, b >= 0 ? a.slice(c, c + b) : 0 === c ? a.slice(b, a.length) : a.slice(Math.max(0, c + b), c)) : a)
        }
    }

    function hd(a) {
        function d(b, c) {
            return c = c ? -1 : 1, b.map(function (b) {
                var d = 1, e = o;
                if (y(b))e = b; else if (v(b) && ("+" != b.charAt(0) && "-" != b.charAt(0) || (d = "-" == b.charAt(0) ? -1 : 1, b = b.substring(1)), "" !== b && (e = a(b), e.constant))) {
                    var f = e();
                    e = function (a) {
                        return a[f]
                    }
                }
                return {get: e, descending: d * c}
            })
        }

        function e(a) {
            switch (typeof a) {
                case"number":
                case"boolean":
                case"string":
                    return !0;
                default:
                    return !1
            }
        }

        function f(a, b) {
            return "function" == typeof a.valueOf && (a = a.valueOf(), e(a)) ? a : q(a) && (a = a.toString(), e(a)) ? a : b
        }

        function g(a, b) {
            var c = typeof a;
            return null === a ? (c = "string", a = "null") : "string" === c ? a = a.toLowerCase() : "object" === c && (a = f(a, b)), {
                value: a,
                type: c
            }
        }

        function h(a, b) {
            var c = 0;
            return a.type === b.type ? a.value !== b.value && (c = a.value < b.value ? -1 : 1) : c = a.type < b.type ? -1 : 1, c
        }

        return function (a, e, f) {
            function i(a, b) {
                return {
                    value: a, predicateValues: k.map(function (c) {
                        return g(c.get(a), b)
                    })
                }
            }

            function j(a, b) {
                for (var c = 0, d = 0, e = k.length; d < e && !(c = h(a.predicateValues[d], b.predicateValues[d]) * k[d].descending); ++d);
                return c
            }

            if (null == a)return a;
            if (!c(a))throw b("orderBy")("notarray", "Expected array but received: {0}", a);
            Vd(e) || (e = [e]), 0 === e.length && (e = ["+"]);
            var k = d(e, f);
            k.push({
                get: function () {
                    return {}
                }, descending: f ? -1 : 1
            });
            var l = Array.prototype.map.call(a, i);
            return l.sort(j), a = l.map(function (a) {
                return a.value
            })
        }
    }

    function id(a) {
        return y(a) && (a = {link: a}), a.restrict = a.restrict || "AC", p(a)
    }

    function jd(a, b) {
        a.$name = b
    }

    function kd(a, b, c, e, f) {
        var g = this, h = [];
        g.$error = {}, g.$$success = {}, g.$pending = void 0, g.$name = f(b.name || b.ngForm || "")(c), g.$dirty = !1, g.$pristine = !0, g.$valid = !0, g.$invalid = !1, g.$submitted = !1, g.$$parentForm = If, g.$rollbackViewValue = function () {
            d(h, function (a) {
                a.$rollbackViewValue()
            })
        }, g.$commitViewValue = function () {
            d(h, function (a) {
                a.$commitViewValue()
            })
        }, g.$addControl = function (a) {
            ma(a.$name, "input"), h.push(a), a.$name && (g[a.$name] = a), a.$$parentForm = g
        }, g.$$renameControl = function (a, b) {
            var c = a.$name;
            g[c] === a && delete g[c], g[b] = a, a.$name = b
        }, g.$removeControl = function (a) {
            a.$name && g[a.$name] === a && delete g[a.$name], d(g.$pending, function (b, c) {
                g.$setValidity(c, null, a)
            }), d(g.$error, function (b, c) {
                g.$setValidity(c, null, a)
            }), d(g.$$success, function (b, c) {
                g.$setValidity(c, null, a)
            }), M(h, a), a.$$parentForm = If
        }, zd({
            ctrl: this, $element: a, set: function (a, b, c) {
                var d = a[b];
                if (d) {
                    var e = d.indexOf(c);
                    e === -1 && d.push(c)
                } else a[b] = [c]
            }, unset: function (a, b, c) {
                var d = a[b];
                d && (M(d, c), 0 === d.length && delete a[b])
            }, $animate: e
        }), g.$setDirty = function () {
            e.removeClass(a, sg), e.addClass(a, tg), g.$dirty = !0, g.$pristine = !1, g.$$parentForm.$setDirty()
        }, g.$setPristine = function () {
            e.setClass(a, sg, tg + " " + Jf), g.$dirty = !1, g.$pristine = !0, g.$submitted = !1, d(h, function (a) {
                a.$setPristine()
            })
        }, g.$setUntouched = function () {
            d(h, function (a) {
                a.$setUntouched()
            })
        }, g.$setSubmitted = function () {
            e.addClass(a, Jf), g.$submitted = !0, g.$$parentForm.$setSubmitted()
        }
    }

    function ld(a) {
        a.$formatters.push(function (b) {
            return a.$isEmpty(b) ? b : b.toString()
        })
    }

    function md(a, b, c, d, e, f) {
        nd(a, b, c, d, e, f), ld(d)
    }

    function nd(a, b, c, d, e, f) {
        var g = Fd(b[0].type);
        if (!e.android) {
            var h = !1;
            b.on("compositionstart", function () {
                h = !0
            }), b.on("compositionend", function () {
                h = !1, j()
            })
        }
        var i, j = function (a) {
            if (i && (f.defer.cancel(i), i = null), !h) {
                var e = b.val(), j = a && a.type;
                "password" === g || c.ngTrim && "false" === c.ngTrim || (e = Xd(e)), (d.$viewValue !== e || "" === e && d.$$hasNativeValidators) && d.$setViewValue(e, j)
            }
        };
        if (e.hasEvent("input"))b.on("input", j); else {
            var k = function (a, b, c) {
                i || (i = f.defer(function () {
                    i = null, b && b.value === c || j(a)
                }))
            };
            b.on("keydown", function (a) {
                var b = a.keyCode;
                91 === b || 15 < b && b < 19 || 37 <= b && b <= 40 || k(a, this, this.value)
            }), e.hasEvent("paste") && b.on("paste cut", k)
        }
        b.on("change", j), Xf[g] && d.$$hasNativeValidators && g === c.type && b.on(Wf, function (a) {
            if (!i) {
                var b = this[Dd], c = b.badInput, d = b.typeMismatch;
                i = f.defer(function () {
                    i = null, b.badInput === c && b.typeMismatch === d || j(a)
                })
            }
        }), d.$render = function () {
            var a = d.$isEmpty(d.$viewValue) ? "" : d.$viewValue;
            b.val() !== a && b.val(a)
        }
    }

    function od(a, b) {
        if (x(a))return a;
        if (v(a)) {
            Tf.lastIndex = 0;
            var c = Tf.exec(a);
            if (c) {
                var d = +c[1], e = +c[2], f = 0, g = 0, h = 0, i = 0, j = $c(d), k = 7 * (e - 1);
                return b && (f = b.getHours(), g = b.getMinutes(), h = b.getSeconds(), i = b.getMilliseconds()), new Date(d, 0, j.getDate() + k, f, g, h, i)
            }
        }
        return NaN
    }

    function pd(a, b) {
        return function (c, e) {
            var f, g;
            if (x(c))return c;
            if (v(c)) {
                if ('"' == c.charAt(0) && '"' == c.charAt(c.length - 1) && (c = c.substring(1, c.length - 1)), Nf.test(c))return new Date(c);
                if (a.lastIndex = 0, f = a.exec(c))return f.shift(), g = e ? {
                    yyyy: e.getFullYear(),
                    MM: e.getMonth() + 1,
                    dd: e.getDate(),
                    HH: e.getHours(),
                    mm: e.getMinutes(),
                    ss: e.getSeconds(),
                    sss: e.getMilliseconds() / 1e3
                } : {yyyy: 1970, MM: 1, dd: 1, HH: 0, mm: 0, ss: 0, sss: 0}, d(f, function (a, c) {
                    c < b.length && (g[b[c]] = +a)
                }), new Date(g.yyyy, g.MM - 1, g.dd, g.HH, g.mm, g.ss || 0, 1e3 * g.sss || 0)
            }
            return NaN
        }
    }

    function qd(a, b, c, d) {
        return function (e, f, g, h, i, j, k) {
            function l(a) {
                return a && !(a.getTime && a.getTime() !== a.getTime())
            }

            function m(a) {
                return s(a) && !x(a) ? c(a) || void 0 : a
            }

            rd(e, f, g, h), nd(e, f, g, h, i, j);
            var n, o = h && h.$options && h.$options.timezone;
            if (h.$$parserName = a, h.$parsers.push(function (a) {
                    if (h.$isEmpty(a))return null;
                    if (b.test(a)) {
                        var d = c(a, n);
                        return o && (d = Y(d, o)), d
                    }
                }), h.$formatters.push(function (a) {
                    if (a && !x(a))throw zg("datefmt", "Expected `{0}` to be a date", a);
                    return l(a) ? (n = a, n && o && (n = Y(n, o, !0)), k("date")(a, d, o)) : (n = null, "")
                }), s(g.min) || g.ngMin) {
                var p;
                h.$validators.min = function (a) {
                    return !l(a) || r(p) || c(a) >= p
                }, g.$observe("min", function (a) {
                    p = m(a), h.$validate()
                })
            }
            if (s(g.max) || g.ngMax) {
                var q;
                h.$validators.max = function (a) {
                    return !l(a) || r(q) || c(a) <= q
                }, g.$observe("max", function (a) {
                    q = m(a), h.$validate()
                })
            }
        }
    }

    function rd(a, b, c, d) {
        var e = b[0], f = d.$$hasNativeValidators = t(e.validity);
        f && d.$parsers.push(function (a) {
            var c = b.prop(Dd) || {};
            return c.badInput || c.typeMismatch ? void 0 : a
        })
    }

    function sd(a, b, c, d, e, f) {
        if (rd(a, b, c, d), nd(a, b, c, d, e, f), d.$$parserName = "number", d.$parsers.push(function (a) {
                return d.$isEmpty(a) ? null : Qf.test(a) ? parseFloat(a) : void 0
            }), d.$formatters.push(function (a) {
                if (!d.$isEmpty(a)) {
                    if (!w(a))throw zg("numfmt", "Expected `{0}` to be a number", a);
                    a = a.toString()
                }
                return a
            }), s(c.min) || c.ngMin) {
            var g;
            d.$validators.min = function (a) {
                return d.$isEmpty(a) || r(g) || a >= g
            }, c.$observe("min", function (a) {
                s(a) && !w(a) && (a = parseFloat(a, 10)), g = w(a) && !isNaN(a) ? a : void 0, d.$validate()
            })
        }
        if (s(c.max) || c.ngMax) {
            var h;
            d.$validators.max = function (a) {
                return d.$isEmpty(a) || r(h) || a <= h
            }, c.$observe("max", function (a) {
                s(a) && !w(a) && (a = parseFloat(a, 10)), h = w(a) && !isNaN(a) ? a : void 0, d.$validate()
            })
        }
    }

    function td(a, b, c, d, e, f) {
        nd(a, b, c, d, e, f), ld(d), d.$$parserName = "url", d.$validators.url = function (a, b) {
            var c = a || b;
            return d.$isEmpty(c) || Of.test(c)
        }
    }

    function ud(a, b, c, d, e, f) {
        nd(a, b, c, d, e, f), ld(d), d.$$parserName = "email", d.$validators.email = function (a, b) {
            var c = a || b;
            return d.$isEmpty(c) || Pf.test(c)
        }
    }

    function vd(a, b, c, d) {
        r(c.name) && b.attr("name", g());
        var e = function (a) {
            b[0].checked && d.$setViewValue(c.value, a && a.type)
        };
        b.on("click", e), d.$render = function () {
            var a = c.value;
            b[0].checked = a == d.$viewValue
        }, c.$observe("value", d.$render)
    }

    function wd(a, b, c, d, e) {
        var f;
        if (s(d)) {
            if (f = a(d), !f.constant)throw zg("constexpr", "Expected constant expression for `{0}`, but saw `{1}`.", c, d);
            return f(b)
        }
        return e
    }

    function xd(a, b, c, d, e, f, g, h) {
        var i = wd(h, a, "ngTrueValue", c.ngTrueValue, !0), j = wd(h, a, "ngFalseValue", c.ngFalseValue, !1), k = function (a) {
            d.$setViewValue(b[0].checked, a && a.type)
        };
        b.on("click", k), d.$render = function () {
            b[0].checked = d.$viewValue
        }, d.$isEmpty = function (a) {
            return a === !1
        }, d.$formatters.push(function (a) {
            return P(a, i)
        }), d.$parsers.push(function (a) {
            return a ? i : j
        })
    }

    function yd(a, b) {
        return a = "ngClass" + a, ["$animate", function (c) {
            function e(a, b) {
                var c = [];
                a:for (var d = 0; d < a.length; d++) {
                    for (var e = a[d], f = 0; f < b.length; f++)if (e == b[f])continue a;
                    c.push(e)
                }
                return c
            }

            function f(a) {
                var b = [];
                return Vd(a) ? (d(a, function (a) {
                    b = b.concat(f(a))
                }), b) : v(a) ? a.split(" ") : t(a) ? (d(a, function (a, c) {
                    a && (b = b.concat(c.split(" ")))
                }), b) : a
            }

            return {
                restrict: "AC", link: function (g, h, i) {
                    function j(a) {
                        var b = l(a, 1);
                        i.$addClass(b)
                    }

                    function k(a) {
                        var b = l(a, -1);
                        i.$removeClass(b)
                    }

                    function l(a, b) {
                        var c = h.data("$classCounts") || pa(), e = [];
                        return d(a, function (a) {
                            (b > 0 || c[a]) && (c[a] = (c[a] || 0) + b, c[a] === +(b > 0) && e.push(a))
                        }), h.data("$classCounts", c), e.join(" ")
                    }

                    function m(a, b) {
                        var d = e(b, a), f = e(a, b);
                        d = l(d, 1), f = l(f, -1), d && d.length && c.addClass(h, d), f && f.length && c.removeClass(h, f)
                    }

                    function n(a) {
                        if (b === !0 || (1 & g.$index) === b) {
                            var c = f(a || []);
                            if (o) {
                                if (!P(a, o)) {
                                    var d = f(o);
                                    m(d, c)
                                }
                            } else j(c)
                        }
                        o = Vd(a) ? a.map(function (a) {
                            return O(a)
                        }) : O(a)
                    }

                    var o;
                    g.$watch(i[a], n, !0), i.$observe("class", function (b) {
                        n(g.$eval(i[a]))
                    }), "ngClass" !== a && g.$watch("$index", function (c, d) {
                        var e = 1 & c;
                        if (e !== (1 & d)) {
                            var h = f(g.$eval(i[a]));
                            e === b ? j(h) : k(h)
                        }
                    })
                }
            }
        }]
    }

    function zd(a) {
        function b(a, b, h) {
            r(b) ? c("$pending", a, h) : d("$pending", a, h), F(b) ? b ? (k(g.$error, a, h), j(g.$$success, a, h)) : (j(g.$error, a, h), k(g.$$success, a, h)) : (k(g.$error, a, h), k(g.$$success, a, h)), g.$pending ? (e(wg, !0), g.$valid = g.$invalid = void 0, f("", null)) : (e(wg, !1), g.$valid = Ad(g.$error), g.$invalid = !g.$valid, f("", g.$valid));
            var i;
            i = g.$pending && g.$pending[a] ? void 0 : !g.$error[a] && (!!g.$$success[a] || null), f(a, i), g.$$parentForm.$setValidity(a, i, g)
        }

        function c(a, b, c) {
            g[a] || (g[a] = {}), j(g[a], b, c)
        }

        function d(a, b, c) {
            g[a] && k(g[a], b, c), Ad(g[a]) && (g[a] = void 0)
        }

        function e(a, b) {
            b && !i[a] ? (l.addClass(h, a), i[a] = !0) : !b && i[a] && (l.removeClass(h, a), i[a] = !1)
        }

        function f(a, b) {
            a = a ? "-" + ia(a, "-") : "", e(qg + a, b === !0), e(rg + a, b === !1)
        }

        var g = a.ctrl, h = a.$element, i = {}, j = a.set, k = a.unset, l = a.$animate;
        i[rg] = !(i[qg] = h.hasClass(qg)), g.$setValidity = b
    }

    function Ad(a) {
        if (a)for (var b in a)if (a.hasOwnProperty(b))return !1;
        return !0
    }

    function Bd(a) {
        a[0].hasAttribute("selected") && (a[0].selected = !0)
    }

    var Cd = /^\/(.+)\/([a-z]*)$/, Dd = "validity", Ed = Object.prototype.hasOwnProperty, Fd = function (a) {
        return v(a) ? a.toLowerCase() : a
    }, Gd = function (a) {
        return v(a) ? a.toUpperCase() : a
    }, Hd = function (a) {
        return v(a) ? a.replace(/[A-Z]/g, function (a) {
            return String.fromCharCode(32 | a.charCodeAt(0))
        }) : a
    }, Id = function (a) {
        return v(a) ? a.replace(/[a-z]/g, function (a) {
            return String.fromCharCode(a.charCodeAt(0) & -33)
        }) : a
    };
    "i" !== "I".toLowerCase() && (Fd = Hd, Gd = Id);
    var Jd, Kd, Ld, Md, Nd = [].slice, Od = [].splice, Pd = [].push, Qd = Object.prototype.toString, Rd = Object.getPrototypeOf, Sd = b("ng"), Td = a.angular || (a.angular = {}), Ud = 0;
    Jd = a.document.documentMode, n.$inject = [], o.$inject = [];
    var Vd = Array.isArray, Wd = /^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/, Xd = function (a) {
        return v(a) ? a.trim() : a
    }, Yd = function (a) {
        return a.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g, "\\$1").replace(/\x08/g, "\\x08")
    }, Zd = function () {
        function b() {
            try {
                return new Function(""), !1
            } catch (a) {
                return !0
            }
        }

        if (!s(Zd.rules)) {
            var c = a.document.querySelector("[ng-csp]") || a.document.querySelector("[data-ng-csp]");
            if (c) {
                var d = c.getAttribute("ng-csp") || c.getAttribute("data-ng-csp");
                Zd.rules = {
                    noUnsafeEval: !d || d.indexOf("no-unsafe-eval") !== -1,
                    noInlineStyle: !d || d.indexOf("no-inline-style") !== -1
                }
            } else Zd.rules = {noUnsafeEval: b(), noInlineStyle: !1}
        }
        return Zd.rules
    }, $d = function () {
        if (s($d.name_))return $d.name_;
        var b, c, d, e, f = ae.length;
        for (c = 0; c < f; ++c)if (d = ae[c], b = a.document.querySelector("[" + d.replace(":", "\\:") + "jq]")) {
            e = b.getAttribute(d + "jq");
            break
        }
        return $d.name_ = e
    }, _d = /:/g, ae = ["ng-", "data-ng-", "ng:", "x-ng-"], be = /[A-Z]/g, ce = !1, de = 1, ee = 2, fe = 3, ge = 8, he = 9, ie = 11, je = {
        full: "1.5.6",
        major: 1,
        minor: 5,
        dot: 6,
        codeName: "arrow-stringification"
    };
    Da.expando = "ng339";
    var ke = Da.cache = {}, le = 1, me = function (a, b, c) {
        a.addEventListener(b, c, !1)
    }, ne = function (a, b, c) {
        a.removeEventListener(b, c, !1)
    };
    Da._data = function (a) {
        return this.cache[a[this.expando]] || {}
    };
    var oe = /([\:\-\_]+(.))/g, pe = /^moz([A-Z])/, qe = {
        mouseleave: "mouseout",
        mouseenter: "mouseover"
    }, re = b("jqLite"), se = /^<([\w-]+)\s*\/?>(?:<\/\1>|)$/, te = /<|&#?\w+;/, ue = /<([\w:-]+)/, ve = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi, we = {
        option: [1, '<select multiple="multiple">', "</select>"],
        thead: [1, "<table>", "</table>"],
        col: [2, "<table><colgroup>", "</colgroup></table>"],
        tr: [2, "<table><tbody>", "</tbody></table>"],
        td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
        _default: [0, "", ""]
    };
    we.optgroup = we.option, we.tbody = we.tfoot = we.colgroup = we.caption = we.thead, we.th = we.td;
    var xe = a.Node.prototype.contains || function (a) {
            return !!(16 & this.compareDocumentPosition(a))
        }, ye = Da.prototype = {
        ready: function (b) {
            function c() {
                d || (d = !0, b())
            }

            var d = !1;
            "complete" === a.document.readyState ? a.setTimeout(c) : (this.on("DOMContentLoaded", c), Da(a).on("load", c))
        }, toString: function () {
            var a = [];
            return d(this, function (b) {
                a.push("" + b)
            }), "[" + a.join(", ") + "]"
        }, eq: function (a) {
            return Kd(a >= 0 ? this[a] : this[this.length + a])
        }, length: 0, push: Pd, sort: [].sort, splice: [].splice
    }, ze = {};
    d("multiple,selected,checked,disabled,readOnly,required,open".split(","), function (a) {
        ze[Fd(a)] = a
    });
    var Ae = {};
    d("input,select,option,textarea,button,form,details".split(","), function (a) {
        Ae[a] = !0
    });
    var Be = {ngMinlength: "minlength", ngMaxlength: "maxlength", ngMin: "min", ngMax: "max", ngPattern: "pattern"};
    d({data: Ja, removeData: Ha, hasData: ya, cleanData: za}, function (a, b) {
        Da[b] = a
    }), d({
        data: Ja, inheritedData: Pa, scope: function (a) {
            return Kd.data(a, "$scope") || Pa(a.parentNode || a, ["$isolateScope", "$scope"])
        }, isolateScope: function (a) {
            return Kd.data(a, "$isolateScope") || Kd.data(a, "$isolateScopeNoTemplate")
        }, controller: Oa, injector: function (a) {
            return Pa(a, "$injector")
        }, removeAttr: function (a, b) {
            a.removeAttribute(b)
        }, hasClass: Ka, css: function (a, b, c) {
            return b = va(b), s(c) ? void(a.style[b] = c) : a.style[b]
        }, attr: function (a, b, c) {
            var d = a.nodeType;
            if (d !== fe && d !== ee && d !== ge) {
                var e = Fd(b);
                if (ze[e]) {
                    if (!s(c))return a[b] || (a.attributes.getNamedItem(b) || n).specified ? e : void 0;
                    c ? (a[b] = !0, a.setAttribute(b, e)) : (a[b] = !1, a.removeAttribute(e))
                } else if (s(c))a.setAttribute(b, c); else if (a.getAttribute) {
                    var f = a.getAttribute(b, 2);
                    return null === f ? void 0 : f
                }
            }
        }, prop: function (a, b, c) {
            return s(c) ? void(a[b] = c) : a[b]
        }, text: function () {
            function a(a, b) {
                if (r(b)) {
                    var c = a.nodeType;
                    return c === de || c === fe ? a.textContent : ""
                }
                a.textContent = b
            }

            return a.$dv = "", a
        }(), val: function (a, b) {
            if (r(b)) {
                if (a.multiple && "select" === L(a)) {
                    var c = [];
                    return d(a.options, function (a) {
                        a.selected && c.push(a.value || a.text)
                    }), 0 === c.length ? null : c
                }
                return a.value
            }
            a.value = b
        }, html: function (a, b) {
            return r(b) ? a.innerHTML : (Fa(a, !0), void(a.innerHTML = b))
        }, empty: Qa
    }, function (a, b) {
        Da.prototype[b] = function (b, c) {
            var d, e, f = this.length;
            if (a !== Qa && r(2 == a.length && a !== Ka && a !== Oa ? b : c)) {
                if (t(b)) {
                    for (d = 0; d < f; d++)if (a === Ja)a(this[d], b); else for (e in b)a(this[d], e, b[e]);
                    return this
                }
                for (var g = a.$dv, h = r(g) ? Math.min(f, 1) : f, i = 0; i < h; i++) {
                    var j = a(this[i], b, c);
                    g = g ? g + j : j
                }
                return g
            }
            for (d = 0; d < f; d++)a(this[d], b, c);
            return this
        }
    }), d({
        removeData: Ha, on: function (a, b, c, d) {
            if (s(d))throw re("onargs", "jqLite#on() does not support the `selector` or `eventData` parameters");
            if (xa(a)) {
                var e = Ia(a, !0), f = e.events, g = e.handle;
                g || (g = e.handle = Va(a, f));
                for (var h = b.indexOf(" ") >= 0 ? b.split(" ") : [b], i = h.length, j = function (b, d, e) {
                    var h = f[b];
                    h || (h = f[b] = [], h.specialHandlerWrapper = d, "$destroy" === b || e || me(a, b, g)), h.push(c)
                }; i--;)b = h[i], qe[b] ? (j(qe[b], Xa), j(b, void 0, !0)) : j(b)
            }
        }, off: Ga, one: function (a, b, c) {
            a = Kd(a), a.on(b, function d() {
                a.off(b, c), a.off(b, d)
            }), a.on(b, c)
        }, replaceWith: function (a, b) {
            var c, e = a.parentNode;
            Fa(a), d(new Da(b), function (b) {
                c ? e.insertBefore(b, c.nextSibling) : e.replaceChild(b, a), c = b
            })
        }, children: function (a) {
            var b = [];
            return d(a.childNodes, function (a) {
                a.nodeType === de && b.push(a)
            }), b
        }, contents: function (a) {
            return a.contentDocument || a.childNodes || []
        }, append: function (a, b) {
            var c = a.nodeType;
            if (c === de || c === ie) {
                b = new Da(b);
                for (var d = 0, e = b.length; d < e; d++) {
                    var f = b[d];
                    a.appendChild(f)
                }
            }
        }, prepend: function (a, b) {
            if (a.nodeType === de) {
                var c = a.firstChild;
                d(new Da(b), function (b) {
                    a.insertBefore(b, c)
                })
            }
        }, wrap: function (a, b) {
            Ca(a, Kd(b).eq(0).clone()[0])
        }, remove: Ra, detach: function (a) {
            Ra(a, !0)
        }, after: function (a, b) {
            var c = a, d = a.parentNode;
            b = new Da(b);
            for (var e = 0, f = b.length; e < f; e++) {
                var g = b[e];
                d.insertBefore(g, c.nextSibling), c = g
            }
        }, addClass: Ma, removeClass: La, toggleClass: function (a, b, c) {
            b && d(b.split(" "), function (b) {
                var d = c;
                r(d) && (d = !Ka(a, b)), (d ? Ma : La)(a, b)
            })
        }, parent: function (a) {
            var b = a.parentNode;
            return b && b.nodeType !== ie ? b : null
        }, next: function (a) {
            return a.nextElementSibling
        }, find: function (a, b) {
            return a.getElementsByTagName ? a.getElementsByTagName(b) : []
        }, clone: Ea, triggerHandler: function (a, b, c) {
            var e, f, g, h = b.type || b, i = Ia(a), k = i && i.events, l = k && k[h];
            l && (e = {
                preventDefault: function () {
                    this.defaultPrevented = !0
                }, isDefaultPrevented: function () {
                    return this.defaultPrevented === !0
                }, stopImmediatePropagation: function () {
                    this.immediatePropagationStopped = !0
                }, isImmediatePropagationStopped: function () {
                    return this.immediatePropagationStopped === !0
                }, stopPropagation: n, type: h, target: a
            }, b.type && (e = j(e, b)), f = O(l), g = c ? [e].concat(c) : [e], d(f, function (b) {
                e.isImmediatePropagationStopped() || b.apply(a, g)
            }))
        }
    }, function (a, b) {
        Da.prototype[b] = function (b, c, d) {
            for (var e, f = 0, g = this.length; f < g; f++)r(e) ? (e = a(this[f], b, c, d), s(e) && (e = Kd(e))) : Na(e, a(this[f], b, c, d));
            return s(e) ? e : this
        }, Da.prototype.bind = Da.prototype.on, Da.prototype.unbind = Da.prototype.off
    }), $a.prototype = {
        put: function (a, b) {
            this[Za(a, this.nextUid)] = b
        }, get: function (a) {
            return this[Za(a, this.nextUid)]
        }, remove: function (a) {
            var b = this[a = Za(a, this.nextUid)];
            return delete this[a], b
        }
    };
    var Ce = [function () {
        this.$get = [function () {
            return $a
        }]
    }], De = /^([^\(]+?)=>/, Ee = /^[^\(]*\(\s*([^\)]*)\)/m, Fe = /,/, Ge = /^\s*(_?)(\S+?)\1\s*$/, He = /((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm, Ie = b("$injector");
    db.$$annotate = cb;
    var Je = b("$animate"), Ke = 1, Le = "ng-animate", Me = function () {
        this.$get = n
    }, Ne = function () {
        var a = new $a, b = [];
        this.$get = ["$$AnimateRunner", "$rootScope", function (c, e) {
            function f(a, b, c) {
                var e = !1;
                return b && (b = v(b) ? b.split(" ") : Vd(b) ? b : [], d(b, function (b) {
                    b && (e = !0, a[b] = c)
                })), e
            }

            function g() {
                d(b, function (b) {
                    var c = a.get(b);
                    if (c) {
                        var e = hb(b.attr("class")), f = "", g = "";
                        d(c, function (a, b) {
                            var c = !!e[b];
                            a !== c && (a ? f += (f.length ? " " : "") + b : g += (g.length ? " " : "") + b)
                        }), d(b, function (a) {
                            f && Ma(a, f), g && La(a, g)
                        }), a.remove(b)
                    }
                }), b.length = 0
            }

            function h(c, d, h) {
                var i = a.get(c) || {}, j = f(i, d, !0), k = f(i, h, !1);
                (j || k) && (a.put(c, i), b.push(c), 1 === b.length && e.$$postDigest(g))
            }

            return {
                enabled: n, on: n, off: n, pin: n, push: function (a, b, d, e) {
                    e && e(), d = d || {}, d.from && a.css(d.from), d.to && a.css(d.to), (d.addClass || d.removeClass) && h(a, d.addClass, d.removeClass);
                    var f = new c;
                    return f.complete(), f
                }
            }
        }]
    }, Oe = ["$provide", function (a) {
        var b = this;
        this.$$registeredAnimations = Object.create(null), this.register = function (c, d) {
            if (c && "." !== c.charAt(0))throw Je("notcsel", "Expecting class selector starting with '.' got '{0}'.", c);
            var e = c + "-animation";
            b.$$registeredAnimations[c.substr(1)] = e, a.factory(e, d)
        }, this.classNameFilter = function (a) {
            if (1 === arguments.length && (this.$$classNameFilter = a instanceof RegExp ? a : null, this.$$classNameFilter)) {
                var b = new RegExp("(\\s+|\\/)" + Le + "(\\s+|\\/)");
                if (b.test(this.$$classNameFilter.toString()))throw Je("nongcls", '$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.', Le)
            }
            return this.$$classNameFilter
        }, this.$get = ["$$animateQueue", function (a) {
            function b(a, b, c) {
                if (c) {
                    var d = gb(c);
                    !d || d.parentNode || d.previousElementSibling || (c = null)
                }
                c ? c.after(a) : b.prepend(a)
            }

            return {
                on: a.on, off: a.off, pin: a.pin, enabled: a.enabled, cancel: function (a) {
                    a.end && a.end()
                }, enter: function (c, d, e, f) {
                    return d = d && Kd(d), e = e && Kd(e), d = d || e.parent(), b(c, d, e), a.push(c, "enter", ib(f))
                }, move: function (c, d, e, f) {
                    return d = d && Kd(d), e = e && Kd(e), d = d || e.parent(), b(c, d, e), a.push(c, "move", ib(f))
                }, leave: function (b, c) {
                    return a.push(b, "leave", ib(c), function () {
                        b.remove()
                    })
                }, addClass: function (b, c, d) {
                    return d = ib(d), d.addClass = fb(d.addclass, c), a.push(b, "addClass", d)
                }, removeClass: function (b, c, d) {
                    return d = ib(d), d.removeClass = fb(d.removeClass, c), a.push(b, "removeClass", d)
                }, setClass: function (b, c, d, e) {
                    return e = ib(e), e.addClass = fb(e.addClass, c), e.removeClass = fb(e.removeClass, d), a.push(b, "setClass", e)
                }, animate: function (b, c, d, e, f) {
                    return f = ib(f), f.from = f.from ? j(f.from, c) : c, f.to = f.to ? j(f.to, d) : d, e = e || "ng-inline-animate", f.tempClasses = fb(f.tempClasses, e), a.push(b, "animate", f)
                }
            }
        }]
    }], Pe = function () {
        this.$get = ["$$rAF", function (a) {
            function b(b) {
                c.push(b), c.length > 1 || a(function () {
                    for (var a = 0; a < c.length; a++)c[a]();
                    c = []
                })
            }

            var c = [];
            return function () {
                var a = !1;
                return b(function () {
                    a = !0
                }), function (c) {
                    a ? c() : b(c)
                }
            }
        }]
    }, Qe = function () {
        this.$get = ["$q", "$sniffer", "$$animateAsyncRun", "$document", "$timeout", function (a, b, c, e, f) {
            function g(a) {
                this.setHost(a);
                var b = c(), d = function (a) {
                    f(a, 0, !1)
                };
                this._doneCallbacks = [], this._tick = function (a) {
                    var c = e[0];
                    c && c.hidden ? d(a) : b(a)
                }, this._state = 0
            }

            var h = 0, i = 1, j = 2;
            return g.chain = function (a, b) {
                function c() {
                    return d === a.length ? void b(!0) : void a[d](function (a) {
                        return a === !1 ? void b(!1) : (d++, void c())
                    })
                }

                var d = 0;
                c()
            }, g.all = function (a, b) {
                function c(c) {
                    f = f && c, ++e === a.length && b(f)
                }

                var e = 0, f = !0;
                d(a, function (a) {
                    a.done(c)
                })
            }, g.prototype = {
                setHost: function (a) {
                    this.host = a || {}
                }, done: function (a) {
                    this._state === j ? a() : this._doneCallbacks.push(a)
                }, progress: n, getPromise: function () {
                    if (!this.promise) {
                        var b = this;
                        this.promise = a(function (a, c) {
                            b.done(function (b) {
                                b === !1 ? c() : a()
                            })
                        })
                    }
                    return this.promise
                }, then: function (a, b) {
                    return this.getPromise().then(a, b)
                }, catch: function (a) {
                    return this.getPromise().catch(a)
                }, finally: function (a) {
                    return this.getPromise().finally(a)
                }, pause: function () {
                    this.host.pause && this.host.pause()
                }, resume: function () {
                    this.host.resume && this.host.resume()
                }, end: function () {
                    this.host.end && this.host.end(), this._resolve(!0)
                }, cancel: function () {
                    this.host.cancel && this.host.cancel(), this._resolve(!1)
                }, complete: function (a) {
                    var b = this;
                    b._state === h && (b._state = i, b._tick(function () {
                        b._resolve(a)
                    }))
                }, _resolve: function (a) {
                    this._state !== j && (d(this._doneCallbacks, function (b) {
                        b(a)
                    }), this._doneCallbacks.length = 0, this._state = j)
                }
            }, g
        }]
    }, Re = function () {
        this.$get = ["$$rAF", "$q", "$$AnimateRunner", function (a, b, c) {
            return function (b, d) {
                function e() {
                    return a(function () {
                        f(), h || i.complete(), h = !0
                    }), i
                }

                function f() {
                    g.addClass && (b.addClass(g.addClass), g.addClass = null), g.removeClass && (b.removeClass(g.removeClass), g.removeClass = null), g.to && (b.css(g.to), g.to = null)
                }

                var g = d || {};
                g.$$prepared || (g = N(g)), g.cleanupStyles && (g.from = g.to = null), g.from && (b.css(g.from), g.from = null);
                var h, i = new c;
                return {start: e, end: e}
            }
        }]
    }, Se = b("$compile"), Te = new nb;
    ob.$inject = ["$provide", "$$sanitizeUriProvider"], pb.prototype.isFirstChange = function () {
        return this.previousValue === Te
    };
    var Ue = /^((?:x|data)[\:\-_])/i, Ve = b("$controller"), We = /^(\S+)(\s+as\s+([\w$]+))?$/, Xe = function () {
        this.$get = ["$document", function (a) {
            return function (b) {
                return b ? !b.nodeType && b instanceof Kd && (b = b[0]) : b = a[0].body, b.offsetWidth + 1
            }
        }]
    }, Ye = "application/json", Ze = {"Content-Type": Ye + ";charset=utf-8"}, $e = /^\[|^\{(?!\{)/, _e = {
        "[": /]$/,
        "{": /}$/
    }, af = /^\)\]\}',?\n/, bf = b("$http"), cf = function (a) {
        return function () {
            throw bf("legacy", "The method `{0}` on the promise returned from `$http` has been disabled.", a)
        }
    }, df = Td.$interpolateMinErr = b("$interpolate");
    df.throwNoconcat = function (a) {
        throw df("noconcat", "Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce", a)
    }, df.interr = function (a, b) {
        return df("interr", "Can't interpolate: {0}\n{1}", a, b.toString())
    };
    var ef = /^([^\?#]*)(\?([^#]*))?(#(.*))?$/, ff = {
        http: 80,
        https: 443,
        ftp: 21
    }, gf = b("$location"), hf = {
        $$html5: !1, $$replace: !1, absUrl: Yb("$$absUrl"), url: function (a) {
            if (r(a))return this.$$url;
            var b = ef.exec(a);
            return (b[1] || "" === a) && this.path(decodeURIComponent(b[1])), (b[2] || b[1] || "" === a) && this.search(b[3] || ""), this.hash(b[5] || ""), this
        }, protocol: Yb("$$protocol"), host: Yb("$$host"), port: Yb("$$port"), path: Zb("$$path", function (a) {
            return a = null !== a ? a.toString() : "", "/" == a.charAt(0) ? a : "/" + a
        }), search: function (a, b) {
            switch (arguments.length) {
                case 0:
                    return this.$$search;
                case 1:
                    if (v(a) || w(a))a = a.toString(), this.$$search = _(a); else {
                        if (!t(a))throw gf("isrcharg", "The first argument of the `$location#search()` call must be a string or an object.");
                        a = N(a, {}), d(a, function (b, c) {
                            null == b && delete a[c]
                        }), this.$$search = a
                    }
                    break;
                default:
                    r(b) || null === b ? delete this.$$search[a] : this.$$search[a] = b
            }
            return this.$$compose(), this
        }, hash: Zb("$$hash", function (a) {
            return null !== a ? a.toString() : ""
        }), replace: function () {
            return this.$$replace = !0, this
        }
    };
    d([Xb, Wb, Vb], function (a) {
        a.prototype = Object.create(hf), a.prototype.state = function (b) {
            if (!arguments.length)return this.$$state;
            if (a !== Vb || !this.$$html5)throw gf("nostate", "History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");
            return this.$$state = r(b) ? null : b, this
        }
    });
    var jf = b("$parse"), kf = Function.prototype.call, lf = Function.prototype.apply, mf = Function.prototype.bind, nf = pa();
    d("+ - * / % === !== == != < > <= >= && || ! = |".split(" "), function (a) {
        nf[a] = !0
    });
    var of = {n: "\n", f: "\f", r: "\r", t: "\t", v: "\v", "'": "'", '"': '"'}, pf = function (a) {
        this.options = a
    };
    pf.prototype = {
        constructor: pf, lex: function (a) {
            for (this.text = a, this.index = 0, this.tokens = []; this.index < this.text.length;) {
                var b = this.text.charAt(this.index);
                if ('"' === b || "'" === b)this.readString(b); else if (this.isNumber(b) || "." === b && this.isNumber(this.peek()))this.readNumber(); else if (this.isIdentifierStart(this.peekMultichar()))this.readIdent(); else if (this.is(b, "(){}[].,;:?"))this.tokens.push({
                    index: this.index,
                    text: b
                }), this.index++; else if (this.isWhitespace(b))this.index++; else {
                    var c = b + this.peek(), d = c + this.peek(2), e = nf[b], f = nf[c], g = nf[d];
                    if (e || f || g) {
                        var h = g ? d : f ? c : b;
                        this.tokens.push({index: this.index, text: h, operator: !0}), this.index += h.length
                    } else this.throwError("Unexpected next character ", this.index, this.index + 1)
                }
            }
            return this.tokens
        }, is: function (a, b) {
            return b.indexOf(a) !== -1
        }, peek: function (a) {
            var b = a || 1;
            return this.index + b < this.text.length && this.text.charAt(this.index + b)
        }, isNumber: function (a) {
            return "0" <= a && a <= "9" && "string" == typeof a
        }, isWhitespace: function (a) {
            return " " === a || "\r" === a || "\t" === a || "\n" === a || "\v" === a || "" === a
        }, isIdentifierStart: function (a) {
            return this.options.isIdentifierStart ? this.options.isIdentifierStart(a, this.codePointAt(a)) : this.isValidIdentifierStart(a)
        }, isValidIdentifierStart: function (a) {
            return "a" <= a && a <= "z" || "A" <= a && a <= "Z" || "_" === a || "$" === a
        }, isIdentifierContinue: function (a) {
            return this.options.isIdentifierContinue ? this.options.isIdentifierContinue(a, this.codePointAt(a)) : this.isValidIdentifierContinue(a)
        }, isValidIdentifierContinue: function (a, b) {
            return this.isValidIdentifierStart(a, b) || this.isNumber(a)
        }, codePointAt: function (a) {
            return 1 === a.length ? a.charCodeAt(0) : (a.charCodeAt(0) << 10) + a.charCodeAt(1) - 56613888
        }, peekMultichar: function () {
            var a = this.text.charAt(this.index), b = this.peek();
            if (!b)return a;
            var c = a.charCodeAt(0), d = b.charCodeAt(0);
            return c >= 55296 && c <= 56319 && d >= 56320 && d <= 57343 ? a + b : a
        }, isExpOperator: function (a) {
            return "-" === a || "+" === a || this.isNumber(a)
        }, throwError: function (a, b, c) {
            c = c || this.index;
            var d = s(b) ? "s " + b + "-" + this.index + " [" + this.text.substring(b, c) + "]" : " " + c;
            throw jf("lexerr", "Lexer Error: {0} at column{1} in expression [{2}].", a, d, this.text)
        }, readNumber: function () {
            for (var a = "", b = this.index; this.index < this.text.length;) {
                var c = Fd(this.text.charAt(this.index));
                if ("." == c || this.isNumber(c))a += c; else {
                    var d = this.peek();
                    if ("e" == c && this.isExpOperator(d))a += c; else if (this.isExpOperator(c) && d && this.isNumber(d) && "e" == a.charAt(a.length - 1))a += c; else {
                        if (!this.isExpOperator(c) || d && this.isNumber(d) || "e" != a.charAt(a.length - 1))break;
                        this.throwError("Invalid exponent")
                    }
                }
                this.index++
            }
            this.tokens.push({index: b, text: a, constant: !0, value: Number(a)})
        }, readIdent: function () {
            var a = this.index;
            for (this.index += this.peekMultichar().length; this.index < this.text.length;) {
                var b = this.peekMultichar();
                if (!this.isIdentifierContinue(b))break;
                this.index += b.length
            }
            this.tokens.push({index: a, text: this.text.slice(a, this.index), identifier: !0})
        }, readString: function (a) {
            var b = this.index;
            this.index++;
            for (var c = "", d = a, e = !1; this.index < this.text.length;) {
                var f = this.text.charAt(this.index);
                if (d += f, e) {
                    if ("u" === f) {
                        var g = this.text.substring(this.index + 1, this.index + 5);
                        g.match(/[\da-f]{4}/i) || this.throwError("Invalid unicode escape [\\u" + g + "]"), this.index += 4, c += String.fromCharCode(parseInt(g, 16))
                    } else {
                        var h = of[f];
                        c += h || f
                    }
                    e = !1
                } else if ("\\" === f)e = !0; else {
                    if (f === a)return this.index++, void this.tokens.push({index: b, text: d, constant: !0, value: c});
                    c += f
                }
                this.index++
            }
            this.throwError("Unterminated quote", b)
        }
    };
    var qf = function (a, b) {
        this.lexer = a, this.options = b
    };
    qf.Program = "Program", qf.ExpressionStatement = "ExpressionStatement", qf.AssignmentExpression = "AssignmentExpression", qf.ConditionalExpression = "ConditionalExpression", qf.LogicalExpression = "LogicalExpression", qf.BinaryExpression = "BinaryExpression", qf.UnaryExpression = "UnaryExpression", qf.CallExpression = "CallExpression", qf.MemberExpression = "MemberExpression", qf.Identifier = "Identifier", qf.Literal = "Literal", qf.ArrayExpression = "ArrayExpression", qf.Property = "Property", qf.ObjectExpression = "ObjectExpression", qf.ThisExpression = "ThisExpression", qf.LocalsExpression = "LocalsExpression", qf.NGValueParameter = "NGValueParameter", qf.prototype = {
        ast: function (a) {
            this.text = a, this.tokens = this.lexer.lex(a);
            var b = this.program();
            return 0 !== this.tokens.length && this.throwError("is an unexpected token", this.tokens[0]), b
        }, program: function () {
            for (var a = []; ;)if (this.tokens.length > 0 && !this.peek("}", ")", ";", "]") && a.push(this.expressionStatement()), !this.expect(";"))return {
                type: qf.Program,
                body: a
            }
        }, expressionStatement: function () {
            return {type: qf.ExpressionStatement, expression: this.filterChain()}
        }, filterChain: function () {
            for (var a, b = this.expression(); a = this.expect("|");)b = this.filter(b);
            return b
        }, expression: function () {
            return this.assignment()
        }, assignment: function () {
            var a = this.ternary();
            return this.expect("=") && (a = {
                type: qf.AssignmentExpression,
                left: a,
                right: this.assignment(),
                operator: "="
            }), a
        }, ternary: function () {
            var a, b, c = this.logicalOR();
            return this.expect("?") && (a = this.expression(), this.consume(":")) ? (b = this.expression(), {
                type: qf.ConditionalExpression,
                test: c,
                alternate: a,
                consequent: b
            }) : c
        }, logicalOR: function () {
            for (var a = this.logicalAND(); this.expect("||");)a = {
                type: qf.LogicalExpression,
                operator: "||",
                left: a,
                right: this.logicalAND()
            };
            return a
        }, logicalAND: function () {
            for (var a = this.equality(); this.expect("&&");)a = {
                type: qf.LogicalExpression,
                operator: "&&",
                left: a,
                right: this.equality()
            };
            return a
        }, equality: function () {
            for (var a, b = this.relational(); a = this.expect("==", "!=", "===", "!==");)b = {
                type: qf.BinaryExpression,
                operator: a.text,
                left: b,
                right: this.relational()
            };
            return b
        }, relational: function () {
            for (var a, b = this.additive(); a = this.expect("<", ">", "<=", ">=");)b = {
                type: qf.BinaryExpression,
                operator: a.text,
                left: b,
                right: this.additive()
            };
            return b
        }, additive: function () {
            for (var a, b = this.multiplicative(); a = this.expect("+", "-");)b = {
                type: qf.BinaryExpression,
                operator: a.text,
                left: b,
                right: this.multiplicative()
            };
            return b
        }, multiplicative: function () {
            for (var a, b = this.unary(); a = this.expect("*", "/", "%");)b = {
                type: qf.BinaryExpression,
                operator: a.text,
                left: b,
                right: this.unary()
            };
            return b
        }, unary: function () {
            var a;
            return (a = this.expect("+", "-", "!")) ? {
                type: qf.UnaryExpression,
                operator: a.text,
                prefix: !0,
                argument: this.unary()
            } : this.primary()
        }, primary: function () {
            var a;
            this.expect("(") ? (a = this.filterChain(), this.consume(")")) : this.expect("[") ? a = this.arrayDeclaration() : this.expect("{") ? a = this.object() : this.selfReferential.hasOwnProperty(this.peek().text) ? a = N(this.selfReferential[this.consume().text]) : this.options.literals.hasOwnProperty(this.peek().text) ? a = {
                type: qf.Literal,
                value: this.options.literals[this.consume().text]
            } : this.peek().identifier ? a = this.identifier() : this.peek().constant ? a = this.constant() : this.throwError("not a primary expression", this.peek());
            for (var b; b = this.expect("(", "[", ".");)"(" === b.text ? (a = {
                type: qf.CallExpression,
                callee: a,
                arguments: this.parseArguments()
            }, this.consume(")")) : "[" === b.text ? (a = {
                type: qf.MemberExpression,
                object: a,
                property: this.expression(),
                computed: !0
            }, this.consume("]")) : "." === b.text ? a = {
                type: qf.MemberExpression,
                object: a,
                property: this.identifier(),
                computed: !1
            } : this.throwError("IMPOSSIBLE");
            return a
        }, filter: function (a) {
            for (var b = [a], c = {
                type: qf.CallExpression,
                callee: this.identifier(),
                arguments: b,
                filter: !0
            }; this.expect(":");)b.push(this.expression());
            return c
        }, parseArguments: function () {
            var a = [];
            if (")" !== this.peekToken().text)do a.push(this.expression()); while (this.expect(","));
            return a
        }, identifier: function () {
            var a = this.consume();
            return a.identifier || this.throwError("is not a valid identifier", a), {type: qf.Identifier, name: a.text}
        }, constant: function () {
            return {type: qf.Literal, value: this.consume().value}
        }, arrayDeclaration: function () {
            var a = [];
            if ("]" !== this.peekToken().text)do {
                if (this.peek("]"))break;
                a.push(this.expression())
            } while (this.expect(","));
            return this.consume("]"), {type: qf.ArrayExpression, elements: a}
        }, object: function () {
            var a, b = [];
            if ("}" !== this.peekToken().text)do {
                if (this.peek("}"))break;
                a = {
                    type: qf.Property,
                    kind: "init"
                }, this.peek().constant ? (a.key = this.constant(), a.computed = !1, this.consume(":"), a.value = this.expression()) : this.peek().identifier ? (a.key = this.identifier(), a.computed = !1, this.peek(":") ? (this.consume(":"), a.value = this.expression()) : a.value = a.key) : this.peek("[") ? (this.consume("["), a.key = this.expression(), this.consume("]"), a.computed = !0, this.consume(":"), a.value = this.expression()) : this.throwError("invalid key", this.peek()), b.push(a)
            } while (this.expect(","));
            return this.consume("}"), {type: qf.ObjectExpression, properties: b}
        }, throwError: function (a, b) {
            throw jf("syntax", "Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].", b.text, a, b.index + 1, this.text, this.text.substring(b.index))
        }, consume: function (a) {
            if (0 === this.tokens.length)throw jf("ueoe", "Unexpected end of expression: {0}", this.text);
            var b = this.expect(a);
            return b || this.throwError("is unexpected, expecting [" + a + "]", this.peek()), b
        }, peekToken: function () {
            if (0 === this.tokens.length)throw jf("ueoe", "Unexpected end of expression: {0}", this.text);
            return this.tokens[0]
        }, peek: function (a, b, c, d) {
            return this.peekAhead(0, a, b, c, d)
        }, peekAhead: function (a, b, c, d, e) {
            if (this.tokens.length > a) {
                var f = this.tokens[a], g = f.text;
                if (g === b || g === c || g === d || g === e || !b && !c && !d && !e)return f
            }
            return !1
        }, expect: function (a, b, c, d) {
            var e = this.peek(a, b, c, d);
            return !!e && (this.tokens.shift(), e)
        }, selfReferential: {this: {type: qf.ThisExpression}, $locals: {type: qf.LocalsExpression}}
    }, oc.prototype = {
        compile: function (a, b) {
            var c = this, e = this.astBuilder.ast(a);
            this.state = {
                nextId: 0,
                filters: {},
                expensiveChecks: b,
                fn: {vars: [], body: [], own: {}},
                assign: {vars: [], body: [], own: {}},
                inputs: []
            }, ic(e, c.$filter);
            var f, g = "";
            if (this.stage = "assign", f = lc(e)) {
                this.state.computing = "assign";
                var h = this.nextId();
                this.recurse(f, h), this.return_(h), g = "fn.assign=" + this.generateFunction("assign", "s,v,l")
            }
            var i = jc(e.body);
            c.stage = "inputs", d(i, function (a, b) {
                var d = "fn" + b;
                c.state[d] = {vars: [], body: [], own: {}}, c.state.computing = d;
                var e = c.nextId();
                c.recurse(a, e), c.return_(e), c.state.inputs.push(d), a.watchId = b
            }), this.state.computing = "fn", this.stage = "main", this.recurse(e);
            var j = '"' + this.USE + " " + this.STRICT + '";\n' + this.filterPrefix() + "var fn=" + this.generateFunction("fn", "s,l,a,i") + g + this.watchFns() + "return fn;", k = new Function("$filter", "ensureSafeMemberName", "ensureSafeObject", "ensureSafeFunction", "getStringValue", "ensureSafeAssignContext", "ifDefined", "plus", "text", j)(this.$filter, ac, cc, dc, bc, ec, fc, gc, a);
            return this.state = this.stage = void 0, k.literal = mc(e), k.constant = nc(e), k
        }, USE: "use", STRICT: "strict", watchFns: function () {
            var a = [], b = this.state.inputs, c = this;
            return d(b, function (b) {
                a.push("var " + b + "=" + c.generateFunction(b, "s"))
            }), b.length && a.push("fn.inputs=[" + b.join(",") + "];"), a.join("")
        }, generateFunction: function (a, b) {
            return "function(" + b + "){" + this.varsPrefix(a) + this.body(a) + "};"
        }, filterPrefix: function () {
            var a = [], b = this;
            return d(this.state.filters, function (c, d) {
                a.push(c + "=$filter(" + b.escape(d) + ")")
            }), a.length ? "var " + a.join(",") + ";" : ""
        }, varsPrefix: function (a) {
            return this.state[a].vars.length ? "var " + this.state[a].vars.join(",") + ";" : ""
        }, body: function (a) {
            return this.state[a].body.join("")
        }, recurse: function (a, b, c, e, f, g) {
            var h, i, j, k, l, m = this;
            if (e = e || n, !g && s(a.watchId))return b = b || this.nextId(), void this.if_("i", this.lazyAssign(b, this.computedMember("i", a.watchId)), this.lazyRecurse(a, b, c, e, f, !0));
            switch (a.type) {
                case qf.Program:
                    d(a.body, function (b, c) {
                        m.recurse(b.expression, void 0, void 0, function (a) {
                            i = a
                        }), c !== a.body.length - 1 ? m.current().body.push(i, ";") : m.return_(i)
                    });
                    break;
                case qf.Literal:
                    k = this.escape(a.value), this.assign(b, k), e(k);
                    break;
                case qf.UnaryExpression:
                    this.recurse(a.argument, void 0, void 0, function (a) {
                        i = a
                    }), k = a.operator + "(" + this.ifDefined(i, 0) + ")", this.assign(b, k), e(k);
                    break;
                case qf.BinaryExpression:
                    this.recurse(a.left, void 0, void 0, function (a) {
                        h = a
                    }), this.recurse(a.right, void 0, void 0, function (a) {
                        i = a
                    }), k = "+" === a.operator ? this.plus(h, i) : "-" === a.operator ? this.ifDefined(h, 0) + a.operator + this.ifDefined(i, 0) : "(" + h + ")" + a.operator + "(" + i + ")", this.assign(b, k), e(k);
                    break;
                case qf.LogicalExpression:
                    b = b || this.nextId(), m.recurse(a.left, b), m.if_("&&" === a.operator ? b : m.not(b), m.lazyRecurse(a.right, b)), e(b);
                    break;
                case qf.ConditionalExpression:
                    b = b || this.nextId(), m.recurse(a.test, b), m.if_(b, m.lazyRecurse(a.alternate, b), m.lazyRecurse(a.consequent, b)), e(b);
                    break;
                case qf.Identifier:
                    b = b || this.nextId(), c && (c.context = "inputs" === m.stage ? "s" : this.assign(this.nextId(), this.getHasOwnProperty("l", a.name) + "?l:s"), c.computed = !1, c.name = a.name), ac(a.name), m.if_("inputs" === m.stage || m.not(m.getHasOwnProperty("l", a.name)), function () {
                        m.if_("inputs" === m.stage || "s", function () {
                            f && 1 !== f && m.if_(m.not(m.nonComputedMember("s", a.name)), m.lazyAssign(m.nonComputedMember("s", a.name), "{}")), m.assign(b, m.nonComputedMember("s", a.name))
                        })
                    }, b && m.lazyAssign(b, m.nonComputedMember("l", a.name))), (m.state.expensiveChecks || qc(a.name)) && m.addEnsureSafeObject(b), e(b);
                    break;
                case qf.MemberExpression:
                    h = c && (c.context = this.nextId()) || this.nextId(), b = b || this.nextId(), m.recurse(a.object, h, void 0, function () {
                        m.if_(m.notNull(h), function () {
                            f && 1 !== f && m.addEnsureSafeAssignContext(h), a.computed ? (i = m.nextId(), m.recurse(a.property, i), m.getStringValue(i), m.addEnsureSafeMemberName(i), f && 1 !== f && m.if_(m.not(m.computedMember(h, i)), m.lazyAssign(m.computedMember(h, i), "{}")), k = m.ensureSafeObject(m.computedMember(h, i)), m.assign(b, k), c && (c.computed = !0, c.name = i)) : (ac(a.property.name), f && 1 !== f && m.if_(m.not(m.nonComputedMember(h, a.property.name)), m.lazyAssign(m.nonComputedMember(h, a.property.name), "{}")), k = m.nonComputedMember(h, a.property.name), (m.state.expensiveChecks || qc(a.property.name)) && (k = m.ensureSafeObject(k)), m.assign(b, k), c && (c.computed = !1, c.name = a.property.name))
                        }, function () {
                            m.assign(b, "undefined")
                        }), e(b)
                    }, !!f);
                    break;
                case qf.CallExpression:
                    b = b || this.nextId(), a.filter ? (i = m.filter(a.callee.name), j = [], d(a.arguments, function (a) {
                        var b = m.nextId();
                        m.recurse(a, b), j.push(b)
                    }), k = i + "(" + j.join(",") + ")", m.assign(b, k), e(b)) : (i = m.nextId(), h = {}, j = [], m.recurse(a.callee, i, h, function () {
                        m.if_(m.notNull(i), function () {
                            m.addEnsureSafeFunction(i), d(a.arguments, function (a) {
                                m.recurse(a, m.nextId(), void 0, function (a) {
                                    j.push(m.ensureSafeObject(a))
                                })
                            }), h.name ? (m.state.expensiveChecks || m.addEnsureSafeObject(h.context), k = m.member(h.context, h.name, h.computed) + "(" + j.join(",") + ")") : k = i + "(" + j.join(",") + ")", k = m.ensureSafeObject(k), m.assign(b, k)
                        }, function () {
                            m.assign(b, "undefined")
                        }), e(b)
                    }));
                    break;
                case qf.AssignmentExpression:
                    if (i = this.nextId(), h = {}, !kc(a.left))throw jf("lval", "Trying to assign a value to a non l-value");
                    this.recurse(a.left, void 0, h, function () {
                        m.if_(m.notNull(h.context), function () {
                            m.recurse(a.right, i), m.addEnsureSafeObject(m.member(h.context, h.name, h.computed)), m.addEnsureSafeAssignContext(h.context), k = m.member(h.context, h.name, h.computed) + a.operator + i, m.assign(b, k), e(b || k)
                        })
                    }, 1);
                    break;
                case qf.ArrayExpression:
                    j = [], d(a.elements, function (a) {
                        m.recurse(a, m.nextId(), void 0, function (a) {
                            j.push(a)
                        })
                    }), k = "[" + j.join(",") + "]", this.assign(b, k), e(k);
                    break;
                case qf.ObjectExpression:
                    j = [], l = !1, d(a.properties, function (a) {
                        a.computed && (l = !0)
                    }), l ? (b = b || this.nextId(), this.assign(b, "{}"), d(a.properties, function (a) {
                        a.computed ? (h = m.nextId(), m.recurse(a.key, h)) : h = a.key.type === qf.Identifier ? a.key.name : "" + a.key.value, i = m.nextId(), m.recurse(a.value, i), m.assign(m.member(b, h, a.computed), i)
                    })) : (d(a.properties, function (b) {
                        m.recurse(b.value, a.constant ? void 0 : m.nextId(), void 0, function (a) {
                            j.push(m.escape(b.key.type === qf.Identifier ? b.key.name : "" + b.key.value) + ":" + a)
                        })
                    }), k = "{" + j.join(",") + "}", this.assign(b, k)), e(b || k);
                    break;
                case qf.ThisExpression:
                    this.assign(b, "s"), e("s");
                    break;
                case qf.LocalsExpression:
                    this.assign(b, "l"), e("l");
                    break;
                case qf.NGValueParameter:
                    this.assign(b, "v"), e("v")
            }
        }, getHasOwnProperty: function (a, b) {
            var c = a + "." + b, d = this.current().own;
            return d.hasOwnProperty(c) || (d[c] = this.nextId(!1, a + "&&(" + this.escape(b) + " in " + a + ")")), d[c]
        }, assign: function (a, b) {
            if (a)return this.current().body.push(a, "=", b, ";"), a
        }, filter: function (a) {
            return this.state.filters.hasOwnProperty(a) || (this.state.filters[a] = this.nextId(!0)), this.state.filters[a]
        }, ifDefined: function (a, b) {
            return "ifDefined(" + a + "," + this.escape(b) + ")"
        }, plus: function (a, b) {
            return "plus(" + a + "," + b + ")"
        }, return_: function (a) {
            this.current().body.push("return ", a, ";")
        }, if_: function (a, b, c) {
            if (a === !0)b(); else {
                var d = this.current().body;
                d.push("if(", a, "){"), b(), d.push("}"), c && (d.push("else{"), c(), d.push("}"))
            }
        }, not: function (a) {
            return "!(" + a + ")"
        }, notNull: function (a) {
            return a + "!=null"
        }, nonComputedMember: function (a, b) {
            var c = /[$_a-zA-Z][$_a-zA-Z0-9]*/, d = /[^$_a-zA-Z0-9]/g;
            return c.test(b) ? a + "." + b : a + '["' + b.replace(d, this.stringEscapeFn) + '"]'
        }, computedMember: function (a, b) {
            return a + "[" + b + "]"
        }, member: function (a, b, c) {
            return c ? this.computedMember(a, b) : this.nonComputedMember(a, b)
        }, addEnsureSafeObject: function (a) {
            this.current().body.push(this.ensureSafeObject(a), ";")
        }, addEnsureSafeMemberName: function (a) {
            this.current().body.push(this.ensureSafeMemberName(a), ";")
        }, addEnsureSafeFunction: function (a) {
            this.current().body.push(this.ensureSafeFunction(a), ";")
        }, addEnsureSafeAssignContext: function (a) {
            this.current().body.push(this.ensureSafeAssignContext(a), ";")
        }, ensureSafeObject: function (a) {
            return "ensureSafeObject(" + a + ",text)"
        }, ensureSafeMemberName: function (a) {
            return "ensureSafeMemberName(" + a + ",text)"
        }, ensureSafeFunction: function (a) {
            return "ensureSafeFunction(" + a + ",text)"
        }, getStringValue: function (a) {
            this.assign(a, "getStringValue(" + a + ")")
        }, ensureSafeAssignContext: function (a) {
            return "ensureSafeAssignContext(" + a + ",text)"
        }, lazyRecurse: function (a, b, c, d, e, f) {
            var g = this;
            return function () {
                g.recurse(a, b, c, d, e, f)
            }
        }, lazyAssign: function (a, b) {
            var c = this;
            return function () {
                c.assign(a, b)
            }
        }, stringEscapeRegex: /[^ a-zA-Z0-9]/g, stringEscapeFn: function (a) {
            return "\\u" + ("0000" + a.charCodeAt(0).toString(16)).slice(-4)
        }, escape: function (a) {
            if (v(a))return "'" + a.replace(this.stringEscapeRegex, this.stringEscapeFn) + "'";
            if (w(a))return a.toString();
            if (a === !0)return "true";
            if (a === !1)return "false";
            if (null === a)return "null";
            if ("undefined" == typeof a)return "undefined";
            throw jf("esc", "IMPOSSIBLE")
        }, nextId: function (a, b) {
            var c = "v" + this.state.nextId++;
            return a || this.current().vars.push(c + (b ? "=" + b : "")), c
        }, current: function () {
            return this.state[this.state.computing]
        }
    }, pc.prototype = {
        compile: function (a, b) {
            var c = this, e = this.astBuilder.ast(a);
            this.expression = a, this.expensiveChecks = b, ic(e, c.$filter);
            var f, g;
            (f = lc(e)) && (g = this.recurse(f));
            var h, i = jc(e.body);
            i && (h = [], d(i, function (a, b) {
                var d = c.recurse(a);
                a.input = d, h.push(d), a.watchId = b
            }));
            var j = [];
            d(e.body, function (a) {
                j.push(c.recurse(a.expression))
            });
            var k = 0 === e.body.length ? n : 1 === e.body.length ? j[0] : function (a, b) {
                var c;
                return d(j, function (d) {
                    c = d(a, b)
                }), c
            };
            return g && (k.assign = function (a, b, c) {
                return g(a, c, b)
            }), h && (k.inputs = h), k.literal = mc(e), k.constant = nc(e), k
        }, recurse: function (a, b, c) {
            var e, f, g, h = this;
            if (a.input)return this.inputs(a.input, a.watchId);
            switch (a.type) {
                case qf.Literal:
                    return this.value(a.value, b);
                case qf.UnaryExpression:
                    return f = this.recurse(a.argument), this["unary" + a.operator](f, b);
                case qf.BinaryExpression:
                    return e = this.recurse(a.left),
                        f = this.recurse(a.right), this["binary" + a.operator](e, f, b);
                case qf.LogicalExpression:
                    return e = this.recurse(a.left), f = this.recurse(a.right), this["binary" + a.operator](e, f, b);
                case qf.ConditionalExpression:
                    return this["ternary?:"](this.recurse(a.test), this.recurse(a.alternate), this.recurse(a.consequent), b);
                case qf.Identifier:
                    return ac(a.name, h.expression), h.identifier(a.name, h.expensiveChecks || qc(a.name), b, c, h.expression);
                case qf.MemberExpression:
                    return e = this.recurse(a.object, !1, !!c), a.computed || (ac(a.property.name, h.expression), f = a.property.name), a.computed && (f = this.recurse(a.property)), a.computed ? this.computedMember(e, f, b, c, h.expression) : this.nonComputedMember(e, f, h.expensiveChecks, b, c, h.expression);
                case qf.CallExpression:
                    return g = [], d(a.arguments, function (a) {
                        g.push(h.recurse(a))
                    }), a.filter && (f = this.$filter(a.callee.name)), a.filter || (f = this.recurse(a.callee, !0)), a.filter ? function (a, c, d, e) {
                        for (var h = [], i = 0; i < g.length; ++i)h.push(g[i](a, c, d, e));
                        var j = f.apply(void 0, h, e);
                        return b ? {context: void 0, name: void 0, value: j} : j
                    } : function (a, c, d, e) {
                        var i, j = f(a, c, d, e);
                        if (null != j.value) {
                            cc(j.context, h.expression), dc(j.value, h.expression);
                            for (var k = [], l = 0; l < g.length; ++l)k.push(cc(g[l](a, c, d, e), h.expression));
                            i = cc(j.value.apply(j.context, k), h.expression)
                        }
                        return b ? {value: i} : i
                    };
                case qf.AssignmentExpression:
                    return e = this.recurse(a.left, !0, 1), f = this.recurse(a.right), function (a, c, d, g) {
                        var i = e(a, c, d, g), j = f(a, c, d, g);
                        return cc(i.value, h.expression), ec(i.context), i.context[i.name] = j, b ? {value: j} : j
                    };
                case qf.ArrayExpression:
                    return g = [], d(a.elements, function (a) {
                        g.push(h.recurse(a))
                    }), function (a, c, d, e) {
                        for (var f = [], h = 0; h < g.length; ++h)f.push(g[h](a, c, d, e));
                        return b ? {value: f} : f
                    };
                case qf.ObjectExpression:
                    return g = [], d(a.properties, function (a) {
                        a.computed ? g.push({
                            key: h.recurse(a.key),
                            computed: !0,
                            value: h.recurse(a.value)
                        }) : g.push({
                            key: a.key.type === qf.Identifier ? a.key.name : "" + a.key.value,
                            computed: !1,
                            value: h.recurse(a.value)
                        })
                    }), function (a, c, d, e) {
                        for (var f = {}, h = 0; h < g.length; ++h)g[h].computed ? f[g[h].key(a, c, d, e)] = g[h].value(a, c, d, e) : f[g[h].key] = g[h].value(a, c, d, e);
                        return b ? {value: f} : f
                    };
                case qf.ThisExpression:
                    return function (a) {
                        return b ? {value: a} : a
                    };
                case qf.LocalsExpression:
                    return function (a, c) {
                        return b ? {value: c} : c
                    };
                case qf.NGValueParameter:
                    return function (a, c, d) {
                        return b ? {value: d} : d
                    }
            }
        }, "unary+": function (a, b) {
            return function (c, d, e, f) {
                var g = a(c, d, e, f);
                return g = s(g) ? +g : 0, b ? {value: g} : g
            }
        }, "unary-": function (a, b) {
            return function (c, d, e, f) {
                var g = a(c, d, e, f);
                return g = s(g) ? -g : 0, b ? {value: g} : g
            }
        }, "unary!": function (a, b) {
            return function (c, d, e, f) {
                var g = !a(c, d, e, f);
                return b ? {value: g} : g
            }
        }, "binary+": function (a, b, c) {
            return function (d, e, f, g) {
                var h = a(d, e, f, g), i = b(d, e, f, g), j = gc(h, i);
                return c ? {value: j} : j
            }
        }, "binary-": function (a, b, c) {
            return function (d, e, f, g) {
                var h = a(d, e, f, g), i = b(d, e, f, g), j = (s(h) ? h : 0) - (s(i) ? i : 0);
                return c ? {value: j} : j
            }
        }, "binary*": function (a, b, c) {
            return function (d, e, f, g) {
                var h = a(d, e, f, g) * b(d, e, f, g);
                return c ? {value: h} : h
            }
        }, "binary/": function (a, b, c) {
            return function (d, e, f, g) {
                var h = a(d, e, f, g) / b(d, e, f, g);
                return c ? {value: h} : h
            }
        }, "binary%": function (a, b, c) {
            return function (d, e, f, g) {
                var h = a(d, e, f, g) % b(d, e, f, g);
                return c ? {value: h} : h
            }
        }, "binary===": function (a, b, c) {
            return function (d, e, f, g) {
                var h = a(d, e, f, g) === b(d, e, f, g);
                return c ? {value: h} : h
            }
        }, "binary!==": function (a, b, c) {
            return function (d, e, f, g) {
                var h = a(d, e, f, g) !== b(d, e, f, g);
                return c ? {value: h} : h
            }
        }, "binary==": function (a, b, c) {
            return function (d, e, f, g) {
                var h = a(d, e, f, g) == b(d, e, f, g);
                return c ? {value: h} : h
            }
        }, "binary!=": function (a, b, c) {
            return function (d, e, f, g) {
                var h = a(d, e, f, g) != b(d, e, f, g);
                return c ? {value: h} : h
            }
        }, "binary<": function (a, b, c) {
            return function (d, e, f, g) {
                var h = a(d, e, f, g) < b(d, e, f, g);
                return c ? {value: h} : h
            }
        }, "binary>": function (a, b, c) {
            return function (d, e, f, g) {
                var h = a(d, e, f, g) > b(d, e, f, g);
                return c ? {value: h} : h
            }
        }, "binary<=": function (a, b, c) {
            return function (d, e, f, g) {
                var h = a(d, e, f, g) <= b(d, e, f, g);
                return c ? {value: h} : h
            }
        }, "binary>=": function (a, b, c) {
            return function (d, e, f, g) {
                var h = a(d, e, f, g) >= b(d, e, f, g);
                return c ? {value: h} : h
            }
        }, "binary&&": function (a, b, c) {
            return function (d, e, f, g) {
                var h = a(d, e, f, g) && b(d, e, f, g);
                return c ? {value: h} : h
            }
        }, "binary||": function (a, b, c) {
            return function (d, e, f, g) {
                var h = a(d, e, f, g) || b(d, e, f, g);
                return c ? {value: h} : h
            }
        }, "ternary?:": function (a, b, c, d) {
            return function (e, f, g, h) {
                var i = a(e, f, g, h) ? b(e, f, g, h) : c(e, f, g, h);
                return d ? {value: i} : i
            }
        }, value: function (a, b) {
            return function () {
                return b ? {context: void 0, name: void 0, value: a} : a
            }
        }, identifier: function (a, b, c, d, e) {
            return function (f, g, h, i) {
                var j = g && a in g ? g : f;
                d && 1 !== d && j && !j[a] && (j[a] = {});
                var k = j ? j[a] : void 0;
                return b && cc(k, e), c ? {context: j, name: a, value: k} : k
            }
        }, computedMember: function (a, b, c, d, e) {
            return function (f, g, h, i) {
                var j, k, l = a(f, g, h, i);
                return null != l && (j = b(f, g, h, i), j = bc(j), ac(j, e), d && 1 !== d && (ec(l), l && !l[j] && (l[j] = {})), k = l[j], cc(k, e)), c ? {
                    context: l,
                    name: j,
                    value: k
                } : k
            }
        }, nonComputedMember: function (a, b, c, d, e, f) {
            return function (g, h, i, j) {
                var k = a(g, h, i, j);
                e && 1 !== e && (ec(k), k && !k[b] && (k[b] = {}));
                var l = null != k ? k[b] : void 0;
                return (c || qc(b)) && cc(l, f), d ? {context: k, name: b, value: l} : l
            }
        }, inputs: function (a, b) {
            return function (c, d, e, f) {
                return f ? f[b] : a(c, d, e)
            }
        }
    };
    var rf = function (a, b, c) {
        this.lexer = a, this.$filter = b, this.options = c, this.ast = new qf(a, c), this.astCompiler = c.csp ? new pc(this.ast, b) : new oc(this.ast, b)
    };
    rf.prototype = {
        constructor: rf, parse: function (a) {
            return this.astCompiler.compile(a, this.options.expensiveChecks)
        }
    };
    var sf = Object.prototype.valueOf, tf = b("$sce"), uf = {
        HTML: "html",
        CSS: "css",
        URL: "url",
        RESOURCE_URL: "resourceUrl",
        JS: "js"
    }, vf = b("$compile"), wf = a.document.createElement("a"), xf = Hc(a.location.href);
    Kc.$inject = ["$document"], Mc.$inject = ["$provide"];
    var yf = 22, zf = ".", Af = "0";
    Rc.$inject = ["$locale"], Sc.$inject = ["$locale"];
    var Bf = {
        yyyy: Xc("FullYear", 4, 0, !1, !0),
        yy: Xc("FullYear", 2, 0, !0, !0),
        y: Xc("FullYear", 1, 0, !1, !0),
        MMMM: Yc("Month"),
        MMM: Yc("Month", !0),
        MM: Xc("Month", 2, 1),
        M: Xc("Month", 1, 1),
        LLLL: Yc("Month", !1, !0),
        dd: Xc("Date", 2),
        d: Xc("Date", 1),
        HH: Xc("Hours", 2),
        H: Xc("Hours", 1),
        hh: Xc("Hours", 2, -12),
        h: Xc("Hours", 1, -12),
        mm: Xc("Minutes", 2),
        m: Xc("Minutes", 1),
        ss: Xc("Seconds", 2),
        s: Xc("Seconds", 1),
        sss: Xc("Milliseconds", 3),
        EEEE: Yc("Day"),
        EEE: Yc("Day", !0),
        a: bd,
        Z: Zc,
        ww: ad(2),
        w: ad(1),
        G: cd,
        GG: cd,
        GGG: cd,
        GGGG: dd
    }, Cf = /((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/, Df = /^\-?\d+$/;
    ed.$inject = ["$locale"];
    var Ef = p(Fd), Ff = p(Gd);
    hd.$inject = ["$parse"];
    var Gf = p({
        restrict: "E", compile: function (a, b) {
            if (!b.href && !b.xlinkHref)return function (a, b) {
                if ("a" === b[0].nodeName.toLowerCase()) {
                    var c = "[object SVGAnimatedString]" === Qd.call(b.prop("href")) ? "xlink:href" : "href";
                    b.on("click", function (a) {
                        b.attr(c) || a.preventDefault()
                    })
                }
            }
        }
    }), Hf = {};
    d(ze, function (a, b) {
        function c(a, c, e) {
            a.$watch(e[d], function (a) {
                e.$set(b, !!a)
            })
        }

        if ("multiple" != a) {
            var d = qb("ng-" + b), e = c;
            "checked" === a && (e = function (a, b, e) {
                e.ngModel !== e[d] && c(a, b, e)
            }), Hf[d] = function () {
                return {restrict: "A", priority: 100, link: e}
            }
        }
    }), d(Be, function (a, b) {
        Hf[b] = function () {
            return {
                priority: 100, link: function (a, c, d) {
                    if ("ngPattern" === b && "/" == d.ngPattern.charAt(0)) {
                        var e = d.ngPattern.match(Cd);
                        if (e)return void d.$set("ngPattern", new RegExp(e[1], e[2]))
                    }
                    a.$watch(d[b], function (a) {
                        d.$set(b, a)
                    })
                }
            }
        }
    }), d(["src", "srcset", "href"], function (a) {
        var b = qb("ng-" + a);
        Hf[b] = function () {
            return {
                priority: 99, link: function (c, d, e) {
                    var f = a, g = a;
                    "href" === a && "[object SVGAnimatedString]" === Qd.call(d.prop("href")) && (g = "xlinkHref", e.$attr[g] = "xlink:href", f = null), e.$observe(b, function (b) {
                        return b ? (e.$set(g, b), void(Jd && f && d.prop(f, e[g]))) : void("href" === a && e.$set(g, null))
                    })
                }
            }
        }
    });
    var If = {
        $addControl: n,
        $$renameControl: jd,
        $removeControl: n,
        $setValidity: n,
        $setDirty: n,
        $setPristine: n,
        $setSubmitted: n
    }, Jf = "ng-submitted";
    kd.$inject = ["$element", "$attrs", "$scope", "$animate", "$interpolate"];
    var Kf = function (a) {
        return ["$timeout", "$parse", function (b, c) {
            function d(a) {
                return "" === a ? c('this[""]').assign : c(a).assign || n
            }

            var e = {
                name: "form",
                restrict: a ? "EAC" : "E",
                require: ["form", "^^?form"],
                controller: kd,
                compile: function (c, e) {
                    c.addClass(sg).addClass(qg);
                    var f = e.name ? "name" : !(!a || !e.ngForm) && "ngForm";
                    return {
                        pre: function (a, c, e, g) {
                            var h = g[0];
                            if (!("action" in e)) {
                                var i = function (b) {
                                    a.$apply(function () {
                                        h.$commitViewValue(), h.$setSubmitted()
                                    }), b.preventDefault()
                                };
                                me(c[0], "submit", i), c.on("$destroy", function () {
                                    b(function () {
                                        ne(c[0], "submit", i)
                                    }, 0, !1)
                                })
                            }
                            var k = g[1] || h.$$parentForm;
                            k.$addControl(h);
                            var l = f ? d(h.$name) : n;
                            f && (l(a, h), e.$observe(f, function (b) {
                                h.$name !== b && (l(a, void 0), h.$$parentForm.$$renameControl(h, b), (l = d(h.$name))(a, h))
                            })), c.on("$destroy", function () {
                                h.$$parentForm.$removeControl(h), l(a, void 0), j(h, If)
                            })
                        }
                    }
                }
            };
            return e
        }]
    }, Lf = Kf(), Mf = Kf(!0), Nf = /^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/, Of = /^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i, Pf = /^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i, Qf = /^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/, Rf = /^(\d{4,})-(\d{2})-(\d{2})$/, Sf = /^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/, Tf = /^(\d{4,})-W(\d\d)$/, Uf = /^(\d{4,})-(\d\d)$/, Vf = /^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/, Wf = "keydown wheel mousedown", Xf = pa();
    d("date,datetime-local,month,time,week".split(","), function (a) {
        Xf[a] = !0
    });
    var Yf = {
        text: md,
        date: qd("date", Rf, pd(Rf, ["yyyy", "MM", "dd"]), "yyyy-MM-dd"),
        "datetime-local": qd("datetimelocal", Sf, pd(Sf, ["yyyy", "MM", "dd", "HH", "mm", "ss", "sss"]), "yyyy-MM-ddTHH:mm:ss.sss"),
        time: qd("time", Vf, pd(Vf, ["HH", "mm", "ss", "sss"]), "HH:mm:ss.sss"),
        week: qd("week", Tf, od, "yyyy-Www"),
        month: qd("month", Uf, pd(Uf, ["yyyy", "MM"]), "yyyy-MM"),
        number: sd,
        url: td,
        email: ud,
        radio: vd,
        checkbox: xd,
        hidden: n,
        button: n,
        submit: n,
        reset: n,
        file: n
    }, Zf = ["$browser", "$sniffer", "$filter", "$parse", function (a, b, c, d) {
        return {
            restrict: "E", require: ["?ngModel"], link: {
                pre: function (e, f, g, h) {
                    h[0] && (Yf[Fd(g.type)] || Yf.text)(e, f, g, h[0], b, a, c, d)
                }
            }
        }
    }], $f = /^(true|false|\d+)$/, _f = function () {
        return {
            restrict: "A", priority: 100, compile: function (a, b) {
                return $f.test(b.ngValue) ? function (a, b, c) {
                    c.$set("value", a.$eval(c.ngValue))
                } : function (a, b, c) {
                    a.$watch(c.ngValue, function (a) {
                        c.$set("value", a)
                    })
                }
            }
        }
    }, ag = ["$compile", function (a) {
        return {
            restrict: "AC", compile: function (b) {
                return a.$$addBindingClass(b), function (b, c, d) {
                    a.$$addBindingInfo(c, d.ngBind), c = c[0], b.$watch(d.ngBind, function (a) {
                        c.textContent = r(a) ? "" : a
                    })
                }
            }
        }
    }], bg = ["$interpolate", "$compile", function (a, b) {
        return {
            compile: function (c) {
                return b.$$addBindingClass(c), function (c, d, e) {
                    var f = a(d.attr(e.$attr.ngBindTemplate));
                    b.$$addBindingInfo(d, f.expressions), d = d[0], e.$observe("ngBindTemplate", function (a) {
                        d.textContent = r(a) ? "" : a
                    })
                }
            }
        }
    }], cg = ["$sce", "$parse", "$compile", function (a, b, c) {
        return {
            restrict: "A", compile: function (d, e) {
                var f = b(e.ngBindHtml), g = b(e.ngBindHtml, function (b) {
                    return a.valueOf(b)
                });
                return c.$$addBindingClass(d), function (b, d, e) {
                    c.$$addBindingInfo(d, e.ngBindHtml), b.$watch(g, function () {
                        var c = f(b);
                        d.html(a.getTrustedHtml(c) || "")
                    })
                }
            }
        }
    }], dg = p({
        restrict: "A", require: "ngModel", link: function (a, b, c, d) {
            d.$viewChangeListeners.push(function () {
                a.$eval(c.ngChange)
            })
        }
    }), eg = yd("", !0), fg = yd("Odd", 0), gg = yd("Even", 1), hg = id({
        compile: function (a, b) {
            b.$set("ngCloak", void 0), a.removeClass("ng-cloak")
        }
    }), ig = [function () {
        return {restrict: "A", scope: !0, controller: "@", priority: 500}
    }], jg = {}, kg = {blur: !0, focus: !0};
    d("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "), function (a) {
        var b = qb("ng-" + a);
        jg[b] = ["$parse", "$rootScope", function (c, d) {
            return {
                restrict: "A", compile: function (e, f) {
                    var g = c(f[b], null, !0);
                    return function (b, c) {
                        c.on(a, function (c) {
                            var e = function () {
                                g(b, {$event: c})
                            };
                            kg[a] && d.$$phase ? b.$evalAsync(e) : b.$apply(e)
                        })
                    }
                }
            }
        }]
    });
    var lg = ["$animate", "$compile", function (a, b) {
        return {
            multiElement: !0,
            transclude: "element",
            priority: 600,
            terminal: !0,
            restrict: "A",
            $$tlb: !0,
            link: function (c, d, e, f, g) {
                var h, i, j;
                c.$watch(e.ngIf, function (c) {
                    c ? i || g(function (c, f) {
                        i = f, c[c.length++] = b.$$createComment("end ngIf", e.ngIf), h = {clone: c}, a.enter(c, d.parent(), d)
                    }) : (j && (j.remove(), j = null), i && (i.$destroy(), i = null), h && (j = oa(h.clone), a.leave(j).then(function () {
                        j = null
                    }), h = null))
                })
            }
        }
    }], mg = ["$templateRequest", "$anchorScroll", "$animate", function (a, b, c) {
        return {
            restrict: "ECA",
            priority: 400,
            terminal: !0,
            transclude: "element",
            controller: Td.noop,
            compile: function (d, e) {
                var f = e.ngInclude || e.src, g = e.onload || "", h = e.autoscroll;
                return function (d, e, i, j, k) {
                    var l, m, n, o = 0, p = function () {
                        m && (m.remove(), m = null), l && (l.$destroy(), l = null), n && (c.leave(n).then(function () {
                            m = null
                        }), m = n, n = null)
                    };
                    d.$watch(f, function (f) {
                        var i = function () {
                            !s(h) || h && !d.$eval(h) || b()
                        }, m = ++o;
                        f ? (a(f, !0).then(function (a) {
                            if (!d.$$destroyed && m === o) {
                                var b = d.$new();
                                j.template = a;
                                var h = k(b, function (a) {
                                    p(), c.enter(a, null, e).then(i)
                                });
                                l = b, n = h, l.$emit("$includeContentLoaded", f), d.$eval(g)
                            }
                        }, function () {
                            d.$$destroyed || m === o && (p(), d.$emit("$includeContentError", f))
                        }), d.$emit("$includeContentRequested", f)) : (p(), j.template = null)
                    })
                }
            }
        }
    }], ng = ["$compile", function (b) {
        return {
            restrict: "ECA", priority: -400, require: "ngInclude", link: function (c, d, e, f) {
                return Qd.call(d[0]).match(/SVG/) ? (d.empty(), void b(Aa(f.template, a.document).childNodes)(c, function (a) {
                    d.append(a)
                }, {futureParentElement: d})) : (d.html(f.template), void b(d.contents())(c))
            }
        }
    }], og = id({
        priority: 450, compile: function () {
            return {
                pre: function (a, b, c) {
                    a.$eval(c.ngInit)
                }
            }
        }
    }), pg = function () {
        return {
            restrict: "A", priority: 100, require: "ngModel", link: function (a, b, c, e) {
                var f = b.attr(c.$attr.ngList) || ", ", g = "false" !== c.ngTrim, h = g ? Xd(f) : f, i = function (a) {
                    if (!r(a)) {
                        var b = [];
                        return a && d(a.split(h), function (a) {
                            a && b.push(g ? Xd(a) : a)
                        }), b
                    }
                };
                e.$parsers.push(i), e.$formatters.push(function (a) {
                    if (Vd(a))return a.join(f)
                }), e.$isEmpty = function (a) {
                    return !a || !a.length
                }
            }
        }
    }, qg = "ng-valid", rg = "ng-invalid", sg = "ng-pristine", tg = "ng-dirty", ug = "ng-untouched", vg = "ng-touched", wg = "ng-pending", xg = "ng-empty", yg = "ng-not-empty", zg = b("ngModel"), Ag = ["$scope", "$exceptionHandler", "$attrs", "$element", "$parse", "$animate", "$timeout", "$rootScope", "$q", "$interpolate", function (a, b, c, e, f, g, h, i, j, k) {
        this.$viewValue = Number.NaN, this.$modelValue = Number.NaN, this.$$rawModelValue = void 0, this.$validators = {}, this.$asyncValidators = {}, this.$parsers = [], this.$formatters = [], this.$viewChangeListeners = [], this.$untouched = !0, this.$touched = !1, this.$pristine = !0, this.$dirty = !1, this.$valid = !0, this.$invalid = !1, this.$error = {}, this.$$success = {}, this.$pending = void 0, this.$name = k(c.name || "", !1)(a), this.$$parentForm = If;
        var l, m = f(c.ngModel), o = m.assign, p = m, q = o, t = null, u = this;
        this.$$setOptions = function (a) {
            if (u.$options = a, a && a.getterSetter) {
                var b = f(c.ngModel + "()"), d = f(c.ngModel + "($$$p)");
                p = function (a) {
                    var c = m(a);
                    return y(c) && (c = b(a)), c
                }, q = function (a, b) {
                    y(m(a)) ? d(a, {$$$p: b}) : o(a, b)
                }
            } else if (!m.assign)throw zg("nonassign", "Expression '{0}' is non-assignable. Element: {1}", c.ngModel, Z(e))
        }, this.$render = n, this.$isEmpty = function (a) {
            return r(a) || "" === a || null === a || a !== a
        }, this.$$updateEmptyClasses = function (a) {
            u.$isEmpty(a) ? (g.removeClass(e, yg), g.addClass(e, xg)) : (g.removeClass(e, xg), g.addClass(e, yg))
        };
        var v = 0;
        zd({
            ctrl: this, $element: e, set: function (a, b) {
                a[b] = !0
            }, unset: function (a, b) {
                delete a[b]
            }, $animate: g
        }), this.$setPristine = function () {
            u.$dirty = !1, u.$pristine = !0, g.removeClass(e, tg), g.addClass(e, sg)
        }, this.$setDirty = function () {
            u.$dirty = !0, u.$pristine = !1, g.removeClass(e, sg), g.addClass(e, tg), u.$$parentForm.$setDirty()
        }, this.$setUntouched = function () {
            u.$touched = !1, u.$untouched = !0, g.setClass(e, ug, vg)
        }, this.$setTouched = function () {
            u.$touched = !0, u.$untouched = !1, g.setClass(e, vg, ug)
        }, this.$rollbackViewValue = function () {
            h.cancel(t), u.$viewValue = u.$$lastCommittedViewValue, u.$render()
        }, this.$validate = function () {
            if (!w(u.$modelValue) || !isNaN(u.$modelValue)) {
                var a = u.$$lastCommittedViewValue, b = u.$$rawModelValue, c = u.$valid, d = u.$modelValue, e = u.$options && u.$options.allowInvalid;
                u.$$runValidators(b, a, function (a) {
                    e || c === a || (u.$modelValue = a ? b : void 0, u.$modelValue !== d && u.$$writeModelToScope())
                })
            }
        }, this.$$runValidators = function (a, b, c) {
            function e() {
                var a = u.$$parserName || "parse";
                return r(l) ? (h(a, null), !0) : (l || (d(u.$validators, function (a, b) {
                    h(b, null)
                }), d(u.$asyncValidators, function (a, b) {
                    h(b, null)
                })), h(a, l), l)
            }

            function f() {
                var c = !0;
                return d(u.$validators, function (d, e) {
                    var f = d(a, b);
                    c = c && f, h(e, f)
                }), !!c || (d(u.$asyncValidators, function (a, b) {
                    h(b, null)
                }), !1)
            }

            function g() {
                var c = [], e = !0;
                d(u.$asyncValidators, function (d, f) {
                    var g = d(a, b);
                    if (!G(g))throw zg("nopromise", "Expected asynchronous validator to return a promise but got '{0}' instead.", g);
                    h(f, void 0), c.push(g.then(function () {
                        h(f, !0)
                    }, function () {
                        e = !1, h(f, !1)
                    }))
                }), c.length ? j.all(c).then(function () {
                    i(e)
                }, n) : i(!0)
            }

            function h(a, b) {
                k === v && u.$setValidity(a, b)
            }

            function i(a) {
                k === v && c(a)
            }

            v++;
            var k = v;
            return e() && f() ? void g() : void i(!1)
        }, this.$commitViewValue = function () {
            var a = u.$viewValue;
            h.cancel(t), (u.$$lastCommittedViewValue !== a || "" === a && u.$$hasNativeValidators) && (u.$$updateEmptyClasses(a), u.$$lastCommittedViewValue = a, u.$pristine && this.$setDirty(), this.$$parseAndValidate())
        }, this.$$parseAndValidate = function () {
            function b() {
                u.$modelValue !== f && u.$$writeModelToScope()
            }

            var c = u.$$lastCommittedViewValue, d = c;
            if (l = !r(d) || void 0)for (var e = 0; e < u.$parsers.length; e++)if (d = u.$parsers[e](d), r(d)) {
                l = !1;
                break
            }
            w(u.$modelValue) && isNaN(u.$modelValue) && (u.$modelValue = p(a));
            var f = u.$modelValue, g = u.$options && u.$options.allowInvalid;
            u.$$rawModelValue = d, g && (u.$modelValue = d, b()), u.$$runValidators(d, u.$$lastCommittedViewValue, function (a) {
                g || (u.$modelValue = a ? d : void 0, b())
            })
        }, this.$$writeModelToScope = function () {
            q(a, u.$modelValue), d(u.$viewChangeListeners, function (a) {
                try {
                    a()
                } catch (a) {
                    b(a)
                }
            })
        }, this.$setViewValue = function (a, b) {
            u.$viewValue = a, u.$options && !u.$options.updateOnDefault || u.$$debounceViewValueCommit(b)
        }, this.$$debounceViewValueCommit = function (b) {
            var c, d = 0, e = u.$options;
            e && s(e.debounce) && (c = e.debounce, w(c) ? d = c : w(c[b]) ? d = c[b] : w(c.default) && (d = c.default)), h.cancel(t), d ? t = h(function () {
                u.$commitViewValue()
            }, d) : i.$$phase ? u.$commitViewValue() : a.$apply(function () {
                u.$commitViewValue()
            })
        }, a.$watch(function () {
            var b = p(a);
            if (b !== u.$modelValue && (u.$modelValue === u.$modelValue || b === b)) {
                u.$modelValue = u.$$rawModelValue = b, l = void 0;
                for (var c = u.$formatters, d = c.length, e = b; d--;)e = c[d](e);
                u.$viewValue !== e && (u.$$updateEmptyClasses(e), u.$viewValue = u.$$lastCommittedViewValue = e, u.$render(), u.$$runValidators(b, e, n))
            }
            return b
        })
    }], Bg = ["$rootScope", function (a) {
        return {
            restrict: "A",
            require: ["ngModel", "^?form", "^?ngModelOptions"],
            controller: Ag,
            priority: 1,
            compile: function (b) {
                return b.addClass(sg).addClass(ug).addClass(qg), {
                    pre: function (a, b, c, d) {
                        var e = d[0], f = d[1] || e.$$parentForm;
                        e.$$setOptions(d[2] && d[2].$options), f.$addControl(e), c.$observe("name", function (a) {
                            e.$name !== a && e.$$parentForm.$$renameControl(e, a)
                        }), a.$on("$destroy", function () {
                            e.$$parentForm.$removeControl(e)
                        })
                    }, post: function (b, c, d, e) {
                        var f = e[0];
                        f.$options && f.$options.updateOn && c.on(f.$options.updateOn, function (a) {
                            f.$$debounceViewValueCommit(a && a.type)
                        }), c.on("blur", function () {
                            f.$touched || (a.$$phase ? b.$evalAsync(f.$setTouched) : b.$apply(f.$setTouched))
                        })
                    }
                }
            }
        }
    }], Cg = /(\s+|^)default(\s+|$)/, Dg = function () {
        return {
            restrict: "A", controller: ["$scope", "$attrs", function (a, b) {
                var c = this;
                this.$options = N(a.$eval(b.ngModelOptions)), s(this.$options.updateOn) ? (this.$options.updateOnDefault = !1, this.$options.updateOn = Xd(this.$options.updateOn.replace(Cg, function () {
                    return c.$options.updateOnDefault = !0, " "
                }))) : this.$options.updateOnDefault = !0
            }]
        }
    }, Eg = id({
        terminal: !0,
        priority: 1e3
    }), Fg = b("ngOptions"), Gg = /^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/, Hg = ["$compile", "$document", "$parse", function (b, e, f) {
        function g(a, b, d) {
            function e(a, b, c, d, e) {
                this.selectValue = a, this.viewValue = b, this.label = c, this.group = d, this.disabled = e
            }

            function g(a) {
                var b;
                if (!j && c(a))b = a; else {
                    b = [];
                    for (var d in a)a.hasOwnProperty(d) && "$" !== d.charAt(0) && b.push(d)
                }
                return b
            }

            var h = a.match(Gg);
            if (!h)throw Fg("iexp", "Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}", a, Z(b));
            var i = h[5] || h[7], j = h[6], k = / as /.test(h[0]) && h[1], l = h[9], m = f(h[2] ? h[1] : i), n = k && f(k), o = n || m, p = l && f(l), q = l ? function (a, b) {
                return p(d, b)
            } : function (a) {
                return Za(a)
            }, r = function (a, b) {
                return q(a, x(a, b))
            }, s = f(h[2] || h[1]), t = f(h[3] || ""), u = f(h[4] || ""), v = f(h[8]), w = {}, x = j ? function (a, b) {
                return w[j] = b, w[i] = a, w
            } : function (a) {
                return w[i] = a, w
            };
            return {
                trackBy: l, getTrackByValue: r, getWatchables: f(v, function (a) {
                    var b = [];
                    a = a || [];
                    for (var c = g(a), e = c.length, f = 0; f < e; f++) {
                        var i = a === c ? f : c[f], j = a[i], k = x(j, i), l = q(j, k);
                        if (b.push(l), h[2] || h[1]) {
                            var m = s(d, k);
                            b.push(m)
                        }
                        if (h[4]) {
                            var n = u(d, k);
                            b.push(n)
                        }
                    }
                    return b
                }), getOptions: function () {
                    for (var a = [], b = {}, c = v(d) || [], f = g(c), h = f.length, i = 0; i < h; i++) {
                        var j = c === f ? i : f[i], k = c[j], m = x(k, j), n = o(d, m), p = q(n, m), w = s(d, m), y = t(d, m), z = u(d, m), A = new e(p, n, w, y, z);
                        a.push(A), b[p] = A
                    }
                    return {
                        items: a, selectValueMap: b, getOptionFromViewValue: function (a) {
                            return b[r(a)]
                        }, getViewValueFromOption: function (a) {
                            return l ? Td.copy(a.viewValue) : a.viewValue
                        }
                    }
                }
            }
        }

        function h(a, c, f, h) {
            function k(a, b) {
                var c = i.cloneNode(!1);
                b.appendChild(c), l(a, c)
            }

            function l(a, b) {
                a.element = b, b.disabled = a.disabled, a.label !== b.label && (b.label = a.label, b.textContent = a.label), a.value !== b.value && (b.value = a.selectValue)
            }

            function m() {
                var a = x && o.readValue();
                if (x)for (var b = x.items.length - 1; b >= 0; b--) {
                    var d = x.items[b];
                    Ra(d.group ? d.element.parentNode : d.element)
                }
                x = y.getOptions();
                var e = {};
                if (v && c.prepend(n), x.items.forEach(function (a) {
                        var b;
                        s(a.group) ? (b = e[a.group], b || (b = j.cloneNode(!1), z.appendChild(b), b.label = a.group, e[a.group] = b), k(a, b)) : k(a, z)
                    }), c[0].appendChild(z), p.$render(), !p.$isEmpty(a)) {
                    var f = o.readValue(), g = y.trackBy || q;
                    (g ? P(a, f) : a === f) || (p.$setViewValue(f), p.$render())
                }
            }

            for (var n, o = h[0], p = h[1], q = f.multiple, r = 0, t = c.children(), u = t.length; r < u; r++)if ("" === t[r].value) {
                n = t.eq(r);
                break
            }
            var v = !!n, w = Kd(i.cloneNode(!1));
            w.val("?");
            var x, y = g(f.ngOptions, c, a), z = e[0].createDocumentFragment(), A = function () {
                v || c.prepend(n), c.val(""), n.prop("selected", !0), n.attr("selected", !0)
            }, B = function () {
                v || n.remove()
            }, C = function () {
                c.prepend(w), c.val("?"), w.prop("selected", !0), w.attr("selected", !0)
            }, D = function () {
                w.remove()
            };
            q ? (p.$isEmpty = function (a) {
                return !a || 0 === a.length
            }, o.writeValue = function (a) {
                x.items.forEach(function (a) {
                    a.element.selected = !1
                }), a && a.forEach(function (a) {
                    var b = x.getOptionFromViewValue(a);
                    b && (b.element.selected = !0)
                })
            }, o.readValue = function () {
                var a = c.val() || [], b = [];
                return d(a, function (a) {
                    var c = x.selectValueMap[a];
                    c && !c.disabled && b.push(x.getViewValueFromOption(c))
                }), b
            }, y.trackBy && a.$watchCollection(function () {
                if (Vd(p.$viewValue))return p.$viewValue.map(function (a) {
                    return y.getTrackByValue(a)
                })
            }, function () {
                p.$render()
            })) : (o.writeValue = function (a) {
                var b = x.getOptionFromViewValue(a);
                b ? (c[0].value !== b.selectValue && (D(), B(), c[0].value = b.selectValue, b.element.selected = !0), b.element.setAttribute("selected", "selected")) : null === a || v ? (D(), A()) : (B(), C())
            }, o.readValue = function () {
                var a = x.selectValueMap[c.val()];
                return a && !a.disabled ? (B(), D(), x.getViewValueFromOption(a)) : null
            }, y.trackBy && a.$watch(function () {
                return y.getTrackByValue(p.$viewValue)
            }, function () {
                p.$render()
            })), v ? (n.remove(), b(n)(a), n.removeClass("ng-scope")) : n = Kd(i.cloneNode(!1)), c.empty(), m(), a.$watchCollection(y.getWatchables, m)
        }

        var i = a.document.createElement("option"), j = a.document.createElement("optgroup");
        return {
            restrict: "A", terminal: !0, require: ["select", "ngModel"], link: {
                pre: function (a, b, c, d) {
                    d[0].registerOption = n
                }, post: h
            }
        }
    }], Ig = ["$locale", "$interpolate", "$log", function (a, b, c) {
        var e = /{}/g, f = /^when(Minus)?(.+)$/;
        return {
            link: function (g, h, i) {
                function j(a) {
                    h.text(a || "")
                }

                var k, l = i.count, m = i.$attr.when && h.attr(i.$attr.when), o = i.offset || 0, p = g.$eval(m) || {}, q = {}, s = b.startSymbol(), t = b.endSymbol(), u = s + l + "-" + o + t, v = Td.noop;
                d(i, function (a, b) {
                    var c = f.exec(b);
                    if (c) {
                        var d = (c[1] ? "-" : "") + Fd(c[2]);
                        p[d] = h.attr(i.$attr[b])
                    }
                }), d(p, function (a, c) {
                    q[c] = b(a.replace(e, u))
                }), g.$watch(l, function (b) {
                    var d = parseFloat(b), e = isNaN(d);
                    if (e || d in p || (d = a.pluralCat(d - o)), d !== k && !(e && w(k) && isNaN(k))) {
                        v();
                        var f = q[d];
                        r(f) ? (null != b && c.debug("ngPluralize: no rule defined for '" + d + "' in " + m), v = n, j()) : v = g.$watch(f, j), k = d
                    }
                })
            }
        }
    }], Jg = ["$parse", "$animate", "$compile", function (a, e, f) {
        var g = "$$NG_REMOVED", h = b("ngRepeat"), i = function (a, b, c, d, e, f, g) {
            a[c] = d, e && (a[e] = f), a.$index = b, a.$first = 0 === b, a.$last = b === g - 1, a.$middle = !(a.$first || a.$last), a.$odd = !(a.$even = 0 === (1 & b))
        }, j = function (a) {
            return a.clone[0]
        }, k = function (a) {
            return a.clone[a.clone.length - 1]
        };
        return {
            restrict: "A",
            multiElement: !0,
            transclude: "element",
            priority: 1e3,
            terminal: !0,
            $$tlb: !0,
            compile: function (b, l) {
                var m = l.ngRepeat, n = f.$$createComment("end ngRepeat", m), o = m.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);
                if (!o)throw h("iexp", "Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.", m);
                var p = o[1], q = o[2], r = o[3], s = o[4];
                if (o = p.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/), !o)throw h("iidexp", "'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.", p);
                var t = o[3] || o[1], u = o[2];
                if (r && (!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(r) || /^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(r)))throw h("badident", "alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.", r);
                var v, w, x, y, z = {$id: Za};
                return s ? v = a(s) : (x = function (a, b) {
                    return Za(b)
                }, y = function (a) {
                    return a
                }), function (a, b, f, l, o) {
                    v && (w = function (b, c, d) {
                        return u && (z[u] = b), z[t] = c, z.$index = d, v(a, z)
                    });
                    var p = pa();
                    a.$watchCollection(q, function (f) {
                        var l, q, s, v, z, A, B, C, D, E, F, G, H = b[0], I = pa();
                        if (r && (a[r] = f), c(f))D = f, C = w || x; else {
                            C = w || y, D = [];
                            for (var J in f)Ed.call(f, J) && "$" !== J.charAt(0) && D.push(J)
                        }
                        for (v = D.length, F = new Array(v), l = 0; l < v; l++)if (z = f === D ? l : D[l], A = f[z], B = C(z, A, l), p[B])E = p[B], delete p[B], I[B] = E, F[l] = E; else {
                            if (I[B])throw d(F, function (a) {
                                a && a.scope && (p[a.id] = a)
                            }), h("dupes", "Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}", m, B, A);
                            F[l] = {id: B, scope: void 0, clone: void 0}, I[B] = !0
                        }
                        for (var K in p) {
                            if (E = p[K], G = oa(E.clone), e.leave(G), G[0].parentNode)for (l = 0, q = G.length; l < q; l++)G[l][g] = !0;
                            E.scope.$destroy()
                        }
                        for (l = 0; l < v; l++)if (z = f === D ? l : D[l], A = f[z], E = F[l], E.scope) {
                            s = H;
                            do s = s.nextSibling; while (s && s[g]);
                            j(E) != s && e.move(oa(E.clone), null, H), H = k(E), i(E.scope, l, t, A, u, z, v)
                        } else o(function (a, b) {
                            E.scope = b;
                            var c = n.cloneNode(!1);
                            a[a.length++] = c, e.enter(a, null, H), H = c, E.clone = a, I[E.id] = E, i(E.scope, l, t, A, u, z, v)
                        });
                        p = I
                    })
                }
            }
        }
    }], Kg = "ng-hide", Lg = "ng-hide-animate", Mg = ["$animate", function (a) {
        return {
            restrict: "A", multiElement: !0, link: function (b, c, d) {
                b.$watch(d.ngShow, function (b) {
                    a[b ? "removeClass" : "addClass"](c, Kg, {tempClasses: Lg})
                })
            }
        }
    }], Ng = ["$animate", function (a) {
        return {
            restrict: "A", multiElement: !0, link: function (b, c, d) {
                b.$watch(d.ngHide, function (b) {
                    a[b ? "addClass" : "removeClass"](c, Kg, {tempClasses: Lg})
                })
            }
        }
    }], Og = id(function (a, b, c) {
        a.$watch(c.ngStyle, function (a, c) {
            c && a !== c && d(c, function (a, c) {
                b.css(c, "")
            }), a && b.css(a)
        }, !0)
    }), Pg = ["$animate", "$compile", function (a, b) {
        return {
            require: "ngSwitch", controller: ["$scope", function () {
                this.cases = {}
            }], link: function (c, e, f, g) {
                var h = f.ngSwitch || f.on, i = [], j = [], k = [], l = [], m = function (a, b) {
                    return function () {
                        a.splice(b, 1)
                    }
                };
                c.$watch(h, function (c) {
                    var e, f;
                    for (e = 0, f = k.length; e < f; ++e)a.cancel(k[e]);
                    for (k.length = 0, e = 0, f = l.length; e < f; ++e) {
                        var h = oa(j[e].clone);
                        l[e].$destroy();
                        var n = k[e] = a.leave(h);
                        n.then(m(k, e))
                    }
                    j.length = 0, l.length = 0, (i = g.cases["!" + c] || g.cases["?"]) && d(i, function (c) {
                        c.transclude(function (d, e) {
                            l.push(e);
                            var f = c.element;
                            d[d.length++] = b.$$createComment("end ngSwitchWhen");
                            var g = {clone: d};
                            j.push(g), a.enter(d, f.parent(), f)
                        })
                    })
                })
            }
        }
    }], Qg = id({
        transclude: "element",
        priority: 1200,
        require: "^ngSwitch",
        multiElement: !0,
        link: function (a, b, c, d, e) {
            d.cases["!" + c.ngSwitchWhen] = d.cases["!" + c.ngSwitchWhen] || [], d.cases["!" + c.ngSwitchWhen].push({
                transclude: e,
                element: b
            })
        }
    }), Rg = id({
        transclude: "element",
        priority: 1200,
        require: "^ngSwitch",
        multiElement: !0,
        link: function (a, b, c, d, e) {
            d.cases["?"] = d.cases["?"] || [], d.cases["?"].push({transclude: e, element: b})
        }
    }), Sg = b("ngTransclude"), Tg = id({
        restrict: "EAC", link: function (a, b, c, d, e) {
            function f(a) {
                a.length && (b.empty(), b.append(a))
            }

            if (c.ngTransclude === c.$attr.ngTransclude && (c.ngTransclude = ""), !e)throw Sg("orphan", "Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}", Z(b));
            var g = c.ngTransclude || c.ngTranscludeSlot;
            e(f, null, g)
        }
    }), Ug = ["$templateCache", function (a) {
        return {
            restrict: "E", terminal: !0, compile: function (b, c) {
                if ("text/ng-template" == c.type) {
                    var d = c.id, e = b[0].text;
                    a.put(d, e)
                }
            }
        }
    }], Vg = {$setViewValue: n, $render: n}, Wg = ["$element", "$scope", function (b, c) {
        var d = this, e = new $a;
        d.ngModelCtrl = Vg, d.unknownOption = Kd(a.document.createElement("option")), d.renderUnknownOption = function (a) {
            var c = "? " + Za(a) + " ?";
            d.unknownOption.val(c), b.prepend(d.unknownOption), b.val(c)
        }, c.$on("$destroy", function () {
            d.renderUnknownOption = n
        }), d.removeUnknownOption = function () {
            d.unknownOption.parent() && d.unknownOption.remove()
        }, d.readValue = function () {
            return d.removeUnknownOption(), b.val()
        }, d.writeValue = function (a) {
            d.hasOption(a) ? (d.removeUnknownOption(), b.val(a), "" === a && d.emptyOption.prop("selected", !0)) : null == a && d.emptyOption ? (d.removeUnknownOption(), b.val("")) : d.renderUnknownOption(a)
        }, d.addOption = function (a, b) {
            if (b[0].nodeType !== ge) {
                ma(a, '"option value"'), "" === a && (d.emptyOption = b);
                var c = e.get(a) || 0;
                e.put(a, c + 1), d.ngModelCtrl.$render(), Bd(b)
            }
        }, d.removeOption = function (a) {
            var b = e.get(a);
            b && (1 === b ? (e.remove(a), "" === a && (d.emptyOption = void 0)) : e.put(a, b - 1))
        }, d.hasOption = function (a) {
            return !!e.get(a)
        }, d.registerOption = function (a, b, c, e, f) {
            if (e) {
                var g;
                c.$observe("value", function (a) {
                    s(g) && d.removeOption(g), g = a, d.addOption(a, b)
                })
            } else f ? a.$watch(f, function (a, e) {
                c.$set("value", a), e !== a && d.removeOption(e), d.addOption(a, b)
            }) : d.addOption(c.value, b);
            b.on("$destroy", function () {
                d.removeOption(c.value), d.ngModelCtrl.$render()
            })
        }
    }], Xg = function () {
        function a(a, b, c, e) {
            var f = e[1];
            if (f) {
                var g = e[0];
                if (g.ngModelCtrl = f, b.on("change", function () {
                        a.$apply(function () {
                            f.$setViewValue(g.readValue())
                        })
                    }), c.multiple) {
                    g.readValue = function () {
                        var a = [];
                        return d(b.find("option"), function (b) {
                            b.selected && a.push(b.value)
                        }), a
                    }, g.writeValue = function (a) {
                        var c = new $a(a);
                        d(b.find("option"), function (a) {
                            a.selected = s(c.get(a.value))
                        })
                    };
                    var h, i = NaN;
                    a.$watch(function () {
                        i !== f.$viewValue || P(h, f.$viewValue) || (h = O(f.$viewValue), f.$render()), i = f.$viewValue
                    }), f.$isEmpty = function (a) {
                        return !a || 0 === a.length
                    }
                }
            }
        }

        function b(a, b, c, d) {
            var e = d[1];
            if (e) {
                var f = d[0];
                e.$render = function () {
                    f.writeValue(e.$viewValue)
                }
            }
        }

        return {restrict: "E", require: ["select", "?ngModel"], controller: Wg, priority: 1, link: {pre: a, post: b}}
    }, Yg = ["$interpolate", function (a) {
        return {
            restrict: "E", priority: 100, compile: function (b, c) {
                if (s(c.value))var d = a(c.value, !0); else {
                    var e = a(b.text(), !0);
                    e || c.$set("value", b.text())
                }
                return function (a, b, c) {
                    var f = "$selectController", g = b.parent(), h = g.data(f) || g.parent().data(f);
                    h && h.registerOption(a, b, c, d, e)
                }
            }
        }
    }], Zg = p({restrict: "E", terminal: !1}), $g = function () {
        return {
            restrict: "A", require: "?ngModel", link: function (a, b, c, d) {
                d && (c.required = !0, d.$validators.required = function (a, b) {
                    return !c.required || !d.$isEmpty(b)
                }, c.$observe("required", function () {
                    d.$validate()
                }))
            }
        }
    }, _g = function () {
        return {
            restrict: "A", require: "?ngModel", link: function (a, c, d, e) {
                if (e) {
                    var f, g = d.ngPattern || d.pattern;
                    d.$observe("pattern", function (a) {
                        if (v(a) && a.length > 0 && (a = new RegExp("^" + a + "$")), a && !a.test)throw b("ngPattern")("noregexp", "Expected {0} to be a RegExp but was {1}. Element: {2}", g, a, Z(c));
                        f = a || void 0, e.$validate()
                    }), e.$validators.pattern = function (a, b) {
                        return e.$isEmpty(b) || r(f) || f.test(b)
                    }
                }
            }
        }
    }, ah = function () {
        return {
            restrict: "A", require: "?ngModel", link: function (a, b, c, d) {
                if (d) {
                    var e = -1;
                    c.$observe("maxlength", function (a) {
                        var b = l(a);
                        e = isNaN(b) ? -1 : b, d.$validate()
                    }), d.$validators.maxlength = function (a, b) {
                        return e < 0 || d.$isEmpty(b) || b.length <= e
                    }
                }
            }
        }
    }, bh = function () {
        return {
            restrict: "A", require: "?ngModel", link: function (a, b, c, d) {
                if (d) {
                    var e = 0;
                    c.$observe("minlength", function (a) {
                        e = l(a) || 0, d.$validate()
                    }), d.$validators.minlength = function (a, b) {
                        return d.$isEmpty(b) || b.length >= e
                    }
                }
            }
        }
    };
    return a.angular.bootstrap ? void(a.console && console.log("WARNING: Tried to load angular more than once.")) : (ja(),
        ta(Td), Td.module("ngLocale", [], ["$provide", function (a) {
        function b(a) {
            a += "";
            var b = a.indexOf(".");
            return b == -1 ? 0 : a.length - b - 1
        }

        function c(a, c) {
            var d = c;
            void 0 === d && (d = Math.min(b(a), 3));
            var e = Math.pow(10, d), f = (a * e | 0) % e;
            return {v: d, f: f}
        }

        var d = {ZERO: "zero", ONE: "one", TWO: "two", FEW: "few", MANY: "many", OTHER: "other"};
        a.value("$locale", {
            DATETIME_FORMATS: {
                AMPMS: ["AM", "PM"],
                DAY: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
                ERANAMES: ["Before Christ", "Anno Domini"],
                ERAS: ["BC", "AD"],
                FIRSTDAYOFWEEK: 6,
                MONTH: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
                SHORTDAY: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
                SHORTMONTH: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
                STANDALONEMONTH: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
                WEEKENDRANGE: [5, 6],
                fullDate: "EEEE, MMMM d, y",
                longDate: "MMMM d, y",
                medium: "MMM d, y h:mm:ss a",
                mediumDate: "MMM d, y",
                mediumTime: "h:mm:ss a",
                short: "M/d/yy h:mm a",
                shortDate: "M/d/yy",
                shortTime: "h:mm a"
            },
            NUMBER_FORMATS: {
                CURRENCY_SYM: "$",
                DECIMAL_SEP: ".",
                GROUP_SEP: ",",
                PATTERNS: [{
                    gSize: 3,
                    lgSize: 3,
                    maxFrac: 3,
                    minFrac: 0,
                    minInt: 1,
                    negPre: "-",
                    negSuf: "",
                    posPre: "",
                    posSuf: ""
                }, {
                    gSize: 3,
                    lgSize: 3,
                    maxFrac: 2,
                    minFrac: 2,
                    minInt: 1,
                    negPre: "-",
                    negSuf: "",
                    posPre: "",
                    posSuf: ""
                }]
            },
            id: "en-us",
            localeID: "en_US",
            pluralCat: function (a, b) {
                var e = 0 | a, f = c(a, b);
                return 1 == e && 0 == f.v ? d.ONE : d.OTHER
            }
        })
    }]), void Kd(a.document).ready(function () {
        ea(a.document, fa)
    }))
}(window), !window.angular.$$csp().noInlineStyle && window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'), function (a, b) {
    "function" == typeof define && define.amd ? define([], function () {
        return b()
    }) : "object" == typeof exports ? module.exports = b() : b()
}(this, function () {
    function a(a) {
        "use strict";
        var b = a.storageKey(), c = a.storage(), d = function () {
            var d = a.preferredLanguage();
            angular.isString(d) ? a.use(d) : c.put(b, a.use())
        };
        d.displayName = "fallbackFromIncorrectStorageValue", c ? c.get(b) ? a.use(c.get(b)).catch(d) : d() : angular.isString(a.preferredLanguage()) && a.use(a.preferredLanguage())
    }

    function b() {
        "use strict";
        var a, b, c = null, d = !1, e = !1;
        b = {
            sanitize: function (a, b) {
                return "text" === b && (a = g(a)), a
            }, escape: function (a, b) {
                return "text" === b && (a = f(a)), a
            }, sanitizeParameters: function (a, b) {
                return "params" === b && (a = h(a, g)), a
            }, escapeParameters: function (a, b) {
                return "params" === b && (a = h(a, f)), a
            }
        }, b.escaped = b.escapeParameters, this.addStrategy = function (a, c) {
            return b[a] = c, this
        }, this.removeStrategy = function (a) {
            return delete b[a], this
        }, this.useStrategy = function (a) {
            return d = !0, c = a, this
        }, this.$get = ["$injector", "$log", function (f, g) {
            var h = {}, i = function (a, c, d) {
                return angular.forEach(d, function (d) {
                    if (angular.isFunction(d))a = d(a, c); else if (angular.isFunction(b[d]))a = b[d](a, c); else {
                        if (!angular.isString(b[d]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '" + d + "'");
                        if (!h[b[d]])try {
                            h[b[d]] = f.get(b[d])
                        } catch (a) {
                            throw h[b[d]] = function () {
                            }, new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '" + d + "'")
                        }
                        a = h[b[d]](a, c)
                    }
                }), a
            }, j = function () {
                d || e || (g.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."), e = !0)
            };
            return f.has("$sanitize") && (a = f.get("$sanitize")), {
                useStrategy: function (a) {
                    return function (b) {
                        a.useStrategy(b)
                    }
                }(this), sanitize: function (a, b, d) {
                    if (c || j(), arguments.length < 3 && (d = c), !d)return a;
                    var e = angular.isArray(d) ? d : [d];
                    return i(a, b, e)
                }
            }
        }];
        var f = function (a) {
            var b = angular.element("<div></div>");
            return b.text(a), b.html()
        }, g = function (b) {
            if (!a)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");
            return a(b)
        }, h = function (a, b, c) {
            if (angular.isObject(a)) {
                var d = angular.isArray(a) ? [] : {};
                if (c) {
                    if (c.indexOf(a) > -1)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot interpolate parameter due recursive object")
                } else c = [];
                return c.push(a), angular.forEach(a, function (a, e) {
                    d[e] = h(a, b, c)
                }), c.splice(-1, 1), d
            }
            return angular.isNumber(a) ? a : b(a)
        }
    }

    function c(a, b, c, d) {
        "use strict";
        var e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u = {}, v = [], w = a, x = [], y = "translate-cloak", z = !1, A = !1, B = ".", C = !1, D = 0, E = !0, F = "default", G = {
            default: function (a) {
                return (a || "").split("-").join("_")
            }, java: function (a) {
                var b = (a || "").split("-").join("_"), c = b.split("_");
                return c.length > 1 ? c[0].toLowerCase() + "_" + c[1].toUpperCase() : b
            }, bcp47: function (a) {
                var b = (a || "").split("_").join("-"), c = b.split("-");
                return c.length > 1 ? c[0].toLowerCase() + "-" + c[1].toUpperCase() : b
            }, "iso639-1": function (a) {
                var b = (a || "").split("_").join("-"), c = b.split("-");
                return c[0].toLowerCase()
            }
        }, H = "2.11.0", I = function () {
            if (angular.isFunction(d.getLocale))return d.getLocale();
            var a, c, e = b.$get().navigator, f = ["language", "browserLanguage", "systemLanguage", "userLanguage"];
            if (angular.isArray(e.languages))for (a = 0; a < e.languages.length; a++)if (c = e.languages[a], c && c.length)return c;
            for (a = 0; a < f.length; a++)if (c = e[f[a]], c && c.length)return c;
            return null
        };
        I.displayName = "angular-translate/service: getFirstBrowserLanguage";
        var J = function () {
            var a = I() || "";
            return G[F] && (a = G[F](a)), a
        };
        J.displayName = "angular-translate/service: getLocale";
        var K = function (a, b) {
            for (var c = 0, d = a.length; c < d; c++)if (a[c] === b)return c;
            return -1
        }, L = function () {
            return this.toString().replace(/^\s+|\s+$/g, "")
        }, M = function (a) {
            if (a) {
                for (var b = [], c = angular.lowercase(a), d = 0, e = v.length; d < e; d++)b.push(angular.lowercase(v[d]));
                if (K(b, c) > -1)return a;
                if (f) {
                    var g;
                    for (var h in f)if (f.hasOwnProperty(h)) {
                        var i = !1, j = Object.prototype.hasOwnProperty.call(f, h) && angular.lowercase(h) === angular.lowercase(a);
                        if ("*" === h.slice(-1) && (i = h.slice(0, -1) === a.slice(0, h.length - 1)), (j || i) && (g = f[h], K(b, angular.lowercase(g)) > -1))return g
                    }
                }
                var k = a.split("_");
                return k.length > 1 && K(b, angular.lowercase(k[0])) > -1 ? k[0] : void 0
            }
        }, N = function (a, b) {
            if (!a && !b)return u;
            if (a && !b) {
                if (angular.isString(a))return u[a]
            } else angular.isObject(u[a]) || (u[a] = {}), angular.extend(u[a], O(b));
            return this
        };
        this.translations = N, this.cloakClassName = function (a) {
            return a ? (y = a, this) : y
        }, this.nestedObjectDelimeter = function (a) {
            return a ? (B = a, this) : B
        };
        var O = function (a, b, c, d) {
            var e, f, g, h;
            b || (b = []), c || (c = {});
            for (e in a)Object.prototype.hasOwnProperty.call(a, e) && (h = a[e], angular.isObject(h) ? O(h, b.concat(e), c, e) : (f = b.length ? "" + b.join(B) + B + e : e, b.length && e === d && (g = "" + b.join(B), c[g] = "@:" + f), c[f] = h));
            return c
        };
        O.displayName = "flatObject", this.addInterpolation = function (a) {
            return x.push(a), this
        }, this.useMessageFormatInterpolation = function () {
            return this.useInterpolation("$translateMessageFormatInterpolation")
        }, this.useInterpolation = function (a) {
            return n = a, this
        }, this.useSanitizeValueStrategy = function (a) {
            return c.useStrategy(a), this
        }, this.preferredLanguage = function (a) {
            return a ? (P(a), this) : e
        };
        var P = function (a) {
            return a && (e = a), e
        };
        this.translationNotFoundIndicator = function (a) {
            return this.translationNotFoundIndicatorLeft(a), this.translationNotFoundIndicatorRight(a), this
        }, this.translationNotFoundIndicatorLeft = function (a) {
            return a ? (q = a, this) : q
        }, this.translationNotFoundIndicatorRight = function (a) {
            return a ? (r = a, this) : r
        }, this.fallbackLanguage = function (a) {
            return Q(a), this
        };
        var Q = function (a) {
            return a ? (angular.isString(a) ? (h = !0, g = [a]) : angular.isArray(a) && (h = !1, g = a), angular.isString(e) && K(g, e) < 0 && g.push(e), this) : h ? g[0] : g
        };
        this.use = function (a) {
            if (a) {
                if (!u[a] && !o)throw new Error("$translateProvider couldn't find translationTable for langKey: '" + a + "'");
                return i = a, this
            }
            return i
        }, this.resolveClientLocale = function () {
            return J()
        };
        var R = function (a) {
            return a ? (w = a, this) : l ? l + w : w
        };
        this.storageKey = R, this.useUrlLoader = function (a, b) {
            return this.useLoader("$translateUrlLoader", angular.extend({url: a}, b))
        }, this.useStaticFilesLoader = function (a) {
            return this.useLoader("$translateStaticFilesLoader", a)
        }, this.useLoader = function (a, b) {
            return o = a, p = b || {}, this
        }, this.useLocalStorage = function () {
            return this.useStorage("$translateLocalStorage")
        }, this.useCookieStorage = function () {
            return this.useStorage("$translateCookieStorage")
        }, this.useStorage = function (a) {
            return k = a, this
        }, this.storagePrefix = function (a) {
            return a ? (l = a, this) : a
        }, this.useMissingTranslationHandlerLog = function () {
            return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")
        }, this.useMissingTranslationHandler = function (a) {
            return m = a, this
        }, this.usePostCompiling = function (a) {
            return z = !!a, this
        }, this.forceAsyncReload = function (a) {
            return A = !!a, this
        }, this.uniformLanguageTag = function (a) {
            return a ? angular.isString(a) && (a = {standard: a}) : a = {}, F = a.standard, this
        }, this.determinePreferredLanguage = function (a) {
            var b = a && angular.isFunction(a) ? a() : J();
            return e = v.length ? M(b) || b : b, this
        }, this.registerAvailableLanguageKeys = function (a, b) {
            return a ? (v = a, b && (f = b), this) : v
        }, this.useLoaderCache = function (a) {
            return a === !1 ? s = void 0 : a === !0 ? s = !0 : "undefined" == typeof a ? s = "$translationCache" : a && (s = a), this
        }, this.directivePriority = function (a) {
            return void 0 === a ? D : (D = a, this)
        }, this.statefulFilter = function (a) {
            return void 0 === a ? E : (E = a, this)
        }, this.postProcess = function (a) {
            return t = a ? a : void 0, this
        }, this.$get = ["$log", "$injector", "$rootScope", "$q", function (a, b, c, d) {
            var f, l, F, G = b.get(n || "$translateDefaultInterpolation"), I = !1, S = {}, T = {}, U = function (a, b, c, h, j) {
                !i && e && (i = e);
                var m = j && j !== i ? M(j) || j : i;
                if (j && ja(j), angular.isArray(a)) {
                    var n = function (a) {
                        for (var e = {}, f = [], g = function (a) {
                            var f = d.defer(), g = function (b) {
                                e[a] = b, f.resolve([a, b])
                            };
                            return U(a, b, c, h, j).then(g, g), f.promise
                        }, i = 0, k = a.length; i < k; i++)f.push(g(a[i]));
                        return d.all(f).then(function () {
                            return e
                        })
                    };
                    return n(a)
                }
                var o = d.defer();
                a && (a = L.apply(a));
                var p = function () {
                    var a = e ? T[e] : T[m];
                    if (l = 0, k && !a) {
                        var b = f.get(w);
                        if (a = T[b], g && g.length) {
                            var c = K(g, b);
                            l = 0 === c ? 1 : 0, K(g, e) < 0 && g.push(e)
                        }
                    }
                    return a
                }();
                if (p) {
                    var q = function () {
                        j || (m = i), fa(a, b, c, h, m).then(o.resolve, o.reject)
                    };
                    q.displayName = "promiseResolved", p.finally(q)
                } else fa(a, b, c, h, m).then(o.resolve, o.reject);
                return o.promise
            }, V = function (a) {
                return q && (a = [q, a].join(" ")), r && (a = [a, r].join(" ")), a
            }, W = function (a) {
                i = a, k && f.put(U.storageKey(), i), c.$emit("$translateChangeSuccess", {language: a}), G.setLocale(i);
                var b = function (a, b) {
                    S[b].setLocale(i)
                };
                b.displayName = "eachInterpolatorLocaleSetter", angular.forEach(S, b), c.$emit("$translateChangeEnd", {language: a})
            }, X = function (a) {
                if (!a)throw"No language key specified for loading.";
                var e = d.defer();
                c.$emit("$translateLoadingStart", {language: a}), I = !0;
                var f = s;
                "string" == typeof f && (f = b.get(f));
                var g = angular.extend({}, p, {
                    key: a,
                    $http: angular.extend({}, {cache: f}, p.$http)
                }), h = function (b) {
                    var d = {};
                    c.$emit("$translateLoadingSuccess", {language: a}), angular.isArray(b) ? angular.forEach(b, function (a) {
                        angular.extend(d, O(a))
                    }) : angular.extend(d, O(b)), I = !1, e.resolve({
                        key: a,
                        table: d
                    }), c.$emit("$translateLoadingEnd", {language: a})
                };
                h.displayName = "onLoaderSuccess";
                var i = function (a) {
                    c.$emit("$translateLoadingError", {language: a}), e.reject(a), c.$emit("$translateLoadingEnd", {language: a})
                };
                return i.displayName = "onLoaderError", b.get(o)(g).then(h, i), e.promise
            };
            if (k && (f = b.get(k), !f.get || !f.put))throw new Error("Couldn't use storage '" + k + "', missing get() or put() method!");
            if (x.length) {
                var Y = function (a) {
                    var c = b.get(a);
                    c.setLocale(e || i), S[c.getInterpolationIdentifier()] = c
                };
                Y.displayName = "interpolationFactoryAdder", angular.forEach(x, Y)
            }
            var Z = function (a) {
                var b = d.defer();
                if (Object.prototype.hasOwnProperty.call(u, a))b.resolve(u[a]); else if (T[a]) {
                    var c = function (a) {
                        N(a.key, a.table), b.resolve(a.table)
                    };
                    c.displayName = "translationTableResolver", T[a].then(c, b.reject)
                } else b.reject();
                return b.promise
            }, $ = function (a, b, c, e) {
                var f = d.defer(), g = function (d) {
                    if (Object.prototype.hasOwnProperty.call(d, b)) {
                        e.setLocale(a);
                        var g = d[b];
                        if ("@:" === g.substr(0, 2))$(a, g.substr(2), c, e).then(f.resolve, f.reject); else {
                            var h = e.interpolate(d[b], c);
                            h = ia(b, d[b], h, c, a), f.resolve(h)
                        }
                        e.setLocale(i)
                    } else f.reject()
                };
                return g.displayName = "fallbackTranslationResolver", Z(a).then(g, f.reject), f.promise
            }, _ = function (a, b, c, d) {
                var e, f = u[a];
                if (f && Object.prototype.hasOwnProperty.call(f, b)) {
                    if (d.setLocale(a), e = d.interpolate(f[b], c), "@:" === e.substr(0, 2))return _(a, e.substr(2), c, d);
                    d.setLocale(i)
                }
                return e
            }, aa = function (a, c, d) {
                if (m) {
                    var e = b.get(m)(a, i, c, d);
                    return void 0 !== e ? e : a
                }
                return a
            }, ba = function (a, b, c, e, f) {
                var h = d.defer();
                if (a < g.length) {
                    var i = g[a];
                    $(i, b, c, e).then(function (a) {
                        h.resolve(a)
                    }, function () {
                        return ba(a + 1, b, c, e, f).then(h.resolve, h.reject)
                    })
                } else f ? h.resolve(f) : m ? h.resolve(aa(b, c)) : h.reject(aa(b, c));
                return h.promise
            }, ca = function (a, b, c, d) {
                var e;
                if (a < g.length) {
                    var f = g[a];
                    e = _(f, b, c, d), e || (e = ca(a + 1, b, c, d))
                }
                return e
            }, da = function (a, b, c, d) {
                return ba(F > 0 ? F : l, a, b, c, d)
            }, ea = function (a, b, c) {
                return ca(F > 0 ? F : l, a, b, c)
            }, fa = function (a, b, c, e, f) {
                var h = d.defer(), i = f ? u[f] : u, j = c ? S[c] : G;
                if (i && Object.prototype.hasOwnProperty.call(i, a)) {
                    var k = i[a];
                    if ("@:" === k.substr(0, 2))U(k.substr(2), b, c, e, f).then(h.resolve, h.reject); else {
                        var l = j.interpolate(k, b);
                        l = ia(a, k, l, b, f), h.resolve(l)
                    }
                } else {
                    var n;
                    m && !I && (n = aa(a, b, e)), f && g && g.length ? da(a, b, j, e).then(function (a) {
                        h.resolve(a)
                    }, function (a) {
                        h.reject(V(a))
                    }) : m && !I && n ? e ? h.resolve(e) : h.resolve(n) : e ? h.resolve(e) : h.reject(V(a))
                }
                return h.promise
            }, ga = function (a, b, c, d) {
                var e, f = d ? u[d] : u, h = G;
                if (S && Object.prototype.hasOwnProperty.call(S, c) && (h = S[c]), f && Object.prototype.hasOwnProperty.call(f, a)) {
                    var i = f[a];
                    e = "@:" === i.substr(0, 2) ? ga(i.substr(2), b, c, d) : h.interpolate(i, b)
                } else {
                    var j;
                    m && !I && (j = aa(a, b)), d && g && g.length ? (l = 0, e = ea(a, b, h)) : e = m && !I && j ? j : V(a)
                }
                return e
            }, ha = function (a) {
                j === a && (j = void 0), T[a] = void 0
            }, ia = function (a, c, d, e, f) {
                var g = t;
                return g && ("string" == typeof g && (g = b.get(g)), g) ? g(a, c, d, e, f) : d
            }, ja = function (a) {
                u[a] || !o || T[a] || (T[a] = X(a).then(function (a) {
                    N(a.key, a.table)
                }))
            };
            U.preferredLanguage = function (a) {
                return a && P(a), e
            }, U.cloakClassName = function () {
                return y
            }, U.nestedObjectDelimeter = function () {
                return B
            }, U.fallbackLanguage = function (a) {
                if (void 0 !== a && null !== a) {
                    if (Q(a), o && g && g.length)for (var b = 0, c = g.length; b < c; b++)T[g[b]] || (T[g[b]] = X(g[b]));
                    U.use(U.use())
                }
                return h ? g[0] : g
            }, U.useFallbackLanguage = function (a) {
                if (void 0 !== a && null !== a)if (a) {
                    var b = K(g, a);
                    b > -1 && (F = b)
                } else F = 0
            }, U.proposedLanguage = function () {
                return j
            }, U.storage = function () {
                return f
            }, U.negotiateLocale = M, U.use = function (a) {
                if (!a)return i;
                var b = d.defer();
                c.$emit("$translateChangeStart", {language: a});
                var e = M(a);
                return v.length > 0 && !e ? d.reject(a) : (e && (a = e), j = a, !A && u[a] || !o || T[a] ? T[a] ? T[a].then(function (a) {
                    return j === a.key && W(a.key), b.resolve(a.key), a
                }, function (a) {
                    return !i && g && g.length > 0 ? U.use(g[0]).then(b.resolve, b.reject) : b.reject(a)
                }) : (b.resolve(a), W(a)) : (T[a] = X(a).then(function (c) {
                    return N(c.key, c.table), b.resolve(c.key), j === a && W(c.key), c
                }, function (a) {
                    return c.$emit("$translateChangeError", {language: a}), b.reject(a), c.$emit("$translateChangeEnd", {language: a}), d.reject(a)
                }), T[a].finally(function () {
                    ha(a)
                })), b.promise)
            }, U.resolveClientLocale = function () {
                return J()
            }, U.storageKey = function () {
                return R()
            }, U.isPostCompilingEnabled = function () {
                return z
            }, U.isForceAsyncReloadEnabled = function () {
                return A
            }, U.refresh = function (a) {
                function b() {
                    f.resolve(), c.$emit("$translateRefreshEnd", {language: a})
                }

                function e() {
                    f.reject(), c.$emit("$translateRefreshEnd", {language: a})
                }

                if (!o)throw new Error("Couldn't refresh translation table, no loader registered!");
                var f = d.defer();
                if (c.$emit("$translateRefreshStart", {language: a}), a)if (u[a]) {
                    var h = function (c) {
                        N(c.key, c.table), a === i && W(i), b()
                    };
                    h.displayName = "refreshPostProcessor", X(a).then(h, e)
                } else e(); else {
                    var j = [], k = {};
                    if (g && g.length)for (var l = 0, m = g.length; l < m; l++)j.push(X(g[l])), k[g[l]] = !0;
                    i && !k[i] && j.push(X(i));
                    var n = function (a) {
                        u = {}, angular.forEach(a, function (a) {
                            N(a.key, a.table)
                        }), i && W(i), b()
                    };
                    n.displayName = "refreshPostProcessor", d.all(j).then(n, e)
                }
                return f.promise
            }, U.instant = function (a, b, c, d) {
                var f = d && d !== i ? M(d) || d : i;
                if (null === a || angular.isUndefined(a))return a;
                if (d && ja(d), angular.isArray(a)) {
                    for (var h = {}, j = 0, k = a.length; j < k; j++)h[a[j]] = U.instant(a[j], b, c, d);
                    return h
                }
                if (angular.isString(a) && a.length < 1)return a;
                a && (a = L.apply(a));
                var l, n = [];
                e && n.push(e), f && n.push(f), g && g.length && (n = n.concat(g));
                for (var o = 0, p = n.length; o < p; o++) {
                    var s = n[o];
                    if (u[s] && "undefined" != typeof u[s][a] && (l = ga(a, b, c, f)), "undefined" != typeof l)break
                }
                return l || "" === l || (q || r ? l = V(a) : (l = G.interpolate(a, b), m && !I && (l = aa(a, b)))), l
            }, U.versionInfo = function () {
                return H
            }, U.loaderCache = function () {
                return s
            }, U.directivePriority = function () {
                return D
            }, U.statefulFilter = function () {
                return E
            }, U.isReady = function () {
                return C
            };
            var ka = d.defer();
            ka.promise.then(function () {
                C = !0
            }), U.onReady = function (a) {
                var b = d.defer();
                return angular.isFunction(a) && b.promise.then(a), C ? b.resolve() : ka.promise.then(b.resolve), b.promise
            }, U.getAvailableLanguageKeys = function () {
                return v.length > 0 ? v : null
            };
            var la = c.$on("$translateReady", function () {
                ka.resolve(), la(), la = null
            }), ma = c.$on("$translateChangeEnd", function () {
                ka.resolve(), ma(), ma = null
            });
            if (o) {
                if (angular.equals(u, {}) && U.use() && U.use(U.use()), g && g.length)for (var na = function (a) {
                    return N(a.key, a.table), c.$emit("$translateChangeEnd", {language: a.key}), a
                }, oa = 0, pa = g.length; oa < pa; oa++) {
                    var qa = g[oa];
                    !A && u[qa] || (T[qa] = X(qa).then(na))
                }
            } else c.$emit("$translateReady", {language: U.use()});
            return U
        }]
    }

    function d(a, b) {
        "use strict";
        var c, d = {}, e = "default";
        return d.setLocale = function (a) {
            c = a
        }, d.getInterpolationIdentifier = function () {
            return e
        }, d.useSanitizeValueStrategy = function (a) {
            return b.useStrategy(a), this
        }, d.interpolate = function (c, d) {
            d = d || {}, d = b.sanitize(d, "params");
            var e = a(c)(d);
            return e = b.sanitize(e, "text")
        }, d
    }

    function e(a, b, c, d, e, g) {
        "use strict";
        var h = function () {
            return this.toString().replace(/^\s+|\s+$/g, "")
        };
        return {
            restrict: "AE", scope: !0, priority: a.directivePriority(), compile: function (b, i) {
                var j = i.translateValues ? i.translateValues : void 0, k = i.translateInterpolation ? i.translateInterpolation : void 0, l = b[0].outerHTML.match(/translate-value-+/i), m = "^(.*)(" + c.startSymbol() + ".*" + c.endSymbol() + ")(.*)", n = "^(.*)" + c.startSymbol() + "(.*)" + c.endSymbol() + "(.*)";
                return function (b, o, p) {
                    b.interpolateParams = {}, b.preText = "", b.postText = "", b.translateNamespace = f(b);
                    var q = {}, r = function (a, c, d) {
                        if (c.translateValues && angular.extend(a, e(c.translateValues)(b.$parent)), l)for (var f in d)if (Object.prototype.hasOwnProperty.call(c, f) && "translateValue" === f.substr(0, 14) && "translateValues" !== f) {
                            var g = angular.lowercase(f.substr(14, 1)) + f.substr(15);
                            a[g] = d[f]
                        }
                    }, s = function (a) {
                        if (angular.isFunction(s._unwatchOld) && (s._unwatchOld(), s._unwatchOld = void 0), angular.equals(a, "") || !angular.isDefined(a)) {
                            var d = h.apply(o.text()), e = d.match(m);
                            if (angular.isArray(e)) {
                                b.preText = e[1], b.postText = e[3], q.translate = c(e[2])(b.$parent);
                                var f = d.match(n);
                                angular.isArray(f) && f[2] && f[2].length && (s._unwatchOld = b.$watch(f[2], function (a) {
                                    q.translate = a, y()
                                }))
                            } else q.translate = d ? d : void 0
                        } else q.translate = a;
                        y()
                    }, t = function (a) {
                        p.$observe(a, function (b) {
                            q[a] = b, y()
                        })
                    };
                    r(b.interpolateParams, p, i);
                    var u = !0;
                    p.$observe("translate", function (a) {
                        "undefined" == typeof a ? s("") : "" === a && u || (q.translate = a, y()), u = !1
                    });
                    for (var v in p)p.hasOwnProperty(v) && "translateAttr" === v.substr(0, 13) && t(v);
                    if (p.$observe("translateDefault", function (a) {
                            b.defaultText = a, y()
                        }), j && p.$observe("translateValues", function (a) {
                            a && b.$parent.$watch(function () {
                                angular.extend(b.interpolateParams, e(a)(b.$parent))
                            })
                        }), l) {
                        var w = function (a) {
                            p.$observe(a, function (c) {
                                var d = angular.lowercase(a.substr(14, 1)) + a.substr(15);
                                b.interpolateParams[d] = c
                            })
                        };
                        for (var x in p)Object.prototype.hasOwnProperty.call(p, x) && "translateValue" === x.substr(0, 14) && "translateValues" !== x && w(x)
                    }
                    var y = function () {
                        for (var a in q)q.hasOwnProperty(a) && void 0 !== q[a] && z(a, q[a], b, b.interpolateParams, b.defaultText, b.translateNamespace)
                    }, z = function (b, c, d, e, f, g) {
                        c ? (g && "." === c.charAt(0) && (c = g + c), a(c, e, k, f, d.translateLanguage).then(function (a) {
                            A(a, d, !0, b)
                        }, function (a) {
                            A(a, d, !1, b)
                        })) : A(c, d, !1, b)
                    }, A = function (b, c, e, f) {
                        if (e || "undefined" != typeof c.defaultText && (b = c.defaultText), "translate" === f) {
                            (e || !e && "undefined" == typeof p.translateKeepContent) && o.empty().append(c.preText + b + c.postText);
                            var g = a.isPostCompilingEnabled(), h = "undefined" != typeof i.translateCompile, j = h && "false" !== i.translateCompile;
                            (g && !h || j) && d(o.contents())(c)
                        } else {
                            var k = p.$attr[f];
                            "data-" === k.substr(0, 5) && (k = k.substr(5)), k = k.substr(15), o.attr(k, b)
                        }
                    };
                    (j || l || p.translateDefault) && b.$watch("interpolateParams", y, !0);
                    var B = b.$on("translateLanguageChanged", y), C = g.$on("$translateChangeSuccess", y);
                    o.text().length ? s(p.translate ? p.translate : "") : p.translate && s(p.translate), y(), b.$on("$destroy", function () {
                        B(), C()
                    })
                }
            }
        }
    }

    function f(a) {
        "use strict";
        return a.translateNamespace ? a.translateNamespace : a.$parent ? f(a.$parent) : void 0
    }

    function g(a, b) {
        "use strict";
        return {
            compile: function (c) {
                var d = function () {
                    c.addClass(a.cloakClassName())
                }, e = function () {
                    c.removeClass(a.cloakClassName())
                };
                return a.onReady(function () {
                    e()
                }), d(), function (c, f, g) {
                    g.translateCloak && g.translateCloak.length && (g.$observe("translateCloak", function (b) {
                        a(b).then(e, d)
                    }), b.$on("$translateChangeSuccess", function () {
                        a(g.translateCloak).then(e, d)
                    }))
                }
            }
        }
    }

    function h() {
        "use strict";
        return {
            restrict: "A", scope: !0, compile: function () {
                return {
                    pre: function (a, b, c) {
                        a.translateNamespace = f(a), a.translateNamespace && "." === c.translateNamespace.charAt(0) ? a.translateNamespace += c.translateNamespace : a.translateNamespace = c.translateNamespace
                    }
                }
            }
        }
    }

    function f(a) {
        "use strict";
        return a.translateNamespace ? a.translateNamespace : a.$parent ? f(a.$parent) : void 0
    }

    function i() {
        "use strict";
        return {
            restrict: "A", scope: !0, compile: function () {
                return function (a, b, c) {
                    c.$observe("translateLanguage", function (b) {
                        a.translateLanguage = b
                    }), a.$watch("translateLanguage", function () {
                        a.$broadcast("translateLanguageChanged")
                    })
                }
            }
        }
    }

    function j(a, b) {
        "use strict";
        var c = function (c, d, e, f) {
            return angular.isObject(d) || (d = a(d)(this)), b.instant(c, d, e, f)
        };
        return b.statefulFilter() && (c.$stateful = !0), c
    }

    function k(a) {
        "use strict";
        return a("translations")
    }

    return a.$inject = ["$translate"], c.$inject = ["$STORAGE_KEY", "$windowProvider", "$translateSanitizationProvider", "pascalprechtTranslateOverrider"], d.$inject = ["$interpolate", "$translateSanitization"], e.$inject = ["$translate", "$q", "$interpolate", "$compile", "$parse", "$rootScope"], g.$inject = ["$translate", "$rootScope"], j.$inject = ["$parse", "$translate"], k.$inject = ["$cacheFactory"], angular.module("pascalprecht.translate", ["ng"]).run(a), a.displayName = "runTranslate", angular.module("pascalprecht.translate").provider("$translateSanitization", b), angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider", {}).provider("$translate", c), c.displayName = "displayName", angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation", d), d.displayName = "$translateDefaultInterpolation", angular.module("pascalprecht.translate").constant("$STORAGE_KEY", "NG_TRANSLATE_LANG_KEY"), angular.module("pascalprecht.translate").directive("translate", e), e.displayName = "translateDirective", angular.module("pascalprecht.translate").directive("translateCloak", g), g.displayName = "translateCloakDirective", angular.module("pascalprecht.translate").directive("translateNamespace", h), h.displayName = "translateNamespaceDirective", angular.module("pascalprecht.translate").directive("translateLanguage", i), i.displayName = "translateLanguageDirective", angular.module("pascalprecht.translate").filter("translate", j), j.displayName = "translateFilterFactory", angular.module("pascalprecht.translate").factory("$translationCache", k), k.displayName = "$translationCache", "pascalprecht.translate"
}), function (a, b) {
    "function" == typeof define && define.amd ? define([], function () {
        return b()
    }) : "object" == typeof exports ? module.exports = b() : b()
}(this, function () {
    function a(a, b) {
        "use strict";
        return function (c) {
            if (!(c && (angular.isArray(c.files) || angular.isString(c.prefix) && angular.isString(c.suffix))))throw new Error("Couldn't load static files, no files and prefix or suffix specified!");
            c.files || (c.files = [{prefix: c.prefix, suffix: c.suffix}]);
            for (var d = function (d) {
                if (!d || !angular.isString(d.prefix) || !angular.isString(d.suffix))throw new Error("Couldn't load static file, no prefix or suffix specified!");
                return b(angular.extend({
                    url: [d.prefix, c.key, d.suffix].join(""),
                    method: "GET",
                    params: ""
                }, c.$http)).then(function (a) {
                    return a.data
                }, function () {
                    return a.reject(c.key)
                })
            }, e = [], f = c.files.length, g = 0; g < f; g++)e.push(d({
                prefix: c.files[g].prefix,
                key: c.key,
                suffix: c.files[g].suffix
            }));
            return a.all(e).then(function (a) {
                for (var b = a.length, c = {}, d = 0; d < b; d++)for (var e in a[d])c[e] = a[d][e];
                return c
            })
        }
    }

    return a.$inject = ["$q", "$http"], angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader", a), a.displayName = "$translateStaticFilesLoader", "pascalprecht.translate"
}), function (a, b) {
    "use strict";
    function c() {
        var a = !1;
        this.$get = ["$$sanitizeUri", function (c) {
            return a && b.extend(w, u), function (a) {
                var b = [];
                return f(a, i(b, function (a, b) {
                    return !/^unsafe:/.test(c(a, b))
                })), b.join("")
            }
        }], this.enableSvg = function (c) {
            return b.isDefined(c) ? (a = c, this) : a
        }
    }

    function d(a) {
        var c = [], d = i(c, b.noop);
        return d.chars(a), c.join("")
    }

    function e(a, c) {
        var d, e = {}, f = a.split(",");
        for (d = 0; d < f.length; d++)e[c ? b.lowercase(f[d]) : f[d]] = !0;
        return e
    }

    function f(b, c) {
        null === b || void 0 === b ? b = "" : "string" != typeof b && (b = "" + b), k.innerHTML = b;
        var d = 5;
        do {
            if (0 === d)throw l("uinput", "Failed to sanitize html because the input is unstable");
            d--, a.document.documentMode && j(k), b = k.innerHTML, k.innerHTML = b
        } while (b !== k.innerHTML);
        for (var e = k.firstChild; e;) {
            switch (e.nodeType) {
                case 1:
                    c.start(e.nodeName.toLowerCase(), g(e.attributes));
                    break;
                case 3:
                    c.chars(e.textContent)
            }
            var f;
            if (!(f = e.firstChild) && (1 == e.nodeType && c.end(e.nodeName.toLowerCase()), f = e.nextSibling, !f))for (; null == f && (e = e.parentNode, e !== k);)f = e.nextSibling, 1 == e.nodeType && c.end(e.nodeName.toLowerCase());
            e = f
        }
        for (; e = k.firstChild;)k.removeChild(e)
    }

    function g(a) {
        for (var b = {}, c = 0, d = a.length; c < d; c++) {
            var e = a[c];
            b[e.name] = e.value
        }
        return b
    }

    function h(a) {
        return a.replace(/&/g, "&amp;").replace(m, function (a) {
            var b = a.charCodeAt(0), c = a.charCodeAt(1);
            return "&#" + (1024 * (b - 55296) + (c - 56320) + 65536) + ";"
        }).replace(n, function (a) {
            return "&#" + a.charCodeAt(0) + ";"
        }).replace(/</g, "&lt;").replace(/>/g, "&gt;")
    }

    function i(a, c) {
        var d = !1, e = b.bind(a, a.push);
        return {
            start: function (a, f) {
                a = b.lowercase(a), !d && v[a] && (d = a), d || w[a] !== !0 || (e("<"), e(a), b.forEach(f, function (d, f) {
                    var g = b.lowercase(f), i = "img" === a && "src" === g || "background" === g;
                    A[g] !== !0 || x[g] === !0 && !c(d, i) || (e(" "), e(f), e('="'), e(h(d)), e('"'))
                }), e(">"))
            }, end: function (a) {
                a = b.lowercase(a), d || w[a] !== !0 || o[a] === !0 || (e("</"), e(a), e(">")), a == d && (d = !1)
            }, chars: function (a) {
                d || e(h(a))
            }
        }
    }

    function j(b) {
        if (b.nodeType === a.Node.ELEMENT_NODE)for (var c = b.attributes, d = 0, e = c.length; d < e; d++) {
            var f = c[d], g = f.name.toLowerCase();
            "xmlns:ns1" !== g && 0 !== g.lastIndexOf("ns1:", 0) || (b.removeAttributeNode(f), d--, e--)
        }
        var h = b.firstChild;
        h && j(h), h = b.nextSibling, h && j(h)
    }

    var k, l = b.$$minErr("$sanitize"), m = /[\uD800-\uDBFF][\uDC00-\uDFFF]/g, n = /([^\#-~ |!])/g, o = e("area,br,col,hr,img,wbr"), p = e("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"), q = e("rp,rt"), r = b.extend({}, q, p), s = b.extend({}, p, e("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")), t = b.extend({}, q, e("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")), u = e("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"), v = e("script,style"), w = b.extend({}, o, s, t, r), x = e("background,cite,href,longdesc,src,xlink:href"), y = e("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"), z = e("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan", !0), A = b.extend({}, x, z, y);
    !function (a) {
        var b;
        if (!a.document || !a.document.implementation)throw l("noinert", "Can't create an inert html document");
        b = a.document.implementation.createHTMLDocument("inert");
        var c = b.documentElement || b.getDocumentElement(), d = c.getElementsByTagName("body");
        if (1 === d.length)k = d[0]; else {
            var e = b.createElement("html");
            k = b.createElement("body"), e.appendChild(k), b.appendChild(e)
        }
    }(a), b.module("ngSanitize", []).provider("$sanitize", c), b.module("ngSanitize").filter("linky", ["$sanitize", function (a) {
        var c = /((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i, e = /^mailto:/i, f = b.$$minErr("linky"), g = b.isString;
        return function (h, i, j) {
            function k(a) {
                a && q.push(d(a))
            }

            function l(a, c) {
                var d;
                if (q.push("<a "), b.isFunction(j) && (j = j(a)), b.isObject(j))for (d in j)q.push(d + '="' + j[d] + '" '); else j = {};
                !b.isDefined(i) || "target" in j || q.push('target="', i, '" '), q.push('href="', a.replace(/"/g, "&quot;"), '">'), k(c), q.push("</a>")
            }

            if (null == h || "" === h)return h;
            if (!g(h))throw f("notstring", "Expected string but received: {0}", h);
            for (var m, n, o, p = h, q = []; m = p.match(c);)n = m[0], m[2] || m[4] || (n = (m[3] ? "http://" : "mailto:") + n), o = m.index, k(p.substr(0, o)), l(n, m[0].replace(e, "")), p = p.substring(o + m[0].length);
            return k(p), a(q.join(""))
        }
    }])
}(window, window.angular), function (a, b) {
    "use strict";
    function c(a, b, c) {
        if (!a)throw pa("areq", "Argument '{0}' is {1}", b || "?", c || "required");
        return a
    }

    function d(a, b) {
        return a || b ? a ? b ? (Q(a) && (a = a.join(" ")), Q(b) && (b = b.join(" ")), a + " " + b) : a : b : ""
    }

    function e(a) {
        var b = {};
        return a && (a.to || a.from) && (b.to = a.to, b.from = a.from), b
    }

    function f(a, b, c) {
        var d = "";
        return a = Q(a) ? a : a && R(a) && a.length ? a.split(/\s+/) : [], P(a, function (a, e) {
            a && a.length > 0 && (d += e > 0 ? " " : "", d += c ? b + a : a + b)
        }), d
    }

    function g(a, b) {
        var c = a.indexOf(b);
        b >= 0 && a.splice(c, 1)
    }

    function h(a) {
        if (a instanceof O)switch (a.length) {
            case 0:
                return a;
            case 1:
                if (a[0].nodeType === X)return a;
                break;
            default:
                return O(i(a))
        }
        if (a.nodeType === X)return O(a)
    }

    function i(a) {
        if (!a[0])return a;
        for (var b = 0; b < a.length; b++) {
            var c = a[b];
            if (c.nodeType == X)return c
        }
    }

    function j(a, b, c) {
        P(b, function (b) {
            a.addClass(b, c)
        })
    }

    function k(a, b, c) {
        P(b, function (b) {
            a.removeClass(b, c)
        })
    }

    function l(a) {
        return function (b, c) {
            c.addClass && (j(a, b, c.addClass), c.addClass = null), c.removeClass && (k(a, b, c.removeClass), c.removeClass = null)
        }
    }

    function m(a) {
        if (a = a || {}, !a.$$prepared) {
            var b = a.domOperation || L;
            a.domOperation = function () {
                a.$$domOperationFired = !0, b(), b = L
            }, a.$$prepared = !0
        }
        return a
    }

    function n(a, b) {
        o(a, b), p(a, b)
    }

    function o(a, b) {
        b.from && (a.css(b.from), b.from = null)
    }

    function p(a, b) {
        b.to && (a.css(b.to), b.to = null)
    }

    function q(a, b, c) {
        var d = b.options || {}, e = c.options || {}, f = (d.addClass || "") + " " + (e.addClass || ""), g = (d.removeClass || "") + " " + (e.removeClass || ""), h = r(a.attr("class"), f, g);
        e.preparationClasses && (d.preparationClasses = y(e.preparationClasses, d.preparationClasses), delete e.preparationClasses);
        var i = d.domOperation !== L ? d.domOperation : null;
        return N(d, e), i && (d.domOperation = i), h.addClass ? d.addClass = h.addClass : d.addClass = null, h.removeClass ? d.removeClass = h.removeClass : d.removeClass = null, b.addClass = d.addClass, b.removeClass = d.removeClass, d
    }

    function r(a, b, c) {
        function d(a) {
            R(a) && (a = a.split(" "));
            var b = {};
            return P(a, function (a) {
                a.length && (b[a] = !0)
            }), b
        }

        var e = 1, f = -1, g = {};
        a = d(a), b = d(b), P(b, function (a, b) {
            g[b] = e
        }), c = d(c), P(c, function (a, b) {
            g[b] = g[b] === e ? null : f
        });
        var h = {addClass: "", removeClass: ""};
        return P(g, function (b, c) {
            var d, g;
            b === e ? (d = "addClass", g = !a[c]) : b === f && (d = "removeClass", g = a[c]), g && (h[d].length && (h[d] += " "), h[d] += c)
        }), h
    }

    function s(a) {
        return a instanceof b.element ? a[0] : a
    }

    function t(a, b, c) {
        var d = "";
        b && (d = f(b, $, !0)), c.addClass && (d = y(d, f(c.addClass, Y))), c.removeClass && (d = y(d, f(c.removeClass, Z))), d.length && (c.preparationClasses = d, a.addClass(d))
    }

    function u(a, b) {
        b.preparationClasses && (a.removeClass(b.preparationClasses), b.preparationClasses = null), b.activeClasses && (a.removeClass(b.activeClasses), b.activeClasses = null)
    }

    function v(a, b) {
        var c = b ? "-" + b + "s" : "";
        return x(a, [na, c]), [na, c]
    }

    function w(a, b) {
        var c = b ? "paused" : "", d = J + ja;
        return x(a, [d, c]), [d, c]
    }

    function x(a, b) {
        var c = b[0], d = b[1];
        a.style[c] = d
    }

    function y(a, b) {
        return a ? b ? a + " " + b : a : b
    }

    function z(a) {
        return [ma, a + "s"]
    }

    function A(a, b) {
        var c = b ? la : na;
        return [c, a + "s"]
    }

    function B(a, b, c) {
        var d = Object.create(null), e = a.getComputedStyle(b) || {};
        return P(c, function (a, b) {
            var c = e[a];
            if (c) {
                var f = c.charAt(0);
                ("-" === f || "+" === f || f >= 0) && (c = C(c)), 0 === c && (c = null), d[b] = c
            }
        }), d
    }

    function C(a) {
        var b = 0, c = a.split(/\s*,\s*/);
        return P(c, function (a) {
            "s" == a.charAt(a.length - 1) && (a = a.substring(0, a.length - 1)), a = parseFloat(a) || 0, b = b ? Math.max(a, b) : a
        }), b
    }

    function D(a) {
        return 0 === a || null != a
    }

    function E(a, b) {
        var c = H, d = a + "s";
        return b ? c += ea : d += " linear all", [c, d]
    }

    function F() {
        var a = Object.create(null);
        return {
            flush: function () {
                a = Object.create(null)
            }, count: function (b) {
                var c = a[b];
                return c ? c.total : 0
            }, get: function (b) {
                var c = a[b];
                return c && c.value
            }, put: function (b, c) {
                a[b] ? a[b].total++ : a[b] = {total: 1, value: c}
            }
        }
    }

    function G(a, b, c) {
        P(c, function (c) {
            a[c] = U(a[c]) ? a[c] : b.style.getPropertyValue(c)
        })
    }

    var H, I, J, K, L = b.noop, M = b.copy, N = b.extend, O = b.element, P = b.forEach, Q = b.isArray, R = b.isString, S = b.isObject, T = b.isUndefined, U = b.isDefined, V = b.isFunction, W = b.isElement, X = 1, Y = "-add", Z = "-remove", $ = "ng-", _ = "-active", aa = "-prepare", ba = "ng-animate", ca = "$$ngAnimateChildren", da = "";
    T(a.ontransitionend) && U(a.onwebkittransitionend) ? (da = "-webkit-", H = "WebkitTransition", I = "webkitTransitionEnd transitionend") : (H = "transition", I = "transitionend"), T(a.onanimationend) && U(a.onwebkitanimationend) ? (da = "-webkit-", J = "WebkitAnimation", K = "webkitAnimationEnd animationend") : (J = "animation", K = "animationend");
    var ea = "Duration", fa = "Property", ga = "Delay", ha = "TimingFunction", ia = "IterationCount", ja = "PlayState", ka = 9999, la = J + ga, ma = J + ea, na = H + ga, oa = H + ea, pa = b.$$minErr("ng"), qa = ["$$rAF", function (a) {
        function b(a) {
            d = d.concat(a), c()
        }

        function c() {
            if (d.length) {
                for (var b = d.shift(), f = 0; f < b.length; f++)b[f]();
                e || a(function () {
                    e || c()
                })
            }
        }

        var d, e;
        return d = b.queue = [], b.waitUntilQuiet = function (b) {
            e && e(), e = a(function () {
                e = null, b(), c()
            })
        }, b
    }], ra = ["$interpolate", function (a) {
        return {
            link: function (c, d, e) {
                function f(a) {
                    a = "on" === a || "true" === a, d.data(ca, a)
                }

                var g = e.ngAnimateChildren;
                b.isString(g) && 0 === g.length ? d.data(ca, !0) : (f(a(g)(c)), e.$observe("ngAnimateChildren", f))
            }
        }
    }], sa = "$$animateCss", ta = 1e3, ua = 3, va = 1.5, wa = {
        transitionDuration: oa,
        transitionDelay: na,
        transitionProperty: H + fa,
        animationDuration: ma,
        animationDelay: la,
        animationIterationCount: J + ia
    }, xa = {
        transitionDuration: oa,
        transitionDelay: na,
        animationDuration: ma,
        animationDelay: la
    }, ya = ["$animateProvider", function (a) {
        var b = F(), c = F();
        this.$get = ["$window", "$$jqLite", "$$AnimateRunner", "$timeout", "$$forceReflow", "$sniffer", "$$rAFScheduler", "$$animateQueue", function (a, d, h, i, j, k, q, r) {
            function t(a, b) {
                var c = "$$ngAnimateParentKey", d = a.parentNode, e = d[c] || (d[c] = ++O);
                return e + "-" + a.getAttribute("class") + "-" + b
            }

            function u(c, d, e, f) {
                var g = b.get(e);
                return g || (g = B(a, c, f), "infinite" === g.animationIterationCount && (g.animationIterationCount = 1)), b.put(e, g), g
            }

            function y(e, g, h, i) {
                var j;
                if (b.count(h) > 0 && (j = c.get(h), !j)) {
                    var k = f(g, "-stagger");
                    d.addClass(e, k), j = B(a, e, i), j.animationDuration = Math.max(j.animationDuration, 0), j.transitionDuration = Math.max(j.transitionDuration, 0), d.removeClass(e, k), c.put(h, j)
                }
                return j || {}
            }

            function C(a) {
                R.push(a), q.waitUntilQuiet(function () {
                    b.flush(), c.flush();
                    for (var a = j(), d = 0; d < R.length; d++)R[d](a);
                    R.length = 0
                })
            }

            function F(a, b, c) {
                var d = u(a, b, c, wa), e = d.animationDelay, f = d.transitionDelay;
                return d.maxDelay = e && f ? Math.max(e, f) : e || f, d.maxDuration = Math.max(d.animationDuration * d.animationIterationCount, d.transitionDuration), d
            }

            var N = l(d), O = 0, R = [];
            return function (a, c) {
                function j() {
                    q()
                }

                function l() {
                    q(!0)
                }

                function q(b) {
                    if (!(V || X && W)) {
                        V = !0, W = !1, S.$$skipPreparationClasses || d.removeClass(a, wa), d.removeClass(a, za), w(U, !1), v(U, !1), P(ja, function (a) {
                            U.style[a[0]] = ""
                        }), N(a, S), n(a, S), Object.keys(T).length && P(T, function (a, b) {
                            a ? U.style.setProperty(b, a) : U.style.removeProperty(b)
                        }), S.onDone && S.onDone(), na && na.length && a.off(na.join(" "), O);
                        var c = a.data(sa);
                        c && (i.cancel(c[0].timer), a.removeData(sa)), aa && aa.complete(!b)
                    }
                }

                function u(a) {
                    Na.blockTransition && v(U, a), Na.blockKeyframeAnimation && w(U, !!a)
                }

                function B() {
                    return aa = new h({end: j, cancel: l}), C(L), q(), {
                        $$willAnimate: !1, start: function () {
                            return aa
                        }, end: j
                    }
                }

                function O(a) {
                    a.stopPropagation();
                    var b = a.originalEvent || a, c = b.$manualTimeStamp || Date.now(), d = parseFloat(b.elapsedTime.toFixed(ua));
                    Math.max(c - ia, 0) >= da && d >= ea && (X = !0, q())
                }

                function R() {
                    function b() {
                        if (!V) {
                            if (u(!1), P(ja, function (a) {
                                    var b = a[0], c = a[1];
                                    U.style[b] = c
                                }), N(a, S), d.addClass(a, za), Na.recalculateTimingStyles) {
                                if (ya = U.className + " " + wa, Ca = t(U, ya), La = F(U, ya, Ca), Ma = La.maxDelay, ca = Math.max(Ma, 0), ea = La.maxDuration, 0 === ea)return void q();
                                Na.hasTransitions = La.transitionDuration > 0, Na.hasAnimations = La.animationDuration > 0
                            }
                            if (Na.applyAnimationDelay && (Ma = "boolean" != typeof S.delay && D(S.delay) ? parseFloat(S.delay) : Ma, ca = Math.max(Ma, 0), La.animationDelay = Ma, Oa = A(Ma, !0), ja.push(Oa), U.style[Oa[0]] = Oa[1]), da = ca * ta, ga = ea * ta, S.easing) {
                                var b, e = S.easing;
                                Na.hasTransitions && (b = H + ha, ja.push([b, e]), U.style[b] = e), Na.hasAnimations && (b = J + ha, ja.push([b, e]), U.style[b] = e)
                            }
                            La.transitionDuration && na.push(I), La.animationDuration && na.push(K), ia = Date.now();
                            var f = da + va * ga, g = ia + f, h = a.data(sa) || [], j = !0;
                            if (h.length) {
                                var k = h[0];
                                j = g > k.expectedEndTime, j ? i.cancel(k.timer) : h.push(q)
                            }
                            if (j) {
                                var l = i(c, f, !1);
                                h[0] = {timer: l, expectedEndTime: g}, h.push(q), a.data(sa, h)
                            }
                            na.length && a.on(na.join(" "), O), S.to && (S.cleanupStyles && G(T, U, Object.keys(S.to)), p(a, S))
                        }
                    }

                    function c() {
                        var b = a.data(sa);
                        if (b) {
                            for (var c = 1; c < b.length; c++)b[c]();
                            a.removeData(sa)
                        }
                    }

                    if (!V) {
                        if (!U.parentNode)return void q();
                        var e = function (a) {
                            if (X)W && a && (W = !1, q()); else if (W = !a, La.animationDuration) {
                                var b = w(U, W);
                                W ? ja.push(b) : g(ja, b)
                            }
                        }, f = Ja > 0 && (La.transitionDuration && 0 === Da.transitionDuration || La.animationDuration && 0 === Da.animationDuration) && Math.max(Da.animationDelay, Da.transitionDelay);
                        f ? i(b, Math.floor(f * Ja * ta), !1) : b(), ba.resume = function () {
                            e(!0)
                        }, ba.pause = function () {
                            e(!1)
                        }
                    }
                }

                var S = c || {};
                S.$$prepared || (S = m(M(S)));
                var T = {}, U = s(a);
                if (!U || !U.parentNode || !r.enabled())return B();
                var V, W, X, aa, ba, ca, da, ea, ga, ia, ja = [], la = a.attr("class"), ma = e(S), na = [];
                if (0 === S.duration || !k.animations && !k.transitions)return B();
                var oa = S.event && Q(S.event) ? S.event.join(" ") : S.event, pa = oa && S.structural, qa = "", ra = "";
                pa ? qa = f(oa, $, !0) : oa && (qa = oa), S.addClass && (ra += f(S.addClass, Y)), S.removeClass && (ra.length && (ra += " "), ra += f(S.removeClass, Z)), S.applyClassesEarly && ra.length && N(a, S);
                var wa = [qa, ra].join(" ").trim(), ya = la + " " + wa, za = f(wa, _), Aa = ma.to && Object.keys(ma.to).length > 0, Ba = (S.keyframeStyle || "").length > 0;
                if (!Ba && !Aa && !wa)return B();
                var Ca, Da;
                if (S.stagger > 0) {
                    var Ea = parseFloat(S.stagger);
                    Da = {transitionDelay: Ea, animationDelay: Ea, transitionDuration: 0, animationDuration: 0}
                } else Ca = t(U, ya), Da = y(U, wa, Ca, xa);
                S.$$skipPreparationClasses || d.addClass(a, wa);
                var Fa;
                if (S.transitionStyle) {
                    var Ga = [H, S.transitionStyle];
                    x(U, Ga), ja.push(Ga)
                }
                if (S.duration >= 0) {
                    Fa = U.style[H].length > 0;
                    var Ha = E(S.duration, Fa);
                    x(U, Ha), ja.push(Ha)
                }
                if (S.keyframeStyle) {
                    var Ia = [J, S.keyframeStyle];
                    x(U, Ia), ja.push(Ia)
                }
                var Ja = Da ? S.staggerIndex >= 0 ? S.staggerIndex : b.count(Ca) : 0, Ka = 0 === Ja;
                Ka && !S.skipBlocking && v(U, ka);
                var La = F(U, ya, Ca), Ma = La.maxDelay;
                ca = Math.max(Ma, 0), ea = La.maxDuration;
                var Na = {};
                if (Na.hasTransitions = La.transitionDuration > 0, Na.hasAnimations = La.animationDuration > 0, Na.hasTransitionAll = Na.hasTransitions && "all" == La.transitionProperty, Na.applyTransitionDuration = Aa && (Na.hasTransitions && !Na.hasTransitionAll || Na.hasAnimations && !Na.hasTransitions), Na.applyAnimationDuration = S.duration && Na.hasAnimations, Na.applyTransitionDelay = D(S.delay) && (Na.applyTransitionDuration || Na.hasTransitions), Na.applyAnimationDelay = D(S.delay) && Na.hasAnimations, Na.recalculateTimingStyles = ra.length > 0, (Na.applyTransitionDuration || Na.applyAnimationDuration) && (ea = S.duration ? parseFloat(S.duration) : ea, Na.applyTransitionDuration && (Na.hasTransitions = !0, La.transitionDuration = ea, Fa = U.style[H + fa].length > 0, ja.push(E(ea, Fa))), Na.applyAnimationDuration && (Na.hasAnimations = !0, La.animationDuration = ea, ja.push(z(ea)))), 0 === ea && !Na.recalculateTimingStyles)return B();
                if (null != S.delay) {
                    var Oa;
                    "boolean" != typeof S.delay && (Oa = parseFloat(S.delay), ca = Math.max(Oa, 0)), Na.applyTransitionDelay && ja.push(A(Oa)), Na.applyAnimationDelay && ja.push(A(Oa, !0))
                }
                return null == S.duration && La.transitionDuration > 0 && (Na.recalculateTimingStyles = Na.recalculateTimingStyles || Ka), da = ca * ta, ga = ea * ta, S.skipBlocking || (Na.blockTransition = La.transitionDuration > 0, Na.blockKeyframeAnimation = La.animationDuration > 0 && Da.animationDelay > 0 && 0 === Da.animationDuration), S.from && (S.cleanupStyles && G(T, U, Object.keys(S.from)), o(a, S)), Na.blockTransition || Na.blockKeyframeAnimation ? u(ea) : S.skipBlocking || v(U, !1), {
                    $$willAnimate: !0,
                    end: j,
                    start: function () {
                        if (!V)return ba = {end: j, cancel: l, resume: null, pause: null}, aa = new h(ba), C(R), aa
                    }
                }
            }
        }]
    }], za = ["$$animationProvider", function (a) {
        function b(a) {
            return a.parentNode && 11 === a.parentNode.nodeType
        }

        a.drivers.push("$$animateCssDriver");
        var c = "ng-animate-shim", d = "ng-anchor", e = "ng-anchor-out", f = "ng-anchor-in";
        this.$get = ["$animateCss", "$rootScope", "$$AnimateRunner", "$rootElement", "$sniffer", "$$jqLite", "$document", function (a, g, h, i, j, k, m) {
            function n(a) {
                return a.replace(/\bng-\S+\b/g, "")
            }

            function o(a, b) {
                return R(a) && (a = a.split(" ")), R(b) && (b = b.split(" ")), a.filter(function (a) {
                    return b.indexOf(a) === -1
                }).join(" ")
            }

            function p(b, g, i) {
                function j(a) {
                    var b = {}, c = s(a).getBoundingClientRect();
                    return P(["width", "height", "top", "left"], function (a) {
                        var d = c[a];
                        switch (a) {
                            case"top":
                                d += t.scrollTop;
                                break;
                            case"left":
                                d += t.scrollLeft
                        }
                        b[a] = Math.floor(d) + "px"
                    }), b
                }

                function k() {
                    var b = a(q, {addClass: e, delay: !0, from: j(g)});
                    return b.$$willAnimate ? b : null
                }

                function l(a) {
                    return a.attr("class") || ""
                }

                function m() {
                    var b = n(l(i)), c = o(b, r), d = o(r, b), g = a(q, {
                        to: j(i),
                        addClass: f + " " + c,
                        removeClass: e + " " + d,
                        delay: !0
                    });
                    return g.$$willAnimate ? g : null
                }

                function p() {
                    q.remove(), g.removeClass(c), i.removeClass(c)
                }

                var q = O(s(g).cloneNode(!0)), r = n(l(q));
                g.addClass(c), i.addClass(c), q.addClass(d), v.append(q);
                var u, w = k();
                if (!w && (u = m(), !u))return p();
                var x = w || u;
                return {
                    start: function () {
                        function a() {
                            c && c.end()
                        }

                        var b, c = x.start();
                        return c.done(function () {
                            return c = null, !u && (u = m()) ? (c = u.start(), c.done(function () {
                                c = null, p(), b.complete()
                            }), c) : (p(), void b.complete())
                        }), b = new h({end: a, cancel: a})
                    }
                }
            }

            function q(a, b, c, d) {
                var e = r(a, L), f = r(b, L), g = [];
                if (P(d, function (a) {
                        var b = a.out, d = a.in, e = p(c, b, d);
                        e && g.push(e)
                    }), e || f || 0 !== g.length)return {
                    start: function () {
                        function a() {
                            P(b, function (a) {
                                a.end()
                            })
                        }

                        var b = [];
                        e && b.push(e.start()), f && b.push(f.start()), P(g, function (a) {
                            b.push(a.start())
                        });
                        var c = new h({end: a, cancel: a});
                        return h.all(b, function (a) {
                            c.complete(a)
                        }), c
                    }
                }
            }

            function r(b) {
                var c = b.element, d = b.options || {};
                b.structural && (d.event = b.event, d.structural = !0, d.applyClassesEarly = !0, "leave" === b.event && (d.onDone = d.domOperation)), d.preparationClasses && (d.event = y(d.event, d.preparationClasses));
                var e = a(c, d);
                return e.$$willAnimate ? e : null
            }

            if (!j.animations && !j.transitions)return L;
            var t = m[0].body, u = s(i), v = O(b(u) || t.contains(u) ? u : t);
            l(k);
            return function (a) {
                return a.from && a.to ? q(a.from, a.to, a.classes, a.anchors) : r(a)
            }
        }]
    }], Aa = ["$animateProvider", function (a) {
        this.$get = ["$injector", "$$AnimateRunner", "$$jqLite", function (b, c, d) {
            function e(c) {
                c = Q(c) ? c : c.split(" ");
                for (var d = [], e = {}, f = 0; f < c.length; f++) {
                    var g = c[f], h = a.$$registeredAnimations[g];
                    h && !e[g] && (d.push(b.get(h)), e[g] = !0)
                }
                return d
            }

            var f = l(d);
            return function (a, b, d, g) {
                function h() {
                    g.domOperation(), f(a, g)
                }

                function i() {
                    o = !0, h(), n(a, g)
                }

                function j(a, b, d, e, f) {
                    var g;
                    switch (d) {
                        case"animate":
                            g = [b, e.from, e.to, f];
                            break;
                        case"setClass":
                            g = [b, r, s, f];
                            break;
                        case"addClass":
                            g = [b, r, f];
                            break;
                        case"removeClass":
                            g = [b, s, f];
                            break;
                        default:
                            g = [b, f]
                    }
                    g.push(e);
                    var h = a.apply(a, g);
                    if (h)if (V(h.start) && (h = h.start()), h instanceof c)h.done(f); else if (V(h))return h;
                    return L
                }

                function k(a, b, d, e, f) {
                    var g = [];
                    return P(e, function (e) {
                        var h = e[f];
                        h && g.push(function () {
                            var e, f, g = !1, i = function (a) {
                                g || (g = !0, (f || L)(a), e.complete(!a))
                            };
                            return e = new c({
                                end: function () {
                                    i()
                                }, cancel: function () {
                                    i(!0)
                                }
                            }), f = j(h, a, b, d, function (a) {
                                var b = a === !1;
                                i(b)
                            }), e
                        })
                    }), g
                }

                function l(a, b, d, e, f) {
                    var g = k(a, b, d, e, f);
                    if (0 === g.length) {
                        var h, i;
                        "beforeSetClass" === f ? (h = k(a, "removeClass", d, e, "beforeRemoveClass"), i = k(a, "addClass", d, e, "beforeAddClass")) : "setClass" === f && (h = k(a, "removeClass", d, e, "removeClass"), i = k(a, "addClass", d, e, "addClass")), h && (g = g.concat(h)), i && (g = g.concat(i))
                    }
                    if (0 !== g.length)return function (a) {
                        var b = [];
                        return g.length && P(g, function (a) {
                            b.push(a())
                        }), b.length ? c.all(b, a) : a(), function (a) {
                            P(b, function (b) {
                                a ? b.cancel() : b.end()
                            })
                        }
                    }
                }

                var o = !1;
                3 === arguments.length && S(d) && (g = d, d = null), g = m(g), d || (d = a.attr("class") || "", g.addClass && (d += " " + g.addClass), g.removeClass && (d += " " + g.removeClass));
                var p, q, r = g.addClass, s = g.removeClass, t = e(d);
                if (t.length) {
                    var u, v;
                    "leave" == b ? (v = "leave", u = "afterLeave") : (v = "before" + b.charAt(0).toUpperCase() + b.substr(1), u = b), "enter" !== b && "move" !== b && (p = l(a, b, g, t, v)), q = l(a, b, g, t, u)
                }
                if (p || q) {
                    var w;
                    return {
                        $$willAnimate: !0, end: function () {
                            return w ? w.end() : (i(), w = new c, w.complete(!0)), w
                        }, start: function () {
                            function a(a) {
                                i(a), w.complete(a)
                            }

                            function b(b) {
                                o || ((d || L)(b), a(b))
                            }

                            if (w)return w;
                            w = new c;
                            var d, e = [];
                            return p && e.push(function (a) {
                                d = p(a)
                            }), e.length ? e.push(function (a) {
                                h(), a(!0)
                            }) : h(), q && e.push(function (a) {
                                d = q(a)
                            }), w.setHost({
                                end: function () {
                                    b()
                                }, cancel: function () {
                                    b(!0)
                                }
                            }), c.chain(e, a), w
                        }
                    }
                }
            }
        }]
    }], Ba = ["$$animationProvider", function (a) {
        a.drivers.push("$$animateJsDriver"), this.$get = ["$$animateJs", "$$AnimateRunner", function (a, b) {
            function c(b) {
                var c = b.element, d = b.event, e = b.options, f = b.classes;
                return a(c, d, f, e)
            }

            return function (a) {
                if (a.from && a.to) {
                    var d = c(a.from), e = c(a.to);
                    if (!d && !e)return;
                    return {
                        start: function () {
                            function a() {
                                return function () {
                                    P(f, function (a) {
                                        a.end()
                                    })
                                }
                            }

                            function c(a) {
                                g.complete(a)
                            }

                            var f = [];
                            d && f.push(d.start()), e && f.push(e.start()), b.all(f, c);
                            var g = new b({end: a(), cancel: a()});
                            return g
                        }
                    }
                }
                return c(a)
            }
        }]
    }], Ca = "data-ng-animate", Da = "$ngAnimatePin", Ea = ["$animateProvider", function (d) {
        function e(a) {
            if (!a)return null;
            var b = a.split(p), c = Object.create(null);
            return P(b, function (a) {
                c[a] = !0
            }), c
        }

        function f(a, b) {
            if (a && b) {
                var c = e(b);
                return a.split(p).some(function (a) {
                    return c[a]
                })
            }
        }

        function g(a, b, c, d) {
            return r[a].some(function (a) {
                return a(b, c, d)
            })
        }

        function j(a, b) {
            var c = (a.addClass || "").length > 0, d = (a.removeClass || "").length > 0;
            return b ? c && d : c || d
        }

        var k = 1, o = 2, p = " ", r = this.rules = {skip: [], cancel: [], join: []};
        r.join.push(function (a, b, c) {
            return !b.structural && j(b)
        }), r.skip.push(function (a, b, c) {
            return !b.structural && !j(b)
        }), r.skip.push(function (a, b, c) {
            return "leave" == c.event && b.structural
        }), r.skip.push(function (a, b, c) {
            return c.structural && c.state === o && !b.structural
        }), r.cancel.push(function (a, b, c) {
            return c.structural && b.structural
        }), r.cancel.push(function (a, b, c) {
            return c.state === o && b.structural
        }), r.cancel.push(function (a, b, c) {
            if (c.structural)return !1;
            var d = b.addClass, e = b.removeClass, g = c.addClass, h = c.removeClass;
            return !(T(d) && T(e) || T(g) && T(h)) && (f(d, h) || f(e, g))
        }), this.$get = ["$$rAF", "$rootScope", "$rootElement", "$document", "$$HashMap", "$$animation", "$$AnimateRunner", "$templateRequest", "$$jqLite", "$$forceReflow", function (e, f, p, r, v, w, x, y, z, A) {
            function B() {
                var a = !1;
                return function (b) {
                    a ? b() : f.$$postDigest(function () {
                        a = !0, b()
                    })
                }
            }

            function C(a, b) {
                return q(a, b, {})
            }

            function D(a, b, c) {
                var d = s(b), e = s(a), f = [], g = _[c];
                return g && P(g, function (a) {
                    ea.call(a.node, d) ? f.push(a.callback) : "leave" === c && ea.call(a.node, e) && f.push(a.callback)
                }), f
            }

            function E(a, b, c) {
                var d = i(b);
                return a.filter(function (a) {
                    var b = a.node === d && (!c || a.callback === c);
                    return !b
                })
            }

            function F(a, b) {
                "close" !== a || b[0].parentNode || fa.off(b)
            }

            function G(a, b, c) {
                function d(b, c, d, f) {
                    z(function () {
                        var b = D(p, a, c);
                        b.length ? e(function () {
                            P(b, function (b) {
                                b(a, d, f)
                            }), F(d, a)
                        }) : F(d, a)
                    }), b.progress(c, d, f)
                }

                function i(b) {
                    u(a, v), da(a, v), n(a, v), v.domOperation(), y.complete(!b)
                }

                var l, p, v = M(c);
                a = h(a), a && (l = s(a), p = a.parent()), v = m(v);
                var y = new x, z = B();
                if (Q(v.addClass) && (v.addClass = v.addClass.join(" ")), v.addClass && !R(v.addClass) && (v.addClass = null), Q(v.removeClass) && (v.removeClass = v.removeClass.join(" ")), v.removeClass && !R(v.removeClass) && (v.removeClass = null), v.from && !S(v.from) && (v.from = null), v.to && !S(v.to) && (v.to = null), !l)return i(), y;
                var A = [l.className, v.addClass, v.removeClass].join(" ");
                if (!ba(A))return i(), y;
                var E = ["enter", "move", "leave"].indexOf(b) >= 0, G = r[0].hidden, J = !Z || G || Y.get(l), N = !J && V.get(l) || {}, O = !!N.state;
                if (J || O && N.state == k || (J = !K(a, p, b)), J)return G && d(y, b, "start"), i(), G && d(y, b, "close"), y;
                E && H(a);
                var T = {
                    structural: E,
                    element: a,
                    event: b,
                    addClass: v.addClass,
                    removeClass: v.removeClass,
                    close: i,
                    options: v,
                    runner: y
                };
                if (O) {
                    var U = g("skip", a, T, N);
                    if (U)return N.state === o ? (i(), y) : (q(a, N, T), N.runner);
                    var W = g("cancel", a, T, N);
                    if (W)if (N.state === o)N.runner.end(); else {
                        if (!N.structural)return q(a, N, T), N.runner;
                        N.close()
                    } else {
                        var X = g("join", a, T, N);
                        if (X) {
                            if (N.state !== o)return t(a, E ? b : null, v), b = T.event = N.event, v = q(a, N, T), N.runner;
                            C(a, T)
                        }
                    }
                } else C(a, T);
                var $ = T.structural;
                if ($ || ($ = "animate" === T.event && Object.keys(T.options.to || {}).length > 0 || j(T)), !$)return i(), I(a), y;
                var _ = (N.counter || 0) + 1;
                return T.counter = _, L(a, k, T), f.$$postDigest(function () {
                    var c = V.get(l), e = !c;
                    c = c || {};
                    var f = a.parent() || [], g = f.length > 0 && ("animate" === c.event || c.structural || j(c));
                    if (e || c.counter !== _ || !g)return e && (da(a, v), n(a, v)), (e || E && c.event !== b) && (v.domOperation(), y.end()), void(g || I(a));
                    b = !c.structural && j(c, !0) ? "setClass" : c.event, L(a, o);
                    var h = w(a, b, c.options);
                    y.setHost(h), d(y, b, "start", {}), h.done(function (c) {
                        i(!c);
                        var e = V.get(l);
                        e && e.counter === _ && I(s(a)), d(y, b, "close", {})
                    })
                }), y
            }

            function H(a) {
                var b = s(a), c = b.querySelectorAll("[" + Ca + "]");
                P(c, function (a) {
                    var b = parseInt(a.getAttribute(Ca)), c = V.get(a);
                    if (c)switch (b) {
                        case o:
                            c.runner.end();
                        case k:
                            V.remove(a)
                    }
                })
            }

            function I(a) {
                var b = s(a);
                b.removeAttribute(Ca), V.remove(b)
            }

            function J(a, b) {
                return s(a) === s(b)
            }

            function K(a, b, c) {
                var d, e = O(r[0].body), f = J(a, e) || "HTML" === a[0].nodeName, g = J(a, p), h = !1, i = Y.get(s(a)), j = O.data(a[0], Da);
                for (j && (b = j), b = s(b); b && (g || (g = J(b, p)), b.nodeType === X);) {
                    var k = V.get(b) || {};
                    if (!h) {
                        var l = Y.get(b);
                        if (l === !0 && i !== !1) {
                            i = !0;
                            break
                        }
                        l === !1 && (i = !1), h = k.structural
                    }
                    if (T(d) || d === !0) {
                        var m = O.data(b, ca);
                        U(m) && (d = m)
                    }
                    if (h && d === !1)break;
                    if (f || (f = J(b, e)), f && g)break;
                    b = g || !(j = O.data(b, Da)) ? b.parentNode : s(j)
                }
                var n = (!h || d) && i !== !0;
                return n && g && f
            }

            function L(a, b, c) {
                c = c || {}, c.state = b;
                var d = s(a);
                d.setAttribute(Ca, b);
                var e = V.get(d), f = e ? N(e, c) : c;
                V.put(d, f)
            }

            var V = new v, Y = new v, Z = null, $ = f.$watch(function () {
                return 0 === y.totalPendingRequests
            }, function (a) {
                a && ($(), f.$$postDigest(function () {
                    f.$$postDigest(function () {
                        null === Z && (Z = !0)
                    })
                }))
            }), _ = {}, aa = d.classNameFilter(), ba = aa ? function (a) {
                return aa.test(a)
            } : function () {
                return !0
            }, da = l(z), ea = a.Node.prototype.contains || function (a) {
                    return this === a || !!(16 & this.compareDocumentPosition(a))
                }, fa = {
                on: function (a, b, c) {
                    var d = i(b);
                    _[a] = _[a] || [], _[a].push({node: d, callback: c}), O(b).on("$destroy", function () {
                        var e = V.get(d);
                        e || fa.off(a, b, c)
                    })
                }, off: function (a, c, d) {
                    if (1 !== arguments.length || b.isString(arguments[0])) {
                        var e = _[a];
                        e && (_[a] = 1 === arguments.length ? null : E(e, c, d))
                    } else {
                        c = arguments[0];
                        for (var f in _)_[f] = E(_[f], c)
                    }
                }, pin: function (a, b) {
                    c(W(a), "element", "not an element"), c(W(b), "parentElement", "not an element"), a.data(Da, b)
                }, push: function (a, b, c, d) {
                    return c = c || {}, c.domOperation = d, G(a, b, c)
                }, enabled: function (a, b) {
                    var c = arguments.length;
                    if (0 === c)b = !!Z; else {
                        var d = W(a);
                        if (d) {
                            var e = s(a), f = Y.get(e);
                            1 === c ? b = !f : Y.put(e, !b)
                        } else b = Z = !!a
                    }
                    return b
                }
            };
            return fa
        }]
    }], Fa = ["$animateProvider", function (a) {
        function b(a, b) {
            a.data(h, b)
        }

        function c(a) {
            a.removeData(h)
        }

        function e(a) {
            return a.data(h)
        }

        var f = "ng-animate-ref", g = this.drivers = [], h = "$$animationRunner";
        this.$get = ["$$jqLite", "$rootScope", "$injector", "$$AnimateRunner", "$$HashMap", "$$rAFScheduler", function (a, h, i, j, k, o) {
            function p(a) {
                function b(a) {
                    if (a.processed)return a;
                    a.processed = !0;
                    var c = a.domNode, d = c.parentNode;
                    f.put(c, a);
                    for (var g; d;) {
                        if (g = f.get(d)) {
                            g.processed || (g = b(g));
                            break
                        }
                        d = d.parentNode
                    }
                    return (g || e).children.push(a), a
                }

                function c(a) {
                    var b, c = [], d = [];
                    for (b = 0; b < a.children.length; b++)d.push(a.children[b]);
                    var e = d.length, f = 0, g = [];
                    for (b = 0; b < d.length; b++) {
                        var h = d[b];
                        e <= 0 && (e = f, f = 0, c.push(g), g = []), g.push(h.fn), h.children.forEach(function (a) {
                            f++, d.push(a)
                        }), e--
                    }
                    return g.length && c.push(g), c
                }

                var d, e = {children: []}, f = new k;
                for (d = 0; d < a.length; d++) {
                    var g = a[d];
                    f.put(g.domNode, a[d] = {domNode: g.domNode, fn: g.fn, children: []})
                }
                for (d = 0; d < a.length; d++)b(a[d]);
                return c(e)
            }

            var q = [], r = l(a);
            return function (k, l, t) {
                function u(a) {
                    var b = "[" + f + "]", c = a.hasAttribute(f) ? [a] : a.querySelectorAll(b), d = [];
                    return P(c, function (a) {
                        var b = a.getAttribute(f);
                        b && b.length && d.push(a)
                    }), d
                }

                function v(a) {
                    var b = [], c = {};
                    P(a, function (a, d) {
                        var e = a.element, g = s(e), h = a.event, i = ["enter", "move"].indexOf(h) >= 0, j = a.structural ? u(g) : [];
                        if (j.length) {
                            var k = i ? "to" : "from";
                            P(j, function (a) {
                                var b = a.getAttribute(f);
                                c[b] = c[b] || {}, c[b][k] = {animationID: d, element: O(a)}
                            })
                        } else b.push(a)
                    });
                    var d = {}, e = {};
                    return P(c, function (c, f) {
                        var g = c.from, h = c.to;
                        if (!g || !h) {
                            var i = g ? g.animationID : h.animationID, j = i.toString();
                            return void(d[j] || (d[j] = !0, b.push(a[i])))
                        }
                        var k = a[g.animationID], l = a[h.animationID], m = g.animationID.toString();
                        if (!e[m]) {
                            var n = e[m] = {
                                structural: !0, beforeStart: function () {
                                    k.beforeStart(), l.beforeStart()
                                }, close: function () {
                                    k.close(), l.close()
                                }, classes: w(k.classes, l.classes), from: k, to: l, anchors: []
                            };
                            n.classes.length ? b.push(n) : (b.push(k), b.push(l))
                        }
                        e[m].anchors.push({out: g.element, in: h.element})
                    }), b
                }

                function w(a, b) {
                    a = a.split(" "), b = b.split(" ");
                    for (var c = [], d = 0; d < a.length; d++) {
                        var e = a[d];
                        if ("ng-" !== e.substring(0, 3))for (var f = 0; f < b.length; f++)if (e === b[f]) {
                            c.push(e);
                            break
                        }
                    }
                    return c.join(" ")
                }

                function x(a) {
                    for (var b = g.length - 1; b >= 0; b--) {
                        var c = g[b];
                        if (i.has(c)) {
                            var d = i.get(c), e = d(a);
                            if (e)return e
                        }
                    }
                }

                function y() {
                    k.addClass(ba), F && a.addClass(k, F), G && (a.removeClass(k, G), G = null)
                }

                function z(a, b) {
                    function c(a) {
                        var c = e(a);
                        c && c.setHost(b)
                    }

                    a.from && a.to ? (c(a.from.element), c(a.to.element)) : c(a.element)
                }

                function A() {
                    var a = e(k);
                    !a || "leave" === l && t.$$domOperationFired || a.end()
                }

                function B(b) {
                    k.off("$destroy", A), c(k), r(k, t), n(k, t), t.domOperation(), F && a.removeClass(k, F), k.removeClass(ba), D.complete(!b)
                }

                t = m(t);
                var C = ["enter", "move", "leave"].indexOf(l) >= 0, D = new j({
                    end: function () {
                        B()
                    }, cancel: function () {
                        B(!0)
                    }
                });
                if (!g.length)return B(), D;
                b(k, D);
                var E = d(k.attr("class"), d(t.addClass, t.removeClass)), F = t.tempClasses;
                F && (E += " " + F, t.tempClasses = null);
                var G;
                return C && (G = "ng-" + l + aa, a.addClass(k, G)), q.push({
                    element: k,
                    classes: E,
                    event: l,
                    structural: C,
                    options: t,
                    beforeStart: y,
                    close: B
                }), k.on("$destroy", A), q.length > 1 ? D : (h.$$postDigest(function () {
                    var a = [];
                    P(q, function (b) {
                        e(b.element) ? a.push(b) : b.close()
                    }), q.length = 0;
                    var b = v(a), c = [];
                    P(b, function (a) {
                        c.push({
                            domNode: s(a.from ? a.from.element : a.element), fn: function () {
                                a.beforeStart();
                                var b, c = a.close, d = a.anchors ? a.from.element || a.to.element : a.element;
                                if (e(d)) {
                                    var f = x(a);
                                    f && (b = f.start)
                                }
                                if (b) {
                                    var g = b();
                                    g.done(function (a) {
                                        c(!a)
                                    }), z(a, g)
                                } else c()
                            }
                        })
                    }), o(p(c))
                }), D)
            }
        }]
    }], Ga = ["$animate", "$rootScope", function (a, b) {
        return {
            restrict: "A", transclude: "element", terminal: !0, priority: 600, link: function (b, c, d, e, f) {
                var g, h;
                b.$watchCollection(d.ngAnimateSwap || d.for, function (d) {
                    g && a.leave(g), h && (h.$destroy(), h = null), (d || 0 === d) && (h = b.$new(), f(h, function (b) {
                        g = b, a.enter(b, null, c)
                    }))
                })
            }
        }
    }];
    b.module("ngAnimate", []).directive("ngAnimateSwap", Ga).directive("ngAnimateChildren", ra).factory("$$rAFScheduler", qa).provider("$$animateQueue", Ea).provider("$$animation", Fa).provider("$animateCss", ya).provider("$$animateCssDriver", za).provider("$$animateJs", Aa).provider("$$animateJsDriver", Ba)
}(window, window.angular), "undefined" != typeof module && "undefined" != typeof exports && module.exports === exports && (module.exports = "ui.router"), function (a, b, c) {
    "use strict";
    function d(a, b) {
        return R(new (R(function () {
        }, {prototype: a})), b)
    }

    function e(a) {
        return Q(arguments, function (b) {
            b !== a && Q(b, function (b, c) {
                a.hasOwnProperty(c) || (a[c] = b)
            })
        }), a
    }

    function f(a, b) {
        var c = [];
        for (var d in a.path) {
            if (a.path[d] !== b.path[d])break;
            c.push(a.path[d])
        }
        return c
    }

    function g(a) {
        if (Object.keys)return Object.keys(a);
        var b = [];
        return Q(a, function (a, c) {
            b.push(c)
        }), b
    }

    function h(a, b) {
        if (Array.prototype.indexOf)return a.indexOf(b, Number(arguments[2]) || 0);
        var c = a.length >>> 0, d = Number(arguments[2]) || 0;
        for (d = d < 0 ? Math.ceil(d) : Math.floor(d), d < 0 && (d += c); d < c; d++)if (d in a && a[d] === b)return d;
        return -1
    }

    function i(a, b, c, d) {
        var e, i = f(c, d), j = {}, k = [];
        for (var l in i)if (i[l] && i[l].params && (e = g(i[l].params), e.length))for (var m in e)h(k, e[m]) >= 0 || (k.push(e[m]), j[e[m]] = a[e[m]]);
        return R({}, j, b)
    }

    function j(a, b, c) {
        if (!c) {
            c = [];
            for (var d in a)c.push(d)
        }
        for (var e = 0; e < c.length; e++) {
            var f = c[e];
            if (a[f] != b[f])return !1
        }
        return !0
    }

    function k(a, b) {
        var c = {};
        return Q(a, function (a) {
            c[a] = b[a]
        }), c
    }

    function l(a) {
        var b = {}, c = Array.prototype.concat.apply(Array.prototype, Array.prototype.slice.call(arguments, 1));
        return Q(c, function (c) {
            c in a && (b[c] = a[c])
        }), b
    }

    function m(a) {
        var b = {}, c = Array.prototype.concat.apply(Array.prototype, Array.prototype.slice.call(arguments, 1));
        for (var d in a)h(c, d) == -1 && (b[d] = a[d]);
        return b
    }

    function n(a, b) {
        var c = P(a), d = c ? [] : {};
        return Q(a, function (a, e) {
            b(a, e) && (d[c ? d.length : e] = a)
        }), d
    }

    function o(a, b) {
        var c = P(a) ? [] : {};
        return Q(a, function (a, d) {
            c[d] = b(a, d)
        }), c
    }

    function p(a, b) {
        var d = 1, f = 2, i = {}, j = [], k = i, l = R(a.when(i), {$$promises: i, $$values: i});
        this.study = function (i) {
            function n(a, c) {
                if (s[c] !== f) {
                    if (r.push(c), s[c] === d)throw r.splice(0, h(r, c)), new Error("Cyclic dependency: " + r.join(" -> "));
                    if (s[c] = d, N(a))q.push(c, [function () {
                        return b.get(a)
                    }], j); else {
                        var e = b.annotate(a);
                        Q(e, function (a) {
                            a !== c && i.hasOwnProperty(a) && n(i[a], a)
                        }), q.push(c, a, e)
                    }
                    r.pop(), s[c] = f
                }
            }

            function o(a) {
                return O(a) && a.then && a.$$promises
            }

            if (!O(i))throw new Error("'invocables' must be an object");
            var p = g(i || {}), q = [], r = [], s = {};
            return Q(i, n), i = r = s = null, function (d, f, g) {
                function h() {
                    --u || (v || e(t, f.$$values), r.$$values = t, r.$$promises = r.$$promises || !0, delete r.$$inheritedValues, n.resolve(t))
                }

                function i(a) {
                    r.$$failure = a, n.reject(a)
                }

                function j(c, e, f) {
                    function j(a) {
                        l.reject(a), i(a)
                    }

                    function k() {
                        if (!L(r.$$failure))try {
                            l.resolve(b.invoke(e, g, t)), l.promise.then(function (a) {
                                t[c] = a, h()
                            }, j)
                        } catch (a) {
                            j(a)
                        }
                    }

                    var l = a.defer(), m = 0;
                    Q(f, function (a) {
                        s.hasOwnProperty(a) && !d.hasOwnProperty(a) && (m++, s[a].then(function (b) {
                            t[a] = b, --m || k()
                        }, j))
                    }), m || k(), s[c] = l.promise
                }

                if (o(d) && g === c && (g = f, f = d, d = null), d) {
                    if (!O(d))throw new Error("'locals' must be an object")
                } else d = k;
                if (f) {
                    if (!o(f))throw new Error("'parent' must be a promise returned by $resolve.resolve()")
                } else f = l;
                var n = a.defer(), r = n.promise, s = r.$$promises = {}, t = R({}, d), u = 1 + q.length / 3, v = !1;
                if (L(f.$$failure))return i(f.$$failure), r;
                f.$$inheritedValues && e(t, m(f.$$inheritedValues, p)), R(s, f.$$promises), f.$$values ? (v = e(t, m(f.$$values, p)), r.$$inheritedValues = m(f.$$values, p), h()) : (f.$$inheritedValues && (r.$$inheritedValues = m(f.$$inheritedValues, p)), f.then(h, i));
                for (var w = 0, x = q.length; w < x; w += 3)d.hasOwnProperty(q[w]) ? h() : j(q[w], q[w + 1], q[w + 2]);
                return r
            }
        }, this.resolve = function (a, b, c, d) {
            return this.study(a)(b, c, d)
        }
    }

    function q(a, b, c) {
        this.fromConfig = function (a, b, c) {
            return L(a.template) ? this.fromString(a.template, b) : L(a.templateUrl) ? this.fromUrl(a.templateUrl, b) : L(a.templateProvider) ? this.fromProvider(a.templateProvider, b, c) : null
        }, this.fromString = function (a, b) {
            return M(a) ? a(b) : a
        }, this.fromUrl = function (c, d) {
            return M(c) && (c = c(d)), null == c ? null : a.get(c, {
                cache: b,
                headers: {Accept: "text/html"}
            }).then(function (a) {
                return a.data
            })
        }, this.fromProvider = function (a, b, d) {
            return c.invoke(a, null, d || {params: b})
        }
    }

    function r(a, b, e) {
        function f(b, c, d, e) {
            if (q.push(b), o[b])return o[b];
            if (!/^\w+([-.]+\w+)*(?:\[\])?$/.test(b))throw new Error("Invalid parameter name '" + b + "' in pattern '" + a + "'");
            if (p[b])throw new Error("Duplicate parameter name '" + b + "' in pattern '" + a + "'");
            return p[b] = new U.Param(b, c, d, e), p[b]
        }

        function g(a, b, c, d) {
            var e = ["", ""], f = a.replace(/[\\\[\]\^$*+?.()|{}]/g, "\\$&");
            if (!b)return f;
            switch (c) {
                case!1:
                    e = ["(", ")" + (d ? "?" : "")];
                    break;
                case!0:
                    f = f.replace(/\/$/, ""), e = ["(?:/(", ")|/)?"];
                    break;
                default:
                    e = ["(" + c + "|", ")?"]
            }
            return f + e[0] + b + e[1]
        }

        function h(e, f) {
            var g, h, i, j, k;
            return g = e[2] || e[3], k = b.params[g], i = a.substring(m, e.index), h = f ? e[4] : e[4] || ("*" == e[1] ? ".*" : null), h && (j = U.type(h) || d(U.type("string"), {pattern: new RegExp(h, b.caseInsensitive ? "i" : c)})), {
                id: g,
                regexp: h,
                segment: i,
                type: j,
                cfg: k
            }
        }

        b = R({params: {}}, O(b) ? b : {});
        var i, j = /([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g, k = /([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g, l = "^", m = 0, n = this.segments = [], o = e ? e.params : {}, p = this.params = e ? e.params.$$new() : new U.ParamSet, q = [];
        this.source = a;
        for (var r, s, t; (i = j.exec(a)) && (r = h(i, !1), !(r.segment.indexOf("?") >= 0));)s = f(r.id, r.type, r.cfg, "path"), l += g(r.segment, s.type.pattern.source, s.squash, s.isOptional), n.push(r.segment), m = j.lastIndex;
        t = a.substring(m);
        var u = t.indexOf("?");
        if (u >= 0) {
            var v = this.sourceSearch = t.substring(u);
            if (t = t.substring(0, u), this.sourcePath = a.substring(0, m + u), v.length > 0)for (m = 0; i = k.exec(v);)r = h(i, !0), s = f(r.id, r.type, r.cfg, "search"), m = j.lastIndex
        } else this.sourcePath = a, this.sourceSearch = "";
        l += g(t) + (b.strict === !1 ? "/?" : "") + "$", n.push(t), this.regexp = new RegExp(l, b.caseInsensitive ? "i" : c), this.prefix = n[0], this.$$paramNames = q
    }

    function s(a) {
        R(this, a)
    }

    function t() {
        function a(a) {
            return null != a ? a.toString().replace(/~/g, "~~").replace(/\//g, "~2F") : a
        }

        function e(a) {
            return null != a ? a.toString().replace(/~2F/g, "/").replace(/~~/g, "~") : a
        }

        function f() {
            return {strict: p, caseInsensitive: m}
        }

        function i(a) {
            return M(a) || P(a) && M(a[a.length - 1])
        }

        function j() {
            for (; w.length;) {
                var a = w.shift();
                if (a.pattern)throw new Error("You cannot override a type's .pattern at runtime.");
                b.extend(u[a.name], l.invoke(a.def))
            }
        }

        function k(a) {
            R(this, a || {})
        }

        U = this;
        var l, m = !1, p = !0, q = !1, u = {}, v = !0, w = [], x = {
            string: {
                encode: a, decode: e, is: function (a) {
                    return null == a || !L(a) || "string" == typeof a
                }, pattern: /[^/]*/
            },
            int: {
                encode: a, decode: function (a) {
                    return parseInt(a, 10)
                }, is: function (a) {
                    return L(a) && this.decode(a.toString()) === a
                }, pattern: /\d+/
            },
            bool: {
                encode: function (a) {
                    return a ? 1 : 0
                }, decode: function (a) {
                    return 0 !== parseInt(a, 10)
                }, is: function (a) {
                    return a === !0 || a === !1
                }, pattern: /0|1/
            },
            date: {
                encode: function (a) {
                    return this.is(a) ? [a.getFullYear(), ("0" + (a.getMonth() + 1)).slice(-2), ("0" + a.getDate()).slice(-2)].join("-") : c
                },
                decode: function (a) {
                    if (this.is(a))return a;
                    var b = this.capture.exec(a);
                    return b ? new Date(b[1], b[2] - 1, b[3]) : c
                },
                is: function (a) {
                    return a instanceof Date && !isNaN(a.valueOf())
                },
                equals: function (a, b) {
                    return this.is(a) && this.is(b) && a.toISOString() === b.toISOString()
                },
                pattern: /[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,
                capture: /([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/
            },
            json: {encode: b.toJson, decode: b.fromJson, is: b.isObject, equals: b.equals, pattern: /[^/]*/},
            any: {encode: b.identity, decode: b.identity, equals: b.equals, pattern: /.*/}
        };
        t.$$getDefaultValue = function (a) {
            if (!i(a.value))return a.value;
            if (!l)throw new Error("Injectable functions cannot be called at configuration time");
            return l.invoke(a.value)
        }, this.caseInsensitive = function (a) {
            return L(a) && (m = a), m
        }, this.strictMode = function (a) {
            return L(a) && (p = a), p
        }, this.defaultSquashPolicy = function (a) {
            if (!L(a))return q;
            if (a !== !0 && a !== !1 && !N(a))throw new Error("Invalid squash policy: " + a + ". Valid policies: false, true, arbitrary-string");
            return q = a, a
        }, this.compile = function (a, b) {
            return new r(a, R(f(), b))
        }, this.isMatcher = function (a) {
            if (!O(a))return !1;
            var b = !0;
            return Q(r.prototype, function (c, d) {
                M(c) && (b = b && L(a[d]) && M(a[d]))
            }), b
        }, this.type = function (a, b, c) {
            if (!L(b))return u[a];
            if (u.hasOwnProperty(a))throw new Error("A type named '" + a + "' has already been defined.");
            return u[a] = new s(R({name: a}, b)), c && (w.push({name: a, def: c}), v || j()), this
        }, Q(x, function (a, b) {
            u[b] = new s(R({name: b}, a))
        }), u = d(u, {}), this.$get = ["$injector", function (a) {
            return l = a, v = !1, j(), Q(x, function (a, b) {
                u[b] || (u[b] = new s(a))
            }), this
        }], this.Param = function (a, d, e, f) {
            function j(a) {
                var b = O(a) ? g(a) : [], c = h(b, "value") === -1 && h(b, "type") === -1 && h(b, "squash") === -1 && h(b, "array") === -1;
                return c && (a = {value: a}), a.$$fn = i(a.value) ? a.value : function () {
                    return a.value
                }, a
            }

            function k(c, d, e) {
                if (c.type && d)throw new Error("Param '" + a + "' has two type configurations.");
                return d ? d : c.type ? b.isString(c.type) ? u[c.type] : c.type instanceof s ? c.type : new s(c.type) : "config" === e ? u.any : u.string
            }

            function m() {
                var b = {array: "search" === f && "auto"}, c = a.match(/\[\]$/) ? {array: !0} : {};
                return R(b, c, e).array
            }

            function p(a, b) {
                var c = a.squash;
                if (!b || c === !1)return !1;
                if (!L(c) || null == c)return q;
                if (c === !0 || N(c))return c;
                throw new Error("Invalid squash policy: '" + c + "'. Valid policies: false, true, or arbitrary string")
            }

            function r(a, b, d, e) {
                var f, g, i = [{from: "", to: d || b ? c : ""}, {from: null, to: d || b ? c : ""}];
                return f = P(a.replace) ? a.replace : [], N(e) && f.push({from: e, to: c}), g = o(f, function (a) {
                    return a.from
                }), n(i, function (a) {
                    return h(g, a.from) === -1
                }).concat(f)
            }

            function t() {
                if (!l)throw new Error("Injectable functions cannot be called at configuration time");
                var a = l.invoke(e.$$fn);
                if (null !== a && a !== c && !x.type.is(a))throw new Error("Default value (" + a + ") for parameter '" + x.id + "' is not an instance of Type (" + x.type.name + ")");
                return a
            }

            function v(a) {
                function b(a) {
                    return function (b) {
                        return b.from === a
                    }
                }

                function c(a) {
                    var c = o(n(x.replace, b(a)), function (a) {
                        return a.to
                    });
                    return c.length ? c[0] : a
                }

                return a = c(a), L(a) ? x.type.$normalize(a) : t()
            }

            function w() {
                return "{Param:" + a + " " + d + " squash: '" + A + "' optional: " + z + "}"
            }

            var x = this;
            e = j(e), d = k(e, d, f);
            var y = m();
            d = y ? d.$asArray(y, "search" === f) : d, "string" !== d.name || y || "path" !== f || e.value !== c || (e.value = "");
            var z = e.value !== c, A = p(e, z), B = r(e, y, z, A);
            R(this, {
                id: a,
                type: d,
                location: f,
                array: y,
                squash: A,
                replace: B,
                isOptional: z,
                value: v,
                dynamic: c,
                config: e,
                toString: w
            })
        }, k.prototype = {
            $$new: function () {
                return d(this, R(new k, {$$parent: this}))
            }, $$keys: function () {
                for (var a = [], b = [], c = this, d = g(k.prototype); c;)b.push(c), c = c.$$parent;
                return b.reverse(), Q(b, function (b) {
                    Q(g(b), function (b) {
                        h(a, b) === -1 && h(d, b) === -1 && a.push(b)
                    })
                }), a
            }, $$values: function (a) {
                var b = {}, c = this;
                return Q(c.$$keys(), function (d) {
                    b[d] = c[d].value(a && a[d])
                }), b
            }, $$equals: function (a, b) {
                var c = !0, d = this;
                return Q(d.$$keys(), function (e) {
                    var f = a && a[e], g = b && b[e];
                    d[e].type.equals(f, g) || (c = !1)
                }), c
            }, $$validates: function (a) {
                var d, e, f, g, h, i = this.$$keys();
                for (d = 0; d < i.length && (e = this[i[d]], f = a[i[d]], f !== c && null !== f || !e.isOptional); d++) {
                    if (g = e.type.$normalize(f), !e.type.is(g))return !1;
                    if (h = e.type.encode(g), b.isString(h) && !e.type.pattern.exec(h))return !1
                }
                return !0
            }, $$parent: c
        }, this.ParamSet = k
    }

    function u(a, d) {
        function e(a) {
            var b = /^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(a.source);
            return null != b ? b[1].replace(/\\(.)/g, "$1") : ""
        }

        function f(a, b) {
            return a.replace(/\$(\$|\d{1,2})/, function (a, c) {
                return b["$" === c ? 0 : Number(c)]
            })
        }

        function g(a, b, c) {
            if (!c)return !1;
            var d = a.invoke(b, b, {$match: c});
            return !L(d) || d
        }

        function h(d, e, f, g, h) {
            function m(a, b, c) {
                return "/" === q ? a : b ? q.slice(0, -1) + a : c ? q.slice(1) + a : a
            }

            function n(a) {
                function b(a) {
                    var b = a(f, d);
                    return !!b && (N(b) && d.replace().url(b), !0)
                }

                if (!a || !a.defaultPrevented) {
                    p && d.url() === p;
                    p = c;
                    var e, g = j.length;
                    for (e = 0; e < g; e++)if (b(j[e]))return;
                    k && b(k)
                }
            }

            function o() {
                return i = i || e.$on("$locationChangeSuccess", n)
            }

            var p, q = g.baseHref(), r = d.url();
            return l || o(), {
                sync: function () {
                    n()
                }, listen: function () {
                    return o()
                }, update: function (a) {
                    return a ? void(r = d.url()) : void(d.url() !== r && (d.url(r), d.replace()))
                }, push: function (a, b, e) {
                    var f = a.format(b || {});
                    null !== f && b && b["#"] && (f += "#" + b["#"]), d.url(f), p = e && e.$$avoidResync ? d.url() : c, e && e.replace && d.replace()
                }, href: function (c, e, f) {
                    if (!c.validates(e))return null;
                    var g = a.html5Mode();
                    b.isObject(g) && (g = g.enabled), g = g && h.history;
                    var i = c.format(e);
                    if (f = f || {}, g || null === i || (i = "#" + a.hashPrefix() + i), null !== i && e && e["#"] && (i += "#" + e["#"]), i = m(i, g, f.absolute), !f.absolute || !i)return i;
                    var j = !g && i ? "/" : "", k = d.port();
                    return k = 80 === k || 443 === k ? "" : ":" + k, [d.protocol(), "://", d.host(), k, j, i].join("")
                }
            }
        }

        var i, j = [], k = null, l = !1;
        this.rule = function (a) {
            if (!M(a))throw new Error("'rule' must be a function");
            return j.push(a), this
        }, this.otherwise = function (a) {
            if (N(a)) {
                var b = a;
                a = function () {
                    return b
                }
            } else if (!M(a))throw new Error("'rule' must be a function");
            return k = a, this
        }, this.when = function (a, b) {
            var c, h = N(b);
            if (N(a) && (a = d.compile(a)), !h && !M(b) && !P(b))throw new Error("invalid 'handler' in when()");
            var i = {
                matcher: function (a, b) {
                    return h && (c = d.compile(b), b = ["$match", function (a) {
                        return c.format(a)
                    }]), R(function (c, d) {
                        return g(c, b, a.exec(d.path(), d.search()))
                    }, {prefix: N(a.prefix) ? a.prefix : ""})
                }, regex: function (a, b) {
                    if (a.global || a.sticky)throw new Error("when() RegExp must not be global or sticky");
                    return h && (c = b, b = ["$match", function (a) {
                        return f(c, a)
                    }]), R(function (c, d) {
                        return g(c, b, a.exec(d.path()))
                    }, {prefix: e(a)})
                }
            }, j = {matcher: d.isMatcher(a), regex: a instanceof RegExp};
            for (var k in j)if (j[k])return this.rule(i[k](a, b));
            throw new Error("invalid 'what' in when()")
        }, this.deferIntercept = function (a) {
            a === c && (a = !0), l = a
        }, this.$get = h, h.$inject = ["$location", "$rootScope", "$injector", "$browser", "$sniffer"]
    }

    function v(a, e) {
        function f(a) {
            return 0 === a.indexOf(".") || 0 === a.indexOf("^")
        }

        function m(a, b) {
            if (!a)return c;
            var d = N(a), e = d ? a : a.name, g = f(e);
            if (g) {
                if (!b)throw new Error("No reference point given for path '" + e + "'");
                b = m(b);
                for (var h = e.split("."), i = 0, j = h.length, k = b; i < j; i++)if ("" !== h[i] || 0 !== i) {
                    if ("^" !== h[i])break;
                    if (!k.parent)throw new Error("Path '" + e + "' not valid for state '" + b.name + "'");
                    k = k.parent
                } else k = b;
                h = h.slice(i).join("."), e = k.name + (k.name && h ? "." : "") + h
            }
            var l = z[e];
            return !l || !d && (d || l !== a && l.self !== a) ? c : l
        }

        function n(a, b) {
            A[a] || (A[a] = []), A[a].push(b)
        }

        function p(a) {
            for (var b = A[a] || []; b.length;)q(b.shift())
        }

        function q(b) {
            b = d(b, {
                self: b, resolve: b.resolve || {}, toString: function () {
                    return this.name
                }
            });
            var c = b.name;
            if (!N(c) || c.indexOf("@") >= 0)throw new Error("State must have a valid name");
            if (z.hasOwnProperty(c))throw new Error("State '" + c + "' is already defined");
            var e = c.indexOf(".") !== -1 ? c.substring(0, c.lastIndexOf(".")) : N(b.parent) ? b.parent : O(b.parent) && N(b.parent.name) ? b.parent.name : "";
            if (e && !z[e])return n(e, b.self);
            for (var f in C)M(C[f]) && (b[f] = C[f](b, C.$delegates[f]));
            return z[c] = b, !b[B] && b.url && a.when(b.url, ["$match", "$stateParams", function (a, c) {
                y.$current.navigable == b && j(a, c) || y.transitionTo(b, a, {inherit: !0, location: !1})
            }]), p(c), b
        }

        function r(a) {
            return a.indexOf("*") > -1
        }

        function s(a) {
            for (var b = a.split("."), c = y.$current.name.split("."), d = 0, e = b.length; d < e; d++)"*" === b[d] && (c[d] = "*");
            return "**" === b[0] && (c = c.slice(h(c, b[1])), c.unshift("**")), "**" === b[b.length - 1] && (c.splice(h(c, b[b.length - 2]) + 1, Number.MAX_VALUE), c.push("**")), b.length == c.length && c.join("") === b.join("")
        }

        function t(a, b) {
            return N(a) && !L(b) ? C[a] : M(b) && N(a) ? (C[a] && !C.$delegates[a] && (C.$delegates[a] = C[a]), C[a] = b, this) : this
        }

        function u(a, b) {
            return O(a) ? b = a : b.name = a, q(b), this
        }

        function v(a, e, f, h, l, n, p, q, t) {
            function u(b, c, d, f) {
                var g = a.$broadcast("$stateNotFound", b, c, d);
                if (g.defaultPrevented)return p.update(), D;
                if (!g.retry)return null;
                if (f.$retry)return p.update(), E;
                var h = y.transition = e.when(g.retry);
                return h.then(function () {
                    return h !== y.transition ? A : (b.options.$retry = !0, y.transitionTo(b.to, b.toParams, b.options))
                }, function () {
                    return D
                }), p.update(), h
            }

            function v(a, c, d, g, i, j) {
                function m() {
                    var c = [];
                    return Q(a.views, function (d, e) {
                        var g = d.resolve && d.resolve !== a.resolve ? d.resolve : {};
                        g.$template = [function () {
                            return f.load(e, {view: d, locals: i.globals, params: n, notify: j.notify}) || ""
                        }], c.push(l.resolve(g, i.globals, i.resolve, a).then(function (c) {
                            if (M(d.controllerProvider) || P(d.controllerProvider)) {
                                var f = b.extend({}, g, i.globals);
                                c.$$controller = h.invoke(d.controllerProvider, null, f)
                            } else c.$$controller = d.controller;
                            c.$$state = a, c.$$controllerAs = d.controllerAs, c.$$resolveAs = d.resolveAs, i[e] = c
                        }))
                    }), e.all(c).then(function () {
                        return i.globals
                    })
                }

                var n = d ? c : k(a.params.$$keys(), c), o = {$stateParams: n};
                i.resolve = l.resolve(a.resolve, o, i.resolve, a);
                var p = [i.resolve.then(function (a) {
                    i.globals = a
                })];
                return g && p.push(g), e.all(p).then(m).then(function (a) {
                    return i
                })
            }

            var A = e.reject(new Error("transition superseded")), C = e.reject(new Error("transition prevented")), D = e.reject(new Error("transition aborted")), E = e.reject(new Error("transition failed"));
            return x.locals = {resolve: null, globals: {$stateParams: {}}}, y = {
                params: {},
                current: x.self,
                $current: x,
                transition: null
            }, y.reload = function (a) {
                return y.transitionTo(y.current, n, {reload: a || !0, inherit: !1, notify: !0})
            }, y.go = function (a, b, c) {
                return y.transitionTo(a, b, R({inherit: !0, relative: y.$current}, c))
            }, y.transitionTo = function (b, c, f) {
                c = c || {}, f = R({
                    location: !0,
                    inherit: !1,
                    relative: null,
                    notify: !0,
                    reload: !1,
                    $retry: !1
                }, f || {});
                var g, j = y.$current, l = y.params, o = j.path, q = m(b, f.relative), r = c["#"];
                if (!L(q)) {
                    var s = {to: b, toParams: c, options: f}, t = u(s, j.self, l, f);
                    if (t)return t;
                    if (b = s.to, c = s.toParams, f = s.options, q = m(b, f.relative), !L(q)) {
                        if (!f.relative)throw new Error("No such state '" + b + "'");
                        throw new Error("Could not resolve '" + b + "' from state '" + f.relative + "'")
                    }
                }
                if (q[B])throw new Error("Cannot transition to abstract state '" + b + "'");
                if (f.inherit && (c = i(n, c || {}, y.$current, q)), !q.params.$$validates(c))return E;
                c = q.params.$$values(c), b = q;
                var z = b.path, D = 0, F = z[D], G = x.locals, H = [];
                if (f.reload) {
                    if (N(f.reload) || O(f.reload)) {
                        if (O(f.reload) && !f.reload.name)throw new Error("Invalid reload state object");
                        var I = f.reload === !0 ? o[0] : m(f.reload);
                        if (f.reload && !I)throw new Error("No such reload state '" + (N(f.reload) ? f.reload : f.reload.name) + "'");
                        for (; F && F === o[D] && F !== I;)G = H[D] = F.locals, D++, F = z[D]
                    }
                } else for (; F && F === o[D] && F.ownParams.$$equals(c, l);)G = H[D] = F.locals, D++, F = z[D];
                if (w(b, c, j, l, G, f))return r && (c["#"] = r), y.params = c, S(y.params, n), S(k(b.params.$$keys(), n), b.locals.globals.$stateParams), f.location && b.navigable && b.navigable.url && (p.push(b.navigable.url, c, {
                    $$avoidResync: !0,
                    replace: "replace" === f.location
                }), p.update(!0)), y.transition = null, e.when(y.current);
                if (c = k(b.params.$$keys(), c || {}), r && (c["#"] = r), f.notify && a.$broadcast("$stateChangeStart", b.self, c, j.self, l, f).defaultPrevented)return a.$broadcast("$stateChangeCancel", b.self, c, j.self, l), null == y.transition && p.update(), C;
                for (var J = e.when(G), K = D; K < z.length; K++, F = z[K])G = H[K] = d(G), J = v(F, c, F === b, J, G, f);
                var M = y.transition = J.then(function () {
                    var d, e, g;
                    if (y.transition !== M)return A;
                    for (d = o.length - 1; d >= D; d--)g = o[d], g.self.onExit && h.invoke(g.self.onExit, g.self, g.locals.globals), g.locals = null;
                    for (d = D; d < z.length; d++)e = z[d], e.locals = H[d], e.self.onEnter && h.invoke(e.self.onEnter, e.self, e.locals.globals);
                    return y.transition !== M ? A : (y.$current = b, y.current = b.self, y.params = c, S(y.params, n), y.transition = null, f.location && b.navigable && p.push(b.navigable.url, b.navigable.locals.globals.$stateParams, {
                        $$avoidResync: !0,
                        replace: "replace" === f.location
                    }), f.notify && a.$broadcast("$stateChangeSuccess", b.self, c, j.self, l), p.update(!0), y.current)
                }).then(null, function (d) {
                    return y.transition !== M ? A : (y.transition = null, g = a.$broadcast("$stateChangeError", b.self, c, j.self, l, d), g.defaultPrevented || p.update(), e.reject(d))
                });
                return M
            }, y.is = function (a, b, d) {
                d = R({relative: y.$current}, d || {});
                var e = m(a, d.relative);
                return L(e) ? y.$current === e && (!b || j(e.params.$$values(b), n)) : c
            }, y.includes = function (a, b, d) {
                if (d = R({relative: y.$current}, d || {}), N(a) && r(a)) {
                    if (!s(a))return !1;
                    a = y.$current.name
                }
                var e = m(a, d.relative);
                return L(e) ? !!L(y.$current.includes[e.name]) && (!b || j(e.params.$$values(b), n, g(b))) : c
            }, y.href = function (a, b, d) {
                d = R({lossy: !0, inherit: !0, absolute: !1, relative: y.$current}, d || {});
                var e = m(a, d.relative);
                if (!L(e))return null;
                d.inherit && (b = i(n, b || {}, y.$current, e));
                var f = e && d.lossy ? e.navigable : e;
                return f && f.url !== c && null !== f.url ? p.href(f.url, k(e.params.$$keys().concat("#"), b || {}), {absolute: d.absolute}) : null
            }, y.get = function (a, b) {
                if (0 === arguments.length)return o(g(z), function (a) {
                    return z[a].self
                });
                var c = m(a, b || y.$current);
                return c && c.self ? c.self : null
            }, y
        }

        function w(a, b, c, d, e, f) {
            function g(a, b, c) {
                function d(b) {
                    return "search" != a.params[b].location
                }

                var e = a.params.$$keys().filter(d), f = l.apply({}, [a.params].concat(e)), g = new U.ParamSet(f);
                return g.$$equals(b, c)
            }

            if (!f.reload && a === c && (e === c.locals || a.self.reloadOnSearch === !1 && g(c, d, b)))return !0
        }

        var x, y, z = {}, A = {}, B = "abstract", C = {
            parent: function (a) {
                if (L(a.parent) && a.parent)return m(a.parent);
                var b = /^(.+)\.[^.]+$/.exec(a.name);
                return b ? m(b[1]) : x
            }, data: function (a) {
                return a.parent && a.parent.data && (a.data = a.self.data = d(a.parent.data, a.data)), a.data
            }, url: function (a) {
                var b = a.url, c = {params: a.params || {}};
                if (N(b))return "^" == b.charAt(0) ? e.compile(b.substring(1), c) : (a.parent.navigable || x).url.concat(b, c);
                if (!b || e.isMatcher(b))return b;
                throw new Error("Invalid url '" + b + "' in state '" + a + "'")
            }, navigable: function (a) {
                return a.url ? a : a.parent ? a.parent.navigable : null
            }, ownParams: function (a) {
                var b = a.url && a.url.params || new U.ParamSet;
                return Q(a.params || {}, function (a, c) {
                    b[c] || (b[c] = new U.Param(c, null, a, "config"))
                }), b
            }, params: function (a) {
                var b = l(a.ownParams, a.ownParams.$$keys());
                return a.parent && a.parent.params ? R(a.parent.params.$$new(), b) : new U.ParamSet
            }, views: function (a) {
                var b = {};
                return Q(L(a.views) ? a.views : {"": a}, function (c, d) {
                    d.indexOf("@") < 0 && (d += "@" + a.parent.name), c.resolveAs = c.resolveAs || a.resolveAs || "$resolve", b[d] = c
                }), b
            }, path: function (a) {
                return a.parent ? a.parent.path.concat(a) : []
            }, includes: function (a) {
                var b = a.parent ? R({}, a.parent.includes) : {};
                return b[a.name] = !0, b
            }, $delegates: {}
        };
        x = q({
            name: "",
            url: "^",
            views: null,
            abstract: !0
        }), x.navigable = null, this.decorator = t, this.state = u, this.$get = v, v.$inject = ["$rootScope", "$q", "$view", "$injector", "$resolve", "$stateParams", "$urlRouter", "$location", "$urlMatcherFactory"]
    }

    function w() {
        function a(a, b) {
            return {
                load: function (a, c) {
                    var d, e = {
                        template: null,
                        controller: null,
                        view: null,
                        locals: null,
                        notify: !0,
                        async: !0,
                        params: {}
                    };
                    return c = R(e, c), c.view && (d = b.fromConfig(c.view, c.params, c.locals)), d
                }
            }
        }

        this.$get = a, a.$inject = ["$rootScope", "$templateFactory"]
    }

    function x() {
        var a = !1;
        this.useAnchorScroll = function () {
            a = !0
        }, this.$get = ["$anchorScroll", "$timeout", function (b, c) {
            return a ? b : function (a) {
                return c(function () {
                    a[0].scrollIntoView()
                }, 0, !1)
            }
        }]
    }

    function y(a, c, d, e, f) {
        function g() {
            return c.has ? function (a) {
                return c.has(a) ? c.get(a) : null
            } : function (a) {
                try {
                    return c.get(a)
                } catch (a) {
                    return null
                }
            }
        }

        function h(a, c) {
            var d = function () {
                return {
                    enter: function (a, b, c) {
                        b.after(a), c()
                    }, leave: function (a, b) {
                        a.remove(), b()
                    }
                }
            };
            if (k)return {
                enter: function (a, c, d) {
                    b.version.minor > 2 ? k.enter(a, null, c).then(d) : k.enter(a, null, c, d)
                }, leave: function (a, c) {
                    b.version.minor > 2 ? k.leave(a).then(c) : k.leave(a, c)
                }
            };
            if (j) {
                var e = j && j(c, a);
                return {
                    enter: function (a, b, c) {
                        e.enter(a, null, b), c()
                    }, leave: function (a, b) {
                        e.leave(a), b()
                    }
                }
            }
            return d()
        }

        var i = g(), j = i("$animator"), k = i("$animate"), l = {
            restrict: "ECA",
            terminal: !0,
            priority: 400,
            transclude: "element",
            compile: function (c, g, i) {
                return function (c, g, j) {
                    function k() {
                        if (m && (m.remove(), m = null), o && (o.$destroy(), o = null), n) {
                            var a = n.data("$uiViewAnim");
                            s.leave(n, function () {
                                a.$$animLeave.resolve(), m = null
                            }), m = n, n = null
                        }
                    }

                    function l(h) {
                        var l, m = A(c, j, g, e), t = m && a.$current && a.$current.locals[m];
                        if (h || t !== p) {
                            l = c.$new(), p = a.$current.locals[m], l.$emit("$viewContentLoading", m);
                            var u = i(l, function (a) {
                                var e = f.defer(), h = f.defer(), i = {
                                    $animEnter: e.promise,
                                    $animLeave: h.promise,
                                    $$animLeave: h
                                };
                                a.data("$uiViewAnim", i), s.enter(a, g, function () {
                                    e.resolve(), o && o.$emit("$viewContentAnimationEnded"), (b.isDefined(r) && !r || c.$eval(r)) && d(a)
                                }), k()
                            });
                            n = u, o = l, o.$emit("$viewContentLoaded", m), o.$eval(q)
                        }
                    }

                    var m, n, o, p, q = j.onload || "", r = j.autoscroll, s = h(j, c);
                    g.inheritedData("$uiView");
                    c.$on("$stateChangeSuccess", function () {
                        l(!1)
                    }), l(!0)
                }
            }
        };
        return l
    }

    function z(a, c, d, e) {
        return {
            restrict: "ECA", priority: -400, compile: function (f) {
                var g = f.html();
                return function (f, h, i) {
                    var j = d.$current, k = A(f, i, h, e), l = j && j.locals[k];
                    if (l) {
                        h.data("$uiView", {name: k, state: l.$$state}), h.html(l.$template ? l.$template : g);
                        var m = b.extend({}, l);
                        f[l.$$resolveAs] = m;
                        var n = a(h.contents());
                        if (l.$$controller) {
                            l.$scope = f, l.$element = h;
                            var o = c(l.$$controller, l);
                            l.$$controllerAs && (f[l.$$controllerAs] = o, f[l.$$controllerAs][l.$$resolveAs] = m), M(o.$onInit) && o.$onInit(), h.data("$ngControllerController", o), h.children().data("$ngControllerController", o)
                        }
                        n(f)
                    }
                }
            }
        }
    }

    function A(a, b, c, d) {
        var e = d(b.uiView || b.name || "")(a), f = c.inheritedData("$uiView");
        return e.indexOf("@") >= 0 ? e : e + "@" + (f ? f.state.name : "")
    }

    function B(a, b) {
        var c, d = a.match(/^\s*({[^}]*})\s*$/);
        if (d && (a = b + "(" + d[1] + ")"), c = a.replace(/\n/g, " ").match(/^([^(]+?)\s*(\((.*)\))?$/), !c || 4 !== c.length)throw new Error("Invalid state ref '" + a + "'");
        return {state: c[1], paramExpr: c[3] || null}
    }

    function C(a) {
        var b = a.parent().inheritedData("$uiView");
        if (b && b.state && b.state.name)return b.state
    }

    function D(a) {
        var b = "[object SVGAnimatedString]" === Object.prototype.toString.call(a.prop("href")), c = "FORM" === a[0].nodeName;
        return {
            attr: c ? "action" : b ? "xlink:href" : "href",
            isAnchor: "A" === a.prop("tagName").toUpperCase(),
            clickable: !c
        }
    }

    function E(a, b, c, d, e) {
        return function (f) {
            var g = f.which || f.button, h = e();
            if (!(g > 1 || f.ctrlKey || f.metaKey || f.shiftKey || a.attr("target"))) {
                var i = c(function () {
                    b.go(h.state, h.params, h.options)
                });
                f.preventDefault();
                var j = d.isAnchor && !h.href ? 1 : 0;
                f.preventDefault = function () {
                    j-- <= 0 && c.cancel(i)
                }
            }
        }
    }

    function F(a, b) {
        return {relative: C(a) || b.$current, inherit: !0}
    }

    function G(a, c) {
        return {
            restrict: "A", require: ["?^uiSrefActive", "?^uiSrefActiveEq"], link: function (d, e, f, g) {
                var h, i = B(f.uiSref, a.current.name), j = {
                    state: i.state,
                    href: null,
                    params: null
                }, k = D(e), l = g[1] || g[0], m = null;
                j.options = R(F(e, a), f.uiSrefOpts ? d.$eval(f.uiSrefOpts) : {});
                var n = function (c) {
                    c && (j.params = b.copy(c)), j.href = a.href(i.state, j.params, j.options), m && m(), l && (m = l.$$addStateInfo(i.state, j.params)), null !== j.href && f.$set(k.attr, j.href)
                };
                i.paramExpr && (d.$watch(i.paramExpr, function (a) {
                    a !== j.params && n(a)
                }, !0), j.params = b.copy(d.$eval(i.paramExpr))), n(), k.clickable && (h = E(e, a, c, k, function () {
                    return j
                }), e.bind("click", h), d.$on("$destroy", function () {
                    e.unbind("click", h)
                }))
            }
        }
    }

    function H(a, b) {
        return {
            restrict: "A", require: ["?^uiSrefActive", "?^uiSrefActiveEq"], link: function (c, d, e, f) {
                function g(b) {
                    m.state = b[0], m.params = b[1], m.options = b[2], m.href = a.href(m.state, m.params, m.options), n && n(), j && (n = j.$$addStateInfo(m.state, m.params)), m.href && e.$set(i.attr, m.href)
                }

                var h, i = D(d), j = f[1] || f[0], k = [e.uiState, e.uiStateParams || null, e.uiStateOpts || null], l = "[" + k.map(function (a) {
                        return a || "null"
                    }).join(", ") + "]", m = {state: null, params: null, options: null, href: null}, n = null;
                c.$watch(l, g, !0), g(c.$eval(l)), i.clickable && (h = E(d, a, b, i, function () {
                    return m
                }), d.bind("click", h), c.$on("$destroy", function () {
                    d.unbind("click", h)
                }))
            }
        }
    }

    function I(a, b, c) {
        return {
            restrict: "A", controller: ["$scope", "$element", "$attrs", "$timeout", function (b, d, e, f) {
                function g(b, c, e) {
                    var f = a.get(b, C(d)), g = h(b, c), i = {state: f || {name: b}, params: c, hash: g};
                    return p.push(i), q[g] = e, function () {
                        var a = p.indexOf(i);
                        a !== -1 && p.splice(a, 1)
                    }
                }

                function h(a, c) {
                    if (!N(a))throw new Error("state should be a string");
                    return O(c) ? a + T(c) : (c = b.$eval(c), O(c) ? a + T(c) : a)
                }

                function i() {
                    for (var a = 0; a < p.length; a++)l(p[a].state, p[a].params) ? j(d, q[p[a].hash]) : k(d, q[p[a].hash]), m(p[a].state, p[a].params) ? j(d, n) : k(d, n)
                }

                function j(a, b) {
                    f(function () {
                        a.addClass(b)
                    })
                }

                function k(a, b) {
                    a.removeClass(b)
                }

                function l(b, c) {
                    return a.includes(b.name, c)
                }

                function m(b, c) {
                    return a.is(b.name, c)
                }

                var n, o, p = [], q = {};
                n = c(e.uiSrefActiveEq || "", !1)(b);
                try {
                    o = b.$eval(e.uiSrefActive)
                } catch (a) {
                }
                o = o || c(e.uiSrefActive || "", !1)(b), O(o) && Q(o, function (c, d) {
                    if (N(c)) {
                        var e = B(c, a.current.name);
                        g(e.state, b.$eval(e.paramExpr), d)
                    }
                }), this.$$addStateInfo = function (a, b) {
                    if (!(O(o) && p.length > 0)) {
                        var c = g(a, b, o);
                        return i(), c
                    }
                }, b.$on("$stateChangeSuccess", i), i()
            }]
        }
    }

    function J(a) {
        var b = function (b, c) {
            return a.is(b, c)
        };
        return b.$stateful = !0, b
    }

    function K(a) {
        var b = function (b, c, d) {
            return a.includes(b, c, d)
        };
        return b.$stateful = !0, b
    }

    var L = b.isDefined, M = b.isFunction, N = b.isString, O = b.isObject, P = b.isArray, Q = b.forEach, R = b.extend, S = b.copy, T = b.toJson;
    b.module("ui.router.util", ["ng"]), b.module("ui.router.router", ["ui.router.util"]), b.module("ui.router.state", ["ui.router.router", "ui.router.util"]), b.module("ui.router", ["ui.router.state"]), b.module("ui.router.compat", ["ui.router"]), p.$inject = ["$q", "$injector"], b.module("ui.router.util").service("$resolve", p), q.$inject = ["$http", "$templateCache", "$injector"], b.module("ui.router.util").service("$templateFactory", q);
    var U;
    r.prototype.concat = function (a, b) {
        var c = {caseInsensitive: U.caseInsensitive(), strict: U.strictMode(), squash: U.defaultSquashPolicy()};
        return new r(this.sourcePath + a + this.sourceSearch, R(c, b), this)
    }, r.prototype.toString = function () {
        return this.source
    }, r.prototype.exec = function (a, b) {
        function c(a) {
            function b(a) {
                return a.split("").reverse().join("")
            }

            function c(a) {
                return a.replace(/\\-/g, "-")
            }

            var d = b(a).split(/-(?!\\)/), e = o(d, b);
            return o(e, c).reverse()
        }

        var d = this.regexp.exec(a);
        if (!d)return null;
        b = b || {};
        var e, f, g, h = this.parameters(), i = h.length, j = this.segments.length - 1, k = {};
        if (j !== d.length - 1)throw new Error("Unbalanced capture group in route '" + this.source + "'");
        var l, m;
        for (e = 0; e < j; e++) {
            for (g = h[e], l = this.params[g], m = d[e + 1], f = 0; f < l.replace.length; f++)l.replace[f].from === m && (m = l.replace[f].to);
            m && l.array === !0 && (m = c(m)), L(m) && (m = l.type.decode(m)), k[g] = l.value(m)
        }
        for (; e < i; e++) {
            for (g = h[e], k[g] = this.params[g].value(b[g]), l = this.params[g], m = b[g], f = 0; f < l.replace.length; f++)l.replace[f].from === m && (m = l.replace[f].to);
            L(m) && (m = l.type.decode(m)), k[g] = l.value(m)
        }
        return k
    }, r.prototype.parameters = function (a) {
        return L(a) ? this.params[a] || null : this.$$paramNames
    }, r.prototype.validates = function (a) {
        return this.params.$$validates(a)
    }, r.prototype.format = function (a) {
        function b(a) {
            return encodeURIComponent(a).replace(/-/g, function (a) {
                return "%5C%" + a.charCodeAt(0).toString(16).toUpperCase()
            })
        }

        a = a || {};
        var c = this.segments, d = this.parameters(), e = this.params;
        if (!this.validates(a))return null;
        var f, g = !1, h = c.length - 1, i = d.length, j = c[0];
        for (f = 0; f < i; f++) {
            var k = f < h, l = d[f], m = e[l], n = m.value(a[l]), p = m.isOptional && m.type.equals(m.value(), n), q = !!p && m.squash, r = m.type.encode(n);
            if (k) {
                var s = c[f + 1], t = f + 1 === h;
                if (q === !1)null != r && (j += P(r) ? o(r, b).join("-") : encodeURIComponent(r)), j += s; else if (q === !0) {
                    var u = j.match(/\/$/) ? /\/?(.*)/ : /(.*)/;
                    j += s.match(u)[1]
                } else N(q) && (j += q + s);
                t && m.squash === !0 && "/" === j.slice(-1) && (j = j.slice(0, -1))
            } else {
                if (null == r || p && q !== !1)continue;
                if (P(r) || (r = [r]), 0 === r.length)continue;
                r = o(r, encodeURIComponent).join("&" + l + "="), j += (g ? "&" : "?") + (l + "=" + r), g = !0
            }
        }
        return j
    }, s.prototype.is = function (a, b) {
        return !0
    }, s.prototype.encode = function (a, b) {
        return a
    }, s.prototype.decode = function (a, b) {
        return a
    }, s.prototype.equals = function (a, b) {
        return a == b
    }, s.prototype.$subPattern = function () {
        var a = this.pattern.toString();
        return a.substr(1, a.length - 2)
    }, s.prototype.pattern = /.*/, s.prototype.toString = function () {
        return "{Type:" + this.name + "}"
    }, s.prototype.$normalize = function (a) {
        return this.is(a) ? a : this.decode(a)
    }, s.prototype.$asArray = function (a, b) {
        function d(a, b) {
            function d(a, b) {
                return function () {
                    return a[b].apply(a, arguments)
                }
            }

            function e(a) {
                return P(a) ? a : L(a) ? [a] : []
            }

            function f(a) {
                switch (a.length) {
                    case 0:
                        return c;
                    case 1:
                        return "auto" === b ? a[0] : a;
                    default:
                        return a
                }
            }

            function g(a) {
                return !a
            }

            function h(a, b) {
                return function (c) {
                    if (P(c) && 0 === c.length)return c;
                    c = e(c);
                    var d = o(c, a);
                    return b === !0 ? 0 === n(d, g).length : f(d)
                }
            }

            function i(a) {
                return function (b, c) {
                    var d = e(b), f = e(c);
                    if (d.length !== f.length)return !1;
                    for (var g = 0; g < d.length; g++)if (!a(d[g], f[g]))return !1;
                    return !0
                }
            }

            this.encode = h(d(a, "encode")), this.decode = h(d(a, "decode")), this.is = h(d(a, "is"), !0), this.equals = i(d(a, "equals")), this.pattern = a.pattern, this.$normalize = h(d(a, "$normalize")), this.name = a.name, this.$arrayMode = b
        }

        if (!a)return this;
        if ("auto" === a && !b)throw new Error("'auto' array mode is for query parameters only");
        return new d(this, a)
    }, b.module("ui.router.util").provider("$urlMatcherFactory", t), b.module("ui.router.util").run(["$urlMatcherFactory", function (a) {
    }]), u.$inject = ["$locationProvider", "$urlMatcherFactoryProvider"], b.module("ui.router.router").provider("$urlRouter", u), v.$inject = ["$urlRouterProvider", "$urlMatcherFactoryProvider"], b.module("ui.router.state").factory("$stateParams", function () {
        return {}
    }).constant("$state.runtime", {autoinject: !0}).provider("$state", v).run(["$injector", function (a) {
        a.get("$state.runtime").autoinject && a.get("$state")
    }]), w.$inject = [], b.module("ui.router.state").provider("$view", w), b.module("ui.router.state").provider("$uiViewScroll", x), y.$inject = ["$state", "$injector", "$uiViewScroll", "$interpolate", "$q"], z.$inject = ["$compile", "$controller", "$state", "$interpolate"], b.module("ui.router.state").directive("uiView", y), b.module("ui.router.state").directive("uiView", z), G.$inject = ["$state", "$timeout"], H.$inject = ["$state", "$timeout"], I.$inject = ["$state", "$stateParams", "$interpolate"], b.module("ui.router.state").directive("uiSref", G).directive("uiSrefActive", I).directive("uiSrefActiveEq", I).directive("uiState", H), J.$inject = ["$state"], K.$inject = ["$state"], b.module("ui.router.state").filter("isState", J).filter("includedByState", K)
}(window, window.angular), angular.module("ui.bootstrap", ["ui.bootstrap.tpls", "ui.bootstrap.collapse", "ui.bootstrap.accordion", "ui.bootstrap.alert", "ui.bootstrap.buttons", "ui.bootstrap.carousel", "ui.bootstrap.dateparser", "ui.bootstrap.isClass", "ui.bootstrap.datepicker", "ui.bootstrap.position", "ui.bootstrap.datepickerPopup", "ui.bootstrap.debounce", "ui.bootstrap.dropdown", "ui.bootstrap.stackedMap", "ui.bootstrap.modal", "ui.bootstrap.paging", "ui.bootstrap.pager", "ui.bootstrap.pagination", "ui.bootstrap.tooltip", "ui.bootstrap.popover", "ui.bootstrap.progressbar", "ui.bootstrap.rating", "ui.bootstrap.tabs", "ui.bootstrap.timepicker", "ui.bootstrap.typeahead"]), angular.module("ui.bootstrap.tpls", ["uib/template/accordion/accordion-group.html", "uib/template/accordion/accordion.html", "uib/template/alert/alert.html", "uib/template/carousel/carousel.html", "uib/template/carousel/slide.html", "uib/template/datepicker/datepicker.html", "uib/template/datepicker/day.html", "uib/template/datepicker/month.html", "uib/template/datepicker/year.html", "uib/template/datepickerPopup/popup.html", "uib/template/modal/backdrop.html", "uib/template/modal/window.html", "uib/template/pager/pager.html", "uib/template/pagination/pagination.html", "uib/template/tooltip/tooltip-html-popup.html", "uib/template/tooltip/tooltip-popup.html", "uib/template/tooltip/tooltip-template-popup.html", "uib/template/popover/popover-html.html", "uib/template/popover/popover-template.html", "uib/template/popover/popover.html", "uib/template/progressbar/bar.html", "uib/template/progressbar/progress.html", "uib/template/progressbar/progressbar.html", "uib/template/rating/rating.html", "uib/template/tabs/tab.html", "uib/template/tabs/tabset.html", "uib/template/timepicker/timepicker.html", "uib/template/typeahead/typeahead-match.html", "uib/template/typeahead/typeahead-popup.html"]), angular.module("ui.bootstrap.collapse", []).directive("uibCollapse", ["$animate", "$q", "$parse", "$injector", function (a, b, c, d) {
    var e = d.has("$animateCss") ? d.get("$animateCss") : null;
    return {
        link: function (d, f, g) {
            function h() {
                f.hasClass("collapse") && f.hasClass("in") || b.resolve(l(d)).then(function () {
                    f.removeClass("collapse").addClass("collapsing").attr("aria-expanded", !0).attr("aria-hidden", !1), e ? e(f, {
                        addClass: "in",
                        easing: "ease",
                        to: {height: f[0].scrollHeight + "px"}
                    }).start().finally(i) : a.addClass(f, "in", {to: {height: f[0].scrollHeight + "px"}}).then(i)
                })
            }

            function i() {
                f.removeClass("collapsing").addClass("collapse").css({height: "auto"}), m(d)
            }

            function j() {
                return f.hasClass("collapse") || f.hasClass("in") ? void b.resolve(n(d)).then(function () {
                    f.css({height: f[0].scrollHeight + "px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded", !1).attr("aria-hidden", !0), e ? e(f, {
                        removeClass: "in",
                        to: {height: "0"}
                    }).start().finally(k) : a.removeClass(f, "in", {to: {height: "0"}}).then(k)
                }) : k()
            }

            function k() {
                f.css({height: "0"}), f.removeClass("collapsing").addClass("collapse"), o(d)
            }

            var l = c(g.expanding), m = c(g.expanded), n = c(g.collapsing), o = c(g.collapsed);
            d.$eval(g.uibCollapse) || f.addClass("in").addClass("collapse").attr("aria-expanded", !0).attr("aria-hidden", !1).css({height: "auto"}), d.$watch(g.uibCollapse, function (a) {
                a ? j() : h()
            })
        }
    }
}]), angular.module("ui.bootstrap.accordion", ["ui.bootstrap.collapse"]).constant("uibAccordionConfig", {closeOthers: !0}).controller("UibAccordionController", ["$scope", "$attrs", "uibAccordionConfig", function (a, b, c) {
    this.groups = [], this.closeOthers = function (d) {
        var e = angular.isDefined(b.closeOthers) ? a.$eval(b.closeOthers) : c.closeOthers;
        e && angular.forEach(this.groups, function (a) {
            a !== d && (a.isOpen = !1)
        })
    }, this.addGroup = function (a) {
        var b = this;
        this.groups.push(a), a.$on("$destroy", function (c) {
            b.removeGroup(a)
        })
    }, this.removeGroup = function (a) {
        var b = this.groups.indexOf(a);
        b !== -1 && this.groups.splice(b, 1)
    }
}]).directive("uibAccordion", function () {
    return {
        controller: "UibAccordionController",
        controllerAs: "accordion",
        transclude: !0,
        templateUrl: function (a, b) {
            return b.templateUrl || "uib/template/accordion/accordion.html"
        }
    }
}).directive("uibAccordionGroup", function () {
    return {
        require: "^uibAccordion", transclude: !0, replace: !0, templateUrl: function (a, b) {
            return b.templateUrl || "uib/template/accordion/accordion-group.html"
        }, scope: {heading: "@", panelClass: "@?", isOpen: "=?", isDisabled: "=?"}, controller: function () {
            this.setHeading = function (a) {
                this.heading = a
            }
        }, link: function (a, b, c, d) {
            d.addGroup(a), a.openClass = c.openClass || "panel-open", a.panelClass = c.panelClass || "panel-default", a.$watch("isOpen", function (c) {
                b.toggleClass(a.openClass, !!c), c && d.closeOthers(a)
            }), a.toggleOpen = function (b) {
                a.isDisabled || b && 32 !== b.which || (a.isOpen = !a.isOpen)
            };
            var e = "accordiongroup-" + a.$id + "-" + Math.floor(1e4 * Math.random());
            a.headingId = e + "-tab", a.panelId = e + "-panel"
        }
    }
}).directive("uibAccordionHeading", function () {
    return {
        transclude: !0, template: "", replace: !0, require: "^uibAccordionGroup", link: function (a, b, c, d, e) {
            d.setHeading(e(a, angular.noop))
        }
    }
}).directive("uibAccordionTransclude", function () {
    function a() {
        return "uib-accordion-header,data-uib-accordion-header,x-uib-accordion-header,uib\\:accordion-header,[uib-accordion-header],[data-uib-accordion-header],[x-uib-accordion-header]"
    }

    return {
        require: "^uibAccordionGroup", link: function (b, c, d, e) {
            b.$watch(function () {
                return e[d.uibAccordionTransclude]
            }, function (b) {
                if (b) {
                    var d = angular.element(c[0].querySelector(a()));
                    d.html(""), d.append(b)
                }
            })
        }
    }
}), angular.module("ui.bootstrap.alert", []).controller("UibAlertController", ["$scope", "$attrs", "$interpolate", "$timeout", function (a, b, c, d) {
    a.closeable = !!b.close;
    var e = angular.isDefined(b.dismissOnTimeout) ? c(b.dismissOnTimeout)(a.$parent) : null;
    e && d(function () {
        a.close()
    }, parseInt(e, 10))
}]).directive("uibAlert", function () {
    return {
        controller: "UibAlertController", controllerAs: "alert", templateUrl: function (a, b) {
            return b.templateUrl || "uib/template/alert/alert.html"
        }, transclude: !0, replace: !0, scope: {type: "@", close: "&"}
    }
}), angular.module("ui.bootstrap.buttons", []).constant("uibButtonConfig", {
    activeClass: "active",
    toggleEvent: "click"
}).controller("UibButtonsController", ["uibButtonConfig", function (a) {
    this.activeClass = a.activeClass || "active", this.toggleEvent = a.toggleEvent || "click"
}]).directive("uibBtnRadio", ["$parse", function (a) {
    return {
        require: ["uibBtnRadio", "ngModel"],
        controller: "UibButtonsController",
        controllerAs: "buttons",
        link: function (b, c, d, e) {
            var f = e[0], g = e[1], h = a(d.uibUncheckable);
            c.find("input").css({display: "none"}), g.$render = function () {
                c.toggleClass(f.activeClass, angular.equals(g.$modelValue, b.$eval(d.uibBtnRadio)))
            }, c.on(f.toggleEvent, function () {
                if (!d.disabled) {
                    var a = c.hasClass(f.activeClass);
                    a && !angular.isDefined(d.uncheckable) || b.$apply(function () {
                        g.$setViewValue(a ? null : b.$eval(d.uibBtnRadio)), g.$render()
                    })
                }
            }), d.uibUncheckable && b.$watch(h, function (a) {
                d.$set("uncheckable", a ? "" : void 0)
            })
        }
    }
}]).directive("uibBtnCheckbox", function () {
    return {
        require: ["uibBtnCheckbox", "ngModel"],
        controller: "UibButtonsController",
        controllerAs: "button",
        link: function (a, b, c, d) {
            function e() {
                return g(c.btnCheckboxTrue, !0)
            }

            function f() {
                return g(c.btnCheckboxFalse, !1)
            }

            function g(b, c) {
                return angular.isDefined(b) ? a.$eval(b) : c
            }

            var h = d[0], i = d[1];
            b.find("input").css({display: "none"}), i.$render = function () {
                b.toggleClass(h.activeClass, angular.equals(i.$modelValue, e()))
            }, b.on(h.toggleEvent, function () {
                c.disabled || a.$apply(function () {
                    i.$setViewValue(b.hasClass(h.activeClass) ? f() : e()), i.$render()
                })
            })
        }
    }
}), angular.module("ui.bootstrap.carousel", []).controller("UibCarouselController", ["$scope", "$element", "$interval", "$timeout", "$animate", function (a, b, c, d, e) {
    function f() {
        for (; t.length;)t.shift()
    }

    function g(a) {
        for (var b = 0; b < q.length; b++)q[b].slide.active = b === a
    }

    function h(c, d, i) {
        if (!u) {
            if (angular.extend(c, {direction: i}), angular.extend(q[s].slide || {}, {direction: i}), e.enabled(b) && !a.$currentTransition && q[d].element && p.slides.length > 1) {
                q[d].element.data(r, c.direction);
                var j = p.getCurrentIndex();
                angular.isNumber(j) && q[j].element && q[j].element.data(r, c.direction), a.$currentTransition = !0, e.on("addClass", q[d].element, function (b, c) {
                    if ("close" === c && (a.$currentTransition = null, e.off("addClass", b), t.length)) {
                        var d = t.pop().slide, g = d.index, i = g > p.getCurrentIndex() ? "next" : "prev";
                        f(), h(d, g, i)
                    }
                })
            }
            a.active = c.index, s = c.index, g(d), l()
        }
    }

    function i(a) {
        for (var b = 0; b < q.length; b++)if (q[b].slide === a)return b
    }

    function j() {
        n && (c.cancel(n), n = null)
    }

    function k(b) {
        b.length || (a.$currentTransition = null, f())
    }

    function l() {
        j();
        var b = +a.interval;
        !isNaN(b) && b > 0 && (n = c(m, b))
    }

    function m() {
        var b = +a.interval;
        o && !isNaN(b) && b > 0 && q.length ? a.next() : a.pause()
    }

    var n, o, p = this, q = p.slides = a.slides = [], r = "uib-slideDirection", s = a.active, t = [], u = !1;
    p.addSlide = function (b, c) {
        q.push({slide: b, element: c}), q.sort(function (a, b) {
            return +a.slide.index - +b.slide.index
        }), (b.index === a.active || 1 === q.length && !angular.isNumber(a.active)) && (a.$currentTransition && (a.$currentTransition = null), s = b.index, a.active = b.index, g(s), p.select(q[i(b)]), 1 === q.length && a.play())
    }, p.getCurrentIndex = function () {
        for (var a = 0; a < q.length; a++)if (q[a].slide.index === s)return a
    }, p.next = a.next = function () {
        var b = (p.getCurrentIndex() + 1) % q.length;
        return 0 === b && a.noWrap() ? void a.pause() : p.select(q[b], "next")
    }, p.prev = a.prev = function () {
        var b = p.getCurrentIndex() - 1 < 0 ? q.length - 1 : p.getCurrentIndex() - 1;
        return a.noWrap() && b === q.length - 1 ? void a.pause() : p.select(q[b], "prev")
    }, p.removeSlide = function (b) {
        var c = i(b), d = t.indexOf(q[c]);
        d !== -1 && t.splice(d, 1), q.splice(c, 1), q.length > 0 && s === c ? c >= q.length ? (s = q.length - 1, a.active = s, g(s), p.select(q[q.length - 1])) : (s = c, a.active = s, g(s), p.select(q[c])) : s > c && (s--, a.active = s), 0 === q.length && (s = null, a.active = null, f())
    }, p.select = a.select = function (b, c) {
        var d = i(b.slide);
        void 0 === c && (c = d > p.getCurrentIndex() ? "next" : "prev"), b.slide.index === s || a.$currentTransition ? b && b.slide.index !== s && a.$currentTransition && t.push(q[d]) : h(b.slide, d, c)
    }, a.indexOfSlide = function (a) {
        return +a.slide.index
    }, a.isActive = function (b) {
        return a.active === b.slide.index
    }, a.isPrevDisabled = function () {
        return 0 === a.active && a.noWrap()
    }, a.isNextDisabled = function () {
        return a.active === q.length - 1 && a.noWrap()
    }, a.pause = function () {
        a.noPause || (o = !1, j())
    }, a.play = function () {
        o || (o = !0, l())
    }, a.$on("$destroy", function () {
        u = !0, j()
    }), a.$watch("noTransition", function (a) {
        e.enabled(b, !a)
    }), a.$watch("interval", l), a.$watchCollection("slides", k), a.$watch("active", function (a) {
        if (angular.isNumber(a) && s !== a) {
            for (var b = 0; b < q.length; b++)if (q[b].slide.index === a) {
                a = b;
                break
            }
            var c = q[a];
            c && (g(a), p.select(q[a]), s = a)
        }
    })
}]).directive("uibCarousel", function () {
    return {
        transclude: !0,
        replace: !0,
        controller: "UibCarouselController",
        controllerAs: "carousel",
        templateUrl: function (a, b) {
            return b.templateUrl || "uib/template/carousel/carousel.html"
        },
        scope: {active: "=", interval: "=", noTransition: "=", noPause: "=", noWrap: "&"}
    }
}).directive("uibSlide", function () {
    return {
        require: "^uibCarousel", transclude: !0, replace: !0, templateUrl: function (a, b) {
            return b.templateUrl || "uib/template/carousel/slide.html"
        }, scope: {actual: "=?", index: "=?"}, link: function (a, b, c, d) {
            d.addSlide(a, b), a.$on("$destroy", function () {
                d.removeSlide(a)
            })
        }
    }
}).animation(".item", ["$animateCss", function (a) {
    function b(a, b, c) {
        a.removeClass(b), c && c()
    }

    var c = "uib-slideDirection";
    return {
        beforeAddClass: function (d, e, f) {
            if ("active" === e) {
                var g = !1, h = d.data(c), i = "next" === h ? "left" : "right", j = b.bind(this, d, i + " " + h, f);
                return d.addClass(h), a(d, {addClass: i}).start().done(j), function () {
                    g = !0
                }
            }
            f()
        }, beforeRemoveClass: function (d, e, f) {
            if ("active" === e) {
                var g = !1, h = d.data(c), i = "next" === h ? "left" : "right", j = b.bind(this, d, i, f);
                return a(d, {addClass: i}).start().done(j), function () {
                    g = !0
                }
            }
            f()
        }
    }
}]), angular.module("ui.bootstrap.dateparser", []).service("uibDateParser", ["$log", "$locale", "dateFilter", "orderByFilter", function (a, b, c, d) {
    function e(a, b) {
        var c = [], e = a.split(""), f = a.indexOf("'");
        if (f > -1) {
            var g = !1;
            a = a.split("");
            for (var h = f; h < a.length; h++)g ? ("'" === a[h] && (h + 1 < a.length && "'" === a[h + 1] ? (a[h + 1] = "$", e[h + 1] = "") : (e[h] = "", g = !1)), a[h] = "$") : "'" === a[h] && (a[h] = "$", e[h] = "", g = !0);
            a = a.join("")
        }
        return angular.forEach(n, function (d) {
            var f = a.indexOf(d.key);
            if (f > -1) {
                a = a.split(""), e[f] = "(" + d.regex + ")", a[f] = "$";
                for (var g = f + 1, h = f + d.key.length; g < h; g++)e[g] = "", a[g] = "$";
                a = a.join(""), c.push({index: f, key: d.key, apply: d[b], matcher: d.regex})
            }
        }), {regex: new RegExp("^" + e.join("") + "$"), map: d(c, "index")}
    }

    function f(a, b, c) {
        return !(c < 1) && (1 === b && c > 28 ? 29 === c && (a % 4 === 0 && a % 100 !== 0 || a % 400 === 0) : 3 !== b && 5 !== b && 8 !== b && 10 !== b || c < 31)
    }

    function g(a) {
        return parseInt(a, 10)
    }

    function h(a, b) {
        return a && b ? l(a, b) : a
    }

    function i(a, b) {
        return a && b ? l(a, b, !0) : a
    }

    function j(a, b) {
        a = a.replace(/:/g, "");
        var c = Date.parse("Jan 01, 1970 00:00:00 " + a) / 6e4;
        return isNaN(c) ? b : c
    }

    function k(a, b) {
        return a = new Date(a.getTime()), a.setMinutes(a.getMinutes() + b), a
    }

    function l(a, b, c) {
        c = c ? -1 : 1;
        var d = a.getTimezoneOffset(), e = j(b, d);
        return k(a, c * (e - d))
    }

    var m, n, o = /[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;
    this.init = function () {
        m = b.id, this.parsers = {}, this.formatters = {}, n = [{
            key: "yyyy", regex: "\\d{4}", apply: function (a) {
                this.year = +a
            }, formatter: function (a) {
                var b = new Date;
                return b.setFullYear(Math.abs(a.getFullYear())), c(b, "yyyy")
            }
        }, {
            key: "yy", regex: "\\d{2}", apply: function (a) {
                a = +a, this.year = a < 69 ? a + 2e3 : a + 1900
            }, formatter: function (a) {
                var b = new Date;
                return b.setFullYear(Math.abs(a.getFullYear())), c(b, "yy")
            }
        }, {
            key: "y", regex: "\\d{1,4}", apply: function (a) {
                this.year = +a
            }, formatter: function (a) {
                var b = new Date;
                return b.setFullYear(Math.abs(a.getFullYear())), c(b, "y")
            }
        }, {
            key: "M!", regex: "0?[1-9]|1[0-2]", apply: function (a) {
                this.month = a - 1
            }, formatter: function (a) {
                var b = a.getMonth();
                return /^[0-9]$/.test(b) ? c(a, "MM") : c(a, "M")
            }
        }, {
            key: "MMMM", regex: b.DATETIME_FORMATS.MONTH.join("|"), apply: function (a) {
                this.month = b.DATETIME_FORMATS.MONTH.indexOf(a)
            }, formatter: function (a) {
                return c(a, "MMMM")
            }
        }, {
            key: "MMM", regex: b.DATETIME_FORMATS.SHORTMONTH.join("|"), apply: function (a) {
                this.month = b.DATETIME_FORMATS.SHORTMONTH.indexOf(a)
            }, formatter: function (a) {
                return c(a, "MMM")
            }
        }, {
            key: "MM", regex: "0[1-9]|1[0-2]", apply: function (a) {
                this.month = a - 1
            }, formatter: function (a) {
                return c(a, "MM")
            }
        }, {
            key: "M", regex: "[1-9]|1[0-2]", apply: function (a) {
                this.month = a - 1
            }, formatter: function (a) {
                return c(a, "M")
            }
        }, {
            key: "d!", regex: "[0-2]?[0-9]{1}|3[0-1]{1}", apply: function (a) {
                this.date = +a
            }, formatter: function (a) {
                var b = a.getDate();
                return /^[1-9]$/.test(b) ? c(a, "dd") : c(a, "d")
            }
        }, {
            key: "dd", regex: "[0-2][0-9]{1}|3[0-1]{1}", apply: function (a) {
                this.date = +a
            }, formatter: function (a) {
                return c(a, "dd")
            }
        }, {
            key: "d", regex: "[1-2]?[0-9]{1}|3[0-1]{1}", apply: function (a) {
                this.date = +a
            }, formatter: function (a) {
                return c(a, "d")
            }
        }, {
            key: "EEEE", regex: b.DATETIME_FORMATS.DAY.join("|"), formatter: function (a) {
                return c(a, "EEEE")
            }
        }, {
            key: "EEE", regex: b.DATETIME_FORMATS.SHORTDAY.join("|"), formatter: function (a) {
                return c(a, "EEE")
            }
        }, {
            key: "HH", regex: "(?:0|1)[0-9]|2[0-3]", apply: function (a) {
                this.hours = +a
            }, formatter: function (a) {
                return c(a, "HH")
            }
        }, {
            key: "hh", regex: "0[0-9]|1[0-2]", apply: function (a) {
                this.hours = +a
            }, formatter: function (a) {
                return c(a, "hh")
            }
        }, {
            key: "H", regex: "1?[0-9]|2[0-3]", apply: function (a) {
                this.hours = +a
            }, formatter: function (a) {
                return c(a, "H")
            }
        }, {
            key: "h", regex: "[0-9]|1[0-2]", apply: function (a) {
                this.hours = +a
            }, formatter: function (a) {
                return c(a, "h")
            }
        }, {
            key: "mm", regex: "[0-5][0-9]", apply: function (a) {
                this.minutes = +a
            }, formatter: function (a) {
                return c(a, "mm")
            }
        }, {
            key: "m", regex: "[0-9]|[1-5][0-9]", apply: function (a) {
                this.minutes = +a
            }, formatter: function (a) {
                return c(a, "m")
            }
        }, {
            key: "sss", regex: "[0-9][0-9][0-9]", apply: function (a) {
                this.milliseconds = +a
            }, formatter: function (a) {
                return c(a, "sss")
            }
        }, {
            key: "ss", regex: "[0-5][0-9]", apply: function (a) {
                this.seconds = +a
            }, formatter: function (a) {
                return c(a, "ss")
            }
        }, {
            key: "s", regex: "[0-9]|[1-5][0-9]", apply: function (a) {
                this.seconds = +a
            }, formatter: function (a) {
                return c(a, "s")
            }
        }, {
            key: "a", regex: b.DATETIME_FORMATS.AMPMS.join("|"), apply: function (a) {
                12 === this.hours && (this.hours = 0), "PM" === a && (this.hours += 12)
            }, formatter: function (a) {
                return c(a, "a")
            }
        }, {
            key: "Z", regex: "[+-]\\d{4}", apply: function (a) {
                var b = a.match(/([+-])(\d{2})(\d{2})/), c = b[1], d = b[2], e = b[3];
                this.hours += g(c + d), this.minutes += g(c + e)
            }, formatter: function (a) {
                return c(a, "Z")
            }
        }, {
            key: "ww", regex: "[0-4][0-9]|5[0-3]", formatter: function (a) {
                return c(a, "ww")
            }
        }, {
            key: "w", regex: "[0-9]|[1-4][0-9]|5[0-3]", formatter: function (a) {
                return c(a, "w")
            }
        }, {
            key: "GGGG", regex: b.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g, "\\s"), formatter: function (a) {
                return c(a, "GGGG")
            }
        }, {
            key: "GGG", regex: b.DATETIME_FORMATS.ERAS.join("|"), formatter: function (a) {
                return c(a, "GGG")
            }
        }, {
            key: "GG", regex: b.DATETIME_FORMATS.ERAS.join("|"), formatter: function (a) {
                return c(a, "GG")
            }
        }, {
            key: "G", regex: b.DATETIME_FORMATS.ERAS.join("|"), formatter: function (a) {
                return c(a, "G")
            }
        }]
    }, this.init(), this.filter = function (a, c) {
        if (!angular.isDate(a) || isNaN(a) || !c)return "";
        c = b.DATETIME_FORMATS[c] || c, b.id !== m && this.init(), this.formatters[c] || (this.formatters[c] = e(c, "formatter"));
        var d = this.formatters[c], f = d.map, g = c;
        return f.reduce(function (b, c, d) {
            var e = g.match(new RegExp("(.*)" + c.key));
            e && angular.isString(e[1]) && (b += e[1], g = g.replace(e[1] + c.key, ""));
            var h = d === f.length - 1 ? g : "";
            return c.apply ? b + c.apply.call(null, a) + h : b + h
        }, "")
    }, this.parse = function (c, d, g) {
        if (!angular.isString(c) || !d)return c;
        d = b.DATETIME_FORMATS[d] || d, d = d.replace(o, "\\$&"), b.id !== m && this.init(), this.parsers[d] || (this.parsers[d] = e(d, "apply"));
        var h = this.parsers[d], i = h.regex, j = h.map, k = c.match(i), l = !1;
        if (k && k.length) {
            var n, p;
            angular.isDate(g) && !isNaN(g.getTime()) ? n = {
                year: g.getFullYear(),
                month: g.getMonth(),
                date: g.getDate(),
                hours: g.getHours(),
                minutes: g.getMinutes(),
                seconds: g.getSeconds(),
                milliseconds: g.getMilliseconds()
            } : (g && a.warn("dateparser:", "baseDate is not a valid date"), n = {
                year: 1900,
                month: 0,
                date: 1,
                hours: 0,
                minutes: 0,
                seconds: 0,
                milliseconds: 0
            });
            for (var q = 1, r = k.length; q < r; q++) {
                var s = j[q - 1];
                "Z" === s.matcher && (l = !0), s.apply && s.apply.call(n, k[q])
            }
            var t = l ? Date.prototype.setUTCFullYear : Date.prototype.setFullYear, u = l ? Date.prototype.setUTCHours : Date.prototype.setHours;
            return f(n.year, n.month, n.date) && (!angular.isDate(g) || isNaN(g.getTime()) || l ? (p = new Date(0), t.call(p, n.year, n.month, n.date), u.call(p, n.hours || 0, n.minutes || 0, n.seconds || 0, n.milliseconds || 0)) : (p = new Date(g), t.call(p, n.year, n.month, n.date), u.call(p, n.hours, n.minutes, n.seconds, n.milliseconds))), p
        }
    }, this.toTimezone = h, this.fromTimezone = i, this.timezoneToOffset = j, this.addDateMinutes = k, this.convertTimezoneToLocal = l
}]), angular.module("ui.bootstrap.isClass", []).directive("uibIsClass", ["$animate", function (a) {
    var b = /^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/, c = /^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;
    return {
        restrict: "A", compile: function (d, e) {
            function f(a, b, c) {
                i.push(a), j.push({scope: a, element: b}), o.forEach(function (b, c) {
                    g(b, a)
                }), a.$on("$destroy", h)
            }

            function g(b, d) {
                var e = b.match(c), f = d.$eval(e[1]), g = e[2], h = k[b];
                if (!h) {
                    var i = function (b) {
                        var c = null;
                        j.some(function (a) {
                            var d = a.scope.$eval(m);
                            if (d === b)return c = a, !0
                        }), h.lastActivated !== c && (h.lastActivated && a.removeClass(h.lastActivated.element, f), c && a.addClass(c.element, f), h.lastActivated = c)
                    };
                    k[b] = h = {lastActivated: null, scope: d, watchFn: i, compareWithExp: g, watcher: d.$watch(g, i)}
                }
                h.watchFn(d.$eval(g))
            }

            function h(a) {
                var b = a.targetScope, c = i.indexOf(b);
                if (i.splice(c, 1), j.splice(c, 1), i.length) {
                    var d = i[0];
                    angular.forEach(k, function (a) {
                        a.scope === b && (a.watcher = d.$watch(a.compareWithExp, a.watchFn), a.scope = d)
                    })
                } else k = {}
            }

            var i = [], j = [], k = {}, l = e.uibIsClass.match(b), m = l[2], n = l[1], o = n.split(",");
            return f
        }
    }
}]), angular.module("ui.bootstrap.datepicker", ["ui.bootstrap.dateparser", "ui.bootstrap.isClass"]).value("$datepickerSuppressError", !1).value("$datepickerLiteralWarning", !0).constant("uibDatepickerConfig", {
    datepickerMode: "day",
    formatDay: "dd",
    formatMonth: "MMMM",
    formatYear: "yyyy",
    formatDayHeader: "EEE",
    formatDayTitle: "MMMM yyyy",
    formatMonthTitle: "yyyy",
    maxDate: null,
    maxMode: "year",
    minDate: null,
    minMode: "day",
    ngModelOptions: {},
    shortcutPropagation: !1,
    showWeeks: !0,
    yearColumns: 5,
    yearRows: 4
}).controller("UibDatepickerController", ["$scope", "$attrs", "$parse", "$interpolate", "$locale", "$log", "dateFilter", "uibDatepickerConfig", "$datepickerLiteralWarning", "$datepickerSuppressError", "uibDateParser", function (a, b, c, d, e, f, g, h, i, j, k) {
    function l(b) {
        a.datepickerMode = b, a.datepickerOptions.datepickerMode = b
    }

    var m = this, n = {$setViewValue: angular.noop}, o = {}, p = [];
    !!b.datepickerOptions;
    a.datepickerOptions || (a.datepickerOptions = {}), this.modes = ["day", "month", "year"], ["customClass", "dateDisabled", "datepickerMode", "formatDay", "formatDayHeader", "formatDayTitle", "formatMonth", "formatMonthTitle", "formatYear", "maxDate", "maxMode", "minDate", "minMode", "showWeeks", "shortcutPropagation", "startingDay", "yearColumns", "yearRows"].forEach(function (b) {
        switch (b) {
            case"customClass":
            case"dateDisabled":
                a[b] = a.datepickerOptions[b] || angular.noop;
                break;
            case"datepickerMode":
                a.datepickerMode = angular.isDefined(a.datepickerOptions.datepickerMode) ? a.datepickerOptions.datepickerMode : h.datepickerMode;
                break;
            case"formatDay":
            case"formatDayHeader":
            case"formatDayTitle":
            case"formatMonth":
            case"formatMonthTitle":
            case"formatYear":
                m[b] = angular.isDefined(a.datepickerOptions[b]) ? d(a.datepickerOptions[b])(a.$parent) : h[b];
                break;
            case"showWeeks":
            case"shortcutPropagation":
            case"yearColumns":
            case"yearRows":
                m[b] = angular.isDefined(a.datepickerOptions[b]) ? a.datepickerOptions[b] : h[b];
                break;
            case"startingDay":
                angular.isDefined(a.datepickerOptions.startingDay) ? m.startingDay = a.datepickerOptions.startingDay : angular.isNumber(h.startingDay) ? m.startingDay = h.startingDay : m.startingDay = (e.DATETIME_FORMATS.FIRSTDAYOFWEEK + 8) % 7;
                break;
            case"maxDate":
            case"minDate":
                a.$watch("datepickerOptions." + b, function (a) {
                    a ? angular.isDate(a) ? m[b] = k.fromTimezone(new Date(a), o.timezone) : (i && f.warn("Literal date support has been deprecated, please switch to date object usage"), m[b] = new Date(g(a, "medium"))) : m[b] = h[b] ? k.fromTimezone(new Date(h[b]), o.timezone) : null, m.refreshView()
                });
                break;
            case"maxMode":
            case"minMode":
                a.datepickerOptions[b] ? a.$watch(function () {
                    return a.datepickerOptions[b]
                }, function (c) {
                    m[b] = a[b] = angular.isDefined(c) ? c : datepickerOptions[b], ("minMode" === b && m.modes.indexOf(a.datepickerOptions.datepickerMode) < m.modes.indexOf(m[b]) || "maxMode" === b && m.modes.indexOf(a.datepickerOptions.datepickerMode) > m.modes.indexOf(m[b])) && (a.datepickerMode = m[b], a.datepickerOptions.datepickerMode = m[b])
                }) : m[b] = a[b] = h[b] || null
        }
    }), a.uniqueId = "datepicker-" + a.$id + "-" + Math.floor(1e4 * Math.random()), a.disabled = angular.isDefined(b.disabled) || !1, angular.isDefined(b.ngDisabled) && p.push(a.$parent.$watch(b.ngDisabled, function (b) {
        a.disabled = b, m.refreshView()
    })), a.isActive = function (b) {
        return 0 === m.compare(b.date, m.activeDate) && (a.activeDateId = b.uid, !0)
    }, this.init = function (b) {
        n = b, o = b.$options || h.ngModelOptions, a.datepickerOptions.initDate ? (m.activeDate = k.fromTimezone(a.datepickerOptions.initDate, o.timezone) || new Date, a.$watch("datepickerOptions.initDate", function (a) {
            a && (n.$isEmpty(n.$modelValue) || n.$invalid) && (m.activeDate = k.fromTimezone(a, o.timezone), m.refreshView())
        })) : m.activeDate = new Date;
        var c = n.$modelValue ? new Date(n.$modelValue) : new Date;
        this.activeDate = isNaN(c) ? k.fromTimezone(new Date, o.timezone) : k.fromTimezone(c, o.timezone), n.$render = function () {
            m.render()
        }
    }, this.render = function () {
        if (n.$viewValue) {
            var a = new Date(n.$viewValue), b = !isNaN(a);
            b ? this.activeDate = k.fromTimezone(a, o.timezone) : j || f.error('Datepicker directive: "ng-model" value must be a Date object')
        }
        this.refreshView()
    }, this.refreshView = function () {
        if (this.element) {
            a.selectedDt = null, this._refreshView(), a.activeDt && (a.activeDateId = a.activeDt.uid);
            var b = n.$viewValue ? new Date(n.$viewValue) : null;
            b = k.fromTimezone(b, o.timezone), n.$setValidity("dateDisabled", !b || this.element && !this.isDisabled(b))
        }
    }, this.createDateObject = function (b, c) {
        var d = n.$viewValue ? new Date(n.$viewValue) : null;
        d = k.fromTimezone(d, o.timezone);
        var e = new Date;
        e = k.fromTimezone(e, o.timezone);
        var f = this.compare(b, e), g = {
            date: b,
            label: k.filter(b, c),
            selected: d && 0 === this.compare(b, d),
            disabled: this.isDisabled(b),
            past: f < 0,
            current: 0 === f,
            future: f > 0,
            customClass: this.customClass(b) || null
        };
        return d && 0 === this.compare(b, d) && (a.selectedDt = g), m.activeDate && 0 === this.compare(g.date, m.activeDate) && (a.activeDt = g), g
    }, this.isDisabled = function (b) {
        return a.disabled || this.minDate && this.compare(b, this.minDate) < 0 || this.maxDate && this.compare(b, this.maxDate) > 0 || a.dateDisabled && a.dateDisabled({
                date: b,
                mode: a.datepickerMode
            })
    }, this.customClass = function (b) {
        return a.customClass({date: b, mode: a.datepickerMode})
    }, this.split = function (a, b) {
        for (var c = []; a.length > 0;)c.push(a.splice(0, b));
        return c
    }, a.select = function (b) {
        if (a.datepickerMode === m.minMode) {
            var c = n.$viewValue ? k.fromTimezone(new Date(n.$viewValue), o.timezone) : new Date(0, 0, 0, 0, 0, 0, 0);
            c.setFullYear(b.getFullYear(), b.getMonth(), b.getDate()), c = k.toTimezone(c, o.timezone), n.$setViewValue(c), n.$render()
        } else m.activeDate = b, l(m.modes[m.modes.indexOf(a.datepickerMode) - 1]), a.$emit("uib:datepicker.mode");
        a.$broadcast("uib:datepicker.focus")
    }, a.move = function (a) {
        var b = m.activeDate.getFullYear() + a * (m.step.years || 0), c = m.activeDate.getMonth() + a * (m.step.months || 0);
        m.activeDate.setFullYear(b, c, 1), m.refreshView()
    }, a.toggleMode = function (b) {
        b = b || 1, a.datepickerMode === m.maxMode && 1 === b || a.datepickerMode === m.minMode && b === -1 || (l(m.modes[m.modes.indexOf(a.datepickerMode) + b]), a.$emit("uib:datepicker.mode"))
    }, a.keys = {
        13: "enter",
        32: "space",
        33: "pageup",
        34: "pagedown",
        35: "end",
        36: "home",
        37: "left",
        38: "up",
        39: "right",
        40: "down"
    };
    var q = function () {
        m.element[0].focus()
    };
    a.$on("uib:datepicker.focus", q), a.keydown = function (b) {
        var c = a.keys[b.which];
        if (c && !b.shiftKey && !b.altKey && !a.disabled)if (b.preventDefault(), m.shortcutPropagation || b.stopPropagation(), "enter" === c || "space" === c) {
            if (m.isDisabled(m.activeDate))return;
            a.select(m.activeDate)
        } else!b.ctrlKey || "up" !== c && "down" !== c ? (m.handleKeyDown(c, b), m.refreshView()) : a.toggleMode("up" === c ? 1 : -1)
    }, a.$on("$destroy", function () {
        for (; p.length;)p.shift()()
    })
}]).controller("UibDaypickerController", ["$scope", "$element", "dateFilter", function (a, b, c) {
    function d(a, b) {
        return 1 !== b || a % 4 !== 0 || a % 100 === 0 && a % 400 !== 0 ? f[b] : 29
    }

    function e(a) {
        var b = new Date(a);
        b.setDate(b.getDate() + 4 - (b.getDay() || 7));
        var c = b.getTime();
        return b.setMonth(0), b.setDate(1), Math.floor(Math.round((c - b) / 864e5) / 7) + 1
    }

    var f = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
    this.step = {months: 1}, this.element = b, this.init = function (b) {
        angular.extend(b, this), a.showWeeks = b.showWeeks, b.refreshView()
    }, this.getDates = function (a, b) {
        for (var c, d = new Array(b), e = new Date(a), f = 0; f < b;)c = new Date(e), d[f++] = c, e.setDate(e.getDate() + 1);
        return d
    }, this._refreshView = function () {
        var b = this.activeDate.getFullYear(), d = this.activeDate.getMonth(), f = new Date(this.activeDate);
        f.setFullYear(b, d, 1);
        var g = this.startingDay - f.getDay(), h = g > 0 ? 7 - g : -g, i = new Date(f);
        h > 0 && i.setDate(-h + 1);
        for (var j = this.getDates(i, 42), k = 0; k < 42; k++)j[k] = angular.extend(this.createDateObject(j[k], this.formatDay), {
            secondary: j[k].getMonth() !== d,
            uid: a.uniqueId + "-" + k
        });
        a.labels = new Array(7);
        for (var l = 0; l < 7; l++)a.labels[l] = {abbr: c(j[l].date, this.formatDayHeader), full: c(j[l].date, "EEEE")};
        if (a.title = c(this.activeDate, this.formatDayTitle), a.rows = this.split(j, 7), a.showWeeks) {
            a.weekNumbers = [];
            for (var m = (11 - this.startingDay) % 7, n = a.rows.length, o = 0; o < n; o++)a.weekNumbers.push(e(a.rows[o][m].date))
        }
    }, this.compare = function (a, b) {
        var c = new Date(a.getFullYear(), a.getMonth(), a.getDate()), d = new Date(b.getFullYear(), b.getMonth(), b.getDate());
        return c.setFullYear(a.getFullYear()), d.setFullYear(b.getFullYear()), c - d
    }, this.handleKeyDown = function (a, b) {
        var c = this.activeDate.getDate();
        if ("left" === a)c -= 1; else if ("up" === a)c -= 7; else if ("right" === a)c += 1; else if ("down" === a)c += 7; else if ("pageup" === a || "pagedown" === a) {
            var e = this.activeDate.getMonth() + ("pageup" === a ? -1 : 1);
            this.activeDate.setMonth(e, 1), c = Math.min(d(this.activeDate.getFullYear(), this.activeDate.getMonth()), c)
        } else"home" === a ? c = 1 : "end" === a && (c = d(this.activeDate.getFullYear(), this.activeDate.getMonth()));
        this.activeDate.setDate(c)
    }
}]).controller("UibMonthpickerController", ["$scope", "$element", "dateFilter", function (a, b, c) {
    this.step = {years: 1}, this.element = b, this.init = function (a) {
        angular.extend(a, this), a.refreshView()
    }, this._refreshView = function () {
        for (var b, d = new Array(12), e = this.activeDate.getFullYear(), f = 0; f < 12; f++)b = new Date(this.activeDate), b.setFullYear(e, f, 1), d[f] = angular.extend(this.createDateObject(b, this.formatMonth), {uid: a.uniqueId + "-" + f});
        a.title = c(this.activeDate, this.formatMonthTitle), a.rows = this.split(d, 3)
    }, this.compare = function (a, b) {
        var c = new Date(a.getFullYear(), a.getMonth()), d = new Date(b.getFullYear(), b.getMonth());
        return c.setFullYear(a.getFullYear()), d.setFullYear(b.getFullYear()), c - d
    }, this.handleKeyDown = function (a, b) {
        var c = this.activeDate.getMonth();
        if ("left" === a)c -= 1; else if ("up" === a)c -= 3; else if ("right" === a)c += 1; else if ("down" === a)c += 3; else if ("pageup" === a || "pagedown" === a) {
            var d = this.activeDate.getFullYear() + ("pageup" === a ? -1 : 1);
            this.activeDate.setFullYear(d)
        } else"home" === a ? c = 0 : "end" === a && (c = 11);
        this.activeDate.setMonth(c)
    }
}]).controller("UibYearpickerController", ["$scope", "$element", "dateFilter", function (a, b, c) {
    function d(a) {
        return parseInt((a - 1) / f, 10) * f + 1
    }

    var e, f;
    this.element = b, this.yearpickerInit = function () {
        e = this.yearColumns, f = this.yearRows * e, this.step = {years: f}
    }, this._refreshView = function () {
        for (var b, c = new Array(f), g = 0, h = d(this.activeDate.getFullYear()); g < f; g++)b = new Date(this.activeDate), b.setFullYear(h + g, 0, 1), c[g] = angular.extend(this.createDateObject(b, this.formatYear), {uid: a.uniqueId + "-" + g});
        a.title = [c[0].label, c[f - 1].label].join(" - "), a.rows = this.split(c, e), a.columns = e
    }, this.compare = function (a, b) {
        return a.getFullYear() - b.getFullYear()
    }, this.handleKeyDown = function (a, b) {
        var c = this.activeDate.getFullYear();
        "left" === a ? c -= 1 : "up" === a ? c -= e : "right" === a ? c += 1 : "down" === a ? c += e : "pageup" === a || "pagedown" === a ? c += ("pageup" === a ? -1 : 1) * f : "home" === a ? c = d(this.activeDate.getFullYear()) : "end" === a && (c = d(this.activeDate.getFullYear()) + f - 1), this.activeDate.setFullYear(c)
    }
}]).directive("uibDatepicker", function () {
    return {
        replace: !0,
        templateUrl: function (a, b) {
            return b.templateUrl || "uib/template/datepicker/datepicker.html"
        },
        scope: {datepickerOptions: "=?"},
        require: ["uibDatepicker", "^ngModel"],
        controller: "UibDatepickerController",
        controllerAs: "datepicker",
        link: function (a, b, c, d) {
            var e = d[0], f = d[1];
            e.init(f)
        }
    }
}).directive("uibDaypicker", function () {
    return {
        replace: !0,
        templateUrl: function (a, b) {
            return b.templateUrl || "uib/template/datepicker/day.html"
        },
        require: ["^uibDatepicker", "uibDaypicker"],
        controller: "UibDaypickerController",
        link: function (a, b, c, d) {
            var e = d[0], f = d[1];
            f.init(e)
        }
    }
}).directive("uibMonthpicker", function () {
    return {
        replace: !0,
        templateUrl: function (a, b) {
            return b.templateUrl || "uib/template/datepicker/month.html"
        },
        require: ["^uibDatepicker", "uibMonthpicker"],
        controller: "UibMonthpickerController",
        link: function (a, b, c, d) {
            var e = d[0], f = d[1];
            f.init(e)
        }
    }
}).directive("uibYearpicker", function () {
    return {
        replace: !0,
        templateUrl: function (a, b) {
            return b.templateUrl || "uib/template/datepicker/year.html"
        },
        require: ["^uibDatepicker", "uibYearpicker"],
        controller: "UibYearpickerController",
        link: function (a, b, c, d) {
            var e = d[0];
            angular.extend(e, d[1]), e.yearpickerInit(), e.refreshView()
        }
    }
}), angular.module("ui.bootstrap.position", []).factory("$uibPosition", ["$document", "$window", function (a, b) {
    var c, d, e = {normal: /(auto|scroll)/, hidden: /(auto|scroll|hidden)/}, f = {
        auto: /\s?auto?\s?/i,
        primary: /^(top|bottom|left|right)$/,
        secondary: /^(top|bottom|left|right|center)$/,
        vertical: /^(top|bottom)$/
    }, g = /(HTML|BODY)/;
    return {
        getRawNode: function (a) {
            return a.nodeName ? a : a[0] || a
        }, parseStyle: function (a) {
            return a = parseFloat(a), isFinite(a) ? a : 0
        }, offsetParent: function (c) {
            function d(a) {
                return "static" === (b.getComputedStyle(a).position || "static")
            }

            c = this.getRawNode(c);
            for (var e = c.offsetParent || a[0].documentElement; e && e !== a[0].documentElement && d(e);)e = e.offsetParent;
            return e || a[0].documentElement
        }, scrollbarWidth: function (e) {
            if (e) {
                if (angular.isUndefined(d)) {
                    var f = a.find("body");
                    f.addClass("uib-position-body-scrollbar-measure"), d = b.innerWidth - f[0].clientWidth, d = isFinite(d) ? d : 0, f.removeClass("uib-position-body-scrollbar-measure")
                }
                return d
            }
            if (angular.isUndefined(c)) {
                var g = angular.element('<div class="uib-position-scrollbar-measure"></div>');
                a.find("body").append(g), c = g[0].offsetWidth - g[0].clientWidth, c = isFinite(c) ? c : 0, g.remove()
            }
            return c
        }, scrollbarPadding: function (a) {
            a = this.getRawNode(a);
            var c = b.getComputedStyle(a), d = this.parseStyle(c.paddingRight), e = this.parseStyle(c.paddingBottom), f = this.scrollParent(a, !1, !0), h = this.scrollbarWidth(f, g.test(f.tagName));
            return {
                scrollbarWidth: h,
                widthOverflow: f.scrollWidth > f.clientWidth,
                right: d + h,
                originalRight: d,
                heightOverflow: f.scrollHeight > f.clientHeight,
                bottom: e + h,
                originalBottom: e
            }
        }, isScrollable: function (a, c) {
            a = this.getRawNode(a);
            var d = c ? e.hidden : e.normal, f = b.getComputedStyle(a);
            return d.test(f.overflow + f.overflowY + f.overflowX)
        }, scrollParent: function (c, d, f) {
            c = this.getRawNode(c);
            var g = d ? e.hidden : e.normal, h = a[0].documentElement, i = b.getComputedStyle(c);
            if (f && g.test(i.overflow + i.overflowY + i.overflowX))return c;
            var j = "absolute" === i.position, k = c.parentElement || h;
            if (k === h || "fixed" === i.position)return h;
            for (; k.parentElement && k !== h;) {
                var l = b.getComputedStyle(k);
                if (j && "static" !== l.position && (j = !1), !j && g.test(l.overflow + l.overflowY + l.overflowX))break;
                k = k.parentElement
            }
            return k
        }, position: function (c, d) {
            c = this.getRawNode(c);
            var e = this.offset(c);
            if (d) {
                var f = b.getComputedStyle(c);
                e.top -= this.parseStyle(f.marginTop), e.left -= this.parseStyle(f.marginLeft)
            }
            var g = this.offsetParent(c), h = {top: 0, left: 0};
            return g !== a[0].documentElement && (h = this.offset(g), h.top += g.clientTop - g.scrollTop, h.left += g.clientLeft - g.scrollLeft), {
                width: Math.round(angular.isNumber(e.width) ? e.width : c.offsetWidth),
                height: Math.round(angular.isNumber(e.height) ? e.height : c.offsetHeight),
                top: Math.round(e.top - h.top),
                left: Math.round(e.left - h.left)
            }
        }, offset: function (c) {
            c = this.getRawNode(c);
            var d = c.getBoundingClientRect();
            return {
                width: Math.round(angular.isNumber(d.width) ? d.width : c.offsetWidth),
                height: Math.round(angular.isNumber(d.height) ? d.height : c.offsetHeight),
                top: Math.round(d.top + (b.pageYOffset || a[0].documentElement.scrollTop)),
                left: Math.round(d.left + (b.pageXOffset || a[0].documentElement.scrollLeft))
            }
        }, viewportOffset: function (c, d, e) {
            c = this.getRawNode(c), e = e !== !1;
            var f = c.getBoundingClientRect(), g = {
                top: 0,
                left: 0,
                bottom: 0,
                right: 0
            }, h = d ? a[0].documentElement : this.scrollParent(c), i = h.getBoundingClientRect();
            if (g.top = i.top + h.clientTop, g.left = i.left + h.clientLeft, h === a[0].documentElement && (g.top += b.pageYOffset, g.left += b.pageXOffset), g.bottom = g.top + h.clientHeight, g.right = g.left + h.clientWidth, e) {
                var j = b.getComputedStyle(h);
                g.top += this.parseStyle(j.paddingTop), g.bottom -= this.parseStyle(j.paddingBottom), g.left += this.parseStyle(j.paddingLeft), g.right -= this.parseStyle(j.paddingRight)
            }
            return {
                top: Math.round(f.top - g.top),
                bottom: Math.round(g.bottom - f.bottom),
                left: Math.round(f.left - g.left),
                right: Math.round(g.right - f.right)
            }
        }, parsePlacement: function (a) {
            var b = f.auto.test(a);
            return b && (a = a.replace(f.auto, "")), a = a.split("-"), a[0] = a[0] || "top", f.primary.test(a[0]) || (a[0] = "top"), a[1] = a[1] || "center", f.secondary.test(a[1]) || (a[1] = "center"), b ? a[2] = !0 : a[2] = !1, a
        }, positionElements: function (a, c, d, e) {
            a = this.getRawNode(a), c = this.getRawNode(c);
            var g = angular.isDefined(c.offsetWidth) ? c.offsetWidth : c.prop("offsetWidth"), h = angular.isDefined(c.offsetHeight) ? c.offsetHeight : c.prop("offsetHeight");
            d = this.parsePlacement(d);
            var i = e ? this.offset(a) : this.position(a), j = {top: 0, left: 0, placement: ""};
            if (d[2]) {
                var k = this.viewportOffset(a, e), l = b.getComputedStyle(c), m = {
                    width: g + Math.round(Math.abs(this.parseStyle(l.marginLeft) + this.parseStyle(l.marginRight))),
                    height: h + Math.round(Math.abs(this.parseStyle(l.marginTop) + this.parseStyle(l.marginBottom)))
                };
                if (d[0] = "top" === d[0] && m.height > k.top && m.height <= k.bottom ? "bottom" : "bottom" === d[0] && m.height > k.bottom && m.height <= k.top ? "top" : "left" === d[0] && m.width > k.left && m.width <= k.right ? "right" : "right" === d[0] && m.width > k.right && m.width <= k.left ? "left" : d[0], d[1] = "top" === d[1] && m.height - i.height > k.bottom && m.height - i.height <= k.top ? "bottom" : "bottom" === d[1] && m.height - i.height > k.top && m.height - i.height <= k.bottom ? "top" : "left" === d[1] && m.width - i.width > k.right && m.width - i.width <= k.left ? "right" : "right" === d[1] && m.width - i.width > k.left && m.width - i.width <= k.right ? "left" : d[1], "center" === d[1])if (f.vertical.test(d[0])) {
                    var n = i.width / 2 - g / 2;
                    k.left + n < 0 && m.width - i.width <= k.right ? d[1] = "left" : k.right + n < 0 && m.width - i.width <= k.left && (d[1] = "right")
                } else {
                    var o = i.height / 2 - m.height / 2;
                    k.top + o < 0 && m.height - i.height <= k.bottom ? d[1] = "top" : k.bottom + o < 0 && m.height - i.height <= k.top && (d[1] = "bottom")
                }
            }
            switch (d[0]) {
                case"top":
                    j.top = i.top - h;
                    break;
                case"bottom":
                    j.top = i.top + i.height;
                    break;
                case"left":
                    j.left = i.left - g;
                    break;
                case"right":
                    j.left = i.left + i.width
            }
            switch (d[1]) {
                case"top":
                    j.top = i.top;
                    break;
                case"bottom":
                    j.top = i.top + i.height - h;
                    break;
                case"left":
                    j.left = i.left;
                    break;
                case"right":
                    j.left = i.left + i.width - g;
                    break;
                case"center":
                    f.vertical.test(d[0]) ? j.left = i.left + i.width / 2 - g / 2 : j.top = i.top + i.height / 2 - h / 2
            }
            return j.top = Math.round(j.top), j.left = Math.round(j.left), j.placement = "center" === d[1] ? d[0] : d[0] + "-" + d[1], j
        }, positionArrow: function (a, c) {
            a = this.getRawNode(a);
            var d = a.querySelector(".tooltip-inner, .popover-inner");
            if (d) {
                var e = angular.element(d).hasClass("tooltip-inner"), g = e ? a.querySelector(".tooltip-arrow") : a.querySelector(".arrow");
                if (g) {
                    var h = {top: "", bottom: "", left: "", right: ""};
                    if (c = this.parsePlacement(c), "center" === c[1])return void angular.element(g).css(h);
                    var i = "border-" + c[0] + "-width", j = b.getComputedStyle(g)[i], k = "border-";
                    k += f.vertical.test(c[0]) ? c[0] + "-" + c[1] : c[1] + "-" + c[0], k += "-radius";
                    var l = b.getComputedStyle(e ? d : a)[k];
                    switch (c[0]) {
                        case"top":
                            h.bottom = e ? "0" : "-" + j;
                            break;
                        case"bottom":
                            h.top = e ? "0" : "-" + j;
                            break;
                        case"left":
                            h.right = e ? "0" : "-" + j;
                            break;
                        case"right":
                            h.left = e ? "0" : "-" + j
                    }
                    h[c[1]] = l, angular.element(g).css(h)
                }
            }
        }
    }
}]), angular.module("ui.bootstrap.datepickerPopup", ["ui.bootstrap.datepicker", "ui.bootstrap.position"]).value("$datepickerPopupLiteralWarning", !0).constant("uibDatepickerPopupConfig", {
    altInputFormats: [],
    appendToBody: !1,
    clearText: "Clear",
    closeOnDateSelection: !0,
    closeText: "Done",
    currentText: "Today",
    datepickerPopup: "yyyy-MM-dd",
    datepickerPopupTemplateUrl: "uib/template/datepickerPopup/popup.html",
    datepickerTemplateUrl: "uib/template/datepicker/datepicker.html",
    html5Types: {date: "yyyy-MM-dd", "datetime-local": "yyyy-MM-ddTHH:mm:ss.sss", month: "yyyy-MM"},
    onOpenFocus: !0,
    showButtonBar: !0,
    placement: "auto bottom-left"
}).controller("UibDatepickerPopupController", ["$scope", "$element", "$attrs", "$compile", "$log", "$parse", "$window", "$document", "$rootScope", "$uibPosition", "dateFilter", "uibDateParser", "uibDatepickerPopupConfig", "$timeout", "uibDatepickerConfig", "$datepickerPopupLiteralWarning", function (a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) {
    function q(b) {
        var c = l.parse(b, w, a.date);
        if (isNaN(c))for (var d = 0; d < I.length; d++)if (c = l.parse(b, I[d], a.date), !isNaN(c))return c;
        return c
    }

    function r(a) {
        if (angular.isNumber(a) && (a = new Date(a)), !a)return null;
        if (angular.isDate(a) && !isNaN(a))return a;
        if (angular.isString(a)) {
            var b = q(a);
            if (!isNaN(b))return l.toTimezone(b, J)
        }
        return F.$options && F.$options.allowInvalid ? a : void 0
    }

    function s(a, b) {
        var d = a || b;
        return !c.ngRequired && !d || (angular.isNumber(d) && (d = new Date(d)), !d || (!(!angular.isDate(d) || isNaN(d)) || !!angular.isString(d) && !isNaN(q(b))))
    }

    function t(c) {
        if (a.isOpen || !a.disabled) {
            var d = H[0], e = b[0].contains(c.target), f = void 0 !== d.contains && d.contains(c.target);
            !a.isOpen || e || f || a.$apply(function () {
                a.isOpen = !1
            })
        }
    }

    function u(c) {
        27 === c.which && a.isOpen ? (c.preventDefault(), c.stopPropagation(),
            a.$apply(function () {
                a.isOpen = !1
            }), b[0].focus()) : 40 !== c.which || a.isOpen || (c.preventDefault(), c.stopPropagation(), a.$apply(function () {
            a.isOpen = !0
        }))
    }

    function v() {
        if (a.isOpen) {
            var d = angular.element(H[0].querySelector(".uib-datepicker-popup")), e = c.popupPlacement ? c.popupPlacement : m.placement, f = j.positionElements(b, d, e, y);
            d.css({
                top: f.top + "px",
                left: f.left + "px"
            }), d.hasClass("uib-position-measure") && d.removeClass("uib-position-measure")
        }
    }

    var w, x, y, z, A, B, C, D, E, F, G, H, I, J, K = !1, L = [];
    this.init = function (e) {
        if (F = e, G = e.$options, x = angular.isDefined(c.closeOnDateSelection) ? a.$parent.$eval(c.closeOnDateSelection) : m.closeOnDateSelection, y = angular.isDefined(c.datepickerAppendToBody) ? a.$parent.$eval(c.datepickerAppendToBody) : m.appendToBody, z = angular.isDefined(c.onOpenFocus) ? a.$parent.$eval(c.onOpenFocus) : m.onOpenFocus, A = angular.isDefined(c.datepickerPopupTemplateUrl) ? c.datepickerPopupTemplateUrl : m.datepickerPopupTemplateUrl, B = angular.isDefined(c.datepickerTemplateUrl) ? c.datepickerTemplateUrl : m.datepickerTemplateUrl, I = angular.isDefined(c.altInputFormats) ? a.$parent.$eval(c.altInputFormats) : m.altInputFormats, a.showButtonBar = angular.isDefined(c.showButtonBar) ? a.$parent.$eval(c.showButtonBar) : m.showButtonBar, m.html5Types[c.type] ? (w = m.html5Types[c.type], K = !0) : (w = c.uibDatepickerPopup || m.datepickerPopup, c.$observe("uibDatepickerPopup", function (a, b) {
                var c = a || m.datepickerPopup;
                if (c !== w && (w = c, F.$modelValue = null, !w))throw new Error("uibDatepickerPopup must have a date format specified.")
            })), !w)throw new Error("uibDatepickerPopup must have a date format specified.");
        if (K && c.uibDatepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");
        C = angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>"), G ? (J = G.timezone, a.ngModelOptions = angular.copy(G), a.ngModelOptions.timezone = null, a.ngModelOptions.updateOnDefault === !0 && (a.ngModelOptions.updateOn = a.ngModelOptions.updateOn ? a.ngModelOptions.updateOn + " default" : "default"), C.attr("ng-model-options", "ngModelOptions")) : J = null, C.attr({
            "ng-model": "date",
            "ng-change": "dateSelection(date)",
            "template-url": A
        }), D = angular.element(C.children()[0]), D.attr("template-url", B), a.datepickerOptions || (a.datepickerOptions = {}), K && "month" === c.type && (a.datepickerOptions.datepickerMode = "month", a.datepickerOptions.minMode = "month"), D.attr("datepicker-options", "datepickerOptions"), K ? F.$formatters.push(function (b) {
            return a.date = l.fromTimezone(b, J), b
        }) : (F.$$parserName = "date", F.$validators.date = s, F.$parsers.unshift(r), F.$formatters.push(function (b) {
            return F.$isEmpty(b) ? (a.date = b, b) : (angular.isNumber(b) && (b = new Date(b)), a.date = l.fromTimezone(b, J), l.filter(a.date, w))
        })), F.$viewChangeListeners.push(function () {
            a.date = q(F.$viewValue)
        }), b.on("keydown", u), H = d(C)(a), C.remove(), y ? h.find("body").append(H) : b.after(H), a.$on("$destroy", function () {
            for (a.isOpen === !0 && (i.$$phase || a.$apply(function () {
                a.isOpen = !1
            })), H.remove(), b.off("keydown", u), h.off("click", t), E && E.off("scroll", v), angular.element(g).off("resize", v); L.length;)L.shift()()
        })
    }, a.getText = function (b) {
        return a[b + "Text"] || m[b + "Text"]
    }, a.isDisabled = function (b) {
        "today" === b && (b = l.fromTimezone(new Date, J));
        var c = {};
        return angular.forEach(["minDate", "maxDate"], function (b) {
            a.datepickerOptions[b] ? angular.isDate(a.datepickerOptions[b]) ? c[b] = l.fromTimezone(new Date(a.datepickerOptions[b]), J) : (p && e.warn("Literal date support has been deprecated, please switch to date object usage"), c[b] = new Date(k(a.datepickerOptions[b], "medium"))) : c[b] = null
        }), a.datepickerOptions && c.minDate && a.compare(b, c.minDate) < 0 || c.maxDate && a.compare(b, c.maxDate) > 0
    }, a.compare = function (a, b) {
        return new Date(a.getFullYear(), a.getMonth(), a.getDate()) - new Date(b.getFullYear(), b.getMonth(), b.getDate())
    }, a.dateSelection = function (c) {
        angular.isDefined(c) && (a.date = c);
        var d = a.date ? l.filter(a.date, w) : null;
        b.val(d), F.$setViewValue(d), x && (a.isOpen = !1, b[0].focus())
    }, a.keydown = function (c) {
        27 === c.which && (c.stopPropagation(), a.isOpen = !1, b[0].focus())
    }, a.select = function (b, c) {
        if (c.stopPropagation(), "today" === b) {
            var d = new Date;
            angular.isDate(a.date) ? (b = new Date(a.date), b.setFullYear(d.getFullYear(), d.getMonth(), d.getDate())) : b = new Date(d.setHours(0, 0, 0, 0))
        }
        a.dateSelection(b)
    }, a.close = function (c) {
        c.stopPropagation(), a.isOpen = !1, b[0].focus()
    }, a.disabled = angular.isDefined(c.disabled) || !1, c.ngDisabled && L.push(a.$parent.$watch(f(c.ngDisabled), function (b) {
        a.disabled = b
    })), a.$watch("isOpen", function (d) {
        d ? a.disabled ? a.isOpen = !1 : n(function () {
            v(), z && a.$broadcast("uib:datepicker.focus"), h.on("click", t);
            var d = c.popupPlacement ? c.popupPlacement : m.placement;
            y || j.parsePlacement(d)[2] ? (E = E || angular.element(j.scrollParent(b)), E && E.on("scroll", v)) : E = null, angular.element(g).on("resize", v)
        }, 0, !1) : (h.off("click", t), E && E.off("scroll", v), angular.element(g).off("resize", v))
    }), a.$on("uib:datepicker.mode", function () {
        n(v, 0, !1)
    })
}]).directive("uibDatepickerPopup", function () {
    return {
        require: ["ngModel", "uibDatepickerPopup"],
        controller: "UibDatepickerPopupController",
        scope: {datepickerOptions: "=?", isOpen: "=?", currentText: "@", clearText: "@", closeText: "@"},
        link: function (a, b, c, d) {
            var e = d[0], f = d[1];
            f.init(e)
        }
    }
}).directive("uibDatepickerPopupWrap", function () {
    return {
        replace: !0, transclude: !0, templateUrl: function (a, b) {
            return b.templateUrl || "uib/template/datepickerPopup/popup.html"
        }
    }
}), angular.module("ui.bootstrap.debounce", []).factory("$$debounce", ["$timeout", function (a) {
    return function (b, c) {
        var d;
        return function () {
            var e = this, f = Array.prototype.slice.call(arguments);
            d && a.cancel(d), d = a(function () {
                b.apply(e, f)
            }, c)
        }
    }
}]), angular.module("ui.bootstrap.dropdown", ["ui.bootstrap.position"]).constant("uibDropdownConfig", {
    appendToOpenClass: "uib-dropdown-open",
    openClass: "open"
}).service("uibDropdownService", ["$document", "$rootScope", function (a, b) {
    var c = null;
    this.open = function (b, f) {
        c || (a.on("click", d), f.on("keydown", e)), c && c !== b && (c.isOpen = !1), c = b
    }, this.close = function (b, f) {
        c === b && (c = null, a.off("click", d), f.off("keydown", e))
    };
    var d = function (a) {
        if (c && !(a && "disabled" === c.getAutoClose() || a && 3 === a.which)) {
            var d = c.getToggleElement();
            if (!(a && d && d[0].contains(a.target))) {
                var e = c.getDropdownElement();
                a && "outsideClick" === c.getAutoClose() && e && e[0].contains(a.target) || (c.isOpen = !1, b.$$phase || c.$apply())
            }
        }
    }, e = function (a) {
        27 === a.which ? (a.stopPropagation(), c.focusToggleElement(), d()) : c.isKeynavEnabled() && [38, 40].indexOf(a.which) !== -1 && c.isOpen && (a.preventDefault(), a.stopPropagation(), c.focusDropdownEntry(a.which))
    }
}]).controller("UibDropdownController", ["$scope", "$element", "$attrs", "$parse", "uibDropdownConfig", "uibDropdownService", "$animate", "$uibPosition", "$document", "$compile", "$templateRequest", function (a, b, c, d, e, f, g, h, i, j, k) {
    var l, m, n = this, o = a.$new(), p = e.appendToOpenClass, q = e.openClass, r = angular.noop, s = c.onToggle ? d(c.onToggle) : angular.noop, t = !1, u = null, v = !1, w = i.find("body");
    b.addClass("dropdown"), this.init = function () {
        if (c.isOpen && (m = d(c.isOpen), r = m.assign, a.$watch(m, function (a) {
                o.isOpen = !!a
            })), angular.isDefined(c.dropdownAppendTo)) {
            var e = d(c.dropdownAppendTo)(o);
            e && (u = angular.element(e))
        }
        t = angular.isDefined(c.dropdownAppendToBody), v = angular.isDefined(c.keyboardNav), t && !u && (u = w), u && n.dropdownMenu && (u.append(n.dropdownMenu), b.on("$destroy", function () {
            n.dropdownMenu.remove()
        }))
    }, this.toggle = function (a) {
        return o.isOpen = arguments.length ? !!a : !o.isOpen, angular.isFunction(r) && r(o, o.isOpen), o.isOpen
    }, this.isOpen = function () {
        return o.isOpen
    }, o.getToggleElement = function () {
        return n.toggleElement
    }, o.getAutoClose = function () {
        return c.autoClose || "always"
    }, o.getElement = function () {
        return b
    }, o.isKeynavEnabled = function () {
        return v
    }, o.focusDropdownEntry = function (a) {
        var c = n.dropdownMenu ? angular.element(n.dropdownMenu).find("a") : b.find("ul").eq(0).find("a");
        switch (a) {
            case 40:
                angular.isNumber(n.selectedOption) ? n.selectedOption = n.selectedOption === c.length - 1 ? n.selectedOption : n.selectedOption + 1 : n.selectedOption = 0;
                break;
            case 38:
                angular.isNumber(n.selectedOption) ? n.selectedOption = 0 === n.selectedOption ? 0 : n.selectedOption - 1 : n.selectedOption = c.length - 1
        }
        c[n.selectedOption].focus()
    }, o.getDropdownElement = function () {
        return n.dropdownMenu
    }, o.focusToggleElement = function () {
        n.toggleElement && n.toggleElement[0].focus()
    }, o.$watch("isOpen", function (c, d) {
        if (u && n.dropdownMenu) {
            var e, i, m, v = h.positionElements(b, n.dropdownMenu, "bottom-left", !0);
            if (e = {
                    top: v.top + "px",
                    display: c ? "block" : "none"
                }, i = n.dropdownMenu.hasClass("dropdown-menu-right"), i ? (e.left = "auto", m = h.scrollbarWidth(!0), e.right = window.innerWidth - m - (v.left + b.prop("offsetWidth")) + "px") : (e.left = v.left + "px", e.right = "auto"), !t) {
                var w = h.offset(u);
                e.top = v.top - w.top + "px", i ? e.right = window.innerWidth - (v.left - w.left + b.prop("offsetWidth")) + "px" : e.left = v.left - w.left + "px"
            }
            n.dropdownMenu.css(e)
        }
        var x = u ? u : b, y = x.hasClass(u ? p : q);
        if (y === !c && g[c ? "addClass" : "removeClass"](x, u ? p : q).then(function () {
                angular.isDefined(c) && c !== d && s(a, {open: !!c})
            }), c)n.dropdownMenuTemplateUrl && k(n.dropdownMenuTemplateUrl).then(function (a) {
            l = o.$new(), j(a.trim())(l, function (a) {
                var b = a;
                n.dropdownMenu.replaceWith(b), n.dropdownMenu = b
            })
        }), o.focusToggleElement(), f.open(o, b); else {
            if (n.dropdownMenuTemplateUrl) {
                l && l.$destroy();
                var z = angular.element('<ul class="dropdown-menu"></ul>');
                n.dropdownMenu.replaceWith(z), n.dropdownMenu = z
            }
            f.close(o, b), n.selectedOption = null
        }
        angular.isFunction(r) && r(a, c)
    })
}]).directive("uibDropdown", function () {
    return {
        controller: "UibDropdownController", link: function (a, b, c, d) {
            d.init()
        }
    }
}).directive("uibDropdownMenu", function () {
    return {
        restrict: "A", require: "?^uibDropdown", link: function (a, b, c, d) {
            if (d && !angular.isDefined(c.dropdownNested)) {
                b.addClass("dropdown-menu");
                var e = c.templateUrl;
                e && (d.dropdownMenuTemplateUrl = e), d.dropdownMenu || (d.dropdownMenu = b)
            }
        }
    }
}).directive("uibDropdownToggle", function () {
    return {
        require: "?^uibDropdown", link: function (a, b, c, d) {
            if (d) {
                b.addClass("dropdown-toggle"), d.toggleElement = b;
                var e = function (e) {
                    e.preventDefault(), b.hasClass("disabled") || c.disabled || a.$apply(function () {
                        d.toggle()
                    })
                };
                b.bind("click", e), b.attr({
                    "aria-haspopup": !0,
                    "aria-expanded": !1
                }), a.$watch(d.isOpen, function (a) {
                    b.attr("aria-expanded", !!a)
                }), a.$on("$destroy", function () {
                    b.unbind("click", e)
                })
            }
        }
    }
}), angular.module("ui.bootstrap.stackedMap", []).factory("$$stackedMap", function () {
    return {
        createNew: function () {
            var a = [];
            return {
                add: function (b, c) {
                    a.push({key: b, value: c})
                }, get: function (b) {
                    for (var c = 0; c < a.length; c++)if (b === a[c].key)return a[c]
                }, keys: function () {
                    for (var b = [], c = 0; c < a.length; c++)b.push(a[c].key);
                    return b
                }, top: function () {
                    return a[a.length - 1]
                }, remove: function (b) {
                    for (var c = -1, d = 0; d < a.length; d++)if (b === a[d].key) {
                        c = d;
                        break
                    }
                    return a.splice(c, 1)[0]
                }, removeTop: function () {
                    return a.splice(a.length - 1, 1)[0]
                }, length: function () {
                    return a.length
                }
            }
        }
    }
}), angular.module("ui.bootstrap.modal", ["ui.bootstrap.stackedMap", "ui.bootstrap.position"]).factory("$$multiMap", function () {
    return {
        createNew: function () {
            var a = {};
            return {
                entries: function () {
                    return Object.keys(a).map(function (b) {
                        return {key: b, value: a[b]}
                    })
                }, get: function (b) {
                    return a[b]
                }, hasKey: function (b) {
                    return !!a[b]
                }, keys: function () {
                    return Object.keys(a)
                }, put: function (b, c) {
                    a[b] || (a[b] = []), a[b].push(c)
                }, remove: function (b, c) {
                    var d = a[b];
                    if (d) {
                        var e = d.indexOf(c);
                        e !== -1 && d.splice(e, 1), d.length || delete a[b]
                    }
                }
            }
        }
    }
}).provider("$uibResolve", function () {
    var a = this;
    this.resolver = null, this.setResolver = function (a) {
        this.resolver = a
    }, this.$get = ["$injector", "$q", function (b, c) {
        var d = a.resolver ? b.get(a.resolver) : null;
        return {
            resolve: function (a, e, f, g) {
                if (d)return d.resolve(a, e, f, g);
                var h = [];
                return angular.forEach(a, function (a) {
                    angular.isFunction(a) || angular.isArray(a) ? h.push(c.resolve(b.invoke(a))) : angular.isString(a) ? h.push(c.resolve(b.get(a))) : h.push(c.resolve(a))
                }), c.all(h).then(function (b) {
                    var c = {}, d = 0;
                    return angular.forEach(a, function (a, e) {
                        c[e] = b[d++]
                    }), c
                })
            }
        }
    }]
}).directive("uibModalBackdrop", ["$animate", "$injector", "$uibModalStack", function (a, b, c) {
    function d(b, d, e) {
        e.modalInClass && (a.addClass(d, e.modalInClass), b.$on(c.NOW_CLOSING_EVENT, function (c, f) {
            var g = f();
            b.modalOptions.animation ? a.removeClass(d, e.modalInClass).then(g) : g()
        }))
    }

    return {
        replace: !0, templateUrl: "uib/template/modal/backdrop.html", compile: function (a, b) {
            return a.addClass(b.backdropClass), d
        }
    }
}]).directive("uibModalWindow", ["$uibModalStack", "$q", "$animateCss", "$document", function (a, b, c, d) {
    return {
        scope: {index: "@"}, replace: !0, transclude: !0, templateUrl: function (a, b) {
            return b.templateUrl || "uib/template/modal/window.html"
        }, link: function (e, f, g) {
            f.addClass(g.windowClass || ""), f.addClass(g.windowTopClass || ""), e.size = g.size, e.close = function (b) {
                var c = a.getTop();
                c && c.value.backdrop && "static" !== c.value.backdrop && b.target === b.currentTarget && (b.preventDefault(), b.stopPropagation(), a.dismiss(c.key, "backdrop click"))
            }, f.on("click", e.close), e.$isRendered = !0;
            var h = b.defer();
            g.$observe("modalRender", function (a) {
                "true" === a && h.resolve()
            }), h.promise.then(function () {
                var h = null;
                g.modalInClass && (h = c(f, {addClass: g.modalInClass}).start(), e.$on(a.NOW_CLOSING_EVENT, function (a, b) {
                    var d = b();
                    c(f, {removeClass: g.modalInClass}).start().then(d)
                })), b.when(h).then(function () {
                    var b = a.getTop();
                    if (b && a.modalRendered(b.key), !d[0].activeElement || !f[0].contains(d[0].activeElement)) {
                        var c = f[0].querySelector("[autofocus]");
                        c ? c.focus() : f[0].focus()
                    }
                })
            })
        }
    }
}]).directive("uibModalAnimationClass", function () {
    return {
        compile: function (a, b) {
            b.modalAnimation && a.addClass(b.uibModalAnimationClass)
        }
    }
}).directive("uibModalTransclude", function () {
    return {
        link: function (a, b, c, d, e) {
            e(a.$parent, function (a) {
                b.empty(), b.append(a)
            })
        }
    }
}).factory("$uibModalStack", ["$animate", "$animateCss", "$document", "$compile", "$rootScope", "$q", "$$multiMap", "$$stackedMap", "$uibPosition", function (a, b, c, d, e, f, g, h, i) {
    function j(a) {
        return !!(a.offsetWidth || a.offsetHeight || a.getClientRects().length)
    }

    function k() {
        for (var a = -1, b = v.keys(), c = 0; c < b.length; c++)v.get(b[c]).value.backdrop && (a = c);
        return a > -1 && a < y && (a = y), a
    }

    function l(a, b) {
        var c = v.get(a).value, d = c.appendTo;
        v.remove(a), z = v.top(), z && (y = parseInt(z.value.modalDomEl.attr("index"), 10)), o(c.modalDomEl, c.modalScope, function () {
            var b = c.openedClass || u;
            w.remove(b, a);
            var e = w.hasKey(b);
            d.toggleClass(b, e), !e && t && t.heightOverflow && t.scrollbarWidth && (t.originalRight ? d.css({paddingRight: t.originalRight + "px"}) : d.css({paddingRight: ""}), t = null), m(!0)
        }, c.closedDeferred), n(), b && b.focus ? b.focus() : d.focus && d.focus()
    }

    function m(a) {
        var b;
        v.length() > 0 && (b = v.top().value, b.modalDomEl.toggleClass(b.windowTopClass || "", a))
    }

    function n() {
        if (r && k() === -1) {
            var a = s;
            o(r, s, function () {
                a = null
            }), r = void 0, s = void 0
        }
    }

    function o(b, c, d, e) {
        function g() {
            g.done || (g.done = !0, a.leave(b).then(function () {
                b.remove(), e && e.resolve()
            }), c.$destroy(), d && d())
        }

        var h, i = null, j = function () {
            return h || (h = f.defer(), i = h.promise), function () {
                h.resolve()
            }
        };
        return c.$broadcast(x.NOW_CLOSING_EVENT, j), f.when(i).then(g)
    }

    function p(a) {
        if (a.isDefaultPrevented())return a;
        var b = v.top();
        if (b)switch (a.which) {
            case 27:
                b.value.keyboard && (a.preventDefault(), e.$apply(function () {
                    x.dismiss(b.key, "escape key press")
                }));
                break;
            case 9:
                var c = x.loadFocusElementList(b), d = !1;
                a.shiftKey ? (x.isFocusInFirstItem(a, c) || x.isModalFocused(a, b)) && (d = x.focusLastFocusableElement(c)) : x.isFocusInLastItem(a, c) && (d = x.focusFirstFocusableElement(c)), d && (a.preventDefault(), a.stopPropagation())
        }
    }

    function q(a, b, c) {
        return !a.value.modalScope.$broadcast("modal.closing", b, c).defaultPrevented
    }

    var r, s, t, u = "modal-open", v = h.createNew(), w = g.createNew(), x = {NOW_CLOSING_EVENT: "modal.stack.now-closing"}, y = 0, z = null, A = "a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]";
    return e.$watch(k, function (a) {
        s && (s.index = a)
    }), c.on("keydown", p), e.$on("$destroy", function () {
        c.off("keydown", p)
    }), x.open = function (b, f) {
        var g = c[0].activeElement, h = f.openedClass || u;
        m(!1), z = v.top(), v.add(b, {
            deferred: f.deferred,
            renderDeferred: f.renderDeferred,
            closedDeferred: f.closedDeferred,
            modalScope: f.scope,
            backdrop: f.backdrop,
            keyboard: f.keyboard,
            openedClass: f.openedClass,
            windowTopClass: f.windowTopClass,
            animation: f.animation,
            appendTo: f.appendTo
        }), w.put(h, b);
        var j = f.appendTo, l = k();
        if (!j.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");
        l >= 0 && !r && (s = e.$new(!0), s.modalOptions = f, s.index = l, r = angular.element('<div uib-modal-backdrop="modal-backdrop"></div>'), r.attr("backdrop-class", f.backdropClass), f.animation && r.attr("modal-animation", "true"), d(r)(s), a.enter(r, j), t = i.scrollbarPadding(j), t.heightOverflow && t.scrollbarWidth && j.css({paddingRight: t.right + "px"})), y = z ? parseInt(z.value.modalDomEl.attr("index"), 10) + 1 : 0;
        var n = angular.element('<div uib-modal-window="modal-window"></div>');
        n.attr({
            "template-url": f.windowTemplateUrl,
            "window-class": f.windowClass,
            "window-top-class": f.windowTopClass,
            size: f.size,
            index: y,
            animate: "animate"
        }).html(f.content), f.animation && n.attr("modal-animation", "true"), j.addClass(h), a.enter(d(n)(f.scope), j), v.top().value.modalDomEl = n, v.top().value.modalOpener = g
    }, x.close = function (a, b) {
        var c = v.get(a);
        return c && q(c, b, !0) ? (c.value.modalScope.$$uibDestructionScheduled = !0, c.value.deferred.resolve(b), l(a, c.value.modalOpener), !0) : !c
    }, x.dismiss = function (a, b) {
        var c = v.get(a);
        return c && q(c, b, !1) ? (c.value.modalScope.$$uibDestructionScheduled = !0, c.value.deferred.reject(b), l(a, c.value.modalOpener), !0) : !c
    }, x.dismissAll = function (a) {
        for (var b = this.getTop(); b && this.dismiss(b.key, a);)b = this.getTop()
    }, x.getTop = function () {
        return v.top()
    }, x.modalRendered = function (a) {
        var b = v.get(a);
        b && b.value.renderDeferred.resolve()
    }, x.focusFirstFocusableElement = function (a) {
        return a.length > 0 && (a[0].focus(), !0)
    }, x.focusLastFocusableElement = function (a) {
        return a.length > 0 && (a[a.length - 1].focus(), !0)
    }, x.isModalFocused = function (a, b) {
        if (a && b) {
            var c = b.value.modalDomEl;
            if (c && c.length)return (a.target || a.srcElement) === c[0]
        }
        return !1
    }, x.isFocusInFirstItem = function (a, b) {
        return b.length > 0 && (a.target || a.srcElement) === b[0]
    }, x.isFocusInLastItem = function (a, b) {
        return b.length > 0 && (a.target || a.srcElement) === b[b.length - 1]
    }, x.loadFocusElementList = function (a) {
        if (a) {
            var b = a.value.modalDomEl;
            if (b && b.length) {
                var c = b[0].querySelectorAll(A);
                return c ? Array.prototype.filter.call(c, function (a) {
                    return j(a)
                }) : c
            }
        }
    }, x
}]).provider("$uibModal", function () {
    var a = {
        options: {animation: !0, backdrop: !0, keyboard: !0},
        $get: ["$rootScope", "$q", "$document", "$templateRequest", "$controller", "$uibResolve", "$uibModalStack", function (b, c, d, e, f, g, h) {
            function i(a) {
                return a.template ? c.when(a.template) : e(angular.isFunction(a.templateUrl) ? a.templateUrl() : a.templateUrl)
            }

            var j = {}, k = null;
            return j.getPromiseChain = function () {
                return k
            }, j.open = function (e) {
                function j() {
                    return r
                }

                var l = c.defer(), m = c.defer(), n = c.defer(), o = c.defer(), p = {
                    result: l.promise,
                    opened: m.promise,
                    closed: n.promise,
                    rendered: o.promise,
                    close: function (a) {
                        return h.close(p, a)
                    },
                    dismiss: function (a) {
                        return h.dismiss(p, a)
                    }
                };
                if (e = angular.extend({}, a.options, e), e.resolve = e.resolve || {}, e.appendTo = e.appendTo || d.find("body").eq(0), !e.template && !e.templateUrl)throw new Error("One of template or templateUrl options is required.");
                var q, r = c.all([i(e), g.resolve(e.resolve, {}, null, null)]);
                return q = k = c.all([k]).then(j, j).then(function (a) {
                    var c = e.scope || b, d = c.$new();
                    d.$close = p.close, d.$dismiss = p.dismiss, d.$on("$destroy", function () {
                        d.$$uibDestructionScheduled || d.$dismiss("$uibUnscheduledDestruction")
                    });
                    var g, i, j = {};
                    e.controller && (j.$scope = d, j.$scope.$resolve = {}, j.$uibModalInstance = p, angular.forEach(a[1], function (a, b) {
                        j[b] = a, j.$scope.$resolve[b] = a
                    }), i = f(e.controller, j, !0, e.controllerAs), e.controllerAs && e.bindToController && (g = i.instance, g.$close = d.$close, g.$dismiss = d.$dismiss, angular.extend(g, {$resolve: j.$scope.$resolve}, c)), g = i(), angular.isFunction(g.$onInit) && g.$onInit()), h.open(p, {
                        scope: d,
                        deferred: l,
                        renderDeferred: o,
                        closedDeferred: n,
                        content: a[0],
                        animation: e.animation,
                        backdrop: e.backdrop,
                        keyboard: e.keyboard,
                        backdropClass: e.backdropClass,
                        windowTopClass: e.windowTopClass,
                        windowClass: e.windowClass,
                        windowTemplateUrl: e.windowTemplateUrl,
                        size: e.size,
                        openedClass: e.openedClass,
                        appendTo: e.appendTo
                    }), m.resolve(!0)
                }, function (a) {
                    m.reject(a), l.reject(a)
                }).finally(function () {
                    k === q && (k = null)
                }), p
            }, j
        }]
    };
    return a
}), angular.module("ui.bootstrap.paging", []).factory("uibPaging", ["$parse", function (a) {
    return {
        create: function (b, c, d) {
            b.setNumPages = d.numPages ? a(d.numPages).assign : angular.noop, b.ngModelCtrl = {$setViewValue: angular.noop}, b._watchers = [], b.init = function (a, e) {
                b.ngModelCtrl = a, b.config = e, a.$render = function () {
                    b.render()
                }, d.itemsPerPage ? b._watchers.push(c.$parent.$watch(d.itemsPerPage, function (a) {
                    b.itemsPerPage = parseInt(a, 10), c.totalPages = b.calculateTotalPages(), b.updatePage()
                })) : b.itemsPerPage = e.itemsPerPage, c.$watch("totalItems", function (a, d) {
                    (angular.isDefined(a) || a !== d) && (c.totalPages = b.calculateTotalPages(), b.updatePage())
                })
            }, b.calculateTotalPages = function () {
                var a = b.itemsPerPage < 1 ? 1 : Math.ceil(c.totalItems / b.itemsPerPage);
                return Math.max(a || 0, 1)
            }, b.render = function () {
                c.page = parseInt(b.ngModelCtrl.$viewValue, 10) || 1
            }, c.selectPage = function (a, d) {
                d && d.preventDefault();
                var e = !c.ngDisabled || !d;
                e && c.page !== a && a > 0 && a <= c.totalPages && (d && d.target && d.target.blur(), b.ngModelCtrl.$setViewValue(a), b.ngModelCtrl.$render())
            }, c.getText = function (a) {
                return c[a + "Text"] || b.config[a + "Text"]
            }, c.noPrevious = function () {
                return 1 === c.page
            }, c.noNext = function () {
                return c.page === c.totalPages
            }, b.updatePage = function () {
                b.setNumPages(c.$parent, c.totalPages), c.page > c.totalPages ? c.selectPage(c.totalPages) : b.ngModelCtrl.$render()
            }, c.$on("$destroy", function () {
                for (; b._watchers.length;)b._watchers.shift()()
            })
        }
    }
}]), angular.module("ui.bootstrap.pager", ["ui.bootstrap.paging"]).controller("UibPagerController", ["$scope", "$attrs", "uibPaging", "uibPagerConfig", function (a, b, c, d) {
    a.align = angular.isDefined(b.align) ? a.$parent.$eval(b.align) : d.align, c.create(this, a, b)
}]).constant("uibPagerConfig", {
    itemsPerPage: 10,
    previousText: " Previous",
    nextText: "Next ",
    align: !0
}).directive("uibPager", ["uibPagerConfig", function (a) {
    return {
        scope: {totalItems: "=", previousText: "@", nextText: "@", ngDisabled: "="},
        require: ["uibPager", "?ngModel"],
        controller: "UibPagerController",
        controllerAs: "pager",
        templateUrl: function (a, b) {
            return b.templateUrl || "uib/template/pager/pager.html"
        },
        replace: !0,
        link: function (b, c, d, e) {
            var f = e[0], g = e[1];
            g && f.init(g, a)
        }
    }
}]), angular.module("ui.bootstrap.pagination", ["ui.bootstrap.paging"]).controller("UibPaginationController", ["$scope", "$attrs", "$parse", "uibPaging", "uibPaginationConfig", function (a, b, c, d, e) {
    function f(a, b, c) {
        return {number: a, text: b, active: c}
    }

    function g(a, b) {
        var c = [], d = 1, e = b, g = angular.isDefined(i) && i < b;
        g && (j ? (d = Math.max(a - Math.floor(i / 2), 1), e = d + i - 1, e > b && (e = b, d = e - i + 1)) : (d = (Math.ceil(a / i) - 1) * i + 1, e = Math.min(d + i - 1, b)));
        for (var h = d; h <= e; h++) {
            var n = f(h, m(h), h === a);
            c.push(n)
        }
        if (g && i > 0 && (!j || k || l)) {
            if (d > 1) {
                if (!l || d > 3) {
                    var o = f(d - 1, "...", !1);
                    c.unshift(o)
                }
                if (l) {
                    if (3 === d) {
                        var p = f(2, "2", !1);
                        c.unshift(p)
                    }
                    var q = f(1, "1", !1);
                    c.unshift(q)
                }
            }
            if (e < b) {
                if (!l || e < b - 2) {
                    var r = f(e + 1, "...", !1);
                    c.push(r)
                }
                if (l) {
                    if (e === b - 2) {
                        var s = f(b - 1, b - 1, !1);
                        c.push(s)
                    }
                    var t = f(b, b, !1);
                    c.push(t)
                }
            }
        }
        return c
    }

    var h = this, i = angular.isDefined(b.maxSize) ? a.$parent.$eval(b.maxSize) : e.maxSize, j = angular.isDefined(b.rotate) ? a.$parent.$eval(b.rotate) : e.rotate, k = angular.isDefined(b.forceEllipses) ? a.$parent.$eval(b.forceEllipses) : e.forceEllipses, l = angular.isDefined(b.boundaryLinkNumbers) ? a.$parent.$eval(b.boundaryLinkNumbers) : e.boundaryLinkNumbers, m = angular.isDefined(b.pageLabel) ? function (c) {
        return a.$parent.$eval(b.pageLabel, {$page: c})
    } : angular.identity;
    a.boundaryLinks = angular.isDefined(b.boundaryLinks) ? a.$parent.$eval(b.boundaryLinks) : e.boundaryLinks, a.directionLinks = angular.isDefined(b.directionLinks) ? a.$parent.$eval(b.directionLinks) : e.directionLinks, d.create(this, a, b), b.maxSize && h._watchers.push(a.$parent.$watch(c(b.maxSize), function (a) {
        i = parseInt(a, 10), h.render()
    }));
    var n = this.render;
    this.render = function () {
        n(), a.page > 0 && a.page <= a.totalPages && (a.pages = g(a.page, a.totalPages))
    }
}]).constant("uibPaginationConfig", {
    itemsPerPage: 10,
    boundaryLinks: !1,
    boundaryLinkNumbers: !1,
    directionLinks: !0,
    firstText: "First",
    previousText: "Previous",
    nextText: "Next",
    lastText: "Last",
    rotate: !0,
    forceEllipses: !1
}).directive("uibPagination", ["$parse", "uibPaginationConfig", function (a, b) {
    return {
        scope: {totalItems: "=", firstText: "@", previousText: "@", nextText: "@", lastText: "@", ngDisabled: "="},
        require: ["uibPagination", "?ngModel"],
        controller: "UibPaginationController",
        controllerAs: "pagination",
        templateUrl: function (a, b) {
            return b.templateUrl || "uib/template/pagination/pagination.html"
        },
        replace: !0,
        link: function (a, c, d, e) {
            var f = e[0], g = e[1];
            g && f.init(g, b)
        }
    }
}]), angular.module("ui.bootstrap.tooltip", ["ui.bootstrap.position", "ui.bootstrap.stackedMap"]).provider("$uibTooltip", function () {
    function a(a) {
        var b = /[A-Z]/g, c = "-";
        return a.replace(b, function (a, b) {
            return (b ? c : "") + a.toLowerCase()
        })
    }

    var b = {
        placement: "top",
        placementClassPrefix: "",
        animation: !0,
        popupDelay: 0,
        popupCloseDelay: 0,
        useContentExp: !1
    }, c = {mouseenter: "mouseleave", click: "click", outsideClick: "outsideClick", focus: "blur", none: ""}, d = {};
    this.options = function (a) {
        angular.extend(d, a)
    }, this.setTriggers = function (a) {
        angular.extend(c, a)
    }, this.$get = ["$window", "$compile", "$timeout", "$document", "$uibPosition", "$interpolate", "$rootScope", "$parse", "$$stackedMap", function (e, f, g, h, i, j, k, l, m) {
        function n(a) {
            if (27 === a.which) {
                var b = o.top();
                b && (b.value.close(), o.removeTop(), b = null)
            }
        }

        var o = m.createNew();
        return h.on("keypress", n), k.$on("$destroy", function () {
            h.off("keypress", n)
        }), function (e, k, m, n) {
            function p(a) {
                var b = (a || n.trigger || m).split(" "), d = b.map(function (a) {
                    return c[a] || a
                });
                return {show: b, hide: d}
            }

            n = angular.extend({}, b, d, n);
            var q = a(e), r = j.startSymbol(), s = j.endSymbol(), t = "<div " + q + '-popup uib-title="' + r + "title" + s + '" ' + (n.useContentExp ? 'content-exp="contentExp()" ' : 'content="' + r + "content" + s + '" ') + 'placement="' + r + "placement" + s + '" popup-class="' + r + "popupClass" + s + '" animation="animation" is-open="isOpen" origin-scope="origScope" class="uib-position-measure"></div>';
            return {
                compile: function (a, b) {
                    var c = f(t);
                    return function (a, b, d, f) {
                        function j() {
                            N.isOpen ? q() : m()
                        }

                        function m() {
                            M && !a.$eval(d[k + "Enable"]) || (u(), x(), N.popupDelay ? G || (G = g(r, N.popupDelay, !1)) : r())
                        }

                        function q() {
                            s(), N.popupCloseDelay ? H || (H = g(t, N.popupCloseDelay, !1)) : t()
                        }

                        function r() {
                            return s(), u(), N.content ? (v(), void N.$evalAsync(function () {
                                N.isOpen = !0, y(!0), S()
                            })) : angular.noop
                        }

                        function s() {
                            G && (g.cancel(G), G = null), I && (g.cancel(I), I = null)
                        }

                        function t() {
                            N && N.$evalAsync(function () {
                                N && (N.isOpen = !1, y(!1), N.animation ? F || (F = g(w, 150, !1)) : w())
                            })
                        }

                        function u() {
                            H && (g.cancel(H), H = null), F && (g.cancel(F), F = null)
                        }

                        function v() {
                            D || (E = N.$new(), D = c(E, function (a) {
                                K ? h.find("body").append(a) : b.after(a)
                            }), z())
                        }

                        function w() {
                            s(), u(), A(), D && (D.remove(), D = null), E && (E.$destroy(), E = null)
                        }

                        function x() {
                            N.title = d[k + "Title"], Q ? N.content = Q(a) : N.content = d[e], N.popupClass = d[k + "Class"], N.placement = angular.isDefined(d[k + "Placement"]) ? d[k + "Placement"] : n.placement;
                            var b = i.parsePlacement(N.placement);
                            J = b[1] ? b[0] + "-" + b[1] : b[0];
                            var c = parseInt(d[k + "PopupDelay"], 10), f = parseInt(d[k + "PopupCloseDelay"], 10);
                            N.popupDelay = isNaN(c) ? n.popupDelay : c, N.popupCloseDelay = isNaN(f) ? n.popupCloseDelay : f
                        }

                        function y(b) {
                            P && angular.isFunction(P.assign) && P.assign(a, b)
                        }

                        function z() {
                            R.length = 0, Q ? (R.push(a.$watch(Q, function (a) {
                                N.content = a, !a && N.isOpen && t()
                            })), R.push(E.$watch(function () {
                                O || (O = !0, E.$$postDigest(function () {
                                    O = !1, N && N.isOpen && S()
                                }))
                            }))) : R.push(d.$observe(e, function (a) {
                                N.content = a, !a && N.isOpen ? t() : S()
                            })), R.push(d.$observe(k + "Title", function (a) {
                                N.title = a, N.isOpen && S()
                            })), R.push(d.$observe(k + "Placement", function (a) {
                                N.placement = a ? a : n.placement, N.isOpen && S()
                            }))
                        }

                        function A() {
                            R.length && (angular.forEach(R, function (a) {
                                a()
                            }), R.length = 0)
                        }

                        function B(a) {
                            N && N.isOpen && D && (b[0].contains(a.target) || D[0].contains(a.target) || q())
                        }

                        function C() {
                            var a = d[k + "Trigger"];
                            T(), L = p(a), "none" !== L.show && L.show.forEach(function (a, c) {
                                "outsideClick" === a ? (b.on("click", j), h.on("click", B)) : a === L.hide[c] ? b.on(a, j) : a && (b.on(a, m), b.on(L.hide[c], q)), b.on("keypress", function (a) {
                                    27 === a.which && q()
                                })
                            })
                        }

                        var D, E, F, G, H, I, J, K = !!angular.isDefined(n.appendToBody) && n.appendToBody, L = p(void 0), M = angular.isDefined(d[k + "Enable"]), N = a.$new(!0), O = !1, P = !!angular.isDefined(d[k + "IsOpen"]) && l(d[k + "IsOpen"]), Q = !!n.useContentExp && l(d[e]), R = [], S = function () {
                            D && D.html() && (I || (I = g(function () {
                                var a = i.positionElements(b, D, N.placement, K);
                                D.css({
                                    top: a.top + "px",
                                    left: a.left + "px"
                                }), D.hasClass(a.placement.split("-")[0]) || (D.removeClass(J.split("-")[0]), D.addClass(a.placement.split("-")[0])), D.hasClass(n.placementClassPrefix + a.placement) || (D.removeClass(n.placementClassPrefix + J), D.addClass(n.placementClassPrefix + a.placement)), D.hasClass("uib-position-measure") ? (i.positionArrow(D, a.placement), D.removeClass("uib-position-measure")) : J !== a.placement && i.positionArrow(D, a.placement), J = a.placement, I = null
                            }, 0, !1)))
                        };
                        N.origScope = a, N.isOpen = !1, o.add(N, {close: t}), N.contentExp = function () {
                            return N.content
                        }, d.$observe("disabled", function (a) {
                            a && s(), a && N.isOpen && t()
                        }), P && a.$watch(P, function (a) {
                            N && !a === N.isOpen && j()
                        });
                        var T = function () {
                            L.show.forEach(function (a) {
                                "outsideClick" === a ? b.off("click", j) : (b.off(a, m), b.off(a, j))
                            }), L.hide.forEach(function (a) {
                                "outsideClick" === a ? h.off("click", B) : b.off(a, q)
                            })
                        };
                        C();
                        var U = a.$eval(d[k + "Animation"]);
                        N.animation = angular.isDefined(U) ? !!U : n.animation;
                        var V, W = k + "AppendToBody";
                        V = W in d && void 0 === d[W] || a.$eval(d[W]), K = angular.isDefined(V) ? V : K, a.$on("$destroy", function () {
                            T(), w(), o.remove(N), N = null
                        })
                    }
                }
            }
        }
    }]
}).directive("uibTooltipTemplateTransclude", ["$animate", "$sce", "$compile", "$templateRequest", function (a, b, c, d) {
    return {
        link: function (e, f, g) {
            var h, i, j, k = e.$eval(g.tooltipTemplateTranscludeScope), l = 0, m = function () {
                i && (i.remove(), i = null), h && (h.$destroy(), h = null), j && (a.leave(j).then(function () {
                    i = null
                }), i = j, j = null)
            };
            e.$watch(b.parseAsResourceUrl(g.uibTooltipTemplateTransclude), function (b) {
                var g = ++l;
                b ? (d(b, !0).then(function (d) {
                    if (g === l) {
                        var e = k.$new(), i = d, n = c(i)(e, function (b) {
                            m(), a.enter(b, f)
                        });
                        h = e, j = n, h.$emit("$includeContentLoaded", b)
                    }
                }, function () {
                    g === l && (m(), e.$emit("$includeContentError", b))
                }), e.$emit("$includeContentRequested", b)) : m()
            }), e.$on("$destroy", m)
        }
    }
}]).directive("uibTooltipClasses", ["$uibPosition", function (a) {
    return {
        restrict: "A", link: function (b, c, d) {
            if (b.placement) {
                var e = a.parsePlacement(b.placement);
                c.addClass(e[0])
            }
            b.popupClass && c.addClass(b.popupClass), b.animation() && c.addClass(d.tooltipAnimationClass)
        }
    }
}]).directive("uibTooltipPopup", function () {
    return {
        replace: !0,
        scope: {content: "@", placement: "@", popupClass: "@", animation: "&", isOpen: "&"},
        templateUrl: "uib/template/tooltip/tooltip-popup.html"
    }
}).directive("uibTooltip", ["$uibTooltip", function (a) {
    return a("uibTooltip", "tooltip", "mouseenter")
}]).directive("uibTooltipTemplatePopup", function () {
    return {
        replace: !0,
        scope: {contentExp: "&", placement: "@", popupClass: "@", animation: "&", isOpen: "&", originScope: "&"},
        templateUrl: "uib/template/tooltip/tooltip-template-popup.html"
    }
}).directive("uibTooltipTemplate", ["$uibTooltip", function (a) {
    return a("uibTooltipTemplate", "tooltip", "mouseenter", {useContentExp: !0})
}]).directive("uibTooltipHtmlPopup", function () {
    return {
        replace: !0,
        scope: {contentExp: "&", placement: "@", popupClass: "@", animation: "&", isOpen: "&"},
        templateUrl: "uib/template/tooltip/tooltip-html-popup.html"
    }
}).directive("uibTooltipHtml", ["$uibTooltip", function (a) {
    return a("uibTooltipHtml", "tooltip", "mouseenter", {useContentExp: !0})
}]), angular.module("ui.bootstrap.popover", ["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup", function () {
    return {
        replace: !0,
        scope: {
            uibTitle: "@",
            contentExp: "&",
            placement: "@",
            popupClass: "@",
            animation: "&",
            isOpen: "&",
            originScope: "&"
        },
        templateUrl: "uib/template/popover/popover-template.html"
    }
}).directive("uibPopoverTemplate", ["$uibTooltip", function (a) {
    return a("uibPopoverTemplate", "popover", "click", {useContentExp: !0})
}]).directive("uibPopoverHtmlPopup", function () {
    return {
        replace: !0,
        scope: {contentExp: "&", uibTitle: "@", placement: "@", popupClass: "@", animation: "&", isOpen: "&"},
        templateUrl: "uib/template/popover/popover-html.html"
    }
}).directive("uibPopoverHtml", ["$uibTooltip", function (a) {
    return a("uibPopoverHtml", "popover", "click", {useContentExp: !0})
}]).directive("uibPopoverPopup", function () {
    return {
        replace: !0,
        scope: {uibTitle: "@", content: "@", placement: "@", popupClass: "@", animation: "&", isOpen: "&"},
        templateUrl: "uib/template/popover/popover.html"
    }
}).directive("uibPopover", ["$uibTooltip", function (a) {
    return a("uibPopover", "popover", "click")
}]), angular.module("ui.bootstrap.progressbar", []).constant("uibProgressConfig", {
    animate: !0, max: 100
}).controller("UibProgressController", ["$scope", "$attrs", "uibProgressConfig", function (a, b, c) {
    function d() {
        return angular.isDefined(a.maxParam) ? a.maxParam : c.max
    }

    var e = this, f = angular.isDefined(b.animate) ? a.$parent.$eval(b.animate) : c.animate;
    this.bars = [], a.max = d(), this.addBar = function (a, b, c) {
        f || b.css({transition: "none"}), this.bars.push(a), a.max = d(), a.title = c && angular.isDefined(c.title) ? c.title : "progressbar", a.$watch("value", function (b) {
            a.recalculatePercentage()
        }), a.recalculatePercentage = function () {
            var b = e.bars.reduce(function (a, b) {
                return b.percent = +(100 * b.value / b.max).toFixed(2), a + b.percent
            }, 0);
            b > 100 && (a.percent -= b - 100)
        }, a.$on("$destroy", function () {
            b = null, e.removeBar(a)
        })
    }, this.removeBar = function (a) {
        this.bars.splice(this.bars.indexOf(a), 1), this.bars.forEach(function (a) {
            a.recalculatePercentage()
        })
    }, a.$watch("maxParam", function (a) {
        e.bars.forEach(function (a) {
            a.max = d(), a.recalculatePercentage()
        })
    })
}]).directive("uibProgress", function () {
    return {
        replace: !0,
        transclude: !0,
        controller: "UibProgressController",
        require: "uibProgress",
        scope: {maxParam: "=?max"},
        templateUrl: "uib/template/progressbar/progress.html"
    }
}).directive("uibBar", function () {
    return {
        replace: !0,
        transclude: !0,
        require: "^uibProgress",
        scope: {value: "=", type: "@"},
        templateUrl: "uib/template/progressbar/bar.html",
        link: function (a, b, c, d) {
            d.addBar(a, b, c)
        }
    }
}).directive("uibProgressbar", function () {
    return {
        replace: !0,
        transclude: !0,
        controller: "UibProgressController",
        scope: {value: "=", maxParam: "=?max", type: "@"},
        templateUrl: "uib/template/progressbar/progressbar.html",
        link: function (a, b, c, d) {
            d.addBar(a, angular.element(b.children()[0]), {title: c.title})
        }
    }
}), angular.module("ui.bootstrap.rating", []).constant("uibRatingConfig", {
    max: 5,
    stateOn: null,
    stateOff: null,
    enableReset: !0,
    titles: ["one", "two", "three", "four", "five"]
}).controller("UibRatingController", ["$scope", "$attrs", "uibRatingConfig", function (a, b, c) {
    var d = {$setViewValue: angular.noop}, e = this;
    this.init = function (e) {
        d = e, d.$render = this.render, d.$formatters.push(function (a) {
            return angular.isNumber(a) && a << 0 !== a && (a = Math.round(a)), a
        }), this.stateOn = angular.isDefined(b.stateOn) ? a.$parent.$eval(b.stateOn) : c.stateOn, this.stateOff = angular.isDefined(b.stateOff) ? a.$parent.$eval(b.stateOff) : c.stateOff, this.enableReset = angular.isDefined(b.enableReset) ? a.$parent.$eval(b.enableReset) : c.enableReset;
        var f = angular.isDefined(b.titles) ? a.$parent.$eval(b.titles) : c.titles;
        this.titles = angular.isArray(f) && f.length > 0 ? f : c.titles;
        var g = angular.isDefined(b.ratingStates) ? a.$parent.$eval(b.ratingStates) : new Array(angular.isDefined(b.max) ? a.$parent.$eval(b.max) : c.max);
        a.range = this.buildTemplateObjects(g)
    }, this.buildTemplateObjects = function (a) {
        for (var b = 0, c = a.length; b < c; b++)a[b] = angular.extend({index: b}, {
            stateOn: this.stateOn,
            stateOff: this.stateOff,
            title: this.getTitle(b)
        }, a[b]);
        return a
    }, this.getTitle = function (a) {
        return a >= this.titles.length ? a + 1 : this.titles[a]
    }, a.rate = function (b) {
        if (!a.readonly && b >= 0 && b <= a.range.length) {
            var c = e.enableReset && d.$viewValue === b ? 0 : b;
            d.$setViewValue(c), d.$render()
        }
    }, a.enter = function (b) {
        a.readonly || (a.value = b), a.onHover({value: b})
    }, a.reset = function () {
        a.value = d.$viewValue, a.onLeave()
    }, a.onKeydown = function (b) {
        /(37|38|39|40)/.test(b.which) && (b.preventDefault(), b.stopPropagation(), a.rate(a.value + (38 === b.which || 39 === b.which ? 1 : -1)))
    }, this.render = function () {
        a.value = d.$viewValue, a.title = e.getTitle(a.value - 1)
    }
}]).directive("uibRating", function () {
    return {
        require: ["uibRating", "ngModel"],
        scope: {readonly: "=?readOnly", onHover: "&", onLeave: "&"},
        controller: "UibRatingController",
        templateUrl: "uib/template/rating/rating.html",
        replace: !0,
        link: function (a, b, c, d) {
            var e = d[0], f = d[1];
            e.init(f)
        }
    }
}), angular.module("ui.bootstrap.tabs", []).controller("UibTabsetController", ["$scope", function (a) {
    function b(a) {
        for (var b = 0; b < d.tabs.length; b++)if (d.tabs[b].index === a)return b
    }

    var c, d = this;
    d.tabs = [], d.select = function (a, f) {
        if (!e) {
            var g = b(c), h = d.tabs[g];
            if (h) {
                if (h.tab.onDeselect({$event: f, $selectedIndex: a}), f && f.isDefaultPrevented())return;
                h.tab.active = !1
            }
            var i = d.tabs[a];
            i ? (i.tab.onSelect({$event: f}), i.tab.active = !0, d.active = i.index, c = i.index) : !i && angular.isDefined(c) && (d.active = null, c = null)
        }
    }, d.addTab = function (a) {
        if (d.tabs.push({tab: a, index: a.index}), d.tabs.sort(function (a, b) {
                return a.index > b.index ? 1 : a.index < b.index ? -1 : 0
            }), a.index === d.active || !angular.isDefined(d.active) && 1 === d.tabs.length) {
            var c = b(a.index);
            d.select(c)
        }
    }, d.removeTab = function (a) {
        for (var b, c = 0; c < d.tabs.length; c++)if (d.tabs[c].tab === a) {
            b = c;
            break
        }
        if (d.tabs[b].index === d.active) {
            var e = b === d.tabs.length - 1 ? b - 1 : b + 1 % d.tabs.length;
            d.select(e)
        }
        d.tabs.splice(b, 1)
    }, a.$watch("tabset.active", function (a) {
        angular.isDefined(a) && a !== c && d.select(b(a))
    });
    var e;
    a.$on("$destroy", function () {
        e = !0
    })
}]).directive("uibTabset", function () {
    return {
        transclude: !0,
        replace: !0,
        scope: {},
        bindToController: {active: "=?", type: "@"},
        controller: "UibTabsetController",
        controllerAs: "tabset",
        templateUrl: function (a, b) {
            return b.templateUrl || "uib/template/tabs/tabset.html"
        },
        link: function (a, b, c) {
            a.vertical = !!angular.isDefined(c.vertical) && a.$parent.$eval(c.vertical), a.justified = !!angular.isDefined(c.justified) && a.$parent.$eval(c.justified)
        }
    }
}).directive("uibTab", ["$parse", function (a) {
    return {
        require: "^uibTabset",
        replace: !0,
        templateUrl: function (a, b) {
            return b.templateUrl || "uib/template/tabs/tab.html"
        },
        transclude: !0,
        scope: {heading: "@", index: "=?", classes: "@?", onSelect: "&select", onDeselect: "&deselect"},
        controller: function () {
        },
        controllerAs: "tab",
        link: function (b, c, d, e, f) {
            b.disabled = !1, d.disable && b.$parent.$watch(a(d.disable), function (a) {
                b.disabled = !!a
            }), angular.isUndefined(d.index) && (e.tabs && e.tabs.length ? b.index = Math.max.apply(null, e.tabs.map(function (a) {
                    return a.index
                })) + 1 : b.index = 0), angular.isUndefined(d.classes) && (b.classes = ""), b.select = function (a) {
                if (!b.disabled) {
                    for (var c, d = 0; d < e.tabs.length; d++)if (e.tabs[d].tab === b) {
                        c = d;
                        break
                    }
                    e.select(c, a)
                }
            }, e.addTab(b), b.$on("$destroy", function () {
                e.removeTab(b)
            }), b.$transcludeFn = f
        }
    }
}]).directive("uibTabHeadingTransclude", function () {
    return {
        restrict: "A", require: "^uibTab", link: function (a, b) {
            a.$watch("headingElement", function (a) {
                a && (b.html(""), b.append(a))
            })
        }
    }
}).directive("uibTabContentTransclude", function () {
    function a(a) {
        return a.tagName && (a.hasAttribute("uib-tab-heading") || a.hasAttribute("data-uib-tab-heading") || a.hasAttribute("x-uib-tab-heading") || "uib-tab-heading" === a.tagName.toLowerCase() || "data-uib-tab-heading" === a.tagName.toLowerCase() || "x-uib-tab-heading" === a.tagName.toLowerCase() || "uib:tab-heading" === a.tagName.toLowerCase())
    }

    return {
        restrict: "A", require: "^uibTabset", link: function (b, c, d) {
            var e = b.$eval(d.uibTabContentTransclude).tab;
            e.$transcludeFn(e.$parent, function (b) {
                angular.forEach(b, function (b) {
                    a(b) ? e.headingElement = b : c.append(b)
                })
            })
        }
    }
}), angular.module("ui.bootstrap.timepicker", []).constant("uibTimepickerConfig", {
    hourStep: 1,
    minuteStep: 1,
    secondStep: 1,
    showMeridian: !0,
    showSeconds: !1,
    meridians: null,
    readonlyInput: !1,
    mousewheel: !0,
    arrowkeys: !0,
    showSpinners: !0,
    templateUrl: "uib/template/timepicker/timepicker.html"
}).controller("UibTimepickerController", ["$scope", "$element", "$attrs", "$parse", "$log", "$locale", "uibTimepickerConfig", function (a, b, c, d, e, f, g) {
    function h() {
        var b = +a.hours, c = a.showMeridian ? b > 0 && b < 13 : b >= 0 && b < 24;
        if (c && "" !== a.hours)return a.showMeridian && (12 === b && (b = 0), a.meridian === v[1] && (b += 12)), b
    }

    function i() {
        var b = +a.minutes, c = b >= 0 && b < 60;
        if (c && "" !== a.minutes)return b
    }

    function j() {
        var b = +a.seconds;
        return b >= 0 && b < 60 ? b : void 0
    }

    function k(a, b) {
        return null === a ? "" : angular.isDefined(a) && a.toString().length < 2 && !b ? "0" + a : a.toString()
    }

    function l(a) {
        m(), u.$setViewValue(new Date(s)), n(a)
    }

    function m() {
        u.$setValidity("time", !0), a.invalidHours = !1, a.invalidMinutes = !1, a.invalidSeconds = !1
    }

    function n(b) {
        if (u.$modelValue) {
            var c = s.getHours(), d = s.getMinutes(), e = s.getSeconds();
            a.showMeridian && (c = 0 === c || 12 === c ? 12 : c % 12), a.hours = "h" === b ? c : k(c, !w), "m" !== b && (a.minutes = k(d)), a.meridian = s.getHours() < 12 ? v[0] : v[1], "s" !== b && (a.seconds = k(e)), a.meridian = s.getHours() < 12 ? v[0] : v[1]
        } else a.hours = null, a.minutes = null, a.seconds = null, a.meridian = v[0]
    }

    function o(a) {
        s = q(s, a), l()
    }

    function p(a, b) {
        return q(a, 60 * b)
    }

    function q(a, b) {
        var c = new Date(a.getTime() + 1e3 * b), d = new Date(a);
        return d.setHours(c.getHours(), c.getMinutes(), c.getSeconds()), d
    }

    function r() {
        return (null === a.hours || "" === a.hours) && (null === a.minutes || "" === a.minutes) && (!a.showSeconds || a.showSeconds && (null === a.seconds || "" === a.seconds))
    }

    var s = new Date, t = [], u = {$setViewValue: angular.noop}, v = angular.isDefined(c.meridians) ? a.$parent.$eval(c.meridians) : g.meridians || f.DATETIME_FORMATS.AMPMS, w = !angular.isDefined(c.padHours) || a.$parent.$eval(c.padHours);
    a.tabindex = angular.isDefined(c.tabindex) ? c.tabindex : 0, b.removeAttr("tabindex"), this.init = function (b, d) {
        u = b, u.$render = this.render, u.$formatters.unshift(function (a) {
            return a ? new Date(a) : null
        });
        var e = d.eq(0), f = d.eq(1), h = d.eq(2), i = angular.isDefined(c.mousewheel) ? a.$parent.$eval(c.mousewheel) : g.mousewheel;
        i && this.setupMousewheelEvents(e, f, h);
        var j = angular.isDefined(c.arrowkeys) ? a.$parent.$eval(c.arrowkeys) : g.arrowkeys;
        j && this.setupArrowkeyEvents(e, f, h), a.readonlyInput = angular.isDefined(c.readonlyInput) ? a.$parent.$eval(c.readonlyInput) : g.readonlyInput, this.setupInputEvents(e, f, h)
    };
    var x = g.hourStep;
    c.hourStep && t.push(a.$parent.$watch(d(c.hourStep), function (a) {
        x = +a
    }));
    var y = g.minuteStep;
    c.minuteStep && t.push(a.$parent.$watch(d(c.minuteStep), function (a) {
        y = +a
    }));
    var z;
    t.push(a.$parent.$watch(d(c.min), function (a) {
        var b = new Date(a);
        z = isNaN(b) ? void 0 : b
    }));
    var A;
    t.push(a.$parent.$watch(d(c.max), function (a) {
        var b = new Date(a);
        A = isNaN(b) ? void 0 : b
    }));
    var B = !1;
    c.ngDisabled && t.push(a.$parent.$watch(d(c.ngDisabled), function (a) {
        B = a
    })), a.noIncrementHours = function () {
        var a = p(s, 60 * x);
        return B || a > A || a < s && a < z
    }, a.noDecrementHours = function () {
        var a = p(s, 60 * -x);
        return B || a < z || a > s && a > A
    }, a.noIncrementMinutes = function () {
        var a = p(s, y);
        return B || a > A || a < s && a < z
    }, a.noDecrementMinutes = function () {
        var a = p(s, -y);
        return B || a < z || a > s && a > A
    }, a.noIncrementSeconds = function () {
        var a = q(s, C);
        return B || a > A || a < s && a < z
    }, a.noDecrementSeconds = function () {
        var a = q(s, -C);
        return B || a < z || a > s && a > A
    }, a.noToggleMeridian = function () {
        return s.getHours() < 12 ? B || p(s, 720) > A : B || p(s, -720) < z
    };
    var C = g.secondStep;
    c.secondStep && t.push(a.$parent.$watch(d(c.secondStep), function (a) {
        C = +a
    })), a.showSeconds = g.showSeconds, c.showSeconds && t.push(a.$parent.$watch(d(c.showSeconds), function (b) {
        a.showSeconds = !!b
    })), a.showMeridian = g.showMeridian, c.showMeridian && t.push(a.$parent.$watch(d(c.showMeridian), function (b) {
        if (a.showMeridian = !!b, u.$error.time) {
            var c = h(), d = i();
            angular.isDefined(c) && angular.isDefined(d) && (s.setHours(c), l())
        } else n()
    })), this.setupMousewheelEvents = function (b, c, d) {
        var e = function (a) {
            a.originalEvent && (a = a.originalEvent);
            var b = a.wheelDelta ? a.wheelDelta : -a.deltaY;
            return a.detail || b > 0
        };
        b.bind("mousewheel wheel", function (b) {
            B || a.$apply(e(b) ? a.incrementHours() : a.decrementHours()), b.preventDefault()
        }), c.bind("mousewheel wheel", function (b) {
            B || a.$apply(e(b) ? a.incrementMinutes() : a.decrementMinutes()), b.preventDefault()
        }), d.bind("mousewheel wheel", function (b) {
            B || a.$apply(e(b) ? a.incrementSeconds() : a.decrementSeconds()), b.preventDefault()
        })
    }, this.setupArrowkeyEvents = function (b, c, d) {
        b.bind("keydown", function (b) {
            B || (38 === b.which ? (b.preventDefault(), a.incrementHours(), a.$apply()) : 40 === b.which && (b.preventDefault(), a.decrementHours(), a.$apply()))
        }), c.bind("keydown", function (b) {
            B || (38 === b.which ? (b.preventDefault(), a.incrementMinutes(), a.$apply()) : 40 === b.which && (b.preventDefault(), a.decrementMinutes(), a.$apply()))
        }), d.bind("keydown", function (b) {
            B || (38 === b.which ? (b.preventDefault(), a.incrementSeconds(), a.$apply()) : 40 === b.which && (b.preventDefault(), a.decrementSeconds(), a.$apply()))
        })
    }, this.setupInputEvents = function (b, c, d) {
        if (a.readonlyInput)return a.updateHours = angular.noop, a.updateMinutes = angular.noop, void(a.updateSeconds = angular.noop);
        var e = function (b, c, d) {
            u.$setViewValue(null), u.$setValidity("time", !1), angular.isDefined(b) && (a.invalidHours = b), angular.isDefined(c) && (a.invalidMinutes = c), angular.isDefined(d) && (a.invalidSeconds = d)
        };
        a.updateHours = function () {
            var a = h(), b = i();
            u.$setDirty(), angular.isDefined(a) && angular.isDefined(b) ? (s.setHours(a), s.setMinutes(b), s < z || s > A ? e(!0) : l("h")) : e(!0)
        }, b.bind("blur", function (b) {
            u.$setTouched(), r() ? m() : null === a.hours || "" === a.hours ? e(!0) : !a.invalidHours && a.hours < 10 && a.$apply(function () {
                a.hours = k(a.hours, !w)
            })
        }), a.updateMinutes = function () {
            var a = i(), b = h();
            u.$setDirty(), angular.isDefined(a) && angular.isDefined(b) ? (s.setHours(b), s.setMinutes(a), s < z || s > A ? e(void 0, !0) : l("m")) : e(void 0, !0)
        }, c.bind("blur", function (b) {
            u.$setTouched(), r() ? m() : null === a.minutes ? e(void 0, !0) : !a.invalidMinutes && a.minutes < 10 && a.$apply(function () {
                a.minutes = k(a.minutes)
            })
        }), a.updateSeconds = function () {
            var a = j();
            u.$setDirty(), angular.isDefined(a) ? (s.setSeconds(a), l("s")) : e(void 0, void 0, !0)
        }, d.bind("blur", function (b) {
            r() ? m() : !a.invalidSeconds && a.seconds < 10 && a.$apply(function () {
                a.seconds = k(a.seconds)
            })
        })
    }, this.render = function () {
        var b = u.$viewValue;
        isNaN(b) ? (u.$setValidity("time", !1), e.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')) : (b && (s = b), s < z || s > A ? (u.$setValidity("time", !1), a.invalidHours = !0, a.invalidMinutes = !0) : m(), n())
    }, a.showSpinners = angular.isDefined(c.showSpinners) ? a.$parent.$eval(c.showSpinners) : g.showSpinners, a.incrementHours = function () {
        a.noIncrementHours() || o(60 * x * 60)
    }, a.decrementHours = function () {
        a.noDecrementHours() || o(60 * -x * 60)
    }, a.incrementMinutes = function () {
        a.noIncrementMinutes() || o(60 * y)
    }, a.decrementMinutes = function () {
        a.noDecrementMinutes() || o(60 * -y)
    }, a.incrementSeconds = function () {
        a.noIncrementSeconds() || o(C)
    }, a.decrementSeconds = function () {
        a.noDecrementSeconds() || o(-C)
    }, a.toggleMeridian = function () {
        var b = i(), c = h();
        a.noToggleMeridian() || (angular.isDefined(b) && angular.isDefined(c) ? o(720 * (s.getHours() < 12 ? 60 : -60)) : a.meridian = a.meridian === v[0] ? v[1] : v[0])
    }, a.blur = function () {
        u.$setTouched()
    }, a.$on("$destroy", function () {
        for (; t.length;)t.shift()()
    })
}]).directive("uibTimepicker", ["uibTimepickerConfig", function (a) {
    return {
        require: ["uibTimepicker", "?^ngModel"],
        controller: "UibTimepickerController",
        controllerAs: "timepicker",
        replace: !0,
        scope: {},
        templateUrl: function (b, c) {
            return c.templateUrl || a.templateUrl
        },
        link: function (a, b, c, d) {
            var e = d[0], f = d[1];
            f && e.init(f, b.find("input"))
        }
    }
}]), angular.module("ui.bootstrap.typeahead", ["ui.bootstrap.debounce", "ui.bootstrap.position"]).factory("uibTypeaheadParser", ["$parse", function (a) {
    var b = /^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;
    return {
        parse: function (c) {
            var d = c.match(b);
            if (!d)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "' + c + '".');
            return {itemName: d[3], source: a(d[4]), viewMapper: a(d[2] || d[1]), modelMapper: a(d[1])}
        }
    }
}]).controller("UibTypeaheadController", ["$scope", "$element", "$attrs", "$compile", "$parse", "$q", "$timeout", "$document", "$window", "$rootScope", "$$debounce", "$uibPosition", "uibTypeaheadParser", function (a, b, c, d, e, f, g, h, i, j, k, l, m) {
    function n() {
        O.moveInProgress || (O.moveInProgress = !0, O.$digest()), Z()
    }

    function o() {
        O.position = E ? l.offset(b) : l.position(b), O.position.top += b.prop("offsetHeight")
    }

    var p, q, r = [9, 13, 27, 38, 40], s = 200, t = a.$eval(c.typeaheadMinLength);
    t || 0 === t || (t = 1), a.$watch(c.typeaheadMinLength, function (a) {
        t = a || 0 === a ? a : 1
    });
    var u = a.$eval(c.typeaheadWaitMs) || 0, v = a.$eval(c.typeaheadEditable) !== !1;
    a.$watch(c.typeaheadEditable, function (a) {
        v = a !== !1
    });
    var w, x, y = e(c.typeaheadLoading).assign || angular.noop, z = c.typeaheadShouldSelect ? e(c.typeaheadShouldSelect) : function (a, b) {
        var c = b.$event;
        return 13 === c.which || 9 === c.which
    }, A = e(c.typeaheadOnSelect), B = !!angular.isDefined(c.typeaheadSelectOnBlur) && a.$eval(c.typeaheadSelectOnBlur), C = e(c.typeaheadNoResults).assign || angular.noop, D = c.typeaheadInputFormatter ? e(c.typeaheadInputFormatter) : void 0, E = !!c.typeaheadAppendToBody && a.$eval(c.typeaheadAppendToBody), F = c.typeaheadAppendTo ? a.$eval(c.typeaheadAppendTo) : null, G = a.$eval(c.typeaheadFocusFirst) !== !1, H = !!c.typeaheadSelectOnExact && a.$eval(c.typeaheadSelectOnExact), I = e(c.typeaheadIsOpen).assign || angular.noop, J = a.$eval(c.typeaheadShowHint) || !1, K = e(c.ngModel), L = e(c.ngModel + "($$$p)"), M = function (b, c) {
        return angular.isFunction(K(a)) && q && q.$options && q.$options.getterSetter ? L(b, {$$$p: c}) : K.assign(b, c)
    }, N = m.parse(c.uibTypeahead), O = a.$new(), P = a.$on("$destroy", function () {
        O.$destroy()
    });
    O.$on("$destroy", P);
    var Q = "typeahead-" + O.$id + "-" + Math.floor(1e4 * Math.random());
    b.attr({"aria-autocomplete": "list", "aria-expanded": !1, "aria-owns": Q});
    var R, S;
    J && (R = angular.element("<div></div>"), R.css("position", "relative"), b.after(R), S = b.clone(), S.attr("placeholder", ""), S.attr("tabindex", "-1"), S.val(""), S.css({
        position: "absolute",
        top: "0px",
        left: "0px",
        "border-color": "transparent",
        "box-shadow": "none",
        opacity: 1,
        background: "none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",
        color: "#999"
    }), b.css({
        position: "relative",
        "vertical-align": "top",
        "background-color": "transparent"
    }), R.append(S), S.after(b));
    var T = angular.element("<div uib-typeahead-popup></div>");
    T.attr({
        id: Q,
        matches: "matches",
        active: "activeIdx",
        select: "select(activeIdx, evt)",
        "move-in-progress": "moveInProgress",
        query: "query",
        position: "position",
        "assign-is-open": "assignIsOpen(isOpen)",
        debounce: "debounceUpdate"
    }), angular.isDefined(c.typeaheadTemplateUrl) && T.attr("template-url", c.typeaheadTemplateUrl), angular.isDefined(c.typeaheadPopupTemplateUrl) && T.attr("popup-template-url", c.typeaheadPopupTemplateUrl);
    var U = function () {
        J && S.val("")
    }, V = function () {
        O.matches = [], O.activeIdx = -1, b.attr("aria-expanded", !1), U()
    }, W = function (a) {
        return Q + "-option-" + a
    };
    O.$watch("activeIdx", function (a) {
        a < 0 ? b.removeAttr("aria-activedescendant") : b.attr("aria-activedescendant", W(a))
    });
    var X = function (a, b) {
        return !!(O.matches.length > b && a) && a.toUpperCase() === O.matches[b].label.toUpperCase()
    }, Y = function (c, d) {
        var e = {$viewValue: c};
        y(a, !0), C(a, !1), f.when(N.source(a, e)).then(function (f) {
            var g = c === p.$viewValue;
            if (g && w)if (f && f.length > 0) {
                O.activeIdx = G ? 0 : -1, C(a, !1), O.matches.length = 0;
                for (var h = 0; h < f.length; h++)e[N.itemName] = f[h], O.matches.push({
                    id: W(h),
                    label: N.viewMapper(O, e),
                    model: f[h]
                });
                if (O.query = c, o(), b.attr("aria-expanded", !0), H && 1 === O.matches.length && X(c, 0) && (angular.isNumber(O.debounceUpdate) || angular.isObject(O.debounceUpdate) ? k(function () {
                        O.select(0, d)
                    }, angular.isNumber(O.debounceUpdate) ? O.debounceUpdate : O.debounceUpdate.default) : O.select(0, d)), J) {
                    var i = O.matches[0].label;
                    angular.isString(c) && c.length > 0 && i.slice(0, c.length).toUpperCase() === c.toUpperCase() ? S.val(c + i.slice(c.length)) : S.val("")
                }
            } else V(), C(a, !0);
            g && y(a, !1)
        }, function () {
            V(), y(a, !1), C(a, !0)
        })
    };
    E && (angular.element(i).on("resize", n), h.find("body").on("scroll", n));
    var Z = k(function () {
        O.matches.length && o(), O.moveInProgress = !1
    }, s);
    O.moveInProgress = !1, O.query = void 0;
    var $, _ = function (a) {
        $ = g(function () {
            Y(a)
        }, u)
    }, aa = function () {
        $ && g.cancel($)
    };
    V(), O.assignIsOpen = function (b) {
        I(a, b)
    }, O.select = function (d, e) {
        var f, h, i = {};
        x = !0, i[N.itemName] = h = O.matches[d].model, f = N.modelMapper(a, i), M(a, f), p.$setValidity("editable", !0), p.$setValidity("parse", !0), A(a, {
            $item: h,
            $model: f,
            $label: N.viewMapper(a, i),
            $event: e
        }), V(), O.$eval(c.typeaheadFocusOnSelect) !== !1 && g(function () {
            b[0].focus()
        }, 0, !1)
    }, b.on("keydown", function (b) {
        if (0 !== O.matches.length && r.indexOf(b.which) !== -1) {
            var c = z(a, {$event: b});
            if (O.activeIdx === -1 && c || 9 === b.which && b.shiftKey)return V(), void O.$digest();
            b.preventDefault();
            var d;
            switch (b.which) {
                case 27:
                    b.stopPropagation(), V(), a.$digest();
                    break;
                case 38:
                    O.activeIdx = (O.activeIdx > 0 ? O.activeIdx : O.matches.length) - 1, O.$digest(), d = T.find("li")[O.activeIdx], d.parentNode.scrollTop = d.offsetTop;
                    break;
                case 40:
                    O.activeIdx = (O.activeIdx + 1) % O.matches.length, O.$digest(), d = T.find("li")[O.activeIdx], d.parentNode.scrollTop = d.offsetTop;
                    break;
                default:
                    c && O.$apply(function () {
                        angular.isNumber(O.debounceUpdate) || angular.isObject(O.debounceUpdate) ? k(function () {
                            O.select(O.activeIdx, b)
                        }, angular.isNumber(O.debounceUpdate) ? O.debounceUpdate : O.debounceUpdate.default) : O.select(O.activeIdx, b)
                    })
            }
        }
    }), b.bind("focus", function (a) {
        w = !0, 0 !== t || p.$viewValue || g(function () {
            Y(p.$viewValue, a)
        }, 0)
    }), b.bind("blur", function (a) {
        B && O.matches.length && O.activeIdx !== -1 && !x && (x = !0, O.$apply(function () {
            angular.isObject(O.debounceUpdate) && angular.isNumber(O.debounceUpdate.blur) ? k(function () {
                O.select(O.activeIdx, a)
            }, O.debounceUpdate.blur) : O.select(O.activeIdx, a)
        })), !v && p.$error.editable && (p.$setViewValue(), p.$setValidity("editable", !0), p.$setValidity("parse", !0), b.val("")), w = !1, x = !1
    });
    var ba = function (c) {
        b[0] !== c.target && 3 !== c.which && 0 !== O.matches.length && (V(), j.$$phase || a.$digest())
    };
    h.on("click", ba), a.$on("$destroy", function () {
        h.off("click", ba), (E || F) && ca.remove(), E && (angular.element(i).off("resize", n), h.find("body").off("scroll", n)), T.remove(), J && R.remove()
    });
    var ca = d(T)(O);
    E ? h.find("body").append(ca) : F ? angular.element(F).eq(0).append(ca) : b.after(ca), this.init = function (b, c) {
        p = b, q = c, O.debounceUpdate = p.$options && e(p.$options.debounce)(a), p.$parsers.unshift(function (b) {
            return w = !0, 0 === t || b && b.length >= t ? u > 0 ? (aa(), _(b)) : Y(b) : (y(a, !1), aa(), V()), v ? b : b ? void p.$setValidity("editable", !1) : (p.$setValidity("editable", !0), null)
        }), p.$formatters.push(function (b) {
            var c, d, e = {};
            return v || p.$setValidity("editable", !0), D ? (e.$model = b, D(a, e)) : (e[N.itemName] = b, c = N.viewMapper(a, e), e[N.itemName] = void 0, d = N.viewMapper(a, e), c !== d ? c : b)
        })
    }
}]).directive("uibTypeahead", function () {
    return {
        controller: "UibTypeaheadController",
        require: ["ngModel", "^?ngModelOptions", "uibTypeahead"],
        link: function (a, b, c, d) {
            d[2].init(d[0], d[1])
        }
    }
}).directive("uibTypeaheadPopup", ["$$debounce", function (a) {
    return {
        scope: {
            matches: "=",
            query: "=",
            active: "=",
            position: "&",
            moveInProgress: "=",
            select: "&",
            assignIsOpen: "&",
            debounce: "&"
        }, replace: !0, templateUrl: function (a, b) {
            return b.popupTemplateUrl || "uib/template/typeahead/typeahead-popup.html"
        }, link: function (b, c, d) {
            b.templateUrl = d.templateUrl, b.isOpen = function () {
                var a = b.matches.length > 0;
                return b.assignIsOpen({isOpen: a}), a
            }, b.isActive = function (a) {
                return b.active === a
            }, b.selectActive = function (a) {
                b.active = a
            }, b.selectMatch = function (c, d) {
                var e = b.debounce();
                angular.isNumber(e) || angular.isObject(e) ? a(function () {
                    b.select({activeIdx: c, evt: d})
                }, angular.isNumber(e) ? e : e.default) : b.select({activeIdx: c, evt: d})
            }
        }
    }
}]).directive("uibTypeaheadMatch", ["$templateRequest", "$compile", "$parse", function (a, b, c) {
    return {
        scope: {index: "=", match: "=", query: "="}, link: function (d, e, f) {
            var g = c(f.templateUrl)(d.$parent) || "uib/template/typeahead/typeahead-match.html";
            a(g).then(function (a) {
                var c = angular.element(a.trim());
                e.replaceWith(c), b(c)(d)
            })
        }
    }
}]).filter("uibTypeaheadHighlight", ["$sce", "$injector", "$log", function (a, b, c) {
    function d(a) {
        return a.replace(/([.?*+^$[\]\\(){}|-])/g, "\\$1")
    }

    function e(a) {
        return /<.*>/g.test(a)
    }

    var f;
    return f = b.has("$sanitize"), function (b, g) {
        return !f && e(b) && c.warn("Unsafe use of typeahead please use ngSanitize"), b = g ? ("" + b).replace(new RegExp(d(g), "gi"), "<strong>$&</strong>") : b, f || (b = a.trustAsHtml(b)), b
    }
}]), angular.module("uib/template/accordion/accordion-group.html", []).run(["$templateCache", function (a) {
    a.put("uib/template/accordion/accordion-group.html", '<div class="panel" ng-class="panelClass || \'panel-default\'">\n  <div role="tab" id="{{::headingId}}" aria-selected="{{isOpen}}" class="panel-heading" ng-keypress="toggleOpen($event)">\n    <h4 class="panel-title">\n      <a role="button" data-toggle="collapse" href aria-expanded="{{isOpen}}" aria-controls="{{::panelId}}" tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading"><span uib-accordion-header ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div id="{{::panelId}}" aria-labelledby="{{::headingId}}" aria-hidden="{{!isOpen}}" role="tabpanel" class="panel-collapse collapse" uib-collapse="!isOpen">\n    <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')
}]), angular.module("uib/template/accordion/accordion.html", []).run(["$templateCache", function (a) {
    a.put("uib/template/accordion/accordion.html", '<div role="tablist" class="panel-group" ng-transclude></div>')
}]), angular.module("uib/template/alert/alert.html", []).run(["$templateCache", function (a) {
    a.put("uib/template/alert/alert.html", '<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')
}]), angular.module("uib/template/carousel/carousel.html", []).run(["$templateCache", function (a) {
    a.put("uib/template/carousel/carousel.html", '<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n  <div class="carousel-inner" ng-transclude></div>\n  <a role="button" href class="left carousel-control" ng-click="prev()" ng-class="{ disabled: isPrevDisabled() }" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n    <span class="sr-only">previous</span>\n  </a>\n  <a role="button" href class="right carousel-control" ng-click="next()" ng-class="{ disabled: isNextDisabled() }" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n    <span class="sr-only">next</span>\n  </a>\n  <ol class="carousel-indicators" ng-show="slides.length > 1">\n    <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n      <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n    </li>\n  </ol>\n</div>\n')
}]), angular.module("uib/template/carousel/slide.html", []).run(["$templateCache", function (a) {
    a.put("uib/template/carousel/slide.html", '<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')
}]), angular.module("uib/template/datepicker/datepicker.html", []).run(["$templateCache", function (a) {
    a.put("uib/template/datepicker/datepicker.html", '<div class="uib-datepicker" ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <uib-daypicker ng-switch-when="day" tabindex="0"></uib-daypicker>\n  <uib-monthpicker ng-switch-when="month" tabindex="0"></uib-monthpicker>\n  <uib-yearpicker ng-switch-when="year" tabindex="0"></uib-yearpicker>\n</div>\n')
}]), angular.module("uib/template/datepicker/day.html", []).run(["$templateCache", function (a) {
    a.put("uib/template/datepicker/day.html", '<table class="uib-daypicker" role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-weeks" ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row" class="uib-day text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default btn-sm"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')
}]), angular.module("uib/template/datepicker/month.html", []).run(["$templateCache", function (a) {
    a.put("uib/template/datepicker/month.html", '<table class="uib-monthpicker" role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-months" ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row" class="uib-month text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')
}]), angular.module("uib/template/datepicker/year.html", []).run(["$templateCache", function (a) {
    a.put("uib/template/datepicker/year.html", '<table class="uib-yearpicker" role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::columns - 2}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-years" ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row" class="uib-year text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')
}]), angular.module("uib/template/datepickerPopup/popup.html", []).run(["$templateCache", function (a) {
    a.put("uib/template/datepickerPopup/popup.html", '<div>\n  <ul class="uib-datepicker-popup dropdown-menu uib-position-measure" dropdown-nested ng-if="isOpen" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n    <li ng-transclude></li>\n    <li ng-if="showButtonBar" class="uib-button-bar">\n      <span class="btn-group pull-left">\n        <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n        <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null, $event)">{{ getText(\'clear\') }}</button>\n      </span>\n      <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close($event)">{{ getText(\'close\') }}</button>\n    </li>\n  </ul>\n</div>\n');
}]), angular.module("uib/template/modal/backdrop.html", []).run(["$templateCache", function (a) {
    a.put("uib/template/modal/backdrop.html", '<div class="modal-backdrop"\n     uib-modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')
}]), angular.module("uib/template/modal/window.html", []).run(["$templateCache", function (a) {
    a.put("uib/template/modal/window.html", '<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    uib-modal-animation-class="fade"\n    modal-in-class="in"\n    ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}">\n    <div class="modal-dialog {{size ? \'modal-\' + size : \'\'}}"><div class="modal-content" uib-modal-transclude></div></div>\n</div>\n')
}]), angular.module("uib/template/pager/pager.html", []).run(["$templateCache", function (a) {
    a.put("uib/template/pager/pager.html", '<ul class="pager">\n  <li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n</ul>\n')
}]), angular.module("uib/template/pagination/pagination.html", []).run(["$templateCache", function (a) {
    a.put("uib/template/pagination/pagination.html", '<ul class="pagination">\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)">{{::getText(\'first\')}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)">{{::getText(\'last\')}}</a></li>\n</ul>\n')
}]), angular.module("uib/template/tooltip/tooltip-html-popup.html", []).run(["$templateCache", function (a) {
    a.put("uib/template/tooltip/tooltip-html-popup.html", '<div class="tooltip"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')
}]), angular.module("uib/template/tooltip/tooltip-popup.html", []).run(["$templateCache", function (a) {
    a.put("uib/template/tooltip/tooltip-popup.html", '<div class="tooltip"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')
}]), angular.module("uib/template/tooltip/tooltip-template-popup.html", []).run(["$templateCache", function (a) {
    a.put("uib/template/tooltip/tooltip-template-popup.html", '<div class="tooltip"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    uib-tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')
}]), angular.module("uib/template/popover/popover-html.html", []).run(["$templateCache", function (a) {
    a.put("uib/template/popover/popover-html.html", '<div class="popover"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n      <div class="popover-content" ng-bind-html="contentExp()"></div>\n  </div>\n</div>\n')
}]), angular.module("uib/template/popover/popover-template.html", []).run(["$templateCache", function (a) {
    a.put("uib/template/popover/popover-template.html", '<div class="popover"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n      <div class="popover-content"\n        uib-tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')
}]), angular.module("uib/template/popover/popover.html", []).run(["$templateCache", function (a) {
    a.put("uib/template/popover/popover.html", '<div class="popover"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')
}]), angular.module("uib/template/progressbar/bar.html", []).run(["$templateCache", function (a) {
    a.put("uib/template/progressbar/bar.html", '<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n')
}]), angular.module("uib/template/progressbar/progress.html", []).run(["$templateCache", function (a) {
    a.put("uib/template/progressbar/progress.html", '<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')
}]), angular.module("uib/template/progressbar/progressbar.html", []).run(["$templateCache", function (a) {
    a.put("uib/template/progressbar/progressbar.html", '<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n</div>\n')
}]), angular.module("uib/template/rating/rating.html", []).run(["$templateCache", function (a) {
    a.put("uib/template/rating/rating.html", '<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}" aria-valuetext="{{title}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}"></i>\n</span>\n')
}]), angular.module("uib/template/tabs/tab.html", []).run(["$templateCache", function (a) {
    a.put("uib/template/tabs/tab.html", '<li ng-class="[{active: active, disabled: disabled}, classes]" class="uib-tab nav-item">\n  <a href ng-click="select($event)" class="nav-link" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')
}]), angular.module("uib/template/tabs/tabset.html", []).run(["$templateCache", function (a) {
    a.put("uib/template/tabs/tabset.html", '<div>\n  <ul class="nav nav-{{tabset.type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane"\n         ng-repeat="tab in tabset.tabs"\n         ng-class="{active: tabset.active === tab.index}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')
}]), angular.module("uib/template/timepicker/timepicker.html", []).run(["$templateCache", function (a) {
    a.put("uib/template/timepicker/timepicker.html", '<table class="uib-timepicker">\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-increment hours"><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-increment minutes"><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-increment seconds"><a ng-click="incrementSeconds()" ng-class="{disabled: noIncrementSeconds()}" class="btn btn-link" ng-disabled="noIncrementSeconds()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group uib-time hours" ng-class="{\'has-error\': invalidHours}">\n        <input type="text" placeholder="HH" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementHours()" ng-blur="blur()">\n      </td>\n      <td class="uib-separator">:</td>\n      <td class="form-group uib-time minutes" ng-class="{\'has-error\': invalidMinutes}">\n        <input type="text" placeholder="MM" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementMinutes()" ng-blur="blur()">\n      </td>\n      <td ng-show="showSeconds" class="uib-separator">:</td>\n      <td class="form-group uib-time seconds" ng-class="{\'has-error\': invalidSeconds}" ng-show="showSeconds">\n        <input type="text" placeholder="SS" ng-model="seconds" ng-change="updateSeconds()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementSeconds()" ng-blur="blur()">\n      </td>\n      <td ng-show="showMeridian" class="uib-time am-pm"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-decrement hours"><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-decrement minutes"><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-decrement seconds"><a ng-click="decrementSeconds()" ng-class="{disabled: noDecrementSeconds()}" class="btn btn-link" ng-disabled="noDecrementSeconds()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')
}]), angular.module("uib/template/typeahead/typeahead-match.html", []).run(["$templateCache", function (a) {
    a.put("uib/template/typeahead/typeahead-match.html", '<a href\n   tabindex="-1"\n   ng-bind-html="match.label | uibTypeaheadHighlight:query"\n   ng-attr-title="{{match.label}}"></a>\n')
}]), angular.module("uib/template/typeahead/typeahead-popup.html", []).run(["$templateCache", function (a) {
    a.put("uib/template/typeahead/typeahead-popup.html", '<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index, $event)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')
}]), angular.module("ui.bootstrap.carousel").run(function () {
    !angular.$$csp().noInlineStyle && !angular.$$uibCarouselCss && angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'), angular.$$uibCarouselCss = !0
}), angular.module("ui.bootstrap.datepicker").run(function () {
    !angular.$$csp().noInlineStyle && !angular.$$uibDatepickerCss && angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}</style>'), angular.$$uibDatepickerCss = !0
}), angular.module("ui.bootstrap.position").run(function () {
    !angular.$$csp().noInlineStyle && !angular.$$uibPositionCss && angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'), angular.$$uibPositionCss = !0
}), angular.module("ui.bootstrap.datepickerPopup").run(function () {
    !angular.$$csp().noInlineStyle && !angular.$$uibDatepickerpopupCss && angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}</style>'), angular.$$uibDatepickerpopupCss = !0
}), angular.module("ui.bootstrap.tooltip").run(function () {
    !angular.$$csp().noInlineStyle && !angular.$$uibTooltipCss && angular.element(document).find("head").prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>'), angular.$$uibTooltipCss = !0
}), angular.module("ui.bootstrap.timepicker").run(function () {
    !angular.$$csp().noInlineStyle && !angular.$$uibTimepickerCss && angular.element(document).find("head").prepend('<style type="text/css">.uib-time input{width:50px;}</style>'), angular.$$uibTimepickerCss = !0
}), angular.module("ui.bootstrap.typeahead").run(function () {
    !angular.$$csp().noInlineStyle && !angular.$$uibTypeaheadCss && angular.element(document).find("head").prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>'), angular.$$uibTypeaheadCss = !0
}), function () {
    "use strict";
    angular.module("ui.event", []).directive("uiEvent", ["$parse", function (a) {
        return function (b, c, d) {
            var e = b.$eval(d.uiEvent);
            angular.forEach(e, function (d, e) {
                var f = a(d);
                c.bind(e, function (a) {
                    var c = Array.prototype.slice.call(arguments);
                    c = c.splice(1), f(b, {$event: a, $params: c}), b.$$phase || b.$apply()
                })
            })
        }
    }])
}(), angular.module("ui.keypress", []).factory("keypressHelper", ["$parse", function (a) {
    "use strict";
    var b = {
        8: "backspace",
        9: "tab",
        13: "enter",
        27: "esc",
        32: "space",
        33: "pageup",
        34: "pagedown",
        35: "end",
        36: "home",
        37: "left",
        38: "up",
        39: "right",
        40: "down",
        45: "insert",
        46: "delete"
    }, c = function (a) {
        return a.charAt(0).toUpperCase() + a.slice(1)
    };
    return function (d, e, f, g) {
        var h, i = [];
        h = e.$eval(g["ui" + c(d)]), angular.forEach(h, function (b, c) {
            var d, e;
            e = a(b), angular.forEach(c.split(" "), function (a) {
                d = {expression: e, keys: {}}, angular.forEach(a.split("-"), function (a) {
                    d.keys[a] = !0
                }), i.push(d)
            })
        }), f.bind(d, function (a) {
            var c = !(!a.metaKey || a.ctrlKey), f = !!a.altKey, g = !!a.ctrlKey, h = !!a.shiftKey, j = a.keyCode;
            "keypress" === d && !h && j >= 97 && j <= 122 && (j -= 32), angular.forEach(i, function (d) {
                var i = d.keys[b[j]] || d.keys[j.toString()], k = !!d.keys.meta, l = !!d.keys.alt, m = !!d.keys.ctrl, n = !!d.keys.shift;
                i && k === c && l === f && m === g && n === h && e.$apply(function () {
                    d.expression(e, {$event: a})
                })
            })
        })
    }
}]), angular.module("ui.keypress").directive("uiKeydown", ["keypressHelper", function (a) {
    "use strict";
    return {
        link: function (b, c, d) {
            a("keydown", b, c, d)
        }
    }
}]), angular.module("ui.keypress").directive("uiKeypress", ["keypressHelper", function (a) {
    "use strict";
    return {
        link: function (b, c, d) {
            a("keypress", b, c, d)
        }
    }
}]), angular.module("ui.keypress").directive("uiKeyup", ["keypressHelper", function (a) {
    "use strict";
    return {
        link: function (b, c, d) {
            a("keyup", b, c, d)
        }
    }
}]), function (a, b, c) {
    "use strict";
    b.module("ui.sortable", []).value("uiSortableConfig", {}).directive("uiSortable", ["uiSortableConfig", "$timeout", "$log", function (a, d, e) {
        return {
            require: "?ngModel", scope: {ngModel: "=", uiSortable: "="}, link: function (f, g, h, i) {
                function j(a, b) {
                    return b && "function" == typeof b ? function () {
                        a.apply(this, arguments), b.apply(this, arguments)
                    } : a
                }

                function k(a) {
                    var b = a.data("ui-sortable");
                    return b && "object" == typeof b && "ui-sortable" === b.widgetFullName ? b : null
                }

                function l(a, b) {
                    var c = a.sortable("option", "helper");
                    return "clone" === c || "function" == typeof c && b.item.sortable.isCustomHelperUsed()
                }

                function m(a) {
                    return /left|right/.test(a.css("float")) || /inline|table-cell/.test(a.css("display"))
                }

                function n(a, b) {
                    for (var c = null, d = 0; d < a.length; d++) {
                        var e = a[d];
                        if (e.element[0] === b[0]) {
                            c = e.scope;
                            break
                        }
                    }
                    return c
                }

                function o(a, b) {
                    b.item.sortable._destroy()
                }

                var p, q = {}, r = {"ui-floating": c}, s = {
                    receive: null,
                    remove: null,
                    start: null,
                    stop: null,
                    update: null
                }, t = {helper: null};
                return b.extend(q, r, a, f.uiSortable), b.element.fn && b.element.fn.jquery ? (i ? (f.$watch("ngModel.length", function () {
                    d(function () {
                        k(g) && g.sortable("refresh")
                    }, 0, !1)
                }), s.start = function (a, d) {
                    if ("auto" === q["ui-floating"]) {
                        var e = d.item.siblings(), f = k(b.element(a.target));
                        f.floating = m(e)
                    }
                    d.item.sortable = {
                        model: i.$modelValue[d.item.index()],
                        index: d.item.index(),
                        source: d.item.parent(),
                        sourceModel: i.$modelValue,
                        cancel: function () {
                            d.item.sortable._isCanceled = !0
                        },
                        isCanceled: function () {
                            return d.item.sortable._isCanceled
                        },
                        isCustomHelperUsed: function () {
                            return !!d.item.sortable._isCustomHelperUsed
                        },
                        _isCanceled: !1,
                        _isCustomHelperUsed: d.item.sortable._isCustomHelperUsed,
                        _destroy: function () {
                            b.forEach(d.item.sortable, function (a, b) {
                                d.item.sortable[b] = c
                            })
                        }
                    }
                }, s.activate = function (a, c) {
                    p = g.contents();
                    var d = g.sortable("option", "placeholder");
                    if (d && d.element && "function" == typeof d.element) {
                        var e = d.element();
                        e = b.element(e);
                        var h = g.find('[class="' + e.attr("class") + '"]:not([ng-repeat], [data-ng-repeat])');
                        p = p.not(h)
                    }
                    var i = c.item.sortable._connectedSortables || [];
                    i.push({element: g, scope: f}), c.item.sortable._connectedSortables = i
                }, s.update = function (a, b) {
                    if (!b.item.sortable.received) {
                        b.item.sortable.dropindex = b.item.index();
                        var c = b.item.parent();
                        b.item.sortable.droptarget = c;
                        var d = n(b.item.sortable._connectedSortables, c);
                        b.item.sortable.droptargetModel = d.ngModel, g.sortable("cancel")
                    }
                    l(g, b) && !b.item.sortable.received && "parent" === g.sortable("option", "appendTo") && (p = p.not(p.last())), p.appendTo(g), b.item.sortable.received && (p = null), b.item.sortable.received && !b.item.sortable.isCanceled() && f.$apply(function () {
                        i.$modelValue.splice(b.item.sortable.dropindex, 0, b.item.sortable.moved)
                    })
                }, s.stop = function (a, b) {
                    !b.item.sortable.received && "dropindex" in b.item.sortable && !b.item.sortable.isCanceled() ? f.$apply(function () {
                        i.$modelValue.splice(b.item.sortable.dropindex, 0, i.$modelValue.splice(b.item.sortable.index, 1)[0])
                    }) : "dropindex" in b.item.sortable && !b.item.sortable.isCanceled() || l(g, b) || p.appendTo(g), p = null
                }, s.receive = function (a, b) {
                    b.item.sortable.received = !0
                }, s.remove = function (a, b) {
                    "dropindex" in b.item.sortable || (g.sortable("cancel"), b.item.sortable.cancel()), b.item.sortable.isCanceled() || f.$apply(function () {
                        b.item.sortable.moved = i.$modelValue.splice(b.item.sortable.index, 1)[0]
                    })
                }, t.helper = function (a) {
                    return a && "function" == typeof a ? function (b, c) {
                        var d = a.apply(this, arguments);
                        return c.sortable._isCustomHelperUsed = c !== d, d
                    } : a
                }, f.$watch("uiSortable", function (a) {
                    var c = k(g);
                    c && b.forEach(a, function (a, b) {
                        return b in r ? ("ui-floating" !== b || a !== !1 && a !== !0 || (c.floating = a), void(q[b] = a)) : (s[b] ? ("stop" === b && (a = j(a, function () {
                            f.$apply()
                        }), a = j(a, o)), a = j(s[b], a)) : t[b] && (a = t[b](a)), q[b] = a, void g.sortable("option", b, a))
                    })
                }, !0), b.forEach(s, function (a, b) {
                    q[b] = j(a, q[b]), "stop" === b && (q[b] = j(q[b], o))
                })) : e.info("ui.sortable: ngModel not provided!", g), void g.sortable(q)) : void e.error("ui.sortable: jQuery should be included before AngularJS!")
            }
        }
    }])
}(window, window.angular), function () {
    "use strict";
    angular.module("sf.treeRepeat", [])
}(),function () {
    "use strict";
    function a(a) {
        var b = a.match(/^\s*([\$\w]+)\s+in\s+([\S\s]*)\s+of\s+([\S\s]*)$/);
        if (!b)throw new Error("Expected sfTreepeat in form of '_item_ in _collection_ of _root_' but got '" + a + "'.");
        return {value: b[1], collection: b[2], root: b[3]}
    }

    var b = angular.module("sf.treeRepeat");
    b.directive("sfTreepeat", ["$log", function (b) {
        return {
            restrict: "A", scope: !0, controller: ["$scope", "$attrs", function (c, d) {
                var e = this.ident = a(d.sfTreepeat);
                b.info("Parsed '%s' as %s", d.sfTreepeat, JSON.stringify(this.ident)), c.$watch(this.ident.root, function (a) {
                    c[e.value] = a
                })
            }], compile: function (a) {
                var b = a.html();
                return {
                    pre: function (a, c, d, e) {
                        e.template = b
                    }
                }
            }
        }
    }]), b.directive("sfTreecurse", ["$compile", function (a) {
        return {
            require: "^sfTreepeat", link: function (b, c, d, e) {
                var f = ["<", c.context.tagName, ' ng-repeat="', e.ident.value, " in ", e.ident.value, ".", e.ident.collection, '">', e.template, "</", c.context.tagName, ">"], g = angular.element(f.join(""));
                c.replaceWith(g), a(g)(b)
            }
        }
    }])
}(),function () {
    "use strict";
    var a = angular.module("pasvaz.bindonce", []);
    a.directive("bindonce", function () {
        var a = function (a) {
            if (a && 0 !== a.length) {
                var b = angular.lowercase("" + a);
                a = !("f" === b || "0" === b || "false" === b || "no" === b || "n" === b || "[]" === b)
            } else a = !1;
            return a
        }, b = parseInt((/msie (\d+)/.exec(angular.lowercase(navigator.userAgent)) || [])[1], 10);
        isNaN(b) && (b = parseInt((/trident\/.*; rv:(\d+)/.exec(angular.lowercase(navigator.userAgent)) || [])[1], 10));
        var c = {
            restrict: "AM", controller: ["$scope", "$element", "$attrs", "$interpolate", function (c, d, e, f) {
                var g = function (b, c, d) {
                    var e = "show" === c ? "" : "none", f = "hide" === c ? "" : "none";
                    b.css("display", a(d) ? e : f)
                }, h = function (a, b) {
                    if (angular.isObject(b) && !angular.isArray(b)) {
                        var c = [];
                        angular.forEach(b, function (a, b) {
                            a && c.push(b)
                        }), b = c
                    }
                    b && a.addClass(angular.isArray(b) ? b.join(" ") : b)
                }, i = function (a, b) {
                    a.transclude(b, function (b) {
                        var c = a.element.parent(), d = a.element && a.element[a.element.length - 1], e = c && c[0] || d && d.parentNode, f = d && d.nextSibling || null;
                        angular.forEach(b, function (a) {
                            e.insertBefore(a, f)
                        })
                    })
                }, j = {
                    watcherRemover: void 0, binders: [], group: e.boName, element: d, ran: !1, addBinder: function (a) {
                        this.binders.push(a), this.ran && this.runBinders()
                    }, setupWatcher: function (a) {
                        var b = this;
                        this.watcherRemover = c.$watch(a, function (a) {
                            void 0 !== a && (b.removeWatcher(), b.checkBindonce(a))
                        }, !0)
                    }, checkBindonce: function (a) {
                        var b = this, c = a.$promise ? a.$promise.then : a.then;
                        "function" == typeof c ? c(function () {
                            b.runBinders()
                        }) : b.runBinders()
                    }, removeWatcher: function () {
                        void 0 !== this.watcherRemover && (this.watcherRemover(), this.watcherRemover = void 0)
                    }, runBinders: function () {
                        for (; this.binders.length > 0;) {
                            var c = this.binders.shift();
                            if (!this.group || this.group == c.group) {
                                var d = c.scope.$eval(c.interpolate ? f(c.value) : c.value);
                                switch (c.attr) {
                                    case"boIf":
                                        a(d) && i(c, c.scope.$new());
                                        break;
                                    case"boSwitch":
                                        var e, j = c.controller[0];
                                        (e = j.cases["!" + d] || j.cases["?"]) && (c.scope.$eval(c.attrs.change), angular.forEach(e, function (a) {
                                            i(a, c.scope.$new())
                                        }));
                                        break;
                                    case"boSwitchWhen":
                                        var k = c.controller[0];
                                        k.cases["!" + c.attrs.boSwitchWhen] = k.cases["!" + c.attrs.boSwitchWhen] || [], k.cases["!" + c.attrs.boSwitchWhen].push({
                                            transclude: c.transclude,
                                            element: c.element
                                        });
                                        break;
                                    case"boSwitchDefault":
                                        var k = c.controller[0];
                                        k.cases["?"] = k.cases["?"] || [], k.cases["?"].push({
                                            transclude: c.transclude,
                                            element: c.element
                                        });
                                        break;
                                    case"hide":
                                    case"show":
                                        g(c.element, c.attr, d);
                                        break;
                                    case"class":
                                        h(c.element, d);
                                        break;
                                    case"text":
                                        c.element.text(d);
                                        break;
                                    case"html":
                                        c.element.html(d);
                                        break;
                                    case"style":
                                        c.element.css(d);
                                        break;
                                    case"disabled":
                                        c.element.prop("disabled", d);
                                        break;
                                    case"src":
                                        c.element.attr(c.attr, d), b && c.element.prop("src", d);
                                        break;
                                    case"attr":
                                        angular.forEach(c.attrs, function (a, b) {
                                            var d, e;
                                            b.match(/^boAttr./) && c.attrs[b] && (d = b.replace(/^boAttr/, "").replace(/([a-z])([A-Z])/g, "$1-$2").toLowerCase(), e = c.scope.$eval(c.attrs[b]), c.element.attr(d, e))
                                        });
                                        break;
                                    case"href":
                                    case"alt":
                                    case"title":
                                    case"id":
                                    case"value":
                                        c.element.attr(c.attr, d)
                                }
                            }
                        }
                        this.ran = !0
                    }
                };
                angular.extend(this, j)
            }], link: function (a, b, c, d) {
                var e = c.bindonce && a.$eval(c.bindonce);
                void 0 !== e ? d.checkBindonce(e) : (d.setupWatcher(c.bindonce), b.bind("$destroy", d.removeWatcher))
            }
        };
        return c
    }), angular.forEach([{directiveName: "boShow", attribute: "show"}, {
        directiveName: "boHide",
        attribute: "hide"
    }, {directiveName: "boClass", attribute: "class"}, {
        directiveName: "boText",
        attribute: "text"
    }, {directiveName: "boBind", attribute: "text"}, {
        directiveName: "boHtml",
        attribute: "html"
    }, {directiveName: "boSrcI", attribute: "src", interpolate: !0}, {
        directiveName: "boSrc",
        attribute: "src"
    }, {directiveName: "boHrefI", attribute: "href", interpolate: !0}, {
        directiveName: "boHref",
        attribute: "href"
    }, {directiveName: "boAlt", attribute: "alt"}, {
        directiveName: "boTitle",
        attribute: "title"
    }, {directiveName: "boId", attribute: "id"}, {
        directiveName: "boStyle",
        attribute: "style"
    }, {directiveName: "boDisabled", attribute: "disabled"}, {
        directiveName: "boValue",
        attribute: "value"
    }, {directiveName: "boAttr", attribute: "attr"}, {
        directiveName: "boIf",
        transclude: "element",
        terminal: !0,
        priority: 1e3
    }, {
        directiveName: "boSwitch", require: "boSwitch", controller: function () {
            this.cases = {}
        }
    }, {
        directiveName: "boSwitchWhen",
        transclude: "element",
        priority: 800,
        require: "^boSwitch"
    }, {directiveName: "boSwitchDefault", transclude: "element", priority: 800, require: "^boSwitch"}], function (b) {
        var c = 200;
        return a.directive(b.directiveName, function () {
            var a = {
                priority: b.priority || c,
                transclude: b.transclude || !1,
                terminal: b.terminal || !1,
                require: ["^bindonce"].concat(b.require || []),
                controller: b.controller,
                compile: function (a, c, d) {
                    return function (a, c, e, f) {
                        var g = f[0], h = e.boParent;
                        if (h && g.group !== h) {
                            var i = g.element.parent();
                            g = void 0;
                            for (var j; 9 !== i[0].nodeType && i.length;) {
                                if ((j = i.data("$bindonceController")) && j.group === h) {
                                    g = j;
                                    break
                                }
                                i = i.parent()
                            }
                            if (!g)throw new Error("No bindonce controller: " + h)
                        }
                        g.addBinder({
                            element: c,
                            attr: b.attribute || b.directiveName,
                            attrs: e,
                            value: e[b.directiveName],
                            interpolate: b.interpolate,
                            group: h,
                            transclude: d,
                            controller: f.slice(1),
                            scope: a
                        })
                    }
                }
            };
            return a
        })
    })
}(),"undefined" != typeof module && "undefined" != typeof exports && module.exports === exports && (module.exports = "monospaced.elastic"),angular.module("monospaced.elastic", []).constant("msdElasticConfig", {append: ""}).directive("msdElastic", ["$timeout", "$window", "msdElasticConfig", function (a, b, c) {
    "use strict";
    return {
        require: "ngModel", restrict: "A, C", link: function (d, e, f, g) {
            function h() {
                var a = r;
                n = k, u = getComputedStyle(k), angular.forEach(C, function (b) {
                    a += b + ":" + u.getPropertyValue(b) + ";"
                }), t.setAttribute("style", a)
            }

            function i() {
                var b, c, e, f, g;
                n !== k && h(), o || (o = !0, t.value = k.value + p, t.style.overflowY = k.style.overflowY, b = "" === k.style.height ? "auto" : parseInt(k.style.height, 10), c = getComputedStyle(k).getPropertyValue("width"), "px" === c.substr(c.length - 2, 2) && (f = parseInt(c, 10) - x.width, t.style.width = f + "px"), e = t.scrollHeight, e > B ? (e = B, g = "scroll") : e < A && (e = A), e += x.height, k.style.overflowY = g || "hidden", b !== e && (d.$emit("elastic:resize", l, b, e), k.style.height = e + "px"), a(function () {
                    o = !1
                }, 1, !1))
            }

            function j() {
                o = !1, i()
            }

            var k = e[0], l = e;
            if ("TEXTAREA" === k.nodeName && b.getComputedStyle) {
                l.css({overflow: "hidden", "overflow-y": "hidden", "word-wrap": "break-word"});
                var m = k.value;
                k.value = "", k.value = m;
                var n, o, p = f.msdElastic ? f.msdElastic.replace(/\\n/g, "\n") : c.append, q = angular.element(b), r = "position: absolute; top: -999px; right: auto; bottom: auto;left: 0; overflow: hidden; -webkit-box-sizing: content-box;-moz-box-sizing: content-box; box-sizing: content-box;min-height: 0 !important; height: 0 !important; padding: 0;word-wrap: break-word; border: 0;", s = angular.element('<textarea aria-hidden="true" tabindex="-1" style="' + r + '"/>').data("elastic", !0), t = s[0], u = getComputedStyle(k), v = u.getPropertyValue("resize"), w = "border-box" === u.getPropertyValue("box-sizing") || "border-box" === u.getPropertyValue("-moz-box-sizing") || "border-box" === u.getPropertyValue("-webkit-box-sizing"), x = w ? {
                    width: parseInt(u.getPropertyValue("border-right-width"), 10) + parseInt(u.getPropertyValue("padding-right"), 10) + parseInt(u.getPropertyValue("padding-left"), 10) + parseInt(u.getPropertyValue("border-left-width"), 10),
                    height: parseInt(u.getPropertyValue("border-top-width"), 10) + parseInt(u.getPropertyValue("padding-top"), 10) + parseInt(u.getPropertyValue("padding-bottom"), 10) + parseInt(u.getPropertyValue("border-bottom-width"), 10)
                } : {
                    width: 0,
                    height: 0
                }, y = parseInt(u.getPropertyValue("min-height"), 10), z = parseInt(u.getPropertyValue("height"), 10), A = Math.max(y, z) - x.height, B = parseInt(u.getPropertyValue("max-height"), 10), C = ["font-family", "font-size", "font-weight", "font-style", "letter-spacing", "line-height", "text-transform", "word-spacing", "text-indent"];
                l.data("elastic") || (B = B && B > 0 ? B : 9e4, t.parentNode !== document.body && angular.element(document.body).append(t), l.css({resize: "none" === v || "vertical" === v ? "none" : "horizontal"}).data("elastic", !0), "onpropertychange" in k && "oninput" in k ? k.oninput = k.onkeyup = i : k.oninput = i,
                    q.bind("resize", j), d.$watch(function () {
                    return g.$modelValue
                }, function (a) {
                    j()
                }), d.$on("elastic:adjust", function () {
                    h(), j()
                }), a(i, 0, !1), d.$on("$destroy", function () {
                    s.remove(), q.unbind("resize", j)
                }))
            }
        }
    }
}]),angular.module("w5c.validator", ["ng"]).provider("w5cValidator", [function () {
    var a = {
        required: "",
        maxlength: "{maxlength}",
        minlength: "{minlength}",
        email: "",
        repeat: "",
        pattern: "",
        number: "",
        w5cuniquecheck: "",
        url: "URL",
        max: "{max}",
        min: "{min}",
        customizer: ""
    }, b = ["text", "password", "email", "number", "url", "tel", "hidden", ["textarea"], ["select"], ["select-multiple"], ["select-one"], "radio", "checkbox"], c = function (a) {
        return "FORM" === a[0].tagName || 11 == a[0].nodeType ? null : a && a.hasClass("form-group") ? a : c(a.parent())
    }, d = function () {
        this.elemTypes = b, this.rules = {}, this.isEmpty = function (a) {
            return !a || a instanceof Array && 0 === a.length
        }, this.defaultShowError = function (a, b) {
            var d = angular.element(a), e = c(d);
            this.isEmpty(e) || e.hasClass("has-error") || e.addClass("has-error");
            var f = d.next();
            f && f.hasClass("w5c-error") || d.after('<span class="w5c-error">' + b[0] + "</span>")
        }, this.defaultRemoveError = function (a) {
            var b = angular.element(a), d = c(b);
            !this.isEmpty(d) && d.hasClass("has-error") && d.removeClass("has-error");
            var e = b.next();
            e.hasClass && e.hasClass("w5c-error") && e.remove()
        }, this.options = {blurTrig: !1, showError: !0, removeError: !0}
    };
    d.prototype = {
        constructor: d, config: function (a) {
            this.options = angular.extend(this.options, a)
        }, setRules: function (a) {
            this.rules = angular.extend(this.rules, a)
        }, getErrorMessage: function (b, c) {
            var d = null, e = c.name;
            switch (e && /\$\d+\$/i.test(e) && (e = e.replace(/\$\d+\$/i, "")), this.isEmpty(this.rules[e]) || this.isEmpty(this.rules[e][b]) || (d = this.rules[e][b]), b) {
                case"maxlength":
                    return (d || a.maxlength).replace("{maxlength}", c.getAttribute("ng-maxlength"));
                case"minlength":
                    return (d || a.minlength).replace("{minlength}", c.getAttribute("ng-minlength"));
                case"max":
                    return (d || a.max).replace("{max}", c.getAttribute("max"));
                case"min":
                    return (d || a.min).replace("{min}", c.getAttribute("min"));
                default:
                    if (null !== d)return d;
                    if (null === a[b])throw new Error("(" + b + ")");
                    return a[b]
            }
        }, getErrorMessages: function (a, b) {
            var c = [];
            for (var d in b)if (b[d]) {
                var e = this.getErrorMessage(d, a);
                c.push(e)
            }
            return c
        }, showError: function (a, b, c) {
            var d = angular.extend({}, this.options, c);
            if (angular.element(a).removeClass("valid").addClass("error"), d.showError !== !1)return angular.isFunction(d.showError) ? d.showError(a, b) : d.showError === !0 ? this.defaultShowError(a, b) : void 0
        }, removeError: function (a, b) {
            var c = angular.extend({}, this.options, b);
            if (angular.element(a).removeClass("error").addClass("valid"), c.removeError !== !1)return angular.isFunction(c.removeError) ? c.removeError(a) : c.removeError === !0 ? this.defaultRemoveError(a) : void 0
        }
    };
    var e = new d;
    this.config = function (a) {
        e.config(a)
    }, this.setRules = function (a) {
        e.setRules(a)
    }, this.setDefaultRules = function (b) {
        a = angular.extend(a, b)
    }, this.$get = function () {
        return e
    }
}]),function () {
    angular.module("w5c.validator").directive("w5cFormValidate", ["$parse", "w5cValidator", "$timeout", function (a, b, c) {
        return {
            require: ["w5cFormValidate", "^?form"], controller: ["$scope", function (a) {
                this.needBindKeydown = !1, this.form = null, this.formElement = null, this.submitSuccessFn = null, this.validElements = [], this.init = function (a, b, c) {
                    this.form = a, this.formElement = b, this.formName = b.attr("name")
                }, this.doValidate = function (b, c) {
                    angular.isFunction(this.form.doValidate) && this.form.doValidate(), this.form.$valid && angular.isFunction(b) && a.$apply(function () {
                        b(a, {$event: c})
                    })
                }, this.removeElementValidation = function (a) {
                    var c = this.validElements.indexOf(a);
                    c >= 0 && (this.validElements.splice(c, 1), b.isEmpty(this.form.$errors) || this.doValidate(angular.noop))
                }, this.removeError = function (a) {
                    this.form.$errors = [], this.form[a[0].name] && (this.form[a[0].name].w5cError = !1), b.removeError(a, this.options)
                }, this.initElement = function (d) {
                    var e = angular.element(d), f = this;
                    if (b.elemTypes.toString().indexOf(d.type) > -1 && !b.isEmpty(d.name) && !/^\d/.test(d.name)) {
                        var g = e.attr("disabled");
                        if (g && ("true" === g || "disabled" === g))return;
                        if (!(this.validElements.indexOf(d.name) < 0))return;
                        this.validElements.push(d.name);
                        var h = this.formName + "." + d.name + ".$viewValue";
                        a.$watch(h, function () {
                            f.removeError(e)
                        }, !0), f.options.blurTrig && e.bind("blur", function () {
                            if (f.options.blurTrig) {
                                var a = this, d = angular.element(this);
                                c(function () {
                                    if (f.form[a.name].$valid)b.removeError(d, f.options); else {
                                        var c = b.getErrorMessages(a, f.form[a.name].$error);
                                        b.showError(d, c, f.options), f.form[d[0].name] && (f.form[d[0].name].w5cError = !0)
                                    }
                                }, 50)
                            }
                        })
                    }
                }
            }], link: function (d, e, f, g) {
                var h = g[0], i = g[1], j = e[0], k = a(f.w5cSubmit), l = d.$eval(f.w5cFormValidate);
                if (!f.name)throw Error("form must has name when use w5cFormValidate");
                h.init(i, e, f), f.w5cFormValidate && d.$watch(f.w5cFormValidate, function (a) {
                    a && (h.options = l = angular.extend({}, b.options, a))
                }, !0), h.options = l = angular.extend({}, b.options, l);
                for (var m = 0; m < j.elements.length; m++) {
                    var n = j.elements[m];
                    h.initElement(n)
                }
                var o = function () {
                    for (var a = [], c = 0; c < j.elements.length; c++) {
                        var e = j.elements[c].name;
                        if (e && h.validElements.indexOf(e) >= 0) {
                            var f = j[e];
                            if (i[e] && f && b.elemTypes.toString().indexOf(f.type) > -1 && !b.isEmpty(f.name)) {
                                if (i[e].$valid) {
                                    angular.element(f).removeClass("error").addClass("valid");
                                    continue
                                }
                                var g = b.getErrorMessages(f, i[f.name].$error);
                                a.push(g[0]), b.removeError(f, l), b.showError(f, g, l), i[e].w5cError = !0
                            }
                        }
                    }
                    !b.isEmpty(a) && a.length > 0 ? i.$errors = a : i.$errors = [], d.$$phase || d.$apply(i.$errors)
                };
                i && (i.doValidate = o, i.reset = function () {
                    c(function () {
                        i.$setPristine();
                        for (var a = 0; a < j.elements.length; a++) {
                            var c = j.elements[a], d = angular.element(c);
                            b.removeError(d, l)
                        }
                    })
                }), f.w5cSubmit && angular.isFunction(k) && (e.bind("submit", function (a) {
                    o(), i.$valid && angular.isFunction(k) && d.$apply(function () {
                        k(d, {$event: a})
                    })
                }), h.needBindKeydown = !0), h.needBindKeydown && e.bind("keydown keypress", function (a) {
                    if (13 === a.which) {
                        var b = document.activeElement;
                        if (b.type && "textarea" !== b.type) {
                            var c = e.find("button");
                            c && c[0] && c[0].focus(), b.focus(), o(), a.preventDefault(), i.$valid && angular.isFunction(h.submitSuccessFn) && d.$apply(function () {
                                h.submitSuccessFn(d, {$event: a})
                            })
                        }
                    }
                })
            }
        }
    }]).directive("w5cFormSubmit", ["$parse", function (a) {
        return {
            require: "^w5cFormValidate", link: function (b, c, d, e) {
                var f = a(d.w5cFormSubmit);
                c.bind("click", function (a) {
                    e.doValidate(f, a)
                }), e.needBindKeydown = !0, e.submitSuccessFn = f
            }
        }
    }]).directive("w5cRepeat", ["$timeout", function (a) {
        "use strict";
        return {
            require: ["ngModel", "^w5cFormValidate"], link: function (b, c, d, e) {
                a(function () {
                    var a = c.inheritedData("$formController")[d.w5cRepeat], b = e[0], f = e[1];
                    b.$parsers.push(function (c) {
                        return c === a.$viewValue ? b.$setValidity("repeat", !0) : b.$setValidity("repeat", !1), c
                    }), a.$parsers.push(function (a) {
                        return b.$setValidity("repeat", a === b.$viewValue), a === b.$viewValue && f.removeError(c), a
                    })
                })
            }
        }
    }]).directive("w5cCustomizer", ["$timeout", function (a) {
        "use strict";
        return {
            require: ["^form", "ngModel"], link: function (a, b, c, d) {
                var e = d[1], f = function () {
                    var b = a.$eval(c.w5cCustomizer);
                    b === !0 ? e.$setValidity("customizer", !0) : e.$setValidity("customizer", !1)
                }, g = d[0][c.associate];
                g && g.$viewChangeListeners.push(f), e.$viewChangeListeners.push(f)
            }
        }
    }]).directive("w5cUniqueCheck", ["$timeout", "$http", "w5cValidator", function (a, b, c) {
        return {
            require: ["ngModel", "?^w5cFormValidate", "?^form"], link: function (a, d, e, f) {
                var g = f[0], h = f[1], i = f[2], j = function () {
                    var f = a.$eval(e.w5cUniqueCheck), j = f.url, k = f.isExists;
                    b.get(j).success(function (a) {
                        var b = k === !1 ? "true" == a || 1 == a : !("true" == a || 1 == a);
                        if (g.$setValidity("w5cuniquecheck", b), !b) {
                            var e = c.getErrorMessage("w5cuniquecheck", d[0]);
                            c.showError(d[0], [e], h.options), i[d[0].name] && (i[d[0].name].w5cError = !0), i.$errors ? i.$errors.unshift(e) : i.$errors = [e]
                        }
                    })
                };
                g.$viewChangeListeners.push(function () {
                    i.$errors = [], g.$setValidity("w5cuniquecheck", !0), g.$invalid && !g.$error.w5cuniquecheck || g.$dirty && j()
                });
                var k = a.$eval(e.ngModel);
                if (k) {
                    if (g.$invalid && !g.$error.w5cuniquecheck)return;
                    j()
                }
            }
        }
    }]).directive("w5cDynamicName", [function () {
        return {
            restrict: "A", require: "ngModel", link: function (a, b, c, d) {
                d.$name = a.$eval(c.w5cDynamicName), b.attr("name", a.$eval(c.w5cDynamicName));
                var e = b.controller("form") || {$addControl: angular.noop};
                e.$addControl(d)
            }
        }
    }]).directive("w5cDynamicElement", ["$timeout", function (a) {
        return {
            restrict: "A", require: ["ngModel", "?^w5cFormValidate", "?^form"], link: function (b, c, d, e) {
                var f = c[0].name, g = e[2];
                if (f) {
                    c.on("$destroy", function (a) {
                        e[1].removeElementValidation(f)
                    }), g[f] || g.$addControl(e[0]);
                    var h = !1;
                    e[2].$errors && e[2].$errors.length > 0 && (h = !0), e[1].initElement(c[0]), h && a(function () {
                        e[1].doValidate(angular.noop)
                    })
                }
            }
        }
    }])
}(),function () {
    function a(a) {
        return null != a && a === a.window ? a : 9 === a.nodeType && a.defaultView
    }

    var b = {
        hoverClass: "key-hover",
        selectedClass: "selected",
        itemSelector: ".selection-item",
        filterSelector: ".ng-hide",
        callbacks: {
            beforeHover: function () {
                return !0
            }, hover: angular.noop, select: angular.noop
        },
        preventDefault: !0,
        scrollMargin: 5,
        scrollContainer: "body",
        delay: 0,
        eventContainer: "",
        globalKey: !1,
        keyActions: [{keyCode: 13, action: "select"}, {keyCode: 38, action: "up"}, {
            keyCode: 40,
            action: "down"
        }, {keyCode: 37, action: "up"}, {keyCode: 39, action: "down"}]
    };
    angular.module("ng-key-selection", []).factory("KeySelectionPlugin", ["$document", "$timeout", function (c, d) {
        function e(a, b) {
            if (h)return h.call(a, b);
            for (var c = a.parentNode.querySelectorAll(b), d = 0; d < c.length; d++)if (c[d] == a)return !0;
            return !1
        }

        function f(a, c) {
            var e = angular.extend({}, b, c);
            c && c.callbacks && (e.callbacks = angular.extend({}, b.callbacks, c.callbacks)), this._options = e, this._$element = a, d(function () {
                this._init()
            }.bind(this), e.delay)
        }

        var g = Element.prototype, h = g.matches || g.matchesSelector || g.webkitMatchesSelector || g.mozMatchesSelector || g.msMatchesSelector || g.oMatchesSelector;
        return f.prototype._init = function () {
            var a = this, b = "body" === this._options.scrollContainer ? c[0] : c[0].querySelector(this._options.scrollContainer);
            this._keydownHandler = function (b) {
                if (a._options.callbacks.beforeHover(b)) {
                    var c = !1, d = b.which || b.keyCode;
                    angular.forEach(a._options.keyActions, function (e) {
                        if (e.keyCode === d) {
                            switch (e.action) {
                                case"up":
                                    a.up(b), c = !0;
                                    break;
                                case"down":
                                    a.down(b), c = !0;
                                    break;
                                case"select":
                                    a.select(b), c = !0
                            }
                            return !1
                        }
                    }), c && (b.stopPropagation(), a._options.preventDefault && b.preventDefault())
                }
            };
            var d = null;
            d = this._options.globalKey ? c : this._options.eventContainer ? angular.element(this._options.eventContainer) : angular.element(b), d.on("keydown", this._keydownHandler), this.scrollContainer = b
        }, f.prototype._getOffset = function (b) {
            var c, d, e, f;
            if (b)return b.getClientRects().length ? (e = b.getBoundingClientRect(), e.width || e.height ? (f = b.ownerDocument, d = a(f), c = f.documentElement, {
                top: e.top + d.pageYOffset - c.clientTop,
                left: e.left + d.pageXOffset - c.clientLeft
            }) : e) : {top: 0, left: 0}
        }, f.prototype._getOuterHeight = function (a) {
            var b = a.documentElement ? a.documentElement : a, c = b.clientHeight, d = window.getComputedStyle(b);
            return c += parseInt(d.marginTop, 10), c += parseInt(d.marginBottom, 10)
        }, f.prototype._scrollTo = function (a) {
            var b = this.scrollContainer.body ? this.scrollContainer.body : this.scrollContainer, c = this._getOffset(a).top, d = this._getOuterHeight(a), e = this._getOuterHeight(this.scrollContainer), f = this._getOffset(b).top, g = b.scrollTop, h = f - c, i = c - (f + e - d);
            h > 0 ? b.scrollTop = g - h - this._options.scrollMargin : i > 0 && (b.scrollTop = g + i + this._options.scrollMargin)
        }, f.prototype._getAllItems = function () {
            var a = [], b = this;
            return angular.forEach(this._$element.children(), function (c) {
                b._options.filterSelector && e(c, b._options.filterSelector) || b._options.itemSelector && !e(c, b._options.itemSelector) || a.push(c)
            }), a
        }, f.prototype._getFirstItem = function () {
            var a = null, b = this;
            return angular.forEach(this._$element.children(), function (c) {
                return a ? a : void(b._options.filterSelector && e(c, b._options.filterSelector) || b._options.itemSelector && !e(c, b._options.itemSelector) || (a = c))
            }), a
        }, f.prototype._switch = function (a, b) {
            var c = this._getAllItems();
            if (!(c.length <= 0)) {
                !this.keyHover && this._options.itemSelector && (this.keyHover = this._$element[0].querySelector("." + this._options.hoverClass));
                var d = c.indexOf(this.keyHover), e = null;
                e = "up" === a ? d > 0 ? c[d - 1] : c[c.length - 1] : c.length > d + 1 ? c[d + 1] : c[0], this.hover(e, b)
            }
        }, f.prototype.up = function (a) {
            this._switch("up", a)
        }, f.prototype.down = function (a) {
            this._switch("down", a)
        }, f.prototype.hover = function (a, b) {
            var c = !1;
            if ("first" === a) {
                c = !0;
                var a = this._getFirstItem();
                if (!a)return
            }
            if (a) {
                this.keyHover && angular.element(this.keyHover).removeClass(this._options.hoverClass), this.keyHover = a;
                var e = angular.element(this.keyHover);
                e.addClass(this._options.hoverClass), d(function () {
                    this._options.callbacks.hover(b, this.keyHover)
                }.bind(this)), !c && this._scrollTo(this.keyHover)
            }
        }, f.prototype.select = function (a) {
            d(function () {
                this._options.callbacks.select(a, this.keyHover)
            }.bind(this)), this.keyHover && angular.element(this.keyHover).addClass(this._options.selectedClass)
        }, f.prototype.destroy = function () {
            c.off("keydown", this._keydownHandler)
        }, f
    }]).directive("keySelection", ["KeySelectionPlugin", "$parse", function (a, b) {
        return {
            restrict: "A", link: function (c, d, e) {
                var f = c.$eval(e.keySelection), g = new a(d, f);
                e.selectionRef && b(e.selectionRef).assign(c, g), c.$on("$destroy", function () {
                    g.destroy(), delete g
                })
            }
        }
    }])
}(),function (a, b) {
    "function" == typeof define && define.amd ? define(function () {
        return b(a, a.document)
    }) : "undefined" != typeof module && module.exports ? module.exports = b(a, a.document) : a.Notify = b(a, a.document)
}("undefined" != typeof window ? window : this, function (a, b) {
    "use strict";
    function c(a) {
        return "function" == typeof a
    }

    function d(a, b) {
        if ("string" != typeof a)throw new Error("Notify(): first arg (title) must be a string.");
        if (this.title = a, this.options = {
                icon: "",
                body: "",
                tag: "",
                notifyShow: null,
                notifyClose: null,
                notifyClick: null,
                notifyError: null,
                timeout: null
            }, this.permission = null, d.isSupported && "object" == typeof b) {
            for (var e in b)b.hasOwnProperty(e) && (this.options[e] = b[e]);
            c(this.options.notifyShow) && (this.onShowCallback = this.options.notifyShow), c(this.options.notifyClose) && (this.onCloseCallback = this.options.notifyClose), c(this.options.notifyClick) && (this.onClickCallback = this.options.notifyClick), c(this.options.notifyError) && (this.onErrorCallback = this.options.notifyError)
        }
    }

    return d.isSupported = "Notification" in a, d.needsPermission = !(d.isSupported && "granted" === Notification.permission), d.permissionLevel = d.isSupported ? Notification.permission : null, d.requestPermission = function (b, e) {
        d.isSupported && a.Notification.requestPermission(function (a) {
            switch (a) {
                case"granted":
                    d.needsPermission = !1, c(b) && b();
                    break;
                case"denied":
                    c(e) && e()
            }
        })
    }, d.prototype.show = function () {
        d.isSupported && (this.myNotify = new Notification(this.title, {
            body: this.options.body,
            tag: this.options.tag,
            icon: this.options.icon
        }), this.options.timeout && !isNaN(this.options.timeout) && setTimeout(this.close.bind(this), 1e3 * this.options.timeout), this.myNotify.addEventListener("show", this, !1), this.myNotify.addEventListener("error", this, !1), this.myNotify.addEventListener("close", this, !1), this.myNotify.addEventListener("click", this, !1))
    }, d.prototype.onShowNotification = function (a) {
        this.onShowCallback && this.onShowCallback(a)
    }, d.prototype.onCloseNotification = function (a) {
        this.onCloseCallback && this.onCloseCallback(a), this.destroy()
    }, d.prototype.onClickNotification = function (a) {
        this.onClickCallback && this.onClickCallback(a)
    }, d.prototype.onErrorNotification = function (a) {
        this.onErrorCallback && this.onErrorCallback(a), this.destroy()
    }, d.prototype.destroy = function () {
        this.myNotify.removeEventListener("show", this, !1), this.myNotify.removeEventListener("error", this, !1), this.myNotify.removeEventListener("close", this, !1), this.myNotify.removeEventListener("click", this, !1)
    }, d.prototype.close = function () {
        this.myNotify.close()
    }, d.prototype.handleEvent = function (a) {
        switch (a.type) {
            case"show":
                this.onShowNotification(a);
                break;
            case"close":
                this.onCloseNotification(a);
                break;
            case"click":
                this.onClickNotification(a);
                break;
            case"error":
                this.onErrorNotification(a)
        }
    }, d
}),angular.module("wt.genius", []),function () {
    "use strict";
    angular.module("wt.genius").provider("$wtNotify", [function () {
        var a = {
            title: "Hey, !", body: "", icon: "", tag: "", lang: "en", timeout: 2, notifyShow: function () {
            }, notifyClose: function () {
            }, notifyClick: function () {
            }, notifyError: function () {
            }
        }, b = {};
        this.config = function (a) {
            b = a
        }, this.$get = [function () {
            function c(c) {
                var d = this.options = angular.extend({}, a, b, c), e = new Notify(d.title, d);
                Notify.needsPermission ? Notify.requestPermission(function () {
                    e.show()
                }) : e.show()
            }

            var d;
            return d = {
                notify: function (a) {
                    return new c(a)
                },
                notSetPermission: "default" == Notify.permissionLevel,
                checkPermission: function (a, b, c) {
                    var a = a || function () {
                        }, b = b || function () {
                        }, c = c || function () {
                        };
                    Notify.needsPermission ? Notify.requestPermission(function () {
                        d.permissionLevel = "granted", d.needsPermission = !1, a()
                    }, function () {
                        d.permissionLevel = "denied", d.needsPermission = !0, b()
                    }) : (d.permissionLevel = "granted", a()), d.notSetPermission = !1, c()
                },
                needsPermission: Notify.needsPermission,
                requestPermission: Notify.requestPermission,
                isSupported: Notify.isSupported,
                permissionLevel: Notify.permissionLevel
            }
        }]
    }])
}(),function () {
    "use strict";
    angular.module("wt.genius").provider("$wtRetina", [function () {
        var a = {};
        this.config = function (b) {
            a = b
        }, this.$get = [function () {
            var a = "(min--moz-device-pixel-ratio: 1.5),                                        (-o-min-device-pixel-ratio: 3/2),                                        (-webkit-min-device-pixel-ratio: 1.5),                                        (min-device-pixel-ratio: 1.5),                                        (min-resolution: 144dpi),                                        (min-resolution: 1.5dppx)", b = window.matchMedia(a);
            return {isRetina: b.matches, media: b.media}
        }]
    }])
}(),function () {
    "use strict";
    function a() {
        return {
            transclude: !0, replace: !0, template: "<div></div>", link: function (a, b, c, d, e) {
                b.replaceWith(e())
            }
        }
    }

    angular.module("ycTemplate", []).directive("ycTemplate", a), a.$inject = []
}(),function () {
    "use strict";
    function a() {
        return this.track = function (a, b, c, d) {
            var e = "ng-err" === a;
            a = "wt_std_" + a;
            var f = a + "_" + b;
            if (window.sa && !e) {
                var g = {};
                c && (g.from = c), c && (g.from = c), d && (g.type = d), sa.track(f, g)
            }
            window._hmt ? window._hmt.push(["_trackEvent", a, b, c, d]) : console.info(["CATEGORY:" + a, ", ACTION:" + b, c ? ", from " + c : "", d ? ", type " + d : ""].join(""))
        }, this
    }

    angular.module("ycTrack", []).service("ycTrack", a), a.$inject = []
}(),function () {
    "use strict";
    function a(a) {
        a.decorator("$exceptionHandler", b)
    }

    function b(a, b) {
        return function (c, d) {
            a(c, d), kzi.config.debug() || b.track("ng-err", c.message, "CAUSE:" + d + "\n\n\n\nSTACK:" + c.stack, window.location.href)
        }
    }

    angular.module("ycLogger", ["ycTrack"]).config(a), a.$inject = ["$provide"], b.$inject = ["$delegate", "ycTrack"]
}(),function () {
    var a = {
        whiteList: {
            a: ["target", "href", "title"],
            abbr: ["title"],
            address: [],
            area: ["shape", "coords", "href", "alt"],
            article: [],
            aside: [],
            audio: ["autoplay", "controls", "loop", "preload", "src"],
            b: [],
            bdi: ["dir"],
            bdo: ["dir"],
            big: [],
            blockquote: ["cite"],
            br: [],
            caption: [],
            center: [],
            cite: [],
            code: [],
            col: ["align", "valign", "span", "width"],
            colgroup: ["align", "valign", "span", "width"],
            dd: [],
            del: ["datetime"],
            details: ["open"],
            div: [],
            dl: [],
            dt: [],
            em: [],
            font: ["color", "size", "face"],
            footer: [],
            h1: [],
            h2: [],
            h3: [],
            h4: [],
            h5: [],
            h6: [],
            header: [],
            hr: [],
            i: [],
            img: ["class", "src", "alt", "title", "width", "height"],
            ins: ["datetime"],
            li: [],
            mark: [],
            nav: [],
            ol: [],
            p: [],
            pre: [],
            s: [],
            section: [],
            small: [],
            span: ["class"],
            sub: [],
            sup: [],
            strong: [],
            table: ["width", "border", "align", "valign"],
            tbody: ["align", "valign"],
            td: ["width", "colspan", "align", "valign"],
            tfoot: ["align", "valign"],
            th: ["width", "colspan", "align", "valign"],
            thead: ["align", "valign"],
            tr: ["rowspan", "align", "valign"],
            tt: [],
            u: [],
            ul: [],
            video: ["autoplay", "controls", "loop", "preload", "src", "height", "width"]
        }
    };
    angular.module("ycConstantXSSWhiteList", []).constant("ycConstantXSSWhiteList", a)
}(),"undefined" != typeof module && "undefined" != typeof exports && module.exports === exports && (module.exports = "ui.date"),function (a) {
    "use strict";
    a.module("ui.date", []).constant("uiDateConfig", {}).constant("uiDateFormatConfig", "").factory("uiDateConverter", ["uiDateFormatConfig", function (b) {
        function c(a, c) {
            if (a = a || b, c) {
                if (a)try {
                    return jQuery.datepicker.formatDate(a, c)
                } catch (a) {
                    return
                }
                if (c.toISOString)return c.toISOString()
            }
            return null
        }

        function d(c, d) {
            if (c = c || b, a.isDate(d) && !isNaN(d))return d;
            if (a.isString(d)) {
                if (c)return jQuery.datepicker.parseDate(c, d);
                var e = new Date(d);
                return isNaN(e.getTime()) ? null : e
            }
            return a.isNumber(d) ? new Date(d) : null
        }

        return {stringToDate: d, dateToString: c}
    }]).directive("uiDate", ["uiDateConfig", "uiDateConverter", function (b, c) {
        return {
            require: "?ngModel", link: function (d, e, f, g) {
                var h = function () {
                    return a.extend({}, b, d.$eval(f.uiDate))
                }, i = function () {
                    function b() {
                        var b = ["Hours", "Minutes", "Seconds", "Milliseconds"], c = a.isDate(g.$modelValue), d = {};
                        c && g.$modelValue.toDateString() === e.datepicker("getDate").toDateString() || (c && a.forEach(b, function (a) {
                            d[a] = g.$modelValue["get" + a]()
                        }), g.$setViewValue(e.datepicker("getDate")), c && a.forEach(b, function (a) {
                            g.$viewValue["set" + a](d[a])
                        }))
                    }

                    var i = !1, j = h();
                    if (g) {
                        var k = j.onSelect || a.noop;
                        j.onSelect = function (a, c) {
                            d.$apply(function () {
                                i = !0, b(), k(a, c), e.blur()
                            })
                        };
                        var l = j.beforeShow || a.noop;
                        j.beforeShow = function (a, b) {
                            i = !0, l(a, b)
                        };
                        var m = j.onClose || a.noop;
                        j.onClose = function (a, b) {
                            i = !1, m(a, b)
                        }, e.off("blur.datepicker").on("blur.datepicker", function () {
                            i || d.$apply(function () {
                                e.datepicker("setDate", e.datepicker("getDate")), b()
                            })
                        }), g.$validators.uiDateValidator = function (b, d) {
                            return a.isDate(c.stringToDate(f.uiDateFormat, d))
                        }, g.$parsers.push(function (a) {
                            return c.stringToDate(f.uiDateFormat, a)
                        }), g.$render = function () {
                            e.datepicker("setDate", g.$modelValue)
                        }
                    }
                    e.data("datepicker") ? (e.datepicker("option", j), e.datepicker("refresh")) : (e.datepicker(j), e.on("$destroy", function () {
                        e.datepicker("hide"), e.datepicker("destroy")
                    })), g && g.$render()
                };
                d.$watch(h, i, !0)
            }
        }
    }]).directive("uiDateFormat", ["uiDateConverter", function (a) {
        return {
            require: "ngModel", link: function (b, c, d, e) {
                var f = d.uiDateFormat;
                e.$formatters.unshift(function (b) {
                    return a.stringToDate(f, b)
                }), e.$parsers.push(function (b) {
                    return a.dateToString(f, b)
                })
            }
        }
    }])
}(angular),angular.module("ui.calendar", []).constant("uiCalendarConfig", {calendars: {}}).controller("uiCalendarCtrl", ["$scope", "$locale", function (a, b) {
    var c = a.eventSources, d = a.calendarWatchEvent ? a.calendarWatchEvent : angular.noop, e = function (b) {
        return function () {
            if (a.$root.$$phase)return b.apply(this, arguments);
            var c = arguments, d = this;
            return a.$root.$apply(function () {
                return b.apply(d, c)
            })
        }
    }, f = 1;
    this.eventFingerprint = function (a) {
        return a._id || (a._id = f++), "" + a._id + (a.id || "") + (a.title || "") + (a.url || "") + (+a.start || "") + (+a.end || "") + (a.allDay || "") + (a.className || "") + d({event: a}) || ""
    };
    var g = 1, h = 1;
    this.sourceFingerprint = function (a) {
        var b = "" + (a.__id || (a.__id = g++)), c = angular.isObject(a) && a.events;
        return c && (b = b + "-" + (c.__id || (c.__id = h++))), b
    }, this.allEvents = function () {
        for (var a = [], b = 0, d = c.length; b < d; b++) {
            var e = c[b];
            if (angular.isArray(e))a.push(e); else if (angular.isObject(e) && angular.isArray(e.events)) {
                var f = {};
                for (var g in e)"_id" !== g && "events" !== g && (f[g] = e[g]);
                for (var h = 0; h < e.events.length; h++)angular.extend(e.events[h], f);
                a.push(e.events)
            }
        }
        return Array.prototype.concat.apply([], a)
    }, this.changeWatcher = function (a, b) {
        var c, d = function () {
            for (var c, d, e = angular.isFunction(a) ? a() : a, g = [], h = 0, i = e.length; h < i; h++)d = e[h], c = b(d), f[c] = d, g.push(c);
            return g
        }, e = function (a, b) {
            var c, d, e = [], f = {};
            for (c = 0, d = b.length; c < d; c++)f[b[c]] = !0;
            for (c = 0, d = a.length; c < d; c++)f[a[c]] || e.push(a[c]);
            return e
        }, f = {}, g = function (a, d) {
            var g, h, i, j, k = {}, l = e(d, a);
            for (g = 0, h = l.length; g < h; g++) {
                var m = l[g];
                i = f[m], delete f[m];
                var n = b(i);
                n === m ? c.onRemoved(i) : (k[n] = m, c.onChanged(i))
            }
            var o = e(a, d);
            for (g = 0, h = o.length; g < h; g++)j = o[g], i = f[j], k[j] || c.onAdded(i)
        };
        return c = {
            subscribe: function (a, b) {
                a.$watch(d, function (a, c) {
                    var d = !(b && b(a, c) === !1);
                    d && g(a, c)
                }, !0)
            }, onAdded: angular.noop, onChanged: angular.noop, onRemoved: angular.noop
        }
    }, this.getFullCalendarConfig = function (a, b) {
        var c = {};
        return angular.extend(c, b), angular.extend(c, a), angular.forEach(c, function (a, b) {
            "function" == typeof a && (c[b] = e(c[b]))
        }), c
    }, this.getLocaleConfig = function (a) {
        if (!a.lang || a.useNgLocale) {
            var c = function (a) {
                var b, c;
                b = [];
                for (c in a)b[c] = a[c];
                return b
            }, d = b.DATETIME_FORMATS;
            return {
                monthNames: c(d.MONTH),
                monthNamesShort: c(d.SHORTMONTH),
                dayNames: c(d.DAY),
                dayNamesShort: c(d.SHORTDAY)
            }
        }
        return {}
    }
}]).directive("uiCalendar", ["uiCalendarConfig", function (a) {
    return {
        restrict: "A",
        scope: {eventSources: "=ngModel", calendarWatchEvent: "&"},
        controller: "uiCalendarCtrl",
        link: function (b, c, d, e) {
            function f() {
                var c, f = d.uiCalendar ? b.$parent.$eval(d.uiCalendar) : {};
                c = e.getFullCalendarConfig(f, a);
                var g = e.getLocaleConfig(c);
                angular.extend(g, c), l = {eventSources: h}, angular.extend(l, g), l.calendars = null;
                var i = {};
                for (var j in l)"eventSources" !== j && (i[j] = l[j]);
                return JSON.stringify(i)
            }

            var g, h = b.eventSources, i = !1, j = e.changeWatcher(h, e.sourceFingerprint), k = e.changeWatcher(e.allEvents, e.eventFingerprint), l = null;
            b.destroy = function () {
                g && g.fullCalendar && g.fullCalendar("destroy"), g = d.calendar ? a.calendars[d.calendar] = $(c).html("") : $(c).html("")
            }, b.init = function () {
                g.fullCalendar(l), d.calendar && (a.calendars[d.calendar] = g)
            }, j.onAdded = function (a) {
                g.fullCalendar("addEventSource", a), i = !0
            }, j.onRemoved = function (a) {
                g.fullCalendar("removeEventSource", a), i = !0
            }, j.onChanged = function (a) {
                g.fullCalendar("refetchEvents"), i = !0
            }, k.onAdded = function (a) {
                g.fullCalendar("renderEvent", a, !!a.stick)
            }, k.onRemoved = function (a) {
                g.fullCalendar("removeEvents", a._id)
            }, k.onChanged = function (a) {
                for (var b = g.fullCalendar("clientEvents", a._id), c = 0; c < b.length; c++) {
                    var d = b[c];
                    d = angular.extend(d, a), g.fullCalendar("updateEvent", d)
                }
            }, j.subscribe(b), k.subscribe(b, function () {
                if (i === !0)return i = !1, !1
            }), b.$watch(f, function (a, c) {
                b.destroy(), b.init()
            })
        }
    }
}]),function (a) {
    a.Jcrop = function (b, c) {
        function d(a) {
            return Math.round(a) + "px"
        }

        function e(a) {
            return J.baseClass + "-" + a
        }

        function f() {
            return a.fx.step.hasOwnProperty("backgroundColor")
        }

        function g(b) {
            var c = a(b).offset();
            return [c.left, c.top]
        }

        function h(a) {
            return [a.pageX - I[0], a.pageY - I[1]]
        }

        function i(b) {
            "object" != typeof b && (b = {}), J = a.extend(J, b), a.each(["onChange", "onSelect", "onRelease", "onDblClick"], function (a, b) {
                "function" != typeof J[b] && (J[b] = function () {
                })
            })
        }

        function j(a, b, c) {
            if (I = g(R), oa.setCursor("move" === a ? a : a + "-resize"), "move" === a)return oa.activateHandlers(l(b), q, c);
            var d = la.getFixed(), e = m(a), f = la.getCorner(m(e));
            la.setPressed(la.getCorner(e)), la.setCurrent(f), oa.activateHandlers(k(a, d), q, c)
        }

        function k(a, b) {
            return function (c) {
                if (J.aspectRatio)switch (a) {
                    case"e":
                        c[1] = b.y + 1;
                        break;
                    case"w":
                        c[1] = b.y + 1;
                        break;
                    case"n":
                        c[0] = b.x + 1;
                        break;
                    case"s":
                        c[0] = b.x + 1
                } else switch (a) {
                    case"e":
                        c[1] = b.y2;
                        break;
                    case"w":
                        c[1] = b.y2;
                        break;
                    case"n":
                        c[0] = b.x2;
                        break;
                    case"s":
                        c[0] = b.x2
                }
                la.setCurrent(c), na.update()
            }
        }

        function l(a) {
            var b = a;
            return pa.watchKeys(), function (a) {
                la.moveOffset([a[0] - b[0], a[1] - b[1]]), b = a, na.update()
            }
        }

        function m(a) {
            switch (a) {
                case"n":
                    return "sw";
                case"s":
                    return "nw";
                case"e":
                    return "nw";
                case"w":
                    return "ne";
                case"ne":
                    return "sw";
                case"nw":
                    return "se";
                case"se":
                    return "nw";
                case"sw":
                    return "ne"
            }
        }

        function n(a) {
            return function (b) {
                return !J.disabled && (!("move" === a && !J.allowMove) && (I = g(R), da = !0, j(a, h(b)), b.stopPropagation(), b.preventDefault(), !1))
            }
        }

        function o(a, b, c) {
            var d = a.width(), e = a.height();
            d > b && b > 0 && (d = b, e = b / a.width() * a.height()), e > c && c > 0 && (e = c, d = c / a.height() * a.width()), ba = a.width() / d, ca = a.height() / e, a.width(d).height(e)
        }

        function p(a) {
            return {x: a.x * ba, y: a.y * ca, x2: a.x2 * ba, y2: a.y2 * ca, w: a.w * ba, h: a.h * ca}
        }

        function q(a) {
            var b = la.getFixed();
            b.w > J.minSelect[0] && b.h > J.minSelect[1] ? (na.enableHandles(), na.done()) : na.release(), oa.setCursor(J.allowSelect ? "crosshair" : "default")
        }

        function r(a) {
            if (J.disabled)return !1;
            if (!J.allowSelect)return !1;
            da = !0, I = g(R), na.disableHandles(), oa.setCursor("crosshair");
            var b = h(a);
            return la.setPressed(b), na.update(), oa.activateHandlers(s, q, "touch" === a.type.substring(0, 5)), pa.watchKeys(), a.stopPropagation(), a.preventDefault(), !1
        }

        function s(a) {
            la.setCurrent(a), na.update()
        }

        function t() {
            var b = a("<div></div>").addClass(e("tracker"));
            return L && b.css({opacity: 0, backgroundColor: "white"}), b
        }

        function u(a) {
            U.removeClass().addClass(e("holder")).addClass(a)
        }

        function v(a, b) {
            function c() {
                window.setTimeout(s, l)
            }

            var d = a[0] / ba, e = a[1] / ca, f = a[2] / ba, g = a[3] / ca;
            if (!ea) {
                var h = la.flipCoords(d, e, f, g), i = la.getFixed(), j = [i.x, i.y, i.x2, i.y2], k = j, l = J.animationDelay, m = h[0] - j[0], n = h[1] - j[1], o = h[2] - j[2], p = h[3] - j[3], q = 0, r = J.swingSpeed;
                d = k[0], e = k[1], f = k[2], g = k[3], na.animMode(!0);
                var s = function () {
                    return function () {
                        q += (100 - q) / r, k[0] = Math.round(d + q / 100 * m), k[1] = Math.round(e + q / 100 * n), k[2] = Math.round(f + q / 100 * o), k[3] = Math.round(g + q / 100 * p), q >= 99.8 && (q = 100), q < 100 ? (x(k), c()) : (na.done(), na.animMode(!1), "function" == typeof b && b.call(qa))
                    }
                }();
                c()
            }
        }

        function w(a) {
            x([a[0] / ba, a[1] / ca, a[2] / ba, a[3] / ca]), J.onSelect.call(qa, p(la.getFixed())), na.enableHandles()
        }

        function x(a) {
            la.setPressed([a[0], a[1]]), la.setCurrent([a[2], a[3]]), na.update()
        }

        function y() {
            return p(la.getFixed())
        }

        function z() {
            return la.getFixed()
        }

        function A(a) {
            i(a), H()
        }

        function B() {
            J.disabled = !0, na.disableHandles(), na.setCursor("default"), oa.setCursor("default")
        }

        function C() {
            J.disabled = !1, H()
        }

        function D() {
            na.done(), oa.activateHandlers(null, null)
        }

        function E() {
            U.remove(), O.show(), O.css("visibility", "visible"), a(b).removeData("Jcrop")
        }

        function F(a, b) {
            na.release(), B();
            var c = new Image;
            c.onload = function () {
                var d = c.width, e = c.height, f = J.boxWidth, g = J.boxHeight;
                R.width(d).height(e), R.attr("src", a), V.attr("src", a), o(R, f, g), S = R.width(), T = R.height(), V.width(S).height(T), ha.width(S + 2 * ga).height(T + 2 * ga), U.width(S).height(T), ma.resize(S, T), C(), "function" == typeof b && b.call(qa)
            }, c.src = a
        }

        function G(a, b, c) {
            var d = b || J.bgColor;
            J.bgFade && f() && J.fadeTime && !c ? a.animate({backgroundColor: d}, {
                queue: !1,
                duration: J.fadeTime
            }) : a.css("backgroundColor", d)
        }

        function H(a) {
            J.allowResize ? a ? na.enableOnly() : na.enableHandles() : na.disableHandles(), oa.setCursor(J.allowSelect ? "crosshair" : "default"), na.setCursor(J.allowMove ? "move" : "default"), J.hasOwnProperty("trueSize") && (ba = J.trueSize[0] / S, ca = J.trueSize[1] / T), J.hasOwnProperty("setSelect") && (w(J.setSelect), na.done(), delete J.setSelect), ma.refresh(), J.bgColor != ia && (G(J.shade ? ma.getShades() : U, J.shade ? J.shadeColor || J.bgColor : J.bgColor), ia = J.bgColor), ja != J.bgOpacity && (ja = J.bgOpacity, J.shade ? ma.refresh() : na.setBgOpacity(ja)), Z = J.maxSize[0] || 0, $ = J.maxSize[1] || 0, _ = J.minSize[0] || 0, aa = J.minSize[1] || 0, J.hasOwnProperty("outerImage") && (R.attr("src", J.outerImage), delete J.outerImage), na.refresh()
        }

        var I, J = a.extend({}, a.Jcrop.defaults), K = navigator.userAgent.toLowerCase(), L = /msie/.test(K), M = /msie [1-6]\./.test(K);
        "object" != typeof b && (b = a(b)[0]), "object" != typeof c && (c = {}), i(c);
        var N = {
            border: "none",
            visibility: "visible",
            margin: 0,
            padding: 0,
            position: "absolute",
            top: 0,
            left: 0
        }, O = a(b), P = !0;
        if ("IMG" == b.tagName) {
            if (0 != O[0].width && 0 != O[0].height)O.width(O[0].width), O.height(O[0].height); else {
                var Q = new Image;
                Q.src = O[0].src, O.width(Q.width), O.height(Q.height)
            }
            var R = O.clone().removeAttr("id").css(N).show();
            R.width(O.width()), R.height(O.height()), O.after(R).hide()
        } else R = O.css(N).show(), P = !1, null === J.shade && (J.shade = !0);
        o(R, J.boxWidth, J.boxHeight);
        var S = R.width(), T = R.height(), U = a("<div />").width(S).height(T).addClass(e("holder")).css({
            position: "relative",
            backgroundColor: J.bgColor
        }).insertAfter(O).append(R);
        J.addClass && U.addClass(J.addClass);
        var V = a("<div />"), W = a("<div />").width("100%").height("100%").css({
            zIndex: 310,
            position: "absolute",
            overflow: "hidden"
        }), X = a("<div />").width("100%").height("100%").css("zIndex", 320), Y = a("<div />").css({
            position: "absolute",
            zIndex: 600
        }).dblclick(function () {
            var a = la.getFixed();
            J.onDblClick.call(qa, a)
        }).insertBefore(R).append(W, X);
        P && (V = a("<img />").attr("src", R.attr("src")).css(N).width(S).height(T), W.append(V)), M && Y.css({overflowY: "hidden"});
        var Z, $, _, aa, ba, ca, da, ea, fa, ga = J.boundary, ha = t().width(S + 2 * ga).height(T + 2 * ga).css({
            position: "absolute",
            top: d(-ga),
            left: d(-ga),
            zIndex: 290
        }).mousedown(r), ia = J.bgColor, ja = J.bgOpacity;
        I = g(R);
        var ka = function () {
            function a() {
                var a, b = {}, c = ["touchstart", "touchmove", "touchend"], d = document.createElement("div");
                try {
                    for (a = 0; a < c.length; a++) {
                        var e = c[a];
                        e = "on" + e;
                        var f = e in d;
                        f || (d.setAttribute(e, "return;"), f = "function" == typeof d[e]), b[c[a]] = f
                    }
                    return b.touchstart && b.touchend && b.touchmove
                } catch (a) {
                    return !1
                }
            }

            function b() {
                return J.touchSupport === !0 || J.touchSupport === !1 ? J.touchSupport : a()
            }

            return {
                createDragger: function (a) {
                    return function (b) {
                        return !J.disabled && (!("move" === a && !J.allowMove) && (I = g(R), da = !0, j(a, h(ka.cfilter(b)), !0), b.stopPropagation(),
                                b.preventDefault(), !1))
                    }
                }, newSelection: function (a) {
                    return r(ka.cfilter(a))
                }, cfilter: function (a) {
                    return a.pageX = a.originalEvent.changedTouches[0].pageX, a.pageY = a.originalEvent.changedTouches[0].pageY, a
                }, isSupported: a, support: b()
            }
        }(), la = function () {
            function a(a) {
                a = g(a), o = m = a[0], p = n = a[1]
            }

            function b(a) {
                a = g(a), k = a[0] - o, l = a[1] - p, o = a[0], p = a[1]
            }

            function c() {
                return [k, l]
            }

            function d(a) {
                var b = a[0], c = a[1];
                0 > m + b && (b -= b + m), 0 > n + c && (c -= c + n), T < p + c && (c += T - (p + c)), S < o + b && (b += S - (o + b)), m += b, o += b, n += c, p += c
            }

            function e(a) {
                var b = f();
                switch (a) {
                    case"ne":
                        return [b.x2, b.y];
                    case"nw":
                        return [b.x, b.y];
                    case"se":
                        return [b.x2, b.y2];
                    case"sw":
                        return [b.x, b.y2]
                }
            }

            function f() {
                if (!J.aspectRatio)return i();
                var a, b, c, d, e = J.aspectRatio, f = J.minSize[0] / ba, g = J.maxSize[0] / ba, k = J.maxSize[1] / ca, l = o - m, q = p - n, r = Math.abs(l), s = Math.abs(q), t = r / s;
                return 0 === g && (g = 10 * S), 0 === k && (k = 10 * T), t < e ? (b = p, c = s * e, a = l < 0 ? m - c : c + m, a < 0 ? (a = 0, d = Math.abs((a - m) / e), b = q < 0 ? n - d : d + n) : a > S && (a = S, d = Math.abs((a - m) / e), b = q < 0 ? n - d : d + n)) : (a = o, d = r / e, b = q < 0 ? n - d : n + d, b < 0 ? (b = 0, c = Math.abs((b - n) * e), a = l < 0 ? m - c : c + m) : b > T && (b = T, c = Math.abs(b - n) * e, a = l < 0 ? m - c : c + m)), a > m ? (a - m < f ? a = m + f : a - m > g && (a = m + g), b = b > n ? n + (a - m) / e : n - (a - m) / e) : a < m && (m - a < f ? a = m - f : m - a > g && (a = m - g), b = b > n ? n + (m - a) / e : n - (m - a) / e), a < 0 ? (m -= a, a = 0) : a > S && (m -= a - S, a = S), b < 0 ? (n -= b, b = 0) : b > T && (n -= b - T, b = T), j(h(m, n, a, b))
            }

            function g(a) {
                return a[0] < 0 && (a[0] = 0), a[1] < 0 && (a[1] = 0), a[0] > S && (a[0] = S), a[1] > T && (a[1] = T), [Math.round(a[0]), Math.round(a[1])]
            }

            function h(a, b, c, d) {
                var e = a, f = c, g = b, h = d;
                return c < a && (e = c, f = a), d < b && (g = d, h = b), [e, g, f, h]
            }

            function i() {
                var a, b = o - m, c = p - n;
                return Z && Math.abs(b) > Z && (o = b > 0 ? m + Z : m - Z), $ && Math.abs(c) > $ && (p = c > 0 ? n + $ : n - $), aa / ca && Math.abs(c) < aa / ca && (p = c > 0 ? n + aa / ca : n - aa / ca), _ / ba && Math.abs(b) < _ / ba && (o = b > 0 ? m + _ / ba : m - _ / ba), m < 0 && (o -= m, m -= m), n < 0 && (p -= n, n -= n), o < 0 && (m -= o, o -= o), p < 0 && (n -= p, p -= p), o > S && (a = o - S, m -= a, o -= a), p > T && (a = p - T, n -= a, p -= a), m > S && (a = m - T, p -= a, n -= a), n > T && (a = n - T, p -= a, n -= a), j(h(m, n, o, p))
            }

            function j(a) {
                return {x: a[0], y: a[1], x2: a[2], y2: a[3], w: a[2] - a[0], h: a[3] - a[1]}
            }

            var k, l, m = 0, n = 0, o = 0, p = 0;
            return {flipCoords: h, setPressed: a, setCurrent: b, getOffset: c, moveOffset: d, getCorner: e, getFixed: f}
        }(), ma = function () {
            function b(a, b) {
                o.left.css({height: d(b)}), o.right.css({height: d(b)})
            }

            function c() {
                return e(la.getFixed())
            }

            function e(a) {
                o.top.css({left: d(a.x), width: d(a.w), height: d(a.y)}), o.bottom.css({
                    top: d(a.y2),
                    left: d(a.x),
                    width: d(a.w),
                    height: d(T - a.y2)
                }), o.right.css({left: d(a.x2), width: d(S - a.x2)}), o.left.css({width: d(a.x)})
            }

            function f() {
                return a("<div />").css({position: "absolute", backgroundColor: J.shadeColor || J.bgColor}).appendTo(n)
            }

            function g() {
                m || (m = !0, n.insertBefore(R), c(), na.setBgOpacity(1, 0, 1), V.hide(), h(J.shadeColor || J.bgColor, 1), na.isAwake() ? j(J.bgOpacity, 1) : j(1, 1))
            }

            function h(a, b) {
                G(l(), a, b)
            }

            function i() {
                m && (n.remove(), V.show(), m = !1, na.isAwake() ? na.setBgOpacity(J.bgOpacity, 1, 1) : (na.setBgOpacity(1, 1, 1), na.disableHandles()), G(U, 0, 1))
            }

            function j(a, b) {
                m && (J.bgFade && !b ? n.animate({opacity: 1 - a}, {
                    queue: !1,
                    duration: J.fadeTime
                }) : n.css({opacity: 1 - a}))
            }

            function k() {
                J.shade ? g() : i(), na.isAwake() && j(J.bgOpacity)
            }

            function l() {
                return n.children()
            }

            var m = !1, n = a("<div />").css({position: "absolute", zIndex: 240, opacity: 0}), o = {
                top: f(),
                left: f().height(T),
                right: f().height(T),
                bottom: f()
            };
            return {
                update: c,
                updateRaw: e,
                getShades: l,
                setBgColor: h,
                enable: g,
                disable: i,
                resize: b,
                refresh: k,
                opacity: j
            }
        }(), na = function () {
            function b(b) {
                var c = a("<div />").css({position: "absolute", opacity: J.borderOpacity}).addClass(e(b));
                return W.append(c), c
            }

            function c(b, c) {
                var d = a("<div />").mousedown(n(b)).css({
                    cursor: b + "-resize",
                    position: "absolute",
                    zIndex: c
                }).addClass("ord-" + b);
                return ka.support && d.bind("touchstart.jcrop", ka.createDragger(b)), X.append(d), d
            }

            function f(a) {
                var b = J.handleSize, d = c(a, B++).css({opacity: J.handleOpacity}).addClass(e("handle"));
                return b && d.width(b).height(b), d
            }

            function g(a) {
                return c(a, B++).addClass("jcrop-dragbar")
            }

            function h(a) {
                var b;
                for (b = 0; b < a.length; b++)E[a[b]] = g(a[b])
            }

            function i(a) {
                var c, d;
                for (d = 0; d < a.length; d++) {
                    switch (a[d]) {
                        case"n":
                            c = "hline";
                            break;
                        case"s":
                            c = "hline bottom";
                            break;
                        case"e":
                            c = "vline right";
                            break;
                        case"w":
                            c = "vline"
                    }
                    C[a[d]] = b(c)
                }
            }

            function j(a) {
                var b;
                for (b = 0; b < a.length; b++)D[a[b]] = f(a[b])
            }

            function k(a, b) {
                J.shade || V.css({top: d(-b), left: d(-a)}), Y.css({top: d(b), left: d(a)})
            }

            function l(a, b) {
                Y.width(Math.round(a)).height(Math.round(b))
            }

            function m() {
                var a = la.getFixed();
                la.setPressed([a.x, a.y]), la.setCurrent([a.x2, a.y2]), o()
            }

            function o(a) {
                if (A)return q(a)
            }

            function q(a) {
                var b = la.getFixed();
                l(b.w, b.h), k(b.x, b.y), J.shade && ma.updateRaw(b), A || s(), a ? J.onSelect.call(qa, p(b)) : J.onChange.call(qa, p(b))
            }

            function r(a, b, c) {
                (A || b) && (J.bgFade && !c ? R.animate({opacity: a}, {
                    queue: !1,
                    duration: J.fadeTime
                }) : R.css("opacity", a))
            }

            function s() {
                Y.show(), J.shade ? ma.opacity(ja) : r(ja, !0), A = !0
            }

            function u() {
                x(), Y.hide(), J.shade ? ma.opacity(1) : r(1), A = !1, J.onRelease.call(qa)
            }

            function v() {
                F && X.show()
            }

            function w() {
                if (F = !0, J.allowResize)return X.show(), !0
            }

            function x() {
                F = !1, X.hide()
            }

            function y(a) {
                a ? (ea = !0, x()) : (ea = !1, w())
            }

            function z() {
                y(!1), m()
            }

            var A, B = 370, C = {}, D = {}, E = {}, F = !1;
            J.dragEdges && a.isArray(J.createDragbars) && h(J.createDragbars), a.isArray(J.createHandles) && j(J.createHandles), J.drawBorders && a.isArray(J.createBorders) && i(J.createBorders), a(document).bind("touchstart.jcrop-ios", function (b) {
                a(b.currentTarget).hasClass("jcrop-tracker") && b.stopPropagation()
            });
            var G = t().mousedown(n("move")).css({cursor: "move", position: "absolute", zIndex: 360});
            return ka.support && G.bind("touchstart.jcrop", ka.createDragger("move")), W.append(G), x(), {
                updateVisible: o,
                update: q,
                release: u,
                refresh: m,
                isAwake: function () {
                    return A
                },
                setCursor: function (a) {
                    G.css("cursor", a)
                },
                enableHandles: w,
                enableOnly: function () {
                    F = !0
                },
                showHandles: v,
                disableHandles: x,
                animMode: y,
                setBgOpacity: r,
                done: z
            }
        }(), oa = function () {
            function b(b) {
                ha.css({zIndex: 450}), b ? a(document).bind("touchmove.jcrop", g).bind("touchend.jcrop", i) : m && a(document).bind("mousemove.jcrop", d).bind("mouseup.jcrop", e)
            }

            function c() {
                ha.css({zIndex: 290}), a(document).unbind(".jcrop")
            }

            function d(a) {
                return k(h(a)), !1
            }

            function e(a) {
                return a.preventDefault(), a.stopPropagation(), da && (da = !1, l(h(a)), na.isAwake() && J.onSelect.call(qa, p(la.getFixed())), c(), k = function () {
                }, l = function () {
                }), !1
            }

            function f(a, c, d) {
                return da = !0, k = a, l = c, b(d), !1
            }

            function g(a) {
                return k(h(ka.cfilter(a))), !1
            }

            function i(a) {
                return e(ka.cfilter(a))
            }

            function j(a) {
                ha.css("cursor", a)
            }

            var k = function () {
            }, l = function () {
            }, m = J.trackDocument;
            return m || ha.mousemove(d).mouseup(e).mouseout(e), R.before(ha), {activateHandlers: f, setCursor: j}
        }(), pa = function () {
            function b() {
                J.keySupport && (f.show(), f.focus())
            }

            function c(a) {
                f.hide()
            }

            function d(a, b, c) {
                J.allowMove && (la.moveOffset([b, c]), na.updateVisible(!0)), a.preventDefault(), a.stopPropagation()
            }

            function e(a) {
                if (a.ctrlKey || a.metaKey)return !0;
                fa = !!a.shiftKey;
                var b = fa ? 10 : 1;
                switch (a.keyCode) {
                    case 37:
                        d(a, -b, 0);
                        break;
                    case 39:
                        d(a, b, 0);
                        break;
                    case 38:
                        d(a, 0, -b);
                        break;
                    case 40:
                        d(a, 0, b);
                        break;
                    case 27:
                        J.allowSelect && na.release();
                        break;
                    case 9:
                        return !0
                }
                return !1
            }

            var f = a('<input type="radio" />').css({
                position: "fixed",
                left: "-120px",
                width: "12px"
            }).addClass("jcrop-keymgr"), g = a("<div />").css({position: "absolute", overflow: "hidden"}).append(f);
            return J.keySupport && (f.keydown(e).blur(c), M || !J.fixedSupport ? (f.css({
                position: "absolute",
                left: "-20px"
            }), g.append(f).insertBefore(R)) : f.insertBefore(R)), {watchKeys: b}
        }();
        ka.support && ha.bind("touchstart.jcrop", ka.newSelection), X.hide(), H(!0);
        var qa = {
            setImage: F,
            animateTo: v,
            setSelect: w,
            setOptions: A,
            tellSelect: y,
            tellScaled: z,
            setClass: u,
            disable: B,
            enable: C,
            cancel: D,
            release: na.release,
            destroy: E,
            focus: pa.watchKeys,
            getBounds: function () {
                return [S * ba, T * ca]
            },
            getWidgetSize: function () {
                return [S, T]
            },
            getScaleFactor: function () {
                return [ba, ca]
            },
            getOptions: function () {
                return J
            },
            ui: {holder: U, selection: Y}
        };
        return L && U.bind("selectstart", function () {
            return !1
        }), O.data("Jcrop", qa), qa
    }, a.fn.Jcrop = function (b, c) {
        var d;
        return this.each(function () {
            if (a(this).data("Jcrop")) {
                if ("api" === b)return a(this).data("Jcrop");
                a(this).data("Jcrop").setOptions(b)
            } else"IMG" == this.tagName ? a.Jcrop.Loader(this, function () {
                a(this).css({
                    display: "block",
                    visibility: "hidden"
                }), d = a.Jcrop(this, b), a.isFunction(c) && c.call(d)
            }) : (a(this).css({
                display: "block",
                visibility: "hidden"
            }), d = a.Jcrop(this, b), a.isFunction(c) && c.call(d))
        }), this
    }, a.Jcrop.Loader = function (b, c, d) {
        function e() {
            g.complete ? (f.unbind(".jcloader"), a.isFunction(c) && c.call(g)) : window.setTimeout(e, 50)
        }

        var f = a(b), g = f[0];
        f.bind("load.jcloader", e).bind("error.jcloader", function (b) {
            f.unbind(".jcloader"), a.isFunction(d) && d.call(g)
        }), g.complete && a.isFunction(c) && (f.unbind(".jcloader"), c.call(g))
    }, a.Jcrop.defaults = {
        allowSelect: !0,
        allowMove: !0,
        allowResize: !0,
        trackDocument: !0,
        baseClass: "jcrop",
        addClass: null,
        bgColor: "black",
        bgOpacity: .6,
        bgFade: !1,
        borderOpacity: .4,
        handleOpacity: .5,
        handleSize: null,
        aspectRatio: 0,
        keySupport: !0,
        createHandles: ["n", "s", "e", "w", "nw", "ne", "se", "sw"],
        createDragbars: ["n", "s", "e", "w"],
        createBorders: ["n", "s", "e", "w"],
        drawBorders: !0,
        dragEdges: !0,
        fixedSupport: !0,
        touchSupport: null,
        shade: null,
        boxWidth: 0,
        boxHeight: 0,
        boundary: 2,
        fadeTime: 400,
        animationDelay: 20,
        swingSpeed: 3,
        minSelect: [0, 0],
        maxSize: [0, 0],
        minSize: [0, 0],
        onChange: function () {
        },
        onSelect: function () {
        },
        onDblClick: function () {
        },
        onRelease: function () {
        }
    }
}(jQuery),function (a) {
    "use strict";
    a.module("ngJcrop", []).constant("ngJcroptDefaultConfig", {
        widthLimit: 1e3,
        heightLimit: 1e3,
        previewImgStyle: {width: "100px", height: "100px", overflow: "hidden", "margin-left": "5px"},
        jcrop: {aspectRatio: 1, maxWidth: 300, maxHeight: 300}
    }).constant("ngJcropTemplate", '<div class="ng-jcrop">    <div class="ng-jcrop-image-wrapper">        <img class="ng-jcrop-image" />   </div>   <div class="ng-jcrop-thumbnail-wrapper" ng-style="previewImgStyle">       <img class="ng-jcrop-thumbnail" />   </div></div>').provider("ngJcropConfig", ["ngJcroptDefaultConfig", "ngJcropTemplate", function (b, c) {
        function d(d) {
            return "object" == typeof d && (d = "default"), d in e || (e[d] = a.copy(b), e[d].template = c), e[d]
        }

        var e = {};
        return d("default"), {
            setConfig: function (b, c) {
                var e = d(b);
                a.extend(e, "object" == typeof b ? b : c)
            }, setJcropConfig: function (b, c) {
                var e = d(b);
                a.extend(e.jcrop, "object" == typeof b ? b : c)
            }, setPreviewStyle: function (b, c) {
                var e = d(b);
                a.extend(e.previewImgStyle, "object" == typeof b ? b : c)
            }, $get: function () {
                return e
            }
        }
    }]).run(["$window", function (a) {
        if (!a.jQuery)throw new Error("jQuery isn't included");
        if (!a.jQuery.Jcrop)throw new Error("Jcrop isn't included")
    }]).directive("ngJcrop", ["ngJcropConfig", function (a) {
        return a = a.default, {
            restrict: "A",
            scope: {ngJcrop: "=", thumbnail: "=", selection: "=", ngJcropConfigName: "@"},
            template: a.template,
            controller: "JcropController"
        }
    }]).directive("ngJcropInput", function () {
        return {restrict: "A", controller: "JcropInputController"}
    }).controller("JcropInputController", ["$rootScope", "$element", "$scope", function (a, b, c) {
        if ("file" !== b[0].type)throw new Error('ngJcropInput directive must be placed with an input[type="file"]');
        c.setImage = function (c) {
            var d = new FileReader;
            d.onload = function (c) {
                a.$broadcast("JcropChangeSrc", c.target.result), b[0].value = ""
            }, d.readAsDataURL(c)
        }, b.on("change", function (a) {
            var b = a.currentTarget.files[0];
            c.setImage(b)
        })
    }]).controller("JcropController", ["$scope", "$element", "ngJcropConfig", function (b, c, d) {
        if (b.ngJcropConfigName || (b.ngJcropConfigName = "default"), d = d[b.ngJcropConfigName], !d)throw new Error('Unknown "{name}" config name'.replace("{name}", b.ngJcropConfigName));
        if (a.isUndefined(b.selection))throw new Error("ngJcrop: attribute `selection` is mandatory");
        if (!a.isArray(b.selection) && null !== b.selection)throw new Error("ngJcrop: attribute `selection` must be an array");
        b.mainImg = null, b.imgStyle = {
            width: d.jcrop.maxWidth,
            height: d.jcrop.maxHeight
        }, b.previewImg = null, b.previewImgStyle = d.previewImgStyle, b.jcrop = null, b.coords = b.selection, b.updateCurrentSizes = function (a) {
            var c = a.width / d.jcrop.maxWidth, e = a.height / d.jcrop.maxHeight, f = a.width > d.jcrop.maxWidth && c > e, g = a.height > d.jcrop.maxHeight && e > c;
            f ? (b.imgStyle.width = d.jcrop.maxWidth, b.imgStyle.height = a.height / c) : g ? (b.imgStyle.height = d.jcrop.maxHeight, b.imgStyle.width = a.width / e) : (b.imgStyle.height = a.height, b.imgStyle.width = a.width)
        }, b.getShrinkRatio = function () {
            var a = $("<img>").attr("src", b.mainImg[0].src)[0];
            if (d.jcrop.maxWidth > a.width && d.jcrop.maxHeight > a.height)return 1;
            var c = a.width / d.jcrop.maxWidth, e = a.height / d.jcrop.maxHeight, f = a.width > d.jcrop.maxWidth && c > e;
            return f ? c : e
        }, b.setSelection = function (c) {
            a.isArray(b.coords) || (b.coords = []), a.isArray(b.selection) || (b.selection = []), b.coords[0] = c.x, b.coords[1] = c.y, b.coords[2] = c.x2, b.coords[3] = c.y2, b.coords[4] = c.w, b.coords[5] = c.h;
            var d = b.getShrinkRatio();
            b.selection[0] = Math.round(c.x * d), b.selection[1] = Math.round(c.y * d), b.selection[2] = Math.round(c.x2 * d), b.selection[3] = Math.round(c.y2 * d), b.selection[4] = Math.round(c.w * d), b.selection[5] = Math.round(c.h * d)
        }, b.showPreview = function (a) {
            if (b.selectionWatcher || b.$apply(function () {
                    b.setSelection(a)
                }), b.thumbnail) {
                var c = parseInt(b.previewImgStyle.width) / a.w, d = parseInt(b.previewImgStyle.height) / a.h;
                b.previewImg.css({
                    width: Math.round(c * b.imgStyle.width) + "px",
                    maxWidth: Math.round(c * b.imgStyle.width) + "px",
                    height: Math.round(d * b.imgStyle.height) + "px",
                    maxHeight: Math.round(d * b.imgStyle.height) + "px",
                    marginLeft: "-" + Math.round(c * a.x) + "px",
                    marginTop: "-" + Math.round(d * a.y) + "px"
                })
            }
        }, b.onMainImageLoad = function () {
            b.mainImg.off("load", b.onMainImageLoad), b.updateCurrentSizes($("<img>").attr("src", b.mainImg[0].src)[0]);
            var c = a.extend({onChange: b.showPreview, onSelect: b.showPreview}, d.jcrop);
            b.selection && 6 === b.selection.length && (c.setSelect = b.selection), b.jcrop = jQuery.Jcrop(b.mainImg, c)
        }, b.destroy = function () {
            b.jcrop && (b.mainImg && b.mainImg.off("load"), b.jcrop.destroy(), b.jcrop = null)
        }, b.initMainImage = function (a) {
            b.mainImg = $("<img>").addClass("ng-jcrop-image"), b.mainImg.on("load", b.onMainImageLoad), b.mainImg.css({
                maxWidth: d.jcrop.maxWidth,
                maxHeight: d.jcrop.maxHeight
            }), b.mainImg.attr("src", a)
        }, b.init = function (a) {
            b.destroy(), b.initMainImage(a), b.imageWrapper = c.find(".ng-jcrop-image-wrapper"), b.imageWrapper.empty().append(b.mainImg), b.previewImg = c.find(".ng-jcrop-thumbnail"), b.previewImg.attr("src", a)
        }, b.$on("$destroy", b.destroy), b.$on("JcropChangeSrc", function (a, c) {
            b.$apply(function () {
                b.setSelection({
                    x: 0,
                    y: 0,
                    x2: d.widthLimit,
                    y2: d.heightLimit,
                    w: d.widthLimit,
                    h: d.heightLimit
                }), b.ngJcrop = c
            })
        }), b.$watch("ngJcrop", function (a, b, c) {
            c.init(a)
        }), b.$watch("thumbnail", function (a, b, c) {
            c.thumbnail ? c.previewImg.show() : c.previewImg.hide()
        })
    }])
}(angular),!window.XMLHttpRequest || window.FileAPI && FileAPI.shouldLoad || (window.XMLHttpRequest.prototype.setRequestHeader = function (a) {
    return function (b, c) {
        if ("__setXHR_" === b) {
            var d = c(this);
            d instanceof Function && d(this)
        } else a.apply(this, arguments)
    }
}(window.XMLHttpRequest.prototype.setRequestHeader));
var ngFileUpload = angular.module("ngFileUpload", []);
ngFileUpload.version = "12.0.4", ngFileUpload.service("UploadBase", ["$http", "$q", "$timeout", function (a, b, c) {
    function d(d) {
        function e(a) {
            j.notify && j.notify(a), k.progressFunc && c(function () {
                k.progressFunc(a)
            })
        }

        function h(a) {
            return null != d._start && g ? {
                loaded: a.loaded + d._start,
                total: d._file && d._file.size || a.total,
                type: a.type,
                config: d,
                lengthComputable: !0,
                target: a.target
            } : a
        }

        function i() {
            a(d).then(function (a) {
                g && d._chunkSize && !d._finished && d._file ? (e({
                    loaded: d._end,
                    total: d._file && d._file.size,
                    config: d,
                    type: "progress"
                }), f.upload(d, !0)) : (d._finished && delete d._finished, j.resolve(a))
            }, function (a) {
                j.reject(a)
            }, function (a) {
                j.notify(a)
            })
        }

        d.method = d.method || "POST", d.headers = d.headers || {};
        var j = d._deferred = d._deferred || b.defer(), k = j.promise;
        return d.disableProgress || (d.headers.__setXHR_ = function () {
            return function (a) {
                a && a.upload && a.upload.addEventListener && (d.__XHR = a, d.xhrFn && d.xhrFn(a), a.upload.addEventListener("progress", function (a) {
                    a.config = d, e(h(a))
                }, !1), a.upload.addEventListener("load", function (a) {
                    a.lengthComputable && (a.config = d, e(h(a)))
                }, !1))
            }
        }), g ? d._chunkSize && d._end && !d._finished ? (d._start = d._end, d._end += d._chunkSize, i()) : d.resumeSizeUrl ? a.get(d.resumeSizeUrl).then(function (a) {
            d.resumeSizeResponseReader ? d._start = d.resumeSizeResponseReader(a.data) : d._start = parseInt((null == a.data.size ? a.data : a.data.size).toString()), d._chunkSize && (d._end = d._start + d._chunkSize), i()
        }, function (a) {
            throw a
        }) : d.resumeSize ? d.resumeSize().then(function (a) {
            d._start = a, i()
        }, function (a) {
            throw a
        }) : (d._chunkSize && (d._start = 0, d._end = d._start + d._chunkSize), i()) : i(), k.success = function (a) {
            return k.then(function (b) {
                a(b.data, b.status, b.headers, d)
            }), k
        }, k.error = function (a) {
            return k.then(null, function (b) {
                a(b.data, b.status, b.headers, d)
            }), k
        }, k.progress = function (a) {
            return k.progressFunc = a, k.then(null, null, function (b) {
                a(b)
            }), k
        }, k.abort = k.pause = function () {
            return d.__XHR && c(function () {
                d.__XHR.abort()
            }), k
        }, k.xhr = function (a) {
            return d.xhrFn = function (b) {
                return function () {
                    b && b.apply(k, arguments), a.apply(k, arguments)
                }
            }(d.xhrFn), k
        }, f.promisesCount++, k.finally(function () {
            f.promisesCount--
        }), k
    }

    function e(a) {
        var b = {};
        for (var c in a)a.hasOwnProperty(c) && (b[c] = a[c]);
        return b
    }

    var f = this;
    f.promisesCount = 0, this.isResumeSupported = function () {
        return window.Blob && window.Blob.prototype.slice
    };
    var g = this.isResumeSupported();
    this.isUploadInProgress = function () {
        return f.promisesCount > 0
    }, this.rename = function (a, b) {
        return a.ngfName = b, a
    }, this.jsonBlob = function (a) {
        null == a || angular.isString(a) || (a = JSON.stringify(a));
        var b = new window.Blob([a], {type: "application/json"});
        return b._ngfBlob = !0, b
    }, this.json = function (a) {
        return angular.toJson(a)
    }, this.isFile = function (a) {
        return null != a && (a instanceof window.Blob || a.flashId && a.name && a.size)
    }, this.upload = function (a, b) {
        function c(b, c) {
            if (b._ngfBlob)return b;
            if (a._file = a._file || b, null != a._start && g) {
                a._end && a._end >= b.size && (a._finished = !0, a._end = b.size);
                var d = b.slice(a._start, a._end || b.size);
                return d.name = b.name, d.ngfName = b.ngfName, a._chunkSize && (c.append("_chunkSize", a._chunkSize), c.append("_currentChunkSize", a._end - a._start), c.append("_chunkNumber", Math.floor(a._start / a._chunkSize)), c.append("_totalSize", a._file.size)), d
            }
            return b
        }

        function h(b, d, e) {
            if (void 0 !== d)if (angular.isDate(d) && (d = d.toISOString()), angular.isString(d))b.append(e, d); else if (f.isFile(d)) {
                var g = c(d, b), i = e.split(",");
                i[1] && (g.ngfName = i[1].replace(/^\s+|\s+$/g, ""), e = i[0]), a._fileKey = a._fileKey || e, b.append(e, g, g.ngfName || g.name)
            } else if (angular.isObject(d)) {
                if (d.$$ngfCircularDetection)throw"ngFileUpload: Circular reference in config.data. Make sure specified data for Upload.upload() has no circular reference: " + e;
                d.$$ngfCircularDetection = !0;
                try {
                    for (var j in d)if (d.hasOwnProperty(j) && "$$ngfCircularDetection" !== j) {
                        var k = null == a.objectKey ? "[i]" : a.objectKey;
                        d.length && parseInt(j) > -1 && (k = null == a.arrayKey ? k : a.arrayKey), h(b, d[j], e + k.replace(/[ik]/g, j))
                    }
                } finally {
                    delete d.$$ngfCircularDetection
                }
            } else b.append(e, d)
        }

        function i() {
            a._chunkSize = f.translateScalars(a.resumeChunkSize), a._chunkSize = a._chunkSize ? parseInt(a._chunkSize.toString()) : null, a.headers = a.headers || {}, a.headers["Content-Type"] = void 0, a.transformRequest = a.transformRequest ? angular.isArray(a.transformRequest) ? a.transformRequest : [a.transformRequest] : [], a.transformRequest.push(function (b) {
                var c, d = new window.FormData;
                b = b || a.fields || {}, a.file && (b.file = a.file);
                for (c in b)if (b.hasOwnProperty(c)) {
                    var e = b[c];
                    a.formDataAppender ? a.formDataAppender(d, c, e) : h(d, e, c)
                }
                return d
            })
        }

        return b || (a = e(a)), a._isDigested || (a._isDigested = !0, i()), d(a)
    }, this.http = function (b) {
        return b = e(b), b.transformRequest = b.transformRequest || function (b) {
                return window.ArrayBuffer && b instanceof window.ArrayBuffer || b instanceof window.Blob ? b : a.defaults.transformRequest[0].apply(this, arguments)
            }, b._chunkSize = f.translateScalars(b.resumeChunkSize), b._chunkSize = b._chunkSize ? parseInt(b._chunkSize.toString()) : null, d(b)
    }, this.translateScalars = function (a) {
        if (angular.isString(a)) {
            if (a.search(/kb/i) === a.length - 2)return parseFloat(1024 * a.substring(0, a.length - 2));
            if (a.search(/mb/i) === a.length - 2)return parseFloat(1048576 * a.substring(0, a.length - 2));
            if (a.search(/gb/i) === a.length - 2)return parseFloat(1073741824 * a.substring(0, a.length - 2));
            if (a.search(/b/i) === a.length - 1)return parseFloat(a.substring(0, a.length - 1));
            if (a.search(/s/i) === a.length - 1)return parseFloat(a.substring(0, a.length - 1));
            if (a.search(/m/i) === a.length - 1)return parseFloat(60 * a.substring(0, a.length - 1));
            if (a.search(/h/i) === a.length - 1)return parseFloat(3600 * a.substring(0, a.length - 1))
        }
        return a
    }, this.urlToBlob = function (c) {
        var d = b.defer();
        return a({url: c, method: "get", responseType: "arraybuffer"}).then(function (a) {
            var b = new Uint8Array(a.data), c = a.headers("content-type") || "image/WebP", e = new window.Blob([b], {type: c});
            d.resolve(e)
        }, function (a) {
            d.reject(a)
        }), d.promise
    }, this.setDefaults = function (a) {
        this.defaults = a || {}
    }, this.defaults = {}, this.version = ngFileUpload.version
}]), ngFileUpload.service("Upload", ["$parse", "$timeout", "$compile", "$q", "UploadExif", function (a, b, c, d, e) {
    function f(a, b, c) {
        var e = [i.emptyPromise()];
        return angular.forEach(a, function (d, f) {
            0 === d.type.indexOf("image/jpeg") && i.attrGetter("ngfFixOrientation", b, c, {$file: d}) && e.push(i.happyPromise(i.applyExifRotation(d), d).then(function (b) {
                a.splice(f, 1, b)
            }))
        }), d.all(e)
    }

    function g(a, b, c) {
        var e = i.attrGetter("ngfResize", b, c);
        if (!e || !i.isResizeSupported() || !a.length)return i.emptyPromise();
        if (!(e instanceof Function))return h(e, a, b, c);
        var f = d.defer();
        e(a).then(function (d) {
            h(d, a, b, c).then(function (a) {
                f.resolve(a)
            }, function (a) {
                f.reject(a)
            })
        }, function (a) {
            f.reject(a)
        })
    }

    function h(a, b, c, e) {
        function f(d, f) {
            if (0 === d.type.indexOf("image")) {
                if (a.pattern && !i.validatePattern(d, a.pattern))return;
                var h = i.resize(d, a.width, a.height, a.quality, a.type, a.ratio, a.centerCrop, function (a, b) {
                    return i.attrGetter("ngfResizeIf", c, e, {$width: a, $height: b, $file: d})
                }, a.restoreExif !== !1);
                g.push(h), h.then(function (a) {
                    b.splice(f, 1, a)
                }, function (a) {
                    d.$error = "resize", d.$errorParam = (a ? (a.message ? a.message : a) + ": " : "") + (d && d.name)
                })
            }
        }

        for (var g = [i.emptyPromise()], h = 0; h < b.length; h++)f(b[h], h);
        return d.all(g)
    }

    var i = e;
    return i.getAttrWithDefaults = function (a, b) {
        if (null != a[b])return a[b];
        var c = i.defaults[b];
        return null == c ? c : angular.isString(c) ? c : JSON.stringify(c)
    }, i.attrGetter = function (b, c, d, e) {
        var f = this.getAttrWithDefaults(c, b);
        if (!d)return f;
        try {
            return e ? a(f)(d, e) : a(f)(d)
        } catch (a) {
            if (b.search(/min|max|pattern/i))return f;
            throw a
        }
    }, i.shouldUpdateOn = function (a, b, c) {
        var d = i.attrGetter("ngModelOptions", b, c);
        return !d || !d.updateOn || d.updateOn.split(" ").indexOf(a) > -1
    }, i.emptyPromise = function () {
        var a = d.defer(), c = arguments;
        return b(function () {
            a.resolve.apply(a, c)
        }), a.promise
    }, i.rejectPromise = function () {
        var a = d.defer(), c = arguments;
        return b(function () {
            a.reject.apply(a, c)
        }), a.promise
    }, i.happyPromise = function (a, c) {
        var e = d.defer();
        return a.then(function (a) {
            e.resolve(a)
        }, function (a) {
            b(function () {
                throw a
            }), e.resolve(c)
        }), e.promise
    }, i.updateModel = function (c, d, e, h, j, k, l) {
        function m(f, g, j, l, m) {
            d.$$ngfPrevValidFiles = f, d.$$ngfPrevInvalidFiles = g;
            var n = f && f.length ? f[0] : null, o = g && g.length ? g[0] : null;
            c && (i.applyModelValidation(c, f), c.$setViewValue(m ? n : f)), h && a(h)(e, {
                $files: f,
                $file: n,
                $newFiles: j,
                $duplicateFiles: l,
                $invalidFiles: g,
                $invalidFile: o,
                $event: k
            });
            var p = i.attrGetter("ngfModelInvalid", d);
            p && b(function () {
                a(p).assign(e, m ? o : g)
            }), b(function () {
            })
        }

        function n() {
            function a(a, b) {
                return a.name === b.name && (a.$ngfOrigSize || a.size) === (b.$ngfOrigSize || b.size) && a.type === b.type
            }

            function b(b) {
                var c;
                for (c = 0; c < s.length; c++)if (a(b, s[c]))return !0;
                for (c = 0; c < t.length; c++)if (a(b, t[c]))return !0;
                return !1
            }

            if (j) {
                r = [], u = [];
                for (var c = 0; c < j.length; c++)b(j[c]) ? u.push(j[c]) : r.push(j[c])
            }
        }

        function o(a) {
            return angular.isArray(a) ? a : [a]
        }

        function p() {
            w = [], v = [], angular.forEach(r, function (a) {
                a.$error ? v.push(a) : w.push(a)
            })
        }

        function q() {
            function a() {
                b(function () {
                    m(x ? s.concat(w) : w, x ? t.concat(v) : v, j, u, y)
                }, A && A.debounce ? A.debounce.change || A.debounce : 0)
            }

            g(z ? r : w, d, e).then(function () {
                z ? i.validate(r, s.length, c, d, e).then(function () {
                    p(), a()
                }) : a()
            }, function (a) {
                throw"Could not resize files " + a
            })
        }

        var r, s, t, u = [], v = [], w = [];
        s = d.$$ngfPrevValidFiles || [], t = d.$$ngfPrevInvalidFiles || [], c && c.$modelValue && (s = o(c.$modelValue));
        var x = i.attrGetter("ngfKeep", d, e);
        r = (j || []).slice(0), "distinct" !== x && i.attrGetter("ngfKeepDistinct", d, e) !== !0 || n(d, e);
        var y = !x && !i.attrGetter("ngfMultiple", d, e) && !i.attrGetter("multiple", d);
        if (!x || r.length) {
            i.attrGetter("ngfBeforeModelChange", d, e, {
                $files: j,
                $file: j && j.length ? j[0] : null,
                $newFiles: r,
                $duplicateFiles: u,
                $event: k
            });
            var z = i.attrGetter("ngfValidateAfterResize", d, e), A = i.attrGetter("ngModelOptions", d, e);
            i.validate(r, s.length, c, d, e).then(function () {
                l ? m(r, [], j, u, y) : (A && A.allowInvalid || z ? w = r : p(), i.attrGetter("ngfFixOrientation", d, e) && i.isExifSupported() ? f(w, d, e).then(function () {
                    q()
                }) : q())
            })
        }
    }, i
}]), ngFileUpload.directive("ngfSelect", ["$parse", "$timeout", "$compile", "Upload", function (a, b, c, d) {
    function e(a) {
        var b = a.match(/Android[^\d]*(\d+)\.(\d+)/);
        if (b && b.length > 2) {
            var c = d.defaults.androidFixMinorVersion || 4;
            return parseInt(b[1]) < 4 || parseInt(b[1]) === c && parseInt(b[2]) < c
        }
        return a.indexOf("Chrome") === -1 && /.*Windows.*Safari.*/.test(a)
    }

    function f(a, b, c, d, f, h, i, j) {
        function k() {
            return "input" === b[0].tagName.toLowerCase() && c.type && "file" === c.type.toLowerCase()
        }

        function l() {
            return t("ngfChange") || t("ngfSelect")
        }

        function m(b) {
            if (j.shouldUpdateOn("change", c, a)) {
                for (var e = b.__files_ || b.target && b.target.files, f = [], g = 0; g < e.length; g++)f.push(e[g]);
                j.updateModel(d, c, a, l(), f.length ? f : null, b)
            }
        }

        function n(a) {
            if (b !== a)for (var c = 0; c < b[0].attributes.length; c++) {
                var d = b[0].attributes[c];
                "type" !== d.name && "class" !== d.name && "style" !== d.name && (null != d.value && "" !== d.value || ("required" === d.name && (d.value = "required"), "multiple" === d.name && (d.value = "multiple")), a.attr(d.name, "id" === d.name ? "ngf-" + d.value : d.value))
            }
        }

        function o() {
            if (k())return b;
            var a = angular.element('<input type="file">');
            n(a);
            var c = angular.element("<label>upload</label>");
            return c.css("visibility", "hidden").css("position", "absolute").css("overflow", "hidden").css("width", "0px").css("height", "0px").css("border", "none").css("margin", "0px").css("padding", "0px").attr("tabindex", "-1"), g.push({
                el: b,
                ref: c
            }), document.body.appendChild(c.append(a)[0]), a
        }

        function p(c) {
            if (b.attr("disabled"))return !1;
            if (!t("ngfSelectDisabled", a)) {
                var d = q(c);
                if (null != d)return d;
                r(c);
                try {
                    k() || document.body.contains(w[0]) || (g.push({
                        el: b,
                        ref: w.parent()
                    }), document.body.appendChild(w.parent()[0]), w.bind("change", m))
                } catch (a) {
                }
                return e(navigator.userAgent) ? setTimeout(function () {
                    w[0].click()
                }, 0) : w[0].click(), !1
            }
        }

        function q(a) {
            var b = a.changedTouches || a.originalEvent && a.originalEvent.changedTouches;
            if ("touchstart" === a.type)return v = b ? b[0].clientY : 0, !0;
            if (a.stopPropagation(), a.preventDefault(), "touchend" === a.type) {
                var c = b ? b[0].clientY : 0;
                if (Math.abs(c - v) > 20)return !1
            }
        }

        function r(b) {
            j.shouldUpdateOn("click", c, a) && w.val() && (w.val(null), j.updateModel(d, c, a, l(), null, b, !0))
        }

        function s(a) {
            if (w && !w.attr("__ngf_ie10_Fix_")) {
                if (!w[0].parentNode)return void(w = null);
                a.preventDefault(), a.stopPropagation(), w.unbind("click");
                var b = w.clone();
                return w.replaceWith(b), w = b, w.attr("__ngf_ie10_Fix_", "true"), w.bind("change", m), w.bind("click", s), w[0].click(), !1
            }
            w.removeAttr("__ngf_ie10_Fix_")
        }

        var t = function (a, b) {
            return j.attrGetter(a, c, b)
        };
        j.registerModelChangeValidator(d, c, a);
        var u = [];
        u.push(a.$watch(t("ngfMultiple"), function () {
            w.attr("multiple", t("ngfMultiple", a))
        })), u.push(a.$watch(t("ngfCapture"), function () {
            w.attr("capture", t("ngfCapture", a))
        })), u.push(a.$watch(t("ngfAccept"), function () {
            w.attr("accept", t("ngfAccept", a))
        })), c.$observe("accept", function () {
            w.attr("accept", t("accept"))
        }), u.push(function () {
            c.$$observers && delete c.$$observers.accept
        });
        var v = 0, w = b;
        k() || (w = o()), w.bind("change", m), k() ? b.bind("click", r) : b.bind("click touchstart touchend", p), navigator.appVersion.indexOf("MSIE 10") !== -1 && w.bind("click", s), d && d.$formatters.push(function (a) {
            return null != a && 0 !== a.length || w.val() && w.val(null), a
        }), a.$on("$destroy", function () {
            k() || w.parent().remove(), angular.forEach(u, function (a) {
                a()
            })
        }), h(function () {
            for (var a = 0; a < g.length; a++) {
                var b = g[a];
                document.body.contains(b.el[0]) || (g.splice(a, 1), b.ref.remove())
            }
        }), window.FileAPI && window.FileAPI.ngfFixIE && window.FileAPI.ngfFixIE(b, w, m)
    }

    var g = [];
    return {
        restrict: "AEC", require: "?ngModel", link: function (e, g, h, i) {
            f(e, g, h, i, a, b, c, d)
        }
    }
}]), function () {
    function a(a) {
        return "img" === a.tagName.toLowerCase() ? "image" : "audio" === a.tagName.toLowerCase() ? "audio" : "video" === a.tagName.toLowerCase() ? "video" : /./
    }

    function b(b, c, d, e, f, g, h, i) {
        function j(a) {
            var g = b.attrGetter("ngfNoObjectUrl", f, d);
            b.dataUrl(a, g).finally(function () {
                c(function () {
                    var b = (g ? a.$ngfDataUrl : a.$ngfBlobUrl) || a.$ngfDataUrl;
                    i ? e.css("background-image", "url('" + (b || "") + "')") : e.attr("src", b), b ? e.removeClass("ng-hide") : e.addClass("ng-hide")
                })
            })
        }

        c(function () {
            var c = d.$watch(f[g], function (c) {
                var d = h;
                if ("ngfThumbnail" === g && (d || (d = {
                        width: e[0].clientWidth,
                        height: e[0].clientHeight
                    }), 0 === d.width && window.getComputedStyle)) {
                    var f = getComputedStyle(e[0]);
                    d = {width: parseInt(f.width.slice(0, -2)), height: parseInt(f.height.slice(0, -2))}
                }
                return angular.isString(c) ? (e.removeClass("ng-hide"), i ? e.css("background-image", "url('" + c + "')") : e.attr("src", c)) : void(!c || !c.type || 0 !== c.type.search(a(e[0])) || i && 0 !== c.type.indexOf("image") ? e.addClass("ng-hide") : d && b.isResizeSupported() ? b.resize(c, d.width, d.height, d.quality).then(function (a) {
                    j(a)
                }, function (a) {
                    throw a
                }) : j(c))
            });
            d.$on("$destroy", function () {
                c()
            })
        })
    }

    ngFileUpload.service("UploadDataUrl", ["UploadBase", "$timeout", "$q", function (a, b, c) {
        var d = a;
        return d.base64DataUrl = function (a) {
            if (angular.isArray(a)) {
                var b = c.defer(), e = 0;
                return angular.forEach(a, function (c) {
                    d.dataUrl(c, !0).finally(function () {
                        if (e++, e === a.length) {
                            var c = [];
                            angular.forEach(a, function (a) {
                                c.push(a.$ngfDataUrl)
                            }), b.resolve(c, a)
                        }
                    })
                }), b.promise
            }
            return d.dataUrl(a, !0)
        }, d.dataUrl = function (a, e) {
            if (!a)return d.emptyPromise(a, a);
            if (e && null != a.$ngfDataUrl || !e && null != a.$ngfBlobUrl)return d.emptyPromise(e ? a.$ngfDataUrl : a.$ngfBlobUrl, a);
            var f = e ? a.$$ngfDataUrlPromise : a.$$ngfBlobUrlPromise;
            if (f)return f;
            var g = c.defer();
            return b(function () {
                if (window.FileReader && a && (!window.FileAPI || navigator.userAgent.indexOf("MSIE 8") === -1 || a.size < 2e4) && (!window.FileAPI || navigator.userAgent.indexOf("MSIE 9") === -1 || a.size < 4e6)) {
                    var c = window.URL || window.webkitURL;
                    if (c && c.createObjectURL && !e) {
                        var f;
                        try {
                            f = c.createObjectURL(a)
                        } catch (c) {
                            return void b(function () {
                                a.$ngfBlobUrl = "", g.reject()
                            })
                        }
                        b(function () {
                            if (a.$ngfBlobUrl = f, f) {
                                g.resolve(f, a), d.blobUrls = d.blobUrls || [], d.blobUrlsTotalSize = d.blobUrlsTotalSize || 0, d.blobUrls.push({
                                    url: f,
                                    size: a.size
                                }), d.blobUrlsTotalSize += a.size || 0;
                                for (var b = d.defaults.blobUrlsMaxMemory || 268435456, e = d.defaults.blobUrlsMaxQueueSize || 200; (d.blobUrlsTotalSize > b || d.blobUrls.length > e) && d.blobUrls.length > 1;) {
                                    var h = d.blobUrls.splice(0, 1)[0];
                                    c.revokeObjectURL(h.url), d.blobUrlsTotalSize -= h.size
                                }
                            }
                        })
                    } else {
                        var h = new FileReader;
                        h.onload = function (c) {
                            b(function () {
                                a.$ngfDataUrl = c.target.result, g.resolve(c.target.result, a), b(function () {
                                    delete a.$ngfDataUrl
                                }, 1e3)
                            })
                        }, h.onerror = function () {
                            b(function () {
                                a.$ngfDataUrl = "", g.reject()
                            })
                        }, h.readAsDataURL(a)
                    }
                } else b(function () {
                    a[e ? "$ngfDataUrl" : "$ngfBlobUrl"] = "", g.reject()
                })
            }), f = e ? a.$$ngfDataUrlPromise = g.promise : a.$$ngfBlobUrlPromise = g.promise, f.finally(function () {
                delete a[e ? "$$ngfDataUrlPromise" : "$$ngfBlobUrlPromise"]
            }), f
        }, d
    }]), ngFileUpload.directive("ngfSrc", ["Upload", "$timeout", function (a, c) {
        return {
            restrict: "AE", link: function (d, e, f) {
                b(a, c, d, e, f, "ngfSrc", a.attrGetter("ngfResize", f, d), !1)
            }
        }
    }]), ngFileUpload.directive("ngfBackground", ["Upload", "$timeout", function (a, c) {
        return {
            restrict: "AE", link: function (d, e, f) {
                b(a, c, d, e, f, "ngfBackground", a.attrGetter("ngfResize", f, d), !0)
            }
        }
    }]), ngFileUpload.directive("ngfThumbnail", ["Upload", "$timeout", function (a, c) {
        return {
            restrict: "AE", link: function (d, e, f) {
                var g = a.attrGetter("ngfSize", f, d);
                b(a, c, d, e, f, "ngfThumbnail", g, a.attrGetter("ngfAsBackground", f, d))
            }
        }
    }]), ngFileUpload.config(["$compileProvider", function (a) {
        a.imgSrcSanitizationWhitelist && a.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|local|file|data|blob):/), a.aHrefSanitizationWhitelist && a.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|local|file|data|blob):/)
    }]), ngFileUpload.filter("ngfDataUrl", ["UploadDataUrl", "$sce", function (a, b) {
        return function (c, d, e) {
            if (angular.isString(c))return b.trustAsResourceUrl(c);
            var f = c && ((d ? c.$ngfDataUrl : c.$ngfBlobUrl) || c.$ngfDataUrl);
            return c && !f ? (!c.$ngfDataUrlFilterInProgress && angular.isObject(c) && (c.$ngfDataUrlFilterInProgress = !0, a.dataUrl(c, d)), "") : (c && delete c.$ngfDataUrlFilterInProgress, (c && f ? e ? b.trustAsResourceUrl(f) : f : c) || "")
        }
    }])
}(), ngFileUpload.service("UploadValidate", ["UploadDataUrl", "$q", "$timeout", function (a, b, c) {
    function d(a) {
        var b = "", c = [];
        if (a.length > 2 && "/" === a[0] && "/" === a[a.length - 1])b = a.substring(1, a.length - 1); else {
            var e = a.split(",");
            if (e.length > 1)for (var f = 0; f < e.length; f++) {
                var g = d(e[f]);
                g.regexp ? (b += "(" + g.regexp + ")", f < e.length - 1 && (b += "|")) : c = c.concat(g.excludes)
            } else 0 === a.indexOf("!") ? c.push("^((?!" + d(a.substring(1)).regexp + ").)*$") : (0 === a.indexOf(".") && (a = "*" + a), b = "^" + a.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]", "g"), "\\$&") + "$", b = b.replace(/\\\*/g, ".*").replace(/\\\?/g, "."))
        }
        return {regexp: b, excludes: c}
    }

    function e(a, b) {
        null == b || a.$dirty || (a.$setDirty ? a.$setDirty() : a.$dirty = !0)
    }

    var f = a;
    return f.validatePattern = function (a, b) {
        if (!b)return !0;
        var c = d(b), e = !0;
        if (c.regexp && c.regexp.length) {
            var f = new RegExp(c.regexp, "i");
            e = null != a.type && f.test(a.type) || null != a.name && f.test(a.name)
        }
        for (var g = c.excludes.length; g--;) {
            var h = new RegExp(c.excludes[g], "i");
            e = e && (null == a.type || h.test(a.type)) && (null == a.name || h.test(a.name))
        }
        return e
    }, f.ratioToFloat = function (a) {
        var b = a.toString(), c = b.search(/[x:]/i);
        return b = c > -1 ? parseFloat(b.substring(0, c)) / parseFloat(b.substring(c + 1)) : parseFloat(b)
    }, f.registerModelChangeValidator = function (a, b, c) {
        a && a.$formatters.push(function (d) {
            a.$dirty && (d && !angular.isArray(d) && (d = [d]), f.validate(d, 0, a, b, c).then(function () {
                f.applyModelValidation(a, d)
            }))
        })
    }, f.applyModelValidation = function (a, b) {
        e(a, b), angular.forEach(a.$ngfValidations, function (b) {
            a.$setValidity(b.name, b.valid)
        })
    }, f.getValidationAttr = function (a, b, c, d, e) {
        var g = "ngf" + c[0].toUpperCase() + c.substr(1), h = f.attrGetter(g, a, b, {$file: e});
        if (null == h && (h = f.attrGetter("ngfValidate", a, b, {$file: e}))) {
            var i = (d || c).split(".");
            h = h[i[0]], i.length > 1 && (h = h && h[i[1]])
        }
        return h
    }, f.validate = function (a, c, d, e, g) {
        function h(b, c, h) {
            if (a) {
                for (var i = a.length, j = null; i--;) {
                    var k = a[i];
                    if (k) {
                        var l = f.getValidationAttr(e, g, b, c, k);
                        null != l && (h(k, l, i) || (k.$error = b, (k.$errorMessages = k.$errorMessages || {})[b] = !0, k.$errorParam = l, a.splice(i, 1), j = !1))
                    }
                }
                null !== j && d.$ngfValidations.push({name: b, valid: j})
            }
        }

        function i(c, h, i, k, l) {
            function m(a, b, d) {
                null != d ? k(b, d).then(function (e) {
                    l(e, d) ? a.resolve() : (b.$error = c, (b.$errorMessages = b.$errorMessages || {})[c] = !0, b.$errorParam = d, a.reject())
                }, function () {
                    j("ngfValidateForce", {$file: b}) ? (b.$error = c, (b.$errorMessages = b.$errorMessages || {})[c] = !0, b.$errorParam = d, a.reject()) : a.resolve()
                }) : a.resolve()
            }

            var n = [f.emptyPromise()];
            if (a)return a = void 0 === a.length ? [a] : a, angular.forEach(a, function (a) {
                var d = b.defer();
                return n.push(d.promise), !i || null != a.type && 0 === a.type.search(i) ? void("dimensions" === c && null != f.attrGetter("ngfDimensions", e) ? f.imageDimensions(a).then(function (b) {
                    m(d, a, j("ngfDimensions", {$file: a, $width: b.width, $height: b.height}))
                }, function () {
                    d.reject()
                }) : "duration" === c && null != f.attrGetter("ngfDuration", e) ? f.mediaDuration(a).then(function (b) {
                    m(d, a, j("ngfDuration", {$file: a, $duration: b}))
                }, function () {
                    d.reject()
                }) : m(d, a, f.getValidationAttr(e, g, c, h, a))) : void d.resolve()
            }), b.all(n).then(function () {
                d.$ngfValidations.push({name: c, valid: !0})
            }, function () {
                d.$ngfValidations.push({name: c, valid: !1})
            })
        }

        d = d || {}, d.$ngfValidations = d.$ngfValidations || [], angular.forEach(d.$ngfValidations, function (a) {
            a.valid = !0
        });
        var j = function (a, b) {
            return f.attrGetter(a, e, g, b)
        };
        if (null == a || 0 === a.length)return f.emptyPromise(d);
        a = void 0 === a.length ? [a] : a.slice(0), h("maxFiles", null, function (a, b, d) {
            return c + d < b
        }), h("pattern", null, f.validatePattern), h("minSize", "size.min", function (a, b) {
            return a.size + .1 >= f.translateScalars(b)
        }), h("maxSize", "size.max", function (a, b) {
            return a.size - .1 <= f.translateScalars(b)
        });
        var k = 0;
        if (h("maxTotalSize", null, function (b, c) {
                return k += b.size, !(k > f.translateScalars(c)) || (a.splice(0, a.length), !1)
            }), h("validateFn", null, function (a, b) {
                return b === !0 || null === b || "" === b
            }), !a.length)return f.emptyPromise(d, d.$ngfValidations);
        var l = b.defer(), m = [];
        return m.push(f.happyPromise(i("maxHeight", "height.max", /image/, this.imageDimensions, function (a, b) {
            return a.height <= b
        }))), m.push(f.happyPromise(i("minHeight", "height.min", /image/, this.imageDimensions, function (a, b) {
            return a.height >= b
        }))), m.push(f.happyPromise(i("maxWidth", "width.max", /image/, this.imageDimensions, function (a, b) {
            return a.width <= b
        }))), m.push(f.happyPromise(i("minWidth", "width.min", /image/, this.imageDimensions, function (a, b) {
            return a.width >= b
        }))), m.push(f.happyPromise(i("dimensions", null, /image/, function (a, b) {
            return f.emptyPromise(b)
        }, function (a) {
            return a
        }))), m.push(f.happyPromise(i("ratio", null, /image/, this.imageDimensions, function (a, b) {
            for (var c = b.toString().split(","), d = !1, e = 0; e < c.length; e++)Math.abs(a.width / a.height - f.ratioToFloat(c[e])) < 1e-4 && (d = !0);
            return d
        }))), m.push(f.happyPromise(i("maxRatio", "ratio.max", /image/, this.imageDimensions, function (a, b) {
            return a.width / a.height - f.ratioToFloat(b) < 1e-4
        }))), m.push(f.happyPromise(i("minRatio", "ratio.min", /image/, this.imageDimensions, function (a, b) {
            return a.width / a.height - f.ratioToFloat(b) > -1e-4
        }))), m.push(f.happyPromise(i("maxDuration", "duration.max", /audio|video/, this.mediaDuration, function (a, b) {
            return a <= f.translateScalars(b)
        }))), m.push(f.happyPromise(i("minDuration", "duration.min", /audio|video/, this.mediaDuration, function (a, b) {
            return a >= f.translateScalars(b)
        }))), m.push(f.happyPromise(i("duration", null, /audio|video/, function (a, b) {
            return f.emptyPromise(b)
        }, function (a) {
            return a
        }))), m.push(f.happyPromise(i("validateAsyncFn", null, null, function (a, b) {
            return b
        }, function (a) {
            return a === !0 || null === a || "" === a
        }))), b.all(m).then(function () {
            l.resolve(d, d.$ngfValidations)
        })
    }, f.imageDimensions = function (a) {
        if (a.$ngfWidth && a.$ngfHeight) {
            var d = b.defer();
            return c(function () {
                d.resolve({width: a.$ngfWidth, height: a.$ngfHeight})
            }), d.promise
        }
        if (a.$ngfDimensionPromise)return a.$ngfDimensionPromise;
        var e = b.defer();
        return c(function () {
            return 0 !== a.type.indexOf("image") ? void e.reject("not image") : void f.dataUrl(a).then(function (b) {
                function d() {
                    var b = h[0].clientWidth, c = h[0].clientHeight;
                    h.remove(), a.$ngfWidth = b, a.$ngfHeight = c, e.resolve({width: b, height: c})
                }

                function f() {
                    h.remove(), e.reject("load error")
                }

                function g() {
                    c(function () {
                        h[0].parentNode && (h[0].clientWidth ? d() : i > 10 ? f() : g())
                    }, 1e3)
                }

                var h = angular.element("<img>").attr("src", b).css("visibility", "hidden").css("position", "fixed").css("max-width", "none !important").css("max-height", "none !important");
                h.on("load", d), h.on("error", f);
                var i = 0;
                g(), angular.element(document.getElementsByTagName("body")[0]).append(h)
            }, function () {
                e.reject("load error")
            })
        }), a.$ngfDimensionPromise = e.promise, a.$ngfDimensionPromise.finally(function () {
            delete a.$ngfDimensionPromise
        }), a.$ngfDimensionPromise
    }, f.mediaDuration = function (a) {
        if (a.$ngfDuration) {
            var d = b.defer();
            return c(function () {
                d.resolve(a.$ngfDuration)
            }), d.promise
        }
        if (a.$ngfDurationPromise)return a.$ngfDurationPromise;
        var e = b.defer();
        return c(function () {
            return 0 !== a.type.indexOf("audio") && 0 !== a.type.indexOf("video") ? void e.reject("not media") : void f.dataUrl(a).then(function (b) {
                function d() {
                    var b = h[0].duration;
                    a.$ngfDuration = b, h.remove(), e.resolve(b)
                }

                function f() {
                    h.remove(), e.reject("load error")
                }

                function g() {
                    c(function () {
                        h[0].parentNode && (h[0].duration ? d() : i > 10 ? f() : g())
                    }, 1e3)
                }

                var h = angular.element(0 === a.type.indexOf("audio") ? "<audio>" : "<video>").attr("src", b).css("visibility", "none").css("position", "fixed");
                h.on("loadedmetadata", d), h.on("error", f);
                var i = 0;
                g(), angular.element(document.body).append(h)
            }, function () {
                e.reject("load error")
            })
        }), a.$ngfDurationPromise = e.promise, a.$ngfDurationPromise.finally(function () {
            delete a.$ngfDurationPromise
        }), a.$ngfDurationPromise
    }, f
}]), ngFileUpload.service("UploadResize", ["UploadValidate", "$q", function (a, b) {
    var c = a, d = function (a, b, c, d, e) {
        var f = e ? Math.max(c / a, d / b) : Math.min(c / a, d / b);
        return {width: a * f, height: b * f, marginX: a * f - c, marginY: b * f - d}
    }, e = function (a, e, f, g, h, i, j, k) {
        var l = b.defer(), m = document.createElement("canvas"), n = document.createElement("img");
        return n.onload = function () {
            if (null != k && k(n.width, n.height) === !1)return void l.reject("resizeIf");
            try {
                if (i) {
                    var a = c.ratioToFloat(i), b = n.width / n.height;
                    b < a ? (e = n.width, f = e / a) : (f = n.height, e = f * a)
                }
                e || (e = n.width), f || (f = n.height);
                var o = d(n.width, n.height, e, f, j);
                m.width = Math.min(o.width, e), m.height = Math.min(o.height, f);
                var p = m.getContext("2d");
                p.drawImage(n, Math.min(0, -o.marginX / 2), Math.min(0, -o.marginY / 2), o.width, o.height), l.resolve(m.toDataURL(h || "image/WebP", g || .934))
            } catch (a) {
                l.reject(a)
            }
        }, n.onerror = function () {
            l.reject()
        }, n.src = a, l.promise
    };
    return c.dataUrltoBlob = function (a, b, c) {
        for (var d = a.split(","), e = d[0].match(/:(.*?);/)[1], f = atob(d[1]), g = f.length, h = new Uint8Array(g); g--;)h[g] = f.charCodeAt(g);
        var i = new window.Blob([h], {type: e});
        return i.name = b, i.$ngfOrigSize = c, i
    }, c.isResizeSupported = function () {
        var a = document.createElement("canvas");
        return window.atob && a.getContext && a.getContext("2d") && window.Blob
    }, c.isResizeSupported() && Object.defineProperty(window.Blob.prototype, "name", {
        get: function () {
            return this.$ngfName
        }, set: function (a) {
            this.$ngfName = a
        }, configurable: !0
    }), c.resize = function (a, d, f, g, h, i, j, k, l) {
        if (0 !== a.type.indexOf("image"))return c.emptyPromise(a);
        var m = b.defer();
        return c.dataUrl(a, !0).then(function (b) {
            e(b, d, f, g, h || a.type, i, j, k).then(function (d) {
                if ("image/jpeg" === a.type && l)try {
                    d = c.restoreExif(b, d)
                } catch (a) {
                    setTimeout(function () {
                        throw a
                    }, 1)
                }
                try {
                    var e = c.dataUrltoBlob(d, a.name, a.size);
                    m.resolve(e)
                } catch (a) {
                    m.reject(a)
                }
            }, function (b) {
                "resizeIf" === b && m.resolve(a), m.reject(b)
            })
        }, function (a) {
            m.reject(a)
        }), m.promise
    }, c
}]), function () {
    function a(a, c, d, e, f, g, h, i, j, k) {
        function l() {
            return c.attr("disabled") || r("ngfDropDisabled", a)
        }

        function m(b, c) {
            i.updateModel(e, d, a, r("ngfChange") || r("ngfDrop"), b, c)
        }

        function n(b, c) {
            if (!i.shouldUpdateOn(b, d, a) || !c)return i.rejectPromise([]);
            var e = [];
            c.replace(/<(img src|img [^>]* src) *=\"([^\"]*)\"/gi, function (a, b, c) {
                e.push(c)
            });
            var f = [], g = [];
            if (e.length) {
                angular.forEach(e, function (a) {
                    f.push(i.urlToBlob(a).then(function (a) {
                        g.push(a)
                    }))
                });
                var h = k.defer();
                return k.all(f).then(function () {
                    h.resolve(g)
                }, function (a) {
                    h.reject(a)
                }), h.promise
            }
            return i.emptyPromise()
        }

        function o(a, b, c, d) {
            var e = r("ngfDragOverClass", a, {$event: c}), f = "dragover";
            if (angular.isString(e))f = e; else if (e && (e.delay && (v = e.delay), e.accept || e.reject)) {
                var g = c.dataTransfer.items;
                if (null != g && g.length)for (var h = e.pattern || r("ngfPattern", a, {$event: c}), j = g.length; j--;) {
                    if (!i.validatePattern(g[j], h)) {
                        f = e.reject;
                        break
                    }
                    f = e.accept
                } else f = e.accept
            }
            d(f)
        }

        function p(b, c, e, f) {
            function g(a, b) {
                var c = k.defer();
                if (null != a)if (a.isDirectory) {
                    var d = [i.emptyPromise()];
                    if (m) {
                        var e = {type: "directory"};
                        e.name = e.path = (b || "") + a.name + a.name, n.push(e)
                    }
                    var f = a.createReader(), h = [], p = function () {
                        f.readEntries(function (e) {
                            try {
                                e.length ? (h = h.concat(Array.prototype.slice.call(e || [], 0)), p()) : (angular.forEach(h.slice(0), function (c) {
                                    n.length <= j && o <= l && d.push(g(c, (b ? b : "") + a.name + "/"))
                                }), k.all(d).then(function () {
                                    c.resolve()
                                }, function (a) {
                                    c.reject(a)
                                }))
                            } catch (a) {
                                c.reject(a)
                            }
                        }, function (a) {
                            c.reject(a)
                        })
                    };
                    p()
                } else a.file(function (a) {
                    try {
                        a.path = (b ? b : "") + a.name, m && (a = i.rename(a, a.path)), n.push(a), o += a.size, c.resolve()
                    } catch (a) {
                        c.reject(a)
                    }
                }, function (a) {
                    c.reject(a)
                });
                return c.promise
            }

            var j = i.getValidationAttr(d, a, "maxFiles") || Number.MAX_VALUE, l = i.getValidationAttr(d, a, "maxTotalSize") || Number.MAX_VALUE, m = r("ngfIncludeDir", a), n = [], o = 0, p = [i.emptyPromise()];
            if (b && b.length > 0 && "file" !== h.protocol())for (var q = 0; q < b.length; q++) {
                if (b[q].webkitGetAsEntry && b[q].webkitGetAsEntry() && b[q].webkitGetAsEntry().isDirectory) {
                    var s = b[q].webkitGetAsEntry();
                    if (s.isDirectory && !e)continue;
                    null != s && p.push(g(s))
                } else {
                    var t = b[q].getAsFile();
                    null != t && (n.push(t), o += t.size)
                }
                if (n.length > j || o > l || !f && n.length > 0)break
            } else if (null != c)for (var u = 0; u < c.length; u++) {
                var v = c.item(u);
                if ((v.type || v.size > 0) && (n.push(v), o += v.size), n.length > j || o > l || !f && n.length > 0)break
            }
            var w = k.defer();
            return k.all(p).then(function () {
                if (f || m || !n.length)w.resolve(n); else {
                    for (var a = 0; n[a] && "directory" === n[a].type;)a++;
                    w.resolve([n[a]])
                }
            }, function (a) {
                w.reject(a)
            }), w.promise
        }

        var q = b(), r = function (a, b, c) {
            return i.attrGetter(a, d, b, c)
        };
        if (r("dropAvailable") && g(function () {
                a[r("dropAvailable")] ? a[r("dropAvailable")].value = q : a[r("dropAvailable")] = q
            }), !q)return void(r("ngfHideOnDropNotAvailable", a) === !0 && c.css("display", "none"));
        null == r("ngfSelect") && i.registerModelChangeValidator(e, d, a);
        var s, t = null, u = f(r("ngfStopPropagation")), v = 1;
        c[0].addEventListener("dragover", function (b) {
            if (!l() && i.shouldUpdateOn("drop", d, a)) {
                if (b.preventDefault(), u(a) && b.stopPropagation(), navigator.userAgent.indexOf("Chrome") > -1) {
                    var e = b.dataTransfer.effectAllowed;
                    b.dataTransfer.dropEffect = "move" === e || "linkMove" === e ? "move" : "copy"
                }
                g.cancel(t), s || (s = "C", o(a, d, b, function (d) {
                    s = d, c.addClass(s), r("ngfDrag", a, {$isDragging: !0, $class: s, $event: b})
                }))
            }
        }, !1), c[0].addEventListener("dragenter", function (b) {
            !l() && i.shouldUpdateOn("drop", d, a) && (b.preventDefault(), u(a) && b.stopPropagation())
        }, !1), c[0].addEventListener("dragleave", function (b) {
            !l() && i.shouldUpdateOn("drop", d, a) && (b.preventDefault(), u(a) && b.stopPropagation(), t = g(function () {
                s && c.removeClass(s), s = null, r("ngfDrag", a, {$isDragging: !1, $event: b})
            }, v || 100))
        }, !1), c[0].addEventListener("drop", function (b) {
            if (!l() && i.shouldUpdateOn("drop", d, a)) {
                b.preventDefault(), u(a) && b.stopPropagation(), s && c.removeClass(s), s = null;
                var e, f = b.dataTransfer.items;
                try {
                    e = b.dataTransfer && b.dataTransfer.getData && b.dataTransfer.getData("text/html")
                } catch (a) {
                }
                p(f, b.dataTransfer.files, r("ngfAllowDir", a) !== !1, r("multiple") || r("ngfMultiple", a)).then(function (a) {
                    a.length ? m(a, b) : n("dropUrl", e).then(function (a) {
                        m(a, b)
                    })
                })
            }
        }, !1), c[0].addEventListener("paste", function (b) {
            if (navigator.userAgent.toLowerCase().indexOf("firefox") > -1 && r("ngfEnableFirefoxPaste", a) && b.preventDefault(), !l() && i.shouldUpdateOn("paste", d, a)) {
                var c = [], e = b.clipboardData || b.originalEvent.clipboardData;
                if (e && e.items)for (var f = 0; f < e.items.length; f++)e.items[f].type.indexOf("image") !== -1 && c.push(e.items[f].getAsFile());
                c.length ? m(c, b) : n("pasteUrl", e).then(function (a) {
                    m(a, b)
                })
            }
        }, !1), navigator.userAgent.toLowerCase().indexOf("firefox") > -1 && r("ngfEnableFirefoxPaste", a) && (c.attr("contenteditable", !0), c.on("keypress", function (a) {
            a.metaKey || a.ctrlKey || a.preventDefault()
        }))
    }

    function b() {
        var a = document.createElement("div");
        return "draggable" in a && "ondrop" in a && !/Edge\/12./i.test(navigator.userAgent)
    }

    ngFileUpload.directive("ngfDrop", ["$parse", "$timeout", "$location", "Upload", "$http", "$q", function (b, c, d, e, f, g) {
        return {
            restrict: "AEC", require: "?ngModel", link: function (h, i, j, k) {
                a(h, i, j, k, b, c, d, e, f, g)
            }
        }
    }]), ngFileUpload.directive("ngfNoFileDrop", function () {
        return function (a, c) {
            b() && c.css("display", "none")
        }
    }), ngFileUpload.directive("ngfDropAvailable", ["$parse", "$timeout", "Upload", function (a, c, d) {
        return function (e, f, g) {
            if (b()) {
                var h = a(d.attrGetter("ngfDropAvailable", g));
                c(function () {
                    h(e), h.assign && h.assign(e, !0)
                })
            }
        }
    }])
}(), ngFileUpload.service("UploadExif", ["UploadResize", "$q", function (a, b) {
    function c(a, b, c, d) {
        switch (b) {
            case 2:
                return a.transform(-1, 0, 0, 1, c, 0);
            case 3:
                return a.transform(-1, 0, 0, -1, c, d);
            case 4:
                return a.transform(1, 0, 0, -1, 0, d);
            case 5:
                return a.transform(0, 1, 1, 0, 0, 0);
            case 6:
                return a.transform(0, 1, -1, 0, d, 0);
            case 7:
                return a.transform(0, -1, -1, 0, d, c);
            case 8:
                return a.transform(0, -1, 1, 0, 0, c)
        }
    }

    function d(a) {
        for (var b = "", c = new Uint8Array(a), d = c.byteLength, e = 0; e < d; e++)b += String.fromCharCode(c[e]);
        return window.btoa(b)
    }

    var e = a;
    return e.isExifSupported = function () {
        return window.FileReader && (new FileReader).readAsArrayBuffer && e.isResizeSupported()
    }, e.readOrientation = function (a) {
        var c = b.defer(), d = new FileReader, e = a.slice ? a.slice(0, 65536) : a;
        return d.readAsArrayBuffer(e), d.onerror = function (a) {
            return c.reject(a)
        }, d.onload = function (a) {
            var b = {orientation: 1}, d = new DataView(this.result);
            if (65496 !== d.getUint16(0, !1))return c.resolve(b);
            for (var e = d.byteLength, f = 2; f < e;) {
                var g = d.getUint16(f, !1);
                if (f += 2, 65505 === g) {
                    if (1165519206 !== d.getUint32(f += 2, !1))return c.resolve(b);
                    var h = 18761 === d.getUint16(f += 6, !1);
                    f += d.getUint32(f + 4, h);
                    var i = d.getUint16(f, h);
                    f += 2;
                    for (var j = 0; j < i; j++)if (274 === d.getUint16(f + 12 * j, h)) {
                        var k = d.getUint16(f + 12 * j + 8, h);
                        return k >= 2 && k <= 8 && (d.setUint16(f + 12 * j + 8, 1, h), b.fixedArrayBuffer = a.target.result), b.orientation = k, c.resolve(b)
                    }
                } else {
                    if (65280 !== (65280 & g))break;
                    f += d.getUint16(f, !1)
                }
            }
            return c.resolve(b)
        }, c.promise
    }, e.applyExifRotation = function (a) {
        if (0 !== a.type.indexOf("image/jpeg"))return e.emptyPromise(a);
        var f = b.defer();
        return e.readOrientation(a).then(function (b) {
            return b.orientation < 2 || b.orientation > 8 ? f.resolve(a) : void e.dataUrl(a, !0).then(function (g) {
                var h = document.createElement("canvas"), i = document.createElement("img");
                i.onload = function () {
                    try {
                        h.width = b.orientation > 4 ? i.height : i.width, h.height = b.orientation > 4 ? i.width : i.height;
                        var g = h.getContext("2d");
                        c(g, b.orientation, i.width, i.height), g.drawImage(i, 0, 0);
                        var j = h.toDataURL(a.type || "image/WebP", .934);
                        j = e.restoreExif(d(b.fixedArrayBuffer), j);
                        var k = e.dataUrltoBlob(j, a.name);
                        f.resolve(k)
                    } catch (a) {
                        return f.reject(a)
                    }
                }, i.onerror = function () {
                    f.reject()
                }, i.src = g
            }, function (a) {
                f.reject(a)
            })
        }, function (a) {
            f.reject(a)
        }), f.promise
    }, e.restoreExif = function (a, b) {
        var c = {};
        return c.KEY_STR = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=", c.encode64 = function (a) {
            var b, c, d, e, f, g = "", h = "", i = "", j = 0;
            do b = a[j++], c = a[j++], h = a[j++], d = b >> 2, e = (3 & b) << 4 | c >> 4, f = (15 & c) << 2 | h >> 6, i = 63 & h, isNaN(c) ? f = i = 64 : isNaN(h) && (i = 64), g = g + this.KEY_STR.charAt(d) + this.KEY_STR.charAt(e) + this.KEY_STR.charAt(f) + this.KEY_STR.charAt(i), b = c = h = "", d = e = f = i = ""; while (j < a.length);
            return g
        }, c.restore = function (a, b) {
            a.match("data:image/jpeg;base64,") && (a = a.replace("data:image/jpeg;base64,", ""));
            var c = this.decode64(a), d = this.slice2Segments(c), e = this.exifManipulation(b, d);
            return "data:image/jpeg;base64," + this.encode64(e)
        }, c.exifManipulation = function (a, b) {
            var c = this.getExifArray(b), d = this.insertExif(a, c);
            return new Uint8Array(d)
        }, c.getExifArray = function (a) {
            for (var b, c = 0; c < a.length; c++)if (b = a[c], 255 === b[0] & 225 === b[1])return b;
            return []
        }, c.insertExif = function (a, b) {
            var c = a.replace("data:image/jpeg;base64,", ""), d = this.decode64(c), e = d.indexOf(255, 3), f = d.slice(0, e), g = d.slice(e), h = f;
            return h = h.concat(b), h = h.concat(g)
        }, c.slice2Segments = function (a) {
            for (var b = 0, c = []; ;) {
                if (255 === a[b] & 218 === a[b + 1])break;
                if (255 === a[b] & 216 === a[b + 1])b += 2; else {
                    var d = 256 * a[b + 2] + a[b + 3], e = b + d + 2, f = a.slice(b, e);
                    c.push(f), b = e
                }
                if (b > a.length)break
            }
            return c
        }, c.decode64 = function (a) {
            var b, c, d, e, f, g = "", h = "", i = 0, j = [], k = /[^A-Za-z0-9\+\/\=]/g;
            k.exec(a) && console.log("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, NaNExpect errors in decoding."), a = a.replace(/[^A-Za-z0-9\+\/\=]/g, "");
            do d = this.KEY_STR.indexOf(a.charAt(i++)), e = this.KEY_STR.indexOf(a.charAt(i++)), f = this.KEY_STR.indexOf(a.charAt(i++)), h = this.KEY_STR.indexOf(a.charAt(i++)), b = d << 2 | e >> 4, c = (15 & e) << 4 | f >> 2, g = (3 & f) << 6 | h, j.push(b), 64 !== f && j.push(c), 64 !== h && j.push(g), b = c = g = "", d = e = f = h = ""; while (i < a.length);
            return j
        }, c.restore(a, b)
    }, e
}]), function (a) {
    "use strict";
    var b = a.HTMLCanvasElement && a.HTMLCanvasElement.prototype, c = a.Blob && function () {
            try {
                return Boolean(new Blob)
            } catch (a) {
                return !1
            }
        }(), d = c && a.Uint8Array && function () {
            try {
                return 100 === new Blob([new Uint8Array(100)]).size
            } catch (a) {
                return !1
            }
        }(), e = a.BlobBuilder || a.WebKitBlobBuilder || a.MozBlobBuilder || a.MSBlobBuilder, f = (c || e) && a.atob && a.ArrayBuffer && a.Uint8Array && function (a) {
            var b, f, g, h, i, j;
            for (b = a.split(",")[0].indexOf("base64") >= 0 ? atob(a.split(",")[1]) : decodeURIComponent(a.split(",")[1]), f = new ArrayBuffer(b.length), g = new Uint8Array(f), h = 0; h < b.length; h += 1)g[h] = b.charCodeAt(h);
            return i = a.split(",")[0].split(":")[1].split(";")[0], c ? new Blob([d ? g : f], {type: i}) : (j = new e, j.append(f), j.getBlob(i))
        };
    a.HTMLCanvasElement && !b.toBlob && (b.mozGetAsFile ? b.toBlob = function (a, c, d) {
        a(d && b.toDataURL && f ? f(this.toDataURL(c, d)) : this.mozGetAsFile("blob", c))
    } : b.toDataURL && f && (b.toBlob = function (a, b, c) {
        a(f(this.toDataURL(b, c)))
    })), "function" == typeof define && define.amd ? define(function () {
        return f
    }) : a.dataURLtoBlob = f
}(this), function (a) {
    "use strict";
    "function" == typeof define && define.amd ? define(["jquery"], a) : a(window.jQuery)
}(function (a) {
    "use strict";
    var b = 0;
    a.ajaxTransport("iframe", function (c) {
        if (c.async) {
            var d, e, f, g = c.initialIframeSrc || "javascript:false;";
            return {
                send: function (h, i) {
                    d = a('<form style="display:none;"></form>'), d.attr("accept-charset", c.formAcceptCharset), f = /\?/.test(c.url) ? "&" : "?", "DELETE" === c.type ? (c.url = c.url + f + "_method=DELETE", c.type = "POST") : "PUT" === c.type ? (c.url = c.url + f + "_method=PUT", c.type = "POST") : "PATCH" === c.type && (c.url = c.url + f + "_method=PATCH", c.type = "POST"), b += 1, e = a('<iframe src="' + g + '" name="iframe-transport-' + b + '"></iframe>').bind("load", function () {
                        var b, f = a.isArray(c.paramName) ? c.paramName : [c.paramName];
                        e.unbind("load").bind("load", function () {
                            var b;
                            try {
                                if (b = e.contents(), !b.length || !b[0].firstChild)throw new Error
                            } catch (a) {
                                b = void 0
                            }
                            i(200, "success", {iframe: b}), a('<iframe src="' + g + '"></iframe>').appendTo(d), window.setTimeout(function () {
                                d.remove()
                            }, 0)
                        }), d.prop("target", e.prop("name")).prop("action", c.url).prop("method", c.type), c.formData && a.each(c.formData, function (b, c) {
                            a('<input type="hidden"/>').prop("name", c.name).val(c.value).appendTo(d)
                        }), c.fileInput && c.fileInput.length && "POST" === c.type && (b = c.fileInput.clone(), c.fileInput.after(function (a) {
                            return b[a]
                        }), c.paramName && c.fileInput.each(function (b) {
                            a(this).prop("name", f[b] || c.paramName)
                        }), d.append(c.fileInput).prop("enctype", "multipart/form-data").prop("encoding", "multipart/form-data")), d.submit(), b && b.length && c.fileInput.each(function (c, d) {
                            var e = a(b[c]);
                            a(d).prop("name", e.prop("name")), e.replaceWith(d)
                        })
                    }), d.append(e).appendTo(document.body)
                }, abort: function () {
                    e && e.unbind("load").prop("src", g), d && d.remove()
                }
            }
        }
    }), a.ajaxSetup({
        converters: {
            "iframe text": function (b) {
                return b && a(b[0].body).text()
            }, "iframe json": function (b) {
                return b && a.parseJSON(a(b[0].body).text())
            }, "iframe html": function (b) {
                return b && a(b[0].body).html()
            }, "iframe xml": function (b) {
                var c = b && b[0];
                return c && a.isXMLDoc(c) ? c : a.parseXML(c.XMLDocument && c.XMLDocument.xml || a(c.body).html())
            }, "iframe script": function (b) {
                return b && a.globalEval(a(b[0].body).text())
            }
        }
    })
}), function (a) {
    a.PaginationCalculator = function (a, b) {
        this.maxentries = a, this.opts = b
    }, a.extend(a.PaginationCalculator.prototype, {
        numPages: function () {
            return Math.ceil(this.maxentries / this.opts.items_per_page)
        }, getInterval: function (a) {
            var b = Math.floor(this.opts.num_display_entries / 2), c = this.numPages(), d = c - this.opts.num_display_entries, e = a > b ? Math.max(Math.min(a - b, d), 0) : 0, f = a > b ? Math.min(a + b + this.opts.num_display_entries % 2, c) : Math.min(this.opts.num_display_entries, c);
            return {start: e, end: f}
        }
    }), a.PaginationRenderers = {}, a.PaginationRenderers.defaultRenderer = function (b, c) {
        this.maxentries = b, this.opts = c, this.pc = new a.PaginationCalculator(b, c)
    }, a.extend(a.PaginationRenderers.defaultRenderer.prototype, {
        createLink: function (b, c, d) {
            var e, f = this.pc.numPages();
            return b = b < 0 ? 0 : b < f ? b : f - 1, d = a.extend({
                text: b + 1,
                classes: ""
            }, d || {}), e = a(b == c ? isNaN(d.text) ? "<li class='disabled'><a>" + d.text + "</a></li>" : "<li class='active'><a>" + d.text + "</a></li>" : "<li><a href='" + this.opts.link_to.replace(/__id__/, b) + "'>" + d.text + "</a></li>"), d.classes && e.addClass(d.classes), e.data("page_id", b), e
        }, appendRange: function (a, b, c, d, e) {
            var f;
            for (f = c; f < d; f++)this.createLink(f, b, e).appendTo(a)
        }, getLinks: function (b, c) {
            b = parseInt(b);
            var d, e, f = this.pc.getInterval(b), g = this.pc.numPages(), h = a("<ul class='pagination'></ul>");
            return this.maxentries <= this.opts.items_per_page ? h : (this.opts.prev_text && (b > 0 || this.opts.prev_show_always) && h.append(this.createLink(b - 1, b, {
                text: this.opts.prev_text,
                classes: "prev"
            })), f.start > 0 && this.opts.num_edge_entries > 0 && (e = Math.min(this.opts.num_edge_entries, f.start), this.appendRange(h, b, 0, e, {classes: "sp"}), this.opts.num_edge_entries < f.start && this.opts.ellipse_text && a("<li><a>" + this.opts.ellipse_text + "</a></li>").appendTo(h)), this.appendRange(h, b, f.start, f.end), f.end < g && this.opts.num_edge_entries > 0 && (g - this.opts.num_edge_entries > f.end && this.opts.ellipse_text && a("<li><a>" + this.opts.ellipse_text + "</a></li>").appendTo(h), d = Math.max(g - this.opts.num_edge_entries, f.end), this.appendRange(h, b, d, g, {classes: "ep"})), this.opts.next_text && (b < g - 1 || this.opts.next_show_always) && h.append(this.createLink(b + 1, b, {
                text: this.opts.next_text,
                classes: "next"
            })), a("li:not(.disabled, .active) a", h).click(c), h)
        }
    }), a.fn.pagination = function (b, c) {
        function d(b) {
            var c = a(b.target).parent().data("page_id"), d = e(c);
            return d || b.stopPropagation(), d
        }

        function e(a) {
            i.data("current_page", a), g = f.getLinks(a, d), i.empty(), g.appendTo(i);
            var b = c.callback(a, i);
            return b
        }

        c = a.extend({
            items_per_page: 10,
            num_display_entries: 11,
            current_page: 0,
            num_edge_entries: 0,
            link_to: "javascript:;",
            prev_text: "Prev",
            next_text: "Next",
            ellipse_text: "...",
            prev_show_always: !0,
            next_show_always: !0,
            renderer: "defaultRenderer",
            load_first_page: !1,
            callback: function () {
                return !1
            }
        }, c || {});
        var f, g, h, i = this;
        if (h = c.current_page, i.data("current_page", h), b = !b || b < 0 ? 1 : b, c.items_per_page = !c.items_per_page || c.items_per_page < 0 ? 1 : c.items_per_page, !a.PaginationRenderers[c.renderer])throw new ReferenceError("Pagination renderer '" + c.renderer + "' was not found in jQuery.PaginationRenderers object.");
        f = new a.PaginationRenderers[c.renderer](b, c);
        var j = new a.PaginationCalculator(b, c), k = j.numPages();
        i.bind("setPage", {numPages: k}, function (a, b) {
            if (b >= 0 && b < a.data.numPages)return e(b), !1
        }), i.bind("prevPage", function (b) {
            var c = a(this).data("current_page");
            return c > 0 && e(c - 1), !1
        }), i.bind("nextPage", {numPages: k}, function (b) {
            var c = a(this).data("current_page");
            return c < b.data.numPages - 1 && e(c + 1), !1
        }), i.bind("currentPage", function (b) {
            var c = a(this).data("current_page");
            return e(c), !1
        }), g = f.getLinks(h, d), i.empty(), g.appendTo(i), c.load_first_page && c.callback(h, i)
    }
}(jQuery), function (a, b) {
    "function" == typeof define && define.amd ? define(["jquery"], function (c) {
        return a.returnExportsGlobal = b(c)
    }) : "object" == typeof exports ? module.exports = b(require("jquery")) : b(jQuery)
}(this, function (a) {
    "use strict";
    var b, c, d, e, f, g, h, i, j, k, l;
    k = "caret", b = function () {
        function b(a) {
            this.$inputor = a, this.domInputor = this.$inputor[0]
        }

        return b.prototype.setPos = function (a) {
            return this.domInputor
        }, b.prototype.getIEPosition = function () {
            return this.getPosition()
        }, b.prototype.getPosition = function () {
            var a, b;
            return b = this.getOffset(), a = this.$inputor.offset(), b.left -= a.left, b.top -= a.top, b
        }, b.prototype.getOldIEPos = function () {
            var a, b;
            return b = h.selection.createRange(), a = h.body.createTextRange(), a.moveToElementText(this.domInputor), a.setEndPoint("EndToEnd", b), a.text.length
        }, b.prototype.getPos = function () {
            var a, b, c;
            return (c = this.range()) ? (a = c.cloneRange(), a.selectNodeContents(this.domInputor), a.setEnd(c.endContainer, c.endOffset), b = a.toString().length, a.detach(), b) : h.selection ? this.getOldIEPos() : void 0
        }, b.prototype.getOldIEOffset = function () {
            var a, b;
            return a = h.selection.createRange().duplicate(), a.moveStart("character", -1), b = a.getBoundingClientRect(), {
                height: b.bottom - b.top,
                left: b.left,
                top: b.top
            }
        }, b.prototype.getOffset = function (b) {
            var c, d, e, f, g;
            return j.getSelection && (e = this.range()) ? (e.endOffset - 1 > 0 && e.endContainer === !this.domInputor && (c = e.cloneRange(), c.setStart(e.endContainer, e.endOffset - 1), c.setEnd(e.endContainer, e.endOffset), f = c.getBoundingClientRect(), d = {
                height: f.height,
                left: f.left + f.width,
                top: f.top
            }, c.detach()), d && 0 !== (null != d ? d.height : void 0) || (c = e.cloneRange(), g = a(h.createTextNode("|")), c.insertNode(g[0]), c.selectNode(g[0]), f = c.getBoundingClientRect(), d = {
                height: f.height,
                left: f.left,
                top: f.top
            }, g.remove(), c.detach())) : h.selection && (d = this.getOldIEOffset()), d && (d.top += a(j).scrollTop(), d.left += a(j).scrollLeft()), d
        }, b.prototype.range = function () {
            var a;
            if (j.getSelection)return a = j.getSelection(), a.rangeCount > 0 ? a.getRangeAt(0) : null
        }, b
    }(), c = function () {
        function b(a) {
            this.$inputor = a, this.domInputor = this.$inputor[0]
        }

        return b.prototype.getIEPos = function () {
            var a, b, c, d, e, f, g;
            return b = this.domInputor, f = h.selection.createRange(), e = 0, f && f.parentElement() === b && (d = b.value.replace(/\r\n/g, "\n"), c = d.length, g = b.createTextRange(), g.moveToBookmark(f.getBookmark()), a = b.createTextRange(), a.collapse(!1), e = g.compareEndPoints("StartToEnd", a) > -1 ? c : -g.moveStart("character", -c)), e
        }, b.prototype.getPos = function () {
            return h.selection ? this.getIEPos() : this.domInputor.selectionStart
        }, b.prototype.setPos = function (a) {
            var b, c;
            return b = this.domInputor, h.selection ? (c = b.createTextRange(), c.move("character", a), c.select()) : b.setSelectionRange && b.setSelectionRange(a, a), b
        }, b.prototype.getIEOffset = function (a) {
            var b, c, d, e;
            return c = this.domInputor.createTextRange(), a || (a = this.getPos()), c.move("character", a), d = c.boundingLeft, e = c.boundingTop, b = c.boundingHeight, {
                left: d,
                top: e,
                height: b
            }
        }, b.prototype.getOffset = function (b) {
            var c, d, e;
            return c = this.$inputor, h.selection ? (d = this.getIEOffset(b), d.top += a(j).scrollTop() + c.scrollTop(), d.left += a(j).scrollLeft() + c.scrollLeft(), d) : (d = c.offset(), e = this.getPosition(b), d = {
                left: d.left + e.left - c.scrollLeft(),
                top: d.top + e.top - c.scrollTop(),
                height: e.height
            })
        }, b.prototype.getPosition = function (a) {
            var b, c, e, f, g, h, i;
            return b = this.$inputor, f = function (a) {
                return a = a.replace(/<|>|`|"|&/g, "?").replace(/\r\n|\r|\n/g, "<br/>"), /firefox/i.test(navigator.userAgent) && (a = a.replace(/\s/g, "&nbsp;")), a
            }, void 0 === a && (a = this.getPos()), i = b.val().slice(0, a), e = b.val().slice(a), g = "<span style='position: relative; display: inline;'>" + f(i) + "</span>", g += "<span id='caret' style='position: relative; display: inline;'>|</span>", g += "<span style='position: relative; display: inline;'>" + f(e) + "</span>", h = new d(b), c = h.create(g).rect()
        }, b.prototype.getIEPosition = function (a) {
            var b, c, d, e, f;
            return d = this.getIEOffset(a), c = this.$inputor.offset(), e = d.left - c.left, f = d.top - c.top, b = d.height, {
                left: e,
                top: f,
                height: b
            }
        }, b
    }(), d = function () {
        function b(a) {
            this.$inputor = a
        }

        return b.prototype.css_attr = ["borderBottomWidth", "borderLeftWidth", "borderRightWidth", "borderTopStyle", "borderRightStyle", "borderBottomStyle", "borderLeftStyle", "borderTopWidth", "boxSizing", "fontFamily", "fontSize", "fontWeight", "height", "letterSpacing", "lineHeight", "marginBottom", "marginLeft", "marginRight", "marginTop", "outlineWidth", "overflow", "overflowX", "overflowY", "paddingBottom", "paddingLeft", "paddingRight", "paddingTop", "textAlign", "textOverflow", "textTransform", "whiteSpace", "wordBreak", "wordWrap"], b.prototype.mirrorCss = function () {
            var b, c = this;
            return b = {
                position: "absolute",
                left: -9999,
                top: 0,
                zIndex: -2e4
            }, "TEXTAREA" === this.$inputor.prop("tagName") && this.css_attr.push("width"), a.each(this.css_attr, function (a, d) {
                return b[d] = c.$inputor.css(d)
            }), b
        }, b.prototype.create = function (b) {
            return this.$mirror = a("<div></div>"), this.$mirror.css(this.mirrorCss()), this.$mirror.html(b), this.$inputor.after(this.$mirror), this
        }, b.prototype.rect = function () {
            var a, b, c;
            return a = this.$mirror.find("#caret"), b = a.position(), c = {
                left: b.left,
                top: b.top,
                height: a.height()
            }, this.$mirror.remove(), c
        }, b
    }(), e = {
        contentEditable: function (a) {
            return !(!a[0].contentEditable || "true" !== a[0].contentEditable)
        }
    }, g = {
        pos: function (a) {
            return a || 0 === a ? this.setPos(a) : this.getPos()
        }, position: function (a) {
            return h.selection ? this.getIEPosition(a) : this.getPosition(a)
        }, offset: function (a) {
            var b;
            return b = this.getOffset(a)
        }
    }, h = null, j = null, i = null, l = function (a) {
        var b;
        return (b = null != a ? a.iframe : void 0) ? (i = b, j = b.contentWindow, h = b.contentDocument || j.document) : (i = void 0, j = window, h = document)
    }, f = function (a) {
        var b;
        h = a[0].ownerDocument, j = h.defaultView || h.parentWindow;
        try {
            return i = j.frameElement
        } catch (a) {
            b = a
        }
    }, a.fn.caret = function (d, f, h) {
        var i;
        return g[d] ? (a.isPlainObject(f) ? (l(f), f = void 0) : l(h), i = e.contentEditable(this) ? new b(this) : new c(this), g[d].apply(i, [f])) : a.error("Method " + d + " does not exist on jQuery.caret")
    }, a.fn.caret.EditableCaret = b, a.fn.caret.InputCaret = c, a.fn.caret.Utils = e, a.fn.caret.apis = g
}), function (a, b) {
    "function" == typeof define && define.amd ? define(["jquery"], function (a) {
        return b(a)
    }) : "object" == typeof exports ? module.exports = b(require("jquery")) : b(jQuery)
}(this, function (a) {
    var b, c;
    c = {
        DOWN: 40,
        UP: 38,
        ESC: 27,
        TAB: 9,
        ENTER: 13,
        CTRL: 17,
        A: 65,
        P: 80,
        N: 78,
        LEFT: 37,
        UP: 38,
        RIGHT: 39,
        DOWN: 40,
        BACKSPACE: 8,
        SPACE: 32
    }, b = {
        beforeSave: function (a) {
            return e.arrayToDefaultHash(a)
        }, matcher: function (a, b, c, d) {
            var e, f, g, h, i;
            return a = a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&"), c && (a = "(?:^|\\s)" + a), e = decodeURI("%C3%80"), f = decodeURI("%C3%BF"), i = d ? " " : "", h = new RegExp(a + "([A-Za-z" + e + "-" + f + "0-9_" + i + "'.+-]*)$|" + a + "([^\\x00-\\xff]*)$", "gi"), g = h.exec(b), g ? g[2] || g[1] : null
        }, filter: function (a, b, c) {
            var d, e, f, g;
            for (d = [], e = 0, g = b.length; e < g; e++)f = b[e], ~new String(f[c]).toLowerCase().indexOf(a.toLowerCase()) && d.push(f);
            return d
        }, remoteFilter: null,
        sorter: function (a, b, c) {
            var d, e, f, g;
            if (!a)return b;
            for (d = [], e = 0, g = b.length; e < g; e++)f = b[e], f.atwho_order = new String(f[c]).toLowerCase().indexOf(a.toLowerCase()), f.atwho_order > -1 && d.push(f);
            return d.sort(function (a, b) {
                return a.atwho_order - b.atwho_order
            })
        }, tplEval: function (a, b) {
            var c, d;
            d = a;
            try {
                return "string" != typeof a && (d = a(b)), d.replace(/\$\{([^\}]*)\}/g, function (a, c, d) {
                    return b[c]
                })
            } catch (a) {
                return c = a, ""
            }
        }, highlighter: function (a, b) {
            var c;
            return b ? (c = new RegExp(">\\s*(\\w*?)(" + b.replace("+", "\\+") + ")(\\w*)\\s*<", "ig"), a.replace(c, function (a, b, c, d) {
                return "> " + b + "<strong>" + c + "</strong>" + d + " <"
            })) : a
        }, beforeInsert: function (a, b, c) {
            return a
        }, beforeReposition: function (a) {
            return a
        }, afterMatchFailed: function (a, b) {
        }
    };
    var d;
    d = function () {
        function b(b) {
            this.currentFlag = null, this.controllers = {}, this.aliasMaps = {}, this.$inputor = a(b), this.setupRootElement(), this.listen()
        }

        return b.prototype.createContainer = function (b) {
            var c;
            return null != (c = this.$el) && c.remove(), a(b.body).append(this.$el = a("<div class='atwho-container'></div>"))
        }, b.prototype.setupRootElement = function (b, c) {
            var d;
            if (null == c && (c = !1), b)this.window = b.contentWindow, this.document = b.contentDocument || this.window.document, this.iframe = b; else {
                this.document = this.$inputor[0].ownerDocument, this.window = this.document.defaultView || this.document.parentWindow;
                try {
                    this.iframe = this.window.frameElement
                } catch (b) {
                    if (d = b, this.iframe = null, a.fn.atwho.debug)throw new Error("iframe auto-discovery is failed.\nPlease use `setIframe` to set the target iframe manually.\n" + d)
                }
            }
            return this.createContainer((this.iframeAsRoot = c) ? this.document : document)
        }, b.prototype.controller = function (a) {
            var b, c, d, e;
            if (this.aliasMaps[a])c = this.controllers[this.aliasMaps[a]]; else {
                e = this.controllers;
                for (d in e)if (b = e[d], d === a) {
                    c = b;
                    break
                }
            }
            return c ? c : this.controllers[this.currentFlag]
        }, b.prototype.setContextFor = function (a) {
            return this.currentFlag = a, this
        }, b.prototype.reg = function (a, b) {
            var c, d;
            return d = (c = this.controllers)[a] || (c[a] = this.$inputor.is("[contentEditable]") ? new j(this, a) : new g(this, a)), b.alias && (this.aliasMaps[b.alias] = a), d.init(b), this
        }, b.prototype.listen = function () {
            return this.$inputor.on("compositionstart", function (a) {
                return function (b) {
                    var c;
                    return null != (c = a.controller()) && c.view.hide(), a.isComposing = !0, null
                }
            }(this)).on("compositionend", function (a) {
                return function (b) {
                    return a.isComposing = !1, null
                }
            }(this)).on("keyup.atwhoInner", function (a) {
                return function (b) {
                    return a.onKeyup(b)
                }
            }(this)).on("keydown.atwhoInner", function (a) {
                return function (b) {
                    return a.onKeydown(b)
                }
            }(this)).on("blur.atwhoInner", function (a) {
                return function (b) {
                    var c;
                    if (c = a.controller())return c.expectedQueryCBId = null, c.view.hide(b, c.getOpt("displayTimeout"))
                }
            }(this)).on("click.atwhoInner", function (a) {
                return function (b) {
                    return a.dispatch(b)
                }
            }(this)).on("scroll.atwhoInner", function (a) {
                return function () {
                    var b;
                    return b = a.$inputor.scrollTop(), function (c) {
                        var d, e;
                        return d = c.target.scrollTop, b !== d && null != (e = a.controller()) && e.view.hide(c), b = d, !0
                    }
                }
            }(this)())
        }, b.prototype.shutdown = function () {
            var a, b, c;
            c = this.controllers;
            for (a in c)b = c[a], b.destroy(), delete this.controllers[a];
            return this.$inputor.off(".atwhoInner"), this.$el.remove()
        }, b.prototype.dispatch = function (a) {
            var b, c, d, e;
            d = this.controllers, e = [];
            for (b in d)c = d[b], e.push(c.lookUp(a));
            return e
        }, b.prototype.onKeyup = function (b) {
            var d;
            switch (b.keyCode) {
                case c.ESC:
                    b.preventDefault(), null != (d = this.controller()) && d.view.hide();
                    break;
                case c.DOWN:
                case c.UP:
                case c.CTRL:
                case c.ENTER:
                    a.noop();
                    break;
                case c.P:
                case c.N:
                    b.ctrlKey || this.dispatch(b);
                    break;
                default:
                    this.dispatch(b)
            }
        }, b.prototype.onKeydown = function (b) {
            var d, e;
            if (e = null != (d = this.controller()) ? d.view : void 0, e && e.visible())switch (b.keyCode) {
                case c.ESC:
                    b.preventDefault(), e.hide(b);
                    break;
                case c.UP:
                    b.preventDefault(), e.prev();
                    break;
                case c.DOWN:
                    b.preventDefault(), e.next();
                    break;
                case c.P:
                    if (!b.ctrlKey)return;
                    b.preventDefault(), e.prev();
                    break;
                case c.N:
                    if (!b.ctrlKey)return;
                    b.preventDefault(), e.next();
                    break;
                case c.TAB:
                case c.ENTER:
                case c.SPACE:
                    if (!e.visible())return;
                    if (!this.controller().getOpt("spaceSelectsMatch") && b.keyCode === c.SPACE)return;
                    if (!this.controller().getOpt("tabSelectsMatch") && b.keyCode === c.TAB)return;
                    e.highlighted() ? (b.preventDefault(), e.choose(b)) : e.hide(b);
                    break;
                default:
                    a.noop()
            }
        }, b
    }();
    var e, f = [].slice;
    e = function () {
        function c(b, c) {
            this.app = b, this.at = c, this.$inputor = this.app.$inputor, this.id = this.$inputor[0].id || this.uid(), this.expectedQueryCBId = null, this.setting = null, this.query = null, this.pos = 0, this.range = null, 0 === (this.$el = a("#atwho-ground-" + this.id, this.app.$el)).length && this.app.$el.append(this.$el = a("<div id='atwho-ground-" + this.id + "'></div>")), this.model = new k(this), this.view = new l(this)
        }

        return c.prototype.uid = function () {
            return (Math.random().toString(16) + "000000000").substr(2, 8) + (new Date).getTime()
        }, c.prototype.init = function (b) {
            return this.setting = a.extend({}, this.setting || a.fn.atwho.default, b), this.view.init(), this.model.reload(this.setting.data)
        }, c.prototype.destroy = function () {
            return this.trigger("beforeDestroy"), this.model.destroy(), this.view.destroy(), this.$el.remove()
        }, c.prototype.callDefault = function () {
            var c, d, e;
            e = arguments[0], c = 2 <= arguments.length ? f.call(arguments, 1) : [];
            try {
                return b[e].apply(this, c)
            } catch (b) {
                return d = b, a.error(d + " Or maybe At.js doesn't have function " + e)
            }
        }, c.prototype.trigger = function (a, b) {
            var c, d;
            return null == b && (b = []), b.push(this), c = this.getOpt("alias"), d = c ? a + "-" + c + ".atwho" : a + ".atwho", this.$inputor.trigger(d, b)
        }, c.prototype.callbacks = function (a) {
            return this.getOpt("callbacks")[a] || b[a]
        }, c.prototype.getOpt = function (a, b) {
            var c;
            try {
                return this.setting[a]
            } catch (a) {
                return c = a, null
            }
        }, c.prototype.insertContentFor = function (b) {
            var c, d;
            return d = this.getOpt("insertTpl"), c = a.extend({}, b.data("item-data"), {"atwho-at": this.at}), this.callbacks("tplEval").call(this, d, c, "onInsert")
        }, c.prototype.renderView = function (a) {
            var b;
            return b = this.getOpt("searchKey"), a = this.callbacks("sorter").call(this, this.query.text, a.slice(0, 1001), b), this.view.render(a.slice(0, this.getOpt("limit")))
        }, c.arrayToDefaultHash = function (b) {
            var c, d, e, f;
            if (!a.isArray(b))return b;
            for (f = [], c = 0, e = b.length; c < e; c++)d = b[c], a.isPlainObject(d) ? f.push(d) : f.push({name: d});
            return f
        }, c.prototype.lookUp = function (a) {
            var b, c;
            if ((!a || "click" !== a.type || this.getOpt("lookUpOnClick")) && (!this.getOpt("suspendOnComposing") || !this.app.isComposing))return (b = this.catchQuery(a)) ? (this.app.setContextFor(this.at), (c = this.getOpt("delay")) ? this._delayLookUp(b, c) : this._lookUp(b), b) : (this.expectedQueryCBId = null, b)
        }, c.prototype._delayLookUp = function (a, b) {
            var c, d;
            return c = Date.now ? Date.now() : (new Date).getTime(), this.previousCallTime || (this.previousCallTime = c), d = b - (c - this.previousCallTime), 0 < d && d < b ? (this.previousCallTime = c, this._stopDelayedCall(), this.delayedCallTimeout = setTimeout(function (b) {
                return function () {
                    return b.previousCallTime = 0, b.delayedCallTimeout = null, b._lookUp(a)
                }
            }(this), b)) : (this._stopDelayedCall(), this.previousCallTime !== c && (this.previousCallTime = 0), this._lookUp(a))
        }, c.prototype._stopDelayedCall = function () {
            if (this.delayedCallTimeout)return clearTimeout(this.delayedCallTimeout), this.delayedCallTimeout = null
        }, c.prototype._generateQueryCBId = function () {
            return {}
        }, c.prototype._lookUp = function (b) {
            var c;
            return c = function (a, b) {
                if (a === this.expectedQueryCBId)return b && b.length > 0 ? this.renderView(this.constructor.arrayToDefaultHash(b)) : this.view.hide()
            }, this.expectedQueryCBId = this._generateQueryCBId(), this.model.query(b.text, a.proxy(c, this, this.expectedQueryCBId))
        }, c
    }();
    var g, h = function (a, b) {
        function c() {
            this.constructor = a
        }

        for (var d in b)i.call(b, d) && (a[d] = b[d]);
        return c.prototype = b.prototype, a.prototype = new c, a.__super__ = b.prototype, a
    }, i = {}.hasOwnProperty;
    g = function (b) {
        function c() {
            return c.__super__.constructor.apply(this, arguments)
        }

        return h(c, b), c.prototype.catchQuery = function () {
            var a, b, c, d, e, f, g;
            if (b = this.$inputor.val(), a = this.$inputor.caret("pos", {iframe: this.app.iframe}), g = b.slice(0, a), e = this.callbacks("matcher").call(this, this.at, g, this.getOpt("startWithSpace")), d = "string" == typeof e, !(d && e.length < this.getOpt("minLen", 0)))return d && e.length <= this.getOpt("maxLen", 20) ? (f = a - e.length, c = f + e.length, this.pos = f, e = {
                text: e,
                headPos: f,
                endPos: c
            }, this.trigger("matched", [this.at, e.text])) : (e = null, this.view.hide()), this.query = e
        }, c.prototype.rect = function () {
            var b, c, d;
            if (b = this.$inputor.caret("offset", this.pos - 1, {iframe: this.app.iframe}))return this.app.iframe && !this.app.iframeAsRoot && (c = a(this.app.iframe).offset(), b.left += c.left, b.top += c.top), d = this.app.document.selection ? 0 : 2, {
                left: b.left,
                top: b.top,
                bottom: b.top + b.height + d
            }
        }, c.prototype.insert = function (a, b) {
            var c, d, e, f, g;
            return c = this.$inputor, d = c.val(), e = d.slice(0, Math.max(this.query.headPos - this.at.length, 0)), f = "" === (f = this.getOpt("suffix")) ? f : f || " ", a += f, g = "" + e + a + d.slice(this.query.endPos || 0), c.val(g), c.caret("pos", e.length + a.length, {iframe: this.app.iframe}), c.is(":focus") || c.focus(), c.change()
        }, c
    }(e);
    var j, h = function (a, b) {
        function c() {
            this.constructor = a
        }

        for (var d in b)i.call(b, d) && (a[d] = b[d]);
        return c.prototype = b.prototype, a.prototype = new c, a.__super__ = b.prototype, a
    }, i = {}.hasOwnProperty;
    j = function (b) {
        function d() {
            return d.__super__.constructor.apply(this, arguments)
        }

        return h(d, b), d.prototype._getRange = function () {
            var a;
            if (a = this.app.window.getSelection(), a.rangeCount > 0)return a.getRangeAt(0)
        }, d.prototype._setRange = function (b, c, d) {
            if (null == d && (d = this._getRange()), d)return c = a(c)[0], "after" === b ? (d.setEndAfter(c), d.setStartAfter(c)) : (d.setEndBefore(c), d.setStartBefore(c)), d.collapse(!1), this._clearRange(d)
        }, d.prototype._clearRange = function (a) {
            var b;
            if (null == a && (a = this._getRange()), b = this.app.window.getSelection(), null == this.ctrl_a_pressed)return b.removeAllRanges(), b.addRange(a)
        }, d.prototype._movingEvent = function (a) {
            var b;
            return "click" === a.type || (b = a.which) === c.RIGHT || b === c.LEFT || b === c.UP || b === c.DOWN
        }, d.prototype._unwrap = function (b) {
            var c;
            return b = a(b).unwrap().get(0), (c = b.nextSibling) && c.nodeValue && (b.nodeValue += c.nodeValue, a(c).remove()), b
        }, d.prototype.catchQuery = function (b) {
            var d, e, f, g, h, i, j, k, l, m, n, o;
            if ((o = this._getRange()) && o.collapsed) {
                if (b.which === c.ENTER)return (e = a(o.startContainer).closest(".atwho-query")).contents().unwrap(), e.is(":empty") && e.remove(), (e = a(".atwho-query", this.app.document)).text(e.text()).contents().last().unwrap(), void this._clearRange();
                if (/firefox/i.test(navigator.userAgent)) {
                    if (a(o.startContainer).is(this.$inputor))return void this._clearRange();
                    b.which === c.BACKSPACE && o.startContainer.nodeType === document.ELEMENT_NODE && (l = o.startOffset - 1) >= 0 ? (f = o.cloneRange(), f.setStart(o.startContainer, l), a(f.cloneContents()).contents().last().is(".atwho-inserted") && (h = a(o.startContainer).contents().get(l), this._setRange("after", a(h).contents().last()))) : b.which === c.LEFT && o.startContainer.nodeType === document.TEXT_NODE && (d = a(o.startContainer.previousSibling), d.is(".atwho-inserted") && 0 === o.startOffset && this._setRange("after", d.contents().last()))
                }
                if (a(o.startContainer).closest(".atwho-inserted").addClass("atwho-query").siblings().removeClass("atwho-query"), (e = a(".atwho-query", this.app.document)).length > 0 && e.is(":empty") && 0 === e.text().length && e.remove(), this._movingEvent(b) || e.removeClass("atwho-inserted"), e.length > 0)switch (b.which) {
                    case c.LEFT:
                        return this._setRange("before", e.get(0), o), void e.removeClass("atwho-query");
                    case c.RIGHT:
                        return this._setRange("after", e.get(0).nextSibling, o), void e.removeClass("atwho-query")
                }
                if (e.length > 0 && (n = e.attr("data-atwho-at-query")) && (e.empty().html(n).attr("data-atwho-at-query", null), this._setRange("after", e.get(0), o)), f = o.cloneRange(), f.setStart(o.startContainer, 0), k = this.callbacks("matcher").call(this, this.at, f.toString(), this.getOpt("startWithSpace")), i = "string" == typeof k, 0 === e.length && i && (g = o.startOffset - this.at.length - k.length) >= 0 && (o.setStart(o.startContainer, g), e = a("<span/>", this.app.document).attr(this.getOpt("editableAtwhoQueryAttrs")).addClass("atwho-query"), o.surroundContents(e.get(0)), j = e.contents().last().get(0), /firefox/i.test(navigator.userAgent) ? (o.setStart(j, j.length), o.setEnd(j, j.length), this._clearRange(o)) : this._setRange("after", j, o)), !(i && k.length < this.getOpt("minLen", 0)))return i && k.length <= this.getOpt("maxLen", 20) ? (m = {
                    text: k,
                    el: e
                }, this.trigger("matched", [this.at, m.text]), this.query = m) : (this.view.hide(), this.query = {el: e}, e.text().indexOf(this.at) >= 0 && (this._movingEvent(b) && e.hasClass("atwho-inserted") ? e.removeClass("atwho-query") : !1 !== this.callbacks("afterMatchFailed").call(this, this.at, e) && this._setRange("after", this._unwrap(e.text(e.text()).contents().first()))), null)
            }
        }, d.prototype.rect = function () {
            var b, c, d;
            return d = this.query.el.offset(), this.app.iframe && !this.app.iframeAsRoot && (c = (b = a(this.app.iframe)).offset(), d.left += c.left - this.$inputor.scrollLeft(), d.top += c.top - this.$inputor.scrollTop()), d.bottom = d.top + this.query.el.height(), d
        }, d.prototype.insert = function (a, b) {
            var c, d, e, f;
            return this.$inputor.is(":focus") || this.$inputor.focus(), e = "" === (e = this.getOpt("suffix")) ? e : e || "", c = b.data("item-data"), this.query.el.removeClass("atwho-query").addClass("atwho-inserted").html(a).attr("data-atwho-at-query", "" + c["atwho-at"] + this.query.text), (d = this._getRange()) && (d.setEndAfter(this.query.el[0]), d.collapse(!1), d.insertNode(f = this.app.document.createTextNode("" + e)), this._setRange("after", f, d)), this.$inputor.is(":focus") || this.$inputor.focus(), this.$inputor.change()
        }, d
    }(e);
    var k;
    k = function () {
        function b(a) {
            this.context = a, this.at = this.context.at, this.storage = this.context.$inputor
        }

        return b.prototype.destroy = function () {
            return this.storage.data(this.at, null)
        }, b.prototype.saved = function () {
            return this.fetch() > 0
        }, b.prototype.query = function (a, b) {
            var c, d, e;
            return d = this.fetch(), e = this.context.getOpt("searchKey"), d = this.context.callbacks("filter").call(this.context, a, d, e) || [], c = this.context.callbacks("remoteFilter"), d.length > 0 || !c && 0 === d.length ? b(d) : c.call(this.context, a, b)
        }, b.prototype.fetch = function () {
            return this.storage.data(this.at) || []
        }, b.prototype.save = function (a) {
            return this.storage.data(this.at, this.context.callbacks("beforeSave").call(this.context, a || []))
        }, b.prototype.load = function (a) {
            if (!this.saved() && a)return this._load(a)
        }, b.prototype.reload = function (a) {
            return this._load(a)
        }, b.prototype._load = function (b) {
            return "string" == typeof b ? a.ajax(b, {dataType: "json"}).done(function (a) {
                return function (b) {
                    return a.save(b)
                }
            }(this)) : this.save(b)
        }, b
    }();
    var l;
    l = function () {
        function b(b) {
            this.context = b, this.$el = a("<div class='atwho-view'><ul class='atwho-view-ul'></ul></div>"), this.$elUl = this.$el.children(), this.timeoutID = null, this.context.$el.append(this.$el), this.bindEvent()
        }

        return b.prototype.init = function () {
            var a, b;
            return b = this.context.getOpt("alias") || this.context.at.charCodeAt(0), a = this.context.getOpt("headerTpl"), a && 1 === this.$el.children().length && this.$el.prepend(a), this.$el.attr({id: "at-view-" + b})
        }, b.prototype.destroy = function () {
            return this.$el.remove()
        }, b.prototype.bindEvent = function () {
            var b, c, d;
            return b = this.$el.find("ul"), c = 0, d = 0, b.on("mousemove.atwho-view", "li", function (e) {
                return function (e) {
                    var f;
                    if ((c !== e.clientX || d !== e.clientY) && (c = e.clientX, d = e.clientY, f = a(e.currentTarget), !f.hasClass("cur")))return b.find(".cur").removeClass("cur"), f.addClass("cur")
                }
            }(this)).on("click.atwho-view", "li", function (c) {
                return function (d) {
                    return b.find(".cur").removeClass("cur"), a(d.currentTarget).addClass("cur"), c.choose(d), d.preventDefault()
                }
            }(this))
        }, b.prototype.visible = function () {
            return this.$el.is(":visible")
        }, b.prototype.highlighted = function () {
            return this.$el.find(".cur").length > 0
        }, b.prototype.choose = function (a) {
            var b, c;
            if ((b = this.$el.find(".cur")).length && (c = this.context.insertContentFor(b), this.context._stopDelayedCall(), this.context.insert(this.context.callbacks("beforeInsert").call(this.context, c, b, a), b), this.context.trigger("inserted", [b, a]), this.hide(a)), this.context.getOpt("hideWithoutSuffix"))return this.stopShowing = !0
        }, b.prototype.reposition = function (b) {
            var c, d, e, f;
            return c = this.context.app.iframeAsRoot ? this.context.app.window : window, b.bottom + this.$el.height() - a(c).scrollTop() > a(c).height() && (b.bottom = b.top - this.$el.height()), b.left > (e = a(c).width() - this.$el.width() - 5) && (b.left = e), d = {
                left: b.left,
                top: b.bottom
            }, null != (f = this.context.callbacks("beforeReposition")) && f.call(this.context, d), this.$el.offset(d), this.context.trigger("reposition", [d])
        }, b.prototype.next = function () {
            var a, b, c, d;
            return a = this.$el.find(".cur").removeClass("cur"), b = a.next(), b.length || (b = this.$el.find("li:first")), b.addClass("cur"), c = b[0], d = c.offsetTop + c.offsetHeight + (c.nextSibling ? c.nextSibling.offsetHeight : 0), this.scrollTop(Math.max(0, d - this.$el.height()))
        }, b.prototype.prev = function () {
            var a, b, c, d;
            return a = this.$el.find(".cur").removeClass("cur"), c = a.prev(), c.length || (c = this.$el.find("li:last")), c.addClass("cur"), d = c[0], b = d.offsetTop + d.offsetHeight + (d.nextSibling ? d.nextSibling.offsetHeight : 0), this.scrollTop(Math.max(0, b - this.$el.height()))
        }, b.prototype.scrollTop = function (a) {
            var b;
            return b = this.context.getOpt("scrollDuration"), b ? this.$elUl.animate({scrollTop: a}, b) : this.$elUl.scrollTop(a)
        }, b.prototype.show = function () {
            var a;
            return this.stopShowing ? void(this.stopShowing = !1) : (this.visible() || (this.$el.show(), this.$el.scrollTop(0), this.context.trigger("shown")), (a = this.context.rect()) ? this.reposition(a) : void 0)
        }, b.prototype.hide = function (a, b) {
            var c;
            if (this.visible())return isNaN(b) ? (this.$el.hide(), this.context.trigger("hidden", [a])) : (c = function (a) {
                return function () {
                    return a.hide()
                }
            }(this), clearTimeout(this.timeoutID), this.timeoutID = setTimeout(c, b))
        }, b.prototype.render = function (b) {
            var c, d, e, f, g, h, i;
            if (!(a.isArray(b) && b.length > 0))return void this.hide();
            for (this.$el.find("ul").empty(), d = this.$el.find("ul"), i = this.context.getOpt("displayTpl"), e = 0, g = b.length; e < g; e++)f = b[e], f = a.extend({}, f, {"atwho-at": this.context.at}), h = this.context.callbacks("tplEval").call(this.context, i, f, "onDisplay"), c = a(this.context.callbacks("highlighter").call(this.context, h, this.context.query.text)), c.data("item-data", f), d.append(c);
            return this.show(), this.context.getOpt("highlightFirst") ? d.find("li:first").addClass("cur") : void 0
        }, b
    }();
    var m;
    m = {
        load: function (a, b) {
            var c;
            if (c = this.controller(a))return c.model.load(b)
        }, isSelecting: function () {
            var a;
            return !!(null != (a = this.controller()) ? a.view.visible() : void 0)
        }, hide: function () {
            var a;
            return null != (a = this.controller()) ? a.view.hide() : void 0
        }, reposition: function () {
            var a;
            if (a = this.controller())return a.view.reposition(a.rect())
        }, setIframe: function (a, b) {
            return this.setupRootElement(a, b), null
        }, run: function () {
            return this.dispatch()
        }, destroy: function () {
            return this.shutdown(), this.$inputor.data("atwho", null)
        }
    }, a.fn.atwho = function (b) {
        var c, e;
        return c = arguments, e = null, this.filter('textarea, input, [contenteditable=""], [contenteditable=true]').each(function () {
            var f, g;
            return (g = (f = a(this)).data("atwho")) || f.data("atwho", g = new d(this)), "object" != typeof b && b ? m[b] && g ? e = m[b].apply(g, Array.prototype.slice.call(c, 1)) : a.error("Method " + b + " does not exist on jQuery.atwho") : g.reg(b.at, b)
        }), null != e ? e : this
    }, a.fn.atwho.default = {
        at: void 0,
        alias: void 0,
        data: null,
        displayTpl: "<li>${name}</li>",
        insertTpl: "${atwho-at}${name}",
        headerTpl: null,
        callbacks: b,
        searchKey: "name",
        suffix: void 0,
        hideWithoutSuffix: !1,
        startWithSpace: !0,
        highlightFirst: !0,
        limit: 5,
        maxLen: 20,
        minLen: 0,
        displayTimeout: 300,
        delay: null,
        spaceSelectsMatch: !1,
        tabSelectsMatch: !0,
        editableAtwhoQueryAttrs: {},
        scrollDuration: 150,
        suspendOnComposing: !0,
        lookUpOnClick: !0
    }, a.fn.atwho.debug = !1
}), function () {
    function a() {
        var a, b, c = arguments, d = {}, e = function (a, b) {
            var c, d;
            "object" != typeof a && (a = {});
            for (d in b)b.hasOwnProperty(d) && (c = b[d], c && "object" == typeof c && "[object Array]" !== Object.prototype.toString.call(c) && "renderTo" !== d && "number" != typeof c.nodeType ? a[d] = e(a[d] || {}, c) : a[d] = b[d]);
            return a
        };
        for (c[0] === !0 && (d = c[1], c = Array.prototype.slice.call(c, 2)), b = c.length, a = 0; a < b; a++)d = e(d, c[a]);
        return d
    }

    function b(a, b) {
        return parseInt(a, b || 10)
    }

    function c(a) {
        return "string" == typeof a
    }

    function d(a) {
        return a && "object" == typeof a
    }

    function e(a) {
        return "[object Array]" === Object.prototype.toString.call(a)
    }

    function f(a) {
        return "number" == typeof a
    }

    function g(a) {
        return la.log(a) / la.LN10
    }

    function h(a) {
        return la.pow(10, a)
    }

    function i(a, b) {
        for (var c = a.length; c--;)if (a[c] === b) {
            a.splice(c, 1);
            break
        }
    }

    function j(a) {
        return a !== K && null !== a
    }

    function k(a, b, e) {
        var f, g;
        if (c(b))j(e) ? a.setAttribute(b, e) : a && a.getAttribute && (g = a.getAttribute(b)); else if (j(b) && d(b))for (f in b)a.setAttribute(f, b[f]);
        return g
    }

    function l(a) {
        return e(a) ? a : [a]
    }

    function m(a, b) {
        ya && !Ea && b && b.opacity !== K && (b.filter = "alpha(opacity=" + 100 * b.opacity + ")"), db(a.style, b)
    }

    function n(a, b, c, d, e) {
        var f = ja.createElement(a);
        return b && db(f, b), e && m(f, {padding: 0, border: Va, margin: 0}), c && m(f, c), d && d.appendChild(f), f
    }

    function o(a, b) {
        var c = function () {
            return K
        };
        return c.prototype = new a, db(c.prototype, b), c
    }

    function p(a, b) {
        return new Array((b || 2) + 1 - String(a).length).join(0) + a
    }

    function q(a, b) {
        return /%$/.test(a) ? b * parseFloat(a) / 100 : parseFloat(a)
    }

    function r(a) {
        return 6e4 * (W && W(a) || V || 0)
    }

    function s(a, b) {
        var c, d = /f$/, e = /\.([0-9])/, f = O.lang;
        return d.test(a) ? (c = a.match(e), c = c ? c[1] : -1, null !== b && (b = ia.numberFormat(b, c, f.decimalPoint, a.indexOf(",") > -1 ? f.thousandsSep : ""))) : b = P(a, b), b
    }

    function t(a, b) {
        for (var c, d, e, f, g, h, i, j = "{", k = !1, l = []; (i = a.indexOf(j)) !== -1;) {
            if (c = a.slice(0, i), k) {
                for (d = c.split(":"), e = d.shift().split("."), g = e.length, h = b, f = 0; f < g; f++)h = h[e[f]];
                d.length && (h = s(d.join(":"), h)), l.push(h)
            } else l.push(c);
            a = a.slice(i + 1), k = !k, j = k ? "}" : "{"
        }
        return l.push(a), l.join("")
    }

    function u(a) {
        return la.pow(10, na(la.log(a) / la.LN10))
    }

    function v(a, b, c, d, e) {
        var f, g, h = a;
        for (c = eb(c, 1), f = a / c, b || (b = [1, 2, 2.5, 5, 10], d === !1 && (1 === c ? b = [1, 2, 5, 10] : c <= .1 && (b = [1 / c]))), g = 0; g < b.length && (h = b[g], !(e && h * c >= a || !e && f <= (b[g] + (b[g + 1] || b[g])) / 2)); g++);
        return h *= c
    }

    function w(a, b) {
        var c, d, e = a.length;
        for (d = 0; d < e; d++)a[d].ss_i = d;
        for (a.sort(function (a, d) {
            return c = b(a, d), 0 === c ? a.ss_i - d.ss_i : c
        }), d = 0; d < e; d++)delete a[d].ss_i
    }

    function x(a) {
        for (var b = a.length, c = a[0]; b--;)a[b] < c && (c = a[b]);
        return c
    }

    function y(a) {
        for (var b = a.length, c = a[0]; b--;)a[b] > c && (c = a[b]);
        return c
    }

    function z(a, b) {
        var c;
        for (c in a)a[c] && a[c] !== b && a[c].destroy && a[c].destroy(), delete a[c]
    }

    function A(a) {
        N || (N = n(Oa)), a && N.appendChild(a), N.innerHTML = ""
    }

    function B(a, b) {
        var c = "Highcharts error #" + a + ": www.highcharts.com/errors/" + a;
        if (b)throw c;
        ka.console && console.log(c)
    }

    function C(a, b) {
        return parseFloat(a.toPrecision(b || 14))
    }

    function D(a, b) {
        b.renderer.globalAnimation = eb(a, b.animation)
    }

    function E() {
        var a = O.global, b = a.useUTC, c = b ? "getUTC" : "get", d = b ? "setUTC" : "set";
        T = a.Date || window.Date, V = b && a.timezoneOffset, W = b && a.getTimezoneOffset, U = function (a, c, d, e, f, g) {
            var h;
            return b ? (h = T.UTC.apply(0, arguments), h += r(h)) : h = new T(a, c, eb(d, 1), eb(e, 0), eb(f, 0), eb(g, 0)).getTime(), h
        }, X = c + "Minutes", Y = c + "Hours", Z = c + "Day", $ = c + "Date", _ = c + "Month", aa = c + "FullYear", ba = d + "Milliseconds", ca = d + "Seconds", da = d + "Minutes", ea = d + "Hours", fa = d + "Date", ga = d + "Month", ha = d + "FullYear"
    }

    function F(b) {
        return O = a(!0, O, b), E(), O
    }

    function G() {
        return O
    }

    function H() {
    }

    function I(a, b, c, d) {
        this.axis = a, this.pos = b, this.type = c || "", this.isNew = !0, c || d || this.addLabel()
    }

    function J(a, b, c, d, e) {
        var f = a.chart.inverted;
        this.axis = a, this.isNegative = c, this.options = b, this.x = d, this.total = null, this.points = {}, this.stack = e, this.alignOptions = {
            align: b.align || (f ? c ? "left" : "right" : "center"),
            verticalAlign: b.verticalAlign || (f ? "middle" : c ? "bottom" : "top"),
            y: eb(b.y, f ? 4 : c ? 14 : -6),
            x: eb(b.x, f ? c ? -6 : 6 : 0)
        }, this.textAlign = b.textAlign || (f ? c ? "right" : "left" : "center")
    }

    var K, L, M, N, O, P, Q, R, S, T, U, V, W, X, Y, Z, $, _, aa, ba, ca, da, ea, fa, ga, ha, ia, ja = document, ka = window, la = Math, ma = la.round, na = la.floor, oa = la.ceil, pa = la.max, qa = la.min, ra = la.abs, sa = la.cos, ta = la.sin, ua = la.PI, va = 2 * ua / 360, wa = navigator.userAgent, xa = ka.opera, ya = /(msie|trident)/i.test(wa) && !xa, za = 8 === ja.documentMode, Aa = /AppleWebKit/.test(wa), Ba = /Firefox/.test(wa), Ca = /(Mobile|Android|Windows Phone)/.test(wa), Da = "http://www.w3.org/2000/svg", Ea = !!ja.createElementNS && !!ja.createElementNS(Da, "svg").createSVGRect, Fa = Ba && parseInt(wa.split("Firefox/")[1], 10) < 4, Ga = !Ea && !ya && !!ja.createElement("canvas").getContext, Ha = {}, Ia = 0, Ja = function () {
        return K
    }, Ka = [], La = 0, Ma = "Highcharts", Na = "4.1.8", Oa = "div", Pa = "absolute", Qa = "relative", Ra = "hidden", Sa = "highcharts-", Ta = "visible", Ua = "px", Va = "none", Wa = "M", Xa = "L", Ya = /^[0-9]+$/, Za = "", $a = "hover", _a = "select", ab = ["plotTop", "marginRight", "marginBottom", "plotLeft"], bb = "stroke-width", cb = {};
    ia = ka.Highcharts = ka.Highcharts ? B(16, !0) : {}, ia.seriesTypes = cb;
    var db = ia.extend = function (a, b) {
        var c;
        a || (a = {});
        for (c in b)a[c] = b[c];
        return a
    }, eb = ia.pick = function () {
        var a, b, c = arguments, d = c.length;
        for (a = 0; a < d; a++)if (b = c[a], b !== K && null !== b)return b
    }, fb = ia.wrap = function (a, b, c) {
        var d = a[b];
        a[b] = function () {
            var a = Array.prototype.slice.call(arguments);
            return a.unshift(d), c.apply(this, a)
        }
    };
    P = function (a, b, c) {
        if (!j(b) || isNaN(b))return O.lang.invalidDate || "";
        a = eb(a, "%Y-%m-%d %H:%M:%S");
        var d, e = new T(b - r(b)), f = e[Y](), g = e[Z](), h = e[$](), i = e[_](), k = e[aa](), l = O.lang, m = l.weekdays, n = db({
            a: m[g].substr(0, 3),
            A: m[g],
            d: p(h),
            e: h,
            w: g,
            b: l.shortMonths[i],
            B: l.months[i],
            m: p(i + 1),
            y: k.toString().substr(2, 2),
            Y: k,
            H: p(f),
            k: f,
            I: p(f % 12 || 12),
            l: f % 12 || 12,
            M: p(e[X]()),
            p: f < 12 ? "AM" : "PM",
            P: f < 12 ? "am" : "pm",
            S: p(e.getSeconds()),
            L: p(ma(b % 1e3), 3)
        }, ia.dateFormats);
        for (d in n)for (; a.indexOf("%" + d) !== -1;)a = a.replace("%" + d, "function" == typeof n[d] ? n[d](b) : n[d]);
        return c ? a.substr(0, 1).toUpperCase() + a.substr(1) : a
    }, R = {
        millisecond: 1,
        second: 1e3,
        minute: 6e4,
        hour: 36e5,
        day: 864e5,
        week: 6048e5,
        month: 24192e5,
        year: 314496e5
    }, ia.numberFormat = function (a, c, d, e) {
        var f = O.lang, g = +a || 0, h = c === -1 ? qa((g.toString().split(".")[1] || "").length, 20) : isNaN(c = ra(c)) ? 2 : c, i = void 0 === d ? f.decimalPoint : d, j = void 0 === e ? f.thousandsSep : e, k = g < 0 ? "-" : "", l = String(b(g = ra(g).toFixed(h))), m = l.length > 3 ? l.length % 3 : 0;
        return k + (m ? l.substr(0, m) + j : "") + l.substr(m).replace(/(\d{3})(?=\d)/g, "$1" + j) + (h ? i + ra(g - l).toFixed(h).slice(2) : "")
    }, Q = {
        init: function (a, b, c) {
            b = b || "";
            var d, e, f, g, h, i = a.shift, j = b.indexOf("C") > -1, k = j ? 7 : 3, l = b.split(" "), m = [].concat(c), n = function (a) {
                for (f = a.length; f--;)a[f] === Wa && a.splice(f + 1, 0, a[f + 1], a[f + 2], a[f + 1], a[f + 2])
            };
            if (j && (n(l), n(m)), a.isArea && (g = l.splice(l.length - 6, 6), h = m.splice(m.length - 6, 6)), i <= m.length / k && l.length === m.length)for (; i--;)m = [].concat(m).splice(0, k).concat(m);
            if (a.shift = 0, l.length)for (d = m.length; l.length < d;)e = [].concat(l).splice(l.length - k, k), j && (e[k - 6] = e[k - 2], e[k - 5] = e[k - 1]), l = l.concat(e);
            return g && (l = l.concat(g), m = m.concat(h)), [l, m]
        }, step: function (a, b, c, d) {
            var e, f = [], g = a.length;
            if (1 === c)f = d; else if (g === b.length && c < 1)for (; g--;)e = parseFloat(a[g]), f[g] = isNaN(e) ? a[g] : c * parseFloat(b[g] - e) + e; else f = b;
            return f
        }
    }, function (a) {
        ka.HighchartsAdapter = ka.HighchartsAdapter || a && {
                init: function (b) {
                    var d = a.fx;
                    a.extend(a.easing, {
                        easeOutQuad: function (a, b, c, d, e) {
                            return -d * (b /= e) * (b - 2) + c
                        }
                    }), a.each(["cur", "_default", "width", "height", "opacity"], function (b, c) {
                        var e, f = d.step;
                        "cur" === c ? f = d.prototype : "_default" === c && a.Tween && (f = a.Tween.propHooks[c], c = "set"), e = f[c], e && (f[c] = function (a) {
                            var d;
                            if (a = b ? a : this, "align" !== a.prop)return d = a.elem, d.attr ? d.attr(a.prop, "cur" === c ? K : a.now) : e.apply(this, arguments)
                        })
                    }), fb(a.cssHooks.opacity, "get", function (a, b, c) {
                        return b.attr ? b.opacity || 0 : a.call(this, b, c)
                    }), this.addAnimSetter("d", function (a) {
                        var c, d = a.elem;
                        a.started || (c = b.init(d, d.d, d.toD), a.start = c[0], a.end = c[1], a.started = !0), d.attr("d", b.step(a.start, a.end, a.pos, d.toD))
                    }), this.each = Array.prototype.forEach ? function (a, b) {
                        return Array.prototype.forEach.call(a, b)
                    } : function (a, b) {
                        var c, d = a.length;
                        for (c = 0; c < d; c++)if (b.call(a[c], a[c], c, a) === !1)return c
                    }, a.fn.highcharts = function () {
                        var a, b, d, e = "Chart", f = arguments;
                        return this[0] && (c(f[0]) && (e = f[0], f = Array.prototype.slice.call(f, 1)), a = f[0], a !== K && (a.chart = a.chart || {}, a.chart.renderTo = this[0], d = new ia[e](a, f[1]), b = this), a === K && (b = Ka[k(this[0], "data-highcharts-chart")])), b
                    }
                }, addAnimSetter: function (b, c) {
                    a.Tween ? a.Tween.propHooks[b] = {set: c} : a.fx.step[b] = c
                }, getScript: a.getScript, inArray: a.inArray, adapterRun: function (b, c) {
                    return a(b)[c]()
                }, grep: a.grep, map: function (a, b) {
                    for (var c = [], d = 0, e = a.length; d < e; d++)c[d] = b.call(a[d], a[d], d, a);
                    return c
                }, offset: function (b) {
                    return a(b).offset()
                }, addEvent: function (b, c, d) {
                    a(b).bind(c, d)
                }, removeEvent: function (b, c, d) {
                    var e = ja.removeEventListener ? "removeEventListener" : "detachEvent";
                    ja[e] && b && !b[e] && (b[e] = function () {
                    }), a(b).unbind(c, d)
                }, fireEvent: function (b, c, d, e) {
                    var f, g = a.Event(c), h = "detached" + c;
                    !ya && d && (delete d.layerX, delete d.layerY, delete d.returnValue), db(g, d), b[c] && (b[h] = b[c], b[c] = null), a.each(["preventDefault", "stopPropagation"], function (a, b) {
                        var c = g[b];
                        g[b] = function () {
                            try {
                                c.call(g)
                            } catch (a) {
                                "preventDefault" === b && (f = !0)
                            }
                        }
                    }), a(b).trigger(g), b[h] && (b[c] = b[h], b[h] = null), !e || g.isDefaultPrevented() || f || e(g)
                }, washMouseEvent: function (a) {
                    var b = a.originalEvent || a;
                    return b.pageX === K && (b.pageX = a.pageX, b.pageY = a.pageY), b
                }, animate: function (b, c, d) {
                    var e = a(b);
                    b.style || (b.style = {}), c.d && (b.toD = c.d, c.d = 1), e.stop(), c.opacity !== K && b.attr && (c.opacity += "px"), b.hasAnim = 1, e.animate(c, d)
                }, stop: function (b) {
                    b.hasAnim && a(b).stop()
                }
            }
    }(ka.jQuery);
    var gb = ka.HighchartsAdapter, hb = gb || {};
    gb && gb.init.call(gb, Q);
    var ib = hb.adapterRun, jb = hb.getScript, kb = hb.inArray, lb = ia.each = hb.each, mb = hb.grep, nb = hb.offset, ob = hb.map, pb = hb.addEvent, qb = hb.removeEvent, rb = hb.fireEvent, sb = hb.washMouseEvent, tb = hb.animate, ub = hb.stop;
    O = {
        colors: ["#7cb5ec", "#434348", "#90ed7d", "#f7a35c", "#8085e9", "#f15c80", "#e4d354", "#2b908f", "#f45b5b", "#91e8e1"],
        symbols: ["circle", "diamond", "square", "triangle", "triangle-down"],
        lang: {
            loading: "Loading...",
            months: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
            shortMonths: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
            weekdays: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
            decimalPoint: ".",
            numericSymbols: ["k", "M", "G", "T", "P", "E"],
            resetZoom: "Reset zoom",
            resetZoomTitle: "Reset zoom level 1:1",
            thousandsSep: " "
        },
        global: {
            useUTC: !0,
            canvasToolsURL: "http://code.highcharts.com/4.1.8/modules/canvas-tools.js",
            VMLRadialGradientURL: "http://code.highcharts.com/4.1.8/gfx/vml-radial-gradient.png"
        },
        chart: {
            borderColor: "#4572A7",
            borderRadius: 0,
            defaultSeriesType: "line",
            ignoreHiddenSeries: !0,
            spacing: [10, 10, 15, 10],
            backgroundColor: "#FFFFFF",
            plotBorderColor: "#C0C0C0",
            resetZoomButton: {theme: {zIndex: 20}, position: {align: "right", x: -10, y: 10}}
        },
        title: {text: "Chart title", align: "center", margin: 15, style: {color: "#333333", fontSize: "18px"}},
        subtitle: {text: "", align: "center", style: {color: "#555555"}},
        plotOptions: {
            line: {
                allowPointSelect: !1,
                showCheckbox: !1,
                animation: {duration: 1e3},
                events: {},
                lineWidth: 2,
                marker: {
                    lineWidth: 0,
                    radius: 4,
                    lineColor: "#FFFFFF",
                    states: {
                        hover: {enabled: !0, lineWidthPlus: 1, radiusPlus: 2},
                        select: {fillColor: "#FFFFFF", lineColor: "#000000", lineWidth: 2}
                    }
                },
                point: {events: {}},
                dataLabels: {
                    align: "center",
                    formatter: function () {
                        return null === this.y ? "" : ia.numberFormat(this.y, -1)
                    },
                    style: {
                        color: "contrast",
                        fontSize: "11px",
                        fontWeight: "bold",
                        textShadow: "0 0 6px contrast, 0 0 3px contrast"
                    },
                    verticalAlign: "bottom",
                    x: 0,
                    y: 0,
                    padding: 5
                },
                cropThreshold: 300,
                pointRange: 0,
                states: {hover: {lineWidthPlus: 1, marker: {}, halo: {size: 10, opacity: .25}}, select: {marker: {}}},
                stickyTracking: !0,
                turboThreshold: 1e3
            }
        },
        labels: {style: {position: Pa, color: "#3E576F"}},
        legend: {
            enabled: !0,
            align: "center",
            layout: "horizontal",
            labelFormatter: function () {
                return this.name
            },
            borderColor: "#909090",
            borderRadius: 0,
            navigation: {activeColor: "#274b6d", inactiveColor: "#CCC"},
            shadow: !1,
            itemStyle: {color: "#333333", fontSize: "12px", fontWeight: "bold"},
            itemHoverStyle: {color: "#000"},
            itemHiddenStyle: {color: "#CCC"},
            itemCheckboxStyle: {position: Pa, width: "13px", height: "13px"},
            symbolPadding: 5,
            verticalAlign: "bottom",
            x: 0,
            y: 0,
            title: {style: {fontWeight: "bold"}}
        },
        loading: {
            labelStyle: {fontWeight: "bold", position: Qa, top: "45%"},
            style: {position: Pa, backgroundColor: "white", opacity: .5, textAlign: "center"}
        },
        tooltip: {
            enabled: !0,
            animation: Ea,
            backgroundColor: "rgba(249, 249, 249, .85)",
            borderWidth: 1,
            borderRadius: 3,
            dateTimeLabelFormats: {
                millisecond: "%A, %b %e, %H:%M:%S.%L",
                second: "%A, %b %e, %H:%M:%S",
                minute: "%A, %b %e, %H:%M",
                hour: "%A, %b %e, %H:%M",
                day: "%A, %b %e, %Y",
                week: "Week from %A, %b %e, %Y",
                month: "%B %Y",
                year: "%Y"
            },
            footerFormat: "",
            headerFormat: '<span style="font-size: 10px">{point.key}</span><br/>',
            pointFormat: '<span style="color:{point.color}"></span> {series.name}: <b>{point.y}</b><br/>',
            shadow: !0,
            snap: Ca ? 25 : 10,
            style: {
                color: "#333333",
                cursor: "default", fontSize: "12px", padding: "8px", whiteSpace: "nowrap"
            }
        },
        credits: {
            enabled: !0,
            text: "Highcharts.com",
            href: "http://www.highcharts.com",
            position: {align: "right", x: -10, verticalAlign: "bottom", y: -5},
            style: {cursor: "pointer", color: "#909090", fontSize: "9px"}
        }
    };
    var vb = O.plotOptions, wb = vb.line;
    E();
    var xb = /rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/, yb = /#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/, zb = /rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/, Ab = function (c) {
        function d(a) {
            a && a.stops ? j = ob(a.stops, function (a) {
                return Ab(a[1])
            }) : (i = xb.exec(a), i ? k = [b(i[1]), b(i[2]), b(i[3]), parseFloat(i[4], 10)] : (i = yb.exec(a), i ? k = [b(i[1], 16), b(i[2], 16), b(i[3], 16), 1] : (i = zb.exec(a), i && (k = [b(i[1]), b(i[2]), b(i[3]), 1]))))
        }

        function e(b) {
            var d;
            return j ? (d = a(c), d.stops = [].concat(d.stops), lb(j, function (a, c) {
                d.stops[c] = [d.stops[c][0], a.get(b)]
            })) : d = k && !isNaN(k[0]) ? "rgb" === b ? "rgb(" + k[0] + "," + k[1] + "," + k[2] + ")" : "a" === b ? k[3] : "rgba(" + k.join(",") + ")" : c, d
        }

        function g(a) {
            if (j)lb(j, function (b) {
                b.brighten(a)
            }); else if (f(a) && 0 !== a) {
                var c;
                for (c = 0; c < 3; c++)k[c] += b(255 * a), k[c] < 0 && (k[c] = 0), k[c] > 255 && (k[c] = 255)
            }
            return this
        }

        function h(a) {
            return k[3] = a, this
        }

        var i, j, k = [];
        return d(c), {get: e, brighten: g, rgba: k, setOpacity: h, raw: c}
    };
    H.prototype = {
        opacity: 1,
        textProps: ["fontSize", "fontWeight", "fontFamily", "fontStyle", "color", "lineHeight", "width", "textDecoration", "textOverflow", "textShadow"],
        init: function (a, b) {
            var c = this;
            c.element = "span" === b ? n(b) : ja.createElementNS(Da, b), c.renderer = a
        },
        animate: function (b, c, d) {
            var e = eb(c, this.renderer.globalAnimation, !0);
            return ub(this), e ? (e = a(e, {}), d && (e.complete = d), tb(this, b, e)) : this.attr(b, null, d), this
        },
        colorGradient: function (b, c, d) {
            var f, g, h, i, k, l, m, n, o, p, q, r = this.renderer, s = [];
            if (b.linearGradient ? g = "linearGradient" : b.radialGradient && (g = "radialGradient"), g) {
                h = b[g], i = r.gradients, l = b.stops, o = d.radialReference, e(h) && (b[g] = h = {
                    x1: h[0],
                    y1: h[1],
                    x2: h[2],
                    y2: h[3],
                    gradientUnits: "userSpaceOnUse"
                }), "radialGradient" === g && o && !j(h.gradientUnits) && (h = a(h, {
                    cx: o[0] - o[2] / 2 + h.cx * o[2],
                    cy: o[1] - o[2] / 2 + h.cy * o[2],
                    r: h.r * o[2],
                    gradientUnits: "userSpaceOnUse"
                }));
                for (p in h)"id" !== p && s.push(p, h[p]);
                for (p in l)s.push(l[p]);
                s = s.join(","), i[s] ? q = i[s].attr("id") : (h.id = q = Sa + Ia++, i[s] = k = r.createElement(g).attr(h).add(r.defs), k.stops = [], lb(l, function (a) {
                    var b;
                    0 === a[1].indexOf("rgba") ? (f = Ab(a[1]), m = f.get("rgb"), n = f.get("a")) : (m = a[1], n = 1), b = r.createElement("stop").attr({
                        offset: a[0],
                        "stop-color": m,
                        "stop-opacity": n
                    }).add(k), k.stops.push(b)
                })), d.setAttribute(c, "url(" + r.url + "#" + q + ")")
            }
        },
        applyTextShadow: function (a) {
            var c, d = this.element, e = a.indexOf("contrast") !== -1, f = {}, g = this.renderer.forExport || d.style.textShadow !== K && !ya;
            e && (f.textShadow = a = a.replace(/contrast/g, this.renderer.getContrast(d.style.fill))), Aa && (f.textRendering = "geometricPrecision"), g ? m(d, f) : (this.fakeTS = !0, this.ySetter = this.xSetter, c = [].slice.call(d.getElementsByTagName("tspan")), lb(a.split(/\s?,\s?/g), function (a) {
                var e, f, g = d.firstChild;
                a = a.split(" "), e = a[a.length - 1], f = a[a.length - 2], f && lb(c, function (a, c) {
                    var h;
                    0 === c && (a.setAttribute("x", d.getAttribute("x")), c = d.getAttribute("y"), a.setAttribute("y", c || 0), null === c && d.setAttribute("y", 0)), h = a.cloneNode(1), k(h, {
                        class: Sa + "text-shadow",
                        fill: e,
                        stroke: e,
                        "stroke-opacity": 1 / pa(b(f), 3),
                        "stroke-width": f,
                        "stroke-linejoin": "round"
                    }), d.insertBefore(h, g)
                })
            }))
        },
        attr: function (a, b, c) {
            var d, e, f, g, h = this.element, i = this;
            if ("string" == typeof a && b !== K && (d = a, a = {}, a[d] = b), "string" == typeof a)i = (this[a + "Getter"] || this._defaultGetter).call(this, a, h); else {
                for (d in a)e = a[d], g = !1, this.symbolName && /^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(d) && (f || (this.symbolAttr(a), f = !0), g = !0), !this.rotation || "x" !== d && "y" !== d || (this.doTransform = !0), g || (this[d + "Setter"] || this._defaultSetter).call(this, e, d, h), this.shadows && /^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(d) && this.updateShadows(d, e);
                this.doTransform && (this.updateTransform(), this.doTransform = !1)
            }
            return c && c(), i
        },
        updateShadows: function (a, b) {
            for (var c = this.shadows, d = c.length; d--;)c[d].setAttribute(a, "height" === a ? pa(b - (c[d].cutHeight || 0), 0) : "d" === a ? this.d : b)
        },
        addClass: function (a) {
            var b = this.element, c = k(b, "class") || "";
            return c.indexOf(a) === -1 && k(b, "class", c + " " + a), this
        },
        symbolAttr: function (a) {
            var b = this;
            lb(["x", "y", "r", "start", "end", "width", "height", "innerR", "anchorX", "anchorY"], function (c) {
                b[c] = eb(a[c], b[c])
            }), b.attr({d: b.renderer.symbols[b.symbolName](b.x, b.y, b.width, b.height, b)})
        },
        clip: function (a) {
            return this.attr("clip-path", a ? "url(" + this.renderer.url + "#" + a.id + ")" : Va)
        },
        crisp: function (a) {
            var b, c, d = this, e = {}, f = a.strokeWidth || d.strokeWidth || 0;
            c = ma(f) % 2 / 2, a.x = na(a.x || d.x || 0) + c, a.y = na(a.y || d.y || 0) + c, a.width = na((a.width || d.width || 0) - 2 * c), a.height = na((a.height || d.height || 0) - 2 * c), a.strokeWidth = f;
            for (b in a)d[b] !== a[b] && (d[b] = e[b] = a[b]);
            return e
        },
        css: function (a) {
            var c, d, e, f = this, g = f.styles, h = {}, i = f.element, j = "", l = !g;
            if (a && a.color && (a.fill = a.color), g)for (d in a)a[d] !== g[d] && (h[d] = a[d], l = !0);
            if (l) {
                if (c = f.textWidth = a && a.width && "text" === i.nodeName.toLowerCase() && b(a.width) || f.textWidth, g && (a = db(g, h)), f.styles = a, c && (Ga || !Ea && f.renderer.forExport) && delete a.width, ya && !Ea)m(f.element, a); else {
                    e = function (a, b) {
                        return "-" + b.toLowerCase()
                    };
                    for (d in a)j += d.replace(/([A-Z])/g, e) + ":" + a[d] + ";";
                    k(i, "style", j)
                }
                c && f.added && f.renderer.buildText(f)
            }
            return f
        },
        on: function (a, b) {
            var c = this, d = c.element;
            return M && "click" === a ? (d.ontouchstart = function (a) {
                c.touchEventFired = T.now(), a.preventDefault(), b.call(d, a)
            }, d.onclick = function (a) {
                (wa.indexOf("Android") === -1 || T.now() - (c.touchEventFired || 0) > 1100) && b.call(d, a)
            }) : d["on" + a] = b, this
        },
        setRadialReference: function (a) {
            return this.element.radialReference = a, this
        },
        translate: function (a, b) {
            return this.attr({translateX: a, translateY: b})
        },
        invert: function () {
            var a = this;
            return a.inverted = !0, a.updateTransform(), a
        },
        updateTransform: function () {
            var a, b = this, c = b.translateX || 0, d = b.translateY || 0, e = b.scaleX, f = b.scaleY, g = b.inverted, h = b.rotation, i = b.element;
            g && (c += b.attr("width"), d += b.attr("height")), a = ["translate(" + c + "," + d + ")"], g ? a.push("rotate(90) scale(-1,1)") : h && a.push("rotate(" + h + " " + (i.getAttribute("x") || 0) + " " + (i.getAttribute("y") || 0) + ")"), (j(e) || j(f)) && a.push("scale(" + eb(e, 1) + " " + eb(f, 1) + ")"), a.length && i.setAttribute("transform", a.join(" "))
        },
        toFront: function () {
            var a = this.element;
            return a.parentNode.appendChild(a), this
        },
        align: function (a, b, d) {
            var e, f, g, h, j, k = {}, l = this.renderer, m = l.alignedObjects;
            return a ? (this.alignOptions = a, this.alignByTranslate = b, d && !c(d) || (this.alignTo = j = d || "renderer", i(m, this), m.push(this), d = null)) : (a = this.alignOptions, b = this.alignByTranslate, j = this.alignTo), d = eb(d, l[j], l), e = a.align, f = a.verticalAlign, g = (d.x || 0) + (a.x || 0), h = (d.y || 0) + (a.y || 0), "right" !== e && "center" !== e || (g += (d.width - (a.width || 0)) / {
                    right: 1,
                    center: 2
                }[e]), k[b ? "translateX" : "x"] = ma(g), "bottom" !== f && "middle" !== f || (h += (d.height - (a.height || 0)) / ({
                    bottom: 1,
                    middle: 2
                }[f] || 1)), k[b ? "translateY" : "y"] = ma(h), this[this.placed ? "animate" : "attr"](k), this.placed = !0, this.alignAttr = k, this
        },
        getBBox: function (a) {
            var b, c, d, e, f, g, h = this, i = h.renderer, j = h.rotation, k = h.element, l = h.styles, m = j * va, n = h.textStr, o = k.style;
            if (n !== K && (g = ["", j || 0, l && l.fontSize, k.style.width].join(","), g = "" === n || Ya.test(n) ? "num:" + n.toString().length + g : n + g), g && !a && (b = i.cache[g]), !b) {
                if (k.namespaceURI === Da || i.forExport) {
                    try {
                        f = this.fakeTS && function (a) {
                                lb(k.querySelectorAll("." + Sa + "text-shadow"), function (b) {
                                    b.style.display = a
                                })
                            }, Ba && o.textShadow ? (e = o.textShadow, o.textShadow = "") : f && f(Va), b = k.getBBox ? db({}, k.getBBox()) : {
                            width: k.offsetWidth,
                            height: k.offsetHeight
                        }, e ? o.textShadow = e : f && f("")
                    } catch (a) {
                    }
                    (!b || b.width < 0) && (b = {width: 0, height: 0})
                } else b = h.htmlGetBBox();
                i.isSVG && (c = b.width, d = b.height, ya && l && "11px" === l.fontSize && "16.9" === d.toPrecision(3) && (b.height = d = 14), j && (b.width = ra(d * ta(m)) + ra(c * sa(m)), b.height = ra(d * sa(m)) + ra(c * ta(m)))), g && (i.cache[g] = b)
            }
            return b
        },
        show: function (a) {
            return this.attr({visibility: a ? "inherit" : Ta})
        },
        hide: function () {
            return this.attr({visibility: Ra})
        },
        fadeOut: function (a) {
            var b = this;
            b.animate({opacity: 0}, {
                duration: a || 150, complete: function () {
                    b.attr({y: -9999})
                }
            })
        },
        add: function (a) {
            var b, c = this.renderer, d = this.element;
            return a && (this.parentGroup = a), this.parentInverted = a && a.inverted, void 0 !== this.textStr && c.buildText(this), this.added = !0, (!a || a.handleZ || this.zIndex) && (b = this.zIndexSetter()), b || (a ? a.element : c.box).appendChild(d), this.onAdd && this.onAdd(), this
        },
        safeRemoveChild: function (a) {
            var b = a.parentNode;
            b && b.removeChild(a)
        },
        destroy: function () {
            var a, b, c, d = this, e = d.element || {}, f = d.shadows, g = d.renderer.isSVG && "SPAN" === e.nodeName && d.parentGroup;
            if (e.onclick = e.onmouseout = e.onmouseover = e.onmousemove = e.point = null, ub(d), d.clipPath && (d.clipPath = d.clipPath.destroy()), d.stops) {
                for (c = 0; c < d.stops.length; c++)d.stops[c] = d.stops[c].destroy();
                d.stops = null
            }
            for (d.safeRemoveChild(e), f && lb(f, function (a) {
                d.safeRemoveChild(a)
            }); g && g.div && 0 === g.div.childNodes.length;)a = g.parentGroup, d.safeRemoveChild(g.div), delete g.div, g = a;
            d.alignTo && i(d.renderer.alignedObjects, d);
            for (b in d)delete d[b];
            return null
        },
        shadow: function (a, b, c) {
            var d, e, f, g, h, i, j = [], l = this.element;
            if (a) {
                for (g = eb(a.width, 3), h = (a.opacity || .15) / g, i = this.parentInverted ? "(-1,-1)" : "(" + eb(a.offsetX, 1) + ", " + eb(a.offsetY, 1) + ")", d = 1; d <= g; d++)e = l.cloneNode(0), f = 2 * g + 1 - 2 * d, k(e, {
                    isShadow: "true",
                    stroke: a.color || "black",
                    "stroke-opacity": h * d,
                    "stroke-width": f,
                    transform: "translate" + i,
                    fill: Va
                }), c && (k(e, "height", pa(k(e, "height") - f, 0)), e.cutHeight = f), b ? b.element.appendChild(e) : l.parentNode.insertBefore(e, l), j.push(e);
                this.shadows = j
            }
            return this
        },
        xGetter: function (a) {
            return "circle" === this.element.nodeName && (a = {x: "cx", y: "cy"}[a] || a), this._defaultGetter(a)
        },
        _defaultGetter: function (a) {
            var b = eb(this[a], this.element ? this.element.getAttribute(a) : null, 0);
            return /^[\-0-9\.]+$/.test(b) && (b = parseFloat(b)), b
        },
        dSetter: function (a, b, c) {
            a && a.join && (a = a.join(" ")), /(NaN| {2}|^$)/.test(a) && (a = "M 0 0"), c.setAttribute(b, a), this[b] = a
        },
        dashstyleSetter: function (a) {
            var c;
            if (a = a && a.toLowerCase()) {
                for (a = a.replace("shortdashdotdot", "3,1,1,1,1,1,").replace("shortdashdot", "3,1,1,1").replace("shortdot", "1,1,").replace("shortdash", "3,1,").replace("longdash", "8,3,").replace(/dot/g, "1,3,").replace("dash", "4,3,").replace(/,$/, "").split(","), c = a.length; c--;)a[c] = b(a[c]) * this["stroke-width"];
                a = a.join(",").replace("NaN", "none"), this.element.setAttribute("stroke-dasharray", a)
            }
        },
        alignSetter: function (a) {
            this.element.setAttribute("text-anchor", {left: "start", center: "middle", right: "end"}[a])
        },
        opacitySetter: function (a, b, c) {
            this[b] = a, c.setAttribute(b, a)
        },
        titleSetter: function (a) {
            var b = this.element.getElementsByTagName("title")[0];
            b || (b = ja.createElementNS(Da, "title"), this.element.appendChild(b)), b.appendChild(ja.createTextNode(String(eb(a), "").replace(/<[^>]*>/g, "")))
        },
        textSetter: function (a) {
            a !== this.textStr && (delete this.bBox, this.textStr = a, this.added && this.renderer.buildText(this))
        },
        fillSetter: function (a, b, c) {
            "string" == typeof a ? c.setAttribute(b, a) : a && this.colorGradient(a, b, c)
        },
        visibilitySetter: function (a, b, c) {
            "inherit" === a ? c.removeAttribute(b) : c.setAttribute(b, a)
        },
        zIndexSetter: function (a, c) {
            var d, e, f, g, h, i = this.renderer, l = this.parentGroup, m = l || i, n = m.element || i.box, o = this.element, p = this.added;
            if (j(a) && (o.setAttribute(c, a), a = +a, this[c] === a && (p = !1), this[c] = a), p) {
                for (a = this.zIndex, a && l && (l.handleZ = !0), d = n.childNodes, h = 0; h < d.length && !g; h++)e = d[h], f = k(e, "zIndex"), e !== o && (b(f) > a || !j(a) && j(f)) && (n.insertBefore(o, e), g = !0);
                g || n.appendChild(o)
            }
            return g
        },
        _defaultSetter: function (a, b, c) {
            c.setAttribute(b, a)
        }
    }, H.prototype.yGetter = H.prototype.xGetter, H.prototype.translateXSetter = H.prototype.translateYSetter = H.prototype.rotationSetter = H.prototype.verticalAlignSetter = H.prototype.scaleXSetter = H.prototype.scaleYSetter = function (a, b) {
        this[b] = a, this.doTransform = !0
    }, H.prototype["stroke-widthSetter"] = H.prototype.strokeSetter = function (a, b, c) {
        this[b] = a, this.stroke && this["stroke-width"] ? (this.strokeWidth = this["stroke-width"], H.prototype.fillSetter.call(this, this.stroke, "stroke", c), c.setAttribute("stroke-width", this["stroke-width"]), this.hasStroke = !0) : "stroke-width" === b && 0 === a && this.hasStroke && (c.removeAttribute("stroke"), this.hasStroke = !1)
    };
    var Bb = function () {
        this.init.apply(this, arguments)
    };
    Bb.prototype = {
        Element: H, init: function (a, b, c, d, e) {
            var f, g, h, i = this, j = location;
            f = i.createElement("svg").attr({version: "1.1"}).css(this.getStyle(d)), g = f.element, a.appendChild(g), a.innerHTML.indexOf("xmlns") === -1 && k(g, "xmlns", Da), i.isSVG = !0, i.box = g, i.boxWrapper = f, i.alignedObjects = [], i.url = (Ba || Aa) && ja.getElementsByTagName("base").length ? j.href.replace(/#.*?$/, "").replace(/([\('\)])/g, "\\$1").replace(/ /g, "%20") : "", h = this.createElement("desc").add(), h.element.appendChild(ja.createTextNode("Created with " + Ma + " " + Na)), i.defs = this.createElement("defs").add(), i.forExport = e, i.gradients = {}, i.cache = {}, i.setSize(b, c, !1);
            var l, n;
            Ba && a.getBoundingClientRect && (i.subPixelFix = l = function () {
                m(a, {left: 0, top: 0}), n = a.getBoundingClientRect(), m(a, {
                    left: oa(n.left) - n.left + Ua,
                    top: oa(n.top) - n.top + Ua
                })
            }, l(), pb(ka, "resize", l))
        }, getStyle: function (a) {
            return this.style = db({
                fontFamily: '"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',
                fontSize: "12px"
            }, a)
        }, isHidden: function () {
            return !this.boxWrapper.getBBox().width
        }, destroy: function () {
            var a = this, b = a.defs;
            return a.box = null, a.boxWrapper = a.boxWrapper.destroy(), z(a.gradients || {}), a.gradients = null, b && (a.defs = b.destroy()), a.subPixelFix && qb(ka, "resize", a.subPixelFix), a.alignedObjects = null, null
        }, createElement: function (a) {
            var b = new this.Element;
            return b.init(this, a), b
        }, draw: function () {
        }, buildText: function (a) {
            for (var c, d, e, f = a.element, g = this, h = g.forExport, i = eb(a.textStr, "").toString(), j = i.indexOf("<") !== -1, l = f.childNodes, n = k(f, "x"), o = a.styles, p = a.textWidth, q = o && o.lineHeight, r = o && o.textShadow, s = o && "ellipsis" === o.textOverflow, t = l.length, u = p && !a.added && this.box, v = function (a) {
                return q ? b(q) : g.fontMetrics(/(px|em)$/.test(a && a.style.fontSize) ? a.style.fontSize : o && o.fontSize || g.style.fontSize || 12, a).h
            }, w = function (a) {
                return a.replace(/&lt;/g, "<").replace(/&gt;/g, ">")
            }; t--;)f.removeChild(l[t]);
            return j || r || s || i.indexOf(" ") !== -1 ? (d = /<.*style="([^"]+)".*>/, e = /<.*href="(http[^"]+)".*>/, u && u.appendChild(f), c = j ? i.replace(/<(b|strong)>/g, '<span style="font-weight:bold">').replace(/<(i|em)>/g, '<span style="font-style:italic">').replace(/<a/g, "<span").replace(/<\/(b|strong|i|em|a)>/g, "</span>").split(/<br.*?>/g) : [i], "" === c[c.length - 1] && c.pop(), lb(c, function (b, c) {
                var i, j = 0;
                b = b.replace(/<span/g, "|||<span").replace(/<\/span>/g, "</span>|||"), i = b.split("|||"), lb(i, function (b) {
                    if ("" !== b || 1 === i.length) {
                        var l, q = {}, r = ja.createElementNS(Da, "tspan");
                        if (d.test(b) && (l = b.match(d)[1].replace(/(;| |^)color([ :])/, "$1fill$2"), k(r, "style", l)), e.test(b) && !h && (k(r, "onclick", 'location.href="' + b.match(e)[1] + '"'), m(r, {cursor: "pointer"})), b = w(b.replace(/<(.|\n)*?>/g, "") || " "), " " !== b) {
                            if (r.appendChild(ja.createTextNode(b)), j ? q.dx = 0 : c && null !== n && (q.x = n), k(r, q), f.appendChild(r), !j && c && (!Ea && h && m(r, {display: "block"}), k(r, "dy", v(r))), p) {
                                for (var t, u, x, y, z = b.replace(/([^\^])-/g, "$1- ").split(" "), A = i.length > 1 || c || z.length > 1 && "nowrap" !== o.whiteSpace, B = [], C = v(r), D = 1, E = a.rotation, F = b, G = F.length; (A || s) && (z.length || B.length);)a.rotation = 0, y = a.getBBox(!0), x = y.width, !Ea && g.forExport && (x = g.measureSpanWidth(r.firstChild.data, a.styles)), t = x > p, void 0 === u && (u = t), s && u ? (G /= 2, "" === F || !t && G < .5 ? z = [] : (t && (u = !0), F = b.substring(0, F.length + (t ? -1 : 1) * oa(G)), z = [F + (p > 3 ? "" : "")], r.removeChild(r.firstChild))) : t && 1 !== z.length ? (r.removeChild(r.firstChild), B.unshift(z.pop())) : (z = B, B = [], z.length && (D++, r = ja.createElementNS(Da, "tspan"), k(r, {
                                    dy: C,
                                    x: n
                                }), l && k(r, "style", l), f.appendChild(r)), x > p && (p = x)), z.length && r.appendChild(ja.createTextNode(z.join(" ").replace(/- /g, "-")));
                                u && a.attr("title", a.textStr), a.rotation = E
                            }
                            j++
                        }
                    }
                })
            }), u && u.removeChild(f), r && a.applyTextShadow && a.applyTextShadow(r), void 0) : void f.appendChild(ja.createTextNode(w(i)))
        }, getContrast: function (a) {
            return a = Ab(a).rgba, a[0] + a[1] + a[2] > 384 ? "#000000" : "#FFFFFF"
        }, button: function (b, c, d, e, f, g, h, i, j) {
            var k, l, m, n, o, p, q = this.label(b, c, d, j, null, null, null, null, "button"), r = 0, s = {
                x1: 0,
                y1: 0,
                x2: 0,
                y2: 1
            };
            return f = a({
                "stroke-width": 1,
                stroke: "#CCCCCC",
                fill: {linearGradient: s, stops: [[0, "#FEFEFE"], [1, "#F6F6F6"]]},
                r: 2,
                padding: 5,
                style: {color: "black"}
            }, f), m = f.style, delete f.style, g = a(f, {
                stroke: "#68A",
                fill: {linearGradient: s, stops: [[0, "#FFF"], [1, "#ACF"]]}
            }, g), n = g.style, delete g.style, h = a(f, {
                stroke: "#68A",
                fill: {linearGradient: s, stops: [[0, "#9BD"], [1, "#CDF"]]}
            }, h), o = h.style, delete h.style, i = a(f, {style: {color: "#CCC"}}, i), p = i.style, delete i.style, pb(q.element, ya ? "mouseover" : "mouseenter", function () {
                3 !== r && q.attr(g).css(n)
            }), pb(q.element, ya ? "mouseout" : "mouseleave", function () {
                3 !== r && (k = [f, g, h][r], l = [m, n, o][r], q.attr(k).css(l))
            }), q.setState = function (a) {
                q.state = r = a, a ? 2 === a ? q.attr(h).css(o) : 3 === a && q.attr(i).css(p) : q.attr(f).css(m)
            }, q.on("click", function (a) {
                3 !== r && e.call(q, a)
            }).attr(f).css(db({cursor: "default"}, m))
        }, crispLine: function (a, b) {
            return a[1] === a[4] && (a[1] = a[4] = ma(a[1]) - b % 2 / 2), a[2] === a[5] && (a[2] = a[5] = ma(a[2]) + b % 2 / 2), a
        }, path: function (a) {
            var b = {fill: Va};
            return e(a) ? b.d = a : d(a) && db(b, a), this.createElement("path").attr(b)
        }, circle: function (a, b, c) {
            var e = d(a) ? a : {x: a, y: b, r: c}, f = this.createElement("circle");
            return f.xSetter = function (a) {
                this.element.setAttribute("cx", a)
            }, f.ySetter = function (a) {
                this.element.setAttribute("cy", a)
            }, f.attr(e)
        }, arc: function (a, b, c, e, f, g) {
            var h;
            return d(a) && (b = a.y, c = a.r, e = a.innerR, f = a.start, g = a.end, a = a.x), h = this.symbol("arc", a || 0, b || 0, c || 0, c || 0, {
                innerR: e || 0,
                start: f || 0,
                end: g || 0
            }), h.r = c, h
        }, rect: function (a, b, c, e, f, g) {
            f = d(a) ? a.r : f;
            var h = this.createElement("rect"), i = d(a) ? a : a === K ? {} : {
                x: a,
                y: b,
                width: pa(c, 0),
                height: pa(e, 0)
            };
            return g !== K && (i.strokeWidth = g, i = h.crisp(i)), f && (i.r = f), h.rSetter = function (a) {
                k(this.element, {rx: a, ry: a})
            }, h.attr(i)
        }, setSize: function (a, b, c) {
            var d = this, e = d.alignedObjects, f = e.length;
            for (d.width = a, d.height = b, d.boxWrapper[eb(c, !0) ? "animate" : "attr"]({
                width: a,
                height: b
            }); f--;)e[f].align()
        }, g: function (a) {
            var b = this.createElement("g");
            return j(a) ? b.attr({class: Sa + a}) : b
        }, image: function (a, b, c, d, e) {
            var f, g = {preserveAspectRatio: Va};
            return arguments.length > 1 && db(g, {
                x: b,
                y: c,
                width: d,
                height: e
            }), f = this.createElement("image").attr(g), f.element.setAttributeNS ? f.element.setAttributeNS("http://www.w3.org/1999/xlink", "href", a) : f.element.setAttribute("hc-svg-href", a), f
        }, symbol: function (a, b, c, d, e, f) {
            var g, h, i, j, k, l = this.symbols[a], m = l && l(ma(b), ma(c), d, e, f), o = /^url\((.*?)\)$/;
            return m ? (g = this.path(m), db(g, {
                symbolName: a,
                x: b,
                y: c,
                width: d,
                height: e
            }), f && db(g, f)) : o.test(a) && (k = function (a, b) {
                a.element && (a.attr({
                    width: b[0],
                    height: b[1]
                }), a.alignByTranslate || a.translate(ma((d - b[0]) / 2), ma((e - b[1]) / 2)))
            }, i = a.match(o)[1], j = Ha[i] || f && f.width && f.height && [f.width, f.height], g = this.image(i).attr({
                x: b,
                y: c
            }), g.isImg = !0, j ? k(g, j) : (g.attr({width: 0, height: 0}), h = n("img", {
                onload: function () {
                    k(g, Ha[i] = [this.width, this.height])
                }, src: i
            }))), g
        }, symbols: {
            circle: function (a, b, c, d) {
                var e = .166 * c;
                return [Wa, a + c / 2, b, "C", a + c + e, b, a + c + e, b + d, a + c / 2, b + d, "C", a - e, b + d, a - e, b, a + c / 2, b, "Z"]
            }, square: function (a, b, c, d) {
                return [Wa, a, b, Xa, a + c, b, a + c, b + d, a, b + d, "Z"]
            }, triangle: function (a, b, c, d) {
                return [Wa, a + c / 2, b, Xa, a + c, b + d, a, b + d, "Z"]
            }, "triangle-down": function (a, b, c, d) {
                return [Wa, a, b, Xa, a + c, b, a + c / 2, b + d, "Z"]
            }, diamond: function (a, b, c, d) {
                return [Wa, a + c / 2, b, Xa, a + c, b + d / 2, a + c / 2, b + d, a, b + d / 2, "Z"]
            }, arc: function (a, b, c, d, e) {
                var f = e.start, g = e.r || c || d, h = e.end - .001, i = e.innerR, j = e.open, k = sa(f), l = ta(f), m = sa(h), n = ta(h), o = e.end - f < ua ? 0 : 1;
                return [Wa, a + g * k, b + g * l, "A", g, g, 0, o, 1, a + g * m, b + g * n, j ? Wa : Xa, a + i * m, b + i * n, "A", i, i, 0, o, 0, a + i * k, b + i * l, j ? "" : "Z"]
            }, callout: function (a, b, c, d, e) {
                var f, g = 6, h = 6, i = qa(e && e.r || 0, c, d), j = i + h, k = e && e.anchorX, l = e && e.anchorY;
                return f = ["M", a + i, b, "L", a + c - i, b, "C", a + c, b, a + c, b, a + c, b + i, "L", a + c, b + d - i, "C", a + c, b + d, a + c, b + d, a + c - i, b + d, "L", a + i, b + d, "C", a, b + d, a, b + d, a, b + d - i, "L", a, b + i, "C", a, b, a, b, a + i, b], k && k > c && l > b + j && l < b + d - j ? f.splice(13, 3, "L", a + c, l - h, a + c + g, l, a + c, l + h, a + c, b + d - i) : k && k < 0 && l > b + j && l < b + d - j ? f.splice(33, 3, "L", a, l + h, a - g, l, a, l - h, a, b + i) : l && l > d && k > a + j && k < a + c - j ? f.splice(23, 3, "L", k + h, b + d, k, b + d + g, k - h, b + d, a + i, b + d) : l && l < 0 && k > a + j && k < a + c - j && f.splice(3, 3, "L", k - h, b, k, b - g, k + h, b, c - i, b), f
            }
        }, clipRect: function (a, b, c, d) {
            var e, f = Sa + Ia++, g = this.createElement("clipPath").attr({id: f}).add(this.defs);
            return e = this.rect(a, b, c, d, 0).add(g), e.id = f, e.clipPath = g, e.count = 0, e
        }, text: function (a, b, c, d) {
            var e, f = this, g = Ga || !Ea && f.forExport, h = {};
            return d && !f.forExport ? f.html(a, b, c) : (h.x = Math.round(b || 0), c && (h.y = Math.round(c)), (a || 0 === a) && (h.text = a), e = f.createElement("text").attr(h), g && e.css({position: Pa}), d || (e.xSetter = function (a, b, c) {
                var d, e, f = c.getElementsByTagName("tspan"), g = c.getAttribute(b);
                for (e = 0; e < f.length; e++)d = f[e], d.getAttribute(b) === g && d.setAttribute(b, a);
                c.setAttribute(b, a)
            }), e)
        }, fontMetrics: function (a, c) {
            var d, e, f;
            return a = a || this.style.fontSize, c && ka.getComputedStyle && (c = c.element || c, f = ka.getComputedStyle(c, ""), a = f && f.fontSize), a = /px/.test(a) ? b(a) : /em/.test(a) ? 12 * parseFloat(a) : 12, d = a < 24 ? a + 3 : ma(1.2 * a), e = ma(.8 * d), {
                h: d,
                b: e,
                f: a
            }
        }, rotCorr: function (a, b, c) {
            var d = a;
            return b && c && (d = pa(d * sa(b * va), 4)), {x: -a / 3 * ta(b * va), y: d}
        }, label: function (b, c, d, e, f, g, h, i, k) {
            function l() {
                var a, b, c = y.element.style;
                p = (void 0 === q || void 0 === r || x.styles.textAlign) && j(y.textStr) && y.getBBox(), x.width = (q || p.width || 0) + 2 * A + B, x.height = (r || p.height || 0) + 2 * A, u = A + w.fontMetrics(c && c.fontSize, y).b, v && (o || (a = ma(-z * A) + C, b = (i ? -u : 0) + C, x.box = o = e ? w.symbol(e, a, b, x.width, x.height, D) : w.rect(a, b, x.width, x.height, 0, D[bb]), o.isImg || o.attr("fill", Va), o.add(x)), o.isImg || o.attr(db({
                    width: ma(x.width),
                    height: ma(x.height)
                }, D)), D = null)
            }

            function m() {
                var a, b = x.styles, c = b && b.textAlign, d = B + A * (1 - z);
                a = i ? 0 : u, j(q) && p && ("center" === c || "right" === c) && (d += {
                        center: .5,
                        right: 1
                    }[c] * (q - p.width)), d === y.x && a === y.y || (y.attr("x", d), a !== K && y.attr("y", a)), y.x = d, y.y = a
            }

            function n(a, b) {
                o ? o.attr(a, b) : D[a] = b
            }

            var o, p, q, r, s, t, u, v, w = this, x = w.g(k), y = w.text("", 0, 0, h).attr({zIndex: 1}), z = 0, A = 3, B = 0, C = 0, D = {};
            x.onAdd = function () {
                y.add(x), x.attr({text: b || 0 === b ? b : "", x: c, y: d}), o && j(f) && x.attr({
                    anchorX: f,
                    anchorY: g
                })
            }, x.widthSetter = function (a) {
                q = a
            }, x.heightSetter = function (a) {
                r = a
            }, x.paddingSetter = function (a) {
                j(a) && a !== A && (A = x.padding = a, m())
            }, x.paddingLeftSetter = function (a) {
                j(a) && a !== B && (B = a, m())
            }, x.alignSetter = function (a) {
                z = {left: 0, center: .5, right: 1}[a]
            }, x.textSetter = function (a) {
                a !== K && y.textSetter(a), l(), m()
            }, x["stroke-widthSetter"] = function (a, b) {
                a && (v = !0), C = a % 2 / 2, n(b, a)
            }, x.strokeSetter = x.fillSetter = x.rSetter = function (a, b) {
                "fill" === b && a && (v = !0), n(b, a)
            }, x.anchorXSetter = function (a, b) {
                f = a, n(b, ma(a) - C - s)
            }, x.anchorYSetter = function (a, b) {
                g = a, n(b, a - t)
            }, x.xSetter = function (a) {
                x.x = a, z && (a -= z * ((q || p.width) + A)), s = ma(a), x.attr("translateX", s)
            }, x.ySetter = function (a) {
                t = x.y = ma(a), x.attr("translateY", t)
            };
            var E = x.css;
            return db(x, {
                css: function (b) {
                    if (b) {
                        var c = {};
                        b = a(b), lb(x.textProps, function (a) {
                            b[a] !== K && (c[a] = b[a], delete b[a])
                        }), y.css(c)
                    }
                    return E.call(x, b)
                }, getBBox: function () {
                    return {width: p.width + 2 * A, height: p.height + 2 * A, x: p.x - A, y: p.y - A}
                }, shadow: function (a) {
                    return o && o.shadow(a), x
                }, destroy: function () {
                    qb(x.element, "mouseenter"), qb(x.element, "mouseleave"), y && (y = y.destroy()), o && (o = o.destroy()), H.prototype.destroy.call(x), x = w = l = m = n = null
                }
            })
        }
    }, L = Bb, db(H.prototype, {
        htmlCss: function (a) {
            var b = this, c = b.element, d = a && "SPAN" === c.tagName && a.width;
            return d && (delete a.width, b.textWidth = d, b.updateTransform()), a && "ellipsis" === a.textOverflow && (a.whiteSpace = "nowrap", a.overflow = "hidden"), b.styles = db(b.styles, a), m(b.element, a), b
        }, htmlGetBBox: function () {
            var a = this, b = a.element;
            return "text" === b.nodeName && (b.style.position = Pa), {
                x: b.offsetLeft,
                y: b.offsetTop,
                width: b.offsetWidth,
                height: b.offsetHeight
            }
        }, htmlUpdateTransform: function () {
            if (!this.added)return void(this.alignOnAdd = !0);
            var a = this, c = a.renderer, d = a.element, e = a.translateX || 0, f = a.translateY || 0, g = a.x || 0, h = a.y || 0, i = a.textAlign || "left", k = {
                left: 0,
                center: .5,
                right: 1
            }[i], l = a.shadows, n = a.styles;
            if (m(d, {marginLeft: e, marginTop: f}), l && lb(l, function (a) {
                    m(a, {marginLeft: e + 1, marginTop: f + 1})
                }), a.inverted && lb(d.childNodes, function (a) {
                    c.invertChild(a, d)
                }), "SPAN" === d.tagName) {
                var o, p, q = a.rotation, r = b(a.textWidth), s = [q, i, d.innerHTML, a.textWidth, a.textAlign].join(",");
                s !== a.cTT && (p = c.fontMetrics(d.style.fontSize).b, j(q) && a.setSpanRotation(q, k, p), o = eb(a.elemWidth, d.offsetWidth), o > r && /[ \-]/.test(d.textContent || d.innerText) && (m(d, {
                    width: r + Ua,
                    display: "block",
                    whiteSpace: n && n.whiteSpace || "normal"
                }), o = r), a.getSpanCorrection(o, p, k, q, i)), m(d, {
                    left: g + (a.xCorr || 0) + Ua,
                    top: h + (a.yCorr || 0) + Ua
                }), Aa && (p = d.offsetHeight), a.cTT = s
            }
        }, setSpanRotation: function (a, b, c) {
            var d = {}, e = ya ? "-ms-transform" : Aa ? "-webkit-transform" : Ba ? "MozTransform" : xa ? "-o-transform" : "";
            d[e] = d.transform = "rotate(" + a + "deg)", d[e + (Ba ? "Origin" : "-origin")] = d.transformOrigin = 100 * b + "% " + c + "px", m(this.element, d)
        }, getSpanCorrection: function (a, b, c) {
            this.xCorr = -a * c, this.yCorr = -b
        }
    }), db(Bb.prototype, {
        html: function (a, b, c) {
            var d = this.createElement("span"), e = d.element, f = d.renderer;
            return d.textSetter = function (a) {
                a !== e.innerHTML && delete this.bBox, e.innerHTML = this.textStr = a, d.htmlUpdateTransform()
            }, d.xSetter = d.ySetter = d.alignSetter = d.rotationSetter = function (a, b) {
                "align" === b && (b = "textAlign"), d[b] = a, d.htmlUpdateTransform()
            }, d.attr({text: a, x: ma(b), y: ma(c)}).css({
                position: Pa,
                fontFamily: this.style.fontFamily,
                fontSize: this.style.fontSize
            }), e.style.whiteSpace = "nowrap", d.css = d.htmlCss, f.isSVG && (d.add = function (a) {
                var b, c, g = f.box.parentNode, h = [];
                if (this.parentGroup = a, a) {
                    if (b = a.div, !b) {
                        for (c = a; c;)h.push(c), c = c.parentGroup;
                        lb(h.reverse(), function (a) {
                            var c, d = k(a.element, "class");
                            d && (d = {className: d}), b = a.div = a.div || n(Oa, d, {
                                    position: Pa,
                                    left: (a.translateX || 0) + Ua,
                                    top: (a.translateY || 0) + Ua
                                }, b || g), c = b.style, db(a, {
                                translateXSetter: function (b, d) {
                                    c.left = b + Ua, a[d] = b, a.doTransform = !0
                                }, translateYSetter: function (b, d) {
                                    c.top = b + Ua, a[d] = b, a.doTransform = !0
                                }
                            }), fb(a, "visibilitySetter", function (a, b, d, e) {
                                a.call(this, b, d, e), c[d] = b
                            })
                        })
                    }
                } else b = g;
                return b.appendChild(e), d.added = !0, d.alignOnAdd && d.htmlUpdateTransform(), d
            }), d
        }
    });
    var Cb, Db;
    if (!Ea && !Ga) {
        Db = {
            init: function (a, b) {
                var c = this, d = ["<", b, ' filled="f" stroked="f"'], e = ["position: ", Pa, ";"], f = b === Oa;
                ("shape" === b || f) && e.push("left:0;top:0;width:1px;height:1px;"), e.push("visibility: ", f ? Ra : Ta), d.push(' style="', e.join(""), '"/>'), b && (d = f || "span" === b || "img" === b ? d.join("") : a.prepVML(d), c.element = n(d)), c.renderer = a
            }, add: function (a) {
                var b = this, c = b.renderer, d = b.element, e = c.box, f = a && a.inverted, g = a ? a.element || a : e;
                return f && c.invertChild(d, g), g.appendChild(d), b.added = !0, b.alignOnAdd && !b.deferUpdateTransform && b.updateTransform(), b.onAdd && b.onAdd(), b
            }, updateTransform: H.prototype.htmlUpdateTransform, setSpanRotation: function () {
                var a = this.rotation, b = sa(a * va), c = ta(a * va);
                m(this.element, {filter: a ? ["progid:DXImageTransform.Microsoft.Matrix(M11=", b, ", M12=", -c, ", M21=", c, ", M22=", b, ", sizingMethod='auto expand')"].join("") : Va})
            }, getSpanCorrection: function (a, b, c, d, e) {
                var f, g = d ? sa(d * va) : 1, h = d ? ta(d * va) : 0, i = eb(this.elemHeight, this.element.offsetHeight), j = e && "left" !== e;
                this.xCorr = g < 0 && -a, this.yCorr = h < 0 && -i, f = g * h < 0, this.xCorr += h * b * (f ? 1 - c : c), this.yCorr -= g * b * (d ? f ? c : 1 - c : 1), j && (this.xCorr -= a * c * (g < 0 ? -1 : 1), d && (this.yCorr -= i * c * (h < 0 ? -1 : 1)), m(this.element, {textAlign: e}))
            }, pathToVML: function (a) {
                for (var b = a.length, c = []; b--;)f(a[b]) ? c[b] = ma(10 * a[b]) - 5 : "Z" === a[b] ? c[b] = "x" : (c[b] = a[b], !a.isArc || "wa" !== a[b] && "at" !== a[b] || (c[b + 5] === c[b + 7] && (c[b + 7] += a[b + 7] > a[b + 5] ? 1 : -1), c[b + 6] === c[b + 8] && (c[b + 8] += a[b + 8] > a[b + 6] ? 1 : -1)));
                return c.join(" ") || "x"
            }, clip: function (a) {
                var b, c, d = this;
                return a ? (b = a.members, i(b, d), b.push(d), d.destroyClip = function () {
                    i(b, d)
                }, c = a.getCSS(d)) : (d.destroyClip && d.destroyClip(), c = {clip: za ? "inherit" : "rect(auto)"}), d.css(c)
            }, css: H.prototype.htmlCss, safeRemoveChild: function (a) {
                a.parentNode && A(a)
            }, destroy: function () {
                return this.destroyClip && this.destroyClip(), H.prototype.destroy.apply(this)
            }, on: function (a, b) {
                return this.element["on" + a] = function () {
                    var a = ka.event;
                    a.target = a.srcElement, b(a)
                }, this
            }, cutOffPath: function (a, c) {
                var d;
                return a = a.split(/[ ,]/), d = a.length, 9 !== d && 11 !== d || (a[d - 4] = a[d - 2] = b(a[d - 2]) - 10 * c), a.join(" ")
            }, shadow: function (a, c, d) {
                var e, f, g, h, i, j, k, l = [], m = this.element, o = this.renderer, p = m.style, q = m.path;
                if (q && "string" != typeof q.value && (q = "x"), i = q, a) {
                    for (j = eb(a.width, 3), k = (a.opacity || .15) / j, e = 1; e <= 3; e++)h = 2 * j + 1 - 2 * e, d && (i = this.cutOffPath(q.value, h + .5)), g = ['<shape isShadow="true" strokeweight="', h, '" filled="false" path="', i, '" coordsize="10 10" style="', m.style.cssText, '" />'], f = n(o.prepVML(g), null, {
                        left: b(p.left) + eb(a.offsetX, 1),
                        top: b(p.top) + eb(a.offsetY, 1)
                    }), d && (f.cutOff = h + 1), g = ['<stroke color="', a.color || "black", '" opacity="', k * e, '"/>'], n(o.prepVML(g), null, null, f), c ? c.element.appendChild(f) : m.parentNode.insertBefore(f, m), l.push(f);
                    this.shadows = l
                }
                return this
            }, updateShadows: Ja, setAttr: function (a, b) {
                za ? this.element[a] = b : this.element.setAttribute(a, b)
            }, classSetter: function (a) {
                this.element.className = a
            }, dashstyleSetter: function (a, b, c) {
                var d = c.getElementsByTagName("stroke")[0] || n(this.renderer.prepVML(["<stroke/>"]), null, null, c);
                d[b] = a || "solid", this[b] = a
            }, dSetter: function (a, b, c) {
                var d, e = this.shadows;
                if (a = a || [], this.d = a.join && a.join(" "), c.path = a = this.pathToVML(a), e)for (d = e.length; d--;)e[d].path = e[d].cutOff ? this.cutOffPath(a, e[d].cutOff) : a;
                this.setAttr(b, a)
            }, fillSetter: function (a, b, c) {
                var d = c.nodeName;
                "SPAN" === d ? c.style.color = a : "IMG" !== d && (c.filled = a !== Va, this.setAttr("fillcolor", this.renderer.color(a, c, b, this)))
            }, opacitySetter: Ja, rotationSetter: function (a, b, c) {
                var d = c.style;
                this[b] = d[b] = a, d.left = -ma(ta(a * va) + 1) + Ua, d.top = ma(sa(a * va)) + Ua
            }, strokeSetter: function (a, b, c) {
                this.setAttr("strokecolor", this.renderer.color(a, c, b))
            }, "stroke-widthSetter": function (a, b, c) {
                c.stroked = !!a, this[b] = a, f(a) && (a += Ua), this.setAttr("strokeweight", a)
            }, titleSetter: function (a, b) {
                this.setAttr(b, a)
            }, visibilitySetter: function (a, b, c) {
                "inherit" === a && (a = Ta), this.shadows && lb(this.shadows, function (c) {
                    c.style[b] = a
                }), "DIV" === c.nodeName && (a = a === Ra ? "-999em" : 0, za || (c.style[b] = a ? Ta : Ra), b = "top"), c.style[b] = a
            }, xSetter: function (a, b, c) {
                this[b] = a, "x" === b ? b = "left" : "y" === b && (b = "top"), this.updateClipping ? (this[b] = a, this.updateClipping()) : c.style[b] = a
            }, zIndexSetter: function (a, b, c) {
                c.style[b] = a
            }
        }, ia.VMLElement = Db = o(H, Db), Db.prototype.ySetter = Db.prototype.widthSetter = Db.prototype.heightSetter = Db.prototype.xSetter;
        var Eb = {
            Element: Db, isIE8: wa.indexOf("MSIE 8.0") > -1, init: function (a, b, c, d) {
                var e, f, g, h = this;
                if (h.alignedObjects = [], e = h.createElement(Oa).css(db(this.getStyle(d), {position: Qa})), f = e.element, a.appendChild(e.element), h.isVML = !0, h.box = f, h.boxWrapper = e, h.cache = {}, h.setSize(b, c, !1), !ja.namespaces.hcv) {
                    ja.namespaces.add("hcv", "urn:schemas-microsoft-com:vml"), g = "hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ";
                    try {
                        ja.createStyleSheet().cssText = g
                    } catch (a) {
                        ja.styleSheets[0].cssText += g
                    }
                }
            }, isHidden: function () {
                return !this.box.offsetWidth
            }, clipRect: function (a, b, c, e) {
                var f = this.createElement(), g = d(a);
                return db(f, {
                    members: [],
                    count: 0,
                    left: (g ? a.x : a) + 1,
                    top: (g ? a.y : b) + 1,
                    width: (g ? a.width : c) - 1,
                    height: (g ? a.height : e) - 1,
                    getCSS: function (a) {
                        var b = a.element, c = b.nodeName, d = "shape" === c, e = a.inverted, f = this, g = f.top - (d ? b.offsetTop : 0), h = f.left, i = h + f.width, j = g + f.height, k = {clip: "rect(" + ma(e ? h : g) + "px," + ma(e ? j : i) + "px," + ma(e ? i : j) + "px," + ma(e ? g : h) + "px)"};
                        return !e && za && "DIV" === c && db(k, {width: i + Ua, height: j + Ua}), k
                    },
                    updateClipping: function () {
                        lb(f.members, function (a) {
                            a.element && a.css(f.getCSS(a))
                        })
                    }
                })
            }, color: function (a, b, c, d) {
                var e, f, g, h = this, i = /^rgba/, j = Va;
                if (a && a.linearGradient ? g = "gradient" : a && a.radialGradient && (g = "pattern"), g) {
                    var k, l, m, o, p, q, r, s, t, u, v, w, x = a.linearGradient || a.radialGradient, y = "", z = a.stops, A = [], B = function () {
                        f = ['<fill colors="' + A.join(",") + '" opacity="', s, '" o:opacity2="', r, '" type="', g, '" ', y, 'focus="100%" method="any" />'], n(h.prepVML(f), null, null, b)
                    };
                    if (v = z[0], w = z[z.length - 1], v[0] > 0 && z.unshift([0, v[1]]), w[0] < 1 && z.push([1, w[1]]), lb(z, function (a, b) {
                            i.test(a[1]) ? (e = Ab(a[1]), k = e.get("rgb"), l = e.get("a")) : (k = a[1], l = 1), A.push(100 * a[0] + "% " + k), b ? (s = l, t = k) : (r = l, u = k)
                        }), "fill" === c)if ("gradient" === g)m = x.x1 || x[0] || 0, o = x.y1 || x[1] || 0, p = x.x2 || x[2] || 0, q = x.y2 || x[3] || 0, y = 'angle="' + (90 - 180 * la.atan((q - o) / (p - m)) / ua) + '"', B(); else {
                        var C, D = x.r, E = 2 * D, F = 2 * D, G = x.cx, H = x.cy, I = b.radialReference, J = function () {
                            I && (C = d.getBBox(), G += (I[0] - C.x) / C.width - .5, H += (I[1] - C.y) / C.height - .5, E *= I[2] / C.width, F *= I[2] / C.height), y = 'src="' + O.global.VMLRadialGradientURL + '" size="' + E + "," + F + '" origin="0.5,0.5" position="' + G + "," + H + '" color2="' + u + '" ', B()
                        };
                        d.added ? J() : d.onAdd = J, j = t
                    } else j = k;
                } else if (i.test(a) && "IMG" !== b.tagName)e = Ab(a), f = ["<", c, ' opacity="', e.get("a"), '"/>'], n(this.prepVML(f), null, null, b), j = e.get("rgb"); else {
                    var K = b.getElementsByTagName(c);
                    K.length && (K[0].opacity = 1, K[0].type = "solid"), j = a
                }
                return j
            }, prepVML: function (a) {
                var b = "display:inline-block;behavior:url(#default#VML);", c = this.isIE8;
                return a = a.join(""), c ? (a = a.replace("/>", ' xmlns="urn:schemas-microsoft-com:vml" />'), a = a.indexOf('style="') === -1 ? a.replace("/>", ' style="' + b + '" />') : a.replace('style="', 'style="' + b)) : a = a.replace("<", "<hcv:"), a
            }, text: Bb.prototype.html, path: function (a) {
                var b = {coordsize: "10 10"};
                return e(a) ? b.d = a : d(a) && db(b, a), this.createElement("shape").attr(b)
            }, circle: function (a, b, c) {
                var e = this.symbol("circle");
                return d(a) && (c = a.r, b = a.y, a = a.x), e.isCircle = !0, e.r = c, e.attr({x: a, y: b})
            }, g: function (a) {
                var b, c;
                return a && (c = {className: Sa + a, class: Sa + a}), b = this.createElement(Oa).attr(c)
            }, image: function (a, b, c, d, e) {
                var f = this.createElement("img").attr({src: a});
                return arguments.length > 1 && f.attr({x: b, y: c, width: d, height: e}), f
            }, createElement: function (a) {
                return "rect" === a ? this.symbol(a) : Bb.prototype.createElement.call(this, a)
            }, invertChild: function (a, c) {
                var d = this, e = c.style, f = "IMG" === a.tagName && a.style;
                m(a, {
                    flip: "x",
                    left: b(e.width) - (f ? b(f.top) : 1),
                    top: b(e.height) - (f ? b(f.left) : 1),
                    rotation: -90
                }), lb(a.childNodes, function (b) {
                    d.invertChild(b, a)
                })
            }, symbols: {
                arc: function (a, b, c, d, e) {
                    var f, g = e.start, h = e.end, i = e.r || c || d, j = e.innerR, k = sa(g), l = ta(g), m = sa(h), n = ta(h);
                    return h - g === 0 ? ["x"] : (f = ["wa", a - i, b - i, a + i, b + i, a + i * k, b + i * l, a + i * m, b + i * n], e.open && !j && f.push("e", Wa, a, b), f.push("at", a - j, b - j, a + j, b + j, a + j * m, b + j * n, a + j * k, b + j * l, "x", "e"), f.isArc = !0, f)
                }, circle: function (a, b, c, d, e) {
                    return e && (c = d = 2 * e.r), e && e.isCircle && (a -= c / 2, b -= d / 2), ["wa", a, b, a + c, b + d, a + c, b + d / 2, a + c, b + d / 2, "e"]
                }, rect: function (a, b, c, d, e) {
                    return Bb.prototype.symbols[j(e) && e.r ? "callout" : "square"].call(0, a, b, c, d, e)
                }
            }
        };
        ia.VMLRenderer = Cb = function () {
            this.init.apply(this, arguments)
        }, Cb.prototype = a(Bb.prototype, Eb), L = Cb
    }
    Bb.prototype.measureSpanWidth = function (a, b) {
        var c, d = ja.createElement("span"), e = ja.createTextNode(a);
        return d.appendChild(e), m(d, b), this.box.appendChild(d), c = d.offsetWidth, A(d), c
    };
    var Fb, Gb;
    Ga && (ia.CanVGRenderer = Fb = function () {
        Da = "http://www.w3.org/1999/xhtml"
    }, Fb.prototype.symbols = {}, Gb = function () {
        function a() {
            var a, c = b.length;
            for (a = 0; a < c; a++)b[a]();
            b = []
        }

        var b = [];
        return {
            push: function (c, d) {
                0 === b.length && jb(d, a), b.push(c)
            }
        }
    }(), L = Fb), I.prototype = {
        addLabel: function () {
            var b, c, d = this, e = d.axis, f = e.options, g = e.chart, i = e.categories, k = e.names, l = d.pos, m = f.labels, n = e.tickPositions, o = l === n[0], p = l === n[n.length - 1], q = i ? eb(i[l], k[l], l) : l, r = d.label, s = n.info;
            e.isDatetimeAxis && s && (c = f.dateTimeLabelFormats[s.higherRanks[l] || s.unitName]), d.isFirst = o, d.isLast = p, b = e.labelFormatter.call({
                axis: e,
                chart: g,
                isFirst: o,
                isLast: p,
                dateTimeLabelFormat: c,
                value: e.isLog ? C(h(q)) : q
            }), j(r) ? r && r.attr({text: b}) : (d.label = r = j(b) && m.enabled ? g.renderer.text(b, 0, 0, m.useHTML).css(a(m.style)).add(e.labelGroup) : null, d.labelLength = r && r.getBBox().width, d.rotation = 0)
        }, getLabelSize: function () {
            return this.label ? this.label.getBBox()[this.axis.horiz ? "height" : "width"] : 0
        }, handleOverflow: function (a) {
            var b, c, d, e = this.axis, f = a.x, g = e.chart.chartWidth, h = e.chart.spacing, i = eb(e.labelLeft, qa(e.pos, h[3])), j = eb(e.labelRight, pa(e.pos + e.len, g - h[1])), k = this.label, l = this.rotation, m = {
                left: 0,
                center: .5,
                right: 1
            }[e.labelAlign], n = k.getBBox().width, o = e.slotWidth, p = m, q = 1, r = {};
            l ? l < 0 && f - m * n < i ? d = ma(f / sa(l * va) - i) : l > 0 && f + m * n > j && (d = ma((g - f) / sa(l * va))) : (b = f - m * n, c = f + (1 - m) * n, b < i ? o = a.x + o * (1 - m) - i : c > j && (o = j - a.x + o * m, q = -1), o = qa(e.slotWidth, o), o < e.slotWidth && "center" === e.labelAlign && (a.x += q * (e.slotWidth - o - p * (e.slotWidth - qa(n, o)))), (n > o || e.autoRotation && k.styles.width) && (d = o)), d && (r.width = d, e.options.labels.style.textOverflow || (r.textOverflow = "ellipsis"), k.css(r))
        }, getPosition: function (a, b, c, d) {
            var e = this.axis, f = e.chart, g = d && f.oldChartHeight || f.chartHeight;
            return {
                x: a ? e.translate(b + c, null, null, d) + e.transB : e.left + e.offset + (e.opposite ? (d && f.oldChartWidth || f.chartWidth) - e.right - e.left : 0),
                y: a ? g - e.bottom + e.offset - (e.opposite ? e.height : 0) : g - e.translate(b + c, null, null, d) - e.transB
            }
        }, getLabelPosition: function (a, b, c, d, e, f, g, h) {
            var i, j = this.axis, k = j.transA, l = j.reversed, m = j.staggerLines, n = j.tickRotCorr || {
                    x: 0,
                    y: 0
                }, o = eb(e.y, n.y + (2 === j.side ? 8 : -(c.getBBox().height / 2)));
            return a = a + e.x + n.x - (f && d ? f * k * (l ? -1 : 1) : 0), b = b + o - (f && !d ? f * k * (l ? 1 : -1) : 0), m && (i = g / (h || 1) % m, b += i * (j.labelOffset / m)), {
                x: a,
                y: ma(b)
            }
        }, getMarkPath: function (a, b, c, d, e, f) {
            return f.crispLine([Wa, a, b, Xa, a + (e ? 0 : -c), b + (e ? c : 0)], d)
        }, render: function (a, b, c) {
            var d, e, f, g = this, h = g.axis, i = h.options, j = h.chart, k = j.renderer, l = h.horiz, m = g.type, n = g.label, o = g.pos, p = i.labels, q = g.gridLine, r = m ? m + "Grid" : "grid", s = m ? m + "Tick" : "tick", t = i[r + "LineWidth"], u = i[r + "LineColor"], v = i[r + "LineDashStyle"], w = i[s + "Length"], x = eb(i[s + "Width"], !m && h.isXAxis ? 1 : 0), y = i[s + "Color"], z = i[s + "Position"], A = g.mark, B = p.step, C = !0, D = h.tickmarkOffset, E = g.getPosition(l, o, D, b), F = E.x, G = E.y, H = l && F === h.pos + h.len || !l && G === h.pos ? -1 : 1;
            c = eb(c, 1), this.isActive = !0, t && (d = h.getPlotLinePath(o + D, t * H, b, !0), q === K && (f = {
                stroke: u,
                "stroke-width": t
            }, v && (f.dashstyle = v), m || (f.zIndex = 1), b && (f.opacity = 0), g.gridLine = q = t ? k.path(d).attr(f).add(h.gridGroup) : null), !b && q && d && q[g.isNew ? "attr" : "animate"]({
                d: d,
                opacity: c
            })), x && w && ("inside" === z && (w = -w), h.opposite && (w = -w), e = g.getMarkPath(F, G, w, x * H, l, k), A ? A.animate({
                d: e,
                opacity: c
            }) : g.mark = k.path(e).attr({
                stroke: y,
                "stroke-width": x,
                opacity: c
            }).add(h.axisGroup)), n && !isNaN(F) && (n.xy = E = g.getLabelPosition(F, G, n, l, p, D, a, B), g.isFirst && !g.isLast && !eb(i.showFirstLabel, 1) || g.isLast && !g.isFirst && !eb(i.showLastLabel, 1) ? C = !1 : !l || h.isRadial || p.step || p.rotation || b || 0 === c || g.handleOverflow(E), B && a % B && (C = !1), C && !isNaN(E.y) ? (E.opacity = c, n[g.isNew ? "attr" : "animate"](E), g.isNew = !1) : n.attr("y", -9999))
        }, destroy: function () {
            z(this, this.axis)
        }
    }, ia.PlotLineOrBand = function (a, b) {
        this.axis = a, b && (this.options = b, this.id = b.id)
    }, ia.PlotLineOrBand.prototype = {
        render: function () {
            var b, c, d, e, f, h, i = this, k = i.axis, l = k.horiz, m = i.options, n = m.label, o = i.label, p = m.width, q = m.to, r = m.from, s = j(r) && j(q), t = m.value, u = m.dashStyle, v = i.svgElem, w = [], z = m.color, A = m.zIndex, B = m.events, C = {}, D = k.chart.renderer;
            if (k.isLog && (r = g(r), q = g(q), t = g(t)), p)w = k.getPlotLinePath(t, p), C = {
                stroke: z,
                "stroke-width": p
            }, u && (C.dashstyle = u); else {
                if (!s)return;
                w = k.getPlotBandPath(r, q, m), z && (C.fill = z), m.borderWidth && (C.stroke = m.borderColor, C["stroke-width"] = m.borderWidth)
            }
            if (j(A) && (C.zIndex = A), v)w ? v.animate({d: w}, null, v.onGetPath) : (v.hide(), v.onGetPath = function () {
                v.show()
            }, o && (i.label = o = o.destroy())); else if (w && w.length && (i.svgElem = v = D.path(w).attr(C).add(), B)) {
                b = function (a) {
                    v.on(a, function (b) {
                        B[a].apply(i, [b])
                    })
                };
                for (c in B)b(c)
            }
            return n && j(n.text) && w && w.length && k.width > 0 && k.height > 0 ? (n = a({
                align: l && s && "center",
                x: l ? !s && 4 : 10,
                verticalAlign: !l && s && "middle",
                y: l ? s ? 16 : 10 : s ? 6 : -4,
                rotation: l && !s && 90
            }, n), o || (C = {
                align: n.textAlign || n.align,
                rotation: n.rotation
            }, j(A) && (C.zIndex = A), i.label = o = D.text(n.text, 0, 0, n.useHTML).attr(C).css(n.style).add()), d = [w[1], w[4], s ? w[6] : w[1]], e = [w[2], w[5], s ? w[7] : w[2]], f = x(d), h = x(e), o.align(n, !1, {
                x: f,
                y: h,
                width: y(d) - f,
                height: y(e) - h
            }), o.show()) : o && o.hide(), i
        }, destroy: function () {
            i(this.axis.plotLinesAndBands, this), delete this.axis, z(this)
        }
    }, S = {
        getPlotBandPath: function (a, b) {
            var c = this.getPlotLinePath(b, null, null, !0), d = this.getPlotLinePath(a, null, null, !0);
            return d && c && d.toString() !== c.toString() ? d.push(c[4], c[5], c[1], c[2]) : d = null, d
        }, addPlotBand: function (a) {
            return this.addPlotBandOrLine(a, "plotBands")
        }, addPlotLine: function (a) {
            return this.addPlotBandOrLine(a, "plotLines")
        }, addPlotBandOrLine: function (a, b) {
            var c = new ia.PlotLineOrBand(this, a).render(), d = this.userOptions;
            return c && (b && (d[b] = d[b] || [], d[b].push(a)), this.plotLinesAndBands.push(c)), c
        }, removePlotBandOrLine: function (a) {
            for (var b = this.plotLinesAndBands, c = this.options, d = this.userOptions, e = b.length; e--;)b[e].id === a && b[e].destroy();
            lb([c.plotLines || [], d.plotLines || [], c.plotBands || [], d.plotBands || []], function (b) {
                for (e = b.length; e--;)b[e].id === a && i(b, b[e])
            })
        }
    };
    var Hb = ia.Axis = function () {
        this.init.apply(this, arguments)
    };
    Hb.prototype = {
        defaultOptions: {
            dateTimeLabelFormats: {
                millisecond: "%H:%M:%S.%L",
                second: "%H:%M:%S",
                minute: "%H:%M",
                hour: "%H:%M",
                day: "%e. %b",
                week: "%e. %b",
                month: "%b '%y",
                year: "%Y"
            },
            endOnTick: !1,
            gridLineColor: "#D8D8D8",
            labels: {enabled: !0, style: {color: "#606060", cursor: "default", fontSize: "11px"}, x: 0, y: 15},
            lineColor: "#C0D0E0",
            lineWidth: 1,
            minPadding: .01,
            maxPadding: .01,
            minorGridLineColor: "#E0E0E0",
            minorGridLineWidth: 1,
            minorTickColor: "#A0A0A0",
            minorTickLength: 2,
            minorTickPosition: "outside",
            startOfWeek: 1,
            startOnTick: !1,
            tickColor: "#C0D0E0",
            tickLength: 10,
            tickmarkPlacement: "between",
            tickPixelInterval: 100,
            tickPosition: "outside",
            title: {align: "middle", style: {color: "#707070"}},
            type: "linear"
        },
        defaultYAxisOptions: {
            endOnTick: !0,
            gridLineWidth: 1,
            tickPixelInterval: 72,
            showLastLabel: !0,
            labels: {x: -8, y: 3},
            lineWidth: 0,
            maxPadding: .05,
            minPadding: .05,
            startOnTick: !0,
            title: {rotation: 270, text: "Values"},
            stackLabels: {
                enabled: !1, formatter: function () {
                    return ia.numberFormat(this.total, -1)
                }, style: a(vb.line.dataLabels.style, {color: "#000000"})
            }
        },
        defaultLeftAxisOptions: {labels: {x: -15, y: null}, title: {rotation: 270}},
        defaultRightAxisOptions: {labels: {x: 15, y: null}, title: {rotation: 90}},
        defaultBottomAxisOptions: {labels: {autoRotation: [-45], x: 0, y: null}, title: {rotation: 0}},
        defaultTopAxisOptions: {labels: {autoRotation: [-45], x: 0, y: -15}, title: {rotation: 0}},
        init: function (a, b) {
            var c = b.isX, d = this;
            d.chart = a, d.horiz = a.inverted ? !c : c, d.isXAxis = c, d.coll = c ? "xAxis" : "yAxis", d.opposite = b.opposite, d.side = b.side || (d.horiz ? d.opposite ? 0 : 2 : d.opposite ? 1 : 3), d.setOptions(b);
            var e = this.options, f = e.type, i = "datetime" === f;
            d.labelFormatter = e.labels.formatter || d.defaultLabelFormatter, d.userOptions = b, d.minPixelPadding = 0, d.reversed = e.reversed, d.zoomEnabled = e.zoomEnabled !== !1, d.categories = e.categories || "category" === f, d.names = d.names || [], d.isLog = "logarithmic" === f, d.isDatetimeAxis = i, d.isLinked = j(e.linkedTo), d.ticks = {}, d.labelEdge = [], d.minorTicks = {}, d.plotLinesAndBands = [], d.alternateBands = {}, d.len = 0, d.minRange = d.userMinRange = e.minRange || e.maxZoom, d.range = e.range, d.offset = e.offset || 0, d.stacks = {}, d.oldStacks = {}, d.stacksTouched = 0, d.max = null, d.min = null, d.crosshair = eb(e.crosshair, l(a.options.tooltip.crosshairs)[c ? 0 : 1], !1);
            var k, m = d.options.events;
            kb(d, a.axes) === -1 && (c && !this.isColorAxis ? a.axes.splice(a.xAxis.length, 0, d) : a.axes.push(d), a[d.coll].push(d)), d.series = d.series || [], a.inverted && c && d.reversed === K && (d.reversed = !0), d.removePlotBand = d.removePlotBandOrLine, d.removePlotLine = d.removePlotBandOrLine;
            for (k in m)pb(d, k, m[k]);
            d.isLog && (d.val2lin = g, d.lin2val = h)
        },
        setOptions: function (b) {
            this.options = a(this.defaultOptions, this.isXAxis ? {} : this.defaultYAxisOptions, [this.defaultTopAxisOptions, this.defaultRightAxisOptions, this.defaultBottomAxisOptions, this.defaultLeftAxisOptions][this.side], a(O[this.coll], b))
        },
        defaultLabelFormatter: function () {
            var a, b, c = this.axis, d = this.value, e = c.categories, f = this.dateTimeLabelFormat, g = O.lang.numericSymbols, h = g && g.length, i = c.options.labels.format, j = c.isLog ? d : c.tickInterval;
            if (i)b = t(i, this); else if (e)b = d; else if (f)b = P(f, d); else if (h && j >= 1e3)for (; h-- && b === K;)a = Math.pow(1e3, h + 1), j >= a && 10 * d % a === 0 && null !== g[h] && (b = ia.numberFormat(d / a, -1) + g[h]);
            return b === K && (b = ra(d) >= 1e4 ? ia.numberFormat(d, -1) : ia.numberFormat(d, -1, K, "")), b
        },
        getSeriesExtremes: function () {
            var a = this, b = a.chart;
            a.hasVisibleSeries = !1, a.dataMin = a.dataMax = a.ignoreMinPadding = a.ignoreMaxPadding = null, a.buildStacks && a.buildStacks(), lb(a.series, function (c) {
                if (c.visible || !b.options.chart.ignoreHiddenSeries) {
                    var d, e, f, g = c.options, h = g.threshold;
                    a.hasVisibleSeries = !0, a.isLog && h <= 0 && (h = null), a.isXAxis ? (d = c.xData, d.length && (a.dataMin = qa(eb(a.dataMin, d[0]), x(d)), a.dataMax = pa(eb(a.dataMax, d[0]), y(d)))) : (c.getExtremes(), f = c.dataMax, e = c.dataMin, j(e) && j(f) && (a.dataMin = qa(eb(a.dataMin, e), e), a.dataMax = pa(eb(a.dataMax, f), f)), j(h) && (a.dataMin >= h ? (a.dataMin = h, a.ignoreMinPadding = !0) : a.dataMax < h && (a.dataMax = h, a.ignoreMaxPadding = !0)))
                }
            })
        },
        translate: function (a, b, c, d, e, g) {
            var h, i = this.linkedParent || this, j = 1, k = 0, l = d ? i.oldTransA : i.transA, m = d ? i.oldMin : i.min, n = i.minPixelPadding, o = (i.doPostTranslate || i.isLog && e) && i.lin2val;
            return l || (l = i.transA), c && (j *= -1, k = i.len), i.reversed && (j *= -1, k -= j * (i.sector || i.len)), b ? (a = a * j + k, a -= n, h = a / l + m, o && (h = i.lin2val(h))) : (o && (a = i.val2lin(a)), "between" === g && (g = .5), h = j * (a - m) * l + k + j * n + (f(g) ? l * g * i.pointRange : 0)), h
        },
        toPixels: function (a, b) {
            return this.translate(a, !1, !this.horiz, null, !0) + (b ? 0 : this.pos)
        },
        toValue: function (a, b) {
            return this.translate(a - (b ? 0 : this.pos), !0, !this.horiz, null, !0)
        },
        getPlotLinePath: function (a, b, c, d, e) {
            var f, g, h, i, j, k = this, l = k.chart, m = k.left, n = k.top, o = c && l.oldChartHeight || l.chartHeight, p = c && l.oldChartWidth || l.chartWidth, q = k.transB, r = function (a, b, c) {
                return (a < b || a > c) && (d ? a = qa(pa(b, a), c) : j = !0), a
            };
            return e = eb(e, k.translate(a, null, null, c)), f = h = ma(e + q), g = i = ma(o - e - q), isNaN(e) ? j = !0 : k.horiz ? (g = n, i = o - k.bottom, f = h = r(f, m, m + k.width)) : (f = m, h = p - k.right, g = i = r(g, n, n + k.height)), j && !d ? null : l.renderer.crispLine([Wa, f, g, Xa, h, i], b || 1)
        },
        getLinearTickPositions: function (a, b, c) {
            var d, e, g = C(na(b / a) * a), h = C(oa(c / a) * a), i = [];
            if (b === c && f(b))return [b];
            for (d = g; d <= h && (i.push(d), d = C(d + a), d !== e);)e = d;
            return i
        },
        getMinorTickPositions: function () {
            var a, b, c, d = this, e = d.options, f = d.tickPositions, g = d.minorTickInterval, h = [], i = d.pointRangePadding || 0, j = d.min - i, k = d.max + i, l = k - j;
            if (l && l / g < d.len / 3)if (d.isLog)for (c = f.length, b = 1; b < c; b++)h = h.concat(d.getLogTickPositions(g, f[b - 1], f[b], !0)); else if (d.isDatetimeAxis && "auto" === e.minorTickInterval)h = h.concat(d.getTimeTicks(d.normalizeTimeTickInterval(g), j, k, e.startOfWeek)); else for (a = j + (f[0] - j) % g; a <= k; a += g)h.push(a);
            return 0 !== h.length && d.trimTicks(h, e.startOnTick, e.endOnTick), h
        },
        adjustForMinRange: function () {
            var a, b, c, d, e, f, g, h, i = this, k = i.options, l = i.min, m = i.max, n = i.dataMax - i.dataMin >= i.minRange;
            if (i.isXAxis && i.minRange === K && !i.isLog && (j(k.min) || j(k.max) ? i.minRange = null : (lb(i.series, function (a) {
                    for (e = a.xData, f = a.xIncrement ? 1 : e.length - 1, c = f; c > 0; c--)d = e[c] - e[c - 1], (b === K || d < b) && (b = d)
                }), i.minRange = qa(5 * b, i.dataMax - i.dataMin))), m - l < i.minRange) {
                var o = i.minRange;
                a = (o - m + l) / 2, g = [l - a, eb(k.min, l - a)], n && (g[2] = i.dataMin), l = y(g), h = [l + o, eb(k.max, l + o)], n && (h[2] = i.dataMax), m = x(h), m - l < o && (g[0] = m - o, g[1] = eb(k.min, m - o), l = y(g))
            }
            i.min = l, i.max = m
        },
        setAxisTranslation: function (a) {
            var b, d, e = this, f = e.max - e.min, g = e.axisPointRange || 0, h = 0, i = 0, k = e.linkedParent, l = !!e.categories, m = e.transA, n = e.isXAxis;
            (n || l || g) && (k ? (h = k.minPointOffset, i = k.pointRangePadding) : lb(e.series, function (a) {
                var d = l ? 1 : n ? a.pointRange : e.axisPointRange || 0, k = a.options.pointPlacement, m = a.closestPointRange;
                d > f && (d = 0), g = pa(g, d), e.single || (h = pa(h, c(k) ? 0 : d / 2), i = pa(i, "on" === k ? 0 : d)), !a.noSharedTooltip && j(m) && (b = j(b) ? qa(b, m) : m)
            }), d = e.ordinalSlope && b ? e.ordinalSlope / b : 1, e.minPointOffset = h *= d, e.pointRangePadding = i *= d, e.pointRange = qa(g, f), n && (e.closestPointRange = b)), a && (e.oldTransA = m), e.translationSlope = e.transA = m = e.len / (f + i || 1), e.transB = e.horiz ? e.left : e.bottom, e.minPixelPadding = m * h
        },
        minFromRange: function () {
            return this.max - this.range
        },
        setTickInterval: function (a) {
            var b, c, d, e = this, h = e.chart, i = e.options, k = e.isLog, l = e.isDatetimeAxis, m = e.isXAxis, n = e.isLinked, o = i.maxPadding, p = i.minPadding, q = i.tickInterval, r = i.tickPixelInterval, s = e.categories;
            l || s || n || this.getTickAmount(), n ? (e.linkedParent = h[e.coll][i.linkedTo], c = e.linkedParent.getExtremes(), e.min = eb(c.min, c.dataMin), e.max = eb(c.max, c.dataMax), i.type !== e.linkedParent.options.type && B(11, 1)) : (e.min = eb(e.userMin, i.min, e.dataMin), e.max = eb(e.userMax, i.max, e.dataMax)), k && (!a && qa(e.min, eb(e.dataMin, e.min)) <= 0 && B(10, 1), e.min = C(g(e.min), 15), e.max = C(g(e.max), 15)), e.range && j(e.max) && (e.userMin = e.min = pa(e.min, e.minFromRange()), e.userMax = e.max, e.range = null), e.beforePadding && e.beforePadding(), e.adjustForMinRange(), s || e.axisPointRange || e.usePercentage || n || !j(e.min) || !j(e.max) || (b = e.max - e.min, b && (j(i.min) || j(e.userMin) || !p || !(e.dataMin < 0) && e.ignoreMinPadding || (e.min -= b * p), j(i.max) || j(e.userMax) || !o || !(e.dataMax > 0) && e.ignoreMaxPadding || (e.max += b * o))), f(i.floor) && (e.min = pa(e.min, i.floor)), f(i.ceiling) && (e.max = qa(e.max, i.ceiling)), e.min === e.max || void 0 === e.min || void 0 === e.max ? e.tickInterval = 1 : n && !q && r === e.linkedParent.options.tickPixelInterval ? e.tickInterval = q = e.linkedParent.tickInterval : e.tickInterval = eb(q, this.tickAmount ? (e.max - e.min) / pa(this.tickAmount - 1, 1) : void 0, s ? 1 : (e.max - e.min) * r / pa(e.len, r)), m && !a && lb(e.series, function (a) {
                a.processData(e.min !== e.oldMin || e.max !== e.oldMax)
            }), e.setAxisTranslation(!0), e.beforeSetTickPositions && e.beforeSetTickPositions(), e.postProcessTickInterval && (e.tickInterval = e.postProcessTickInterval(e.tickInterval)), e.pointRange && (e.tickInterval = pa(e.pointRange, e.tickInterval)), d = eb(i.minTickInterval, e.isDatetimeAxis && e.closestPointRange), !q && e.tickInterval < d && (e.tickInterval = d), l || k || q || (e.tickInterval = v(e.tickInterval, null, u(e.tickInterval), eb(i.allowDecimals, !(e.tickInterval > .5 && e.tickInterval < 5 && e.max > 1e3 && e.max < 9999)), !!this.tickAmount)), !this.tickAmount && this.len && (e.tickInterval = e.unsquish()), this.setTickPositions()
        },
        setTickPositions: function () {
            var a, b, c = this.options, d = c.tickPositions, e = c.tickPositioner, f = c.startOnTick, g = c.endOnTick;
            this.tickmarkOffset = this.categories && "between" === c.tickmarkPlacement && 1 === this.tickInterval ? .5 : 0, this.minorTickInterval = "auto" === c.minorTickInterval && this.tickInterval ? this.tickInterval / 5 : c.minorTickInterval, this.tickPositions = a = d && d.slice(), a || (a = this.isDatetimeAxis ? this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval, c.units), this.min, this.max, c.startOfWeek, this.ordinalPositions, this.closestPointRange, !0) : this.isLog ? this.getLogTickPositions(this.tickInterval, this.min, this.max) : this.getLinearTickPositions(this.tickInterval, this.min, this.max), a.length > this.len && (a = [a[0], a.pop()]), this.tickPositions = a, e && (e = e.apply(this, [this.min, this.max]), e && (this.tickPositions = a = e))), this.isLinked || (this.trimTicks(a, f, g), this.min === this.max && j(this.min) && !this.tickAmount && (b = !0, this.min -= .5, this.max += .5), this.single = b, d || e || this.adjustTickAmount())
        },
        trimTicks: function (a, b, c) {
            var d = a[0], e = a[a.length - 1], f = this.minPointOffset || 0;
            b ? this.min = d : this.min - f > d && a.shift(), c ? this.max = e : this.max + f < e && a.pop(), 0 === a.length && j(d) && a.push((e + d) / 2)
        },
        getTickAmount: function () {
            var a, b = {}, c = this.options, d = c.tickAmount, e = c.tickPixelInterval;
            !j(c.tickInterval) && this.len < e && !this.isRadial && !this.isLog && c.startOnTick && c.endOnTick && (d = 2), d || this.chart.options.chart.alignTicks === !1 || c.alignTicks === !1 || (lb(this.chart[this.coll], function (c) {
                var d = c.options, e = c.horiz, f = [e ? d.left : d.top, e ? d.width : d.height, d.pane].join(",");
                b[f] ? c.series.length && (a = !0) : b[f] = 1
            }), a && (d = oa(this.len / e) + 1)), d < 4 && (this.finalTickAmt = d, d = 5), this.tickAmount = d
        },
        adjustTickAmount: function () {
            var a, b, c = this.tickInterval, d = this.tickPositions, e = this.tickAmount, f = this.finalTickAmt, g = d && d.length;
            if (g < e) {
                for (; d.length < e;)d.push(C(d[d.length - 1] + c));
                this.transA *= (g - 1) / (e - 1), this.max = d[d.length - 1]
            } else g > e && (this.tickInterval *= 2, this.setTickPositions());
            if (j(f)) {
                for (a = b = d.length; a--;)(3 === f && a % 2 === 1 || f <= 2 && a > 0 && a < b - 1) && d.splice(a, 1);
                this.finalTickAmt = K
            }
        },
        setScale: function () {
            var a, b, c = this;
            c.oldMin = c.min, c.oldMax = c.max, c.oldAxisLength = c.len, c.setAxisSize(), b = c.len !== c.oldAxisLength, lb(c.series, function (b) {
                (b.isDirtyData || b.isDirty || b.xAxis.isDirty) && (a = !0)
            }), b || a || c.isLinked || c.forceRedraw || c.userMin !== c.oldUserMin || c.userMax !== c.oldUserMax ? (c.resetStacks && c.resetStacks(), c.forceRedraw = !1, c.getSeriesExtremes(), c.setTickInterval(), c.oldUserMin = c.userMin, c.oldUserMax = c.userMax, c.isDirty || (c.isDirty = b || c.min !== c.oldMin || c.max !== c.oldMax)) : c.cleanStacks && c.cleanStacks()
        },
        setExtremes: function (a, b, c, d, e) {
            var f = this, g = f.chart;
            c = eb(c, !0), lb(f.series, function (a) {
                delete a.kdTree
            }), e = db(e, {min: a, max: b}), rb(f, "setExtremes", e, function () {
                f.userMin = a, f.userMax = b, f.eventArgs = e, c && g.redraw(d)
            })
        },
        zoom: function (a, b) {
            var c = this.dataMin, d = this.dataMax, e = this.options, f = qa(c, eb(e.min, c)), g = pa(d, eb(e.max, d));
            return this.allowZoomOutside || (j(c) && a <= f && (a = f), j(d) && b >= g && (b = g)), this.displayBtn = a !== K || b !== K, this.setExtremes(a, b, !1, K, {trigger: "zoom"}), !0
        },
        setAxisSize: function () {
            var a = this.chart, b = this.options, c = b.offsetLeft || 0, d = b.offsetRight || 0, e = this.horiz, f = eb(b.width, a.plotWidth - c + d), g = eb(b.height, a.plotHeight), h = eb(b.top, a.plotTop), i = eb(b.left, a.plotLeft + c), j = /%$/;
            j.test(g) && (g = parseFloat(g) / 100 * a.plotHeight), j.test(h) && (h = parseFloat(h) / 100 * a.plotHeight + a.plotTop), this.left = i, this.top = h, this.width = f, this.height = g, this.bottom = a.chartHeight - g - h, this.right = a.chartWidth - f - i, this.len = pa(e ? f : g, 0), this.pos = e ? i : h
        },
        getExtremes: function () {
            var a = this, b = a.isLog;
            return {
                min: b ? C(h(a.min)) : a.min,
                max: b ? C(h(a.max)) : a.max,
                dataMin: a.dataMin,
                dataMax: a.dataMax,
                userMin: a.userMin,
                userMax: a.userMax
            }
        },
        getThreshold: function (a) {
            var b = this, c = b.isLog, d = c ? h(b.min) : b.min, e = c ? h(b.max) : b.max;
            return null === a ? a = e < 0 ? e : d : d > a ? a = d : e < a && (a = e), b.translate(a, 0, 1, 0, 1)
        },
        autoLabelAlign: function (a) {
            var b, c = (eb(a, 0) - 90 * this.side + 720) % 360;
            return b = c > 15 && c < 165 ? "right" : c > 195 && c < 345 ? "left" : "center"
        },
        unsquish: function () {
            var a, b, c, d = this.chart, e = this.ticks, f = this.options.labels, g = this.horiz, h = this.tickInterval, i = h, k = this.len / (((this.categories ? 1 : 0) + this.max - this.min) / h), l = f.rotation, m = d.renderer.fontMetrics(f.style.fontSize, e[0] && e[0].label), n = Number.MAX_VALUE, o = function (a) {
                var b = a / (k || 1);
                return b = b > 1 ? oa(b) : 1, b * h
            };
            return g ? (c = j(l) ? [l] : k < eb(f.autoRotationLimit, 80) && !f.staggerLines && !f.step && f.autoRotation, c && lb(c, function (c) {
                var d;
                (c === l || c && c >= -90 && c <= 90) && (b = o(ra(m.h / ta(va * c))), d = b + ra(c / 360), d < n && (n = d, a = c, i = b))
            })) : f.step || (i = o(m.h)), this.autoRotation = c, this.labelRotation = a, i
        },
        renderUnsquish: function () {
            var b, d, e, f, g = this.chart, h = g.renderer, i = this.tickPositions, j = this.ticks, k = this.options.labels, l = this.horiz, m = g.margin, n = this.categories ? i.length : i.length - 1, o = this.slotWidth = l && !k.step && !k.rotation && (this.staggerLines || 1) * g.plotWidth / n || !l && (m[3] && m[3] - g.spacing[3] || .33 * g.chartWidth), p = pa(1, ma(o - 2 * (k.padding || 5))), q = {}, r = h.fontMetrics(k.style.fontSize, j[0] && j[0].label), s = k.style.textOverflow, t = 0;
            if (c(k.rotation) || (q.rotation = k.rotation || 0), this.autoRotation)lb(i, function (a) {
                a = j[a], a && a.labelLength > t && (t = a.labelLength)
            }), t > p && t > r.h ? q.rotation = this.labelRotation : this.labelRotation = 0; else if (o && (b = {width: p + Ua}, !s))for (b.textOverflow = "clip", e = i.length; !l && e--;)f = i[e], d = j[f].label, d && ("ellipsis" === d.styles.textOverflow && d.css({textOverflow: "clip"}), d.getBBox().height > this.len / i.length - (r.h - r.f) && (d.specCss = {textOverflow: "ellipsis"}));
            q.rotation && (b = {width: (t > .5 * g.chartHeight ? .33 * g.chartHeight : g.chartHeight) + Ua}, s || (b.textOverflow = "ellipsis")), this.labelAlign = q.align = k.align || this.autoLabelAlign(this.labelRotation), lb(i, function (c) {
                var d = j[c], e = d && d.label;
                e && (b && e.css(a(b, e.specCss)), delete e.specCss, e.attr(q), d.rotation = q.rotation)
            }), this.tickRotCorr = h.rotCorr(r.b, this.labelRotation || 0, 2 === this.side)
        },
        hasData: function () {
            return this.hasVisibleSeries || j(this.min) && j(this.max) && !!this.tickPositions
        },
        getOffset: function () {
            var a, b, c, d, e, f, g, h = this, i = h.chart, k = i.renderer, l = h.options, m = h.tickPositions, n = h.ticks, o = h.horiz, p = h.side, q = i.inverted ? [1, 0, 3, 2][p] : p, r = 0, s = 0, t = l.title, u = l.labels, v = 0, w = i.axisOffset, x = i.clipOffset, y = [-1, 1, 1, -1][p];
            if (a = h.hasData(), h.showAxis = b = a || eb(l.showEmpty, !0), h.staggerLines = h.horiz && u.staggerLines, h.axisGroup || (h.gridGroup = k.g("grid").attr({zIndex: l.gridZIndex || 1}).add(), h.axisGroup = k.g("axis").attr({zIndex: l.zIndex || 2}).add(), h.labelGroup = k.g("axis-labels").attr({zIndex: u.zIndex || 7}).addClass(Sa + h.coll.toLowerCase() + "-labels").add()), a || h.isLinked)lb(m, function (a) {
                n[a] ? n[a].addLabel() : n[a] = new I(h, a)
            }), h.renderUnsquish(), lb(m, function (a) {
                0 !== p && 2 !== p && {1: "left", 3: "right"}[p] !== h.labelAlign || (v = pa(n[a].getLabelSize(), v))
            }), h.staggerLines && (v *= h.staggerLines, h.labelOffset = v); else for (f in n)n[f].destroy(), delete n[f];
            t && t.text && t.enabled !== !1 && (h.axisTitle || (h.axisTitle = k.text(t.text, 0, 0, t.useHTML).attr({
                zIndex: 7,
                rotation: t.rotation || 0,
                align: t.textAlign || {low: "left", middle: "center", high: "right"}[t.align]
            }).addClass(Sa + this.coll.toLowerCase() + "-title").css(t.style).add(h.axisGroup), h.axisTitle.isNew = !0), b && (r = h.axisTitle.getBBox()[o ? "height" : "width"], c = t.offset, s = j(c) ? 0 : eb(t.margin, o ? 5 : 10)), h.axisTitle[b ? "show" : "hide"]()), h.offset = y * eb(l.offset, w[p]), h.tickRotCorr = h.tickRotCorr || {
                    x: 0,
                    y: 0
                }, g = 2 === p ? h.tickRotCorr.y : 0, d = v + s + (v && y * (o ? eb(u.y, h.tickRotCorr.y + 8) : u.x) - g), h.axisTitleMargin = eb(c, d), w[p] = pa(w[p], h.axisTitleMargin + r + y * h.offset, d), e = l.offset ? 0 : 2 * na(l.lineWidth / 2), x[q] = pa(x[q], e)
        },
        getLinePath: function (a) {
            var b = this.chart, c = this.opposite, d = this.offset, e = this.horiz, f = this.left + (c ? this.width : 0) + d, g = b.chartHeight - this.bottom - (c ? this.height : 0) + d;
            return c && (a *= -1), b.renderer.crispLine([Wa, e ? this.left : f, e ? g : this.top, Xa, e ? b.chartWidth - this.right : f, e ? g : b.chartHeight - this.bottom], a)
        },
        getTitlePosition: function () {
            var a = this.horiz, c = this.left, d = this.top, e = this.len, f = this.options.title, g = a ? c : d, h = this.opposite, i = this.offset, j = f.x || 0, k = f.y || 0, l = b(f.style.fontSize || 12), m = {
                low: g + (a ? 0 : e),
                middle: g + e / 2,
                high: g + (a ? e : 0)
            }[f.align], n = (a ? d + this.height : c) + (a ? 1 : -1) * (h ? -1 : 1) * this.axisTitleMargin + (2 === this.side ? l : 0);
            return {x: a ? m + j : n + (h ? this.width : 0) + i + j, y: a ? n + k - (h ? this.height : 0) + i : m + k}
        },
        render: function () {
            var a, b, c, d = this, e = d.chart, f = e.renderer, g = d.options, i = d.isLog, k = d.isLinked, l = d.tickPositions, m = d.axisTitle, n = d.ticks, o = d.minorTicks, p = d.alternateBands, q = g.stackLabels, r = g.alternateGridColor, s = d.tickmarkOffset, t = g.lineWidth, u = e.hasRendered, v = u && j(d.oldMin) && !isNaN(d.oldMin), w = d.showAxis, x = f.globalAnimation;
            d.labelEdge.length = 0, d.overlap = !1, lb([n, o, p], function (a) {
                var b;
                for (b in a)a[b].isActive = !1
            }), (d.hasData() || k) && (d.minorTickInterval && !d.categories && lb(d.getMinorTickPositions(), function (a) {
                o[a] || (o[a] = new I(d, a, "minor")), v && o[a].isNew && o[a].render(null, !0), o[a].render(null, !1, 1)
            }), l.length && (lb(l, function (a, b) {
                (!k || a >= d.min && a <= d.max) && (n[a] || (n[a] = new I(d, a)), v && n[a].isNew && n[a].render(b, !0, .1), n[a].render(b))
            }), s && (0 === d.min || d.single) && (n[-1] || (n[-1] = new I(d, -1, null, !0)), n[-1].render(-1))), r && lb(l, function (a, e) {
                e % 2 === 0 && a < d.max && (p[a] || (p[a] = new ia.PlotLineOrBand(d)), b = a + s, c = l[e + 1] !== K ? l[e + 1] + s : d.max, p[a].options = {
                    from: i ? h(b) : b,
                    to: i ? h(c) : c,
                    color: r
                }, p[a].render(), p[a].isActive = !0)
            }), d._addedPlotLB || (lb((g.plotLines || []).concat(g.plotBands || []), function (a) {
                d.addPlotBandOrLine(a)
            }), d._addedPlotLB = !0)), lb([n, o, p], function (a) {
                var b, c, d = [], f = x ? x.duration || 500 : 0, g = function () {
                    for (c = d.length; c--;)a[d[c]] && !a[d[c]].isActive && (a[d[c]].destroy(), delete a[d[c]])
                };
                for (b in a)a[b].isActive || (a[b].render(b, !1, 0), a[b].isActive = !1, d.push(b));
                a !== p && e.hasRendered && f ? f && setTimeout(g, f) : g()
            }), t && (a = d.getLinePath(t), d.axisLine ? d.axisLine.animate({d: a}) : d.axisLine = f.path(a).attr({
                stroke: g.lineColor,
                "stroke-width": t,
                zIndex: 7
            }).add(d.axisGroup), d.axisLine[w ? "show" : "hide"]()), m && w && (m[m.isNew ? "attr" : "animate"](d.getTitlePosition()), m.isNew = !1), q && q.enabled && d.renderStackTotals(), d.isDirty = !1
        },
        redraw: function () {
            this.render(), lb(this.plotLinesAndBands, function (a) {
                a.render()
            }), lb(this.series, function (a) {
                a.isDirty = !0
            })
        },
        destroy: function (a) {
            var b, c, d = this, e = d.stacks, f = d.plotLinesAndBands;
            a || qb(d);
            for (b in e)z(e[b]), e[b] = null;
            for (lb([d.ticks, d.minorTicks, d.alternateBands], function (a) {
                z(a)
            }), c = f.length; c--;)f[c].destroy();
            lb(["stackTotalGroup", "axisLine", "axisTitle", "axisGroup", "cross", "gridGroup", "labelGroup"], function (a) {
                d[a] && (d[a] = d[a].destroy())
            }), this.cross && this.cross.destroy()
        },
        drawCrosshair: function (a, b) {
            var c, d, e, f, g = this.crosshair, h = g.animation;
            if (!this.crosshair || (j(b) || !eb(this.crosshair.snap, !0)) === !1 || b && b.series && b.series[this.coll] !== this)this.hideCrosshair(); else {
                if (eb(g.snap, !0) ? j(b) && (d = this.isXAxis ? b.plotX : this.len - b.plotY) : d = this.horiz ? a.chartX - this.pos : this.len - a.chartY + this.pos, c = this.isRadial ? this.getPlotLinePath(this.isXAxis ? b.x : eb(b.stackY, b.y)) || null : this.getPlotLinePath(null, null, null, null, d) || null, null === c)return void this.hideCrosshair();
                this.cross ? this.cross.attr({visibility: Ta})[h ? "animate" : "attr"]({d: c}, h) : (f = this.categories && !this.isRadial, e = {
                    "stroke-width": g.width || (f ? this.transA : 1),
                    stroke: g.color || (f ? "rgba(155,200,255,0.2)" : "#C0C0C0"),
                    zIndex: g.zIndex || 2
                }, g.dashStyle && (e.dashstyle = g.dashStyle), this.cross = this.chart.renderer.path(c).attr(e).add())
            }
        },
        hideCrosshair: function () {
            this.cross && this.cross.hide()
        }
    }, db(Hb.prototype, S), Hb.prototype.getTimeTicks = function (a, b, c, d) {
        var e, f, g = [], h = {}, i = O.global.useUTC, k = new T(b - r(b)), l = a.unitRange, m = a.count;
        if (j(b)) {
            k[ba](l >= R.second ? 0 : m * na(k.getMilliseconds() / m)), l >= R.second && k[ca](l >= R.minute ? 0 : m * na(k.getSeconds() / m)), l >= R.minute && k[da](l >= R.hour ? 0 : m * na(k[X]() / m)), l >= R.hour && k[ea](l >= R.day ? 0 : m * na(k[Y]() / m)), l >= R.day && k[fa](l >= R.month ? 1 : m * na(k[$]() / m)), l >= R.month && (k[ga](l >= R.year ? 0 : m * na(k[_]() / m)), f = k[aa]()), l >= R.year && (f -= f % m, k[ha](f)), l === R.week && k[fa](k[$]() - k[Z]() + eb(d, 1)), e = 1, (V || W) && (k = k.getTime(), k = new T(k + r(k))), f = k[aa]();
            for (var n = k.getTime(), o = k[_](), p = k[$](), q = (R.day + (i ? r(k) : 60 * k.getTimezoneOffset() * 1e3)) % R.day; n < c;)g.push(n), l === R.year ? n = U(f + e * m, 0) : l === R.month ? n = U(f, o + e * m) : i || l !== R.day && l !== R.week ? n += l * m : n = U(f, o, p + e * m * (l === R.day ? 1 : 7)), e++;
            g.push(n), lb(mb(g, function (a) {
                return l <= R.hour && a % R.day === q
            }), function (a) {
                h[a] = "day"
            })
        }
        return g.info = db(a, {higherRanks: h, totalRange: l * m}), g
    }, Hb.prototype.normalizeTimeTickInterval = function (a, b) {
        var c, d, e = b || [["millisecond", [1, 2, 5, 10, 20, 25, 50, 100, 200, 500]], ["second", [1, 2, 5, 10, 15, 30]], ["minute", [1, 2, 5, 10, 15, 30]], ["hour", [1, 2, 3, 4, 6, 8, 12]], ["day", [1, 2]], ["week", [1, 2]], ["month", [1, 2, 3, 4, 6]], ["year", null]], f = e[e.length - 1], g = R[f[0]], h = f[1];
        for (d = 0; d < e.length; d++)if (f = e[d], g = R[f[0]], h = f[1], e[d + 1]) {
            var i = (g * h[h.length - 1] + R[e[d + 1][0]]) / 2;
            if (a <= i)break
        }
        return g === R.year && a < 5 * g && (h = [1, 2, 5]), c = v(a / g, h, "year" === f[0] ? pa(u(a / g), 1) : 1), {
            unitRange: g,
            count: c,
            unitName: f[0]
        }
    }, Hb.prototype.getLogTickPositions = function (a, b, c, d) {
        var e = this, f = e.options, i = e.len, j = [];
        if (d || (e._minorAutoInterval = null), a >= .5)a = ma(a), j = e.getLinearTickPositions(a, b, c); else if (a >= .08) {
            var k, l, m, n, o, p, q, r = na(b);
            for (k = a > .3 ? [1, 2, 4] : a > .15 ? [1, 2, 4, 6, 8] : [1, 2, 3, 4, 5, 6, 7, 8, 9], l = r; l < c + 1 && !q; l++)for (n = k.length, m = 0; m < n && !q; m++)o = g(h(l) * k[m]), o > b && (!d || p <= c) && p !== K && j.push(p), p > c && (q = !0), p = o
        } else {
            var s = h(b), t = h(c), w = f[d ? "minorTickInterval" : "tickInterval"], x = "auto" === w ? null : w, y = f.tickPixelInterval / (d ? 5 : 1), z = d ? i / e.tickPositions.length : i;
            a = eb(x, e._minorAutoInterval, (t - s) * y / (z || 1)), a = v(a, null, u(a)), j = ob(e.getLinearTickPositions(a, s, t), g), d || (e._minorAutoInterval = a / 5)
        }
        return d || (e.tickInterval = a), j
    };
    var Ib = ia.Tooltip = function () {
        this.init.apply(this, arguments)
    };
    Ib.prototype = {
        init: function (a, c) {
            var d = c.borderWidth, e = c.style, f = b(e.padding);
            this.chart = a, this.options = c, this.crosshairs = [], this.now = {
                x: 0,
                y: 0
            }, this.isHidden = !0, this.label = a.renderer.label("", 0, 0, c.shape || "callout", null, null, c.useHTML, null, "tooltip").attr({
                padding: f,
                fill: c.backgroundColor,
                "stroke-width": d,
                r: c.borderRadius,
                zIndex: 8
            }).css(e).css({padding: 0}).add().attr({y: -9999}), Ga || this.label.shadow(c.shadow), this.shared = c.shared
        }, destroy: function () {
            this.label && (this.label = this.label.destroy()), clearTimeout(this.hideTimer), clearTimeout(this.tooltipTimeout)
        }, move: function (a, b, c, d) {
            var e = this, f = e.now, g = e.options.animation !== !1 && !e.isHidden && (ra(a - f.x) > 1 || ra(b - f.y) > 1), h = e.followPointer || e.len > 1;
            db(f, {
                x: g ? (2 * f.x + a) / 3 : a,
                y: g ? (f.y + b) / 2 : b,
                anchorX: h ? K : g ? (2 * f.anchorX + c) / 3 : c,
                anchorY: h ? K : g ? (f.anchorY + d) / 2 : d
            }), e.label.attr(f), g && (clearTimeout(this.tooltipTimeout), this.tooltipTimeout = setTimeout(function () {
                e && e.move(a, b, c, d)
            }, 32))
        }, hide: function (a) {
            var b, c = this;
            clearTimeout(this.hideTimer), this.isHidden || (b = this.chart.hoverPoints, this.hideTimer = setTimeout(function () {
                c.label.fadeOut(), c.isHidden = !0
            }, eb(a, this.options.hideDelay, 500)))
        }, getAnchor: function (a, b) {
            var c, d, e, f = this.chart, g = f.inverted, h = f.plotTop, i = f.plotLeft, j = 0, k = 0;
            return a = l(a), c = a[0].tooltipPos, this.followPointer && b && (b.chartX === K && (b = f.pointer.normalize(b)), c = [b.chartX - f.plotLeft, b.chartY - h]), c || (lb(a, function (a) {
                d = a.series.yAxis, e = a.series.xAxis, j += a.plotX + (!g && e ? e.left - i : 0), k += (a.plotLow ? (a.plotLow + a.plotHigh) / 2 : a.plotY) + (!g && d ? d.top - h : 0)
            }), j /= a.length, k /= a.length, c = [g ? f.plotWidth - k : j, this.shared && !g && a.length > 1 && b ? b.chartY - h : g ? f.plotHeight - j : k]), ob(c, ma)
        }, getPosition: function (a, b, c) {
            var d, e = this.chart, f = this.distance, g = {}, h = c.h || 0, i = ["y", e.chartHeight, b, c.plotY + e.plotTop, e.plotTop, e.plotTop + e.plotHeight], j = ["x", e.chartWidth, a, c.plotX + e.plotLeft, e.plotLeft, e.plotLeft + e.plotWidth], k = eb(c.ttBelow, e.inverted && !c.negative || !e.inverted && c.negative), l = function (a, b, c, d, e, i) {
                var j = c < d - f, l = d + f + c < b, m = d - f - c, n = d + f;
                if (k && l)g[a] = n; else if (!k && j)g[a] = m; else if (j)g[a] = qa(i - c, m - h < 0 ? m : m - h); else {
                    if (!l)return !1;
                    g[a] = pa(e, n + h + c > b ? n : n + h)
                }
            }, m = function (a, b, c, d) {
                return !(d < f || d > b - f) && void(d < c / 2 ? g[a] = 1 : d > b - c / 2 ? g[a] = b - c - 2 : g[a] = d - c / 2)
            }, n = function (a) {
                var b = i;
                i = j, j = b, d = a
            }, o = function () {
                l.apply(0, i) !== !1 ? m.apply(0, j) !== !1 || d || (n(!0), o()) : d ? g.x = g.y = 0 : (n(!0), o())
            };
            return (e.inverted || this.len > 1) && n(), o(), g
        }, defaultFormatter: function (a) {
            var b, c = this.points || l(this);
            return b = [a.tooltipFooterHeaderFormatter(c[0])], b = b.concat(a.bodyFormatter(c)), b.push(a.tooltipFooterHeaderFormatter(c[0], !0)), b.join("")
        }, refresh: function (a, b) {
            var c, d, e, f, g, h, i = this, j = i.chart, k = i.label, m = i.options, n = {}, o = [], p = m.formatter || i.defaultFormatter, q = j.hoverPoints, r = i.shared;
            clearTimeout(this.hideTimer), i.followPointer = l(a)[0].series.tooltipOptions.followPointer, e = i.getAnchor(a, b), c = e[0], d = e[1], !r || a.series && a.series.noSharedTooltip ? n = a.getLabelConfig() : (j.hoverPoints = a, q && lb(q, function (a) {
                a.setState()
            }), lb(a, function (a) {
                a.setState($a), o.push(a.getLabelConfig())
            }), n = {
                x: a[0].category,
                y: a[0].y
            }, n.points = o, this.len = o.length, a = a[0]), f = p.call(n, i), h = a.series, this.distance = eb(h.tooltipOptions.distance, 16), f === !1 ? this.hide() : (i.isHidden && (ub(k), k.attr("opacity", 1).show()), k.attr({text: f}), g = m.borderColor || a.color || h.color || "#606060", k.attr({stroke: g}), i.updatePosition({
                plotX: c,
                plotY: d,
                negative: a.negative,
                ttBelow: a.ttBelow,
                h: e[2] || 0
            }), this.isHidden = !1), rb(j, "tooltipRefresh", {
                text: f,
                x: c + j.plotLeft,
                y: d + j.plotTop,
                borderColor: g
            })
        }, updatePosition: function (a) {
            var b = this.chart, c = this.label, d = (this.options.positioner || this.getPosition).call(this, c.width, c.height, a);
            this.move(ma(d.x), ma(d.y || 0), a.plotX + b.plotLeft, a.plotY + b.plotTop)
        }, getXDateFormat: function (a, b, c) {
            var d, e, f, g = b.dateTimeLabelFormats, h = c && c.closestPointRange, i = "01-01 00:00:00.000", j = {
                millisecond: 15,
                second: 12,
                minute: 9,
                hour: 6,
                day: 3
            }, k = "millisecond";
            if (h) {
                f = P("%m-%d %H:%M:%S.%L", a.x);
                for (e in R) {
                    if (h === R.week && +P("%w", a.x) === c.options.startOfWeek && f.substr(6) === i.substr(6)) {
                        e = "week";
                        break
                    }
                    if (R[e] > h) {
                        e = k;
                        break
                    }
                    if (j[e] && f.substr(j[e]) !== i.substr(j[e]))break;
                    "week" !== e && (k = e)
                }
                e && (d = g[e])
            } else d = g.day;
            return d || g.year
        }, tooltipFooterHeaderFormatter: function (a, b) {
            var c = b ? "footer" : "header", d = a.series, e = d.tooltipOptions, g = e.xDateFormat, h = d.xAxis, i = h && "datetime" === h.options.type && f(a.key), j = e[c + "Format"];
            return i && !g && (g = this.getXDateFormat(a, e, h)), i && g && (j = j.replace("{point.key}", "{point.key:" + g + "}")), t(j, {
                point: a,
                series: d
            })
        }, bodyFormatter: function (a) {
            return ob(a, function (a) {
                var b = a.series.tooltipOptions;
                return (b.pointFormatter || a.point.tooltipFormatter).call(a.point, b.pointFormat)
            })
        }
    };
    var Jb;
    M = ja.documentElement.ontouchstart !== K;
    var Kb = ia.Pointer = function (a, b) {
        this.init(a, b)
    };
    if (Kb.prototype = {
            init: function (a, b) {
                var c, d, e = b.chart, f = e.events, g = Ga ? "" : e.zoomType, h = a.inverted;
                this.options = b, this.chart = a, this.zoomX = c = /x/.test(g), this.zoomY = d = /y/.test(g), this.zoomHor = c && !h || d && h, this.zoomVert = d && !h || c && h, this.hasZoom = c || d, this.runChartClick = f && !!f.click, this.pinchDown = [], this.lastValidTouch = {}, ia.Tooltip && b.tooltip.enabled && (a.tooltip = new Ib(a, b.tooltip), this.followTouchMove = eb(b.tooltip.followTouchMove, !0)), this.setDOMEvents()
            }, normalize: function (a, b) {
                var c, d, e;
                return a = a || window.event, a = sb(a), a.target || (a.target = a.srcElement), e = a.touches ? a.touches.length ? a.touches.item(0) : a.changedTouches[0] : a, b || (this.chartPosition = b = nb(this.chart.container)), e.pageX === K ? (c = pa(a.x, a.clientX - b.left), d = a.y) : (c = e.pageX - b.left, d = e.pageY - b.top), db(a, {
                    chartX: ma(c),
                    chartY: ma(d)
                })
            }, getCoordinates: function (a) {
                var b = {xAxis: [], yAxis: []};
                return lb(this.chart.axes, function (c) {
                    b[c.isXAxis ? "xAxis" : "yAxis"].push({axis: c, value: c.toValue(a[c.horiz ? "chartX" : "chartY"])})
                }), b
            }, runPointActions: function (a) {
                var b, c, d, e, f, g, h, i = this, j = i.chart, k = j.series, l = j.tooltip, m = !!l && l.shared, n = j.hoverPoint, o = j.hoverSeries, p = j.chartWidth, q = [];
                if (!m && !o)for (c = 0; c < k.length; c++)!k[c].directTouch && k[c].options.stickyTracking || (k = []);
                if (!m && o && o.directTouch && n ? g = n : (lb(k, function (b) {
                        e = b.noSharedTooltip && m, f = !m && b.directTouch, b.visible && !e && !f && eb(b.options.enableMouseTracking, !0) && (h = b.searchPoint(a, !e && 1 === b.kdDimensions), h && q.push(h))
                    }), lb(q, function (a) {
                        a && "number" == typeof a.dist && a.dist < p && (p = a.dist, g = a)
                    })), g && (g !== this.prevKDPoint || l && l.isHidden)) {
                    if (m && !g.series.noSharedTooltip) {
                        for (c = q.length; c--;)(q[c].clientX !== g.clientX || q[c].series.noSharedTooltip) && q.splice(c, 1);
                        q.length && l && l.refresh(q, a), lb(q, function (b) {
                            b.onMouseOver(a, b !== (o && o.directTouch && n || g))
                        })
                    } else l && l.refresh(g, a), o && o.directTouch || g.onMouseOver(a);
                    this.prevKDPoint = g
                } else b = o && o.tooltipOptions.followPointer, l && b && !l.isHidden && (d = l.getAnchor([{}], a), l.updatePosition({
                    plotX: d[0],
                    plotY: d[1]
                }));
                l && !i._onDocumentMouseMove && (i._onDocumentMouseMove = function (a) {
                    Ka[Jb] && Ka[Jb].pointer.onDocumentMouseMove(a)
                }, pb(ja, "mousemove", i._onDocumentMouseMove)), lb(j.axes, function (b) {
                    b.drawCrosshair(a, eb(g, n))
                })
            }, reset: function (a, b) {
                var c = this, d = c.chart, e = d.hoverSeries, f = d.hoverPoint, g = d.hoverPoints, h = d.tooltip, i = h && h.shared ? g : f;
                a = a && h && i, a && l(i)[0].plotX === K && (a = !1), a ? (h.refresh(i), f && (f.setState(f.state, !0), lb(d.axes, function (a) {
                    eb(a.options.crosshair && a.options.crosshair.snap, !0) ? a.drawCrosshair(null, f) : a.hideCrosshair()
                }))) : (f && f.onMouseOut(), g && lb(g, function (a) {
                    a.setState()
                }), e && e.onMouseOut(), h && h.hide(b), c._onDocumentMouseMove && (qb(ja, "mousemove", c._onDocumentMouseMove), c._onDocumentMouseMove = null), lb(d.axes, function (a) {
                    a.hideCrosshair()
                }), c.hoverX = d.hoverPoints = d.hoverPoint = null)
            }, scaleGroups: function (a, b) {
                var c, d = this.chart;
                lb(d.series, function (e) {
                    c = a || e.getPlotBox(), e.xAxis && e.xAxis.zoomEnabled && (e.group.attr(c), e.markerGroup && (e.markerGroup.attr(c), e.markerGroup.clip(b ? d.clipRect : null)), e.dataLabelsGroup && e.dataLabelsGroup.attr(c))
                }), d.clipRect.attr(b || d.clipBox)
            }, dragStart: function (a) {
                var b = this.chart;
                b.mouseIsDown = a.type, b.cancelClick = !1, b.mouseDownX = this.mouseDownX = a.chartX, b.mouseDownY = this.mouseDownY = a.chartY
            }, drag: function (a) {
                var b, c, d = this.chart, e = d.options.chart, f = a.chartX, g = a.chartY, h = this.zoomHor, i = this.zoomVert, j = d.plotLeft, k = d.plotTop, l = d.plotWidth, m = d.plotHeight, n = this.selectionMarker, o = this.mouseDownX, p = this.mouseDownY, q = e.panKey && a[e.panKey + "Key"];
                n && n.touch || (f < j ? f = j : f > j + l && (f = j + l), g < k ? g = k : g > k + m && (g = k + m), this.hasDragged = Math.sqrt(Math.pow(o - f, 2) + Math.pow(p - g, 2)), this.hasDragged > 10 && (b = d.isInsidePlot(o - j, p - k), d.hasCartesianSeries && (this.zoomX || this.zoomY) && b && !q && (n || (this.selectionMarker = n = d.renderer.rect(j, k, h ? 1 : l, i ? 1 : m, 0).attr({
                    fill: e.selectionMarkerFill || "rgba(69,114,167,0.25)",
                    zIndex: 7
                }).add())), n && h && (c = f - o, n.attr({
                    width: ra(c),
                    x: (c > 0 ? 0 : c) + o
                })), n && i && (c = g - p, n.attr({
                    height: ra(c),
                    y: (c > 0 ? 0 : c) + p
                })), b && !n && e.panning && d.pan(a, e.panning)))
            }, drop: function (a) {
                var b = this, c = this.chart, d = this.hasPinched;
                if (this.selectionMarker) {
                    var e, f = {
                        xAxis: [],
                        yAxis: [],
                        originalEvent: a.originalEvent || a
                    }, g = this.selectionMarker, h = g.attr ? g.attr("x") : g.x, i = g.attr ? g.attr("y") : g.y, k = g.attr ? g.attr("width") : g.width, l = g.attr ? g.attr("height") : g.height;
                    (this.hasDragged || d) && (lb(c.axes, function (c) {
                        if (c.zoomEnabled && j(c.min) && (d || b[{xAxis: "zoomX", yAxis: "zoomY"}[c.coll]])) {
                            var g = c.horiz, m = "touchend" === a.type ? c.minPixelPadding : 0, n = c.toValue((g ? h : i) + m), o = c.toValue((g ? h + k : i + l) - m);
                            f[c.coll].push({axis: c, min: qa(n, o), max: pa(n, o)}), e = !0
                        }
                    }), e && rb(c, "selection", f, function (a) {
                        c.zoom(db(a, d ? {animation: !1} : null))
                    })), this.selectionMarker = this.selectionMarker.destroy(), d && this.scaleGroups()
                }
                c && (m(c.container, {cursor: c._cursor}), c.cancelClick = this.hasDragged > 10, c.mouseIsDown = this.hasDragged = this.hasPinched = !1, this.pinchDown = [])
            }, onContainerMouseDown: function (a) {
                a = this.normalize(a), a.preventDefault && a.preventDefault(), this.dragStart(a)
            }, onDocumentMouseUp: function (a) {
                Ka[Jb] && Ka[Jb].pointer.drop(a)
            }, onDocumentMouseMove: function (a) {
                var b = this.chart, c = this.chartPosition;
                a = this.normalize(a, c), !c || this.inClass(a.target, "highcharts-tracker") || b.isInsidePlot(a.chartX - b.plotLeft, a.chartY - b.plotTop) || this.reset()
            }, onContainerMouseLeave: function () {
                var a = Ka[Jb];
                a && (a.pointer.reset(), a.pointer.chartPosition = null)
            }, onContainerMouseMove: function (a) {
                var b = this.chart;
                Jb = b.index, a = this.normalize(a), a.returnValue = !1, "mousedown" === b.mouseIsDown && this.drag(a), !this.inClass(a.target, "highcharts-tracker") && !b.isInsidePlot(a.chartX - b.plotLeft, a.chartY - b.plotTop) || b.openMenu || this.runPointActions(a)
            }, inClass: function (a, b) {
                for (var c; a;) {
                    if (c = k(a, "class")) {
                        if (c.indexOf(b) !== -1)return !0;
                        if (c.indexOf(Sa + "container") !== -1)return !1
                    }
                    a = a.parentNode
                }
            }, onTrackerMouseOut: function (a) {
                var b = this.chart.hoverSeries, c = a.relatedTarget || a.toElement, d = c && c.point && c.point.series;
                !b || b.options.stickyTracking || this.inClass(c, Sa + "tooltip") || d === b || b.onMouseOut()
            }, onContainerClick: function (a) {
                var b = this.chart, c = b.hoverPoint, d = b.plotLeft, e = b.plotTop;
                a = this.normalize(a), a.originalEvent = a, b.cancelClick || (c && this.inClass(a.target, Sa + "tracker") ? (rb(c.series, "click", db(a, {point: c})), b.hoverPoint && c.firePointEvent("click", a)) : (db(a, this.getCoordinates(a)), b.isInsidePlot(a.chartX - d, a.chartY - e) && rb(b, "click", a)))
            }, setDOMEvents: function () {
                var a = this, b = a.chart.container;
                b.onmousedown = function (b) {
                    a.onContainerMouseDown(b)
                }, b.onmousemove = function (b) {
                    a.onContainerMouseMove(b)
                }, b.onclick = function (b) {
                    a.onContainerClick(b)
                }, pb(b, "mouseleave", a.onContainerMouseLeave), 1 === La && pb(ja, "mouseup", a.onDocumentMouseUp), M && (b.ontouchstart = function (b) {
                    a.onContainerTouchStart(b)
                }, b.ontouchmove = function (b) {
                    a.onContainerTouchMove(b)
                }, 1 === La && pb(ja, "touchend", a.onDocumentTouchEnd))
            }, destroy: function () {
                var a;
                qb(this.chart.container, "mouseleave", this.onContainerMouseLeave), La || (qb(ja, "mouseup", this.onDocumentMouseUp), qb(ja, "touchend", this.onDocumentTouchEnd)), clearInterval(this.tooltipTimeout);
                for (a in this)this[a] = null
            }
        }, db(ia.Pointer.prototype, {
            pinchTranslate: function (a, b, c, d, e, f) {
                (this.zoomHor || this.pinchHor) && this.pinchTranslateDirection(!0, a, b, c, d, e, f), (this.zoomVert || this.pinchVert) && this.pinchTranslateDirection(!1, a, b, c, d, e, f)
            }, pinchTranslateDirection: function (a, b, c, d, e, f, g, h) {
                var i, j, k, l, m, n, o = this.chart, p = a ? "x" : "y", q = a ? "X" : "Y", r = "chart" + q, s = a ? "width" : "height", t = o["plot" + (a ? "Left" : "Top")], u = h || 1, v = o.inverted, w = o.bounds[a ? "h" : "v"], x = 1 === b.length, y = b[0][r], z = c[0][r], A = !x && b[1][r], B = !x && c[1][r], C = function () {
                    !x && ra(y - A) > 20 && (u = h || ra(z - B) / ra(y - A)), k = (t - z) / u + y, i = o["plot" + (a ? "Width" : "Height")] / u
                };
                C(), j = k, j < w.min ? (j = w.min, l = !0) : j + i > w.max && (j = w.max - i, l = !0), l ? (z -= .8 * (z - g[p][0]), x || (B -= .8 * (B - g[p][1])), C()) : g[p] = [z, B], v || (f[p] = k - t, f[s] = i), n = v ? a ? "scaleY" : "scaleX" : "scale" + q, m = v ? 1 / u : u, e[s] = i, e[p] = j, d[n] = u, d["translate" + q] = m * t + (z - m * y)
            }, pinch: function (a) {
                var b = this, c = b.chart, d = b.pinchDown, e = a.touches, f = e.length, g = b.lastValidTouch, h = b.hasZoom, i = b.selectionMarker, j = {}, k = 1 === f && (b.inClass(a.target, Sa + "tracker") && c.runTrackerClick || b.runChartClick), l = {};
                f > 1 && (b.initiated = !0), h && b.initiated && !k && a.preventDefault(), ob(e, function (a) {
                    return b.normalize(a)
                }), "touchstart" === a.type ? (lb(e, function (a, b) {
                    d[b] = {chartX: a.chartX, chartY: a.chartY}
                }), g.x = [d[0].chartX, d[1] && d[1].chartX], g.y = [d[0].chartY, d[1] && d[1].chartY], lb(c.axes, function (a) {
                    if (a.zoomEnabled) {
                        var b = c.bounds[a.horiz ? "h" : "v"], d = a.minPixelPadding, e = a.toPixels(eb(a.options.min, a.dataMin)), f = a.toPixels(eb(a.options.max, a.dataMax)), g = qa(e, f), h = pa(e, f);
                        b.min = qa(a.pos, g - d), b.max = pa(a.pos + a.len, h + d)
                    }
                }), b.res = !0) : d.length && (i || (b.selectionMarker = i = db({
                    destroy: Ja,
                    touch: !0
                }, c.plotBox)), b.pinchTranslate(d, e, j, i, l, g), b.hasPinched = h, b.scaleGroups(j, l), !h && b.followTouchMove && 1 === f ? this.runPointActions(b.normalize(a)) : b.res && (b.res = !1, this.reset(!1, 0)))
            }, touch: function (a, b) {
                var c = this.chart;
                Jb = c.index, 1 === a.touches.length ? (a = this.normalize(a), c.isInsidePlot(a.chartX - c.plotLeft, a.chartY - c.plotTop) && !c.openMenu ? (b && this.runPointActions(a), this.pinch(a)) : b && this.reset()) : 2 === a.touches.length && this.pinch(a)
            }, onContainerTouchStart: function (a) {
                this.touch(a, !0)
            }, onContainerTouchMove: function (a) {
                this.touch(a)
            }, onDocumentTouchEnd: function (a) {
                Ka[Jb] && Ka[Jb].pointer.drop(a)
            }
        }), ka.PointerEvent || ka.MSPointerEvent) {
        var Lb = {}, Mb = !!ka.PointerEvent, Nb = function () {
            var a, b = [];
            b.item = function (a) {
                return this[a]
            };
            for (a in Lb)Lb.hasOwnProperty(a) && b.push({pageX: Lb[a].pageX, pageY: Lb[a].pageY, target: Lb[a].target});
            return b
        }, Ob = function (a, b, c, d) {
            var e;
            a = a.originalEvent || a, "touch" !== a.pointerType && a.pointerType !== a.MSPOINTER_TYPE_TOUCH || !Ka[Jb] || (d(a), e = Ka[Jb].pointer, e[b]({
                type: c,
                target: a.currentTarget,
                preventDefault: Ja,
                touches: Nb()
            }))
        };
        db(Kb.prototype, {
            onContainerPointerDown: function (a) {
                Ob(a, "onContainerTouchStart", "touchstart", function (a) {
                    Lb[a.pointerId] = {pageX: a.pageX, pageY: a.pageY, target: a.currentTarget}
                })
            }, onContainerPointerMove: function (a) {
                Ob(a, "onContainerTouchMove", "touchmove", function (a) {
                    Lb[a.pointerId] = {
                        pageX: a.pageX,
                        pageY: a.pageY
                    }, Lb[a.pointerId].target || (Lb[a.pointerId].target = a.currentTarget)
                })
            }, onDocumentPointerUp: function (a) {
                Ob(a, "onDocumentTouchEnd", "touchend", function (a) {
                    delete Lb[a.pointerId]
                })
            }, batchMSEvents: function (a) {
                a(this.chart.container, Mb ? "pointerdown" : "MSPointerDown", this.onContainerPointerDown), a(this.chart.container, Mb ? "pointermove" : "MSPointerMove", this.onContainerPointerMove), a(ja, Mb ? "pointerup" : "MSPointerUp", this.onDocumentPointerUp)
            }
        }), fb(Kb.prototype, "init", function (a, b, c) {
            a.call(this, b, c), this.hasZoom && m(b.container, {"-ms-touch-action": Va, "touch-action": Va})
        }), fb(Kb.prototype, "setDOMEvents", function (a) {
            a.apply(this), (this.hasZoom || this.followTouchMove) && this.batchMSEvents(pb)
        }), fb(Kb.prototype, "destroy", function (a) {
            this.batchMSEvents(qb), a.call(this)
        })
    }
    var Pb = ia.Legend = function (a, b) {
        this.init(a, b)
    };
    Pb.prototype = {
        init: function (b, c) {
            var d, e = this, f = c.itemStyle, g = c.itemMarginTop || 0;
            this.options = c, c.enabled && (e.itemStyle = f, e.itemHiddenStyle = a(f, c.itemHiddenStyle), e.itemMarginTop = g, e.padding = d = eb(c.padding, 8), e.initialItemX = d, e.initialItemY = d - 5, e.maxItemWidth = 0, e.chart = b, e.itemHeight = 0, e.symbolWidth = eb(c.symbolWidth, 16), e.pages = [], e.render(), pb(e.chart, "endResize", function () {
                e.positionCheckboxes()
            }))
        }, colorizeItem: function (a, b) {
            var c, d, e = this, f = e.options, g = a.legendItem, h = a.legendLine, i = a.legendSymbol, j = e.itemHiddenStyle.color, k = b ? f.itemStyle.color : j, l = b ? a.legendColor || a.color || "#CCC" : j, m = a.options && a.options.marker, n = {fill: l};
            if (g && g.css({fill: k, color: k}), h && h.attr({stroke: l}), i) {
                if (m && i.isMarker) {
                    n.stroke = l, m = a.convertAttribs(m);
                    for (c in m)d = m[c], d !== K && (n[c] = d)
                }
                i.attr(n)
            }
        }, positionItem: function (a) {
            var b = this, c = b.options, d = c.symbolPadding, e = !c.rtl, f = a._legendItemPos, g = f[0], h = f[1], i = a.checkbox, j = a.legendGroup;
            j && j.element && j.translate(e ? g : b.legendWidth - g - 2 * d - 4, h), i && (i.x = g, i.y = h)
        }, destroyItem: function (a) {
            var b = a.checkbox;
            lb(["legendItem", "legendLine", "legendSymbol", "legendGroup"], function (b) {
                a[b] && (a[b] = a[b].destroy())
            }), b && A(a.checkbox)
        }, destroy: function () {
            var a = this, b = a.group, c = a.box;
            c && (a.box = c.destroy()), b && (a.group = b.destroy())
        }, positionCheckboxes: function (a) {
            var b, c = this.group.alignAttr, d = this.clipHeight || this.legendHeight;
            c && (b = c.translateY, lb(this.allItems, function (e) {
                var f, g = e.checkbox;
                g && (f = b + g.y + (a || 0) + 3, m(g, {
                    left: c.translateX + e.checkboxOffset + g.x - 20 + Ua,
                    top: f + Ua,
                    display: f > b - 6 && f < b + d - 6 ? "" : Va
                }))
            }))
        }, renderTitle: function () {
            var a, b = this.options, c = this.padding, d = b.title, e = 0;
            d.text && (this.title || (this.title = this.chart.renderer.label(d.text, c - 3, c - 4, null, null, null, null, null, "legend-title").attr({zIndex: 1}).css(d.style).add(this.group)), a = this.title.getBBox(), e = a.height, this.offsetWidth = a.width, this.contentGroup.attr({translateY: e})), this.titleHeight = e
        }, setText: function (a) {
            var b = this.options;
            a.legendItem.attr({text: b.labelFormat ? t(b.labelFormat, a) : b.labelFormatter.call(a)})
        }, renderItem: function (b) {
            var c, d, e, f = this, g = f.chart, h = g.renderer, i = f.options, j = "horizontal" === i.layout, k = f.symbolWidth, l = i.symbolPadding, m = f.itemStyle, n = f.itemHiddenStyle, o = f.padding, p = j ? eb(i.itemDistance, 20) : 0, q = !i.rtl, r = i.width, s = i.itemMarginBottom || 0, t = f.itemMarginTop, u = f.initialItemX, v = b.legendItem, w = b.series && b.series.drawLegendSymbol ? b.series : b, x = w.options, y = f.createCheckboxForItem && x && x.showCheckbox, z = i.useHTML;
            v || (b.legendGroup = h.g("legend-item").attr({zIndex: 1}).add(f.scrollGroup), b.legendItem = v = h.text("", q ? k + l : -l, f.baseline || 0, z).css(a(b.visible ? m : n)).attr({
                align: q ? "left" : "right",
                zIndex: 2
            }).add(b.legendGroup), f.baseline || (f.fontMetrics = h.fontMetrics(m.fontSize, v), f.baseline = f.fontMetrics.f + 3 + t, v.attr("y", f.baseline)), w.drawLegendSymbol(f, b), f.setItemEvents && f.setItemEvents(b, v, z, m, n), f.colorizeItem(b, b.visible), y && f.createCheckboxForItem(b)), f.setText(b), d = v.getBBox(), e = b.checkboxOffset = i.itemWidth || b.legendItemWidth || k + l + d.width + p + (y ? 20 : 0), f.itemHeight = c = ma(b.legendItemHeight || d.height), j && f.itemX - u + e > (r || g.chartWidth - 2 * o - u - i.x) && (f.itemX = u, f.itemY += t + f.lastLineHeight + s, f.lastLineHeight = 0), f.maxItemWidth = pa(f.maxItemWidth, e), f.lastItemY = t + f.itemY + s, f.lastLineHeight = pa(c, f.lastLineHeight), b._legendItemPos = [f.itemX, f.itemY], j ? f.itemX += e : (f.itemY += t + c + s, f.lastLineHeight = c), f.offsetWidth = r || pa((j ? f.itemX - u - p : e) + o, f.offsetWidth)
        }, getAllItems: function () {
            var a = [];
            return lb(this.chart.series, function (b) {
                var c = b.options;
                eb(c.showInLegend, !j(c.linkedTo) && K, !0) && (a = a.concat(b.legendItems || ("point" === c.legendType ? b.data : b)))
            }), a
        }, adjustMargins: function (a, b) {
            var c = this.chart, d = this.options, e = d.align.charAt(0) + d.verticalAlign.charAt(0) + d.layout.charAt(0);
            this.display && !d.floating && lb([/(lth|ct|rth)/, /(rtv|rm|rbv)/, /(rbh|cb|lbh)/, /(lbv|lm|ltv)/], function (f, g) {
                f.test(e) && !j(a[g]) && (c[ab[g]] = pa(c[ab[g]], c.legend[(g + 1) % 2 ? "legendHeight" : "legendWidth"] + [1, -1, -1, 1][g] * d[g % 2 ? "x" : "y"] + eb(d.margin, 12) + b[g]))
            })
        }, render: function () {
            var a, b, c, d, e = this, f = e.chart, g = f.renderer, h = e.group, i = e.box, j = e.options, k = e.padding, l = j.borderWidth, m = j.backgroundColor;
            e.itemX = e.initialItemX, e.itemY = e.initialItemY, e.offsetWidth = 0, e.lastItemY = 0, h || (e.group = h = g.g("legend").attr({zIndex: 7}).add(), e.contentGroup = g.g().attr({zIndex: 1}).add(h), e.scrollGroup = g.g().add(e.contentGroup)), e.renderTitle(), a = e.getAllItems(), w(a, function (a, b) {
                return (a.options && a.options.legendIndex || 0) - (b.options && b.options.legendIndex || 0)
            }), j.reversed && a.reverse(), e.allItems = a, e.display = b = !!a.length, e.lastLineHeight = 0, lb(a, function (a) {
                e.renderItem(a)
            }), c = (j.width || e.offsetWidth) + k, d = e.lastItemY + e.lastLineHeight + e.titleHeight, d = e.handleOverflow(d), d += k, (l || m) && (i ? c > 0 && d > 0 && (i[i.isNew ? "attr" : "animate"](i.crisp({
                width: c,
                height: d
            })), i.isNew = !1) : (e.box = i = g.rect(0, 0, c, d, j.borderRadius, l || 0).attr({
                stroke: j.borderColor,
                "stroke-width": l || 0,
                fill: m || Va
            }).add(h).shadow(j.shadow), i.isNew = !0), i[b ? "show" : "hide"]()), e.legendWidth = c, e.legendHeight = d, lb(a, function (a) {
                e.positionItem(a)
            }), b && h.align(db({width: c, height: d}, j), !0, "spacingBox"), f.isResizing || this.positionCheckboxes()
        }, handleOverflow: function (a) {
            var b, c, d = this, e = this.chart, f = e.renderer, g = this.options, h = g.y, i = "top" === g.verticalAlign, j = e.spacingBox.height + (i ? -h : h) - this.padding, k = g.maxHeight, l = this.clipRect, m = g.navigation, n = eb(m.animation, !0), o = m.arrowSize || 12, p = this.nav, q = this.pages, r = this.padding, s = this.allItems, t = function (a) {
                l.attr({height: a}), d.contentGroup.div && (d.contentGroup.div.style.clip = "rect(" + r + "px,9999px," + (r + a) + "px,0)")
            };
            return "horizontal" === g.layout && (j /= 2), k && (j = qa(j, k)), q.length = 0, a > j ? (this.clipHeight = b = pa(j - 20 - this.titleHeight - r, 0), this.currentPage = eb(this.currentPage, 1), this.fullHeight = a, lb(s, function (a, d) {
                var e = a._legendItemPos[1], f = ma(a.legendItem.getBBox().height), g = q.length;
                (!g || e - q[g - 1] > b && (c || e) !== q[g - 1]) && (q.push(c || e), g++), d === s.length - 1 && e + f - q[g - 1] > b && q.push(e), e !== c && (c = e)
            }), l || (l = d.clipRect = f.clipRect(0, r, 9999, 0), d.contentGroup.clip(l)), t(b), p || (this.nav = p = f.g().attr({zIndex: 1}).add(this.group), this.up = f.symbol("triangle", 0, 0, o, o).on("click", function () {
                d.scroll(-1, n)
            }).add(p), this.pager = f.text("", 15, 10).css(m.style).add(p), this.down = f.symbol("triangle-down", 0, 0, o, o).on("click", function () {
                d.scroll(1, n)
            }).add(p)), d.scroll(0), a = j) : p && (t(e.chartHeight), p.hide(), this.scrollGroup.attr({translateY: 1}), this.clipHeight = 0), a
        }, scroll: function (a, b) {
            var c, d = this.pages, e = d.length, f = this.currentPage + a, g = this.clipHeight, h = this.options.navigation, i = h.activeColor, j = h.inactiveColor, k = this.pager, l = this.padding;
            f > e && (f = e), f > 0 && (b !== K && D(b, this.chart), this.nav.attr({
                translateX: l,
                translateY: g + this.padding + 7 + this.titleHeight,
                visibility: Ta
            }), this.up.attr({fill: 1 === f ? j : i}).css({cursor: 1 === f ? "default" : "pointer"}), k.attr({text: f + "/" + e}), this.down.attr({
                x: 18 + this.pager.getBBox().width,
                fill: f === e ? j : i
            }).css({cursor: f === e ? "default" : "pointer"}), c = -d[f - 1] + this.initialItemY, this.scrollGroup.animate({translateY: c}), this.currentPage = f, this.positionCheckboxes(c))
        }
    };
    var Qb = ia.LegendSymbolMixin = {
        drawRectangle: function (a, b) {
            var c = a.options.symbolHeight || a.fontMetrics.f;
            b.legendSymbol = this.chart.renderer.rect(0, a.baseline - c + 1, a.symbolWidth, c, a.options.symbolRadius || 0).attr({zIndex: 3}).add(b.legendGroup)
        }, drawLineMarker: function (a) {
            var b, c, d, e = this.options, f = e.marker, g = a.symbolWidth, h = this.chart.renderer, i = this.legendGroup, j = a.baseline - ma(.3 * a.fontMetrics.b);
            e.lineWidth && (d = {"stroke-width": e.lineWidth}, e.dashStyle && (d.dashstyle = e.dashStyle), this.legendLine = h.path([Wa, 0, j, Xa, g, j]).attr(d).add(i)), f && f.enabled !== !1 && (b = f.radius, this.legendSymbol = c = h.symbol(this.symbol, g / 2 - b, j - b, 2 * b, 2 * b).add(i), c.isMarker = !0)
        }
    };
    (/Trident\/7\.0/.test(wa) || Ba) && fb(Pb.prototype, "positionItem", function (a, b) {
        var c = this, d = function () {
            b._legendItemPos && a.call(c, b)
        };
        d(), setTimeout(d)
    });
    var Rb = ia.Chart = function () {
        this.init.apply(this, arguments)
    };
    Rb.prototype = {
        callbacks: [], init: function (b, c) {
            var d, e = b.series;
            b.series = null, d = a(O, b), d.series = b.series = e, this.userOptions = b;
            var f = d.chart;
            this.margin = this.splashArray("margin", f), this.spacing = this.splashArray("spacing", f);
            var g = f.events;
            this.bounds = {
                h: {},
                v: {}
            }, this.callback = c, this.isResizing = 0, this.options = d, this.axes = [], this.series = [], this.hasCartesianSeries = f.showAxes;
            var h, i = this;
            if (i.index = Ka.length, Ka.push(i), La++, f.reflow !== !1 && pb(i, "load", function () {
                    i.initReflow()
                }), g)for (h in g)pb(i, h, g[h]);
            i.xAxis = [], i.yAxis = [], i.animation = !Ga && eb(f.animation, !0), i.pointCount = i.colorCounter = i.symbolCounter = 0, i.firstRender()
        }, initSeries: function (a) {
            var b, c = this, d = c.options.chart, e = a.type || d.type || d.defaultSeriesType, f = cb[e];
            return f || B(17, !0), b = new f, b.init(this, a), b
        }, isInsidePlot: function (a, b, c) {
            var d = c ? b : a, e = c ? a : b;
            return d >= 0 && d <= this.plotWidth && e >= 0 && e <= this.plotHeight
        }, redraw: function (a) {
            var b, c, d, e = this, f = e.axes, g = e.series, h = e.pointer, i = e.legend, j = e.isDirtyLegend, k = e.hasCartesianSeries, l = e.isDirtyBox, m = g.length, n = m, o = e.renderer, p = o.isHidden(), q = [];
            for (D(a, e), p && e.cloneRenderTo(), e.layOutTitles(); n--;)if (d = g[n], d.options.stacking && (b = !0, d.isDirty)) {
                c = !0;
                break
            }
            if (c)for (n = m; n--;)d = g[n], d.options.stacking && (d.isDirty = !0);
            lb(g, function (a) {
                a.isDirty && "point" === a.options.legendType && (a.updateTotals && a.updateTotals(), j = !0)
            }), j && i.options.enabled && (i.render(), e.isDirtyLegend = !1), b && e.getStacks(), k && (e.isResizing || (e.maxTicks = null, lb(f, function (a) {
                a.setScale()
            }))), e.getMargins(), k && (lb(f, function (a) {
                a.isDirty && (l = !0)
            }), lb(f, function (a) {
                var c = a.min + "," + a.max;
                a.extKey !== c && (a.extKey = c, q.push(function () {
                    rb(a, "afterSetExtremes", db(a.eventArgs, a.getExtremes())), delete a.eventArgs
                })), (l || b) && a.redraw()
            })), l && e.drawChartBox(), lb(g, function (a) {
                a.isDirty && a.visible && (!a.isCartesian || a.xAxis) && a.redraw()
            }), h && h.reset(!0), o.draw(), rb(e, "redraw"), p && e.cloneRenderTo(!0), lb(q, function (a) {
                a.call()
            })
        }, get: function (a) {
            var b, c, d, e = this, f = e.axes, g = e.series;
            for (b = 0; b < f.length; b++)if (f[b].options.id === a)return f[b];
            for (b = 0; b < g.length; b++)if (g[b].options.id === a)return g[b];
            for (b = 0; b < g.length; b++)for (d = g[b].points || [], c = 0; c < d.length; c++)if (d[c].id === a)return d[c];
            return null
        }, getAxes: function () {
            var a, b, c = this, d = this.options, e = d.xAxis = l(d.xAxis || {}), f = d.yAxis = l(d.yAxis || {});
            lb(e, function (a, b) {
                a.index = b, a.isX = !0
            }), lb(f, function (a, b) {
                a.index = b
            }), a = e.concat(f), lb(a, function (a) {
                b = new Hb(c, a)
            })
        }, getSelectedPoints: function () {
            var a = [];
            return lb(this.series, function (b) {
                a = a.concat(mb(b.points || [], function (a) {
                    return a.selected
                }))
            }), a
        }, getSelectedSeries: function () {
            return mb(this.series, function (a) {
                return a.selected
            })
        }, setTitle: function (b, c, d) {
            var e, f, g = this, h = g.options;
            e = h.title = a(h.title, b), f = h.subtitle = a(h.subtitle, c), lb([["title", b, e], ["subtitle", c, f]], function (a) {
                var b = a[0], c = g[b], d = a[1], e = a[2];
                c && d && (g[b] = c = c.destroy()), e && e.text && !c && (g[b] = g.renderer.text(e.text, 0, 0, e.useHTML).attr({
                    align: e.align,
                    class: Sa + b,
                    zIndex: e.zIndex || 4
                }).css(e.style).add())
            }), g.layOutTitles(d)
        }, layOutTitles: function (a) {
            var b, c = 0, d = this.title, e = this.subtitle, f = this.options, g = f.title, h = f.subtitle, i = this.renderer, j = this.spacingBox.width - 44;
            d && (d.css({width: (g.width || j) + Ua}).align(db({y: i.fontMetrics(g.style.fontSize, d).b - 3}, g), !1, "spacingBox"), g.floating || g.verticalAlign || (c = d.getBBox().height)), e && (e.css({width: (h.width || j) + Ua}).align(db({y: c + (g.margin - 13) + i.fontMetrics(g.style.fontSize, e).b}, h), !1, "spacingBox"), h.floating || h.verticalAlign || (c = oa(c + e.getBBox().height))), b = this.titleOffset !== c, this.titleOffset = c, !this.isDirtyBox && b && (this.isDirtyBox = b, this.hasRendered && eb(a, !0) && this.isDirtyBox && this.redraw())
        }, getChartSize: function () {
            var a = this, b = a.options.chart, c = b.width, d = b.height, e = a.renderToClone || a.renderTo;
            j(c) || (a.containerWidth = ib(e, "width")), j(d) || (a.containerHeight = ib(e, "height")), a.chartWidth = pa(0, c || a.containerWidth || 600), a.chartHeight = pa(0, eb(d, a.containerHeight > 19 ? a.containerHeight : 400))
        }, cloneRenderTo: function (a) {
            var b = this.renderToClone, c = this.container;
            a ? b && (this.renderTo.appendChild(c), A(b), delete this.renderToClone) : (c && c.parentNode === this.renderTo && this.renderTo.removeChild(c), this.renderToClone = b = this.renderTo.cloneNode(0), m(b, {
                position: Pa,
                top: "-9999px",
                display: "block"
            }), b.style.setProperty && b.style.setProperty("display", "block", "important"), ja.body.appendChild(b), c && b.appendChild(c))
        }, getContainer: function () {
            var a, d, e, f, g, h, i = this, j = i.options.chart, l = "data-highcharts-chart";
            i.renderTo = f = j.renderTo, h = Sa + Ia++, c(f) && (i.renderTo = f = ja.getElementById(f)), f || B(13, !0), g = b(k(f, l)), !isNaN(g) && Ka[g] && Ka[g].hasRendered && Ka[g].destroy(), k(f, l, i.index), f.innerHTML = "", j.skipClone || f.offsetWidth || i.cloneRenderTo(), i.getChartSize(), d = i.chartWidth, e = i.chartHeight, i.container = a = n(Oa, {
                className: Sa + "container" + (j.className ? " " + j.className : ""),
                id: h
            }, db({
                position: Qa,
                overflow: Ra,
                width: d + Ua,
                height: e + Ua,
                textAlign: "left",
                lineHeight: "normal",
                zIndex: 0,
                "-webkit-tap-highlight-color": "rgba(0,0,0,0)"
            }, j.style), i.renderToClone || f), i._cursor = a.style.cursor, i.renderer = j.forExport ? new Bb(a, d, e, j.style, !0) : new L(a, d, e, j.style), Ga && i.renderer.create(i, a, d, e), i.renderer.chartIndex = i.index
        }, getMargins: function (a) {
            var b = this, c = b.spacing, d = b.margin, e = b.titleOffset;
            b.resetMargins(), e && !j(d[0]) && (b.plotTop = pa(b.plotTop, e + b.options.title.margin + c[0])), b.legend.adjustMargins(d, c), b.extraBottomMargin && (b.marginBottom += b.extraBottomMargin), b.extraTopMargin && (b.plotTop += b.extraTopMargin), a || this.getAxisMargins()
        }, getAxisMargins: function () {
            var a = this, b = a.axisOffset = [0, 0, 0, 0], c = a.margin;
            a.hasCartesianSeries && lb(a.axes, function (a) {
                a.getOffset()
            }), lb(ab, function (d, e) {
                j(c[e]) || (a[d] += b[e])
            }), a.setChartSize()
        }, reflow: function (a) {
            var b = this, c = b.options.chart, d = b.renderTo, e = c.width || ib(d, "width"), f = c.height || ib(d, "height"), g = a ? a.target : ka, h = function () {
                b.container && (b.setSize(e, f, !1), b.hasUserSize = null)
            };
            b.hasUserSize || b.isPrinting || !e || !f || g !== ka && g !== ja || (e === b.containerWidth && f === b.containerHeight || (clearTimeout(b.reflowTimeout), a ? b.reflowTimeout = setTimeout(h, 100) : h()), b.containerWidth = e, b.containerHeight = f)
        }, initReflow: function () {
            var a = this, b = function (b) {
                a.reflow(b)
            };
            pb(ka, "resize", b), pb(a, "destroy", function () {
                qb(ka, "resize", b)
            })
        }, setSize: function (a, b, c) {
            var d, e, f, g = this, h = g.renderer, i = h.globalAnimation;
            g.isResizing += 1, f = function () {
                g && rb(g, "endResize", null, function () {
                    g.isResizing -= 1
                })
            }, D(c, g), g.oldChartHeight = g.chartHeight, g.oldChartWidth = g.chartWidth, j(a) && (g.chartWidth = d = pa(0, ma(a)), g.hasUserSize = !!d), j(b) && (g.chartHeight = e = pa(0, ma(b))), (i ? tb : m)(g.container, {
                width: d + Ua,
                height: e + Ua
            }, i), g.setChartSize(!0), h.setSize(d, e, c), g.maxTicks = null, lb(g.axes, function (a) {
                a.isDirty = !0, a.setScale()
            }), lb(g.series, function (a) {
                a.isDirty = !0
            }), g.isDirtyLegend = !0, g.isDirtyBox = !0, g.layOutTitles(), g.getMargins(), g.redraw(c), g.oldChartHeight = null, rb(g, "resize"), i === !1 ? f() : setTimeout(f, i && i.duration || 500)
        }, setChartSize: function (a) {
            var b, c, d, e, f, g, h, i = this, j = i.inverted, k = i.renderer, l = i.chartWidth, m = i.chartHeight, n = i.options.chart, o = i.spacing, p = i.clipOffset;
            i.plotLeft = d = ma(i.plotLeft), i.plotTop = e = ma(i.plotTop), i.plotWidth = f = pa(0, ma(l - d - i.marginRight)), i.plotHeight = g = pa(0, ma(m - e - i.marginBottom)), i.plotSizeX = j ? g : f, i.plotSizeY = j ? f : g, i.plotBorderWidth = n.plotBorderWidth || 0, i.spacingBox = k.spacingBox = {
                x: o[3],
                y: o[0],
                width: l - o[3] - o[1],
                height: m - o[0] - o[2]
            }, i.plotBox = k.plotBox = {
                x: d,
                y: e,
                width: f,
                height: g
            }, h = 2 * na(i.plotBorderWidth / 2), b = oa(pa(h, p[3]) / 2), c = oa(pa(h, p[0]) / 2), i.clipBox = {
                x: b,
                y: c,
                width: na(i.plotSizeX - pa(h, p[1]) / 2 - b),
                height: pa(0, na(i.plotSizeY - pa(h, p[2]) / 2 - c))
            }, a || lb(i.axes, function (a) {
                a.setAxisSize(), a.setAxisTranslation()
            })
        }, resetMargins: function () {
            var a = this;
            lb(ab, function (b, c) {
                a[b] = eb(a.margin[c], a.spacing[c])
            }), a.axisOffset = [0, 0, 0, 0], a.clipOffset = [0, 0, 0, 0]
        }, drawChartBox: function () {
            var a, b, c = this, d = c.options.chart, e = c.renderer, f = c.chartWidth, g = c.chartHeight, h = c.chartBackground, i = c.plotBackground, j = c.plotBorder, k = c.plotBGImage, l = d.borderWidth || 0, m = d.backgroundColor, n = d.plotBackgroundColor, o = d.plotBackgroundImage, p = d.plotBorderWidth || 0, q = c.plotLeft, r = c.plotTop, s = c.plotWidth, t = c.plotHeight, u = c.plotBox, v = c.clipRect, w = c.clipBox;
            a = l + (d.shadow ? 8 : 0), (l || m) && (h ? h.animate(h.crisp({
                width: f - a,
                height: g - a
            })) : (b = {fill: m || Va}, l && (b.stroke = d.borderColor, b["stroke-width"] = l), c.chartBackground = e.rect(a / 2, a / 2, f - a, g - a, d.borderRadius, l).attr(b).addClass(Sa + "background").add().shadow(d.shadow))), n && (i ? i.animate(u) : c.plotBackground = e.rect(q, r, s, t, 0).attr({fill: n}).add().shadow(d.plotShadow)), o && (k ? k.animate(u) : c.plotBGImage = e.image(o, q, r, s, t).add()), v ? v.animate({
                width: w.width,
                height: w.height
            }) : c.clipRect = e.clipRect(w), p && (j ? j.animate(j.crisp({
                x: q,
                y: r,
                width: s,
                height: t,
                strokeWidth: -p
            })) : c.plotBorder = e.rect(q, r, s, t, 0, -p).attr({
                stroke: d.plotBorderColor,
                "stroke-width": p,
                fill: Va,
                zIndex: 1
            }).add()), c.isDirtyBox = !1
        }, propFromSeries: function () {
            var a, b, c, d = this, e = d.options.chart, f = d.options.series;
            lb(["inverted", "angular", "polar"], function (g) {
                for (a = cb[e.type || e.defaultSeriesType], c = d[g] || e[g] || a && a.prototype[g], b = f && f.length; !c && b--;)a = cb[f[b].type], a && a.prototype[g] && (c = !0);
                d[g] = c
            })
        }, linkSeries: function () {
            var a = this, b = a.series;
            lb(b, function (a) {
                a.linkedSeries.length = 0
            }), lb(b, function (b) {
                var d = b.options.linkedTo;
                c(d) && (d = ":previous" === d ? a.series[b.index - 1] : a.get(d), d && (d.linkedSeries.push(b), b.linkedParent = d, b.visible = eb(b.options.visible, d.options.visible, b.visible)))
            })
        }, renderSeries: function () {
            lb(this.series, function (a) {
                a.translate(), a.render()
            })
        }, renderLabels: function () {
            var a = this, c = a.options.labels;
            c.items && lb(c.items, function (d) {
                var e = db(c.style, d.style), f = b(e.left) + a.plotLeft, g = b(e.top) + a.plotTop + 12;
                delete e.left, delete e.top, a.renderer.text(d.html, f, g).attr({zIndex: 2}).css(e).add()
            })
        }, render: function () {
            var a, b, c, d, e = this, f = e.axes, g = e.renderer, h = e.options;
            e.setTitle(), e.legend = new Pb(e, h.legend), e.getStacks && e.getStacks(), e.getMargins(!0), e.setChartSize(), a = e.plotWidth, b = e.plotHeight = e.plotHeight - 13, lb(f, function (a) {
                a.setScale()
            }), e.getAxisMargins(), c = a / e.plotWidth > 1.1, d = b / e.plotHeight > 1.1, (c || d) && (e.maxTicks = null, lb(f, function (a) {
                (a.horiz && c || !a.horiz && d) && a.setTickInterval(!0)
            }), e.getMargins()), e.drawChartBox(), e.hasCartesianSeries && lb(f, function (a) {
                a.render()
            }), e.seriesGroup || (e.seriesGroup = g.g("series-group").attr({zIndex: 3}).add()), e.renderSeries(), e.renderLabels(), e.showCredits(h.credits), e.hasRendered = !0
        }, showCredits: function (a) {
            a.enabled && !this.credits && (this.credits = this.renderer.text(a.text, 0, 0).on("click", function () {
                a.href && (location.href = a.href)
            }).attr({align: a.position.align, zIndex: 8}).css(a.style).add().align(a.position))
        }, destroy: function () {
            var a, b = this, c = b.axes, d = b.series, e = b.container, f = e && e.parentNode;
            for (rb(b, "destroy"), Ka[b.index] = K, La--, b.renderTo.removeAttribute("data-highcharts-chart"), qb(b), a = c.length; a--;)c[a] = c[a].destroy();
            for (a = d.length; a--;)d[a] = d[a].destroy();
            lb(["title", "subtitle", "chartBackground", "plotBackground", "plotBGImage", "plotBorder", "seriesGroup", "clipRect", "credits", "pointer", "scroller", "rangeSelector", "legend", "resetZoomButton", "tooltip", "renderer"], function (a) {
                var c = b[a];
                c && c.destroy && (b[a] = c.destroy())
            }), e && (e.innerHTML = "", qb(e), f && A(e));
            for (a in b)delete b[a]
        }, isReadyToRender: function () {
            var a = this;
            return !(!Ea && ka == ka.top && "complete" !== ja.readyState || Ga && !ka.canvg) || (Ga ? Gb.push(function () {
                    a.firstRender()
                }, a.options.global.canvasToolsURL) : ja.attachEvent("onreadystatechange", function () {
                    ja.detachEvent("onreadystatechange", a.firstRender), "complete" === ja.readyState && a.firstRender()
                }), !1)
        }, firstRender: function () {
            var a = this, b = a.options, c = a.callback;
            a.isReadyToRender() && (a.getContainer(), rb(a, "init"), a.resetMargins(), a.setChartSize(), a.propFromSeries(), a.getAxes(), lb(b.series || [], function (b) {
                a.initSeries(b)
            }), a.linkSeries(), rb(a, "beforeRender"), ia.Pointer && (a.pointer = new Kb(a, b)), a.render(), a.renderer.draw(), c && c.apply(a, [a]), lb(a.callbacks, function (b) {
                a.index !== K && b.apply(a, [a])
            }), rb(a, "load"), a.cloneRenderTo(!0))
        }, splashArray: function (a, b) {
            var c = b[a], e = d(c) ? c : [c, c, c, c];
            return [eb(b[a + "Top"], e[0]), eb(b[a + "Right"], e[1]), eb(b[a + "Bottom"], e[2]), eb(b[a + "Left"], e[3])]
        }
    };
    var Sb = ia.CenteredSeriesMixin = {
        getCenter: function () {
            var a, b, c, d = this.options, e = this.chart, f = 2 * (d.slicedOffset || 0), g = e.plotWidth - 2 * f, h = e.plotHeight - 2 * f, i = d.center, j = [eb(i[0], "50%"), eb(i[1], "50%"), d.size || "100%", d.innerSize || 0], k = qa(g, h);
            for (b = 0; b < 4; ++b)c = j[b], a = b < 2 || 2 === b && /%$/.test(c), j[b] = q(c, [g, h, k, j[2]][b]) + (a ? f : 0);
            return j
        }
    }, Tb = function () {
    };
    Tb.prototype = {
        init: function (a, b, c) {
            var d, e = this;
            return e.series = a, e.color = a.color, e.applyOptions(b, c), e.pointAttr = {}, a.options.colorByPoint && (d = a.options.colors || a.chart.options.colors, e.color = e.color || d[a.colorCounter++], a.colorCounter === d.length && (a.colorCounter = 0)), a.chart.pointCount++, e
        }, applyOptions: function (a, b) {
            var c = this, d = c.series, e = d.options.pointValKey || d.pointValKey;
            return a = Tb.prototype.optionsToObject.call(this, a), db(c, a), c.options = c.options ? db(c.options, a) : a, e && (c.y = c[e]), c.x === K && d && (c.x = b === K ? d.autoIncrement() : b), c
        }, optionsToObject: function (a) {
            var b, c = {}, d = this.series, f = d.options.keys, g = f || d.pointArrayMap || ["y"], h = g.length, i = 0, j = 0;
            if ("number" == typeof a || null === a)c[g[0]] = a; else if (e(a))for (!f && a.length > h && (b = typeof a[0], "string" === b ? c.name = a[0] : "number" === b && (c.x = a[0]), i++); j < h;)c[g[j++]] = a[i++]; else"object" == typeof a && (c = a, a.dataLabels && (d._hasPointLabels = !0), a.marker && (d._hasPointMarkers = !0));
            return c
        }, destroy: function () {
            var a, b = this, c = b.series, d = c.chart, e = d.hoverPoints;
            d.pointCount--, e && (b.setState(), i(e, b), e.length || (d.hoverPoints = null)), b === d.hoverPoint && b.onMouseOut(), (b.graphic || b.dataLabel) && (qb(b), b.destroyElements()), b.legendItem && d.legend.destroyItem(b);
            for (a in b)b[a] = null
        }, destroyElements: function () {
            for (var a, b = this, c = ["graphic", "dataLabel", "dataLabelUpper", "group", "connector", "shadowGroup"], d = 6; d--;)a = c[d], b[a] && (b[a] = b[a].destroy())
        }, getLabelConfig: function () {
            return {
                x: this.category,
                y: this.y,
                color: this.color,
                key: this.name || this.category,
                series: this.series,
                point: this,
                percentage: this.percentage,
                total: this.total || this.stackTotal
            }
        }, tooltipFormatter: function (a) {
            var b = this.series, c = b.tooltipOptions, d = eb(c.valueDecimals, ""), e = c.valuePrefix || "", f = c.valueSuffix || "";
            return lb(b.pointArrayMap || ["y"], function (b) {
                b = "{point." + b, (e || f) && (a = a.replace(b + "}", e + b + "}" + f)), a = a.replace(b + "}", b + ":,." + d + "f}")
            }), t(a, {point: this, series: this.series})
        }, firePointEvent: function (a, b, c) {
            var d = this, e = this.series, f = e.options;
            (f.point.events[a] || d.options && d.options.events && d.options.events[a]) && this.importEvents(), "click" === a && f.allowPointSelect && (c = function (a) {
                d.select && d.select(null, a.ctrlKey || a.metaKey || a.shiftKey)
            }), rb(this, a, b, c)
        }
    };
    var Ub = ia.Series = function () {
    };
    Ub.prototype = {
        isCartesian: !0,
        type: "line",
        pointClass: Tb,
        sorted: !0,
        requireSorting: !0,
        pointAttrToOptions: {stroke: "lineColor", "stroke-width": "lineWidth", fill: "fillColor", r: "radius"},
        axisTypes: ["xAxis", "yAxis"],
        colorCounter: 0,
        parallelArrays: ["x", "y"],
        init: function (a, b) {
            var c, d, e = this, f = a.series, g = function (a, b) {
                return eb(a.options.index, a._i) - eb(b.options.index, b._i)
            };
            e.chart = a, e.options = b = e.setOptions(b), e.linkedSeries = [], e.bindAxes(), db(e, {
                name: b.name,
                state: Za,
                pointAttr: {},
                visible: b.visible !== !1,
                selected: b.selected === !0
            }), Ga && (b.animation = !1), d = b.events;
            for (c in d)pb(e, c, d[c]);
            (d && d.click || b.point && b.point.events && b.point.events.click || b.allowPointSelect) && (a.runTrackerClick = !0), e.getColor(), e.getSymbol(), lb(e.parallelArrays, function (a) {
                e[a + "Data"] = []
            }), e.setData(b.data, !1), e.isCartesian && (a.hasCartesianSeries = !0), f.push(e), e._i = f.length - 1, w(f, g), this.yAxis && w(this.yAxis.series, g), lb(f, function (a, b) {
                a.index = b, a.name = a.name || "Series " + (b + 1)
            })
        },
        bindAxes: function () {
            var a, b = this, c = b.options, d = b.chart;
            lb(b.axisTypes || [], function (e) {
                lb(d[e], function (d) {
                    a = d.options, (c[e] === a.index || c[e] !== K && c[e] === a.id || c[e] === K && 0 === a.index) && (d.series.push(b), b[e] = d, d.isDirty = !0)
                }), b[e] || b.optionalAxis === e || B(18, !0)
            })
        },
        updateParallelArrays: function (a, b) {
            var c = a.series, d = arguments, e = "number" == typeof b ? function (d) {
                var e = "y" === d && c.toYData ? c.toYData(a) : a[d];
                c[d + "Data"][b] = e
            } : function (a) {
                Array.prototype[b].apply(c[a + "Data"], Array.prototype.slice.call(d, 2))
            };
            lb(c.parallelArrays, e)
        },
        autoIncrement: function () {
            var a, b, c = this.options, d = this.xIncrement, e = c.pointIntervalUnit;
            return d = eb(d, c.pointStart, 0), this.pointInterval = b = eb(this.pointInterval, c.pointInterval, 1), "month" !== e && "year" !== e || (a = new T(d), a = "month" === e ? +a[ga](a[_]() + b) : +a[ha](a[aa]() + b), b = a - d), this.xIncrement = d + b, d
        },
        getSegments: function () {
            var a, b = this, c = -1, d = [], e = b.points, f = e.length;
            if (f)if (b.options.connectNulls) {
                for (a = f; a--;)null === e[a].y && e.splice(a, 1);
                e.length && (d = [e])
            } else lb(e, function (a, b) {
                null === a.y ? (b > c + 1 && d.push(e.slice(c + 1, b)), c = b) : b === f - 1 && d.push(e.slice(c + 1, b + 1))
            });
            b.segments = d
        },
        setOptions: function (b) {
            var c, d, e = this.chart, f = e.options, g = f.plotOptions, h = e.userOptions || {}, i = h.plotOptions || {}, k = g[this.type];
            return this.userOptions = b, c = a(k, g.series, b), this.tooltipOptions = a(O.tooltip, O.plotOptions[this.type].tooltip, h.tooltip, i.series && i.series.tooltip, i[this.type] && i[this.type].tooltip, b.tooltip), null === k.marker && delete c.marker, this.zoneAxis = c.zoneAxis, d = this.zones = (c.zones || []).slice(), !c.negativeColor && !c.negativeFillColor || c.zones || d.push({
                value: c[this.zoneAxis + "Threshold"] || c.threshold || 0,
                color: c.negativeColor,
                fillColor: c.negativeFillColor
            }), d.length && j(d[d.length - 1].value) && d.push({color: this.color, fillColor: this.fillColor}), c
        },
        getCyclic: function (a, b, c) {
            var d, e = this.userOptions, f = "_" + a + "Index", g = a + "Counter";
            b || (j(e[f]) ? d = e[f] : (e[f] = d = this.chart[g] % c.length, this.chart[g] += 1), b = c[d]), this[a] = b
        },
        getColor: function () {
            this.options.colorByPoint ? this.options.color = null : this.getCyclic("color", this.options.color || vb[this.type].color, this.chart.options.colors)
        },
        getSymbol: function () {
            var a = this.options.marker;
            this.getCyclic("symbol", a.symbol, this.chart.options.symbols), /^url/.test(this.symbol) && (a.radius = 0)
        },
        drawLegendSymbol: Qb.drawLineMarker,
        setData: function (a, b, d, g) {
            var h, i, k, l = this, m = l.points, n = m && m.length || 0, o = l.options, p = l.chart, q = null, r = l.xAxis, s = r && !!r.categories, t = o.turboThreshold, u = this.xData, v = this.yData, w = l.pointArrayMap, x = w && w.length;
            if (a = a || [], h = a.length, b = eb(b, !0), g !== !1 && h && n === h && !l.cropped && !l.hasGroupedData && l.visible)lb(a, function (a, b) {
                m[b].update && m[b].update(a, !1, null, !1)
            }); else {
                if (l.xIncrement = null, l.pointRange = s ? 1 : o.pointRange, l.colorCounter = 0, lb(this.parallelArrays, function (a) {
                        l[a + "Data"].length = 0
                    }), t && h > t) {
                    for (i = 0; null === q && i < h;)q = a[i], i++;
                    if (f(q)) {
                        var y = eb(o.pointStart, 0), z = eb(o.pointInterval, 1);
                        for (i = 0; i < h; i++)u[i] = y, v[i] = a[i], y += z;
                        l.xIncrement = y
                    } else if (e(q))if (x)for (i = 0; i < h; i++)k = a[i], u[i] = k[0], v[i] = k.slice(1, x + 1); else for (i = 0; i < h; i++)k = a[i], u[i] = k[0], v[i] = k[1]; else B(12)
                } else for (i = 0; i < h; i++)a[i] !== K && (k = {series: l}, l.pointClass.prototype.applyOptions.apply(k, [a[i]]), l.updateParallelArrays(k, i), s && j(k.name) && (r.names[k.x] = k.name));
                for (c(v[0]) && B(14, !0), l.data = [], l.options.data = a, i = n; i--;)m[i] && m[i].destroy && m[i].destroy();
                r && (r.minRange = r.userMinRange), l.isDirty = l.isDirtyData = p.isDirtyBox = !0, d = !1
            }
            b && p.redraw(d)
        },
        processData: function (a) {
            var b, c, d, e, f, g, h, i, j = this, k = j.xData, l = j.yData, m = k.length, n = 0, o = j.xAxis, p = j.options, q = p.cropThreshold, r = j.isCartesian;
            if (r && !j.isDirty && !o.isDirty && !j.yAxis.isDirty && !a)return !1;
            for (o && (g = o.getExtremes(), h = g.min, i = g.max), r && j.sorted && (!q || m > q || j.forceCrop) && (k[m - 1] < h || k[0] > i ? (k = [], l = []) : (k[0] < h || k[m - 1] > i) && (b = this.cropData(j.xData, j.yData, h, i), k = b.xData, l = b.yData, n = b.start, c = !0)), f = k.length - 1; f >= 0; f--)d = k[f] - k[f - 1], d > 0 && (e === K || d < e) ? e = d : d < 0 && j.requireSorting && B(15);
            j.cropped = c, j.cropStart = n, j.processedXData = k, j.processedYData = l, null === p.pointRange && (j.pointRange = e || 1), j.closestPointRange = e
        },
        cropData: function (a, b, c, d) {
            var e, f = a.length, g = 0, h = f, i = eb(this.cropShoulder, 1);
            for (e = 0; e < f; e++)if (a[e] >= c) {
                g = pa(0, e - i);
                break
            }
            for (; e < f; e++)if (a[e] > d) {
                h = e + i;
                break
            }
            return {xData: a.slice(g, h), yData: b.slice(g, h), start: g, end: h}
        },
        generatePoints: function () {
            var a, b, c, d, e = this, f = e.options, g = f.data, h = e.data, i = e.processedXData, j = e.processedYData, k = e.pointClass, m = i.length, n = e.cropStart || 0, o = e.hasGroupedData, p = [];
            if (!h && !o) {
                var q = [];
                q.length = g.length, h = e.data = q
            }
            for (d = 0; d < m; d++)b = n + d, o ? p[d] = (new k).init(e, [i[d]].concat(l(j[d]))) : (h[b] ? c = h[b] : g[b] !== K && (h[b] = c = (new k).init(e, g[b], i[d])), p[d] = c), p[d].index = b;
            if (h && (m !== (a = h.length) || o))for (d = 0; d < a; d++)d !== n || o || (d += m), h[d] && (h[d].destroyElements(), h[d].plotX = K);
            e.data = h, e.points = p
        },
        getExtremes: function (a) {
            var b, c, d, e, f, g, h, i = this.xAxis, j = this.yAxis, k = this.processedXData, l = [], m = 0, n = i.getExtremes(), o = n.min, p = n.max;
            for (a = a || this.stackedYData || this.processedYData, b = a.length, g = 0; g < b; g++)if (e = k[g], f = a[g], c = null !== f && f !== K && (!j.isLog || f.length || f > 0), d = this.getExtremesFromAll || this.options.getExtremesFromAll || this.cropped || (k[g + 1] || e) >= o && (k[g - 1] || e) <= p, c && d)if (h = f.length)for (; h--;)null !== f[h] && (l[m++] = f[h]); else l[m++] = f;
            this.dataMin = x(l), this.dataMax = y(l)
        },
        translate: function () {
            this.processedXData || this.processData(), this.generatePoints();
            var a, b, c, d, e = this, g = e.options, h = g.stacking, i = e.xAxis, k = i.categories, l = e.yAxis, m = e.points, n = m.length, o = !!e.modifyValue, p = g.pointPlacement, q = "between" === p || f(p), r = g.threshold, s = g.startFromThreshold ? r : 0, t = Number.MAX_VALUE;
            for (a = 0; a < n; a++) {
                var u, v, w = m[a], x = w.x, y = w.y, z = w.low, A = h && l.stacks[(e.negStacks && y < (s ? 0 : r) ? "-" : "") + e.stackKey];
                l.isLog && null !== y && y <= 0 && (w.y = y = null, B(10)), w.plotX = b = qa(pa(-1e5, i.translate(x, 0, 0, 0, 1, p, "flags" === this.type)), 1e5), h && e.visible && A && A[x] && (u = A[x], v = u.points[e.index + "," + a], z = v[0], y = v[1], z === s && (z = eb(r, l.min)), l.isLog && z <= 0 && (z = null), w.total = w.stackTotal = u.total, w.percentage = u.total && w.y / u.total * 100, w.stackY = y, u.setOffset(e.pointXOffset || 0, e.barW || 0)), w.yBottom = j(z) ? l.translate(z, 0, 1, 0, 1) : null, o && (y = e.modifyValue(y, w)), w.plotY = c = "number" == typeof y && y !== 1 / 0 ? qa(pa(-1e5, l.translate(y, 0, 1, 0, 1)), 1e5) : K, w.isInside = c !== K && c >= 0 && c <= l.len && b >= 0 && b <= i.len, w.clientX = q ? i.translate(x, 0, 0, 0, 1) : b, w.negative = w.y < (r || 0), w.category = k && k[w.x] !== K ? k[w.x] : w.x, a && (t = qa(t, ra(b - d))), d = b
            }
            e.closestPointRangePx = t, e.getSegments()
        },
        setClip: function (a) {
            var b = this.chart, c = b.renderer, d = b.inverted, e = this.clipBox, f = e || b.clipBox, g = this.sharedClipKey || ["_sharedClip", a && a.duration, a && a.easing, f.height].join(","), h = b[g], i = b[g + "m"];
            h || (a && (f.width = 0, b[g + "m"] = i = c.clipRect(-99, d ? -b.plotLeft : -b.plotTop, 99, d ? b.chartWidth : b.chartHeight)), b[g] = h = c.clipRect(f)), a && (h.count += 1), this.options.clip !== !1 && (this.group.clip(a || e ? h : b.clipRect), this.markerGroup.clip(i), this.sharedClipKey = g), a || (h.count -= 1, h.count <= 0 && g && b[g] && (e || (b[g] = b[g].destroy()), b[g + "m"] && (b[g + "m"] = b[g + "m"].destroy())))
        },
        animate: function (a) {
            var b, c, e = this, f = e.chart, g = e.options.animation;
            g && !d(g) && (g = vb[e.type].animation), a ? e.setClip(g) : (c = this.sharedClipKey, b = f[c], b && b.animate({width: f.plotSizeX}, g), f[c + "m"] && f[c + "m"].animate({width: f.plotSizeX + 99}, g), e.animate = null)
        },
        afterAnimate: function () {
            this.setClip(), rb(this, "afterAnimate")
        },
        drawPoints: function () {
            var a, b, c, d, e, f, g, h, i, j, k, l, m, n = this, o = n.points, p = n.chart, q = n.options, r = q.marker, s = n.pointAttr[""], t = n.markerGroup, u = n.xAxis, v = eb(r.enabled, u.isRadial, n.closestPointRangePx > 2 * r.radius);
            if (r.enabled !== !1 || n._hasPointMarkers)for (d = o.length; d--;)e = o[d], b = na(e.plotX), c = e.plotY, i = e.graphic, j = e.marker || {}, k = !!e.marker, l = v && j.enabled === K || j.enabled, m = e.isInside, l && c !== K && !isNaN(c) && null !== e.y ? (a = e.pointAttr[e.selected ? _a : Za] || s, f = a.r, g = eb(j.symbol, n.symbol), h = 0 === g.indexOf("url"), i ? i[m ? "show" : "hide"](!0).animate(db({
                x: b - f,
                y: c - f
            }, i.symbolName ? {
                width: 2 * f,
                height: 2 * f
            } : {})) : m && (f > 0 || h) && (e.graphic = i = p.renderer.symbol(g, b - f, c - f, 2 * f, 2 * f, k ? j : r).attr(a).add(t))) : i && (e.graphic = i.destroy())
        },
        convertAttribs: function (a, b, c, d) {
            var e, f, g = this.pointAttrToOptions, h = {};
            a = a || {}, b = b || {}, c = c || {}, d = d || {};
            for (e in g)f = g[e], h[e] = eb(a[f], b[e], c[e], d[e]);
            return h
        },
        getAttribs: function () {
            var a, b, c, d, e, f, g, h, i = this, k = i.options, l = vb[i.type].marker ? k.marker : k, m = l.states, n = m[$a], o = i.color, p = i.options.negativeColor, q = {
                stroke: o,
                fill: o
            }, r = i.points || [], s = [], t = i.pointAttrToOptions, u = i.hasPointSpecificOptions, v = l.lineColor, w = l.fillColor, x = k.turboThreshold, y = i.zones, z = i.zoneAxis || "y";
            if (k.marker ? (n.radius = n.radius || l.radius + n.radiusPlus, n.lineWidth = n.lineWidth || l.lineWidth + n.lineWidthPlus) : (n.color = n.color || Ab(n.color || o).brighten(n.brightness).get(), n.negativeColor = n.negativeColor || Ab(n.negativeColor || p).brighten(n.brightness).get()), s[Za] = i.convertAttribs(l, q), lb([$a, _a], function (a) {
                    s[a] = i.convertAttribs(m[a], s[Za])
                }), i.pointAttr = s, b = r.length, !x || b < x || u)for (; b--;) {
                if (e = r[b], l = e.options && e.options.marker || e.options, l && l.enabled === !1 && (l.radius = 0), y.length) {
                    for (c = 0, d = y[c]; e[z] >= d.value;)d = y[++c];
                    d.color && (e.color = e.fillColor = d.color)
                }
                if (u = k.colorByPoint || e.color, e.options)for (h in t)j(l[t[h]]) && (u = !0);
                u ? (l = l || {}, f = [], m = l.states || {}, a = m[$a] = m[$a] || {}, k.marker || (a.color = a.color || !e.options.color && n[e.negative && p ? "negativeColor" : "color"] || Ab(e.color).brighten(a.brightness || n.brightness).get()), g = {color: e.color}, w || (g.fillColor = e.color), v || (g.lineColor = e.color), l.hasOwnProperty("color") && !l.color && delete l.color, f[Za] = i.convertAttribs(db(g, l), s[Za]), f[$a] = i.convertAttribs(m[$a], s[$a], f[Za]), f[_a] = i.convertAttribs(m[_a], s[_a], f[Za])) : f = s, e.pointAttr = f
            }
        },
        destroy: function () {
            var a, b, c, d, e, f = this, g = f.chart, h = /AppleWebKit\/533/.test(wa), j = f.data || [];
            for (rb(f, "destroy"), qb(f), lb(f.axisTypes || [], function (a) {
                e = f[a], e && (i(e.series, f), e.isDirty = e.forceRedraw = !0)
            }), f.legendItem && f.chart.legend.destroyItem(f), b = j.length; b--;)c = j[b], c && c.destroy && c.destroy();
            f.points = null, clearTimeout(f.animationTimeout);
            for (d in f)f[d] instanceof H && !f[d].survive && (a = h && "group" === d ? "hide" : "destroy", f[d][a]());
            g.hoverSeries === f && (g.hoverSeries = null), i(g.series, f);
            for (d in f)delete f[d]
        },
        getSegmentPath: function (a) {
            var b = this, c = [], d = b.options.step;
            return lb(a, function (e, f) {
                var g, h = e.plotX, i = e.plotY;
                b.getPointSpline ? c.push.apply(c, b.getPointSpline(a, e, f)) : (c.push(f ? Xa : Wa), d && f && (g = a[f - 1], "right" === d ? c.push(g.plotX, i) : "center" === d ? c.push((g.plotX + h) / 2, g.plotY, (g.plotX + h) / 2, i) : c.push(h, g.plotY)), c.push(e.plotX, e.plotY))
            }), c
        },
        getGraphPath: function () {
            var a, b = this, c = [], d = [];
            return lb(b.segments, function (e) {
                a = b.getSegmentPath(e), e.length > 1 ? c = c.concat(a) : d.push(e[0])
            }), b.singlePoints = d, b.graphPath = c, c
        },
        drawGraph: function () {
            var a = this, b = this.options, c = [["graph", b.lineColor || this.color, b.dashStyle]], d = b.lineWidth, e = "square" !== b.linecap, f = this.getGraphPath(), g = this.fillGraph && this.color || Va, h = this.zones;
            lb(h, function (d, e) {
                c.push(["zoneGraph" + e, d.color || a.color, d.dashStyle || b.dashStyle])
            }), lb(c, function (c, h) {
                var i, j = c[0], k = a[j];
                k ? k.animate({d: f}) : (d || g) && f.length && (i = {
                    stroke: c[1],
                    "stroke-width": d,
                    fill: g,
                    zIndex: 1
                }, c[2] ? i.dashstyle = c[2] : e && (i["stroke-linecap"] = i["stroke-linejoin"] = "round"), a[j] = a.chart.renderer.path(f).attr(i).add(a.group).shadow(h < 2 && b.shadow))
            })
        },
        applyZones: function () {
            var a, b, c, d, e, f, g, h = this, i = this.chart, j = i.renderer, k = this.zones, l = this.clips || [], m = this.graph, n = this.area, o = pa(i.chartWidth, i.chartHeight), p = this[(this.zoneAxis || "y") + "Axis"], q = p.reversed, r = i.inverted, s = p.horiz, t = !1;
            k.length && (m || n) && p.min !== K && (m && m.hide(), n && n.hide(), d = p.getExtremes(), lb(k, function (k, u) {
                a = q ? s ? i.plotWidth : 0 : s ? 0 : p.toPixels(d.min), a = qa(pa(eb(b, a), 0), o), b = qa(pa(ma(p.toPixels(eb(k.value, d.max), !0)), 0), o), t && (a = b = p.toPixels(d.max)), e = Math.abs(a - b), f = qa(a, b), g = pa(a, b), p.isXAxis ? (c = {
                    x: r ? g : f,
                    y: 0,
                    width: e,
                    height: o
                }, s || (c.x = i.plotHeight - c.x)) : (c = {
                    x: 0,
                    y: r ? g : f,
                    width: o,
                    height: e
                }, s && (c.y = i.plotWidth - c.y)), i.inverted && j.isVML && (c = p.isXAxis ? {
                    x: 0,
                    y: q ? f : g,
                    height: c.width,
                    width: i.chartWidth
                } : {
                    x: c.y - i.plotLeft - i.spacingBox.x,
                    y: 0,
                    width: c.height,
                    height: i.chartHeight
                }), l[u] ? l[u].animate(c) : (l[u] = j.clipRect(c), m && h["zoneGraph" + u].clip(l[u]), n && h["zoneArea" + u].clip(l[u])), t = k.value > d.max
            }), this.clips = l)
        },
        invertGroups: function () {
            function a() {
                var a = {width: b.yAxis.len, height: b.xAxis.len};
                lb(["group", "markerGroup"], function (c) {
                    b[c] && b[c].attr(a).invert()
                })
            }

            var b = this, c = b.chart;
            b.xAxis && (pb(c, "resize", a), pb(b, "destroy", function () {
                qb(c, "resize", a)
            }), a(), b.invertGroups = a)
        },
        plotGroup: function (a, b, c, d, e) {
            var f = this[a], g = !f;
            return g && (this[a] = f = this.chart.renderer.g(b).attr({
                visibility: c,
                zIndex: d || .1
            }).add(e)), f[g ? "attr" : "animate"](this.getPlotBox()), f
        },
        getPlotBox: function () {
            var a = this.chart, b = this.xAxis, c = this.yAxis;
            return a.inverted && (b = c, c = this.xAxis), {
                translateX: b ? b.left : a.plotLeft,
                translateY: c ? c.top : a.plotTop,
                scaleX: 1,
                scaleY: 1
            }
        },
        render: function () {
            var a, b = this, c = b.chart, d = b.options, e = d.animation, f = e && !!b.animate && c.renderer.isSVG && eb(e.duration, 500) || 0, g = b.visible ? Ta : Ra, h = d.zIndex, i = b.hasRendered, j = c.seriesGroup;
            a = b.plotGroup("group", "series", g, h, j), b.markerGroup = b.plotGroup("markerGroup", "markers", g, h, j), f && b.animate(!0), b.getAttribs(), a.inverted = !!b.isCartesian && c.inverted, b.drawGraph && (b.drawGraph(), b.applyZones()), lb(b.points, function (a) {
                a.redraw && a.redraw()
            }), b.drawDataLabels && b.drawDataLabels(), b.visible && b.drawPoints(), b.drawTracker && b.options.enableMouseTracking !== !1 && b.drawTracker(), c.inverted && b.invertGroups(), d.clip === !1 || b.sharedClipKey || i || a.clip(c.clipRect), f && b.animate(), i || (f ? b.animationTimeout = setTimeout(function () {
                b.afterAnimate()
            }, f) : b.afterAnimate()), b.isDirty = b.isDirtyData = !1, b.hasRendered = !0
        },
        redraw: function () {
            var a = this, b = a.chart, c = a.isDirtyData, d = a.isDirty, e = a.group, f = a.xAxis, g = a.yAxis;
            e && (b.inverted && e.attr({
                width: b.plotWidth,
                height: b.plotHeight
            }), e.animate({
                translateX: eb(f && f.left, b.plotLeft),
                translateY: eb(g && g.top, b.plotTop)
            })), a.translate(), a.render(), c && rb(a, "updatedData"), (d || c) && delete this.kdTree
        },
        kdDimensions: 1,
        kdAxisArray: ["clientX", "plotY"],
        searchPoint: function (a, b) {
            var c = this, d = c.xAxis, e = c.yAxis, f = c.chart.inverted;
            return this.searchKDTree({
                clientX: f ? d.len - a.chartY + d.pos : a.chartX - d.pos,
                plotY: f ? e.len - a.chartX + e.pos : a.chartY - e.pos
            }, b)
        },
        buildKDTree: function () {
            function a(b, d, e) {
                var f, g, h = b && b.length;
                if (h)return f = c.kdAxisArray[d % e], b.sort(function (a, b) {
                    return a[f] - b[f]
                }), g = Math.floor(h / 2), {
                    point: b[g],
                    left: a(b.slice(0, g), d + 1, e),
                    right: a(b.slice(g + 1), d + 1, e)
                }
            }

            function b() {
                var b = mb(c.points || [], function (a) {
                    return null !== a.y
                });
                c.kdTree = a(b, d, d)
            }

            var c = this, d = c.kdDimensions;
            delete c.kdTree, c.options.kdSync ? b() : setTimeout(b)
        },
        searchKDTree: function (a, b) {
            function c(a, b) {
                var c = j(a[f]) && j(b[f]) ? Math.pow(a[f] - b[f], 2) : null, d = j(a[g]) && j(b[g]) ? Math.pow(a[g] - b[g], 2) : null, e = (c || 0) + (d || 0);
                b.dist = j(e) ? Math.sqrt(e) : Number.MAX_VALUE, b.distX = j(c) ? Math.sqrt(c) : Number.MAX_VALUE
            }

            function d(a, b, f, g) {
                var i, j, k, l, m, n = b.point, o = e.kdAxisArray[f % g], p = n;
                return c(a, n), i = a[o] - n[o], j = i < 0 ? "left" : "right", k = i < 0 ? "right" : "left", b[j] && (l = d(a, b[j], f + 1, g), p = l[h] < p[h] ? l : n), b[k] && Math.sqrt(i * i) < p[h] && (m = d(a, b[k], f + 1, g), p = m[h] < p[h] ? m : p), p
            }

            var e = this, f = this.kdAxisArray[0], g = this.kdAxisArray[1], h = b ? "distX" : "dist";
            if (this.kdTree || this.buildKDTree(), this.kdTree)return d(a, this.kdTree, this.kdDimensions, this.kdDimensions)
        }
    }, J.prototype = {
        destroy: function () {
            z(this, this.axis)
        }, render: function (a) {
            var b = this.options, c = b.format, d = c ? t(c, this) : b.formatter.call(this);
            this.label ? this.label.attr({
                text: d,
                visibility: Ra
            }) : this.label = this.axis.chart.renderer.text(d, null, null, b.useHTML).css(b.style).attr({
                align: this.textAlign,
                rotation: b.rotation,
                visibility: Ra
            }).add(a)
        }, setOffset: function (a, b) {
            var c, d = this, e = d.axis, f = e.chart, g = f.inverted, h = e.reversed, i = this.isNegative && !h || !this.isNegative && h, j = e.translate(e.usePercentage ? 100 : this.total, 0, 0, 0, 1), k = e.translate(0), l = ra(j - k), m = f.xAxis[0].translate(this.x) + a, n = f.plotHeight, o = {
                x: g ? i ? j : j - l : m,
                y: g ? n - m - b : i ? n - j - l : n - j,
                width: g ? l : b,
                height: g ? b : l
            }, p = this.label;
            p && (p.align(this.alignOptions, null, o), c = p.alignAttr, p[this.options.crop === !1 || f.isInsidePlot(c.x, c.y) ? "show" : "hide"](!0))
        }
    }, Rb.prototype.getStacks = function () {
        var a = this;
        lb(a.yAxis, function (a) {
            a.stacks && a.hasVisibleSeries && (a.oldStacks = a.stacks)
        }), lb(a.series, function (b) {
            !b.options.stacking || b.visible !== !0 && a.options.chart.ignoreHiddenSeries !== !1 || (b.stackKey = b.type + eb(b.options.stack, ""))
        })
    }, Hb.prototype.buildStacks = function () {
        var a = this.series, b = eb(this.options.reversedStacks, !0), c = a.length;
        if (!this.isXAxis) {
            for (this.usePercentage = !1; c--;)a[b ? c : a.length - c - 1].setStackedPoints();
            if (this.usePercentage)for (c = 0; c < a.length; c++)a[c].setPercentStacks()
        }
    }, Hb.prototype.renderStackTotals = function () {
        var a, b, c, d = this, e = d.chart, f = e.renderer, g = d.stacks, h = d.stackTotalGroup;
        h || (d.stackTotalGroup = h = f.g("stack-labels").attr({
            visibility: Ta,
            zIndex: 6
        }).add()), h.translate(e.plotLeft, e.plotTop);
        for (a in g) {
            b = g[a];
            for (c in b)b[c].render(h)
        }
    }, Hb.prototype.resetStacks = function () {
        var a, b, c = this.stacks;
        if (!this.isXAxis)for (a in c)for (b in c[a])c[a][b].touched < this.stacksTouched ? (c[a][b].destroy(), delete c[a][b]) : (c[a][b].total = null, c[a][b].cum = 0)
    }, Hb.prototype.cleanStacks = function () {
        var a, b, c;
        if (!this.isXAxis) {
            this.oldStacks && (a = this.stacks = this.oldStacks);
            for (b in a)for (c in a[b])a[b][c].cum = a[b][c].total
        }
    }, Ub.prototype.setStackedPoints = function () {
        if (this.options.stacking && (this.visible === !0 || this.chart.options.chart.ignoreHiddenSeries === !1)) {
            var a, b, c, d, e, f, g, h, i = this, j = i.processedXData, k = i.processedYData, l = [], m = k.length, n = i.options, o = n.threshold, p = n.startFromThreshold ? o : 0, q = n.stack, r = n.stacking, s = i.stackKey, t = "-" + s, u = i.negStacks, v = i.yAxis, w = v.stacks, x = v.oldStacks;
            for (v.stacksTouched += 1, f = 0; f < m; f++)g = j[f], h = k[f], e = i.index + "," + f, a = u && h < (p ? 0 : o), d = a ? t : s, w[d] || (w[d] = {}), w[d][g] || (x[d] && x[d][g] ? (w[d][g] = x[d][g], w[d][g].total = null) : w[d][g] = new J(v, v.options.stackLabels, a, g, q)), b = w[d][g], b.points[e] = [eb(b.cum, p)], b.touched = v.stacksTouched, "percent" === r ? (c = a ? s : t, u && w[c] && w[c][g] ? (c = w[c][g], b.total = c.total = pa(c.total, b.total) + ra(h) || 0) : b.total = C(b.total + (ra(h) || 0))) : b.total = C(b.total + (h || 0)), b.cum = eb(b.cum, p) + (h || 0), b.points[e].push(b.cum), l[f] = b.cum;
            "percent" === r && (v.usePercentage = !0), this.stackedYData = l, v.oldStacks = {}
        }
    }, Ub.prototype.setPercentStacks = function () {
        var a = this, b = a.stackKey, c = a.yAxis.stacks, d = a.processedXData;
        lb([b, "-" + b], function (b) {
            for (var e, f, g, h, i = d.length; i--;)e = d[i], f = c[b] && c[b][e], g = f && f.points[a.index + "," + i], g && (h = f.total ? 100 / f.total : 0, g[0] = C(g[0] * h), g[1] = C(g[1] * h), a.stackedYData[i] = g[1])
        })
    }, db(Rb.prototype, {
        addSeries: function (a, b, c) {
            var d, e = this;
            return a && (b = eb(b, !0), rb(e, "addSeries", {options: a}, function () {
                d = e.initSeries(a), e.isDirtyLegend = !0, e.linkSeries(), b && e.redraw(c)
            })), d
        }, addAxis: function (b, c, d, e) {
            var f, g = c ? "xAxis" : "yAxis", h = this.options;
            f = new Hb(this, a(b, {
                index: this[g].length,
                isX: c
            })), h[g] = l(h[g] || {}), h[g].push(b), eb(d, !0) && this.redraw(e)
        }, showLoading: function (a) {
            var b = this, c = b.options, d = b.loadingDiv, e = c.loading, f = function () {
                d && m(d, {
                    left: b.plotLeft + Ua,
                    top: b.plotTop + Ua,
                    width: b.plotWidth + Ua,
                    height: b.plotHeight + Ua
                })
            };
            d || (b.loadingDiv = d = n(Oa, {className: Sa + "loading"}, db(e.style, {
                zIndex: 10,
                display: Va
            }), b.container), b.loadingSpan = n("span", null, e.labelStyle, d), pb(b, "redraw", f)), b.loadingSpan.innerHTML = a || c.lang.loading, b.loadingShown || (m(d, {
                opacity: 0,
                display: ""
            }), tb(d, {opacity: e.style.opacity}, {duration: e.showDuration || 0}), b.loadingShown = !0), f()
        }, hideLoading: function () {
            var a = this.options, b = this.loadingDiv;
            b && tb(b, {opacity: 0}, {
                duration: a.loading.hideDuration || 100, complete: function () {
                    m(b, {display: Va})
                }
            }), this.loadingShown = !1
        }
    }), db(Tb.prototype, {
        update: function (a, b, c, f) {
            function g() {
                i.applyOptions(a), null === i.y && k && (i.graphic = k.destroy()), d(a) && !e(a) && (i.redraw = function () {
                    k && k.element && a && a.marker && a.marker.symbol && (i.graphic = k.destroy()), a && a.dataLabels && i.dataLabel && (i.dataLabel = i.dataLabel.destroy()), i.redraw = null
                }), h = i.index, j.updateParallelArrays(i, h), n && i.name && (n[i.x] = i.name), m.data[h] = i.options, j.isDirty = j.isDirtyData = !0, !j.fixedBox && j.hasCartesianSeries && (l.isDirtyBox = !0), "point" === m.legendType && (l.isDirtyLegend = !0), b && l.redraw(c)
            }

            var h, i = this, j = i.series, k = i.graphic, l = j.chart, m = j.options, n = j.xAxis && j.xAxis.names;
            b = eb(b, !0), f === !1 ? g() : i.firePointEvent("update", {options: a}, g)
        }, remove: function (a, b) {
            this.series.removePoint(kb(this, this.series.data), a, b)
        }
    }), db(Ub.prototype, {
        addPoint: function (a, b, c, d) {
            var e, f, g, h, i = this, j = i.options, k = i.data, l = i.graph, m = i.area, n = i.chart, o = i.xAxis && i.xAxis.names, p = l && l.shift || 0, q = ["graph", "area"], r = j.data, s = i.xData;
            if (D(d, n), c) {
                for (g = i.zones.length; g--;)q.push("zoneGraph" + g, "zoneArea" + g);
                lb(q, function (a) {
                    i[a] && (i[a].shift = p + 1)
                })
            }
            if (m && (m.isArea = !0), b = eb(b, !0), e = {series: i}, i.pointClass.prototype.applyOptions.apply(e, [a]), h = e.x, g = s.length, i.requireSorting && h < s[g - 1])for (f = !0; g && s[g - 1] > h;)g--;
            i.updateParallelArrays(e, "splice", g, 0, 0), i.updateParallelArrays(e, g), o && e.name && (o[h] = e.name), r.splice(g, 0, a), f && (i.data.splice(g, 0, null), i.processData()), "point" === j.legendType && i.generatePoints(), c && (k[0] && k[0].remove ? k[0].remove(!1) : (k.shift(), i.updateParallelArrays(e, "shift"), r.shift())), i.isDirty = !0, i.isDirtyData = !0, b && (i.getAttribs(), n.redraw())
        }, removePoint: function (a, b, c) {
            var d = this, e = d.data, f = e[a], g = d.points, h = d.chart, i = function () {
                e.length === g.length && g.splice(a, 1), e.splice(a, 1), d.options.data.splice(a, 1), d.updateParallelArrays(f || {series: d}, "splice", a, 1), f && f.destroy(), d.isDirty = !0, d.isDirtyData = !0, b && h.redraw()
            };
            D(c, h), b = eb(b, !0), f ? f.firePointEvent("remove", null, i) : i()
        }, remove: function (a, b) {
            var c = this, d = c.chart;
            a = eb(a, !0), c.isRemoving || (c.isRemoving = !0, rb(c, "remove", null, function () {
                c.destroy(), d.isDirtyLegend = d.isDirtyBox = !0, d.linkSeries(), a && d.redraw(b)
            })), c.isRemoving = !1
        }, update: function (b, c) {
            var d, e = this, f = this.chart, g = this.userOptions, h = this.type, i = cb[h].prototype, j = ["group", "markerGroup", "dataLabelsGroup"];
            (b.type && b.type !== h || void 0 !== b.zIndex) && (j.length = 0), lb(j, function (a) {
                j[a] = e[a], delete e[a]
            }), b = a(g, {
                animation: !1,
                index: this.index,
                pointStart: this.xData[0]
            }, {data: this.options.data}, b), this.remove(!1);
            for (d in i)this[d] = K;
            db(this, cb[b.type || h].prototype), lb(j, function (a) {
                e[a] = j[a]
            }), this.init(f, b), f.linkSeries(), eb(c, !0) && f.redraw(!1)
        }
    }), db(Hb.prototype, {
        update: function (b, c) {
            var d = this.chart;
            b = d.options[this.coll][this.options.index] = a(this.userOptions, b), this.destroy(!0), this._addedPlotLB = this.chart._labelPanes = K, this.init(d, db(b, {events: K})), d.isDirtyBox = !0, eb(c, !0) && d.redraw()
        }, remove: function (a) {
            for (var b = this.chart, c = this.coll, d = this.series, e = d.length; e--;)d[e] && d[e].remove(!1);
            i(b.axes, this), i(b[c], this), b.options[c].splice(this.options.index, 1), lb(b[c], function (a, b) {
                a.options.index = b
            }), this.destroy(), b.isDirtyBox = !0, eb(a, !0) && b.redraw()
        }, setTitle: function (a, b) {
            this.update({title: a}, b)
        }, setCategories: function (a, b) {
            this.update({categories: a}, b)
        }
    });
    var Vb = o(Ub);
    cb.line = Vb, vb.area = a(wb, {threshold: 0});
    var Wb = o(Ub, {
        type: "area", getSegments: function () {
            var a, b, c, d, e = this, f = [], g = [], h = [], i = this.xAxis, j = this.yAxis, k = j.stacks[this.stackKey], l = {}, m = this.points, n = this.options.connectNulls;
            if (this.options.stacking && !this.cropped) {
                for (c = 0; c < m.length; c++)l[m[c].x] = m[c];
                for (d in k)null !== k[d].total && h.push(+d);
                h.sort(function (a, b) {
                    return a - b
                }), lb(h, function (d) {
                    var f, h = 0;
                    if (!n || l[d] && null !== l[d].y)if (l[d])g.push(l[d]); else {
                        for (c = e.index; c <= j.series.length; c++)if (f = k[d].points[c + "," + d]) {
                            h = f[1];
                            break
                        }
                        a = i.translate(d), b = j.toPixels(h, !0), g.push({
                            y: null,
                            plotX: a,
                            clientX: a,
                            plotY: b,
                            yBottom: b,
                            onMouseOver: Ja
                        })
                    }
                }), g.length && f.push(g)
            } else Ub.prototype.getSegments.call(this), f = this.segments;
            this.segments = f
        }, getSegmentPath: function (a) {
            var b, c, d = Ub.prototype.getSegmentPath.call(this, a), e = [].concat(d), f = this.options, g = d.length, h = this.yAxis.getThreshold(f.threshold);
            if (3 === g && e.push(Xa, d[1], d[2]), f.stacking && !this.closedStacks)for (b = a.length - 1; b >= 0; b--)c = eb(a[b].yBottom, h), b < a.length - 1 && f.step && e.push(a[b + 1].plotX, c), e.push(a[b].plotX, c); else this.closeSegment(e, a, h);
            return this.areaPath = this.areaPath.concat(e), d
        }, closeSegment: function (a, b, c) {
            a.push(Xa, b[b.length - 1].plotX, c, Xa, b[0].plotX, c)
        }, drawGraph: function () {
            this.areaPath = [], Ub.prototype.drawGraph.apply(this);
            var a = this, b = this.areaPath, c = this.options, d = this.zones, e = [["area", this.color, c.fillColor]];
            lb(d, function (b, d) {
                e.push(["zoneArea" + d, b.color || a.color, b.fillColor || c.fillColor])
            }), lb(e, function (d) {
                var e = d[0], f = a[e];
                f ? f.animate({d: b}) : a[e] = a.chart.renderer.path(b).attr({
                    fill: eb(d[2], Ab(d[1]).setOpacity(eb(c.fillOpacity, .75)).get()),
                    zIndex: 0
                }).add(a.group)
            })
        }, drawLegendSymbol: Qb.drawRectangle
    });
    cb.area = Wb, vb.spline = a(wb);
    var Xb = o(Ub, {
        type: "spline", getPointSpline: function (a, b, c) {
            var d, e, f, g, h, i = 1.5, j = i + 1, k = b.plotX, l = b.plotY, m = a[c - 1], n = a[c + 1];
            if (m && n) {
                var o, p = m.plotX, q = m.plotY, r = n.plotX, s = n.plotY;
                d = (i * k + p) / j, e = (i * l + q) / j, f = (i * k + r) / j, g = (i * l + s) / j, o = (g - e) * (f - k) / (f - d) + l - g, e += o, g += o, e > q && e > l ? (e = pa(q, l), g = 2 * l - e) : e < q && e < l && (e = qa(q, l), g = 2 * l - e), g > s && g > l ? (g = pa(s, l), e = 2 * l - g) : g < s && g < l && (g = qa(s, l), e = 2 * l - g), b.rightContX = f, b.rightContY = g
            }
            return c ? (h = ["C", m.rightContX || m.plotX, m.rightContY || m.plotY, d || k, e || l, k, l], m.rightContX = m.rightContY = null) : h = [Wa, k, l], h
        }
    });
    cb.spline = Xb, vb.areaspline = a(vb.area);
    var Yb = Wb.prototype, Zb = o(Xb, {
        type: "areaspline",
        closedStacks: !0,
        getSegmentPath: Yb.getSegmentPath,
        closeSegment: Yb.closeSegment,
        drawGraph: Yb.drawGraph,
        drawLegendSymbol: Qb.drawRectangle
    });
    cb.areaspline = Zb, vb.column = a(wb, {
        borderColor: "#FFFFFF",
        borderRadius: 0,
        groupPadding: .2,
        marker: null,
        pointPadding: .1,
        minPointLength: 0,
        cropThreshold: 50,
        pointRange: null,
        states: {
            hover: {brightness: .1, shadow: !1, halo: !1},
            select: {color: "#C0C0C0", borderColor: "#000000", shadow: !1}
        },
        dataLabels: {align: null, verticalAlign: null, y: null},
        startFromThreshold: !0,
        stickyTracking: !1,
        tooltip: {distance: 6},
        threshold: 0
    });
    var $b = o(Ub, {
        type: "column",
        pointAttrToOptions: {stroke: "borderColor", fill: "color", r: "borderRadius"},
        cropShoulder: 0,
        directTouch: !0,
        trackerGroups: ["group", "dataLabelsGroup"],
        negStacks: !0,
        init: function () {
            Ub.prototype.init.apply(this, arguments);
            var a = this, b = a.chart;
            b.hasRendered && lb(b.series, function (b) {
                b.type === a.type && (b.isDirty = !0)
            })
        },
        getColumnMetrics: function () {
            var a, b, c = this, d = c.options, e = c.xAxis, f = c.yAxis, g = e.reversed, h = {}, i = 0;
            d.grouping === !1 ? i = 1 : lb(c.chart.series, function (d) {
                var e = d.options, g = d.yAxis;
                d.type === c.type && d.visible && f.len === g.len && f.pos === g.pos && (e.stacking ? (a = d.stackKey, h[a] === K && (h[a] = i++), b = h[a]) : e.grouping !== !1 && (b = i++), d.columnIndex = b)
            });
            var j = qa(ra(e.transA) * (e.ordinalSlope || d.pointRange || e.closestPointRange || e.tickInterval || 1), e.len), k = j * d.groupPadding, l = j - 2 * k, m = l / i, n = qa(d.maxPointWidth || e.len, eb(d.pointWidth, m * (1 - 2 * d.pointPadding))), o = (m - n) / 2, p = (g ? i - (c.columnIndex || 0) : c.columnIndex) || 0, q = o + (k + p * m - j / 2) * (g ? -1 : 1);
            return c.columnMetrics = {width: n, offset: q}
        },
        translate: function () {
            var a = this, b = a.chart, c = a.options, d = a.borderWidth = eb(c.borderWidth, a.closestPointRange * a.xAxis.transA < 2 ? 0 : 1), e = a.yAxis, f = c.threshold, g = a.translatedThreshold = e.getThreshold(f), h = eb(c.minPointLength, 5), i = a.getColumnMetrics(), j = i.width, k = a.barW = pa(j, 1 + 2 * d), l = a.pointXOffset = i.offset, m = -(d % 2 ? .5 : 0), n = d % 2 ? .5 : 1;
            b.inverted && (g -= .5, b.renderer.isVML && (n += 1)), c.pointPadding && (k = oa(k)), Ub.prototype.translate.apply(a), lb(a.points, function (c) {
                var d, f, i, o, p = eb(c.yBottom, g), q = 999 + ra(p), r = qa(pa(-q, c.plotY), e.len + q), s = c.plotX + l, t = k, u = qa(r, p), v = pa(r, p) - u;
                ra(v) < h && h && (v = h, o = !e.reversed && !c.negative || e.reversed && c.negative, u = ma(ra(u - g) > h ? p - h : g - (o ? h : 0))), c.barX = s, c.pointWidth = j, d = ma(s + t) + m, s = ma(s) + m, t = d - s, i = ra(u) < .5, f = qa(ma(u + v) + n, 9e4), u = ma(u) + n, v = f - u, i && (u -= 1, v += 1), c.tooltipPos = b.inverted ? [e.len + e.pos - b.plotLeft - r, a.xAxis.len - s - t / 2, v] : [s + t / 2, r + e.pos - b.plotTop, v], c.shapeType = "rect",
                    c.shapeArgs = {x: s, y: u, width: t, height: v}
            })
        },
        getSymbol: Ja,
        drawLegendSymbol: Qb.drawRectangle,
        drawGraph: Ja,
        drawPoints: function () {
            var b, c, d = this, e = this.chart, f = d.options, g = e.renderer, h = f.animationLimit || 250;
            lb(d.points, function (i) {
                var k, l = i.plotY, m = i.graphic;
                l === K || isNaN(l) || null === i.y ? m && (i.graphic = m.destroy()) : (b = i.shapeArgs, k = j(d.borderWidth) ? {"stroke-width": d.borderWidth} : {}, c = i.pointAttr[i.selected ? _a : Za] || d.pointAttr[Za], m ? (ub(m), m.attr(k)[e.pointCount < h ? "animate" : "attr"](a(b))) : i.graphic = m = g[i.shapeType](b).attr(k).attr(c).add(d.group).shadow(f.shadow, null, f.stacking && !f.borderRadius))
            })
        },
        animate: function (a) {
            var b, c = this, d = this.yAxis, e = c.options, f = this.chart.inverted, g = {};
            Ea && (a ? (g.scaleY = .001, b = qa(d.pos + d.len, pa(d.pos, d.toPixels(e.threshold))), f ? g.translateX = b - d.len : g.translateY = b, c.group.attr(g)) : (g.scaleY = 1, g[f ? "translateX" : "translateY"] = d.pos, c.group.animate(g, c.options.animation), c.animate = null))
        },
        remove: function () {
            var a = this, b = a.chart;
            b.hasRendered && lb(b.series, function (b) {
                b.type === a.type && (b.isDirty = !0)
            }), Ub.prototype.remove.apply(a, arguments)
        }
    });
    cb.column = $b, vb.bar = a(vb.column);
    var _b = o($b, {type: "bar", inverted: !0});
    cb.bar = _b, vb.scatter = a(wb, {
        lineWidth: 0,
        marker: {enabled: !0},
        tooltip: {
            headerFormat: '<span style="color:{point.color}"></span> <span style="font-size: 10px;"> {series.name}</span><br/>',
            pointFormat: "x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"
        }
    });
    var ac = o(Ub, {
        type: "scatter",
        sorted: !1,
        requireSorting: !1,
        noSharedTooltip: !0,
        trackerGroups: ["group", "markerGroup", "dataLabelsGroup"],
        takeOrdinalPosition: !1,
        kdDimensions: 2,
        drawGraph: function () {
            this.options.lineWidth && Ub.prototype.drawGraph.call(this)
        }
    });
    cb.scatter = ac, vb.pie = a(wb, {
        borderColor: "#FFFFFF",
        borderWidth: 1,
        center: [null, null],
        clip: !1,
        colorByPoint: !0,
        dataLabels: {
            distance: 30, enabled: !0, formatter: function () {
                return null === this.y ? void 0 : this.point.name
            }, x: 0
        },
        ignoreHiddenPoint: !0,
        legendType: "point",
        marker: null,
        size: null,
        showInLegend: !1,
        slicedOffset: 10,
        states: {hover: {brightness: .1, shadow: !1}},
        stickyTracking: !1,
        tooltip: {followPointer: !0}
    });
    var bc = o(Tb, {
        init: function () {
            Tb.prototype.init.apply(this, arguments);
            var a, b = this;
            return db(b, {visible: b.visible !== !1, name: eb(b.name, "Slice")}), a = function (a) {
                b.slice("select" === a.type)
            }, pb(b, "select", a), pb(b, "unselect", a), b
        }, setVisible: function (a, b) {
            var c = this, d = c.series, e = d.chart, f = d.options.ignoreHiddenPoint;
            b = eb(b, f), a !== c.visible && (c.visible = c.options.visible = a = a === K ? !c.visible : a, d.options.data[kb(c, d.data)] = c.options, lb(["graphic", "dataLabel", "connector", "shadowGroup"], function (b) {
                c[b] && c[b][a ? "show" : "hide"](!0)
            }), c.legendItem && e.legend.colorizeItem(c, a), a || "hover" !== c.state || c.setState(""), f && (d.isDirty = !0), b && e.redraw())
        }, slice: function (a, b, c) {
            var d, e = this, f = e.series, g = f.chart;
            D(c, g), b = eb(b, !0), e.sliced = e.options.sliced = a = j(a) ? a : !e.sliced, f.options.data[kb(e, f.data)] = e.options, d = a ? e.slicedTranslation : {
                translateX: 0,
                translateY: 0
            }, e.graphic.animate(d), e.shadowGroup && e.shadowGroup.animate(d)
        }, haloPath: function (a) {
            var b = this.shapeArgs, c = this.series.chart;
            return this.sliced || !this.visible ? [] : this.series.chart.renderer.symbols.arc(c.plotLeft + b.x, c.plotTop + b.y, b.r + a, b.r + a, {
                innerR: this.shapeArgs.r,
                start: b.start,
                end: b.end
            })
        }
    }), cc = {
        type: "pie",
        isCartesian: !1,
        pointClass: bc,
        requireSorting: !1,
        directTouch: !0,
        noSharedTooltip: !0,
        trackerGroups: ["group", "dataLabelsGroup"],
        axisTypes: [],
        pointAttrToOptions: {stroke: "borderColor", "stroke-width": "borderWidth", fill: "color"},
        animate: function (a) {
            var b = this, c = b.points, d = b.startAngleRad;
            a || (lb(c, function (a) {
                var c = a.graphic, e = a.shapeArgs;
                c && (c.attr({r: a.startR || b.center[3] / 2, start: d, end: d}), c.animate({
                    r: e.r,
                    start: e.start,
                    end: e.end
                }, b.options.animation))
            }), b.animate = null)
        },
        setData: function (a, b, c, d) {
            Ub.prototype.setData.call(this, a, !1, c, d), this.processData(), this.generatePoints(), eb(b, !0) && this.chart.redraw(c)
        },
        updateTotals: function () {
            var a, b, c = 0, d = this.points, e = d.length, f = this.options.ignoreHiddenPoint;
            for (a = 0; a < e; a++)b = d[a], c += f && !b.visible ? 0 : b.y;
            for (this.total = c, a = 0; a < e; a++)b = d[a], b.percentage = c > 0 && (b.visible || !f) ? b.y / c * 100 : 0, b.total = c
        },
        generatePoints: function () {
            Ub.prototype.generatePoints.call(this), this.updateTotals()
        },
        translate: function (a) {
            this.generatePoints();
            var b, c, d, e, f, g, h, i = this, j = 0, k = 1e3, l = i.options, m = l.slicedOffset, n = m + l.borderWidth, o = l.startAngle || 0, p = i.startAngleRad = ua / 180 * (o - 90), q = i.endAngleRad = ua / 180 * (eb(l.endAngle, o + 360) - 90), r = q - p, s = i.points, t = l.dataLabels.distance, u = l.ignoreHiddenPoint, v = s.length;
            for (a || (i.center = a = i.getCenter()), i.getX = function (b, c) {
                return d = la.asin(qa((b - a[1]) / (a[2] / 2 + t), 1)), a[0] + (c ? -1 : 1) * (sa(d) * (a[2] / 2 + t))
            }, g = 0; g < v; g++)h = s[g], b = p + j * r, u && !h.visible || (j += h.percentage / 100), c = p + j * r, h.shapeType = "arc", h.shapeArgs = {
                x: a[0],
                y: a[1],
                r: a[2] / 2,
                innerR: a[3] / 2,
                start: ma(b * k) / k,
                end: ma(c * k) / k
            }, d = (c + b) / 2, d > 1.5 * ua ? d -= 2 * ua : d < -ua / 2 && (d += 2 * ua), h.slicedTranslation = {
                translateX: ma(sa(d) * m),
                translateY: ma(ta(d) * m)
            }, e = sa(d) * a[2] / 2, f = ta(d) * a[2] / 2, h.tooltipPos = [a[0] + .7 * e, a[1] + .7 * f], h.half = d < -ua / 2 || d > ua / 2 ? 1 : 0, h.angle = d, n = qa(n, t / 2), h.labelPos = [a[0] + e + sa(d) * t, a[1] + f + ta(d) * t, a[0] + e + sa(d) * n, a[1] + f + ta(d) * n, a[0] + e, a[1] + f, t < 0 ? "center" : h.half ? "right" : "left", d]
        },
        drawGraph: null,
        drawPoints: function () {
            var a, b, c, d, e, f = this, g = f.chart, h = g.renderer, i = f.options.shadow;
            i && !f.shadowGroup && (f.shadowGroup = h.g("shadow").add(f.group)), lb(f.points, function (g) {
                null !== g.y && (b = g.graphic, d = g.shapeArgs, c = g.shadowGroup, i && !c && (c = g.shadowGroup = h.g("shadow").add(f.shadowGroup)), a = g.sliced ? g.slicedTranslation : {
                    translateX: 0,
                    translateY: 0
                }, c && c.attr(a), b ? b.animate(db(d, a)) : (e = {"stroke-linejoin": "round"}, g.visible || (e.visibility = "hidden"), g.graphic = b = h[g.shapeType](d).setRadialReference(f.center).attr(g.pointAttr[g.selected ? _a : Za]).attr(e).attr(a).add(f.group).shadow(i, c)))
            })
        },
        searchPoint: Ja,
        sortByAngle: function (a, b) {
            a.sort(function (a, c) {
                return void 0 !== a.angle && (c.angle - a.angle) * b
            })
        },
        drawLegendSymbol: Qb.drawRectangle,
        getCenter: Sb.getCenter,
        getSymbol: Ja
    };
    cc = o(Ub, cc), cb.pie = cc, Ub.prototype.drawDataLabels = function () {
        var b, c, d, e, f = this, g = f.options, h = g.cursor, i = g.dataLabels, k = f.points, l = f.hasRendered || 0, m = f.chart.renderer;
        (i.enabled || f._hasPointLabels) && (f.dlProcessOptions && f.dlProcessOptions(i), e = f.plotGroup("dataLabelsGroup", "data-labels", i.defer ? Ra : Ta, i.zIndex || 6), eb(i.defer, !0) && (e.attr({opacity: +l}), l || pb(f, "afterAnimate", function () {
            f.visible && e.show(), e[g.animation ? "animate" : "attr"]({opacity: 1}, {duration: 200})
        })), c = i, lb(k, function (k) {
            var l, n, o, p, q, r, s = k.dataLabel, u = k.connector, v = !0, w = {};
            if (b = k.dlOptions || k.options && k.options.dataLabels, l = eb(b && b.enabled, c.enabled), s && !l)k.dataLabel = s.destroy(); else if (l) {
                if (i = a(c, b), r = i.style, q = i.rotation, n = k.getLabelConfig(), d = i.format ? t(i.format, n) : i.formatter.call(n, i), r.color = eb(i.color, r.color, f.color, "black"), s)j(d) ? (s.attr({text: d}), v = !1) : (k.dataLabel = s = s.destroy(), u && (k.connector = u.destroy())); else if (j(d)) {
                    o = {
                        fill: i.backgroundColor,
                        stroke: i.borderColor,
                        "stroke-width": i.borderWidth,
                        r: i.borderRadius || 0,
                        rotation: q,
                        padding: i.padding,
                        zIndex: 1
                    }, "contrast" === r.color && (w.color = i.inside || i.distance < 0 || g.stacking ? m.getContrast(k.color || f.color) : "#000000"), h && (w.cursor = h);
                    for (p in o)o[p] === K && delete o[p];
                    s = k.dataLabel = m[q ? "text" : "label"](d, 0, -999, i.shape, null, null, i.useHTML).attr(o).css(db(r, w)).add(e).shadow(i.shadow)
                }
                s && f.alignDataLabel(k, s, i, null, v)
            }
        }))
    }, Ub.prototype.alignDataLabel = function (a, b, c, d, e) {
        var f, g, h = this.chart, i = h.inverted, j = eb(a.plotX, -999), k = eb(a.plotY, -999), l = b.getBBox(), m = h.renderer.fontMetrics(c.style.fontSize).b, n = this.visible && (a.series.forceDL || h.isInsidePlot(j, ma(k), i) || d && h.isInsidePlot(j, i ? d.x + 1 : d.y + d.height - 1, i));
        n && (d = db({
            x: i ? h.plotWidth - k : j,
            y: ma(i ? h.plotHeight - j : k),
            width: 0,
            height: 0
        }, d), db(c, {
            width: l.width,
            height: l.height
        }), c.rotation ? (f = h.renderer.rotCorr(m, c.rotation), b[e ? "attr" : "animate"]({
            x: d.x + c.x + d.width / 2 + f.x,
            y: d.y + c.y + d.height / 2
        }).attr({align: c.align})) : (b.align(c, null, d), g = b.alignAttr, "justify" === eb(c.overflow, "justify") ? this.justifyDataLabel(b, c, g, l, d, e) : eb(c.crop, !0) && (n = h.isInsidePlot(g.x, g.y) && h.isInsidePlot(g.x + l.width, g.y + l.height)), c.shape && b.attr({
            anchorX: a.plotX,
            anchorY: a.plotY
        }))), n || (b.attr({y: -999}), b.placed = !1)
    }, Ub.prototype.justifyDataLabel = function (a, b, c, d, e, f) {
        var g, h, i = this.chart, j = b.align, k = b.verticalAlign, l = a.box ? 0 : a.padding || 0;
        g = c.x + l, g < 0 && ("right" === j ? b.align = "left" : b.x = -g, h = !0), g = c.x + d.width - l, g > i.plotWidth && ("left" === j ? b.align = "right" : b.x = i.plotWidth - g, h = !0), g = c.y + l, g < 0 && ("bottom" === k ? b.verticalAlign = "top" : b.y = -g, h = !0), g = c.y + d.height - l, g > i.plotHeight && ("top" === k ? b.verticalAlign = "bottom" : b.y = i.plotHeight - g, h = !0), h && (a.placed = !f, a.align(b, null, e))
    }, cb.pie && (cb.pie.prototype.drawDataLabels = function () {
        var a, b, c, d, e, f, g, h, i, j, k, l, m, n = this, o = n.data, p = n.chart, q = n.options.dataLabels, r = eb(q.connectorPadding, 10), s = eb(q.connectorWidth, 1), t = p.plotWidth, u = p.plotHeight, v = eb(q.softConnector, !0), w = q.distance, x = n.center, z = x[2] / 2, A = x[1], B = w > 0, C = [[], []], D = [0, 0, 0, 0], E = function (a, b) {
            return b.y - a.y
        };
        if (n.visible && (q.enabled || n._hasPointLabels)) {
            for (Ub.prototype.drawDataLabels.apply(n), lb(o, function (a) {
                a.dataLabel && a.visible && C[a.half].push(a)
            }), l = 2; l--;) {
                var F, G, H, I, J = [], K = [], L = C[l], M = L.length;
                if (M) {
                    for (n.sortByAngle(L, l - .5), m = g = 0; !g && L[m];)g = L[m] && L[m].dataLabel && (L[m].dataLabel.getBBox().height || 21), m++;
                    if (w > 0) {
                        for (H = qa(A + z + w, p.plotHeight), G = pa(0, A - z - w); G <= H; G += g)J.push(G);
                        if (F = J.length, M > F) {
                            for (k = [].concat(L), k.sort(E), m = M; m--;)k[m].rank = m;
                            for (m = M; m--;)L[m].rank >= F && L.splice(m, 1);
                            M = L.length
                        }
                        for (m = 0; m < M; m++) {
                            a = L[m], f = a.labelPos;
                            var N, O, P = 9999;
                            for (O = 0; O < F; O++)N = ra(J[O] - f[1]), N < P && (P = N, I = O);
                            if (I < m && null !== J[m])I = m; else if (F < M - m + I && null !== J[m])for (I = F - M + m; null === J[I];)I++; else for (; null === J[I];)I++;
                            K.push({i: I, y: J[I]}), J[I] = null
                        }
                        K.sort(E)
                    }
                    for (m = 0; m < M; m++) {
                        var Q, R;
                        a = L[m], f = a.labelPos, d = a.dataLabel, j = a.visible === !1 ? Ra : "inherit", R = f[1], w > 0 ? (Q = K.pop(), I = Q.i, i = Q.y, (R > i && null !== J[I + 1] || R < i && null !== J[I - 1]) && (i = qa(pa(0, R), p.plotHeight))) : i = R, h = q.justify ? x[0] + (l ? -1 : 1) * (z + w) : n.getX(i === A - z - w || i === A + z + w ? R : i, l), d._attr = {
                            visibility: j,
                            align: f[6]
                        }, d._pos = {
                            x: h + q.x + ({left: r, right: -r}[f[6]] || 0),
                            y: i + q.y - 10
                        }, d.connX = h, d.connY = i, null === this.options.size && (e = d.width, h - e < r ? D[3] = pa(ma(e - h + r), D[3]) : h + e > t - r && (D[1] = pa(ma(h + e - t + r), D[1])), i - g / 2 < 0 ? D[0] = pa(ma(-i + g / 2), D[0]) : i + g / 2 > u && (D[2] = pa(ma(i + g / 2 - u), D[2])))
                    }
                }
            }
            (0 === y(D) || this.verifyDataLabelOverflow(D)) && (this.placeDataLabels(), B && s && lb(this.points, function (a) {
                b = a.connector, f = a.labelPos, d = a.dataLabel, d && d._pos && a.visible ? (j = d._attr.visibility, h = d.connX, i = d.connY, c = v ? [Wa, h + ("left" === f[6] ? 5 : -5), i, "C", h, i, 2 * f[2] - f[4], 2 * f[3] - f[5], f[2], f[3], Xa, f[4], f[5]] : [Wa, h + ("left" === f[6] ? 5 : -5), i, Xa, f[2], f[3], Xa, f[4], f[5]], b ? (b.animate({d: c}), b.attr("visibility", j)) : a.connector = b = n.chart.renderer.path(c).attr({
                    "stroke-width": s,
                    stroke: q.connectorColor || a.color || "#606060",
                    visibility: j
                }).add(n.dataLabelsGroup)) : b && (a.connector = b.destroy())
            }))
        }
    }, cb.pie.prototype.placeDataLabels = function () {
        lb(this.points, function (a) {
            var b, c = a.dataLabel;
            c && a.visible && (b = c._pos, b ? (c.attr(c._attr), c[c.moved ? "animate" : "attr"](b), c.moved = !0) : c && c.attr({y: -999}))
        })
    }, cb.pie.prototype.alignDataLabel = Ja, cb.pie.prototype.verifyDataLabelOverflow = function (a) {
        var b, c = this.center, d = this.options, e = d.center, f = d.minSize || 80, g = f;
        return null !== e[0] ? g = pa(c[2] - pa(a[1], a[3]), f) : (g = pa(c[2] - a[1] - a[3], f), c[0] += (a[3] - a[1]) / 2), null !== e[1] ? g = pa(qa(g, c[2] - pa(a[0], a[2])), f) : (g = pa(qa(g, c[2] - a[0] - a[2]), f), c[1] += (a[0] - a[2]) / 2), g < c[2] ? (c[2] = g, c[3] = q(d.innerSize || 0, g), this.translate(c), lb(this.points, function (a) {
            a.dataLabel && (a.dataLabel._pos = null)
        }), this.drawDataLabels && this.drawDataLabels()) : b = !0, b
    }), cb.column && (cb.column.prototype.alignDataLabel = function (b, c, d, e, f) {
        var g = this.chart.inverted, h = b.series, i = b.dlBox || b.shapeArgs, j = eb(b.below, b.plotY > eb(this.translatedThreshold, h.yAxis.len)), k = eb(d.inside, !!this.options.stacking);
        i && (e = a(i), g && (e = {
            x: h.yAxis.len - e.y - e.height,
            y: h.xAxis.len - e.x - e.width,
            width: e.height,
            height: e.width
        }), k || (g ? (e.x += j ? 0 : e.width, e.width = 0) : (e.y += j ? e.height : 0, e.height = 0))), d.align = eb(d.align, !g || k ? "center" : j ? "right" : "left"), d.verticalAlign = eb(d.verticalAlign, g || k ? "middle" : j ? "top" : "bottom"), Ub.prototype.alignDataLabel.call(this, b, c, d, e, f)
    }), function (a) {
        var b = a.Chart, c = a.each, d = a.pick, e = HighchartsAdapter.addEvent;
        b.prototype.callbacks.push(function (a) {
            function b() {
                var b = [];
                c(a.series, function (a) {
                    var e = a.options.dataLabels, f = a.dataLabelCollections || ["dataLabel"];
                    (e.enabled || a._hasPointLabels) && !e.allowOverlap && a.visible && c(f, function (e) {
                        c(a.points, function (a) {
                            a[e] && (a[e].labelrank = d(a.labelrank, a.shapeArgs && a.shapeArgs.height), b.push(a[e]))
                        })
                    })
                }), a.hideOverlappingLabels(b)
            }

            b(), e(a, "redraw", b)
        }), b.prototype.hideOverlappingLabels = function (a) {
            var b, d, e, f, g, h, i, j, k, l = a.length, m = function (a, b, c, d, e, f, g, h) {
                return !(e > a + c || e + g < a || f > b + d || f + h < b)
            };
            for (d = 0; d < l; d++)b = a[d], b && (b.oldOpacity = b.opacity, b.newOpacity = 1);
            for (a.sort(function (a, b) {
                return (b.labelrank || 0) - (a.labelrank || 0)
            }), d = 0; d < l; d++)for (f = a[d], e = d + 1; e < l; ++e)g = a[e], f && g && f.placed && g.placed && 0 !== f.newOpacity && 0 !== g.newOpacity && (i = f.alignAttr, j = g.alignAttr, k = 2 * (f.box ? 0 : f.padding), h = m(i.x, i.y, f.width - k, f.height - k, j.x, j.y, g.width - k, g.height - k), h && ((f.labelrank < g.labelrank ? f : g).newOpacity = 0));
            c(a, function (a) {
                var b, c;
                a && (c = a.newOpacity, a.oldOpacity !== c && a.placed && (c ? a.show(!0) : b = function () {
                    a.hide()
                }, a.alignAttr.opacity = c, a[a.isOld ? "animate" : "attr"](a.alignAttr, null, b)), a.isOld = !0)
            })
        }
    }(ia);
    var dc = ia.TrackerMixin = {
        drawTrackerPoint: function () {
            var a = this, b = a.chart, c = b.pointer, d = a.options.cursor, e = d && {cursor: d}, f = function (a) {
                for (var c, d = a.target; d && !c;)c = d.point, d = d.parentNode;
                c !== K && c !== b.hoverPoint && c.onMouseOver(a)
            };
            lb(a.points, function (a) {
                a.graphic && (a.graphic.element.point = a), a.dataLabel && (a.dataLabel.element.point = a)
            }), a._hasTracking || (lb(a.trackerGroups, function (b) {
                a[b] && (a[b].addClass(Sa + "tracker").on("mouseover", f).on("mouseout", function (a) {
                    c.onTrackerMouseOut(a)
                }).css(e), M && a[b].on("touchstart", f))
            }), a._hasTracking = !0)
        }, drawTrackerGraph: function () {
            var a, b, c = this, d = c.options, e = d.trackByArea, f = [].concat(e ? c.areaPath : c.graphPath), g = f.length, h = c.chart, i = h.pointer, j = h.renderer, k = h.options.tooltip.snap, l = c.tracker, m = d.cursor, n = m && {cursor: m}, o = c.singlePoints, p = function () {
                h.hoverSeries !== c && c.onMouseOver()
            }, q = "rgba(192,192,192," + (Ea ? 1e-4 : .002) + ")";
            if (g && !e)for (b = g + 1; b--;)f[b] === Wa && f.splice(b + 1, 0, f[b + 1] - k, f[b + 2], Xa), (b && f[b] === Wa || b === g) && f.splice(b, 0, Xa, f[b - 2] + k, f[b - 1]);
            for (b = 0; b < o.length; b++)a = o[b], f.push(Wa, a.plotX - k, a.plotY, Xa, a.plotX + k, a.plotY);
            l ? l.attr({d: f}) : (c.tracker = j.path(f).attr({
                "stroke-linejoin": "round",
                visibility: c.visible ? Ta : Ra,
                stroke: q,
                fill: e ? q : Va,
                "stroke-width": d.lineWidth + (e ? 0 : 2 * k),
                zIndex: 2
            }).add(c.group), lb([c.tracker, c.markerGroup], function (a) {
                a.addClass(Sa + "tracker").on("mouseover", p).on("mouseout", function (a) {
                    i.onTrackerMouseOut(a)
                }).css(n), M && a.on("touchstart", p)
            }))
        }
    };
    cb.column && ($b.prototype.drawTracker = dc.drawTrackerPoint), cb.pie && (cb.pie.prototype.drawTracker = dc.drawTrackerPoint), cb.scatter && (ac.prototype.drawTracker = dc.drawTrackerPoint), db(Pb.prototype, {
        setItemEvents: function (a, b, c, d, e) {
            var f = this;
            (c ? b : a.legendGroup).on("mouseover", function () {
                a.setState($a), b.css(f.options.itemHoverStyle)
            }).on("mouseout", function () {
                b.css(a.visible ? d : e), a.setState()
            }).on("click", function (b) {
                var c = "legendItemClick", d = function () {
                    a.setVisible()
                };
                b = {browserEvent: b}, a.firePointEvent ? a.firePointEvent(c, b, d) : rb(a, c, b, d)
            })
        }, createCheckboxForItem: function (a) {
            var b = this;
            a.checkbox = n("input", {
                type: "checkbox",
                checked: a.selected,
                defaultChecked: a.selected
            }, b.options.itemCheckboxStyle, b.chart.container), pb(a.checkbox, "click", function (b) {
                var c = b.target;
                rb(a.series || a, "checkboxClick", {checked: c.checked, item: a}, function () {
                    a.select()
                })
            })
        }
    }), O.legend.itemStyle.cursor = "pointer", db(Rb.prototype, {
        showResetZoom: function () {
            var a = this, b = O.lang, c = a.options.chart.resetZoomButton, d = c.theme, e = d.states, f = "chart" === c.relativeTo ? null : "plotBox";
            this.resetZoomButton = a.renderer.button(b.resetZoom, null, null, function () {
                a.zoomOut()
            }, d, e && e.hover).attr({align: c.position.align, title: b.resetZoomTitle}).add().align(c.position, !1, f)
        }, zoomOut: function () {
            var a = this;
            rb(a, "selection", {resetSelection: !0}, function () {
                a.zoom()
            })
        }, zoom: function (a) {
            var b, c, e = this, f = e.pointer, g = !1;
            !a || a.resetSelection ? lb(e.axes, function (a) {
                b = a.zoom()
            }) : lb(a.xAxis.concat(a.yAxis), function (a) {
                var c = a.axis, d = c.isXAxis;
                (f[d ? "zoomX" : "zoomY"] || f[d ? "pinchX" : "pinchY"]) && (b = c.zoom(a.min, a.max), c.displayBtn && (g = !0))
            }), c = e.resetZoomButton, g && !c ? e.showResetZoom() : !g && d(c) && (e.resetZoomButton = c.destroy()), b && e.redraw(eb(e.options.chart.animation, a && a.animation, e.pointCount < 100))
        }, pan: function (a, b) {
            var c, d = this, e = d.hoverPoints;
            e && lb(e, function (a) {
                a.setState()
            }), lb("xy" === b ? [1, 0] : [1], function (b) {
                var e = a[b ? "chartX" : "chartY"], f = d[b ? "xAxis" : "yAxis"][0], g = d[b ? "mouseDownX" : "mouseDownY"], h = (f.pointRange || 0) / 2, i = f.getExtremes(), j = f.toValue(g - e, !0) + h, k = f.toValue(g + d[b ? "plotWidth" : "plotHeight"] - e, !0) - h, l = g > e;
                f.series.length && (l || j > qa(i.dataMin, i.min)) && (!l || k < pa(i.dataMax, i.max)) && (f.setExtremes(j, k, !1, !1, {trigger: "pan"}), c = !0), d[b ? "mouseDownX" : "mouseDownY"] = e
            }), c && d.redraw(!1), m(d.container, {cursor: "move"})
        }
    }), db(Tb.prototype, {
        select: function (a, b) {
            var c = this, d = c.series, e = d.chart;
            a = eb(a, !c.selected), c.firePointEvent(a ? "select" : "unselect", {accumulate: b}, function () {
                c.selected = c.options.selected = a, d.options.data[kb(c, d.data)] = c.options, c.setState(a && _a), b || lb(e.getSelectedPoints(), function (a) {
                    a.selected && a !== c && (a.selected = a.options.selected = !1, d.options.data[kb(a, d.data)] = a.options, a.setState(Za), a.firePointEvent("unselect"))
                })
            })
        }, onMouseOver: function (a, b) {
            var c = this, d = c.series, e = d.chart, f = e.tooltip, g = e.hoverPoint;
            e.hoverSeries !== d && d.onMouseOver(), g && g !== c && g.onMouseOut(), c.series && (c.firePointEvent("mouseOver"), !f || f.shared && !d.noSharedTooltip || f.refresh(c, a), c.setState($a), b || (e.hoverPoint = c))
        }, onMouseOut: function () {
            var a = this.series.chart, b = a.hoverPoints;
            this.firePointEvent("mouseOut"), b && kb(this, b) !== -1 || (this.setState(), a.hoverPoint = null)
        }, importEvents: function () {
            if (!this.hasImportedEvents) {
                var b, c = this, d = a(c.series.options.point, c.options), e = d.events;
                c.events = e;
                for (b in e)pb(c, b, e[b]);
                this.hasImportedEvents = !0
            }
        }, setState: function (b, c) {
            var d, e, f, g, h = this, i = h.plotX, j = h.plotY, k = h.series, l = k.options.states, m = vb[k.type].marker && k.options.marker, n = m && !m.enabled, o = m && m.states[b], p = o && o.enabled === !1, q = k.stateMarkerGraphic, r = h.marker || {}, s = k.chart, t = k.halo;
            b = b || Za, g = h.pointAttr[b] || k.pointAttr[b], b === h.state && !c || h.selected && b !== _a || l[b] && l[b].enabled === !1 || b && (p || n && o.enabled === !1) || b && r.states && r.states[b] && r.states[b].enabled === !1 || (h.graphic ? (d = m && h.graphic.symbolName && g.r, h.graphic.attr(a(g, d ? {
                x: i - d,
                y: j - d,
                width: 2 * d,
                height: 2 * d
            } : {})), q && q.hide()) : (b && o && (d = o.radius, f = r.symbol || k.symbol, q && q.currentSymbol !== f && (q = q.destroy()), q ? q[c ? "animate" : "attr"]({
                x: i - d,
                y: j - d
            }) : f && (k.stateMarkerGraphic = q = s.renderer.symbol(f, i - d, j - d, 2 * d, 2 * d).attr(g).add(k.markerGroup), q.currentSymbol = f)), q && (q[b && s.isInsidePlot(i, j, s.inverted) ? "show" : "hide"](), q.element.point = h)), e = l[b] && l[b].halo, e && e.size ? (t || (k.halo = t = s.renderer.path().add(s.seriesGroup)), t.attr(db({fill: Ab(h.color || k.color).setOpacity(e.opacity).get()}, e.attributes))[c ? "animate" : "attr"]({d: h.haloPath(e.size)})) : t && t.attr({d: []}), h.state = b)
        }, haloPath: function (a) {
            var b = this.series, c = b.chart, d = b.getPlotBox(), e = c.inverted;
            return c.renderer.symbols.circle(d.translateX + (e ? b.yAxis.len - this.plotY : this.plotX) - a, d.translateY + (e ? b.xAxis.len - this.plotX : this.plotY) - a, 2 * a, 2 * a)
        }
    }), db(Ub.prototype, {
        onMouseOver: function () {
            var a = this, b = a.chart, c = b.hoverSeries;
            c && c !== a && c.onMouseOut(), a.options.events.mouseOver && rb(a, "mouseOver"), a.setState($a), b.hoverSeries = a
        }, onMouseOut: function () {
            var a = this, b = a.options, c = a.chart, d = c.tooltip, e = c.hoverPoint;
            c.hoverSeries = null, e && e.onMouseOut(), a && b.events.mouseOut && rb(a, "mouseOut"), !d || b.stickyTracking || d.shared && !a.noSharedTooltip || d.hide(), a.setState()
        }, setState: function (a) {
            var b, c = this, d = c.options, e = c.graph, f = d.states, g = d.lineWidth, h = 0;
            if (a = a || Za, c.state !== a) {
                if (c.state = a, f[a] && f[a].enabled === !1)return;
                if (a && (g = f[a].lineWidth || g + (f[a].lineWidthPlus || 0)), e && !e.dashstyle)for (b = {"stroke-width": g}, e.attr(b); c["zoneGraph" + h];)c["zoneGraph" + h].attr(b), h += 1
            }
        }, setVisible: function (a, b) {
            var c, d = this, e = d.chart, f = d.legendItem, g = e.options.chart.ignoreHiddenSeries, h = d.visible;
            d.visible = a = d.userOptions.visible = a === K ? !h : a, c = a ? "show" : "hide", lb(["group", "dataLabelsGroup", "markerGroup", "tracker"], function (a) {
                d[a] && d[a][c]()
            }), e.hoverSeries !== d && (e.hoverPoint && e.hoverPoint.series) !== d || d.onMouseOut(), f && e.legend.colorizeItem(d, a), d.isDirty = !0, d.options.stacking && lb(e.series, function (a) {
                a.options.stacking && a.visible && (a.isDirty = !0)
            }), lb(d.linkedSeries, function (b) {
                b.setVisible(a, !1)
            }), g && (e.isDirtyBox = !0), b !== !1 && e.redraw(), rb(d, c)
        }, show: function () {
            this.setVisible(!0)
        }, hide: function () {
            this.setVisible(!1)
        }, select: function (a) {
            var b = this;
            b.selected = a = a === K ? !b.selected : a, b.checkbox && (b.checkbox.checked = a), rb(b, a ? "select" : "unselect")
        }, drawTracker: dc.drawTrackerGraph
    }), db(ia, {
        Color: Ab,
        Point: Tb,
        Tick: I,
        Renderer: L,
        SVGElement: H,
        SVGRenderer: Bb,
        arrayMin: x,
        arrayMax: y,
        charts: Ka,
        dateFormat: P,
        error: B,
        format: t,
        pathAnim: Q,
        getOptions: G,
        hasBidiBug: Fa,
        isTouchDevice: Ca,
        setOptions: F,
        addEvent: pb,
        removeEvent: qb,
        createElement: n,
        discardElement: A,
        css: m,
        each: lb,
        map: ob,
        merge: a,
        splat: l,
        extendClass: o,
        pInt: b,
        svg: Ea,
        canvas: Ga,
        vml: !Ea && !Ga,
        product: Ma,
        version: Na
    })
}(), function (a, b) {
    function c(a, b, c) {
        this.init.call(this, a, b, c)
    }

    var d = a.arrayMin, e = a.arrayMax, f = a.each, g = a.extend, h = a.merge, i = a.map, j = a.pick, k = a.pInt, l = a.getOptions().plotOptions, m = a.seriesTypes, n = a.extendClass, o = a.splat, p = a.wrap, q = a.Axis, r = a.Tick, s = a.Point, t = a.Pointer, u = a.CenteredSeriesMixin, v = a.TrackerMixin, w = a.Series, x = Math, y = x.round, z = x.floor, A = x.max, B = a.Color, C = function () {
    };
    g(c.prototype, {
        init: function (a, b, c) {
            var d, e = this, g = e.defaultOptions;
            e.chart = b, e.options = a = h(g, b.angular ? {background: {}} : void 0, a), d = a.background, d && f([].concat(o(d)).reverse(), function (a) {
                var b = a.backgroundColor, d = c.userOptions;
                a = h(e.defaultBackgroundOptions, a), b && (a.backgroundColor = b), a.color = a.backgroundColor, c.options.plotBands.unshift(a), d.plotBands = d.plotBands || [], d.plotBands.unshift(a)
            })
        },
        defaultOptions: {center: ["50%", "50%"], size: "85%", startAngle: 0},
        defaultBackgroundOptions: {
            shape: "circle",
            borderWidth: 1,
            borderColor: "silver",
            backgroundColor: {linearGradient: {x1: 0, y1: 0, x2: 0, y2: 1}, stops: [[0, "#FFF"], [1, "#DDD"]]},
            from: -Number.MAX_VALUE,
            innerRadius: 0,
            to: Number.MAX_VALUE,
            outerRadius: "105%"
        }
    });
    var D = q.prototype, E = r.prototype, F = {
        getOffset: C, redraw: function () {
            this.isDirty = !1
        }, render: function () {
            this.isDirty = !1
        }, setScale: C, setCategories: C, setTitle: C
    }, G = {
        isRadial: !0,
        defaultRadialGaugeOptions: {
            labels: {align: "center", x: 0, y: null},
            minorGridLineWidth: 0,
            minorTickInterval: "auto",
            minorTickLength: 10,
            minorTickPosition: "inside",
            minorTickWidth: 1,
            tickLength: 10,
            tickPosition: "inside",
            tickWidth: 2,
            title: {rotation: 0},
            zIndex: 2
        },
        defaultRadialXOptions: {
            gridLineWidth: 1,
            labels: {align: null, distance: 15, x: 0, y: null},
            maxPadding: 0,
            minPadding: 0,
            showLastLabel: !1,
            tickLength: 0
        },
        defaultRadialYOptions: {
            gridLineInterpolation: "circle",
            labels: {align: "right", x: -3, y: -2},
            showLastLabel: !1,
            title: {x: 4, text: null, rotation: 90}
        },
        setOptions: function (a) {
            var b = this.options = h(this.defaultOptions, this.defaultRadialOptions, a);
            b.plotBands || (b.plotBands = [])
        },
        getOffset: function () {
            D.getOffset.call(this), this.chart.axisOffset[this.side] = 0, this.center = this.pane.center = u.getCenter.call(this.pane)
        },
        getLinePath: function (a, b) {
            var c = this.center;
            return b = j(b, c[2] / 2 - this.offset), this.chart.renderer.symbols.arc(this.left + c[0], this.top + c[1], b, b, {
                start: this.startAngleRad,
                end: this.endAngleRad,
                open: !0,
                innerR: 0
            })
        },
        setAxisTranslation: function () {
            D.setAxisTranslation.call(this), this.center && (this.isCircular ? this.transA = (this.endAngleRad - this.startAngleRad) / (this.max - this.min || 1) : this.transA = this.center[2] / 2 / (this.max - this.min || 1), this.isXAxis ? this.minPixelPadding = this.transA * this.minPointOffset : this.minPixelPadding = 0)
        },
        beforeSetTickPositions: function () {
            this.autoConnect && (this.max += this.categories && 1 || this.pointRange || this.closestPointRange || 0)
        },
        setAxisSize: function () {
            D.setAxisSize.call(this), this.isRadial && (this.center = this.pane.center = a.CenteredSeriesMixin.getCenter.call(this.pane), this.isCircular && (this.sector = this.endAngleRad - this.startAngleRad), this.len = this.width = this.height = this.center[2] * j(this.sector, 1) / 2)
        },
        getPosition: function (a, b) {
            return this.postTranslate(this.isCircular ? this.translate(a) : 0, j(this.isCircular ? b : this.translate(a), this.center[2] / 2) - this.offset)
        },
        postTranslate: function (a, b) {
            var c = this.chart, d = this.center;
            return a = this.startAngleRad + a, {
                x: c.plotLeft + d[0] + Math.cos(a) * b,
                y: c.plotTop + d[1] + Math.sin(a) * b
            }
        },
        getPlotBandPath: function (a, b, c) {
            var d, e, f, g, h = this.center, l = this.startAngleRad, m = h[2] / 2, n = [j(c.outerRadius, "100%"), c.innerRadius, j(c.thickness, 10)], o = /%$/, p = this.isCircular;
            return "polygon" === this.options.gridLineInterpolation ? g = this.getPlotLinePath(a).concat(this.getPlotLinePath(b, !0)) : (a = Math.max(a, this.min), b = Math.min(b, this.max), p || (n[0] = this.translate(a), n[1] = this.translate(b)), n = i(n, function (a) {
                return o.test(a) && (a = k(a, 10) * m / 100), a
            }), "circle" !== c.shape && p ? (d = l + this.translate(a), e = l + this.translate(b)) : (d = -Math.PI / 2, e = 1.5 * Math.PI, f = !0), g = this.chart.renderer.symbols.arc(this.left + h[0], this.top + h[1], n[0], n[0], {
                start: Math.min(d, e),
                end: Math.max(d, e),
                innerR: j(n[1], n[0] - n[2]),
                open: f
            })), g
        },
        getPlotLinePath: function (a, b) {
            var c, d, e, g, h = this, i = h.center, j = h.chart, k = h.getPosition(a);
            return h.isCircular ? g = ["M", i[0] + j.plotLeft, i[1] + j.plotTop, "L", k.x, k.y] : "circle" === h.options.gridLineInterpolation ? (a = h.translate(a), a && (g = h.getLinePath(0, a))) : (f(j.xAxis, function (a) {
                a.pane === h.pane && (c = a)
            }), g = [], a = h.translate(a), e = c.tickPositions, c.autoConnect && (e = e.concat([e[0]])), b && (e = [].concat(e).reverse()), f(e, function (b, e) {
                d = c.getPosition(b, a), g.push(e ? "L" : "M", d.x, d.y)
            })), g
        },
        getTitlePosition: function () {
            var a = this.center, b = this.chart, c = this.options.title;
            return {
                x: b.plotLeft + a[0] + (c.x || 0),
                y: b.plotTop + a[1] - {high: .5, middle: .25, low: 0}[c.align] * a[2] + (c.y || 0)
            }
        }
    };
    p(D, "init", function (a, d, e) {
        var f, i, k, l, m, n, p = this, q = d.angular, r = d.polar, s = e.isX, t = q && s, u = d.options, v = e.pane || 0;
        q ? (g(this, t ? F : G), f = !s, f && (this.defaultRadialOptions = this.defaultRadialGaugeOptions)) : r && (g(this, G), f = s, this.defaultRadialOptions = s ? this.defaultRadialXOptions : h(this.defaultYAxisOptions, this.defaultRadialYOptions)), a.call(this, d, e), t || !q && !r || (l = this.options, d.panes || (d.panes = []), this.pane = m = d.panes[v] = d.panes[v] || new c(o(u.pane)[v], d, p), n = m.options, d.inverted = !1, u.chart.zoomType = null, this.startAngleRad = i = (n.startAngle - 90) * Math.PI / 180, this.endAngleRad = k = (j(n.endAngle, n.startAngle + 360) - 90) * Math.PI / 180, this.offset = l.offset || 0, this.isCircular = f, f && e.max === b && k - i === 2 * Math.PI && (this.autoConnect = !0))
    }), p(E, "getPosition", function (a, b, c, d, e) {
        var f = this.axis;
        return f.getPosition ? f.getPosition(c) : a.call(this, b, c, d, e)
    }), p(E, "getLabelPosition", function (a, b, c, d, e, f, g, h, i) {
        var k, l = this.axis, m = f.y, n = 20, o = f.align, p = (l.translate(this.pos) + l.startAngleRad + Math.PI / 2) / Math.PI * 180 % 360;
        return l.isRadial ? (k = l.getPosition(this.pos, l.center[2] / 2 + j(f.distance, -25)), "auto" === f.rotation ? d.attr({rotation: p}) : null === m && (m = l.chart.renderer.fontMetrics(d.styles.fontSize).b - d.getBBox().height / 2), null === o && (l.isCircular ? (this.label.getBBox().width > l.len * l.tickInterval / (l.max - l.min) && (n = 0), o = p > n && p < 180 - n ? "left" : p > 180 + n && p < 360 - n ? "right" : "center") : o = "center", d.attr({align: o})), k.x += f.x, k.y += m) : k = a.call(this, b, c, d, e, f, g, h, i), k
    }), p(E, "getMarkPath", function (a, b, c, d, e, f, g) {
        var h, i, j = this.axis;
        return j.isRadial ? (h = j.getPosition(this.pos, j.center[2] / 2 + d), i = ["M", b, c, "L", h.x, h.y]) : i = a.call(this, b, c, d, e, f, g), i
    }), l.arearange = h(l.area, {
        lineWidth: 1,
        marker: null,
        threshold: null,
        tooltip: {pointFormat: '<span style="color:{series.color}"></span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},
        trackByArea: !0,
        dataLabels: {align: null, verticalAlign: null, xLow: 0, xHigh: 0, yLow: 0, yHigh: 0},
        states: {hover: {halo: !1}}
    }), m.arearange = n(m.area, {
        type: "arearange",
        pointArrayMap: ["low", "high"],
        dataLabelCollections: ["dataLabel", "dataLabelUpper"],
        toYData: function (a) {
            return [a.low, a.high]
        },
        pointValKey: "low",
        deferTranslatePolar: !0,
        highToXY: function (a) {
            var b = this.chart, c = this.xAxis.postTranslate(a.rectPlotX, this.yAxis.len - a.plotHigh);
            a.plotHighX = c.x - b.plotLeft, a.plotHigh = c.y - b.plotTop
        },
        getSegments: function () {
            var a = this;
            f(a.points, function (b) {
                a.options.connectNulls || null !== b.low && null !== b.high ? null === b.low && null !== b.high && (b.y = b.high) : b.y = null
            }), w.prototype.getSegments.call(this)
        },
        translate: function () {
            var a = this, b = a.yAxis;
            m.area.prototype.translate.apply(a), f(a.points, function (a) {
                var c = a.low, d = a.high, e = a.plotY;
                null === d && null === c ? a.y = null : null === c ? (a.plotLow = a.plotY = null, a.plotHigh = b.translate(d, 0, 1, 0, 1)) : null === d ? (a.plotLow = e, a.plotHigh = null) : (a.plotLow = e, a.plotHigh = b.translate(d, 0, 1, 0, 1))
            }), this.chart.polar && f(this.points, function (b) {
                a.highToXY(b)
            })
        },
        getSegmentPath: function (a) {
            var b, c, d, e, f, g = [], h = a.length, i = w.prototype.getSegmentPath, j = this.options, k = j.step;
            for (b = HighchartsAdapter.grep(a, function (a) {
                return null !== a.plotLow
            }); h--;)c = a[h], null !== c.plotHigh && g.push({plotX: c.plotHighX || c.plotX, plotY: c.plotHigh});
            return e = i.call(this, b), k && (k === !0 && (k = "left"), j.step = {
                left: "right",
                center: "center",
                right: "left"
            }[k]), f = i.call(this, g), j.step = k, d = [].concat(e, f), this.chart.polar || (f[0] = "L"), this.areaPath = this.areaPath.concat(e, f), d
        },
        drawDataLabels: function () {
            var a, b, c, d = this.data, e = d.length, f = [], g = w.prototype, h = this.options.dataLabels, i = h.align, j = this.chart.inverted;
            if (h.enabled || this._hasPointLabels) {
                for (a = e; a--;)b = d[a], b && (c = b.plotHigh > b.plotLow, b.y = b.high, b._plotY = b.plotY, b.plotY = b.plotHigh, f[a] = b.dataLabel, b.dataLabel = b.dataLabelUpper, b.below = c, j ? (i || (h.align = c ? "right" : "left"), h.x = h.xHigh) : h.y = h.yHigh);
                for (g.drawDataLabels && g.drawDataLabels.apply(this, arguments), a = e; a--;)b = d[a], b && (c = b.plotHigh > b.plotLow, b.dataLabelUpper = b.dataLabel, b.dataLabel = f[a], b.y = b.low, b.plotY = b._plotY, b.below = !c, j ? (i || (h.align = c ? "left" : "right"), h.x = h.xLow) : h.y = h.yLow);
                g.drawDataLabels && g.drawDataLabels.apply(this, arguments)
            }
            h.align = i
        },
        alignDataLabel: function () {
            m.column.prototype.alignDataLabel.apply(this, arguments)
        },
        setStackedPoints: C,
        getSymbol: C,
        drawPoints: C
    }), l.areasplinerange = h(l.arearange), m.areasplinerange = n(m.arearange, {
        type: "areasplinerange",
        getPointSpline: m.spline.prototype.getPointSpline
    }), function () {
        var a = m.column.prototype;
        l.columnrange = h(l.column, l.arearange, {
            lineWidth: 1,
            pointRange: null
        }), m.columnrange = n(m.arearange, {
            type: "columnrange",
            translate: function () {
                var b, c = this, d = c.yAxis;
                a.translate.apply(c), f(c.points, function (a) {
                    var e, f, g, h = a.shapeArgs, i = c.options.minPointLength;
                    a.tooltipPos = null, a.plotHigh = b = d.translate(a.high, 0, 1, 0, 1), a.plotLow = a.plotY, g = b, f = a.plotY - b, Math.abs(f) < i ? (e = i - f, f += e, g -= e / 2) : f < 0 && (f *= -1, g -= f), h.height = f, h.y = g
                })
            },
            directTouch: !0,
            trackerGroups: ["group", "dataLabelsGroup"],
            drawGraph: C,
            pointAttrToOptions: a.pointAttrToOptions,
            drawPoints: a.drawPoints,
            drawTracker: a.drawTracker,
            animate: a.animate,
            getColumnMetrics: a.getColumnMetrics
        })
    }(), l.gauge = h(l.line, {
        dataLabels: {
            enabled: !0,
            defer: !1,
            y: 15,
            borderWidth: 1,
            borderColor: "silver",
            borderRadius: 3,
            crop: !1,
            verticalAlign: "top",
            zIndex: 2
        }, dial: {}, pivot: {}, tooltip: {headerFormat: ""}, showInLegend: !1
    });
    var H = n(s, {
        setState: function (a) {
            this.state = a
        }
    }), I = {
        type: "gauge",
        pointClass: H,
        angular: !0,
        drawGraph: C,
        fixedBox: !0,
        forceDL: !0,
        trackerGroups: ["group", "dataLabelsGroup"],
        translate: function () {
            var a = this, b = a.yAxis, c = a.options, d = b.center;
            a.generatePoints(), f(a.points, function (a) {
                var e = h(c.dial, a.dial), f = k(j(e.radius, 80)) * d[2] / 200, g = k(j(e.baseLength, 70)) * f / 100, i = k(j(e.rearLength, 10)) * f / 100, l = e.baseWidth || 3, m = e.topWidth || 1, n = c.overshoot, o = b.startAngleRad + b.translate(a.y, null, null, null, !0);
                n && "number" == typeof n ? (n = n / 180 * Math.PI, o = Math.max(b.startAngleRad - n, Math.min(b.endAngleRad + n, o))) : c.wrap === !1 && (o = Math.max(b.startAngleRad, Math.min(b.endAngleRad, o))), o = 180 * o / Math.PI, a.shapeType = "path", a.shapeArgs = {
                    d: e.path || ["M", -i, -l / 2, "L", g, -l / 2, f, -m / 2, f, m / 2, g, l / 2, -i, l / 2, "z"],
                    translateX: d[0],
                    translateY: d[1],
                    rotation: o
                }, a.plotX = d[0], a.plotY = d[1]
            })
        },
        drawPoints: function () {
            var a = this, b = a.yAxis.center, c = a.pivot, d = a.options, e = d.pivot, g = a.chart.renderer;
            f(a.points, function (b) {
                var c = b.graphic, e = b.shapeArgs, f = e.d, i = h(d.dial, b.dial);
                c ? (c.animate(e), e.d = f) : b.graphic = g[b.shapeType](e).attr({
                    stroke: i.borderColor || "none",
                    "stroke-width": i.borderWidth || 0,
                    fill: i.backgroundColor || "black",
                    rotation: e.rotation
                }).add(a.group)
            }), c ? c.animate({
                translateX: b[0],
                translateY: b[1]
            }) : a.pivot = g.circle(0, 0, j(e.radius, 5)).attr({
                "stroke-width": e.borderWidth || 0,
                stroke: e.borderColor || "silver",
                fill: e.backgroundColor || "black"
            }).translate(b[0], b[1]).add(a.group)
        },
        animate: function (a) {
            var b = this;
            a || (f(b.points, function (a) {
                var c = a.graphic;
                c && (c.attr({rotation: 180 * b.yAxis.startAngleRad / Math.PI}), c.animate({rotation: a.shapeArgs.rotation}, b.options.animation))
            }), b.animate = null)
        },
        render: function () {
            this.group = this.plotGroup("group", "series", this.visible ? "visible" : "hidden", this.options.zIndex, this.chart.seriesGroup), w.prototype.render.call(this), this.group.clip(this.chart.clipRect)
        },
        setData: function (a, b) {
            w.prototype.setData.call(this, a, !1), this.processData(), this.generatePoints(), j(b, !0) && this.chart.redraw()
        },
        drawTracker: v && v.drawTrackerPoint
    };
    m.gauge = n(m.line, I), l.boxplot = h(l.column, {
        fillColor: "#FFFFFF",
        lineWidth: 1,
        medianWidth: 2,
        states: {hover: {brightness: -.3}},
        threshold: null,
        tooltip: {pointFormat: '<span style="color:{point.color}"></span> <b> {series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},
        whiskerLength: "50%",
        whiskerWidth: 2
    }), m.boxplot = n(m.column, {
        type: "boxplot",
        pointArrayMap: ["low", "q1", "median", "q3", "high"],
        toYData: function (a) {
            return [a.low, a.q1, a.median, a.q3, a.high]
        },
        pointValKey: "high",
        pointAttrToOptions: {fill: "fillColor", stroke: "color", "stroke-width": "lineWidth"},
        drawDataLabels: C,
        translate: function () {
            var a = this, b = a.yAxis, c = a.pointArrayMap;
            m.column.prototype.translate.apply(a), f(a.points, function (a) {
                f(c, function (c) {
                    null !== a[c] && (a[c + "Plot"] = b.translate(a[c], 0, 1, 0, 1))
                })
            })
        },
        drawPoints: function () {
            var a, c, d, e, g, h, i, k, l, m, n, o, p, q, r, s, t, u, v, w, x, A, B = this, C = B.points, D = B.options, E = B.chart, F = E.renderer, G = B.doQuartiles !== !1, H = parseInt(B.options.whiskerLength, 10) / 100;
            f(C, function (f) {
                l = f.graphic, x = f.shapeArgs, n = {}, q = {}, s = {}, A = f.color || B.color, f.plotY !== b && (a = f.pointAttr[f.selected ? "selected" : ""], t = x.width, u = z(x.x), v = u + t, w = y(t / 2), c = z(G ? f.q1Plot : f.lowPlot), d = z(G ? f.q3Plot : f.lowPlot), e = z(f.highPlot), g = z(f.lowPlot), n.stroke = f.stemColor || D.stemColor || A, n["stroke-width"] = j(f.stemWidth, D.stemWidth, D.lineWidth), n.dashstyle = f.stemDashStyle || D.stemDashStyle, q.stroke = f.whiskerColor || D.whiskerColor || A, q["stroke-width"] = j(f.whiskerWidth, D.whiskerWidth, D.lineWidth), s.stroke = f.medianColor || D.medianColor || A, s["stroke-width"] = j(f.medianWidth, D.medianWidth, D.lineWidth), i = n["stroke-width"] % 2 / 2, k = u + w + i, m = ["M", k, d, "L", k, e, "M", k, c, "L", k, g], G && (i = a["stroke-width"] % 2 / 2, k = z(k) + i, c = z(c) + i, d = z(d) + i, u += i, v += i, o = ["M", u, d, "L", u, c, "L", v, c, "L", v, d, "L", u, d, "z"]), H && (i = q["stroke-width"] % 2 / 2, e += i, g += i, p = ["M", k - w * H, e, "L", k + w * H, e, "M", k - w * H, g, "L", k + w * H, g]), i = s["stroke-width"] % 2 / 2, h = y(f.medianPlot) + i, r = ["M", u, h, "L", v, h], l ? (f.stem.animate({d: m}), H && f.whiskers.animate({d: p}), G && f.box.animate({d: o}), f.medianShape.animate({d: r})) : (f.graphic = l = F.g().add(B.group), f.stem = F.path(m).attr(n).add(l), H && (f.whiskers = F.path(p).attr(q).add(l)), G && (f.box = F.path(o).attr(a).add(l)), f.medianShape = F.path(r).attr(s).add(l)))
            })
        },
        setStackedPoints: C
    }), l.errorbar = h(l.boxplot, {
        color: "#000000",
        grouping: !1,
        linkedTo: ":previous",
        tooltip: {pointFormat: '<span style="color:{point.color}"></span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},
        whiskerWidth: null
    }), m.errorbar = n(m.boxplot, {
        type: "errorbar",
        pointArrayMap: ["low", "high"],
        toYData: function (a) {
            return [a.low, a.high]
        },
        pointValKey: "high",
        doQuartiles: !1,
        drawDataLabels: m.arearange ? m.arearange.prototype.drawDataLabels : C,
        getColumnMetrics: function () {
            return this.linkedParent && this.linkedParent.columnMetrics || m.column.prototype.getColumnMetrics.call(this)
        }
    }), l.waterfall = h(l.column, {
        lineWidth: 1,
        lineColor: "#333",
        dashStyle: "dot",
        borderColor: "#333",
        dataLabels: {inside: !0},
        states: {hover: {lineWidthPlus: 0}}
    }), m.waterfall = n(m.column, {
        type: "waterfall", upColorProp: "fill", pointValKey: "y", translate: function () {
            var a, b, c, d, e, f, g, h, i, j, k, l, n = this, o = n.options, p = n.yAxis, q = o.threshold, r = o.stacking;
            for (m.column.prototype.translate.apply(this), i = j = q, c = n.points, b = 0, a = c.length; b < a; b++)d = c[b], h = this.processedYData[b], e = d.shapeArgs, f = r && p.stacks[(n.negStacks && h < q ? "-" : "") + n.stackKey], k = f ? f[d.x].points[n.index + "," + b] : [0, h], d.isSum ? d.y = h : d.isIntermediateSum && (d.y = h - j), g = A(i, i + d.y) + k[0], e.y = p.translate(g, 0, 1), d.isSum ? (e.y = p.translate(k[1], 0, 1), e.height = Math.min(p.translate(k[0], 0, 1), p.len) - e.y) : d.isIntermediateSum ? (e.y = p.translate(k[1], 0, 1), e.height = Math.min(p.translate(j, 0, 1), p.len) - e.y, j = k[1]) : (0 !== i && (e.height = h > 0 ? p.translate(i, 0, 1) - e.y : p.translate(i, 0, 1) - p.translate(i - h, 0, 1)), i += h), e.height < 0 && (e.y += e.height, e.height *= -1), d.plotY = e.y = y(e.y) - n.borderWidth % 2 / 2, e.height = A(y(e.height), .001), d.yBottom = e.y + e.height, l = d.plotY + (d.negative ? e.height : 0), n.chart.inverted ? d.tooltipPos[0] = p.len - l : d.tooltipPos[1] = l
        }, processData: function (a) {
            var b, c, d, e, f, g, h, i = this, j = i.options, k = i.yData, l = i.options.data, m = k.length, n = j.threshold || 0;
            for (d = c = e = f = n, h = 0; h < m; h++)g = k[h], b = l && l[h] ? l[h] : {}, "sum" === g || b.isSum ? k[h] = d : "intermediateSum" === g || b.isIntermediateSum ? k[h] = c : (d += g, c += g), e = Math.min(d, e), f = Math.max(d, f);
            w.prototype.processData.call(this, a), i.dataMin = e, i.dataMax = f
        }, toYData: function (a) {
            return a.isSum ? 0 === a.x ? null : "sum" : a.isIntermediateSum ? 0 === a.x ? null : "intermediateSum" : a.y
        }, getAttribs: function () {
            m.column.prototype.getAttribs.apply(this, arguments);
            var b = this, c = b.options, d = c.states, e = c.upColor || b.color, g = a.Color(e).brighten(.1).get(), i = h(b.pointAttr), j = b.upColorProp;
            i[""][j] = e, i.hover[j] = d.hover.upColor || g, i.select[j] = d.select.upColor || e, f(b.points, function (a) {
                a.options.color || (a.y > 0 ? (a.pointAttr = i, a.color = e) : a.pointAttr = b.pointAttr)
            })
        }, getGraphPath: function () {
            var a, b, c, d, e = this.data, f = e.length, g = this.options.lineWidth + this.borderWidth, h = y(g) % 2 / 2, i = [], j = "M", k = "L";
            for (c = 1; c < f; c++)b = e[c].shapeArgs, a = e[c - 1].shapeArgs, d = [j, a.x + a.width, a.y + h, k, b.x, a.y + h], e[c - 1].y < 0 && (d[2] += a.height, d[5] += a.height), i = i.concat(d);
            return i
        }, getExtremes: C, drawGraph: w.prototype.drawGraph
    }), l.polygon = h(l.scatter, {marker: {enabled: !1}}), m.polygon = n(m.scatter, {
        type: "polygon",
        fillGraph: !0,
        getSegmentPath: function (a) {
            return w.prototype.getSegmentPath.call(this, a).concat("z")
        },
        drawGraph: w.prototype.drawGraph,
        drawLegendSymbol: a.LegendSymbolMixin.drawRectangle
    }), l.bubble = h(l.scatter, {
        dataLabels: {
            formatter: function () {
                return this.point.z
            }, inside: !0, verticalAlign: "middle"
        },
        marker: {lineColor: null, lineWidth: 1},
        minSize: 8,
        maxSize: "20%",
        states: {hover: {halo: {size: 5}}},
        tooltip: {pointFormat: "({point.x}, {point.y}), Size: {point.z}"},
        turboThreshold: 0,
        zThreshold: 0,
        zoneAxis: "z"
    });
    var J = n(s, {
        haloPath: function () {
            return s.prototype.haloPath.call(this, this.shapeArgs.r + this.series.options.states.hover.halo.size)
        }, ttBelow: !1
    });
    m.bubble = n(m.scatter, {
        type: "bubble",
        pointClass: J,
        pointArrayMap: ["y", "z"],
        parallelArrays: ["x", "y", "z"],
        trackerGroups: ["group", "dataLabelsGroup"],
        bubblePadding: !0,
        zoneAxis: "z",
        pointAttrToOptions: {stroke: "lineColor", "stroke-width": "lineWidth", fill: "fillColor"},
        applyOpacity: function (a) {
            var b = this.options.marker, c = j(b.fillOpacity, .5);
            return a = a || b.fillColor || this.color, 1 !== c && (a = B(a).setOpacity(c).get("rgba")), a
        },
        convertAttribs: function () {
            var a = w.prototype.convertAttribs.apply(this, arguments);
            return a.fill = this.applyOpacity(a.fill), a
        },
        getRadii: function (a, b, c, d) {
            var e, f, g, h = this.zData, i = [], j = "width" !== this.options.sizeBy, k = b - a;
            for (f = 0, e = h.length; f < e; f++)h[f] < a ? i.push(c / 2 - 1) : (g = k > 0 ? (h[f] - a) / k : .5, j && g >= 0 && (g = Math.sqrt(g)), i.push(x.ceil(c + g * (d - c)) / 2));
            this.radii = i
        },
        animate: function (a) {
            var b = this.options.animation;
            a || (f(this.points, function (a) {
                var c = a.graphic, d = a.shapeArgs;
                c && d && (c.attr("r", 1), c.animate({r: d.r}, b))
            }), this.animate = null)
        },
        translate: function () {
            var a, c, d, e = this.data, f = this.radii;
            for (m.scatter.prototype.translate.call(this), a = e.length; a--;)c = e[a], d = f ? f[a] : 0, d >= this.minPxSize / 2 ? (c.shapeType = "circle", c.shapeArgs = {
                x: c.plotX,
                y: c.plotY,
                r: d
            }, c.dlBox = {
                x: c.plotX - d,
                y: c.plotY - d,
                width: 2 * d,
                height: 2 * d
            }) : c.shapeArgs = c.plotY = c.dlBox = b
        },
        drawLegendSymbol: function (a, b) {
            var c = k(a.itemStyle.fontSize) / 2;
            b.legendSymbol = this.chart.renderer.circle(c, a.baseline - c, c).attr({zIndex: 3}).add(b.legendGroup), b.legendSymbol.isMarker = !0
        },
        drawPoints: m.column.prototype.drawPoints,
        alignDataLabel: m.column.prototype.alignDataLabel,
        buildKDTree: C,
        applyZones: C
    }), q.prototype.beforePadding = function () {
        var a = this, c = this.len, g = this.chart, h = 0, i = c, l = this.isXAxis, m = l ? "xData" : "yData", n = this.min, o = {}, p = x.min(g.plotWidth, g.plotHeight), q = Number.MAX_VALUE, r = -Number.MAX_VALUE, s = this.max - n, t = c / s, u = [];
        f(this.series, function (b) {
            var c, h = b.options;
            !b.bubblePadding || !b.visible && g.options.chart.ignoreHiddenSeries || (a.allowZoomOutside = !0, u.push(b), l && (f(["minSize", "maxSize"], function (a) {
                var b = h[a], c = /%$/.test(b);
                b = k(b), o[a] = c ? p * b / 100 : b
            }), b.minPxSize = o.minSize, b.maxPxSize = o.maxSize, c = b.zData, c.length && (q = j(h.zMin, x.min(q, x.max(d(c), h.displayNegative === !1 ? h.zThreshold : -Number.MAX_VALUE))), r = j(h.zMax, x.max(r, e(c))))))
        }), f(u, function (a) {
            var b, c = a[m], d = c.length;
            if (l && a.getRadii(q, r, a.minPxSize, a.maxPxSize), s > 0)for (; d--;)"number" == typeof c[d] && (b = a.radii[d], h = Math.min((c[d] - n) * t - b, h), i = Math.max((c[d] - n) * t + b, i))
        }), u.length && s > 0 && !this.isLog && (i -= c, t *= (c + h - i) / c, f([["min", "userMin", h], ["max", "userMax", i]], function (c) {
            j(a.options[c[0]], a[c[1]]) === b && (a[c[0]] += c[2] / t)
        }))
    }, function () {
        function a(a, b, c) {
            a.call(this, b, c), this.chart.polar && (this.closeSegment = function (a) {
                var b = this.xAxis.center;
                a.push("L", b[0], b[1])
            }, this.closedStacks = !0)
        }

        function b(a, b) {
            var c, d = this.chart, e = this.options.animation, f = this.group, g = this.markerGroup, h = this.xAxis.center, i = d.plotLeft, j = d.plotTop;
            d.polar ? d.renderer.isSVG && (e === !0 && (e = {}), b ? (c = {
                translateX: h[0] + i,
                translateY: h[1] + j,
                scaleX: .001,
                scaleY: .001
            }, f.attr(c), g && g.attr(c)) : (c = {
                translateX: i,
                translateY: j,
                scaleX: 1,
                scaleY: 1
            }, f.animate(c, e), g && g.animate(c, e), this.animate = null)) : a.call(this, b)
        }

        var c, d = w.prototype, e = t.prototype;
        d.searchPointByAngle = function (a) {
            var b = this, c = b.chart, d = b.xAxis, e = d.pane.center, f = a.chartX - e[0] - c.plotLeft, g = a.chartY - e[1] - c.plotTop;
            return this.searchKDTree({clientX: 180 + Math.atan2(f, g) * (-180 / Math.PI)})
        }, p(d, "buildKDTree", function (a) {
            this.chart.polar && (this.kdByAngle ? this.searchPoint = this.searchPointByAngle : this.kdDimensions = 2), a.apply(this)
        }), d.toXY = function (a) {
            var b, c, d = this.chart, e = a.plotX, f = a.plotY;
            a.rectPlotX = e, a.rectPlotY = f, b = this.xAxis.postTranslate(a.plotX, this.yAxis.len - f), a.plotX = a.polarPlotX = b.x - d.plotLeft, a.plotY = a.polarPlotY = b.y - d.plotTop, this.kdByAngle ? (c = (e / Math.PI * 180 + this.xAxis.pane.options.startAngle) % 360, c < 0 && (c += 360), a.clientX = c) : a.clientX = a.plotX
        }, m.area && p(m.area.prototype, "init", a), m.areaspline && p(m.areaspline.prototype, "init", a), m.spline && p(m.spline.prototype, "getPointSpline", function (a, b, c, d) {
            var e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u, v, w = 1.5, x = w + 1;
            return this.chart.polar ? (f = c.plotX, g = c.plotY, h = b[d - 1], i = b[d + 1], this.connectEnds && (h || (h = b[b.length - 2]), i || (i = b[1])), h && i && (j = h.plotX, k = h.plotY, l = i.plotX, m = i.plotY, n = (w * f + j) / x, o = (w * g + k) / x, p = (w * f + l) / x, q = (w * g + m) / x, r = Math.sqrt(Math.pow(n - f, 2) + Math.pow(o - g, 2)), s = Math.sqrt(Math.pow(p - f, 2) + Math.pow(q - g, 2)), t = Math.atan2(o - g, n - f), u = Math.atan2(q - g, p - f), v = Math.PI / 2 + (t + u) / 2, Math.abs(t - v) > Math.PI / 2 && (v -= Math.PI), n = f + Math.cos(v) * r, o = g + Math.sin(v) * r, p = f + Math.cos(Math.PI + v) * s, q = g + Math.sin(Math.PI + v) * s, c.rightContX = p, c.rightContY = q), d ? (e = ["C", h.rightContX || h.plotX, h.rightContY || h.plotY, n || f, o || g, f, g], h.rightContX = h.rightContY = null) : e = ["M", f, g]) : e = a.call(this, b, c, d), e
        }), p(d, "translate", function (a) {
            var b, c, d = this.chart;
            if (a.call(this), d.polar && (this.kdByAngle = d.tooltip && d.tooltip.shared, !this.preventPostTranslate))for (b = this.points, c = b.length; c--;)this.toXY(b[c])
        }), p(d, "getSegmentPath", function (a, b) {
            var c = this.points;
            return this.chart.polar && this.options.connectEnds !== !1 && b[b.length - 1] === c[c.length - 1] && null !== c[0].y && (this.connectEnds = !0, b = [].concat(b, [c[0]])), a.call(this, b)
        }), p(d, "animate", b), m.column && (c = m.column.prototype, p(c, "animate", b), p(c, "translate", function (a) {
            var b, c, d, e, f = this.xAxis, g = this.yAxis.len, h = f.center, i = f.startAngleRad, k = this.chart.renderer;
            if (this.preventPostTranslate = !0, a.call(this), f.isRadial)for (c = this.points, e = c.length; e--;)d = c[e], b = d.barX + i, d.shapeType = "path", d.shapeArgs = {
                d: k.symbols.arc(h[0], h[1], g - d.plotY, null, {
                    start: b,
                    end: b + d.pointWidth,
                    innerR: g - j(d.yBottom, g)
                })
            }, this.toXY(d), d.tooltipPos = [d.plotX, d.plotY], d.ttBelow = d.plotY > h[1]
        }), p(c, "alignDataLabel", function (a, b, c, e, f, g) {
            if (this.chart.polar) {
                var h, i, j = b.rectPlotX / Math.PI * 180;
                null === e.align && (h = j > 20 && j < 160 ? "left" : j > 200 && j < 340 ? "right" : "center", e.align = h), null === e.verticalAlign && (i = j < 45 || j > 315 ? "bottom" : j > 135 && j < 225 ? "top" : "middle", e.verticalAlign = i), d.alignDataLabel.call(this, b, c, e, f, g)
            } else a.call(this, b, c, e, f, g)
        })), p(e, "getCoordinates", function (a, b) {
            var c = this.chart, d = {xAxis: [], yAxis: []};
            return c.polar ? f(c.axes, function (a) {
                var e = a.isXAxis, f = a.center, g = b.chartX - f[0] - c.plotLeft, h = b.chartY - f[1] - c.plotTop;
                d[e ? "xAxis" : "yAxis"].push({
                    axis: a,
                    value: a.translate(e ? Math.PI - Math.atan2(g, h) : Math.sqrt(Math.pow(g, 2) + Math.pow(h, 2)), !0)
                })
            }) : d = a.call(this, b), d
        })
    }()
}(Highcharts), function (a) {
    "use strict";
    var b, c, d = a.getOptions().plotOptions, e = a.pInt, f = a.pick, g = a.each;
    d.solidgauge = a.merge(d.gauge, {colorByPoint: !0}), b = {
        initDataClasses: function (b) {
            var c, d = this, e = this.chart, f = 0, h = this.options;
            this.dataClasses = c = [], g(b.dataClasses, function (g, i) {
                var j;
                g = a.merge(g), c.push(g), g.color || ("category" === h.dataClassColor ? (j = e.options.colors, g.color = j[f++], f === j.length && (f = 0)) : g.color = d.tweenColors(a.Color(h.minColor), a.Color(h.maxColor), i / (b.dataClasses.length - 1)))
            })
        }, initStops: function (b) {
            this.stops = b.stops || [[0, this.options.minColor], [1, this.options.maxColor]], g(this.stops, function (b) {
                b.color = a.Color(b[1])
            })
        }, toColor: function (a, b) {
            var d, e, f, g, h, i, j = this.stops, k = this.dataClasses;
            if (k) {
                for (i = k.length; i--;)if (h = k[i], e = h.from, f = h.to, (e === c || a >= e) && (f === c || a <= f)) {
                    g = h.color, b && (b.dataClass = i);
                    break
                }
            } else {
                for (this.isLog && (a = this.val2lin(a)), d = 1 - (this.max - a) / (this.max - this.min), i = j.length; i-- && !(d > j[i][0]););
                e = j[i] || j[i + 1], f = j[i + 1] || e, d = 1 - (f[0] - d) / (f[0] - e[0] || 1), g = this.tweenColors(e.color, f.color, d)
            }
            return g
        }, tweenColors: function (a, b, c) {
            var d, e;
            return b.rgba.length && a.rgba.length ? (a = a.rgba, b = b.rgba, d = 1 !== b[3] || 1 !== a[3], e = (d ? "rgba(" : "rgb(") + Math.round(b[0] + (a[0] - b[0]) * (1 - c)) + "," + Math.round(b[1] + (a[1] - b[1]) * (1 - c)) + "," + Math.round(b[2] + (a[2] - b[2]) * (1 - c)) + (d ? "," + (b[3] + (a[3] - b[3]) * (1 - c)) : "") + ")") : e = b.raw || "none", e
        }
    }, g(["fill", "stroke"], function (c) {
        HighchartsAdapter.addAnimSetter(c, function (d) {
            d.elem.attr(c, b.tweenColors(a.Color(d.start), a.Color(d.end), d.pos))
        })
    }), a.seriesTypes.solidgauge = a.extendClass(a.seriesTypes.gauge, {
        type: "solidgauge",
        pointAttrToOptions: {},
        bindAxes: function () {
            var c;
            a.seriesTypes.gauge.prototype.bindAxes.call(this), c = this.yAxis, a.extend(c, b), c.options.dataClasses && c.initDataClasses(c.options), c.initStops(c.options)
        },
        drawPoints: function () {
            var b = this, c = b.yAxis, d = c.center, g = b.options, h = b.chart.renderer, i = g.overshoot, j = i && "number" == typeof i ? i / 180 * Math.PI : 0;
            a.each(b.points, function (a) {
                var i, k, l, m, n, o = a.graphic, p = c.startAngleRad + c.translate(a.y, null, null, null, !0), q = e(f(a.options.radius, g.radius, 100)) * d[2] / 200, r = e(f(a.options.innerRadius, g.innerRadius, 60)) * d[2] / 200, s = c.toColor(a.y, a), t = Math.min(c.startAngleRad, c.endAngleRad), u = Math.max(c.startAngleRad, c.endAngleRad);
                "none" === s && (s = a.color || b.color || "none"), "none" !== s && (l = a.color, a.color = s), p = Math.max(t - j, Math.min(u + j, p)), g.wrap === !1 && (p = Math.max(t, Math.min(u, p))), m = Math.min(p, c.startAngleRad), n = Math.max(p, c.startAngleRad), n - m > 2 * Math.PI && (n = m + 2 * Math.PI), a.shapeArgs = i = {
                    x: d[0],
                    y: d[1],
                    r: q,
                    innerR: r,
                    start: m,
                    end: n,
                    fill: s
                }, a.startR = q, o ? (k = i.d, o.animate(i), k && (i.d = k)) : a.graphic = h.arc(i).attr({
                    stroke: g.borderColor || "none",
                    "stroke-width": g.borderWidth || 0,
                    fill: s,
                    "sweep-flag": 0
                }).add(b.group)
            })
        },
        animate: function (b) {
            b || (this.startAngleRad = this.yAxis.startAngleRad, a.seriesTypes.pie.prototype.animate.call(this, b))
        }
    })
}(Highcharts), function (a) {
    "function" == typeof define && define.amd ? define(["jquery"], a) : "object" == typeof exports ? module.exports = a : a(jQuery)
}(function (a) {
    function b(b) {
        var g = b || window.event, h = i.call(arguments, 1), j = 0, l = 0, m = 0, n = 0, o = 0, p = 0;
        if (b = a.event.fix(g), b.type = "mousewheel", "detail" in g && (m = g.detail * -1), "wheelDelta" in g && (m = g.wheelDelta), "wheelDeltaY" in g && (m = g.wheelDeltaY), "wheelDeltaX" in g && (l = g.wheelDeltaX * -1), "axis" in g && g.axis === g.HORIZONTAL_AXIS && (l = m * -1, m = 0), j = 0 === m ? l : m, "deltaY" in g && (m = g.deltaY * -1, j = m), "deltaX" in g && (l = g.deltaX, 0 === m && (j = l * -1)), 0 !== m || 0 !== l) {
            if (1 === g.deltaMode) {
                var q = a.data(this, "mousewheel-line-height");
                j *= q, m *= q, l *= q
            } else if (2 === g.deltaMode) {
                var r = a.data(this, "mousewheel-page-height");
                j *= r, m *= r, l *= r
            }
            if (n = Math.max(Math.abs(m), Math.abs(l)), (!f || n < f) && (f = n, d(g, n) && (f /= 40)), d(g, n) && (j /= 40, l /= 40, m /= 40), j = Math[j >= 1 ? "floor" : "ceil"](j / f), l = Math[l >= 1 ? "floor" : "ceil"](l / f), m = Math[m >= 1 ? "floor" : "ceil"](m / f), k.settings.normalizeOffset && this.getBoundingClientRect) {
                var s = this.getBoundingClientRect();
                o = b.clientX - s.left, p = b.clientY - s.top
            }
            return b.deltaX = l, b.deltaY = m, b.deltaFactor = f, b.offsetX = o, b.offsetY = p, b.deltaMode = 0, h.unshift(b, j, l, m), e && clearTimeout(e), e = setTimeout(c, 200), (a.event.dispatch || a.event.handle).apply(this, h)
        }
    }

    function c() {
        f = null
    }

    function d(a, b) {
        return k.settings.adjustOldDeltas && "mousewheel" === a.type && b % 120 === 0
    }

    var e, f, g = ["wheel", "mousewheel", "DOMMouseScroll", "MozMousePixelScroll"], h = "onwheel" in document || document.documentMode >= 9 ? ["wheel"] : ["mousewheel", "DomMouseScroll", "MozMousePixelScroll"], i = Array.prototype.slice;
    if (a.event.fixHooks)for (var j = g.length; j;)a.event.fixHooks[g[--j]] = a.event.mouseHooks;
    var k = a.event.special.mousewheel = {
        version: "3.1.12", setup: function () {
            if (this.addEventListener)for (var c = h.length; c;)this.addEventListener(h[--c], b, !1); else this.onmousewheel = b;
            a.data(this, "mousewheel-line-height", k.getLineHeight(this)), a.data(this, "mousewheel-page-height", k.getPageHeight(this))
        }, teardown: function () {
            if (this.removeEventListener)for (var c = h.length; c;)this.removeEventListener(h[--c], b, !1); else this.onmousewheel = null;
            a.removeData(this, "mousewheel-line-height"), a.removeData(this, "mousewheel-page-height")
        }, getLineHeight: function (b) {
            var c = a(b), d = c["offsetParent" in a.fn ? "offsetParent" : "parent"]();
            return d.length || (d = a("body")), parseInt(d.css("fontSize"), 10) || parseInt(c.css("fontSize"), 10) || 16
        }, getPageHeight: function (b) {
            return a(b).height()
        }, settings: {adjustOldDeltas: !0, normalizeOffset: !0}
    };
    a.fn.extend({
        mousewheel: function (a) {
            return a ? this.bind("mousewheel", a) : this.trigger("mousewheel")
        }, unmousewheel: function (a) {
            return this.unbind("mousewheel", a)
        }
    })
}), function (a, b, c, d) {
    "use strict";
    var e = c("html"), f = c(a), g = c(b), h = c.fancybox = function () {
        h.open.apply(this, arguments)
    }, i = navigator.userAgent.match(/msie/i), j = null, k = b.createTouch !== d, l = function (a) {
        return a && a.hasOwnProperty && a instanceof c
    }, m = function (a) {
        return a && "string" === c.type(a)
    }, n = function (a) {
        return m(a) && a.indexOf("%") > 0
    }, o = function (a) {
        return a && !(a.style.overflow && "hidden" === a.style.overflow) && (a.clientWidth && a.scrollWidth > a.clientWidth || a.clientHeight && a.scrollHeight > a.clientHeight)
    }, p = function (a, b) {
        var c = parseInt(a, 10) || 0;
        return b && n(a) && (c = h.getViewport()[b] / 100 * c), Math.ceil(c)
    }, q = function (a, b) {
        return p(a, b) + "px"
    };
    c.extend(h, {
        version: "2.1.5",
        defaults: {
            padding: 15,
            margin: 20,
            width: 800,
            height: 600,
            minWidth: 100,
            minHeight: 100,
            maxWidth: 9999,
            maxHeight: 9999,
            pixelRatio: 1,
            autoSize: !0,
            autoHeight: !1,
            autoWidth: !1,
            autoResize: !0,
            autoCenter: !k,
            fitToView: !0,
            aspectRatio: !1,
            topRatio: .5,
            leftRatio: .5,
            scrolling: "auto",
            wrapCSS: "",
            arrows: !0,
            closeBtn: !0,
            closeClick: !1,
            nextClick: !1,
            mouseWheel: !0,
            autoPlay: !1,
            playSpeed: 3e3,
            preload: 3,
            modal: !1,
            loop: !0,
            ajax: {dataType: "html", headers: {"X-fancyBox": !0}},
            iframe: {scrolling: "auto", preload: !0},
            swf: {wmode: "transparent", allowfullscreen: "true", allowscriptaccess: "always"},
            keys: {
                next: {13: "left", 34: "up", 39: "left", 40: "up"},
                prev: {8: "right", 33: "down", 37: "right", 38: "down"},
                close: [27],
                play: [32],
                toggle: [70]
            },
            direction: {next: "left", prev: "right"},
            scrollOutside: !0,
            index: 0,
            type: null,
            href: null,
            content: null,
            title: null,
            tpl: {
                wrap: '<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',
                image: '<img class="fancybox-image" src="{href}" alt="" />',
                iframe: '<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen' + (i ? ' allowtransparency="true"' : "") + "></iframe>",
                error: '<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',
                closeBtn: '<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',
                next: '<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',
                prev: '<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'
            },
            openEffect: "fade",
            openSpeed: 250,
            openEasing: "swing",
            openOpacity: !0,
            openMethod: "zoomIn",
            closeEffect: "fade",
            closeSpeed: 250,
            closeEasing: "swing",
            closeOpacity: !0,
            closeMethod: "zoomOut",
            nextEffect: "elastic",
            nextSpeed: 250,
            nextEasing: "swing",
            nextMethod: "changeIn",
            prevEffect: "elastic",
            prevSpeed: 250,
            prevEasing: "swing",
            prevMethod: "changeOut",
            helpers: {overlay: !0, title: !0},
            onCancel: c.noop,
            beforeLoad: c.noop,
            afterLoad: c.noop,
            beforeShow: c.noop,
            afterShow: c.noop,
            beforeChange: c.noop,
            beforeClose: c.noop,
            afterClose: c.noop
        },
        group: {},
        opts: {},
        previous: null,
        coming: null,
        current: null,
        isActive: !1,
        isOpen: !1,
        isOpened: !1,
        wrap: null,
        skin: null,
        outer: null,
        inner: null,
        player: {timer: null, isActive: !1},
        ajaxLoad: null,
        imgPreload: null,
        transitions: {},
        helpers: {},
        open: function (a, b) {
            if (a && (c.isPlainObject(b) || (b = {}), !1 !== h.close(!0)))return c.isArray(a) || (a = l(a) ? c(a).get() : [a]), c.each(a, function (e, f) {
                var g, i, j, k, n, o, p, q = {};
                "object" === c.type(f) && (f.nodeType && (f = c(f)), l(f) ? (q = {
                    href: f.data("fancybox-href") || f.attr("href"),
                    title: f.data("fancybox-title") || f.attr("title"),
                    isDom: !0,
                    element: f
                }, c.metadata && c.extend(!0, q, f.metadata())) : q = f), g = b.href || q.href || (m(f) ? f : null), i = b.title !== d ? b.title : q.title || "", j = b.content || q.content, k = j ? "html" : b.type || q.type, !k && q.isDom && (k = f.data("fancybox-type"), k || (n = f.prop("class").match(/fancybox\.(\w+)/), k = n ? n[1] : null)), m(g) && (k || (h.isImage(g) ? k = "image" : h.isSWF(g) ? k = "swf" : "#" === g.charAt(0) ? k = "inline" : m(f) && (k = "html", j = f)), "ajax" === k && (o = g.split(/\s+/, 2), g = o.shift(), p = o.shift())), j || ("inline" === k ? g ? j = c(m(g) ? g.replace(/.*(?=#[^\s]+$)/, "") : g) : q.isDom && (j = f) : "html" === k ? j = g : k || g || !q.isDom || (k = "inline", j = f)), c.extend(q, {
                    href: g,
                    type: k,
                    content: j,
                    title: i,
                    selector: p
                }), a[e] = q
            }), h.opts = c.extend(!0, {}, h.defaults, b), b.keys !== d && (h.opts.keys = !!b.keys && c.extend({}, h.defaults.keys, b.keys)), h.group = a, h._start(h.opts.index)
        },
        cancel: function () {
            var a = h.coming;
            a && !1 !== h.trigger("onCancel") && (h.hideLoading(), h.ajaxLoad && h.ajaxLoad.abort(), h.ajaxLoad = null, h.imgPreload && (h.imgPreload.onload = h.imgPreload.onerror = null), a.wrap && a.wrap.stop(!0, !0).trigger("onReset").remove(), h.coming = null, h.current || h._afterZoomOut(a))
        },
        close: function (a) {
            h.cancel(), !1 !== h.trigger("beforeClose") && (h.unbindEvents(), h.isActive && (h.isOpen && a !== !0 ? (h.isOpen = h.isOpened = !1, h.isClosing = !0, c(".fancybox-item, .fancybox-nav").remove(), h.wrap.stop(!0, !0).removeClass("fancybox-opened"), h.transitions[h.current.closeMethod]()) : (c(".fancybox-wrap").stop(!0).trigger("onReset").remove(), h._afterZoomOut())))
        },
        play: function (a) {
            var b = function () {
                clearTimeout(h.player.timer)
            }, c = function () {
                b(), h.current && h.player.isActive && (h.player.timer = setTimeout(h.next, h.current.playSpeed))
            }, d = function () {
                b(), g.unbind(".player"), h.player.isActive = !1, h.trigger("onPlayEnd")
            }, e = function () {
                h.current && (h.current.loop || h.current.index < h.group.length - 1) && (h.player.isActive = !0, g.bind({
                    "onCancel.player beforeClose.player": d,
                    "onUpdate.player": c,
                    "beforeLoad.player": b
                }), c(), h.trigger("onPlayStart"))
            };
            a === !0 || !h.player.isActive && a !== !1 ? e() : d()
        },
        next: function (a) {
            var b = h.current;
            b && (m(a) || (a = b.direction.next), h.jumpto(b.index + 1, a, "next"))
        },
        prev: function (a) {
            var b = h.current;
            b && (m(a) || (a = b.direction.prev), h.jumpto(b.index - 1, a, "prev"))
        },
        jumpto: function (a, b, c) {
            var e = h.current;
            e && (a = p(a), h.direction = b || e.direction[a >= e.index ? "next" : "prev"], h.router = c || "jumpto", e.loop && (a < 0 && (a = e.group.length + a % e.group.length), a %= e.group.length), e.group[a] !== d && (h.cancel(), h._start(a)))
        },
        reposition: function (a, b) {
            var d, e = h.current, f = e ? e.wrap : null;
            f && (d = h._getPosition(b), a && "scroll" === a.type ? (delete d.position, f.stop(!0, !0).animate(d, 200)) : (f.css(d), e.pos = c.extend({}, e.dim, d)))
        },
        update: function (a) {
            var b = a && a.type, c = !b || "orientationchange" === b;
            c && (clearTimeout(j), j = null), h.isOpen && !j && (j = setTimeout(function () {
                var d = h.current;
                d && !h.isClosing && (h.wrap.removeClass("fancybox-tmp"), (c || "load" === b || "resize" === b && d.autoResize) && h._setDimension(), "scroll" === b && d.canShrink || h.reposition(a), h.trigger("onUpdate"), j = null)
            }, c && !k ? 0 : 300))
        },
        toggle: function (a) {
            h.isOpen && (h.current.fitToView = "boolean" === c.type(a) ? a : !h.current.fitToView, k && (h.wrap.removeAttr("style").addClass("fancybox-tmp"), h.trigger("onUpdate")), h.update())
        },
        hideLoading: function () {
            g.unbind(".loading"), c("#fancybox-loading").remove()
        },
        showLoading: function () {
            var a, b;
            h.hideLoading(), a = c('<div id="fancybox-loading"><div></div></div>').click(h.cancel).appendTo("body"), g.bind("keydown.loading", function (a) {
                27 === (a.which || a.keyCode) && (a.preventDefault(), h.cancel())
            }), h.defaults.fixed || (b = h.getViewport(), a.css({
                position: "absolute",
                top: .5 * b.h + b.y,
                left: .5 * b.w + b.x
            }))
        },
        getViewport: function () {
            var b = h.current && h.current.locked || !1, c = {x: f.scrollLeft(), y: f.scrollTop()};
            return b ? (c.w = b[0].clientWidth, c.h = b[0].clientHeight) : (c.w = k && a.innerWidth ? a.innerWidth : f.width(), c.h = k && a.innerHeight ? a.innerHeight : f.height()), c
        },
        unbindEvents: function () {
            h.wrap && l(h.wrap) && h.wrap.unbind(".fb"), g.unbind(".fb"), f.unbind(".fb")
        },
        bindEvents: function () {
            var a, b = h.current;
            b && (f.bind("orientationchange.fb" + (k ? "" : " resize.fb") + (b.autoCenter && !b.locked ? " scroll.fb" : ""), h.update), a = b.keys, a && g.bind("keydown.fb", function (e) {
                var f = e.which || e.keyCode, g = e.target || e.srcElement;
                return (27 !== f || !h.coming) && void(e.ctrlKey || e.altKey || e.shiftKey || e.metaKey || g && (g.type || c(g).is("[contenteditable]")) || c.each(a, function (a, g) {
                        return b.group.length > 1 && g[f] !== d ? (h[a](g[f]), e.preventDefault(), !1) : c.inArray(f, g) > -1 ? (h[a](), e.preventDefault(), !1) : void 0
                    }))
            }), c.fn.mousewheel && b.mouseWheel && h.wrap.bind("mousewheel.fb", function (a, d, e, f) {
                for (var g = a.target || null, i = c(g), j = !1; i.length && !(j || i.is(".fancybox-skin") || i.is(".fancybox-wrap"));)j = o(i[0]), i = c(i).parent();
                0 === d || j || h.group.length > 1 && !b.canShrink && (f > 0 || e > 0 ? h.prev(f > 0 ? "down" : "left") : (f < 0 || e < 0) && h.next(f < 0 ? "up" : "right"), a.preventDefault())
            }))
        },
        trigger: function (a, b) {
            var d, e = b || h.coming || h.current;
            if (e) {
                if (c.isFunction(e[a]) && (d = e[a].apply(e, Array.prototype.slice.call(arguments, 1))), d === !1)return !1;
                e.helpers && c.each(e.helpers, function (b, d) {
                    d && h.helpers[b] && c.isFunction(h.helpers[b][a]) && h.helpers[b][a](c.extend(!0, {}, h.helpers[b].defaults, d), e)
                }), g.trigger(a)
            }
        },
        isImage: function (a) {
            return m(a) && a.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)
        },
        isSWF: function (a) {
            return m(a) && a.match(/\.(swf)((\?|#).*)?$/i)
        },
        _start: function (a) {
            var b, d, e, f, g, i = {};
            if (a = p(a), b = h.group[a] || null, !b)return !1;
            if (i = c.extend(!0, {}, h.opts, b), f = i.margin, g = i.padding, "number" === c.type(f) && (i.margin = [f, f, f, f]), "number" === c.type(g) && (i.padding = [g, g, g, g]), i.modal && c.extend(!0, i, {
                    closeBtn: !1,
                    closeClick: !1,
                    nextClick: !1,
                    arrows: !1,
                    mouseWheel: !1,
                    keys: null,
                    helpers: {overlay: {closeClick: !1}}
                }), i.autoSize && (i.autoWidth = i.autoHeight = !0), "auto" === i.width && (i.autoWidth = !0), "auto" === i.height && (i.autoHeight = !0), i.group = h.group, i.index = a, h.coming = i, !1 === h.trigger("beforeLoad"))return void(h.coming = null);
            if (e = i.type, d = i.href, !e)return h.coming = null, !(!h.current || !h.router || "jumpto" === h.router) && (h.current.index = a, h[h.router](h.direction));
            if (h.isActive = !0, "image" !== e && "swf" !== e || (i.autoHeight = i.autoWidth = !1, i.scrolling = "visible"), "image" === e && (i.aspectRatio = !0), "iframe" === e && k && (i.scrolling = "scroll"), i.wrap = c(i.tpl.wrap).addClass("fancybox-" + (k ? "mobile" : "desktop") + " fancybox-type-" + e + " fancybox-tmp " + i.wrapCSS).appendTo(i.parent || "body"), c.extend(i, {
                    skin: c(".fancybox-skin", i.wrap),
                    outer: c(".fancybox-outer", i.wrap),
                    inner: c(".fancybox-inner", i.wrap)
                }), c.each(["Top", "Right", "Bottom", "Left"], function (a, b) {
                    i.skin.css("padding" + b, q(i.padding[a]))
                }), h.trigger("onReady"), "inline" === e || "html" === e) {
                if (!i.content || !i.content.length)return h._error("content")
            } else if (!d)return h._error("href");
            "image" === e ? h._loadImage() : "ajax" === e ? h._loadAjax() : "iframe" === e ? h._loadIframe() : h._afterLoad()
        },
        _error: function (a) {
            c.extend(h.coming, {
                type: "html",
                autoWidth: !0,
                autoHeight: !0,
                minWidth: 0,
                minHeight: 0,
                scrolling: "no",
                hasError: a,
                content: h.coming.tpl.error
            }), h._afterLoad()
        },
        _loadImage: function () {
            var a = h.imgPreload = new Image;
            a.onload = function () {
                this.onload = this.onerror = null, h.coming.width = this.width / h.opts.pixelRatio, h.coming.height = this.height / h.opts.pixelRatio, h._afterLoad()
            }, a.onerror = function () {
                this.onload = this.onerror = null, h._error("image")
            }, a.src = h.coming.href, a.complete !== !0 && h.showLoading()
        },
        _loadAjax: function () {
            var a = h.coming;
            h.showLoading(), h.ajaxLoad = c.ajax(c.extend({}, a.ajax, {
                url: a.href, error: function (a, b) {
                    h.coming && "abort" !== b ? h._error("ajax", a) : h.hideLoading()
                }, success: function (b, c) {
                    "success" === c && (a.content = b, h._afterLoad())
                }
            }))
        },
        _loadIframe: function () {
            var a = h.coming, b = c(a.tpl.iframe.replace(/\{rnd\}/g, (new Date).getTime())).attr("scrolling", k ? "auto" : a.iframe.scrolling).attr("src", a.href);
            c(a.wrap).bind("onReset", function () {
                try {
                    c(this).find("iframe").hide().attr("src", "//about:blank").end().empty()
                } catch (a) {
                }
            }), a.iframe.preload && (h.showLoading(), b.one("load", function () {
                c(this).data("ready", 1), k || c(this).bind("load.fb", h.update), c(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(), h._afterLoad()
            })), a.content = b.appendTo(a.inner), a.iframe.preload || h._afterLoad()
        },
        _preloadImages: function () {
            var a, b, c = h.group, d = h.current, e = c.length, f = d.preload ? Math.min(d.preload, e - 1) : 0;
            for (b = 1; b <= f; b += 1)a = c[(d.index + b) % e], "image" === a.type && a.href && ((new Image).src = a.href)
        },
        _afterLoad: function () {
            var a, b, d, e, f, g, i = h.coming, j = h.current, k = "fancybox-placeholder";
            if (h.hideLoading(), i && h.isActive !== !1) {
                if (!1 === h.trigger("afterLoad", i, j))return i.wrap.stop(!0).trigger("onReset").remove(), void(h.coming = null);
                switch (j && (h.trigger("beforeChange", j), j.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()), h.unbindEvents(), a = i, b = i.content, d = i.type, e = i.scrolling, c.extend(h, {
                    wrap: a.wrap,
                    skin: a.skin,
                    outer: a.outer,
                    inner: a.inner,
                    current: a,
                    previous: j
                }), f = a.href, d) {
                    case"inline":
                    case"ajax":
                    case"html":
                        a.selector ? b = c("<div>").html(b).find(a.selector) : l(b) && (b.data(k) || b.data(k, c('<div class="' + k + '"></div>').insertAfter(b).hide()), b = b.show().detach(), a.wrap.bind("onReset", function () {
                            c(this).find(b).length && b.hide().replaceAll(b.data(k)).data(k, !1)
                        }));
                        break;
                    case"image":
                        b = a.tpl.image.replace("{href}", f);
                        break;
                    case"swf":
                        b = '<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="' + f + '"></param>', g = "", c.each(a.swf, function (a, c) {
                            b += '<param name="' + a + '" value="' + c + '"></param>', g += " " + a + '="' + c + '"'
                        }), b += '<embed src="' + f + '" type="application/x-shockwave-flash" width="100%" height="100%"' + g + "></embed></object>"
                }
                l(b) && b.parent().is(a.inner) || a.inner.append(b), h.trigger("beforeShow"), a.inner.css("overflow", "yes" === e ? "scroll" : "no" === e ? "hidden" : e), h._setDimension(), h.reposition(), h.isOpen = !1, h.coming = null, h.bindEvents(), h.isOpened ? j.prevMethod && h.transitions[j.prevMethod]() : c(".fancybox-wrap").not(a.wrap).stop(!0).trigger("onReset").remove(), h.transitions[h.isOpened ? a.nextMethod : a.openMethod](), h._preloadImages()
            }
        },
        _setDimension: function () {
            var a, b, d, e, f, g, i, j, k, l, m, o, r, s, t, u = h.getViewport(), v = 0, w = !1, x = !1, y = h.wrap, z = h.skin, A = h.inner, B = h.current, C = B.width, D = B.height, E = B.minWidth, F = B.minHeight, G = B.maxWidth, H = B.maxHeight, I = B.scrolling, J = B.scrollOutside ? B.scrollbarWidth : 0, K = B.margin, L = p(K[1] + K[3]), M = p(K[0] + K[2]);
            if (y.add(z).add(A).width("auto").height("auto").removeClass("fancybox-tmp"),
                    a = p(z.outerWidth(!0) - z.width()), b = p(z.outerHeight(!0) - z.height()), d = L + a, e = M + b, f = n(C) ? (u.w - d) * p(C) / 100 : C, g = n(D) ? (u.h - e) * p(D) / 100 : D, "iframe" === B.type) {
                if (s = B.content, B.autoHeight && 1 === s.data("ready"))try {
                    s[0].contentWindow.document.location && (A.width(f).height(9999), t = s.contents().find("body"), J && t.css("overflow-x", "hidden"), g = t.outerHeight(!0))
                } catch (a) {
                }
            } else(B.autoWidth || B.autoHeight) && (A.addClass("fancybox-tmp"), B.autoWidth || A.width(f), B.autoHeight || A.height(g), B.autoWidth && (f = A.width()), B.autoHeight && (g = A.height()), A.removeClass("fancybox-tmp"));
            if (C = p(f), D = p(g), k = f / g, E = p(n(E) ? p(E, "w") - d : E), G = p(n(G) ? p(G, "w") - d : G), F = p(n(F) ? p(F, "h") - e : F), H = p(n(H) ? p(H, "h") - e : H), i = G, j = H, B.fitToView && (G = Math.min(u.w - d, G), H = Math.min(u.h - e, H)), o = u.w - L, r = u.h - M, B.aspectRatio ? (C > G && (C = G, D = p(C / k)), D > H && (D = H, C = p(D * k)), C < E && (C = E, D = p(C / k)), D < F && (D = F, C = p(D * k))) : (C = Math.max(E, Math.min(C, G)), B.autoHeight && "iframe" !== B.type && (A.width(C), D = A.height()), D = Math.max(F, Math.min(D, H))), B.fitToView)if (A.width(C).height(D), y.width(C + a), l = y.width(), m = y.height(), B.aspectRatio)for (; (l > o || m > r) && C > E && D > F && !(v++ > 19);)D = Math.max(F, Math.min(H, D - 10)), C = p(D * k), C < E && (C = E, D = p(C / k)), C > G && (C = G, D = p(C / k)), A.width(C).height(D), y.width(C + a), l = y.width(), m = y.height(); else C = Math.max(E, Math.min(C, C - (l - o))), D = Math.max(F, Math.min(D, D - (m - r)));
            J && "auto" === I && D < g && C + a + J < o && (C += J), A.width(C).height(D), y.width(C + a), l = y.width(), m = y.height(), w = (l > o || m > r) && C > E && D > F, x = B.aspectRatio ? C < i && D < j && C < f && D < g : (C < i || D < j) && (C < f || D < g), c.extend(B, {
                dim: {
                    width: q(l),
                    height: q(m)
                },
                origWidth: f,
                origHeight: g,
                canShrink: w,
                canExpand: x,
                wPadding: a,
                hPadding: b,
                wrapSpace: m - z.outerHeight(!0),
                skinSpace: z.height() - D
            }), !s && B.autoHeight && D > F && D < H && !x && A.height("auto")
        },
        _getPosition: function (a) {
            var b = h.current, c = h.getViewport(), d = b.margin, e = h.wrap.width() + d[1] + d[3], f = h.wrap.height() + d[0] + d[2], g = {
                position: "absolute",
                top: d[0],
                left: d[3]
            };
            return b.autoCenter && b.fixed && !a && f <= c.h && e <= c.w ? g.position = "fixed" : b.locked || (g.top += c.y, g.left += c.x), g.top = q(Math.max(g.top, g.top + (c.h - f) * b.topRatio)), g.left = q(Math.max(g.left, g.left + (c.w - e) * b.leftRatio)), g
        },
        _afterZoomIn: function () {
            var a = h.current;
            a && (h.isOpen = h.isOpened = !0, h.wrap.css("overflow", "visible").addClass("fancybox-opened"), h.update(), (a.closeClick || a.nextClick && h.group.length > 1) && h.inner.css("cursor", "pointer").bind("click.fb", function (b) {
                c(b.target).is("a") || c(b.target).parent().is("a") || (b.preventDefault(), h[a.closeClick ? "close" : "next"]())
            }), a.closeBtn && c(a.tpl.closeBtn).appendTo(h.skin).bind("click.fb", function (a) {
                a.preventDefault(), h.close()
            }), a.arrows && h.group.length > 1 && ((a.loop || a.index > 0) && c(a.tpl.prev).appendTo(h.outer).bind("click.fb", h.prev), (a.loop || a.index < h.group.length - 1) && c(a.tpl.next).appendTo(h.outer).bind("click.fb", h.next)), h.trigger("afterShow"), a.loop || a.index !== a.group.length - 1 ? h.opts.autoPlay && !h.player.isActive && (h.opts.autoPlay = !1, h.play()) : h.play(!1))
        },
        _afterZoomOut: function (a) {
            a = a || h.current, c(".fancybox-wrap").trigger("onReset").remove(), c.extend(h, {
                group: {},
                opts: {},
                router: !1,
                current: null,
                isActive: !1,
                isOpened: !1,
                isOpen: !1,
                isClosing: !1,
                wrap: null,
                skin: null,
                outer: null,
                inner: null
            }), h.trigger("afterClose", a)
        }
    }), h.transitions = {
        getOrigPosition: function () {
            var a = h.current, b = a.element, c = a.orig, d = {}, e = 50, f = 50, g = a.hPadding, i = a.wPadding, j = h.getViewport();
            return !c && a.isDom && b.is(":visible") && (c = b.find("img:first"), c.length || (c = b)), l(c) ? (d = c.offset(), c.is("img") && (e = c.outerWidth(), f = c.outerHeight())) : (d.top = j.y + (j.h - f) * a.topRatio, d.left = j.x + (j.w - e) * a.leftRatio), ("fixed" === h.wrap.css("position") || a.locked) && (d.top -= j.y, d.left -= j.x), d = {
                top: q(d.top - g * a.topRatio),
                left: q(d.left - i * a.leftRatio),
                width: q(e + i),
                height: q(f + g)
            }
        }, step: function (a, b) {
            var c, d, e, f = b.prop, g = h.current, i = g.wrapSpace, j = g.skinSpace;
            "width" !== f && "height" !== f || (c = b.end === b.start ? 1 : (a - b.start) / (b.end - b.start), h.isClosing && (c = 1 - c), d = "width" === f ? g.wPadding : g.hPadding, e = a - d, h.skin[f](p("width" === f ? e : e - i * c)), h.inner[f](p("width" === f ? e : e - i * c - j * c)))
        }, zoomIn: function () {
            var a = h.current, b = a.pos, d = a.openEffect, e = "elastic" === d, f = c.extend({opacity: 1}, b);
            delete f.position, e ? (b = this.getOrigPosition(), a.openOpacity && (b.opacity = .1)) : "fade" === d && (b.opacity = .1), h.wrap.css(b).animate(f, {
                duration: "none" === d ? 0 : a.openSpeed,
                easing: a.openEasing,
                step: e ? this.step : null,
                complete: h._afterZoomIn
            })
        }, zoomOut: function () {
            var a = h.current, b = a.closeEffect, c = "elastic" === b, d = {opacity: .1};
            c && (d = this.getOrigPosition(), a.closeOpacity && (d.opacity = .1)), h.wrap.animate(d, {
                duration: "none" === b ? 0 : a.closeSpeed,
                easing: a.closeEasing,
                step: c ? this.step : null,
                complete: h._afterZoomOut
            })
        }, changeIn: function () {
            var a, b = h.current, c = b.nextEffect, d = b.pos, e = {opacity: 1}, f = h.direction, g = 200;
            d.opacity = .1, "elastic" === c && (a = "down" === f || "up" === f ? "top" : "left", "down" === f || "right" === f ? (d[a] = q(p(d[a]) - g), e[a] = "+=" + g + "px") : (d[a] = q(p(d[a]) + g), e[a] = "-=" + g + "px")), "none" === c ? h._afterZoomIn() : h.wrap.css(d).animate(e, {
                duration: b.nextSpeed,
                easing: b.nextEasing,
                complete: h._afterZoomIn
            })
        }, changeOut: function () {
            var a = h.previous, b = a.prevEffect, d = {opacity: .1}, e = h.direction, f = 200;
            "elastic" === b && (d["down" === e || "up" === e ? "top" : "left"] = ("up" === e || "left" === e ? "-" : "+") + "=" + f + "px"), a.wrap.animate(d, {
                duration: "none" === b ? 0 : a.prevSpeed,
                easing: a.prevEasing,
                complete: function () {
                    c(this).trigger("onReset").remove()
                }
            })
        }
    }, h.helpers.overlay = {
        defaults: {closeClick: !0, speedOut: 200, showEarly: !0, css: {}, locked: !k, fixed: !0},
        overlay: null,
        fixed: !1,
        el: c("html"),
        create: function (a) {
            a = c.extend({}, this.defaults, a), this.overlay && this.close(), this.overlay = c('<div class="fancybox-overlay"></div>').appendTo(h.coming ? h.coming.parent : a.parent), this.fixed = !1, a.fixed && h.defaults.fixed && (this.overlay.addClass("fancybox-overlay-fixed"), this.fixed = !0)
        },
        open: function (a) {
            var b = this;
            a = c.extend({}, this.defaults, a), this.overlay ? this.overlay.unbind(".overlay").width("auto").height("auto") : this.create(a), this.fixed || (f.bind("resize.overlay", c.proxy(this.update, this)), this.update()), a.closeClick && this.overlay.bind("click.overlay", function (a) {
                if (c(a.target).hasClass("fancybox-overlay"))return h.isActive ? h.close() : b.close(), !1
            }), this.overlay.css(a.css).show()
        },
        close: function () {
            var a, b;
            f.unbind("resize.overlay"), this.el.hasClass("fancybox-lock") && (c(".fancybox-margin").removeClass("fancybox-margin"), a = f.scrollTop(), b = f.scrollLeft(), this.el.removeClass("fancybox-lock"), f.scrollTop(a).scrollLeft(b)), c(".fancybox-overlay").remove().hide(), c.extend(this, {
                overlay: null,
                fixed: !1
            })
        },
        update: function () {
            var a, c = "100%";
            this.overlay.width(c).height("100%"), i ? (a = Math.max(b.documentElement.offsetWidth, b.body.offsetWidth), g.width() > a && (c = g.width())) : g.width() > f.width() && (c = g.width()), this.overlay.width(c).height(g.height())
        },
        onReady: function (a, b) {
            var d = this.overlay;
            c(".fancybox-overlay").stop(!0, !0), d || this.create(a), a.locked && this.fixed && b.fixed && (d || (this.margin = g.height() > f.height() && c("html").css("margin-right").replace("px", "")), b.locked = this.overlay.append(b.wrap), b.fixed = !1), a.showEarly === !0 && this.beforeShow.apply(this, arguments)
        },
        beforeShow: function (a, b) {
            var d, e;
            b.locked && (this.margin !== !1 && (c("*").filter(function () {
                return "fixed" === c(this).css("position") && !c(this).hasClass("fancybox-overlay") && !c(this).hasClass("fancybox-wrap")
            }).addClass("fancybox-margin"), this.el.addClass("fancybox-margin")), d = f.scrollTop(), e = f.scrollLeft(), this.el.addClass("fancybox-lock"), f.scrollTop(d).scrollLeft(e)), this.open(a)
        },
        onUpdate: function () {
            this.fixed || this.update()
        },
        afterClose: function (a) {
            this.overlay && !h.coming && this.overlay.fadeOut(a.speedOut, c.proxy(this.close, this))
        }
    }, h.helpers.title = {
        defaults: {type: "float", position: "bottom"}, beforeShow: function (a) {
            var b, d, e = h.current, f = e.title, g = a.type;
            if (c.isFunction(f) && (f = f.call(e.element, e)), m(f) && "" !== c.trim(f)) {
                switch (b = c('<div class="fancybox-title fancybox-title-' + g + '-wrap">' + f + "</div>"), g) {
                    case"inside":
                        d = h.skin;
                        break;
                    case"outside":
                        d = h.wrap;
                        break;
                    case"over":
                        d = h.inner;
                        break;
                    default:
                        d = h.skin, b.appendTo("body"), i && b.width(b.width()), b.wrapInner('<span class="child"></span>'), h.current.margin[2] += Math.abs(p(b.css("margin-bottom")))
                }
                b["top" === a.position ? "prependTo" : "appendTo"](d)
            }
        }
    }, c.fn.fancybox = function (a) {
        var b, d = c(this), e = this.selector || "", f = function (f) {
            var g, i, j = c(this).blur(), k = b;
            f.ctrlKey || f.altKey || f.shiftKey || f.metaKey || j.is(".fancybox-wrap") || (g = a.groupAttr || "data-fancybox-group", i = j.attr(g), i || (g = "rel", i = j.get(0)[g]), i && "" !== i && "nofollow" !== i && (j = e.length ? c(e) : d, j = j.filter("[" + g + '="' + i + '"]'), k = j.index(this)), a.index = k, h.open(j, a) !== !1 && f.preventDefault())
        };
        return a = a || {}, b = a.index || 0, e && a.live !== !1 ? g.undelegate(e, "click.fb-start").delegate(e + ":not('.fancybox-item, .fancybox-nav')", "click.fb-start", f) : d.unbind("click.fb-start").bind("click.fb-start", f), this.filter("[data-fancybox-start=1]").trigger("click"), this
    }, g.ready(function () {
        var b, f;
        c.scrollbarWidth === d && (c.scrollbarWidth = function () {
            var a = c('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"), b = a.children(), d = b.innerWidth() - b.height(99).innerWidth();
            return a.remove(), d
        }), c.support.fixedPosition === d && (c.support.fixedPosition = function () {
            var a = c('<div style="position:fixed;top:20px;"></div>').appendTo("body"), b = 20 === a[0].offsetTop || 15 === a[0].offsetTop;
            return a.remove(), b
        }()), c.extend(h.defaults, {
            scrollbarWidth: c.scrollbarWidth(),
            fixed: c.support.fixedPosition,
            parent: c("body")
        }), b = c(a).width(), e.addClass("fancybox-lock-test"), f = c(a).width(), e.removeClass("fancybox-lock-test"), c("<style type='text/css'>.fancybox-margin{margin-right:" + (f - b) + "px;}</style>").appendTo("head")
    })
}(window, document, jQuery), function (a) {
    var b = a.fancybox;
    b.helpers.buttons = {
        defaults: {
            skipSingle: !1,
            position: "top",
            tpl: '<div id="fancybox-buttons"><ul><li><a class="btnPrev" title="Previous" href="javascript:;"></a></li><li><a class="btnPlay" title="Start slideshow" href="javascript:;"></a></li><li><a class="btnNext" title="Next" href="javascript:;"></a></li><li><a class="btnToggle" title="Toggle size" href="javascript:;"></a></li><li><a class="btnClose" title="Close" href="javascript:;"></a></li></ul></div>'
        }, list: null, buttons: null, beforeLoad: function (a, b) {
            return a.skipSingle && b.group.length < 2 ? (b.helpers.buttons = !1, void(b.closeBtn = !0)) : void(b.margin["bottom" === a.position ? 2 : 0] += 30)
        }, onPlayStart: function () {
            this.buttons && this.buttons.play.attr("title", "Pause slideshow").addClass("btnPlayOn")
        }, onPlayEnd: function () {
            this.buttons && this.buttons.play.attr("title", "Start slideshow").removeClass("btnPlayOn")
        }, afterShow: function (c, d) {
            var e = this.buttons;
            e || (this.list = a(c.tpl).addClass(c.position).appendTo("body"), e = {
                prev: this.list.find(".btnPrev").click(b.prev),
                next: this.list.find(".btnNext").click(b.next),
                play: this.list.find(".btnPlay").click(b.play),
                toggle: this.list.find(".btnToggle").click(b.toggle),
                close: this.list.find(".btnClose").click(b.close)
            }), d.index > 0 || d.loop ? e.prev.removeClass("btnDisabled") : e.prev.addClass("btnDisabled"), d.loop || d.index < d.group.length - 1 ? (e.next.removeClass("btnDisabled"), e.play.removeClass("btnDisabled")) : (e.next.addClass("btnDisabled"), e.play.addClass("btnDisabled")), this.buttons = e, this.onUpdate(c, d)
        }, onUpdate: function (a, b) {
            var c;
            this.buttons && (c = this.buttons.toggle.removeClass("btnDisabled btnToggleOn"), b.canShrink ? c.addClass("btnToggleOn") : b.canExpand || c.addClass("btnDisabled"))
        }, beforeClose: function () {
            this.list && this.list.remove(), this.list = null, this.buttons = null
        }
    }
}(jQuery), function (a) {
    var b = a.fancybox;
    b.helpers.thumbs = {
        defaults: {
            width: 50, height: 50, position: "bottom", source: function (b) {
                var c;
                return b.element && (c = a(b.element).find("img").attr("src")), !c && "image" === b.type && b.href && (c = b.href), c
            }
        }, wrap: null, list: null, width: 0, init: function (b, c) {
            var d, e = this, f = b.width, g = b.height, h = b.source;
            d = "";
            for (var i = 0; i < c.group.length; i++)d += '<li><a style="width:' + f + "px;height:" + g + 'px;" href="javascript:jQuery.fancybox.jumpto(' + i + ');"></a></li>';
            this.wrap = a('<div id="fancybox-thumbs"></div>').addClass(b.position).appendTo("body"), this.list = a("<ul>" + d + "</ul>").appendTo(this.wrap), a.each(c.group, function (b) {
                var d = h(c.group[b]);
                d && a("<img />").load(function () {
                    var c, d, h, i = this.width, j = this.height;
                    e.list && i && j && (c = i / f, d = j / g, h = e.list.children().eq(b).find("a"), c >= 1 && d >= 1 && (c > d ? (i = Math.floor(i / d), j = g) : (i = f, j = Math.floor(j / c))), a(this).css({
                        width: i,
                        height: j,
                        top: Math.floor(g / 2 - j / 2),
                        left: Math.floor(f / 2 - i / 2)
                    }), h.width(f).height(g), a(this).hide().appendTo(h).fadeIn(300))
                }).attr("src", d)
            }), this.width = this.list.children().eq(0).outerWidth(!0), this.list.width(this.width * (c.group.length + 1)).css("left", Math.floor(.5 * a(window).width() - (c.index * this.width + .5 * this.width)))
        }, beforeLoad: function (a, b) {
            return b.group.length < 2 ? void(b.helpers.thumbs = !1) : void(b.margin["top" === a.position ? 0 : 2] += a.height + 15)
        }, afterShow: function (a, b) {
            this.list ? this.onUpdate(a, b) : this.init(a, b), this.list.children().removeClass("active").eq(b.index).addClass("active")
        }, onUpdate: function (b, c) {
            this.list && this.list.stop(!0).animate({left: Math.floor(.5 * a(window).width() - (c.index * this.width + .5 * this.width))}, 150)
        }, beforeClose: function () {
            this.wrap && this.wrap.remove(), this.wrap = null, this.list = null, this.width = 0
        }
    }
}(jQuery), function (a) {
    "use strict";
    var b = a.fancybox, c = function (b, c, d) {
        return d = d || "", "object" === a.type(d) && (d = a.param(d, !0)), a.each(c, function (a, c) {
            b = b.replace("$" + a, c || "")
        }), d.length && (b += (b.indexOf("?") > 0 ? "&" : "?") + d), b
    };
    b.helpers.media = {
        defaults: {
            youtube: {
                matcher: /(youtube\.com|youtu\.be|youtube-nocookie\.com)\/(watch\?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*)).*/i,
                params: {autoplay: 1, autohide: 1, fs: 1, rel: 0, hd: 1, wmode: "opaque", enablejsapi: 1},
                type: "iframe",
                url: "//www.youtube.com/embed/$3"
            },
            vimeo: {
                matcher: /(?:vimeo(?:pro)?.com)\/(?:[^\d]+)?(\d+)(?:.*)/,
                params: {autoplay: 1, hd: 1, show_title: 1, show_byline: 1, show_portrait: 0, fullscreen: 1},
                type: "iframe",
                url: "//player.vimeo.com/video/$1"
            },
            metacafe: {
                matcher: /metacafe.com\/(?:watch|fplayer)\/([\w\-]{1,10})/,
                params: {autoPlay: "yes"},
                type: "swf",
                url: function (b, c, d) {
                    return d.swf.flashVars = "playerVars=" + a.param(c, !0), "//www.metacafe.com/fplayer/" + b[1] + "/.swf"
                }
            },
            dailymotion: {
                matcher: /dailymotion.com\/video\/(.*)\/?(.*)/,
                params: {additionalInfos: 0, autoStart: 1},
                type: "swf",
                url: "//www.dailymotion.com/swf/video/$1"
            },
            twitvid: {
                matcher: /twitvid\.com\/([a-zA-Z0-9_\-\?\=]+)/i,
                params: {autoplay: 0},
                type: "iframe",
                url: "//www.twitvid.com/embed.php?guid=$1"
            },
            twitpic: {
                matcher: /twitpic\.com\/(?!(?:place|photos|events)\/)([a-zA-Z0-9\?\=\-]+)/i,
                type: "image",
                url: "//twitpic.com/show/full/$1/"
            },
            instagram: {
                matcher: /(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,
                type: "image",
                url: "//$1/p/$2/media/?size=l"
            },
            google_maps: {
                matcher: /maps\.google\.([a-z]{2,3}(\.[a-z]{2})?)\/(\?ll=|maps\?)(.*)/i,
                type: "iframe",
                url: function (a) {
                    return "//maps.google." + a[1] + "/" + a[3] + a[4] + "&output=" + (a[4].indexOf("layer=c") > 0 ? "svembed" : "embed")
                }
            }
        }, beforeLoad: function (b, d) {
            var e, f, g, h, i = d.href || "", j = !1;
            for (e in b)if (b.hasOwnProperty(e) && (f = b[e], g = i.match(f.matcher))) {
                j = f.type, h = a.extend(!0, {}, f.params, d[e] || (a.isPlainObject(b[e]) ? b[e].params : null)), i = "function" === a.type(f.url) ? f.url.call(this, g, h, d) : c(f.url, g, h);
                break
            }
            j && (d.href = i, d.type = j, d.autoHeight = !1)
        }
    }
}(jQuery), Sanitize.REGEX_PROTOCOL = /^([A-Za-z0-9\+\-\.\&\;\*\s]*?)(?:\:|&*0*58|&*x0*3a)/i, Sanitize.RELATIVE = "__RELATIVE__", Sanitize.ALL = "__ALL__", Sanitize.prototype.clean_node = function (a) {
    function b(a, b) {
        var c;
        for (c = 0; c < b.length; c++)if (b[c] == a)return c;
        return -1
    }

    function c() {
        var a, b, c = [], d = {};
        for (a = 0; a < arguments.length; a++)if (arguments[a] && arguments[a].length)for (b = 0; b < arguments[a].length; b++)d[arguments[a][b]] || (d[arguments[a][b]] = !0, c.push(arguments[a][b]));
        return c
    }

    function d(a) {
        var b;
        switch (a.nodeType) {
            case 1:
                e.call(this, a);
                break;
            case 3:
                b = a.cloneNode(!1), this.current_element.appendChild(b);
                break;
            case 5:
                b = a.cloneNode(!1), this.current_element.appendChild(b);
                break;
            case 8:
                this.config.allow_comments && (b = a.cloneNode(!1), this.current_element.appendChild(b));
                break;
            default:
                console && console.log && console.log("unknown node type", a.nodeType)
        }
    }

    function e(a) {
        var e, g, h, i, j, k, l, m, n, o, p = f.call(this, a);
        if (a = p.node, h = a.nodeName.toLowerCase(), g = this.current_element, this.allowed_elements[h] || p.whitelist) {
            this.current_element = this.dom.createElement(a.nodeName), g.appendChild(this.current_element);
            var q = this.config.attributes;
            for (i = c(q[h], q[Sanitize.ALL], p.attr_whitelist), e = 0; e < i.length; e++)k = i[e], j = a.attributes[k], j && (o = !0, this.config.protocols[h] && this.config.protocols[h][k] && (m = this.config.protocols[h][k], n = j.value.toLowerCase().match(Sanitize.REGEX_PROTOCOL), o = n ? b(n[1], m) != -1 : b(Sanitize.RELATIVE, m) != -1), o && (l = document.createAttribute(k), l.value = j.value, this.current_element.setAttributeNode(l)));
            if (this.config.add_attributes[h])for (k in this.config.add_attributes[h])l = document.createAttribute(k), l.value = this.config.add_attributes[h][k], this.current_element.setAttributeNode(l)
        } else if (b(a, this.whitelist_nodes) != -1) {
            for (this.current_element = a.cloneNode(!0); this.current_element.childNodes.length > 0;)this.current_element.removeChild(this.current_element.firstChild);
            g.appendChild(this.current_element)
        }
        if (!this.config.remove_all_contents && !this.config.remove_element_contents[h])for (e = 0; e < a.childNodes.length; e++)d.call(this, a.childNodes[e]);
        this.current_element.normalize && this.current_element.normalize(), this.current_element = g
    }

    function f(a) {
        var d, e, f, g = {attr_whitelist: [], node: a, whitelist: !1};
        for (d = 0; d < this.transformers.length; d++)if (f = this.transformers[d]({
                allowed_elements: this.allowed_elements,
                config: this.config,
                node: a,
                node_name: a.nodeName.toLowerCase(),
                whitelist_nodes: this.whitelist_nodes,
                dom: this.dom
            }), null != f) {
            if ("object" != typeof f)throw new Error("transformer output must be an object or null");
            if (f.whitelist_nodes && f.whitelist_nodes instanceof Array)for (e = 0; e < f.whitelist_nodes.length; e++)b(f.whitelist_nodes[e], this.whitelist_nodes) == -1 && this.whitelist_nodes.push(f.whitelist_nodes[e]);
            g.whitelist = !!f.whitelist, f.attr_whitelist && (g.attr_whitelist = c(g.attr_whitelist, f.attr_whitelist)), g.node = f.node ? f.node : g.node
        }
        return g
    }

    var g = this.dom.createDocumentFragment();
    for (this.current_element = g, this.whitelist_nodes = [], i = 0; i < a.childNodes.length; i++)d.call(this, a.childNodes[i]);
    return g.normalize && g.normalize(), g
}, "function" == typeof define && define("sanitize", [], function () {
    return Sanitize
}), Sanitize.Config || (Sanitize.Config = {}), Sanitize.Config.BASIC = {
    elements: ["a", "b", "blockquote", "br", "cite", "code", "dd", "dl", "dt", "em", "i", "li", "ol", "p", "pre", "q", "small", "strike", "strong", "sub", "sup", "u", "ul"],
    attributes: {a: ["href"], blockquote: ["cite"], q: ["cite"]},
    add_attributes: {a: {rel: "nofollow"}},
    protocols: {
        a: {href: ["ftp", "http", "https", "mailto", Sanitize.RELATIVE]},
        blockquote: {cite: ["http", "https", Sanitize.RELATIVE]},
        q: {cite: ["http", "https", Sanitize.RELATIVE]}
    }
}, Sanitize.Config.RELAXED = {
    elements: ["a", "b", "blockquote", "br", "caption", "cite", "code", "col", "colgroup", "dd", "dl", "dt", "em", "hr", "h1", "h2", "h3", "h4", "h5", "h6", "i", "img", "li", "ol", "p", "pre", "q", "small", "strike", "strong", "del", "sub", "sup", "table", "tbody", "td", "tfoot", "th", "thead", "tr", "u", "ul", "div", "span"],
    attributes: {
        a: ["href", "title"],
        blockquote: ["cite"],
        col: ["span", "width"],
        colgroup: ["span", "width"],
        img: ["align", "alt", "height", "src", "title", "width", "class"],
        ol: ["start", "type"],
        q: ["cite"],
        table: ["summary", "width"],
        td: ["abbr", "axis", "colspan", "rowspan", "width", "align"],
        th: ["abbr", "axis", "colspan", "rowspan", "scope", "width", "align"],
        ul: ["type"],
        div: ["class"],
        span: ["class"],
        hr: [""]
    },
    protocols: {
        a: {href: ["ftp", "http", "https", "mailto", Sanitize.RELATIVE]},
        blockquote: {cite: ["http", "https", Sanitize.RELATIVE]},
        img: {src: ["http", "https", Sanitize.RELATIVE]},
        q: {cite: ["http", "https", Sanitize.RELATIVE]}
    }
}, Sanitize.Config.RESTRICTED = {elements: ["b", "em", "i", "strong", "u"]}, function a(b, c, d) {
    function e(g, h) {
        if (!c[g]) {
            if (!b[g]) {
                var i = "function" == typeof require && require;
                if (!h && i)return i(g, !0);
                if (f)return f(g, !0);
                var j = new Error("Cannot find module '" + g + "'");
                throw j.code = "MODULE_NOT_FOUND", j
            }
            var k = c[g] = {exports: {}};
            b[g][0].call(k.exports, function (a) {
                var c = b[g][1][a];
                return e(c ? c : a)
            }, k, k.exports, a, b, c, d)
        }
        return c[g].exports
    }

    for (var f = "function" == typeof require && require, g = 0; g < d.length; g++)e(d[g]);
    return e
}({
    1: [function (a, b, c) {
        function d() {
            return {
                a: ["target", "href", "title"],
                abbr: ["title"],
                address: [],
                area: ["shape", "coords", "href", "alt"],
                article: [],
                aside: [],
                audio: ["autoplay", "controls", "loop", "preload", "src"],
                b: [],
                bdi: ["dir"],
                bdo: ["dir"],
                big: [],
                blockquote: ["cite"],
                br: [],
                caption: [],
                center: [],
                cite: [],
                code: [],
                col: ["align", "valign", "span", "width"],
                colgroup: ["align", "valign", "span", "width"],
                dd: [],
                del: ["datetime"],
                details: ["open"],
                div: [],
                dl: [],
                dt: [],
                em: [],
                font: ["color", "size", "face"],
                footer: [],
                h1: [],
                h2: [],
                h3: [],
                h4: [],
                h5: [],
                h6: [],
                header: [],
                hr: [],
                i: [],
                img: ["src", "alt", "title", "width", "height"],
                ins: ["datetime"],
                li: [],
                mark: [],
                nav: [],
                ol: [],
                p: [],
                pre: [],
                s: [],
                section: [],
                small: [],
                span: [],
                sub: [],
                sup: [],
                strong: [],
                table: ["width", "border", "align", "valign"],
                tbody: ["align", "valign"],
                td: ["width", "colspan", "align", "valign"],
                tfoot: ["align", "valign"],
                th: ["width", "colspan", "align", "valign"],
                thead: ["align", "valign"],
                tr: ["rowspan", "align", "valign"],
                tt: [],
                u: [],
                ul: [],
                video: ["autoplay", "controls", "loop", "preload", "src", "height", "width"]
            }
        }

        function e(a, b, c) {
        }

        function f(a, b, c) {
        }

        function g(a, b, c) {
        }

        function h(a, b, c) {
        }

        function i(a) {
            return a.replace(y, "&lt;").replace(z, "&gt;")
        }

        function j(a, b, c, d) {
            if (d = d || x, c = p(c), "href" === b || "src" === b) {
                if (c = w.trim(c), "#" === c)return "#";
                if ("http://" !== c.substr(0, 7) && "https://" !== c.substr(0, 8) && "mailto:" !== c.substr(0, 7) && "#" !== c[0] && "/" !== c[0])return ""
            } else if ("background" === b) {
                if (F.lastIndex = 0, F.test(c))return ""
            } else if ("style" === b) {
                if (G.lastIndex = 0, G.test(c))return "";
                if (H.lastIndex = 0, H.test(c) && (F.lastIndex = 0, F.test(c)))return "";
                c = d.process(c)
            }
            return c = q(c)
        }

        function k(a) {
            return a.replace(A, "&quot;")
        }

        function l(a) {
            return a.replace(B, '"')
        }

        function m(a) {
            return a.replace(C, function (a, b) {
                return "x" === b[0] || "X" === b[0] ? String.fromCharCode(parseInt(b.substr(1), 16)) : String.fromCharCode(parseInt(b, 10))
            })
        }

        function n(a) {
            return a.replace(D, ":").replace(E, " ")
        }

        function o(a) {
            for (var b = "", c = 0, d = a.length; c < d; c++)b += a.charCodeAt(c) < 32 ? " " : a.charAt(c);
            return w.trim(b)
        }

        function p(a) {
            return a = l(a), a = m(a), a = n(a), a = o(a)
        }

        function q(a) {
            return a = k(a), a = i(a)
        }

        function r() {
            return ""
        }

        function s(a, b) {
            function c(b) {
                return !!d || w.indexOf(a, b) !== -1
            }

            "function" != typeof b && (b = function () {
            });
            var d = !Array.isArray(a), e = [], f = !1;
            return {
                onIgnoreTag: function (a, d, g) {
                    if (c(a)) {
                        if (g.isClosing) {
                            var h = "[/removed]", i = g.position + h.length;
                            return e.push([f !== !1 ? f : g.position, i]), f = !1, h
                        }
                        return f || (f = g.position), "[removed]"
                    }
                    return b(a, d, g)
                }, remove: function (a) {
                    var b = "", c = 0;
                    return w.forEach(e, function (d) {
                        b += a.slice(c, d[0]), c = d[1]
                    }), b += a.slice(c)
                }
            }
        }

        function t(a) {
            return a.replace(I, "")
        }

        function u(a) {
            var b = a.split("");
            return b = b.filter(function (a) {
                var b = a.charCodeAt(0);
                return 127 !== b && (!(b <= 31) || (10 === b || 13 === b))
            }), b.join("")
        }

        var v = a("cssfilter").FilterCSS, w = a("./util"), x = new v, y = /</g, z = />/g, A = /"/g, B = /&quot;/g, C = /&#([a-zA-Z0-9]*);?/gim, D = /&colon;?/gim, E = /&newline;?/gim, F = /((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi, G = /e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi, H = /u\s*r\s*l\s*\(.*/gi, I = /<!--[\s\S]*?-->/g;
        c.whiteList = d(), c.getDefaultWhiteList = d, c.onTag = e, c.onIgnoreTag = f, c.onTagAttr = g, c.onIgnoreTagAttr = h, c.safeAttrValue = j, c.escapeHtml = i, c.escapeQuote = k, c.unescapeQuote = l, c.escapeHtmlEntities = m, c.escapeDangerHtml5Entities = n, c.clearNonPrintableCharacter = o, c.friendlyAttrValue = p, c.escapeAttrValue = q, c.onIgnoreTagStripAll = r, c.StripTagBody = s, c.stripCommentTag = t, c.stripBlankChar = u, c.cssFilter = x
    }, {"./util": 4, cssfilter: 8}], 2: [function (a, b, c) {
        function d(a, b) {
            var c = new g(b);
            return c.process(a)
        }

        var e = a("./default"), f = a("./parser"), g = a("./xss");
        c = b.exports = d, c.FilterXSS = g;
        for (var h in e)c[h] = e[h];
        for (var h in f)c[h] = f[h];
        "function" == typeof define && define.amd && define(function () {
            return b.exports
        }), "undefined" != typeof window && (window.filterXSS = b.exports)
    }, {"./default": 1, "./parser": 3, "./xss": 5}], 3: [function (a, b, c) {
        function d(a) {
            var b = a.indexOf(" ");
            if (b === -1)var c = a.slice(1, -1); else var c = a.slice(1, b + 1);
            return c = l.trim(c).toLowerCase(), "/" === c.slice(0, 1) && (c = c.slice(1)), "/" === c.slice(-1) && (c = c.slice(0, -1)), c
        }

        function e(a) {
            return "</" === a.slice(0, 2)
        }

        function f(a, b, c) {
            "user strict";
            var f = "", g = 0, h = !1, i = !1, j = 0, k = a.length, l = "", m = "";
            for (j = 0; j < k; j++) {
                var n = a.charAt(j);
                if (h === !1) {
                    if ("<" === n) {
                        h = j;
                        continue
                    }
                } else if (i === !1) {
                    if ("<" === n) {
                        f += c(a.slice(g, j)), h = j, g = j;
                        continue
                    }
                    if (">" === n) {
                        f += c(a.slice(g, h)), l = a.slice(h, j + 1), m = d(l), f += b(h, f.length, m, l, e(l)), g = j + 1, h = !1;
                        continue
                    }
                    if (('"' === n || "'" === n) && "=" === a.charAt(j - 1)) {
                        i = n;
                        continue
                    }
                } else if (n === i) {
                    i = !1;
                    continue
                }
            }
            return g < a.length && (f += c(a.substr(g))), f
        }

        function g(a, b) {
            "user strict";
            function c(a, c) {
                if (a = l.trim(a), a = a.replace(m, "").toLowerCase(), !(a.length < 1)) {
                    var d = b(a, c || "");
                    d && e.push(d)
                }
            }

            for (var d = 0, e = [], f = !1, g = a.length, j = 0; j < g; j++) {
                var n, o, p = a.charAt(j);
                if (f !== !1 || "=" !== p)if (f === !1 || j !== d || '"' !== p && "'" !== p || "=" !== a.charAt(j - 1))if (" " !== p); else {
                    if (f === !1) {
                        if (o = h(a, j), o === -1) {
                            n = l.trim(a.slice(d, j)), c(n), f = !1, d = j + 1;
                            continue
                        }
                        j = o - 1;
                        continue
                    }
                    if (o = i(a, j - 1), o === -1) {
                        n = l.trim(a.slice(d, j)), n = k(n), c(f, n), f = !1, d = j + 1;
                        continue
                    }
                } else {
                    if (o = a.indexOf(p, j + 1), o === -1)break;
                    n = l.trim(a.slice(d + 1, o)), c(f, n), f = !1, j = o, d = j + 1
                } else f = a.slice(d, j), d = j + 1
            }
            return d < a.length && (f === !1 ? c(a.slice(d)) : c(f, k(l.trim(a.slice(d))))), l.trim(e.join(" "))
        }

        function h(a, b) {
            for (; b < a.length; b++) {
                var c = a[b];
                if (" " !== c)return "=" === c ? b : -1
            }
        }

        function i(a, b) {
            for (; b > 0; b--) {
                var c = a[b];
                if (" " !== c)return "=" === c ? b : -1
            }
        }

        function j(a) {
            return '"' === a[0] && '"' === a[a.length - 1] || "'" === a[0] && "'" === a[a.length - 1]
        }

        function k(a) {
            return j(a) ? a.substr(1, a.length - 2) : a
        }

        var l = a("./util"), m = /[^a-zA-Z0-9_:\.\-]/gim;
        c.parseTag = f, c.parseAttr = g
    }, {"./util": 4}], 4: [function (a, b, c) {
        b.exports = {
            indexOf: function (a, b) {
                var c, d;
                if (Array.prototype.indexOf)return a.indexOf(b);
                for (c = 0, d = a.length; c < d; c++)if (a[c] === b)return c;
                return -1
            }, forEach: function (a, b, c) {
                var d, e;
                if (Array.prototype.forEach)return a.forEach(b, c);
                for (d = 0, e = a.length; d < e; d++)b.call(c, a[d], d, a)
            }, trim: function (a) {
                return String.prototype.trim ? a.trim() : a.replace(/(^\s*)|(\s*$)/g, "")
            }
        }
    }, {}], 5: [function (a, b, c) {
        function d(a) {
            return void 0 === a || null === a
        }

        function e(a) {
            var b = a.indexOf(" ");
            if (b === -1)return {html: "", closing: "/" === a[a.length - 2]};
            a = l.trim(a.slice(b + 1, -1));
            var c = "/" === a[a.length - 1];
            return c && (a = l.trim(a.slice(0, -1))), {html: a, closing: c}
        }

        function f(a) {
            a = a || {}, a.stripIgnoreTag && (a.onIgnoreTag && console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'), a.onIgnoreTag = h.onIgnoreTagStripAll), a.whiteList = a.whiteList || h.whiteList, a.onTag = a.onTag || h.onTag, a.onTagAttr = a.onTagAttr || h.onTagAttr, a.onIgnoreTag = a.onIgnoreTag || h.onIgnoreTag, a.onIgnoreTagAttr = a.onIgnoreTagAttr || h.onIgnoreTagAttr, a.safeAttrValue = a.safeAttrValue || h.safeAttrValue, a.escapeHtml = a.escapeHtml || h.escapeHtml, a.css = a.css || {}, this.options = a, this.cssFilter = new g(a.css)
        }

        var g = a("cssfilter").FilterCSS, h = a("./default"), i = a("./parser"), j = i.parseTag, k = i.parseAttr, l = a("./util");
        f.prototype.process = function (a) {
            if (a = a || "", a = a.toString(), !a)return "";
            var b = this, c = b.options, f = c.whiteList, g = c.onTag, i = c.onIgnoreTag, m = c.onTagAttr, n = c.onIgnoreTagAttr, o = c.safeAttrValue, p = c.escapeHtml, q = b.cssFilter;
            c.stripBlankChar && (a = h.stripBlankChar(a)), c.allowCommentTag || (a = h.stripCommentTag(a));
            var r = !1;
            if (c.stripIgnoreTagBody) {
                var r = h.StripTagBody(c.stripIgnoreTagBody, i);
                i = r.onIgnoreTag
            }
            var s = j(a, function (a, b, c, h, j) {
                var r = {sourcePosition: a, position: b, isClosing: j, isWhite: c in f}, s = g(c, h, r);
                if (!d(s))return s;
                if (r.isWhite) {
                    if (r.isClosing)return "</" + c + ">";
                    var t = e(h), u = f[c], v = k(t.html, function (a, b) {
                        var e = l.indexOf(u, a) !== -1, f = m(c, a, b, e);
                        if (!d(f))return f;
                        if (e)return b = o(c, a, b, q), b ? a + '="' + b + '"' : a;
                        var f = n(c, a, b, e);
                        return d(f) ? void 0 : f
                    }), h = "<" + c;
                    return v && (h += " " + v), t.closing && (h += " /"), h += ">"
                }
                var s = i(c, h, r);
                return d(s) ? p(h) : s
            }, p);
            return r && (s = r.remove(s)), s
        }, b.exports = f
    }, {"./default": 1, "./parser": 3, "./util": 4, cssfilter: 8}], 6: [function (a, b, c) {
        function d(a) {
            return void 0 === a || null === a
        }

        function e(a) {
            a = a || {}, a.whiteList = a.whiteList || f.whiteList, a.onAttr = a.onAttr || f.onAttr, a.onIgnoreAttr = a.onIgnoreAttr || f.onIgnoreAttr, this.options = a
        }

        var f = a("./default"), g = a("./parser");
        a("./util");
        e.prototype.process = function (a) {
            if (a = a || "", a = a.toString(), !a)return "";
            var b = this, c = b.options, e = c.whiteList, f = c.onAttr, h = c.onIgnoreAttr, i = g(a, function (a, b, c, g, i) {
                var j = e[c], k = !1;
                j === !0 ? k = j : "function" == typeof j ? k = j(g) : j instanceof RegExp && (k = j.test(g)), k !== !0 && (k = !1);
                var l = {position: b, sourcePosition: a, source: i, isWhite: k};
                if (k) {
                    var m = f(c, g, l);
                    return d(m) ? c + ":" + g : m
                }
                var m = h(c, g, l);
                if (!d(m))return m
            });
            return i
        }, b.exports = e
    }, {"./default": 7, "./parser": 9, "./util": 10}], 7: [function (a, b, c) {
        function d() {
            var a = {};
            return a["align-content"] = !1, a["align-items"] = !1, a["align-self"] = !1, a["alignment-adjust"] = !1, a["alignment-baseline"] = !1, a.all = !1, a["anchor-point"] = !1, a.animation = !1, a["animation-delay"] = !1, a["animation-direction"] = !1, a["animation-duration"] = !1, a["animation-fill-mode"] = !1, a["animation-iteration-count"] = !1, a["animation-name"] = !1, a["animation-play-state"] = !1, a["animation-timing-function"] = !1, a.azimuth = !1, a["backface-visibility"] = !1, a.background = !0, a["background-attachment"] = !0, a["background-clip"] = !0, a["background-color"] = !0, a["background-image"] = !0, a["background-origin"] = !0, a["background-position"] = !0, a["background-repeat"] = !0, a["background-size"] = !0, a["baseline-shift"] = !1, a.binding = !1, a.bleed = !1, a["bookmark-label"] = !1, a["bookmark-level"] = !1, a["bookmark-state"] = !1, a.border = !0, a["border-bottom"] = !0, a["border-bottom-color"] = !0, a["border-bottom-left-radius"] = !0, a["border-bottom-right-radius"] = !0, a["border-bottom-style"] = !0, a["border-bottom-width"] = !0, a["border-collapse"] = !0, a["border-color"] = !0, a["border-image"] = !0, a["border-image-outset"] = !0, a["border-image-repeat"] = !0, a["border-image-slice"] = !0, a["border-image-source"] = !0, a["border-image-width"] = !0, a["border-left"] = !0, a["border-left-color"] = !0, a["border-left-style"] = !0, a["border-left-width"] = !0, a["border-radius"] = !0, a["border-right"] = !0, a["border-right-color"] = !0, a["border-right-style"] = !0, a["border-right-width"] = !0, a["border-spacing"] = !0, a["border-style"] = !0, a["border-top"] = !0, a["border-top-color"] = !0, a["border-top-left-radius"] = !0, a["border-top-right-radius"] = !0, a["border-top-style"] = !0, a["border-top-width"] = !0, a["border-width"] = !0, a.bottom = !1, a["box-decoration-break"] = !0, a["box-shadow"] = !0, a["box-sizing"] = !0, a["box-snap"] = !0, a["box-suppress"] = !0, a["break-after"] = !0, a["break-before"] = !0, a["break-inside"] = !0, a["caption-side"] = !1, a.chains = !1, a.clear = !0, a.clip = !1, a["clip-path"] = !1, a["clip-rule"] = !1, a.color = !0, a["color-interpolation-filters"] = !0, a["column-count"] = !1, a["column-fill"] = !1, a["column-gap"] = !1, a["column-rule"] = !1, a["column-rule-color"] = !1, a["column-rule-style"] = !1, a["column-rule-width"] = !1, a["column-span"] = !1, a["column-width"] = !1, a.columns = !1, a.contain = !1, a.content = !1, a["counter-increment"] = !1, a["counter-reset"] = !1, a["counter-set"] = !1, a.crop = !1, a.cue = !1, a["cue-after"] = !1,a["cue-before"] = !1,a.cursor = !1,a.direction = !1,a.display = !0,a["display-inside"] = !0,a["display-list"] = !0,a["display-outside"] = !0,a["dominant-baseline"] = !1,a.elevation = !1,a["empty-cells"] = !1,a.filter = !1,a.flex = !1,a["flex-basis"] = !1,a["flex-direction"] = !1,a["flex-flow"] = !1,a["flex-grow"] = !1,a["flex-shrink"] = !1,a["flex-wrap"] = !1,a.float = !1,a["float-offset"] = !1,a["flood-color"] = !1,a["flood-opacity"] = !1,a["flow-from"] = !1,a["flow-into"] = !1,a.font = !0,a["font-family"] = !0,a["font-feature-settings"] = !0,a["font-kerning"] = !0,a["font-language-override"] = !0,a["font-size"] = !0,a["font-size-adjust"] = !0,a["font-stretch"] = !0,a["font-style"] = !0,a["font-synthesis"] = !0,a["font-variant"] = !0,a["font-variant-alternates"] = !0,a["font-variant-caps"] = !0,a["font-variant-east-asian"] = !0,a["font-variant-ligatures"] = !0,a["font-variant-numeric"] = !0,a["font-variant-position"] = !0,a["font-weight"] = !0,a.grid = !1,a["grid-area"] = !1,a["grid-auto-columns"] = !1,a["grid-auto-flow"] = !1,a["grid-auto-rows"] = !1,a["grid-column"] = !1,a["grid-column-end"] = !1,a["grid-column-start"] = !1,a["grid-row"] = !1,a["grid-row-end"] = !1,a["grid-row-start"] = !1,a["grid-template"] = !1,a["grid-template-areas"] = !1,a["grid-template-columns"] = !1,a["grid-template-rows"] = !1,a["hanging-punctuation"] = !1,
                a.height = !0,a.hyphens = !1,a.icon = !1,a["image-orientation"] = !1,a["image-resolution"] = !1,a["ime-mode"] = !1,a["initial-letters"] = !1,a["inline-box-align"] = !1,a["justify-content"] = !1,a["justify-items"] = !1,a["justify-self"] = !1,a.left = !1,a["letter-spacing"] = !0,a["lighting-color"] = !0,a["line-box-contain"] = !1,a["line-break"] = !1,a["line-grid"] = !1,a["line-height"] = !1,a["line-snap"] = !1,a["line-stacking"] = !1,a["line-stacking-ruby"] = !1,a["line-stacking-shift"] = !1,a["line-stacking-strategy"] = !1,a["list-style"] = !0,a["list-style-image"] = !0,a["list-style-position"] = !0,a["list-style-type"] = !0,a.margin = !0,a["margin-bottom"] = !0,a["margin-left"] = !0,a["margin-right"] = !0,a["margin-top"] = !0,a["marker-offset"] = !1,a["marker-side"] = !1,a.marks = !1,a.mask = !1,a["mask-box"] = !1,a["mask-box-outset"] = !1,a["mask-box-repeat"] = !1,a["mask-box-slice"] = !1,a["mask-box-source"] = !1,a["mask-box-width"] = !1,a["mask-clip"] = !1,a["mask-image"] = !1,a["mask-origin"] = !1,a["mask-position"] = !1,a["mask-repeat"] = !1,a["mask-size"] = !1,a["mask-source-type"] = !1,a["mask-type"] = !1,a["max-height"] = !0,a["max-lines"] = !1,a["max-width"] = !0,a["min-height"] = !0,a["min-width"] = !0,a["move-to"] = !1,a["nav-down"] = !1,a["nav-index"] = !1,a["nav-left"] = !1,a["nav-right"] = !1,a["nav-up"] = !1,a["object-fit"] = !1,a["object-position"] = !1,a.opacity = !1,a.order = !1,a.orphans = !1,a.outline = !1,a["outline-color"] = !1,a["outline-offset"] = !1,a["outline-style"] = !1,a["outline-width"] = !1,a.overflow = !1,a["overflow-wrap"] = !1,a["overflow-x"] = !1,a["overflow-y"] = !1,a.padding = !0,a["padding-bottom"] = !0,a["padding-left"] = !0,a["padding-right"] = !0,a["padding-top"] = !0,a.page = !1,a["page-break-after"] = !1,a["page-break-before"] = !1,a["page-break-inside"] = !1,a["page-policy"] = !1,a.pause = !1,a["pause-after"] = !1,a["pause-before"] = !1,a.perspective = !1,a["perspective-origin"] = !1,a.pitch = !1,a["pitch-range"] = !1,a["play-during"] = !1,a.position = !1,a["presentation-level"] = !1,a.quotes = !1,a["region-fragment"] = !1,a.resize = !1,a.rest = !1,a["rest-after"] = !1,a["rest-before"] = !1,a.richness = !1,a.right = !1,a.rotation = !1,a["rotation-point"] = !1,a["ruby-align"] = !1,a["ruby-merge"] = !1,a["ruby-position"] = !1,a["shape-image-threshold"] = !1,a["shape-outside"] = !1,a["shape-margin"] = !1,a.size = !1,a.speak = !1,a["speak-as"] = !1,a["speak-header"] = !1,a["speak-numeral"] = !1,a["speak-punctuation"] = !1,a["speech-rate"] = !1,a.stress = !1,a["string-set"] = !1,a["tab-size"] = !1,a["table-layout"] = !1,a["text-align"] = !0,a["text-align-last"] = !0,a["text-combine-upright"] = !0,a["text-decoration"] = !0,a["text-decoration-color"] = !0,a["text-decoration-line"] = !0,a["text-decoration-skip"] = !0,a["text-decoration-style"] = !0,a["text-emphasis"] = !0,a["text-emphasis-color"] = !0,a["text-emphasis-position"] = !0,a["text-emphasis-style"] = !0,a["text-height"] = !0,a["text-indent"] = !0,a["text-justify"] = !0,a["text-orientation"] = !0,a["text-overflow"] = !0,a["text-shadow"] = !0,a["text-space-collapse"] = !0,a["text-transform"] = !0,a["text-underline-position"] = !0,a["text-wrap"] = !0,a.top = !1,a.transform = !1,a["transform-origin"] = !1,a["transform-style"] = !1,a.transition = !1,a["transition-delay"] = !1,a["transition-duration"] = !1,a["transition-property"] = !1,a["transition-timing-function"] = !1,a["unicode-bidi"] = !1,a["vertical-align"] = !1,a.visibility = !1,a["voice-balance"] = !1,a["voice-duration"] = !1,a["voice-family"] = !1,a["voice-pitch"] = !1,a["voice-range"] = !1,a["voice-rate"] = !1,a["voice-stress"] = !1,a["voice-volume"] = !1,a.volume = !1,a["white-space"] = !1,a.widows = !1,a.width = !0,a["will-change"] = !1,a["word-break"] = !0,a["word-spacing"] = !0,a["word-wrap"] = !0,a["wrap-flow"] = !1,a["wrap-through"] = !1,a["writing-mode"] = !1,a["z-index"] = !1,a
        }

        function e(a, b, c) {
        }

        function f(a, b, c) {
        }

        c.whiteList = d(), c.getDefaultWhiteList = d, c.onAttr = e, c.onIgnoreAttr = f
    }, {}], 8: [function (a, b, c) {
        function d(a, b) {
            var c = new f(b);
            return c.process(a)
        }

        var e = a("./default"), f = a("./css");
        c = b.exports = d, c.FilterCSS = f;
        for (var g in e)c[g] = e[g];
        "function" == typeof define && define.amd && define(function () {
            return b.exports
        }), "undefined" != typeof window && (window.filterCSS = b.exports)
    }, {"./css": 6, "./default": 7}], 9: [function (a, b, c) {
        function d(a, b) {
            function c() {
                if (!f) {
                    var c = e.trim(a.slice(g, h)), d = c.indexOf(":");
                    if (d !== -1) {
                        var j = e.trim(c.slice(0, d)), k = e.trim(c.slice(d + 1));
                        if (j) {
                            var l = b(g, i.length, j, k, c);
                            l && (i += l + "; ")
                        }
                    }
                }
                g = h + 1
            }

            a = e.trimRight(a), ";" !== a[a.length - 1] && (a += ";");
            for (var d = a.length, f = !1, g = 0, h = 0, i = ""; h < d; h++) {
                var j = a[h];
                if ("/" === j && "*" === a[h + 1]) {
                    var k = a.indexOf("*/", h + 2);
                    if (k === -1)break;
                    h = k + 1, g = h + 1, f = !1
                } else"(" === j ? f = !0 : ")" === j ? f = !1 : ";" === j ? f || c() : "\n" === j && c()
            }
            return e.trim(i)
        }

        var e = a("./util");
        b.exports = d
    }, {"./util": 10}], 10: [function (a, b, c) {
        b.exports = {
            indexOf: function (a, b) {
                var c, d;
                if (Array.prototype.indexOf)return a.indexOf(b);
                for (c = 0, d = a.length; c < d; c++)if (a[c] === b)return c;
                return -1
            }, forEach: function (a, b, c) {
                var d, e;
                if (Array.prototype.forEach)return a.forEach(b, c);
                for (d = 0, e = a.length; d < e; d++)b.call(c, a[d], d, a)
            }, trim: function (a) {
                return String.prototype.trim ? a.trim() : a.replace(/(^\s*)|(\s*$)/g, "")
            }, trimRight: function (a) {
                return String.prototype.trimRight ? a.trimRight() : a.replace(/(\s*$)/g, "")
            }
        }
    }, {}]
}, {}, [2]), function (a) {
    if ("object" == typeof exports && "undefined" != typeof module)module.exports = a(); else if ("function" == typeof define && define.amd)define([], a); else {
        var b;
        b = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this, b.io = a()
    }
}(function () {
    var a;
    return function a(b, c, d) {
        function e(g, h) {
            if (!c[g]) {
                if (!b[g]) {
                    var i = "function" == typeof require && require;
                    if (!h && i)return i(g, !0);
                    if (f)return f(g, !0);
                    var j = new Error("Cannot find module '" + g + "'");
                    throw j.code = "MODULE_NOT_FOUND", j
                }
                var k = c[g] = {exports: {}};
                b[g][0].call(k.exports, function (a) {
                    var c = b[g][1][a];
                    return e(c ? c : a)
                }, k, k.exports, a, b, c, d)
            }
            return c[g].exports
        }

        for (var f = "function" == typeof require && require, g = 0; g < d.length; g++)e(d[g]);
        return e
    }({
        1: [function (a, b, c) {
            function d(a, b) {
                "object" == typeof a && (b = a, a = void 0), b = b || {};
                var c, d = e(a), f = d.source, j = d.id, k = d.path, l = i[j] && k in i[j].nsps, m = b.forceNew || b["force new connection"] || !1 === b.multiplex || l;
                return m ? (h("ignoring socket cache for %s", f), c = g(f, b)) : (i[j] || (h("new io instance for %s", f), i[j] = g(f, b)), c = i[j]), c.socket(d.path)
            }

            var e = a("./url"), f = a("socket.io-parser"), g = a("./manager"), h = a("debug")("socket.io-client");
            b.exports = c = d;
            var i = c.managers = {};
            c.protocol = f.protocol, c.connect = d, c.Manager = a("./manager"), c.Socket = a("./socket")
        }, {"./manager": 2, "./socket": 4, "./url": 5, debug: 14, "socket.io-parser": 40}],
        2: [function (a, b, c) {
            function d(a, b) {
                return this instanceof d ? (a && "object" == typeof a && (b = a, a = void 0), b = b || {}, b.path = b.path || "/socket.io", this.nsps = {}, this.subs = [], this.opts = b, this.reconnection(b.reconnection !== !1), this.reconnectionAttempts(b.reconnectionAttempts || 1 / 0), this.reconnectionDelay(b.reconnectionDelay || 1e3), this.reconnectionDelayMax(b.reconnectionDelayMax || 5e3), this.randomizationFactor(b.randomizationFactor || .5), this.backoff = new m({
                    min: this.reconnectionDelay(),
                    max: this.reconnectionDelayMax(),
                    jitter: this.randomizationFactor()
                }), this.timeout(null == b.timeout ? 2e4 : b.timeout), this.readyState = "closed", this.uri = a, this.connecting = [], this.lastPing = null, this.encoding = !1, this.packetBuffer = [], this.encoder = new h.Encoder, this.decoder = new h.Decoder, this.autoConnect = b.autoConnect !== !1, void(this.autoConnect && this.open())) : new d(a, b)
            }

            var e = a("engine.io-client"), f = a("./socket"), g = a("component-emitter"), h = a("socket.io-parser"), i = a("./on"), j = a("component-bind"), k = a("debug")("socket.io-client:manager"), l = a("indexof"), m = a("backo2"), n = Object.prototype.hasOwnProperty;
            b.exports = d, d.prototype.emitAll = function () {
                this.emit.apply(this, arguments);
                for (var a in this.nsps)n.call(this.nsps, a) && this.nsps[a].emit.apply(this.nsps[a], arguments)
            }, d.prototype.updateSocketIds = function () {
                for (var a in this.nsps)n.call(this.nsps, a) && (this.nsps[a].id = this.engine.id)
            }, g(d.prototype), d.prototype.reconnection = function (a) {
                return arguments.length ? (this._reconnection = !!a, this) : this._reconnection
            }, d.prototype.reconnectionAttempts = function (a) {
                return arguments.length ? (this._reconnectionAttempts = a, this) : this._reconnectionAttempts
            }, d.prototype.reconnectionDelay = function (a) {
                return arguments.length ? (this._reconnectionDelay = a, this.backoff && this.backoff.setMin(a), this) : this._reconnectionDelay
            }, d.prototype.randomizationFactor = function (a) {
                return arguments.length ? (this._randomizationFactor = a, this.backoff && this.backoff.setJitter(a), this) : this._randomizationFactor
            }, d.prototype.reconnectionDelayMax = function (a) {
                return arguments.length ? (this._reconnectionDelayMax = a, this.backoff && this.backoff.setMax(a), this) : this._reconnectionDelayMax
            }, d.prototype.timeout = function (a) {
                return arguments.length ? (this._timeout = a, this) : this._timeout
            }, d.prototype.maybeReconnectOnOpen = function () {
                !this.reconnecting && this._reconnection && 0 === this.backoff.attempts && this.reconnect()
            }, d.prototype.open = d.prototype.connect = function (a) {
                if (k("readyState %s", this.readyState), ~this.readyState.indexOf("open"))return this;
                k("opening %s", this.uri), this.engine = e(this.uri, this.opts);
                var b = this.engine, c = this;
                this.readyState = "opening", this.skipReconnect = !1;
                var d = i(b, "open", function () {
                    c.onopen(), a && a()
                }), f = i(b, "error", function (b) {
                    if (k("connect_error"), c.cleanup(), c.readyState = "closed", c.emitAll("connect_error", b), a) {
                        var d = new Error("Connection error");
                        d.data = b, a(d)
                    } else c.maybeReconnectOnOpen()
                });
                if (!1 !== this._timeout) {
                    var g = this._timeout;
                    k("connect attempt will timeout after %d", g);
                    var h = setTimeout(function () {
                        k("connect attempt timed out after %d", g), d.destroy(), b.close(), b.emit("error", "timeout"), c.emitAll("connect_timeout", g)
                    }, g);
                    this.subs.push({
                        destroy: function () {
                            clearTimeout(h)
                        }
                    })
                }
                return this.subs.push(d), this.subs.push(f), this
            }, d.prototype.onopen = function () {
                k("open"), this.cleanup(), this.readyState = "open", this.emit("open");
                var a = this.engine;
                this.subs.push(i(a, "data", j(this, "ondata"))), this.subs.push(i(a, "ping", j(this, "onping"))), this.subs.push(i(a, "pong", j(this, "onpong"))), this.subs.push(i(a, "error", j(this, "onerror"))), this.subs.push(i(a, "close", j(this, "onclose"))), this.subs.push(i(this.decoder, "decoded", j(this, "ondecoded")))
            }, d.prototype.onping = function () {
                this.lastPing = new Date, this.emitAll("ping")
            }, d.prototype.onpong = function () {
                this.emitAll("pong", new Date - this.lastPing)
            }, d.prototype.ondata = function (a) {
                this.decoder.add(a)
            }, d.prototype.ondecoded = function (a) {
                this.emit("packet", a)
            }, d.prototype.onerror = function (a) {
                k("error", a), this.emitAll("error", a)
            }, d.prototype.socket = function (a) {
                function b() {
                    ~l(d.connecting, c) || d.connecting.push(c)
                }

                var c = this.nsps[a];
                if (!c) {
                    c = new f(this, a), this.nsps[a] = c;
                    var d = this;
                    c.on("connecting", b), c.on("connect", function () {
                        c.id = d.engine.id
                    }), this.autoConnect && b()
                }
                return c
            }, d.prototype.destroy = function (a) {
                var b = l(this.connecting, a);
                ~b && this.connecting.splice(b, 1), this.connecting.length || this.close()
            }, d.prototype.packet = function (a) {
                k("writing packet %j", a);
                var b = this;
                b.encoding ? b.packetBuffer.push(a) : (b.encoding = !0, this.encoder.encode(a, function (c) {
                    for (var d = 0; d < c.length; d++)b.engine.write(c[d], a.options);
                    b.encoding = !1, b.processPacketQueue()
                }))
            }, d.prototype.processPacketQueue = function () {
                if (this.packetBuffer.length > 0 && !this.encoding) {
                    var a = this.packetBuffer.shift();
                    this.packet(a)
                }
            }, d.prototype.cleanup = function () {
                k("cleanup");
                for (var a; a = this.subs.shift();)a.destroy();
                this.packetBuffer = [], this.encoding = !1, this.lastPing = null, this.decoder.destroy()
            }, d.prototype.close = d.prototype.disconnect = function () {
                k("disconnect"), this.skipReconnect = !0, this.reconnecting = !1, "opening" == this.readyState && this.cleanup(), this.backoff.reset(), this.readyState = "closed", this.engine && this.engine.close()
            }, d.prototype.onclose = function (a) {
                k("onclose"), this.cleanup(), this.backoff.reset(), this.readyState = "closed", this.emit("close", a), this._reconnection && !this.skipReconnect && this.reconnect()
            }, d.prototype.reconnect = function () {
                if (this.reconnecting || this.skipReconnect)return this;
                var a = this;
                if (this.backoff.attempts >= this._reconnectionAttempts)k("reconnect failed"), this.backoff.reset(), this.emitAll("reconnect_failed"), this.reconnecting = !1; else {
                    var b = this.backoff.duration();
                    k("will wait %dms before reconnect attempt", b), this.reconnecting = !0;
                    var c = setTimeout(function () {
                        a.skipReconnect || (k("attempting reconnect"), a.emitAll("reconnect_attempt", a.backoff.attempts), a.emitAll("reconnecting", a.backoff.attempts), a.skipReconnect || a.open(function (b) {
                            b ? (k("reconnect attempt error"), a.reconnecting = !1, a.reconnect(), a.emitAll("reconnect_error", b.data)) : (k("reconnect success"), a.onreconnect())
                        }))
                    }, b);
                    this.subs.push({
                        destroy: function () {
                            clearTimeout(c)
                        }
                    })
                }
            }, d.prototype.onreconnect = function () {
                var a = this.backoff.attempts;
                this.reconnecting = !1, this.backoff.reset(), this.updateSocketIds(), this.emitAll("reconnect", a)
            }
        }, {
            "./on": 3,
            "./socket": 4,
            backo2: 8,
            "component-bind": 11,
            "component-emitter": 12,
            debug: 14,
            "engine.io-client": 16,
            indexof: 32,
            "socket.io-parser": 40
        }],
        3: [function (a, b, c) {
            function d(a, b, c) {
                return a.on(b, c), {
                    destroy: function () {
                        a.removeListener(b, c)
                    }
                }
            }

            b.exports = d
        }, {}],
        4: [function (a, b, c) {
            function d(a, b) {
                this.io = a, this.nsp = b, this.json = this, this.ids = 0, this.acks = {}, this.receiveBuffer = [], this.sendBuffer = [], this.connected = !1, this.disconnected = !0, this.io.autoConnect && this.open()
            }

            var e = a("socket.io-parser"), f = a("component-emitter"), g = a("to-array"), h = a("./on"), i = a("component-bind"), j = a("debug")("socket.io-client:socket"), k = a("has-binary");
            b.exports = c = d;
            var l = {
                connect: 1,
                connect_error: 1,
                connect_timeout: 1,
                connecting: 1,
                disconnect: 1,
                error: 1,
                reconnect: 1,
                reconnect_attempt: 1,
                reconnect_failed: 1,
                reconnect_error: 1,
                reconnecting: 1,
                ping: 1,
                pong: 1
            }, m = f.prototype.emit;
            f(d.prototype), d.prototype.subEvents = function () {
                if (!this.subs) {
                    var a = this.io;
                    this.subs = [h(a, "open", i(this, "onopen")), h(a, "packet", i(this, "onpacket")), h(a, "close", i(this, "onclose"))]
                }
            }, d.prototype.open = d.prototype.connect = function () {
                return this.connected ? this : (this.subEvents(), this.io.open(), "open" == this.io.readyState && this.onopen(), this.emit("connecting"), this)
            }, d.prototype.send = function () {
                var a = g(arguments);
                return a.unshift("message"), this.emit.apply(this, a), this
            }, d.prototype.emit = function (a) {
                if (l.hasOwnProperty(a))return m.apply(this, arguments), this;
                var b = g(arguments), c = e.EVENT;
                k(b) && (c = e.BINARY_EVENT);
                var d = {type: c, data: b};
                return d.options = {}, d.options.compress = !this.flags || !1 !== this.flags.compress, "function" == typeof b[b.length - 1] && (j("emitting packet with ack id %d", this.ids), this.acks[this.ids] = b.pop(), d.id = this.ids++), this.connected ? this.packet(d) : this.sendBuffer.push(d), delete this.flags, this
            }, d.prototype.packet = function (a) {
                a.nsp = this.nsp, this.io.packet(a)
            }, d.prototype.onopen = function () {
                j("transport is open - connecting"), "/" != this.nsp && this.packet({type: e.CONNECT})
            }, d.prototype.onclose = function (a) {
                j("close (%s)", a), this.connected = !1, this.disconnected = !0, delete this.id, this.emit("disconnect", a)
            }, d.prototype.onpacket = function (a) {
                if (a.nsp == this.nsp)switch (a.type) {
                    case e.CONNECT:
                        this.onconnect();
                        break;
                    case e.EVENT:
                        this.onevent(a);
                        break;
                    case e.BINARY_EVENT:
                        this.onevent(a);
                        break;
                    case e.ACK:
                        this.onack(a);
                        break;
                    case e.BINARY_ACK:
                        this.onack(a);
                        break;
                    case e.DISCONNECT:
                        this.ondisconnect();
                        break;
                    case e.ERROR:
                        this.emit("error", a.data)
                }
            }, d.prototype.onevent = function (a) {
                var b = a.data || [];
                j("emitting event %j", b), null != a.id && (j("attaching ack callback to event"), b.push(this.ack(a.id))), this.connected ? m.apply(this, b) : this.receiveBuffer.push(b)
            }, d.prototype.ack = function (a) {
                var b = this, c = !1;
                return function () {
                    if (!c) {
                        c = !0;
                        var d = g(arguments);
                        j("sending ack %j", d);
                        var f = k(d) ? e.BINARY_ACK : e.ACK;
                        b.packet({type: f, id: a, data: d})
                    }
                }
            }, d.prototype.onack = function (a) {
                var b = this.acks[a.id];
                "function" == typeof b ? (j("calling ack %s with %j", a.id, a.data), b.apply(this, a.data), delete this.acks[a.id]) : j("bad ack %s", a.id)
            }, d.prototype.onconnect = function () {
                this.connected = !0, this.disconnected = !1, this.emit("connect"), this.emitBuffered()
            }, d.prototype.emitBuffered = function () {
                var a;
                for (a = 0; a < this.receiveBuffer.length; a++)m.apply(this, this.receiveBuffer[a]);
                for (this.receiveBuffer = [], a = 0; a < this.sendBuffer.length; a++)this.packet(this.sendBuffer[a]);
                this.sendBuffer = []
            }, d.prototype.ondisconnect = function () {
                j("server disconnect (%s)", this.nsp), this.destroy(), this.onclose("io server disconnect")
            }, d.prototype.destroy = function () {
                if (this.subs) {
                    for (var a = 0; a < this.subs.length; a++)this.subs[a].destroy();
                    this.subs = null
                }
                this.io.destroy(this)
            }, d.prototype.close = d.prototype.disconnect = function () {
                return this.connected && (j("performing disconnect (%s)", this.nsp), this.packet({type: e.DISCONNECT})), this.destroy(), this.connected && this.onclose("io client disconnect"), this
            }, d.prototype.compress = function (a) {
                return this.flags = this.flags || {}, this.flags.compress = a, this
            }
        }, {
            "./on": 3,
            "component-bind": 11,
            "component-emitter": 12,
            debug: 14,
            "has-binary": 30,
            "socket.io-parser": 40,
            "to-array": 43
        }],
        5: [function (a, b, c) {
            (function (c) {
                function d(a, b) {
                    var d = a, b = b || c.location;
                    null == a && (a = b.protocol + "//" + b.host), "string" == typeof a && ("/" == a.charAt(0) && (a = "/" == a.charAt(1) ? b.protocol + a : b.host + a), /^(https?|wss?):\/\//.test(a) || (f("protocol-less url %s", a), a = "undefined" != typeof b ? b.protocol + "//" + a : "https://" + a), f("parse %s", a), d = e(a)), d.port || (/^(http|ws)$/.test(d.protocol) ? d.port = "80" : /^(http|ws)s$/.test(d.protocol) && (d.port = "443")), d.path = d.path || "/";
                    var g = d.host.indexOf(":") !== -1, h = g ? "[" + d.host + "]" : d.host;
                    return d.id = d.protocol + "://" + h + ":" + d.port, d.href = d.protocol + "://" + h + (b && b.port == d.port ? "" : ":" + d.port), d
                }

                var e = a("parseuri"), f = a("debug")("socket.io-client:url");
                b.exports = d
            }).call(this, "undefined" != typeof self ? self : "undefined" != typeof window ? window : "undefined" != typeof global ? global : {})
        }, {debug: 14, parseuri: 38}],
        6: [function (a, b, c) {
            function d(a, b, c) {
                function d(a, e) {
                    if (d.count <= 0)throw new Error("after called too many times");
                    --d.count, a ? (f = !0, b(a), b = c) : 0 !== d.count || f || b(null, e)
                }

                var f = !1;
                return c = c || e, d.count = a, 0 === a ? b() : d
            }

            function e() {
            }

            b.exports = d
        }, {}],
        7: [function (a, b, c) {
            b.exports = function (a, b, c) {
                var d = a.byteLength;
                if (b = b || 0, c = c || d, a.slice)return a.slice(b, c);
                if (b < 0 && (b += d), c < 0 && (c += d), c > d && (c = d), b >= d || b >= c || 0 === d)return new ArrayBuffer(0);
                for (var e = new Uint8Array(a), f = new Uint8Array(c - b), g = b, h = 0; g < c; g++, h++)f[h] = e[g];
                return f.buffer
            }
        }, {}],
        8: [function (a, b, c) {
            function d(a) {
                a = a || {}, this.ms = a.min || 100, this.max = a.max || 1e4, this.factor = a.factor || 2, this.jitter = a.jitter > 0 && a.jitter <= 1 ? a.jitter : 0, this.attempts = 0
            }

            b.exports = d, d.prototype.duration = function () {
                var a = this.ms * Math.pow(this.factor, this.attempts++);
                if (this.jitter) {
                    var b = Math.random(), c = Math.floor(b * this.jitter * a);
                    a = 0 == (1 & Math.floor(10 * b)) ? a - c : a + c
                }
                return 0 | Math.min(a, this.max)
            }, d.prototype.reset = function () {
                this.attempts = 0
            }, d.prototype.setMin = function (a) {
                this.ms = a
            }, d.prototype.setMax = function (a) {
                this.max = a
            }, d.prototype.setJitter = function (a) {
                this.jitter = a
            }
        }, {}],
        9: [function (a, b, c) {
            !function () {
                "use strict";
                for (var a = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", b = new Uint8Array(256), d = 0; d < a.length; d++)b[a.charCodeAt(d)] = d;
                c.encode = function (b) {
                    var c, d = new Uint8Array(b), e = d.length, f = "";
                    for (c = 0; c < e; c += 3)f += a[d[c] >> 2], f += a[(3 & d[c]) << 4 | d[c + 1] >> 4], f += a[(15 & d[c + 1]) << 2 | d[c + 2] >> 6], f += a[63 & d[c + 2]];
                    return e % 3 === 2 ? f = f.substring(0, f.length - 1) + "=" : e % 3 === 1 && (f = f.substring(0, f.length - 2) + "=="), f
                }, c.decode = function (a) {
                    var c, d, e, f, g, h = .75 * a.length, i = a.length, j = 0;
                    "=" === a[a.length - 1] && (h--, "=" === a[a.length - 2] && h--);
                    var k = new ArrayBuffer(h), l = new Uint8Array(k);
                    for (c = 0; c < i; c += 4)d = b[a.charCodeAt(c)], e = b[a.charCodeAt(c + 1)], f = b[a.charCodeAt(c + 2)], g = b[a.charCodeAt(c + 3)], l[j++] = d << 2 | e >> 4, l[j++] = (15 & e) << 4 | f >> 2, l[j++] = (3 & f) << 6 | 63 & g;
                    return k
                }
            }()
        }, {}],
        10: [function (a, b, c) {
            (function (a) {
                function c(a) {
                    for (var b = 0; b < a.length; b++) {
                        var c = a[b];
                        if (c.buffer instanceof ArrayBuffer) {
                            var d = c.buffer;
                            if (c.byteLength !== d.byteLength) {
                                var e = new Uint8Array(c.byteLength);
                                e.set(new Uint8Array(d, c.byteOffset, c.byteLength)), d = e.buffer
                            }
                            a[b] = d
                        }
                    }
                }

                function d(a, b) {
                    b = b || {};
                    var d = new f;
                    c(a);
                    for (var e = 0; e < a.length; e++)d.append(a[e]);
                    return b.type ? d.getBlob(b.type) : d.getBlob()
                }

                function e(a, b) {
                    return c(a), new Blob(a, b || {})
                }

                var f = a.BlobBuilder || a.WebKitBlobBuilder || a.MSBlobBuilder || a.MozBlobBuilder, g = function () {
                    try {
                        var a = new Blob(["hi"]);
                        return 2 === a.size
                    } catch (a) {
                        return !1
                    }
                }(), h = g && function () {
                        try {
                            var a = new Blob([new Uint8Array([1, 2])]);
                            return 2 === a.size
                        } catch (a) {
                            return !1
                        }
                    }(), i = f && f.prototype.append && f.prototype.getBlob;
                b.exports = function () {
                    return g ? h ? a.Blob : e : i ? d : void 0
                }()
            }).call(this, "undefined" != typeof self ? self : "undefined" != typeof window ? window : "undefined" != typeof global ? global : {})
        }, {}],
        11: [function (a, b, c) {
            var d = [].slice;
            b.exports = function (a, b) {
                if ("string" == typeof b && (b = a[b]), "function" != typeof b)throw new Error("bind() requires a function");
                var c = d.call(arguments, 2);
                return function () {
                    return b.apply(a, c.concat(d.call(arguments)))
                }
            }
        }, {}],
        12: [function (a, b, c) {
            function d(a) {
                if (a)return e(a)
            }

            function e(a) {
                for (var b in d.prototype)a[b] = d.prototype[b];
                return a
            }

            b.exports = d, d.prototype.on = d.prototype.addEventListener = function (a, b) {
                return this._callbacks = this._callbacks || {}, (this._callbacks["$" + a] = this._callbacks["$" + a] || []).push(b), this
            }, d.prototype.once = function (a, b) {
                function c() {
                    this.off(a, c), b.apply(this, arguments)
                }

                return c.fn = b, this.on(a, c), this
            }, d.prototype.off = d.prototype.removeListener = d.prototype.removeAllListeners = d.prototype.removeEventListener = function (a, b) {
                if (this._callbacks = this._callbacks || {}, 0 == arguments.length)return this._callbacks = {}, this;
                var c = this._callbacks["$" + a];
                if (!c)return this;
                if (1 == arguments.length)return delete this._callbacks["$" + a], this;
                for (var d, e = 0; e < c.length; e++)if (d = c[e], d === b || d.fn === b) {
                    c.splice(e, 1);
                    break
                }
                return this
            }, d.prototype.emit = function (a) {
                this._callbacks = this._callbacks || {};
                var b = [].slice.call(arguments, 1), c = this._callbacks["$" + a];
                if (c) {
                    c = c.slice(0);
                    for (var d = 0, e = c.length; d < e; ++d)c[d].apply(this, b)
                }
                return this
            }, d.prototype.listeners = function (a) {
                return this._callbacks = this._callbacks || {}, this._callbacks["$" + a] || []
            }, d.prototype.hasListeners = function (a) {
                return !!this.listeners(a).length
            }
        }, {}],
        13: [function (a, b, c) {
            b.exports = function (a, b) {
                var c = function () {
                };
                c.prototype = b.prototype, a.prototype = new c, a.prototype.constructor = a
            }
        }, {}],
        14: [function (a, b, c) {
            function d() {
                return "WebkitAppearance" in document.documentElement.style || window.console && (console.firebug || console.exception && console.table) || navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && parseInt(RegExp.$1, 10) >= 31
            }

            function e() {
                var a = arguments, b = this.useColors;
                if (a[0] = (b ? "%c" : "") + this.namespace + (b ? " %c" : " ") + a[0] + (b ? "%c " : " ") + "+" + c.humanize(this.diff), !b)return a;
                var d = "color: " + this.color;
                a = [a[0], d, "color: inherit"].concat(Array.prototype.slice.call(a, 1));
                var e = 0, f = 0;
                return a[0].replace(/%[a-z%]/g, function (a) {
                    "%%" !== a && (e++, "%c" === a && (f = e))
                }), a.splice(f, 0, d), a
            }

            function f() {
                return "object" == typeof console && console.log && Function.prototype.apply.call(console.log, console, arguments)
            }

            function g(a) {
                try {
                    null == a ? c.storage.removeItem("debug") : c.storage.debug = a
                } catch (a) {
                }
            }

            function h() {
                var a;
                try {
                    a = c.storage.debug
                } catch (a) {
                }
                return a
            }

            function i() {
                try {
                    return window.localStorage
                } catch (a) {
                }
            }

            c = b.exports = a("./debug"), c.log = f, c.formatArgs = e, c.save = g, c.load = h, c.useColors = d, c.storage = "undefined" != typeof chrome && "undefined" != typeof chrome.storage ? chrome.storage.local : i(), c.colors = ["lightseagreen", "forestgreen", "goldenrod", "dodgerblue", "darkorchid", "crimson"], c.formatters.j = function (a) {
                return JSON.stringify(a)
            }, c.enable(h())
        }, {"./debug": 15}],
        15: [function (a, b, c) {
            function d() {
                return c.colors[k++ % c.colors.length]
            }

            function e(a) {
                function b() {
                }

                function e() {
                    var a = e, b = +new Date, f = b - (j || b);
                    a.diff = f, a.prev = j, a.curr = b, j = b, null == a.useColors && (a.useColors = c.useColors()), null == a.color && a.useColors && (a.color = d());
                    var g = Array.prototype.slice.call(arguments);
                    g[0] = c.coerce(g[0]), "string" != typeof g[0] && (g = ["%o"].concat(g));
                    var h = 0;
                    g[0] = g[0].replace(/%([a-z%])/g, function (b, d) {
                        if ("%%" === b)return b;
                        h++;
                        var e = c.formatters[d];
                        if ("function" == typeof e) {
                            var f = g[h];
                            b = e.call(a, f), g.splice(h, 1), h--
                        }
                        return b
                    }), "function" == typeof c.formatArgs && (g = c.formatArgs.apply(a, g));
                    var i = e.log || c.log || console.log.bind(console);
                    i.apply(a, g)
                }

                b.enabled = !1, e.enabled = !0;
                var f = c.enabled(a) ? e : b;
                return f.namespace = a, f
            }

            function f(a) {
                c.save(a);
                for (var b = (a || "").split(/[\s,]+/), d = b.length, e = 0; e < d; e++)b[e] && (a = b[e].replace(/\*/g, ".*?"), "-" === a[0] ? c.skips.push(new RegExp("^" + a.substr(1) + "$")) : c.names.push(new RegExp("^" + a + "$")))
            }

            function g() {
                c.enable("")
            }

            function h(a) {
                var b, d;
                for (b = 0, d = c.skips.length; b < d; b++)if (c.skips[b].test(a))return !1;
                for (b = 0, d = c.names.length; b < d; b++)if (c.names[b].test(a))return !0;
                return !1
            }

            function i(a) {
                return a instanceof Error ? a.stack || a.message : a
            }

            c = b.exports = e, c.coerce = i, c.disable = g, c.enable = f, c.enabled = h, c.humanize = a("ms"), c.names = [], c.skips = [], c.formatters = {};
            var j, k = 0
        }, {ms: 35}],
        16: [function (a, b, c) {
            b.exports = a("./lib/")
        }, {"./lib/": 17}],
        17: [function (a, b, c) {
            b.exports = a("./socket"), b.exports.parser = a("engine.io-parser")
        }, {"./socket": 18, "engine.io-parser": 27}],
        18: [function (a, b, c) {
            (function (c) {
                function d(a, b) {
                    if (!(this instanceof d))return new d(a, b);
                    b = b || {}, a && "object" == typeof a && (b = a, a = null), a ? (a = k(a), b.hostname = a.host, b.secure = "https" == a.protocol || "wss" == a.protocol, b.port = a.port, a.query && (b.query = a.query)) : b.host && (b.hostname = k(b.host).host), this.secure = null != b.secure ? b.secure : c.location && "https:" == location.protocol, b.hostname && !b.port && (b.port = this.secure ? "443" : "80"), this.agent = b.agent || !1, this.hostname = b.hostname || (c.location ? location.hostname : "localhost"), this.port = b.port || (c.location && location.port ? location.port : this.secure ? 443 : 80), this.query = b.query || {}, "string" == typeof this.query && (this.query = m.decode(this.query)), this.upgrade = !1 !== b.upgrade, this.path = (b.path || "/engine.io").replace(/\/$/, "") + "/", this.forceJSONP = !!b.forceJSONP, this.jsonp = !1 !== b.jsonp, this.forceBase64 = !!b.forceBase64, this.enablesXDR = !!b.enablesXDR, this.timestampParam = b.timestampParam || "t", this.timestampRequests = b.timestampRequests, this.transports = b.transports || ["polling", "websocket"], this.readyState = "", this.writeBuffer = [], this.policyPort = b.policyPort || 843, this.rememberUpgrade = b.rememberUpgrade || !1, this.binaryType = null, this.onlyBinaryUpgrades = b.onlyBinaryUpgrades, this.perMessageDeflate = !1 !== b.perMessageDeflate && (b.perMessageDeflate || {}), !0 === this.perMessageDeflate && (this.perMessageDeflate = {}), this.perMessageDeflate && null == this.perMessageDeflate.threshold && (this.perMessageDeflate.threshold = 1024), this.pfx = b.pfx || null, this.key = b.key || null, this.passphrase = b.passphrase || null, this.cert = b.cert || null, this.ca = b.ca || null, this.ciphers = b.ciphers || null, this.rejectUnauthorized = void 0 === b.rejectUnauthorized || b.rejectUnauthorized;
                    var e = "object" == typeof c && c;
                    e.global === e && b.extraHeaders && Object.keys(b.extraHeaders).length > 0 && (this.extraHeaders = b.extraHeaders), this.open()
                }

                function e(a) {
                    var b = {};
                    for (var c in a)a.hasOwnProperty(c) && (b[c] = a[c]);
                    return b
                }

                var f = a("./transports"), g = a("component-emitter"), h = a("debug")("engine.io-client:socket"), i = a("indexof"), j = a("engine.io-parser"), k = a("parseuri"), l = a("parsejson"), m = a("parseqs");
                b.exports = d, d.priorWebsocketSuccess = !1, g(d.prototype), d.protocol = j.protocol, d.Socket = d, d.Transport = a("./transport"), d.transports = a("./transports"), d.parser = a("engine.io-parser"), d.prototype.createTransport = function (a) {
                    h('creating transport "%s"', a);
                    var b = e(this.query);
                    b.EIO = j.protocol, b.transport = a, this.id && (b.sid = this.id);
                    var c = new f[a]({
                        agent: this.agent,
                        hostname: this.hostname,
                        port: this.port,
                        secure: this.secure,
                        path: this.path,
                        query: b,
                        forceJSONP: this.forceJSONP,
                        jsonp: this.jsonp,
                        forceBase64: this.forceBase64,
                        enablesXDR: this.enablesXDR,
                        timestampRequests: this.timestampRequests,
                        timestampParam: this.timestampParam,
                        policyPort: this.policyPort,
                        socket: this,
                        pfx: this.pfx,
                        key: this.key,
                        passphrase: this.passphrase,
                        cert: this.cert,
                        ca: this.ca,
                        ciphers: this.ciphers,
                        rejectUnauthorized: this.rejectUnauthorized,
                        perMessageDeflate: this.perMessageDeflate,
                        extraHeaders: this.extraHeaders
                    });
                    return c
                }, d.prototype.open = function () {
                    var a;
                    if (this.rememberUpgrade && d.priorWebsocketSuccess && this.transports.indexOf("websocket") != -1)a = "websocket"; else {
                        if (0 === this.transports.length) {
                            var b = this;
                            return void setTimeout(function () {
                                b.emit("error", "No transports available")
                            }, 0)
                        }
                        a = this.transports[0]
                    }
                    this.readyState = "opening";
                    try {
                        a = this.createTransport(a)
                    } catch (a) {
                        return this.transports.shift(), void this.open()
                    }
                    a.open(), this.setTransport(a)
                }, d.prototype.setTransport = function (a) {
                    h("setting transport %s", a.name);
                    var b = this;
                    this.transport && (h("clearing existing transport %s", this.transport.name), this.transport.removeAllListeners()), this.transport = a, a.on("drain", function () {
                        b.onDrain()
                    }).on("packet", function (a) {
                        b.onPacket(a)
                    }).on("error", function (a) {
                        b.onError(a)
                    }).on("close", function () {
                        b.onClose("transport close")
                    })
                }, d.prototype.probe = function (a) {
                    function b() {
                        if (m.onlyBinaryUpgrades) {
                            var b = !this.supportsBinary && m.transport.supportsBinary;
                            l = l || b
                        }
                        l || (h('probe transport "%s" opened', a), k.send([{
                            type: "ping",
                            data: "probe"
                        }]), k.once("packet", function (b) {
                            if (!l)if ("pong" == b.type && "probe" == b.data) {
                                if (h('probe transport "%s" pong', a), m.upgrading = !0, m.emit("upgrading", k), !k)return;
                                d.priorWebsocketSuccess = "websocket" == k.name, h('pausing current transport "%s"', m.transport.name), m.transport.pause(function () {
                                    l || "closed" != m.readyState && (h("changing transport and sending upgrade packet"), j(), m.setTransport(k), k.send([{type: "upgrade"}]), m.emit("upgrade", k), k = null, m.upgrading = !1, m.flush())
                                })
                            } else {
                                h('probe transport "%s" failed', a);
                                var c = new Error("probe error");
                                c.transport = k.name, m.emit("upgradeError", c)
                            }
                        }))
                    }

                    function c() {
                        l || (l = !0, j(), k.close(), k = null)
                    }

                    function e(b) {
                        var d = new Error("probe error: " + b);
                        d.transport = k.name, c(), h('probe transport "%s" failed because of error: %s', a, b), m.emit("upgradeError", d)
                    }

                    function f() {
                        e("transport closed")
                    }

                    function g() {
                        e("socket closed")
                    }

                    function i(a) {
                        k && a.name != k.name && (h('"%s" works - aborting "%s"', a.name, k.name), c())
                    }

                    function j() {
                        k.removeListener("open", b), k.removeListener("error", e), k.removeListener("close", f), m.removeListener("close", g), m.removeListener("upgrading", i)
                    }

                    h('probing transport "%s"', a);
                    var k = this.createTransport(a, {probe: 1}), l = !1, m = this;
                    d.priorWebsocketSuccess = !1, k.once("open", b), k.once("error", e), k.once("close", f), this.once("close", g), this.once("upgrading", i), k.open()
                }, d.prototype.onOpen = function () {
                    if (h("socket open"), this.readyState = "open", d.priorWebsocketSuccess = "websocket" == this.transport.name, this.emit("open"), this.flush(), "open" == this.readyState && this.upgrade && this.transport.pause) {
                        h("starting upgrade probes");
                        for (var a = 0, b = this.upgrades.length; a < b; a++)this.probe(this.upgrades[a])
                    }
                }, d.prototype.onPacket = function (a) {
                    if ("opening" == this.readyState || "open" == this.readyState)switch (h('socket receive: type "%s", data "%s"', a.type, a.data), this.emit("packet", a), this.emit("heartbeat"), a.type) {
                        case"open":
                            this.onHandshake(l(a.data));
                            break;
                        case"pong":
                            this.setPing(), this.emit("pong");
                            break;
                        case"error":
                            var b = new Error("server error");
                            b.code = a.data, this.onError(b);
                            break;
                        case"message":
                            this.emit("data", a.data), this.emit("message", a.data)
                    } else h('packet received with socket readyState "%s"', this.readyState)
                }, d.prototype.onHandshake = function (a) {
                    this.emit("handshake", a), this.id = a.sid, this.transport.query.sid = a.sid, this.upgrades = this.filterUpgrades(a.upgrades), this.pingInterval = a.pingInterval, this.pingTimeout = a.pingTimeout, this.onOpen(), "closed" != this.readyState && (this.setPing(), this.removeListener("heartbeat", this.onHeartbeat), this.on("heartbeat", this.onHeartbeat))
                }, d.prototype.onHeartbeat = function (a) {
                    clearTimeout(this.pingTimeoutTimer);
                    var b = this;
                    b.pingTimeoutTimer = setTimeout(function () {
                        "closed" != b.readyState && b.onClose("ping timeout")
                    }, a || b.pingInterval + b.pingTimeout)
                }, d.prototype.setPing = function () {
                    var a = this;
                    clearTimeout(a.pingIntervalTimer), a.pingIntervalTimer = setTimeout(function () {
                        h("writing ping packet - expecting pong within %sms", a.pingTimeout), a.ping(), a.onHeartbeat(a.pingTimeout)
                    }, a.pingInterval)
                }, d.prototype.ping = function () {
                    var a = this;
                    this.sendPacket("ping", function () {
                        a.emit("ping")
                    })
                }, d.prototype.onDrain = function () {
                    this.writeBuffer.splice(0, this.prevBufferLen), this.prevBufferLen = 0, 0 === this.writeBuffer.length ? this.emit("drain") : this.flush()
                }, d.prototype.flush = function () {
                    "closed" != this.readyState && this.transport.writable && !this.upgrading && this.writeBuffer.length && (h("flushing %d packets in socket", this.writeBuffer.length), this.transport.send(this.writeBuffer), this.prevBufferLen = this.writeBuffer.length,
                        this.emit("flush"))
                }, d.prototype.write = d.prototype.send = function (a, b, c) {
                    return this.sendPacket("message", a, b, c), this
                }, d.prototype.sendPacket = function (a, b, c, d) {
                    if ("function" == typeof b && (d = b, b = void 0), "function" == typeof c && (d = c, c = null), "closing" != this.readyState && "closed" != this.readyState) {
                        c = c || {}, c.compress = !1 !== c.compress;
                        var e = {type: a, data: b, options: c};
                        this.emit("packetCreate", e), this.writeBuffer.push(e), d && this.once("flush", d), this.flush()
                    }
                }, d.prototype.close = function () {
                    function a() {
                        d.onClose("forced close"), h("socket closing - telling transport to close"), d.transport.close()
                    }

                    function b() {
                        d.removeListener("upgrade", b), d.removeListener("upgradeError", b), a()
                    }

                    function c() {
                        d.once("upgrade", b), d.once("upgradeError", b)
                    }

                    if ("opening" == this.readyState || "open" == this.readyState) {
                        this.readyState = "closing";
                        var d = this;
                        this.writeBuffer.length ? this.once("drain", function () {
                            this.upgrading ? c() : a()
                        }) : this.upgrading ? c() : a()
                    }
                    return this
                }, d.prototype.onError = function (a) {
                    h("socket error %j", a), d.priorWebsocketSuccess = !1, this.emit("error", a), this.onClose("transport error", a)
                }, d.prototype.onClose = function (a, b) {
                    if ("opening" == this.readyState || "open" == this.readyState || "closing" == this.readyState) {
                        h('socket close with reason: "%s"', a);
                        var c = this;
                        clearTimeout(this.pingIntervalTimer), clearTimeout(this.pingTimeoutTimer), this.transport.removeAllListeners("close"), this.transport.close(), this.transport.removeAllListeners(), this.readyState = "closed", this.id = null, this.emit("close", a, b), c.writeBuffer = [], c.prevBufferLen = 0
                    }
                }, d.prototype.filterUpgrades = function (a) {
                    for (var b = [], c = 0, d = a.length; c < d; c++)~i(this.transports, a[c]) && b.push(a[c]);
                    return b
                }
            }).call(this, "undefined" != typeof self ? self : "undefined" != typeof window ? window : "undefined" != typeof global ? global : {})
        }, {
            "./transport": 19,
            "./transports": 20,
            "component-emitter": 26,
            debug: 14,
            "engine.io-parser": 27,
            indexof: 32,
            parsejson: 36,
            parseqs: 37,
            parseuri: 38
        }],
        19: [function (a, b, c) {
            function d(a) {
                this.path = a.path, this.hostname = a.hostname, this.port = a.port, this.secure = a.secure, this.query = a.query, this.timestampParam = a.timestampParam, this.timestampRequests = a.timestampRequests, this.readyState = "", this.agent = a.agent || !1, this.socket = a.socket, this.enablesXDR = a.enablesXDR, this.pfx = a.pfx, this.key = a.key, this.passphrase = a.passphrase, this.cert = a.cert, this.ca = a.ca, this.ciphers = a.ciphers, this.rejectUnauthorized = a.rejectUnauthorized, this.extraHeaders = a.extraHeaders
            }

            var e = a("engine.io-parser"), f = a("component-emitter");
            b.exports = d, f(d.prototype), d.prototype.onError = function (a, b) {
                var c = new Error(a);
                return c.type = "TransportError", c.description = b, this.emit("error", c), this
            }, d.prototype.open = function () {
                return "closed" != this.readyState && "" != this.readyState || (this.readyState = "opening", this.doOpen()), this
            }, d.prototype.close = function () {
                return "opening" != this.readyState && "open" != this.readyState || (this.doClose(), this.onClose()), this
            }, d.prototype.send = function (a) {
                if ("open" != this.readyState)throw new Error("Transport not open");
                this.write(a)
            }, d.prototype.onOpen = function () {
                this.readyState = "open", this.writable = !0, this.emit("open")
            }, d.prototype.onData = function (a) {
                var b = e.decodePacket(a, this.socket.binaryType);
                this.onPacket(b)
            }, d.prototype.onPacket = function (a) {
                this.emit("packet", a)
            }, d.prototype.onClose = function () {
                this.readyState = "closed", this.emit("close")
            }
        }, {"component-emitter": 26, "engine.io-parser": 27}],
        20: [function (a, b, c) {
            (function (b) {
                function d(a) {
                    var c, d = !1, h = !1, i = !1 !== a.jsonp;
                    if (b.location) {
                        var j = "https:" == location.protocol, k = location.port;
                        k || (k = j ? 443 : 80), d = a.hostname != location.hostname || k != a.port, h = a.secure != j
                    }
                    if (a.xdomain = d, a.xscheme = h, c = new e(a), "open" in c && !a.forceJSONP)return new f(a);
                    if (!i)throw new Error("JSONP disabled");
                    return new g(a)
                }

                var e = a("xmlhttprequest-ssl"), f = a("./polling-xhr"), g = a("./polling-jsonp"), h = a("./websocket");
                c.polling = d, c.websocket = h
            }).call(this, "undefined" != typeof self ? self : "undefined" != typeof window ? window : "undefined" != typeof global ? global : {})
        }, {"./polling-jsonp": 21, "./polling-xhr": 22, "./websocket": 24, "xmlhttprequest-ssl": 25}],
        21: [function (a, b, c) {
            (function (c) {
                function d() {
                }

                function e(a) {
                    f.call(this, a), this.query = this.query || {}, h || (c.___eio || (c.___eio = []), h = c.___eio), this.index = h.length;
                    var b = this;
                    h.push(function (a) {
                        b.onData(a)
                    }), this.query.j = this.index, c.document && c.addEventListener && c.addEventListener("beforeunload", function () {
                        b.script && (b.script.onerror = d)
                    }, !1)
                }

                var f = a("./polling"), g = a("component-inherit");
                b.exports = e;
                var h, i = /\n/g, j = /\\n/g;
                g(e, f), e.prototype.supportsBinary = !1, e.prototype.doClose = function () {
                    this.script && (this.script.parentNode.removeChild(this.script), this.script = null), this.form && (this.form.parentNode.removeChild(this.form), this.form = null, this.iframe = null), f.prototype.doClose.call(this)
                }, e.prototype.doPoll = function () {
                    var a = this, b = document.createElement("script");
                    this.script && (this.script.parentNode.removeChild(this.script), this.script = null), b.async = !0, b.src = this.uri(), b.onerror = function (b) {
                        a.onError("jsonp poll error", b)
                    };
                    var c = document.getElementsByTagName("script")[0];
                    c ? c.parentNode.insertBefore(b, c) : (document.head || document.body).appendChild(b), this.script = b;
                    var d = "undefined" != typeof navigator && /gecko/i.test(navigator.userAgent);
                    d && setTimeout(function () {
                        var a = document.createElement("iframe");
                        document.body.appendChild(a), document.body.removeChild(a)
                    }, 100)
                }, e.prototype.doWrite = function (a, b) {
                    function c() {
                        d(), b()
                    }

                    function d() {
                        if (e.iframe)try {
                            e.form.removeChild(e.iframe)
                        } catch (a) {
                            e.onError("jsonp polling iframe removal error", a)
                        }
                        try {
                            var a = '<iframe src="javascript:0" name="' + e.iframeId + '">';
                            f = document.createElement(a)
                        } catch (a) {
                            f = document.createElement("iframe"), f.name = e.iframeId, f.src = "javascript:0"
                        }
                        f.id = e.iframeId, e.form.appendChild(f), e.iframe = f
                    }

                    var e = this;
                    if (!this.form) {
                        var f, g = document.createElement("form"), h = document.createElement("textarea"), k = this.iframeId = "eio_iframe_" + this.index;
                        g.className = "socketio", g.style.position = "absolute", g.style.top = "-1000px", g.style.left = "-1000px", g.target = k, g.method = "POST", g.setAttribute("accept-charset", "utf-8"), h.name = "d", g.appendChild(h), document.body.appendChild(g), this.form = g, this.area = h
                    }
                    this.form.action = this.uri(), d(), a = a.replace(j, "\\\n"), this.area.value = a.replace(i, "\\n");
                    try {
                        this.form.submit()
                    } catch (a) {
                    }
                    this.iframe.attachEvent ? this.iframe.onreadystatechange = function () {
                        "complete" == e.iframe.readyState && c()
                    } : this.iframe.onload = c
                }
            }).call(this, "undefined" != typeof self ? self : "undefined" != typeof window ? window : "undefined" != typeof global ? global : {})
        }, {"./polling": 23, "component-inherit": 13}],
        22: [function (a, b, c) {
            (function (c) {
                function d() {
                }

                function e(a) {
                    if (i.call(this, a), c.location) {
                        var b = "https:" == location.protocol, d = location.port;
                        d || (d = b ? 443 : 80), this.xd = a.hostname != c.location.hostname || d != a.port, this.xs = a.secure != b
                    } else this.extraHeaders = a.extraHeaders
                }

                function f(a) {
                    this.method = a.method || "GET", this.uri = a.uri, this.xd = !!a.xd, this.xs = !!a.xs, this.async = !1 !== a.async, this.data = void 0 != a.data ? a.data : null, this.agent = a.agent, this.isBinary = a.isBinary, this.supportsBinary = a.supportsBinary, this.enablesXDR = a.enablesXDR, this.pfx = a.pfx, this.key = a.key, this.passphrase = a.passphrase, this.cert = a.cert, this.ca = a.ca, this.ciphers = a.ciphers, this.rejectUnauthorized = a.rejectUnauthorized, this.extraHeaders = a.extraHeaders, this.create()
                }

                function g() {
                    for (var a in f.requests)f.requests.hasOwnProperty(a) && f.requests[a].abort()
                }

                var h = a("xmlhttprequest-ssl"), i = a("./polling"), j = a("component-emitter"), k = a("component-inherit"), l = a("debug")("engine.io-client:polling-xhr");
                b.exports = e, b.exports.Request = f, k(e, i), e.prototype.supportsBinary = !0, e.prototype.request = function (a) {
                    return a = a || {}, a.uri = this.uri(), a.xd = this.xd, a.xs = this.xs, a.agent = this.agent || !1, a.supportsBinary = this.supportsBinary, a.enablesXDR = this.enablesXDR, a.pfx = this.pfx, a.key = this.key, a.passphrase = this.passphrase, a.cert = this.cert, a.ca = this.ca, a.ciphers = this.ciphers, a.rejectUnauthorized = this.rejectUnauthorized, a.extraHeaders = this.extraHeaders, new f(a)
                }, e.prototype.doWrite = function (a, b) {
                    var c = "string" != typeof a && void 0 !== a, d = this.request({
                        method: "POST",
                        data: a,
                        isBinary: c
                    }), e = this;
                    d.on("success", b), d.on("error", function (a) {
                        e.onError("xhr post error", a)
                    }), this.sendXhr = d
                }, e.prototype.doPoll = function () {
                    l("xhr poll");
                    var a = this.request(), b = this;
                    a.on("data", function (a) {
                        b.onData(a)
                    }), a.on("error", function (a) {
                        b.onError("xhr poll error", a)
                    }), this.pollXhr = a
                }, j(f.prototype), f.prototype.create = function () {
                    var a = {agent: this.agent, xdomain: this.xd, xscheme: this.xs, enablesXDR: this.enablesXDR};
                    a.pfx = this.pfx, a.key = this.key, a.passphrase = this.passphrase, a.cert = this.cert, a.ca = this.ca, a.ciphers = this.ciphers, a.rejectUnauthorized = this.rejectUnauthorized;
                    var b = this.xhr = new h(a), d = this;
                    try {
                        l("xhr open %s: %s", this.method, this.uri), b.open(this.method, this.uri, this.async);
                        try {
                            if (this.extraHeaders) {
                                b.setDisableHeaderCheck(!0);
                                for (var e in this.extraHeaders)this.extraHeaders.hasOwnProperty(e) && b.setRequestHeader(e, this.extraHeaders[e])
                            }
                        } catch (a) {
                        }
                        if (this.supportsBinary && (b.responseType = "arraybuffer"), "POST" == this.method)try {
                            this.isBinary ? b.setRequestHeader("Content-type", "application/octet-stream") : b.setRequestHeader("Content-type", "text/plain;charset=UTF-8")
                        } catch (a) {
                        }
                        "withCredentials" in b && (b.withCredentials = !0), this.hasXDR() ? (b.onload = function () {
                            d.onLoad()
                        }, b.onerror = function () {
                            d.onError(b.responseText)
                        }) : b.onreadystatechange = function () {
                            4 == b.readyState && (200 == b.status || 1223 == b.status ? d.onLoad() : setTimeout(function () {
                                d.onError(b.status)
                            }, 0))
                        }, l("xhr data %s", this.data), b.send(this.data)
                    } catch (a) {
                        return void setTimeout(function () {
                            d.onError(a)
                        }, 0)
                    }
                    c.document && (this.index = f.requestsCount++, f.requests[this.index] = this)
                }, f.prototype.onSuccess = function () {
                    this.emit("success"), this.cleanup()
                }, f.prototype.onData = function (a) {
                    this.emit("data", a), this.onSuccess()
                }, f.prototype.onError = function (a) {
                    this.emit("error", a), this.cleanup(!0)
                }, f.prototype.cleanup = function (a) {
                    if ("undefined" != typeof this.xhr && null !== this.xhr) {
                        if (this.hasXDR() ? this.xhr.onload = this.xhr.onerror = d : this.xhr.onreadystatechange = d, a)try {
                            this.xhr.abort()
                        } catch (a) {
                        }
                        c.document && delete f.requests[this.index], this.xhr = null
                    }
                }, f.prototype.onLoad = function () {
                    var a;
                    try {
                        var b;
                        try {
                            b = this.xhr.getResponseHeader("Content-Type").split(";")[0]
                        } catch (a) {
                        }
                        if ("application/octet-stream" === b)a = this.xhr.response; else if (this.supportsBinary)try {
                            a = String.fromCharCode.apply(null, new Uint8Array(this.xhr.response))
                        } catch (b) {
                            for (var c = new Uint8Array(this.xhr.response), d = [], e = 0, f = c.length; e < f; e++)d.push(c[e]);
                            a = String.fromCharCode.apply(null, d)
                        } else a = this.xhr.responseText
                    } catch (a) {
                        this.onError(a)
                    }
                    null != a && this.onData(a)
                }, f.prototype.hasXDR = function () {
                    return "undefined" != typeof c.XDomainRequest && !this.xs && this.enablesXDR
                }, f.prototype.abort = function () {
                    this.cleanup()
                }, c.document && (f.requestsCount = 0, f.requests = {}, c.attachEvent ? c.attachEvent("onunload", g) : c.addEventListener && c.addEventListener("beforeunload", g, !1))
            }).call(this, "undefined" != typeof self ? self : "undefined" != typeof window ? window : "undefined" != typeof global ? global : {})
        }, {"./polling": 23, "component-emitter": 26, "component-inherit": 13, debug: 14, "xmlhttprequest-ssl": 25}],
        23: [function (a, b, c) {
            function d(a) {
                var b = a && a.forceBase64;
                k && !b || (this.supportsBinary = !1), e.call(this, a)
            }

            var e = a("../transport"), f = a("parseqs"), g = a("engine.io-parser"), h = a("component-inherit"), i = a("yeast"), j = a("debug")("engine.io-client:polling");
            b.exports = d;
            var k = function () {
                var b = a("xmlhttprequest-ssl"), c = new b({xdomain: !1});
                return null != c.responseType
            }();
            h(d, e), d.prototype.name = "polling", d.prototype.doOpen = function () {
                this.poll()
            }, d.prototype.pause = function (a) {
                function b() {
                    j("paused"), c.readyState = "paused", a()
                }

                var c = this;
                if (this.readyState = "pausing", this.polling || !this.writable) {
                    var d = 0;
                    this.polling && (j("we are currently polling - waiting to pause"), d++, this.once("pollComplete", function () {
                        j("pre-pause polling complete"), --d || b()
                    })), this.writable || (j("we are currently writing - waiting to pause"), d++, this.once("drain", function () {
                        j("pre-pause writing complete"), --d || b()
                    }))
                } else b()
            }, d.prototype.poll = function () {
                j("polling"), this.polling = !0, this.doPoll(), this.emit("poll")
            }, d.prototype.onData = function (a) {
                var b = this;
                j("polling got data %s", a);
                var c = function (a, c, d) {
                    return "opening" == b.readyState && b.onOpen(), "close" == a.type ? (b.onClose(), !1) : void b.onPacket(a)
                };
                g.decodePayload(a, this.socket.binaryType, c), "closed" != this.readyState && (this.polling = !1, this.emit("pollComplete"), "open" == this.readyState ? this.poll() : j('ignoring poll - transport state "%s"', this.readyState))
            }, d.prototype.doClose = function () {
                function a() {
                    j("writing close packet"), b.write([{type: "close"}])
                }

                var b = this;
                "open" == this.readyState ? (j("transport open - closing"), a()) : (j("transport not open - deferring close"), this.once("open", a))
            }, d.prototype.write = function (a) {
                var b = this;
                this.writable = !1;
                var c = function () {
                    b.writable = !0, b.emit("drain")
                }, b = this;
                g.encodePayload(a, this.supportsBinary, function (a) {
                    b.doWrite(a, c)
                })
            }, d.prototype.uri = function () {
                var a = this.query || {}, b = this.secure ? "https" : "http", c = "";
                !1 !== this.timestampRequests && (a[this.timestampParam] = i()), this.supportsBinary || a.sid || (a.b64 = 1), a = f.encode(a), this.port && ("https" == b && 443 != this.port || "http" == b && 80 != this.port) && (c = ":" + this.port), a.length && (a = "?" + a);
                var d = this.hostname.indexOf(":") !== -1;
                return b + "://" + (d ? "[" + this.hostname + "]" : this.hostname) + c + this.path + a
            }
        }, {
            "../transport": 19,
            "component-inherit": 13,
            debug: 14,
            "engine.io-parser": 27,
            parseqs: 37,
            "xmlhttprequest-ssl": 25,
            yeast: 45
        }],
        24: [function (a, b, c) {
            (function (c) {
                function d(a) {
                    var b = a && a.forceBase64;
                    b && (this.supportsBinary = !1), this.perMessageDeflate = a.perMessageDeflate, e.call(this, a)
                }

                var e = a("../transport"), f = a("engine.io-parser"), g = a("parseqs"), h = a("component-inherit"), i = a("yeast"), j = a("debug")("engine.io-client:websocket"), k = c.WebSocket || c.MozWebSocket, l = k;
                if (!l && "undefined" == typeof window)try {
                    l = a("ws")
                } catch (a) {
                }
                b.exports = d, h(d, e), d.prototype.name = "websocket", d.prototype.supportsBinary = !0, d.prototype.doOpen = function () {
                    if (this.check()) {
                        var a = this.uri(), b = void 0, c = {
                            agent: this.agent,
                            perMessageDeflate: this.perMessageDeflate
                        };
                        c.pfx = this.pfx, c.key = this.key, c.passphrase = this.passphrase, c.cert = this.cert, c.ca = this.ca, c.ciphers = this.ciphers, c.rejectUnauthorized = this.rejectUnauthorized, this.extraHeaders && (c.headers = this.extraHeaders), this.ws = k ? new l(a) : new l(a, b, c), void 0 === this.ws.binaryType && (this.supportsBinary = !1), this.ws.supports && this.ws.supports.binary ? (this.supportsBinary = !0, this.ws.binaryType = "buffer") : this.ws.binaryType = "arraybuffer", this.addEventListeners()
                    }
                }, d.prototype.addEventListeners = function () {
                    var a = this;
                    this.ws.onopen = function () {
                        a.onOpen()
                    }, this.ws.onclose = function () {
                        a.onClose()
                    }, this.ws.onmessage = function (b) {
                        a.onData(b.data)
                    }, this.ws.onerror = function (b) {
                        a.onError("websocket error", b)
                    }
                }, "undefined" != typeof navigator && /iPad|iPhone|iPod/i.test(navigator.userAgent) && (d.prototype.onData = function (a) {
                    var b = this;
                    setTimeout(function () {
                        e.prototype.onData.call(b, a)
                    }, 0)
                }), d.prototype.write = function (a) {
                    function b() {
                        d.emit("flush"), setTimeout(function () {
                            d.writable = !0, d.emit("drain")
                        }, 0)
                    }

                    var d = this;
                    this.writable = !1;
                    for (var e = a.length, g = 0, h = e; g < h; g++)!function (a) {
                        f.encodePacket(a, d.supportsBinary, function (f) {
                            if (!k) {
                                var g = {};
                                if (a.options && (g.compress = a.options.compress), d.perMessageDeflate) {
                                    var h = "string" == typeof f ? c.Buffer.byteLength(f) : f.length;
                                    h < d.perMessageDeflate.threshold && (g.compress = !1)
                                }
                            }
                            try {
                                k ? d.ws.send(f) : d.ws.send(f, g)
                            } catch (a) {
                                j("websocket closed before onclose event")
                            }
                            --e || b()
                        })
                    }(a[g])
                }, d.prototype.onClose = function () {
                    e.prototype.onClose.call(this)
                }, d.prototype.doClose = function () {
                    "undefined" != typeof this.ws && this.ws.close()
                }, d.prototype.uri = function () {
                    var a = this.query || {}, b = this.secure ? "wss" : "ws", c = "";
                    this.port && ("wss" == b && 443 != this.port || "ws" == b && 80 != this.port) && (c = ":" + this.port), this.timestampRequests && (a[this.timestampParam] = i()), this.supportsBinary || (a.b64 = 1), a = g.encode(a), a.length && (a = "?" + a);
                    var d = this.hostname.indexOf(":") !== -1;
                    return b + "://" + (d ? "[" + this.hostname + "]" : this.hostname) + c + this.path + a
                }, d.prototype.check = function () {
                    return !(!l || "__initialize" in l && this.name === d.prototype.name)
                }
            }).call(this, "undefined" != typeof self ? self : "undefined" != typeof window ? window : "undefined" != typeof global ? global : {})
        }, {
            "../transport": 19,
            "component-inherit": 13,
            debug: 14,
            "engine.io-parser": 27,
            parseqs: 37,
            ws: void 0,
            yeast: 45
        }],
        25: [function (a, b, c) {
            var d = a("has-cors");
            b.exports = function (a) {
                var b = a.xdomain, c = a.xscheme, e = a.enablesXDR;
                try {
                    if ("undefined" != typeof XMLHttpRequest && (!b || d))return new XMLHttpRequest
                } catch (a) {
                }
                try {
                    if ("undefined" != typeof XDomainRequest && !c && e)return new XDomainRequest
                } catch (a) {
                }
                if (!b)try {
                    return new ActiveXObject("Microsoft.XMLHTTP")
                } catch (a) {
                }
            }
        }, {"has-cors": 31}],
        26: [function (a, b, c) {
            function d(a) {
                if (a)return e(a)
            }

            function e(a) {
                for (var b in d.prototype)a[b] = d.prototype[b];
                return a
            }

            b.exports = d, d.prototype.on = d.prototype.addEventListener = function (a, b) {
                return this._callbacks = this._callbacks || {}, (this._callbacks[a] = this._callbacks[a] || []).push(b), this
            }, d.prototype.once = function (a, b) {
                function c() {
                    d.off(a, c), b.apply(this, arguments)
                }

                var d = this;
                return this._callbacks = this._callbacks || {}, c.fn = b, this.on(a, c), this
            }, d.prototype.off = d.prototype.removeListener = d.prototype.removeAllListeners = d.prototype.removeEventListener = function (a, b) {
                if (this._callbacks = this._callbacks || {}, 0 == arguments.length)return this._callbacks = {}, this;
                var c = this._callbacks[a];
                if (!c)return this;
                if (1 == arguments.length)return delete this._callbacks[a], this;
                for (var d, e = 0; e < c.length; e++)if (d = c[e], d === b || d.fn === b) {
                    c.splice(e, 1);
                    break
                }
                return this
            }, d.prototype.emit = function (a) {
                this._callbacks = this._callbacks || {};
                var b = [].slice.call(arguments, 1), c = this._callbacks[a];
                if (c) {
                    c = c.slice(0);
                    for (var d = 0, e = c.length; d < e; ++d)c[d].apply(this, b)
                }
                return this
            }, d.prototype.listeners = function (a) {
                return this._callbacks = this._callbacks || {}, this._callbacks[a] || []
            }, d.prototype.hasListeners = function (a) {
                return !!this.listeners(a).length
            }
        }, {}],
        27: [function (a, b, c) {
            (function (b) {
                function d(a, b) {
                    var d = "b" + c.packets[a.type] + a.data.data;
                    return b(d)
                }

                function e(a, b, d) {
                    if (!b)return c.encodeBase64Packet(a, d);
                    var e = a.data, f = new Uint8Array(e), g = new Uint8Array(1 + e.byteLength);
                    g[0] = r[a.type];
                    for (var h = 0; h < f.length; h++)g[h + 1] = f[h];
                    return d(g.buffer)
                }

                function f(a, b, d) {
                    if (!b)return c.encodeBase64Packet(a, d);
                    var e = new FileReader;
                    return e.onload = function () {
                        a.data = e.result, c.encodePacket(a, b, !0, d)
                    }, e.readAsArrayBuffer(a.data)
                }

                function g(a, b, d) {
                    if (!b)return c.encodeBase64Packet(a, d);
                    if (q)return f(a, b, d);
                    var e = new Uint8Array(1);
                    e[0] = r[a.type];
                    var g = new u([e.buffer, a.data]);
                    return d(g)
                }

                function h(a, b, c) {
                    for (var d = new Array(a.length), e = m(a.length, c), f = function (a, c, e) {
                        b(c, function (b, c) {
                            d[a] = c, e(b, d)
                        })
                    }, g = 0; g < a.length; g++)f(g, a[g], e)
                }

                var i = a("./keys"), j = a("has-binary"), k = a("arraybuffer.slice"), l = a("base64-arraybuffer"), m = a("after"), n = a("utf8"), o = navigator.userAgent.match(/Android/i), p = /PhantomJS/i.test(navigator.userAgent), q = o || p;
                c.protocol = 3;
                var r = c.packets = {
                    open: 0,
                    close: 1,
                    ping: 2,
                    pong: 3,
                    message: 4,
                    upgrade: 5,
                    noop: 6
                }, s = i(r), t = {type: "error", data: "parser error"}, u = a("blob");
                c.encodePacket = function (a, c, f, h) {
                    "function" == typeof c && (h = c, c = !1), "function" == typeof f && (h = f, f = null);
                    var i = void 0 === a.data ? void 0 : a.data.buffer || a.data;
                    if (b.ArrayBuffer && i instanceof ArrayBuffer)return e(a, c, h);
                    if (u && i instanceof b.Blob)return g(a, c, h);
                    if (i && i.base64)return d(a, h);
                    var j = r[a.type];
                    return void 0 !== a.data && (j += f ? n.encode(String(a.data)) : String(a.data)), h("" + j)
                }, c.encodeBase64Packet = function (a, d) {
                    var e = "b" + c.packets[a.type];
                    if (u && a.data instanceof b.Blob) {
                        var f = new FileReader;
                        return f.onload = function () {
                            var a = f.result.split(",")[1];
                            d(e + a)
                        }, f.readAsDataURL(a.data)
                    }
                    var g;
                    try {
                        g = String.fromCharCode.apply(null, new Uint8Array(a.data))
                    } catch (b) {
                        for (var h = new Uint8Array(a.data), i = new Array(h.length), j = 0; j < h.length; j++)i[j] = h[j];
                        g = String.fromCharCode.apply(null, i)
                    }
                    return e += b.btoa(g), d(e)
                }, c.decodePacket = function (a, b, d) {
                    if ("string" == typeof a || void 0 === a) {
                        if ("b" == a.charAt(0))return c.decodeBase64Packet(a.substr(1), b);
                        if (d)try {
                            a = n.decode(a)
                        } catch (a) {
                            return t
                        }
                        var e = a.charAt(0);
                        return Number(e) == e && s[e] ? a.length > 1 ? {
                            type: s[e],
                            data: a.substring(1)
                        } : {type: s[e]} : t
                    }
                    var f = new Uint8Array(a), e = f[0], g = k(a, 1);
                    return u && "blob" === b && (g = new u([g])), {type: s[e], data: g}
                }, c.decodeBase64Packet = function (a, c) {
                    var d = s[a.charAt(0)];
                    if (!b.ArrayBuffer)return {type: d, data: {base64: !0, data: a.substr(1)}};
                    var e = l.decode(a.substr(1));
                    return "blob" === c && u && (e = new u([e])), {type: d, data: e}
                }, c.encodePayload = function (a, b, d) {
                    function e(a) {
                        return a.length + ":" + a
                    }

                    function f(a, d) {
                        c.encodePacket(a, !!g && b, !0, function (a) {
                            d(null, e(a))
                        })
                    }

                    "function" == typeof b && (d = b, b = null);
                    var g = j(a);
                    return b && g ? u && !q ? c.encodePayloadAsBlob(a, d) : c.encodePayloadAsArrayBuffer(a, d) : a.length ? void h(a, f, function (a, b) {
                        return d(b.join(""))
                    }) : d("0:")
                }, c.decodePayload = function (a, b, d) {
                    if ("string" != typeof a)return c.decodePayloadAsBinary(a, b, d);
                    "function" == typeof b && (d = b, b = null);
                    var e;
                    if ("" == a)return d(t, 0, 1);
                    for (var f, g, h = "", i = 0, j = a.length; i < j; i++) {
                        var k = a.charAt(i);
                        if (":" != k)h += k; else {
                            if ("" == h || h != (f = Number(h)))return d(t, 0, 1);
                            if (g = a.substr(i + 1, f), h != g.length)return d(t, 0, 1);
                            if (g.length) {
                                if (e = c.decodePacket(g, b, !0), t.type == e.type && t.data == e.data)return d(t, 0, 1);
                                var l = d(e, i + f, j);
                                if (!1 === l)return
                            }
                            i += f, h = ""
                        }
                    }
                    return "" != h ? d(t, 0, 1) : void 0
                }, c.encodePayloadAsArrayBuffer = function (a, b) {
                    function d(a, b) {
                        c.encodePacket(a, !0, !0, function (a) {
                            return b(null, a)
                        })
                    }

                    return a.length ? void h(a, d, function (a, c) {
                        var d = c.reduce(function (a, b) {
                            var c;
                            return c = "string" == typeof b ? b.length : b.byteLength, a + c.toString().length + c + 2
                        }, 0), e = new Uint8Array(d), f = 0;
                        return c.forEach(function (a) {
                            var b = "string" == typeof a, c = a;
                            if (b) {
                                for (var d = new Uint8Array(a.length), g = 0; g < a.length; g++)d[g] = a.charCodeAt(g);
                                c = d.buffer
                            }
                            b ? e[f++] = 0 : e[f++] = 1;
                            for (var h = c.byteLength.toString(), g = 0; g < h.length; g++)e[f++] = parseInt(h[g]);
                            e[f++] = 255;
                            for (var d = new Uint8Array(c), g = 0; g < d.length; g++)e[f++] = d[g]
                        }), b(e.buffer)
                    }) : b(new ArrayBuffer(0))
                }, c.encodePayloadAsBlob = function (a, b) {
                    function d(a, b) {
                        c.encodePacket(a, !0, !0, function (a) {
                            var c = new Uint8Array(1);
                            if (c[0] = 1, "string" == typeof a) {
                                for (var d = new Uint8Array(a.length), e = 0; e < a.length; e++)d[e] = a.charCodeAt(e);
                                a = d.buffer, c[0] = 0
                            }
                            for (var f = a instanceof ArrayBuffer ? a.byteLength : a.size, g = f.toString(), h = new Uint8Array(g.length + 1), e = 0; e < g.length; e++)h[e] = parseInt(g[e]);
                            if (h[g.length] = 255, u) {
                                var i = new u([c.buffer, h.buffer, a]);
                                b(null, i)
                            }
                        })
                    }

                    h(a, d, function (a, c) {
                        return b(new u(c))
                    })
                }, c.decodePayloadAsBinary = function (a, b, d) {
                    "function" == typeof b && (d = b, b = null);
                    for (var e = a, f = [], g = !1; e.byteLength > 0;) {
                        for (var h = new Uint8Array(e), i = 0 === h[0], j = "", l = 1; 255 != h[l]; l++) {
                            if (j.length > 310) {
                                g = !0;
                                break
                            }
                            j += h[l]
                        }
                        if (g)return d(t, 0, 1);
                        e = k(e, 2 + j.length), j = parseInt(j);
                        var m = k(e, 0, j);
                        if (i)try {
                            m = String.fromCharCode.apply(null, new Uint8Array(m))
                        } catch (a) {
                            var n = new Uint8Array(m);
                            m = "";
                            for (var l = 0; l < n.length; l++)m += String.fromCharCode(n[l])
                        }
                        f.push(m), e = k(e, j)
                    }
                    var o = f.length;
                    f.forEach(function (a, e) {
                        d(c.decodePacket(a, b, !0), e, o)
                    })
                }
            }).call(this, "undefined" != typeof self ? self : "undefined" != typeof window ? window : "undefined" != typeof global ? global : {})
        }, {
            "./keys": 28,
            after: 6,
            "arraybuffer.slice": 7,
            "base64-arraybuffer": 9,
            blob: 10,
            "has-binary": 29,
            utf8: 44
        }],
        28: [function (a, b, c) {
            b.exports = Object.keys || function (a) {
                    var b = [], c = Object.prototype.hasOwnProperty;
                    for (var d in a)c.call(a, d) && b.push(d);
                    return b
                }
        }, {}],
        29: [function (a, b, c) {
            (function (c) {
                function d(a) {
                    function b(a) {
                        if (!a)return !1;
                        if (c.Buffer && c.Buffer.isBuffer(a) || c.ArrayBuffer && a instanceof ArrayBuffer || c.Blob && a instanceof Blob || c.File && a instanceof File)return !0;
                        if (e(a)) {
                            for (var d = 0; d < a.length; d++)if (b(a[d]))return !0
                        } else if (a && "object" == typeof a) {
                            a.toJSON && (a = a.toJSON());
                            for (var f in a)if (Object.prototype.hasOwnProperty.call(a, f) && b(a[f]))return !0
                        }
                        return !1
                    }

                    return b(a)
                }

                var e = a("isarray");
                b.exports = d
            }).call(this, "undefined" != typeof self ? self : "undefined" != typeof window ? window : "undefined" != typeof global ? global : {})
        }, {isarray: 33}],
        30: [function (a, b, c) {
            (function (c) {
                function d(a) {
                    function b(a) {
                        if (!a)return !1;
                        if (c.Buffer && c.Buffer.isBuffer && c.Buffer.isBuffer(a) || c.ArrayBuffer && a instanceof ArrayBuffer || c.Blob && a instanceof Blob || c.File && a instanceof File)return !0;
                        if (e(a)) {
                            for (var d = 0; d < a.length; d++)if (b(a[d]))return !0
                        } else if (a && "object" == typeof a) {
                            a.toJSON && "function" == typeof a.toJSON && (a = a.toJSON());
                            for (var f in a)if (Object.prototype.hasOwnProperty.call(a, f) && b(a[f]))return !0
                        }
                        return !1
                    }

                    return b(a)
                }

                var e = a("isarray");
                b.exports = d
            }).call(this, "undefined" != typeof self ? self : "undefined" != typeof window ? window : "undefined" != typeof global ? global : {})
        }, {isarray: 33}],
        31: [function (a, b, c) {
            try {
                b.exports = "undefined" != typeof XMLHttpRequest && "withCredentials" in new XMLHttpRequest
            } catch (a) {
                b.exports = !1
            }
        }, {}],
        32: [function (a, b, c) {
            var d = [].indexOf;
            b.exports = function (a, b) {
                if (d)return a.indexOf(b);
                for (var c = 0; c < a.length; ++c)if (a[c] === b)return c;
                return -1
            }
        }, {}],
        33: [function (a, b, c) {
            b.exports = Array.isArray || function (a) {
                    return "[object Array]" == Object.prototype.toString.call(a)
                }
        }, {}],
        34: [function (b, c, d) {
            (function (b) {
                (function () {
                    function e(a, b) {
                        function c(a) {
                            if (c[a] !== q)return c[a];
                            var e;
                            if ("bug-string-char-index" == a)e = "a" != "a"[0]; else if ("json" == a)e = c("json-stringify") && c("json-parse"); else {
                                var g, h = '{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';
                                if ("json-stringify" == a) {
                                    var i = b.stringify, k = "function" == typeof i && t;
                                    if (k) {
                                        (g = function () {
                                            return 1
                                        }).toJSON = g;
                                        try {
                                            k = "0" === i(0) && "0" === i(new d) && '""' == i(new f) && i(s) === q && i(q) === q && i() === q && "1" === i(g) && "[1]" == i([g]) && "[null]" == i([q]) && "null" == i(null) && "[null,null,null]" == i([q, s, null]) && i({a: [g, !0, !1, null, "\0\b\n\f\r\t"]}) == h && "1" === i(null, g) && "[\n 1,\n 2\n]" == i([1, 2], null, 1) && '"-271821-04-20T00:00:00.000Z"' == i(new j(-864e13)) && '"+275760-09-13T00:00:00.000Z"' == i(new j(864e13)) && '"-000001-01-01T00:00:00.000Z"' == i(new j(-621987552e5)) && '"1969-12-31T23:59:59.999Z"' == i(new j(-1))
                                        } catch (a) {
                                            k = !1
                                        }
                                    }
                                    e = k
                                }
                                if ("json-parse" == a) {
                                    var l = b.parse;
                                    if ("function" == typeof l)try {
                                        if (0 === l("0") && !l(!1)) {
                                            g = l(h);
                                            var m = 5 == g.a.length && 1 === g.a[0];
                                            if (m) {
                                                try {
                                                    m = !l('"\t"')
                                                } catch (a) {
                                                }
                                                if (m)try {
                                                    m = 1 !== l("01")
                                                } catch (a) {
                                                }
                                                if (m)try {
                                                    m = 1 !== l("1.")
                                                } catch (a) {
                                                }
                                            }
                                        }
                                    } catch (a) {
                                        m = !1
                                    }
                                    e = m
                                }
                            }
                            return c[a] = !!e
                        }

                        a || (a = i.Object()), b || (b = i.Object());
                        var d = a.Number || i.Number, f = a.String || i.String, h = a.Object || i.Object, j = a.Date || i.Date, k = a.SyntaxError || i.SyntaxError, l = a.TypeError || i.TypeError, m = a.Math || i.Math, n = a.JSON || i.JSON;
                        "object" == typeof n && n && (b.stringify = n.stringify, b.parse = n.parse);
                        var o, p, q, r = h.prototype, s = r.toString, t = new j(-0xc782b5b800cec);
                        try {
                            t = t.getUTCFullYear() == -109252 && 0 === t.getUTCMonth() && 1 === t.getUTCDate() && 10 == t.getUTCHours() && 37 == t.getUTCMinutes() && 6 == t.getUTCSeconds() && 708 == t.getUTCMilliseconds()
                        } catch (a) {
                        }
                        if (!c("json")) {
                            var u = "[object Function]", v = "[object Date]", w = "[object Number]", x = "[object String]", y = "[object Array]", z = "[object Boolean]", A = c("bug-string-char-index");
                            if (!t)var B = m.floor, C = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334], D = function (a, b) {
                                return C[b] + 365 * (a - 1970) + B((a - 1969 + (b = +(b > 1))) / 4) - B((a - 1901 + b) / 100) + B((a - 1601 + b) / 400)
                            };
                            if ((o = r.hasOwnProperty) || (o = function (a) {
                                    var b, c = {};
                                    return (c.__proto__ = null, c.__proto__ = {toString: 1}, c).toString != s ? o = function (a) {
                                        var b = this.__proto__, c = a in (this.__proto__ = null, this);
                                        return this.__proto__ = b, c
                                    } : (b = c.constructor, o = function (a) {
                                        var c = (this.constructor || b).prototype;
                                        return a in this && !(a in c && this[a] === c[a])
                                    }), c = null, o.call(this, a)
                                }), p = function (a, b) {
                                    var c, d, e, f = 0;
                                    (c = function () {
                                        this.valueOf = 0
                                    }).prototype.valueOf = 0, d = new c;
                                    for (e in d)o.call(d, e) && f++;
                                    return c = d = null, f ? p = 2 == f ? function (a, b) {
                                        var c, d = {}, e = s.call(a) == u;
                                        for (c in a)e && "prototype" == c || o.call(d, c) || !(d[c] = 1) || !o.call(a, c) || b(c)
                                    } : function (a, b) {
                                        var c, d, e = s.call(a) == u;
                                        for (c in a)e && "prototype" == c || !o.call(a, c) || (d = "constructor" === c) || b(c);
                                        (d || o.call(a, c = "constructor")) && b(c)
                                    } : (d = ["valueOf", "toString", "toLocaleString", "propertyIsEnumerable", "isPrototypeOf", "hasOwnProperty", "constructor"], p = function (a, b) {
                                        var c, e, f = s.call(a) == u, h = !f && "function" != typeof a.constructor && g[typeof a.hasOwnProperty] && a.hasOwnProperty || o;
                                        for (c in a)f && "prototype" == c || !h.call(a, c) || b(c);
                                        for (e = d.length; c = d[--e]; h.call(a, c) && b(c));
                                    }), p(a, b)
                                }, !c("json-stringify")) {
                                var E = {
                                    92: "\\\\",
                                    34: '\\"',
                                    8: "\\b",
                                    12: "\\f",
                                    10: "\\n",
                                    13: "\\r",
                                    9: "\\t"
                                }, F = "000000", G = function (a, b) {
                                    return (F + (b || 0)).slice(-a)
                                }, H = "\\u00", I = function (a) {
                                    for (var b = '"', c = 0, d = a.length, e = !A || d > 10, f = e && (A ? a.split("") : a); c < d; c++) {
                                        var g = a.charCodeAt(c);
                                        switch (g) {
                                            case 8:
                                            case 9:
                                            case 10:
                                            case 12:
                                            case 13:
                                            case 34:
                                            case 92:
                                                b += E[g];
                                                break;
                                            default:
                                                if (g < 32) {
                                                    b += H + G(2, g.toString(16));
                                                    break
                                                }
                                                b += e ? f[c] : a.charAt(c)
                                        }
                                    }
                                    return b + '"'
                                }, J = function (a, b, c, d, e, f, g) {
                                    var h, i, j, k, m, n, r, t, u, A, C, E, F, H, K, L;
                                    try {
                                        h = b[a]
                                    } catch (a) {
                                    }
                                    if ("object" == typeof h && h)if (i = s.call(h), i != v || o.call(h, "toJSON"))"function" == typeof h.toJSON && (i != w && i != x && i != y || o.call(h, "toJSON")) && (h = h.toJSON(a)); else if (h > -1 / 0 && h < 1 / 0) {
                                        if (D) {
                                            for (m = B(h / 864e5), j = B(m / 365.2425) + 1970 - 1; D(j + 1, 0) <= m; j++);
                                            for (k = B((m - D(j, 0)) / 30.42); D(j, k + 1) <= m; k++);
                                            m = 1 + m - D(j, k), n = (h % 864e5 + 864e5) % 864e5, r = B(n / 36e5) % 24, t = B(n / 6e4) % 60, u = B(n / 1e3) % 60, A = n % 1e3
                                        } else j = h.getUTCFullYear(), k = h.getUTCMonth(), m = h.getUTCDate(), r = h.getUTCHours(), t = h.getUTCMinutes(), u = h.getUTCSeconds(), A = h.getUTCMilliseconds();
                                        h = (j <= 0 || j >= 1e4 ? (j < 0 ? "-" : "+") + G(6, j < 0 ? -j : j) : G(4, j)) + "-" + G(2, k + 1) + "-" + G(2, m) + "T" + G(2, r) + ":" + G(2, t) + ":" + G(2, u) + "." + G(3, A) + "Z"
                                    } else h = null;
                                    if (c && (h = c.call(b, a, h)), null === h)return "null";
                                    if (i = s.call(h), i == z)return "" + h;
                                    if (i == w)return h > -1 / 0 && h < 1 / 0 ? "" + h : "null";
                                    if (i == x)return I("" + h);
                                    if ("object" == typeof h) {
                                        for (H = g.length; H--;)if (g[H] === h)throw l();
                                        if (g.push(h), C = [], K = f, f += e, i == y) {
                                            for (F = 0, H = h.length; F < H; F++)E = J(F, h, c, d, e, f, g), C.push(E === q ? "null" : E);
                                            L = C.length ? e ? "[\n" + f + C.join(",\n" + f) + "\n" + K + "]" : "[" + C.join(",") + "]" : "[]"
                                        } else p(d || h, function (a) {
                                            var b = J(a, h, c, d, e, f, g);
                                            b !== q && C.push(I(a) + ":" + (e ? " " : "") + b)
                                        }), L = C.length ? e ? "{\n" + f + C.join(",\n" + f) + "\n" + K + "}" : "{" + C.join(",") + "}" : "{}";
                                        return g.pop(), L
                                    }
                                };
                                b.stringify = function (a, b, c) {
                                    var d, e, f, h;
                                    if (g[typeof b] && b)if ((h = s.call(b)) == u)e = b; else if (h == y) {
                                        f = {};
                                        for (var i, j = 0, k = b.length; j < k; i = b[j++], h = s.call(i), (h == x || h == w) && (f[i] = 1));
                                    }
                                    if (c)if ((h = s.call(c)) == w) {
                                        if ((c -= c % 1) > 0)for (d = "", c > 10 && (c = 10); d.length < c; d += " ");
                                    } else h == x && (d = c.length <= 10 ? c : c.slice(0, 10));
                                    return J("", (i = {}, i[""] = a, i), e, f, d, "", [])
                                }
                            }
                            if (!c("json-parse")) {
                                var K, L, M = f.fromCharCode, N = {
                                    92: "\\",
                                    34: '"',
                                    47: "/",
                                    98: "\b",
                                    116: "\t",
                                    110: "\n",
                                    102: "\f",
                                    114: "\r"
                                }, O = function () {
                                    throw K = L = null, k()
                                }, P = function () {
                                    for (var a, b, c, d, e, f = L, g = f.length; K < g;)switch (e = f.charCodeAt(K)) {
                                        case 9:
                                        case 10:
                                        case 13:
                                        case 32:
                                            K++;
                                            break;
                                        case 123:
                                        case 125:
                                        case 91:
                                        case 93:
                                        case 58:
                                        case 44:
                                            return a = A ? f.charAt(K) : f[K], K++, a;
                                        case 34:
                                            for (a = "@", K++; K < g;)if (e = f.charCodeAt(K), e < 32)O(); else if (92 == e)switch (e = f.charCodeAt(++K)) {
                                                case 92:
                                                case 34:
                                                case 47:
                                                case 98:
                                                case 116:
                                                case 110:
                                                case 102:
                                                case 114:
                                                    a += N[e], K++;
                                                    break;
                                                case 117:
                                                    for (b = ++K, c = K + 4; K < c; K++)e = f.charCodeAt(K), e >= 48 && e <= 57 || e >= 97 && e <= 102 || e >= 65 && e <= 70 || O();
                                                    a += M("0x" + f.slice(b, K));
                                                    break;
                                                default:
                                                    O()
                                            } else {
                                                if (34 == e)break;
                                                for (e = f.charCodeAt(K), b = K; e >= 32 && 92 != e && 34 != e;)e = f.charCodeAt(++K);
                                                a += f.slice(b, K)
                                            }
                                            if (34 == f.charCodeAt(K))return K++, a;
                                            O();
                                        default:
                                            if (b = K, 45 == e && (d = !0, e = f.charCodeAt(++K)), e >= 48 && e <= 57) {
                                                for (48 == e && (e = f.charCodeAt(K + 1), e >= 48 && e <= 57) && O(), d = !1; K < g && (e = f.charCodeAt(K), e >= 48 && e <= 57); K++);
                                                if (46 == f.charCodeAt(K)) {
                                                    for (c = ++K; c < g && (e = f.charCodeAt(c), e >= 48 && e <= 57); c++);
                                                    c == K && O(), K = c
                                                }
                                                if (e = f.charCodeAt(K), 101 == e || 69 == e) {
                                                    for (e = f.charCodeAt(++K), 43 != e && 45 != e || K++, c = K; c < g && (e = f.charCodeAt(c), e >= 48 && e <= 57); c++);
                                                    c == K && O(), K = c
                                                }
                                                return +f.slice(b, K)
                                            }
                                            if (d && O(), "true" == f.slice(K, K + 4))return K += 4, !0;
                                            if ("false" == f.slice(K, K + 5))return K += 5, !1;
                                            if ("null" == f.slice(K, K + 4))return K += 4, null;
                                            O()
                                    }
                                    return "$"
                                }, Q = function (a) {
                                    var b, c;
                                    if ("$" == a && O(), "string" == typeof a) {
                                        if ("@" == (A ? a.charAt(0) : a[0]))return a.slice(1);
                                        if ("[" == a) {
                                            for (b = []; a = P(), "]" != a; c || (c = !0))c && ("," == a ? (a = P(), "]" == a && O()) : O()), "," == a && O(), b.push(Q(a));
                                            return b
                                        }
                                        if ("{" == a) {
                                            for (b = {}; a = P(), "}" != a; c || (c = !0))c && ("," == a ? (a = P(), "}" == a && O()) : O()), "," != a && "string" == typeof a && "@" == (A ? a.charAt(0) : a[0]) && ":" == P() || O(), b[a.slice(1)] = Q(P());
                                            return b
                                        }
                                        O()
                                    }
                                    return a
                                }, R = function (a, b, c) {
                                    var d = S(a, b, c);
                                    d === q ? delete a[b] : a[b] = d
                                }, S = function (a, b, c) {
                                    var d, e = a[b];
                                    if ("object" == typeof e && e)if (s.call(e) == y)for (d = e.length; d--;)R(e, d, c); else p(e, function (a) {
                                        R(e, a, c)
                                    });
                                    return c.call(a, b, e)
                                };
                                b.parse = function (a, b) {
                                    var c, d;
                                    return K = 0, L = "" + a, c = Q(P()), "$" != P() && O(), K = L = null, b && s.call(b) == u ? S((d = {}, d[""] = c, d), "", b) : c
                                }
                            }
                        }
                        return b.runInContext = e, b
                    }

                    var f = "function" == typeof a && a.amd, g = {
                        function: !0, object: !0
                    }, h = g[typeof d] && d && !d.nodeType && d, i = g[typeof window] && window || this, j = h && g[typeof c] && c && !c.nodeType && "object" == typeof b && b;
                    if (!j || j.global !== j && j.window !== j && j.self !== j || (i = j), h && !f)e(i, h); else {
                        var k = i.JSON, l = i.JSON3, m = !1, n = e(i, i.JSON3 = {
                            noConflict: function () {
                                return m || (m = !0, i.JSON = k, i.JSON3 = l, k = l = null), n
                            }
                        });
                        i.JSON = {parse: n.parse, stringify: n.stringify}
                    }
                    f && a(function () {
                        return n
                    })
                }).call(this)
            }).call(this, "undefined" != typeof self ? self : "undefined" != typeof window ? window : "undefined" != typeof global ? global : {})
        }, {}],
        35: [function (a, b, c) {
            function d(a) {
                if (a = "" + a, !(a.length > 1e4)) {
                    var b = /^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(a);
                    if (b) {
                        var c = parseFloat(b[1]), d = (b[2] || "ms").toLowerCase();
                        switch (d) {
                            case"years":
                            case"year":
                            case"yrs":
                            case"yr":
                            case"y":
                                return c * l;
                            case"days":
                            case"day":
                            case"d":
                                return c * k;
                            case"hours":
                            case"hour":
                            case"hrs":
                            case"hr":
                            case"h":
                                return c * j;
                            case"minutes":
                            case"minute":
                            case"mins":
                            case"min":
                            case"m":
                                return c * i;
                            case"seconds":
                            case"second":
                            case"secs":
                            case"sec":
                            case"s":
                                return c * h;
                            case"milliseconds":
                            case"millisecond":
                            case"msecs":
                            case"msec":
                            case"ms":
                                return c
                        }
                    }
                }
            }

            function e(a) {
                return a >= k ? Math.round(a / k) + "d" : a >= j ? Math.round(a / j) + "h" : a >= i ? Math.round(a / i) + "m" : a >= h ? Math.round(a / h) + "s" : a + "ms"
            }

            function f(a) {
                return g(a, k, "day") || g(a, j, "hour") || g(a, i, "minute") || g(a, h, "second") || a + " ms"
            }

            function g(a, b, c) {
                if (!(a < b))return a < 1.5 * b ? Math.floor(a / b) + " " + c : Math.ceil(a / b) + " " + c + "s"
            }

            var h = 1e3, i = 60 * h, j = 60 * i, k = 24 * j, l = 365.25 * k;
            b.exports = function (a, b) {
                return b = b || {}, "string" == typeof a ? d(a) : b.long ? f(a) : e(a)
            }
        }, {}],
        36: [function (a, b, c) {
            (function (a) {
                var c = /^[\],:{}\s]*$/, d = /\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, e = /"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, f = /(?:^|:|,)(?:\s*\[)+/g, g = /^\s+/, h = /\s+$/;
                b.exports = function (b) {
                    return "string" == typeof b && b ? (b = b.replace(g, "").replace(h, ""), a.JSON && JSON.parse ? JSON.parse(b) : c.test(b.replace(d, "@").replace(e, "]").replace(f, "")) ? new Function("return " + b)() : void 0) : null
                }
            }).call(this, "undefined" != typeof self ? self : "undefined" != typeof window ? window : "undefined" != typeof global ? global : {})
        }, {}],
        37: [function (a, b, c) {
            c.encode = function (a) {
                var b = "";
                for (var c in a)a.hasOwnProperty(c) && (b.length && (b += "&"), b += encodeURIComponent(c) + "=" + encodeURIComponent(a[c]));
                return b
            }, c.decode = function (a) {
                for (var b = {}, c = a.split("&"), d = 0, e = c.length; d < e; d++) {
                    var f = c[d].split("=");
                    b[decodeURIComponent(f[0])] = decodeURIComponent(f[1])
                }
                return b
            }
        }, {}],
        38: [function (a, b, c) {
            var d = /^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/, e = ["source", "protocol", "authority", "userInfo", "user", "password", "host", "port", "relative", "path", "directory", "file", "query", "anchor"];
            b.exports = function (a) {
                var b = a, c = a.indexOf("["), f = a.indexOf("]");
                c != -1 && f != -1 && (a = a.substring(0, c) + a.substring(c, f).replace(/:/g, ";") + a.substring(f, a.length));
                for (var g = d.exec(a || ""), h = {}, i = 14; i--;)h[e[i]] = g[i] || "";
                return c != -1 && f != -1 && (h.source = b, h.host = h.host.substring(1, h.host.length - 1).replace(/;/g, ":"), h.authority = h.authority.replace("[", "").replace("]", "").replace(/;/g, ":"), h.ipv6uri = !0), h
            }
        }, {}],
        39: [function (a, b, c) {
            (function (b) {
                var d = a("isarray"), e = a("./is-buffer");
                c.deconstructPacket = function (a) {
                    function b(a) {
                        if (!a)return a;
                        if (e(a)) {
                            var f = {_placeholder: !0, num: c.length};
                            return c.push(a), f
                        }
                        if (d(a)) {
                            for (var g = new Array(a.length), h = 0; h < a.length; h++)g[h] = b(a[h]);
                            return g
                        }
                        if ("object" == typeof a && !(a instanceof Date)) {
                            var g = {};
                            for (var i in a)g[i] = b(a[i]);
                            return g
                        }
                        return a
                    }

                    var c = [], f = a.data, g = a;
                    return g.data = b(f), g.attachments = c.length, {packet: g, buffers: c}
                }, c.reconstructPacket = function (a, b) {
                    function c(a) {
                        if (a && a._placeholder) {
                            var e = b[a.num];
                            return e
                        }
                        if (d(a)) {
                            for (var f = 0; f < a.length; f++)a[f] = c(a[f]);
                            return a
                        }
                        if (a && "object" == typeof a) {
                            for (var g in a)a[g] = c(a[g]);
                            return a
                        }
                        return a
                    }

                    return a.data = c(a.data), a.attachments = void 0, a
                }, c.removeBlobs = function (a, c) {
                    function f(a, i, j) {
                        if (!a)return a;
                        if (b.Blob && a instanceof Blob || b.File && a instanceof File) {
                            g++;
                            var k = new FileReader;
                            k.onload = function () {
                                j ? j[i] = this.result : h = this.result, --g || c(h)
                            }, k.readAsArrayBuffer(a)
                        } else if (d(a))for (var l = 0; l < a.length; l++)f(a[l], l, a); else if (a && "object" == typeof a && !e(a))for (var m in a)f(a[m], m, a)
                    }

                    var g = 0, h = a;
                    f(h), g || c(h)
                }
            }).call(this, "undefined" != typeof self ? self : "undefined" != typeof window ? window : "undefined" != typeof global ? global : {})
        }, {"./is-buffer": 41, isarray: 33}],
        40: [function (a, b, c) {
            function d() {
            }

            function e(a) {
                var b = "", d = !1;
                return b += a.type, c.BINARY_EVENT != a.type && c.BINARY_ACK != a.type || (b += a.attachments, b += "-"), a.nsp && "/" != a.nsp && (d = !0, b += a.nsp), null != a.id && (d && (b += ",", d = !1), b += a.id), null != a.data && (d && (b += ","), b += l.stringify(a.data)), k("encoded %j as %s", a, b), b
            }

            function f(a, b) {
                function c(a) {
                    var c = n.deconstructPacket(a), d = e(c.packet), f = c.buffers;
                    f.unshift(d), b(f)
                }

                n.removeBlobs(a, c)
            }

            function g() {
                this.reconstructor = null
            }

            function h(a) {
                var b = {}, d = 0;
                if (b.type = Number(a.charAt(0)), null == c.types[b.type])return j();
                if (c.BINARY_EVENT == b.type || c.BINARY_ACK == b.type) {
                    for (var e = ""; "-" != a.charAt(++d) && (e += a.charAt(d), d != a.length););
                    if (e != Number(e) || "-" != a.charAt(d))throw new Error("Illegal attachments");
                    b.attachments = Number(e)
                }
                if ("/" == a.charAt(d + 1))for (b.nsp = ""; ++d;) {
                    var f = a.charAt(d);
                    if ("," == f)break;
                    if (b.nsp += f, d == a.length)break
                } else b.nsp = "/";
                var g = a.charAt(d + 1);
                if ("" !== g && Number(g) == g) {
                    for (b.id = ""; ++d;) {
                        var f = a.charAt(d);
                        if (null == f || Number(f) != f) {
                            --d;
                            break
                        }
                        if (b.id += a.charAt(d), d == a.length)break
                    }
                    b.id = Number(b.id)
                }
                if (a.charAt(++d))try {
                    b.data = l.parse(a.substr(d))
                } catch (a) {
                    return j()
                }
                return k("decoded %s as %j", a, b), b
            }

            function i(a) {
                this.reconPack = a, this.buffers = []
            }

            function j(a) {
                return {type: c.ERROR, data: "parser error"}
            }

            var k = a("debug")("socket.io-parser"), l = a("json3"), m = (a("isarray"), a("component-emitter")), n = a("./binary"), o = a("./is-buffer");
            c.protocol = 4, c.types = ["CONNECT", "DISCONNECT", "EVENT", "ACK", "ERROR", "BINARY_EVENT", "BINARY_ACK"], c.CONNECT = 0, c.DISCONNECT = 1, c.EVENT = 2, c.ACK = 3, c.ERROR = 4, c.BINARY_EVENT = 5, c.BINARY_ACK = 6, c.Encoder = d, c.Decoder = g, d.prototype.encode = function (a, b) {
                if (k("encoding packet %j", a), c.BINARY_EVENT == a.type || c.BINARY_ACK == a.type)f(a, b); else {
                    var d = e(a);
                    b([d])
                }
            }, m(g.prototype), g.prototype.add = function (a) {
                var b;
                if ("string" == typeof a)b = h(a), c.BINARY_EVENT == b.type || c.BINARY_ACK == b.type ? (this.reconstructor = new i(b), 0 === this.reconstructor.reconPack.attachments && this.emit("decoded", b)) : this.emit("decoded", b); else {
                    if (!o(a) && !a.base64)throw new Error("Unknown type: " + a);
                    if (!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");
                    b = this.reconstructor.takeBinaryData(a), b && (this.reconstructor = null, this.emit("decoded", b))
                }
            }, g.prototype.destroy = function () {
                this.reconstructor && this.reconstructor.finishedReconstruction()
            }, i.prototype.takeBinaryData = function (a) {
                if (this.buffers.push(a), this.buffers.length == this.reconPack.attachments) {
                    var b = n.reconstructPacket(this.reconPack, this.buffers);
                    return this.finishedReconstruction(), b
                }
                return null
            }, i.prototype.finishedReconstruction = function () {
                this.reconPack = null, this.buffers = []
            }
        }, {"./binary": 39, "./is-buffer": 41, "component-emitter": 42, debug: 14, isarray: 33, json3: 34}],
        41: [function (a, b, c) {
            (function (a) {
                function c(b) {
                    return a.Buffer && a.Buffer.isBuffer(b) || a.ArrayBuffer && b instanceof ArrayBuffer
                }

                b.exports = c
            }).call(this, "undefined" != typeof self ? self : "undefined" != typeof window ? window : "undefined" != typeof global ? global : {})
        }, {}],
        42: [function (a, b, c) {
            arguments[4][26][0].apply(c, arguments)
        }, {dup: 26}],
        43: [function (a, b, c) {
            function d(a, b) {
                var c = [];
                b = b || 0;
                for (var d = b || 0; d < a.length; d++)c[d - b] = a[d];
                return c
            }

            b.exports = d
        }, {}],
        44: [function (b, c, d) {
            (function (b) {
                !function (e) {
                    function f(a) {
                        for (var b, c, d = [], e = 0, f = a.length; e < f;)b = a.charCodeAt(e++), b >= 55296 && b <= 56319 && e < f ? (c = a.charCodeAt(e++), 56320 == (64512 & c) ? d.push(((1023 & b) << 10) + (1023 & c) + 65536) : (d.push(b), e--)) : d.push(b);
                        return d
                    }

                    function g(a) {
                        for (var b, c = a.length, d = -1, e = ""; ++d < c;)b = a[d], b > 65535 && (b -= 65536, e += u(b >>> 10 & 1023 | 55296), b = 56320 | 1023 & b), e += u(b);
                        return e
                    }

                    function h(a) {
                        if (a >= 55296 && a <= 57343)throw Error("Lone surrogate U+" + a.toString(16).toUpperCase() + " is not a scalar value")
                    }

                    function i(a, b) {
                        return u(a >> b & 63 | 128)
                    }

                    function j(a) {
                        if (0 == (4294967168 & a))return u(a);
                        var b = "";
                        return 0 == (4294965248 & a) ? b = u(a >> 6 & 31 | 192) : 0 == (4294901760 & a) ? (h(a), b = u(a >> 12 & 15 | 224), b += i(a, 6)) : 0 == (4292870144 & a) && (b = u(a >> 18 & 7 | 240), b += i(a, 12), b += i(a, 6)), b += u(63 & a | 128)
                    }

                    function k(a) {
                        for (var b, c = f(a), d = c.length, e = -1, g = ""; ++e < d;)b = c[e], g += j(b);
                        return g
                    }

                    function l() {
                        if (t >= s)throw Error("Invalid byte index");
                        var a = 255 & r[t];
                        if (t++, 128 == (192 & a))return 63 & a;
                        throw Error("Invalid continuation byte")
                    }

                    function m() {
                        var a, b, c, d, e;
                        if (t > s)throw Error("Invalid byte index");
                        if (t == s)return !1;
                        if (a = 255 & r[t], t++, 0 == (128 & a))return a;
                        if (192 == (224 & a)) {
                            var b = l();
                            if (e = (31 & a) << 6 | b, e >= 128)return e;
                            throw Error("Invalid continuation byte")
                        }
                        if (224 == (240 & a)) {
                            if (b = l(), c = l(), e = (15 & a) << 12 | b << 6 | c, e >= 2048)return h(e), e;
                            throw Error("Invalid continuation byte")
                        }
                        if (240 == (248 & a) && (b = l(), c = l(), d = l(), e = (15 & a) << 18 | b << 12 | c << 6 | d, e >= 65536 && e <= 1114111))return e;
                        throw Error("Invalid UTF-8 detected")
                    }

                    function n(a) {
                        r = f(a), s = r.length, t = 0;
                        for (var b, c = []; (b = m()) !== !1;)c.push(b);
                        return g(c)
                    }

                    var o = "object" == typeof d && d, p = "object" == typeof c && c && c.exports == o && c, q = "object" == typeof b && b;
                    q.global !== q && q.window !== q || (e = q);
                    var r, s, t, u = String.fromCharCode, v = {version: "2.0.0", encode: k, decode: n};
                    if ("function" == typeof a && "object" == typeof a.amd && a.amd)a(function () {
                        return v
                    }); else if (o && !o.nodeType)if (p)p.exports = v; else {
                        var w = {}, x = w.hasOwnProperty;
                        for (var y in v)x.call(v, y) && (o[y] = v[y])
                    } else e.utf8 = v
                }(this)
            }).call(this, "undefined" != typeof self ? self : "undefined" != typeof window ? window : "undefined" != typeof global ? global : {})
        }, {}],
        45: [function (a, b, c) {
            "use strict";
            function d(a) {
                var b = "";
                do b = h[a % i] + b, a = Math.floor(a / i); while (a > 0);
                return b
            }

            function e(a) {
                var b = 0;
                for (l = 0; l < a.length; l++)b = b * i + j[a.charAt(l)];
                return b
            }

            function f() {
                var a = d(+new Date);
                return a !== g ? (k = 0, g = a) : a + "." + d(k++)
            }

            for (var g, h = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""), i = 64, j = {}, k = 0, l = 0; l < i; l++)j[h[l]] = l;
            f.encode = d, f.decode = e, b.exports = f
        }, {}]
    }, {}, [1])(1)
}), function () {
    "use strict";
    var a = {
        TAB: 9,
        ENTER: 13,
        ESC: 27,
        SPACE: 32,
        LEFT: 37,
        UP: 38,
        RIGHT: 39,
        DOWN: 40,
        SHIFT: 16,
        CTRL: 17,
        ALT: 18,
        PAGE_UP: 33,
        PAGE_DOWN: 34,
        HOME: 36,
        END: 35,
        BACKSPACE: 8,
        DELETE: 46,
        COMMAND: 91,
        MAP: {
            91: "COMMAND",
            8: "BACKSPACE",
            9: "TAB",
            13: "ENTER",
            16: "SHIFT",
            17: "CTRL",
            18: "ALT",
            19: "PAUSEBREAK",
            20: "CAPSLOCK",
            27: "ESC",
            32: "SPACE",
            33: "PAGE_UP",
            34: "PAGE_DOWN",
            35: "END",
            36: "HOME",
            37: "LEFT",
            38: "UP",
            39: "RIGHT",
            40: "DOWN",
            43: "+",
            44: "PRINTSCREEN",
            45: "INSERT",
            46: "DELETE",
            48: "0",
            49: "1",
            50: "2",
            51: "3",
            52: "4",
            53: "5",
            54: "6",
            55: "7",
            56: "8",
            57: "9",
            59: ";",
            61: "=",
            65: "A",
            66: "B",
            67: "C",
            68: "D",
            69: "E",
            70: "F",
            71: "G",
            72: "H",
            73: "I",
            74: "J",
            75: "K",
            76: "L",
            77: "M",
            78: "N",
            79: "O",
            80: "P",
            81: "Q",
            82: "R",
            83: "S",
            84: "T",
            85: "U",
            86: "V",
            87: "W",
            88: "X",
            89: "Y",
            90: "Z",
            96: "0",
            97: "1",
            98: "2",
            99: "3",
            100: "4",
            101: "5",
            102: "6",
            103: "7",
            104: "8",
            105: "9",
            106: "*",
            107: "+",
            109: "-",
            110: ".",
            111: "/",
            112: "F1",
            113: "F2",
            114: "F3",
            115: "F4",
            116: "F5",
            117: "F6",
            118: "F7",
            119: "F8",
            120: "F9",
            121: "F10",
            122: "F11",
            123: "F12",
            144: "NUMLOCK",
            145: "SCROLLLOCK",
            186: ";",
            187: "=",
            188: ",",
            189: "-",
            190: ".",
            191: "/",
            192: "`",
            219: "[",
            220: "\\",
            221: "]",
            222: "'"
        },
        isControl: function (b) {
            var c = b.which;
            switch (c) {
                case a.COMMAND:
                case a.SHIFT:
                case a.CTRL:
                case a.ALT:
                    return !0
            }
            return !!(b.metaKey || b.ctrlKey || b.altKey)
        },
        isFunctionKey: function (a) {
            return a = a.which ? a.which : a, a >= 112 && a <= 123
        },
        isVerticalMovement: function (b) {
            return ~[a.UP, a.DOWN].indexOf(b)
        },
        isHorizontalMovement: function (b) {
            return ~[a.LEFT, a.RIGHT, a.BACKSPACE, a.DELETE].indexOf(b)
        },
        toSeparator: function (b) {
            var c = {ENTER: "\n", TAB: "\t", SPACE: " "}[b];
            return c ? c : a[b] ? void 0 : b
        }
    };
    void 0 === angular.element.prototype.querySelectorAll && (angular.element.prototype.querySelectorAll = function (a) {
        return angular.element(this[0].querySelectorAll(a))
    }), void 0 === angular.element.prototype.closest && (angular.element.prototype.closest = function (a) {
        for (var b = this[0], c = b.matches || b.webkitMatchesSelector || b.mozMatchesSelector || b.msMatchesSelector; b;) {
            if (c.bind(b)(a))return b;
            b = b.parentElement
        }
        return !1
    });
    var b = 0, c = angular.module("ui.select", []).constant("uiSelectConfig", {
        theme: "bootstrap",
        searchEnabled: !0,
        sortable: !1,
        placeholder: "",
        refreshDelay: 1e3,
        closeOnSelect: !0,
        skipFocusser: !1,
        dropdownPosition: "auto",
        removeSelected: !0,
        generateId: function () {
            return b++
        },
        appendToBody: !1
    }).service("uiSelectMinErr", function () {
        var a = angular.$$minErr("ui.select");
        return function () {
            var b = a.apply(this, arguments), c = b.message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"), "");
            return new Error(c)
        }
    }).directive("uisTranscludeAppend", function () {
        return {
            link: function (a, b, c, d, e) {
                e(a, function (a) {
                    b.append(a)
                })
            }
        }
    }).filter("highlight", function () {
        function a(a) {
            return ("" + a).replace(/([.?*+^$[\]\\(){}|-])/g, "\\$1")
        }

        return function (b, c) {
            return c && b ? ("" + b).replace(new RegExp(a(c), "gi"), '<span class="ui-select-highlight">$&</span>') : b
        }
    }).factory("uisOffset", ["$document", "$window", function (a, b) {
        return function (c) {
            var d = c[0].getBoundingClientRect();
            return {
                width: d.width || c.prop("offsetWidth"),
                height: d.height || c.prop("offsetHeight"),
                top: d.top + (b.pageYOffset || a[0].documentElement.scrollTop),
                left: d.left + (b.pageXOffset || a[0].documentElement.scrollLeft)
            }
        }
    }]);
    c.directive("uiSelectChoices", ["uiSelectConfig", "uisRepeatParser", "uiSelectMinErr", "$compile", "$window", function (a, b, c, d, e) {
        return {
            restrict: "EA", require: "^uiSelect", replace: !0, transclude: !0, templateUrl: function (b) {
                b.addClass("ui-select-choices");
                var c = b.parent().attr("theme") || a.theme;
                return c + "/choices.tpl.html"
            }, compile: function (d, f) {
                if (!f.repeat)throw c("repeat", "Expected 'repeat' expression.");
                var g = f.groupBy, h = f.groupFilter;
                if (g) {
                    var i = d.querySelectorAll(".ui-select-choices-group");
                    if (1 !== i.length)throw c("rows", "Expected 1 .ui-select-choices-group but got '{0}'.", i.length);
                    i.attr("ng-repeat", b.getGroupNgRepeatExpression())
                }
                var j = b.parse(f.repeat), k = d.querySelectorAll(".ui-select-choices-row");
                if (1 !== k.length)throw c("rows", "Expected 1 .ui-select-choices-row but got '{0}'.", k.length);
                k.attr("ng-repeat", j.repeatExpression(g)).attr("ng-if", "$select.open");
                var l = d.querySelectorAll(".ui-select-choices-row-inner");
                if (1 !== l.length)throw c("rows", "Expected 1 .ui-select-choices-row-inner but got '{0}'.", l.length);
                l.attr("uis-transclude-append", "");
                var m = e.document.addEventListener ? k : l;
                return m.attr("ng-click", "$select.select(" + j.itemName + ",$select.skipFocusser,$event)"), function (b, c, d, e) {
                    e.parseRepeatAttr(d.repeat, g, h), e.disableChoiceExpression = d.uiDisableChoice, e.onHighlightCallback = d.onHighlight, e.dropdownPosition = d.position ? d.position.toLowerCase() : a.dropdownPosition, b.$on("$destroy", function () {
                        k.remove()
                    }), b.$watch("$select.search", function (a) {
                        a && !e.open && e.multiple && e.activate(!1, !0), e.activeIndex = e.tagging.isActivated ? -1 : 0, !d.minimumInputLength || e.search.length >= d.minimumInputLength ? e.refresh(d.refresh) : e.items = []
                    }), d.$observe("refreshDelay", function () {
                        var c = b.$eval(d.refreshDelay);
                        e.refreshDelay = void 0 !== c ? c : a.refreshDelay
                    })
                }
            }
        }
    }]), c.controller("uiSelectCtrl", ["$scope", "$element", "$timeout", "$filter", "$$uisDebounce", "uisRepeatParser", "uiSelectMinErr", "uiSelectConfig", "$parse", "$injector", "$window", function (b, c, d, e, f, g, h, i, j, k, l) {
        function m(a, b, c) {
            if (a.findIndex)return a.findIndex(b, c);
            for (var d, e = Object(a), f = e.length >>> 0, g = 0; g < f; g++)if (d = e[g], b.call(c, d, g, e))return g;
            return -1
        }

        function n() {
            (r.resetSearchInput || void 0 === r.resetSearchInput && i.resetSearchInput) && (r.search = s, r.selected && r.items.length && !r.multiple && (r.activeIndex = m(r.items, function (a) {
                return angular.equals(this, a)
            }, r.selected)))
        }

        function o(a, b) {
            var c, d, e = [];
            for (c = 0; c < b.length; c++)for (d = 0; d < a.length; d++)a[d].name == [b[c]] && e.push(a[d]);
            return e
        }

        function p(b) {
            var c = !0;
            switch (b) {
                case a.DOWN:
                    !r.open && r.multiple ? r.activate(!1, !0) : r.activeIndex < r.items.length - 1 && r.activeIndex++;
                    break;
                case a.UP:
                    !r.open && r.multiple ? r.activate(!1, !0) : (r.activeIndex > 0 || 0 === r.search.length && r.tagging.isActivated && r.activeIndex > -1) && r.activeIndex--;
                    break;
                case a.TAB:
                    r.multiple && !r.open || r.select(r.items[r.activeIndex], !0);
                    break;
                case a.ENTER:
                    r.open && (r.tagging.isActivated || r.activeIndex >= 0) ? r.select(r.items[r.activeIndex], r.skipFocusser) : r.activate(!1, !0);
                    break;
                case a.ESC:
                    r.close();
                    break;
                default:
                    c = !1
            }
            return c
        }

        function q() {
            var a = c.querySelectorAll(".ui-select-choices-content"), b = a.querySelectorAll(".ui-select-choices-row");
            if (b.length < 1)throw h("choices", "Expected multiple .ui-select-choices-row but got '{0}'.", b.length);
            if (!(r.activeIndex < 0)) {
                var d = b[r.activeIndex], e = d.offsetTop + d.clientHeight - a[0].scrollTop, f = a[0].offsetHeight;
                e > f ? a[0].scrollTop += e - f : e < d.clientHeight && (r.isGrouped && 0 === r.activeIndex ? a[0].scrollTop = 0 : a[0].scrollTop -= d.clientHeight - e)
            }
        }

        var r = this, s = "";
        if (r.placeholder = i.placeholder, r.searchEnabled = i.searchEnabled, r.sortable = i.sortable, r.refreshDelay = i.refreshDelay, r.paste = i.paste, r.removeSelected = i.removeSelected, r.closeOnSelect = !0, r.skipFocusser = !1, r.search = s, r.activeIndex = 0, r.items = [], r.open = !1, r.focus = !1, r.disabled = !1, r.selected = void 0, r.dropdownPosition = "auto", r.focusser = void 0, r.resetSearchInput = !0, r.multiple = void 0, r.disableChoiceExpression = void 0, r.tagging = {
                isActivated: !1,
                fct: void 0
            }, r.taggingTokens = {
                isActivated: !1,
                tokens: void 0
            }, r.lockChoiceExpression = void 0, r.clickTriggeredSelect = !1, r.$filter = e, r.$element = c, r.$animate = function () {
                try {
                    return k.get("$animate")
                } catch (a) {
                    return null
                }
            }(), r.searchInput = c.querySelectorAll("input.ui-select-search"), 1 !== r.searchInput.length)throw h("searchInput", "Expected 1 input.ui-select-search but got '{0}'.", r.searchInput.length);
        r.isEmpty = function () {
            return angular.isUndefined(r.selected) || null === r.selected || "" === r.selected || r.multiple && 0 === r.selected.length
        }, r.activate = function (a, e) {
            if (!r.disabled && !r.open) {
                e || n(), b.$broadcast("uis:activate"), r.open = !0, r.activeIndex = r.activeIndex >= r.items.length ? 0 : r.activeIndex, r.activeIndex === -1 && r.taggingLabel !== !1 && (r.activeIndex = 0);
                var f = c.querySelectorAll(".ui-select-choices-content"), g = c.querySelectorAll(".ui-select-search");
                if (r.$animate && r.$animate.on && r.$animate.enabled(f[0])) {
                    var h = function (b, c) {
                        "start" === c && 0 === r.items.length ? (r.$animate.off("removeClass", g[0], h), d(function () {
                            r.focusSearchInput(a)
                        })) : "close" === c && (r.$animate.off("enter", f[0], h), d(function () {
                            r.focusSearchInput(a)
                        }))
                    };
                    r.items.length > 0 ? r.$animate.on("enter", f[0], h) : r.$animate.on("removeClass", g[0], h)
                } else d(function () {
                    r.focusSearchInput(a), !r.tagging.isActivated && r.items.length > 1 && q()
                })
            }
        }, r.focusSearchInput = function (a) {
            r.search = a || r.search, r.searchInput[0].focus()
        }, r.findGroupByName = function (a) {
            return r.groups && r.groups.filter(function (b) {
                    return b.name === a
                })[0]
        }, r.parseRepeatAttr = function (a, c, d) {
            function e(a) {
                var e = b.$eval(c);
                if (r.groups = [], angular.forEach(a, function (a) {
                        var b = angular.isFunction(e) ? e(a) : a[e], c = r.findGroupByName(b);
                        c ? c.items.push(a) : r.groups.push({name: b, items: [a]})
                    }), d) {
                    var f = b.$eval(d);
                    angular.isFunction(f) ? r.groups = f(r.groups) : angular.isArray(f) && (r.groups = o(r.groups, f))
                }
                r.items = [], r.groups.forEach(function (a) {
                    r.items = r.items.concat(a.items)
                })
            }

            function f(a) {
                r.items = a
            }

            r.setItemsFn = c ? e : f, r.parserResult = g.parse(a), r.isGrouped = !!c, r.itemProperty = r.parserResult.itemName;
            var i = r.parserResult.source, k = function () {
                var a = i(b);
                b.$uisSource = Object.keys(a).map(function (b) {
                    var c = {};
                    return c[r.parserResult.keyName] = b, c.value = a[b], c
                })
            };
            r.parserResult.keyName && (k(), r.parserResult.source = j("$uisSource" + r.parserResult.filters), b.$watch(i, function (a, b) {
                a !== b && k()
            }, !0)), r.refreshItems = function (a) {
                a = a || r.parserResult.source(b);
                var c = r.selected;
                if (r.isEmpty() || angular.isArray(c) && !c.length || !r.removeSelected)r.setItemsFn(a); else if (void 0 !== a && null !== a) {
                    var d = a.filter(function (a) {
                        return angular.isArray(c) ? c.every(function (b) {
                            return !angular.equals(a, b)
                        }) : !angular.equals(a, c)
                    });
                    r.setItemsFn(d)
                }
                "auto" !== r.dropdownPosition && "up" !== r.dropdownPosition || b.calculateDropdownPos(), b.$broadcast("uis:refresh")
            }, b.$watchCollection(r.parserResult.source, function (a) {
                if (void 0 === a || null === a)r.items = []; else {
                    if (!angular.isArray(a))throw h("items", "Expected an array but got '{0}'.", a);
                    r.refreshItems(a), angular.isDefined(r.ngModel.$modelValue) && (r.ngModel.$modelValue = null)
                }
            })
        };
        var t;
        r.refresh = function (a) {
            void 0 !== a && (t && d.cancel(t), t = d(function () {
                b.$eval(a)
            }, r.refreshDelay))
        }, r.isActive = function (a) {
            if (!r.open)return !1;
            var b = r.items.indexOf(a[r.itemProperty]), c = b == r.activeIndex;
            return !(!c || b < 0) && (c && !angular.isUndefined(r.onHighlightCallback) && a.$eval(r.onHighlightCallback), c)
        };
        var u = function (a) {
            return r.selected && angular.isArray(r.selected) && r.selected.filter(function (b) {
                    return angular.equals(b, a)
                }).length > 0
        };
        r.isDisabled = function (a) {
            if (r.open) {
                var b, c = r.items.indexOf(a[r.itemProperty]), d = !1;
                return c >= 0 && (!angular.isUndefined(r.disableChoiceExpression) || r.multiple) && (b = r.items[c], d = !!a.$eval(r.disableChoiceExpression) || u(b), b._uiSelectChoiceDisabled = d), d
            }
        }, r.select = function (a, c, e) {
            if (void 0 === a || !a._uiSelectChoiceDisabled) {
                if (!r.items && !r.search && !r.tagging.isActivated)return;
                if (!a || !a._uiSelectChoiceDisabled) {
                    if (r.tagging.isActivated) {
                        if (r.taggingLabel === !1)if (r.activeIndex < 0) {
                            if (a = void 0 !== r.tagging.fct ? r.tagging.fct(r.search) : r.search, !a || angular.equals(r.items[0], a))return
                        } else a = r.items[r.activeIndex]; else if (0 === r.activeIndex) {
                            if (void 0 === a)return;
                            if (void 0 !== r.tagging.fct && "string" == typeof a) {
                                if (a = r.tagging.fct(a), !a)return
                            } else"string" == typeof a && (a = a.replace(r.taggingLabel, "").trim())
                        }
                        if (u(a))return void r.close(c)
                    }
                    b.$broadcast("uis:select", a);
                    var f = {};
                    f[r.parserResult.itemName] = a, d(function () {
                        r.onSelectCallback(b, {$item: a, $model: r.parserResult.modelMapper(b, f)})
                    }), r.closeOnSelect && r.close(c), e && "click" === e.type && (r.clickTriggeredSelect = !0)
                }
            }
        }, r.close = function (a) {
            r.open && (r.ngModel && r.ngModel.$setTouched && r.ngModel.$setTouched(), n(), r.open = !1, b.$broadcast("uis:close", a))
        }, r.setFocus = function () {
            r.focus || r.focusInput[0].focus()
        }, r.clear = function (a) {
            r.select(void 0), a.stopPropagation(), d(function () {
                r.focusser[0].focus()
            }, 0, !1)
        }, r.toggle = function (a) {
            r.open ? (r.close(), a.preventDefault(), a.stopPropagation()) : r.activate()
        }, r.isLocked = function (a, b) {
            var c, d = r.selected[b];
            return d && !angular.isUndefined(r.lockChoiceExpression) && (c = !!a.$eval(r.lockChoiceExpression), d._uiSelectChoiceLocked = c), c
        };
        var v = null, w = !1;
        r.sizeSearchInput = function () {
            var a = r.searchInput[0], c = r.searchInput.parent().parent()[0], e = function () {
                return c.clientWidth * !!a.offsetParent
            }, f = function (b) {
                if (0 === b)return !1;
                var c = b - a.offsetLeft - 10;
                return c < 50 && (c = b), r.searchInput.css("width", c + "px"), !0
            };
            r.searchInput.css("width", "10px"), d(function () {
                null !== v || f(e()) || (v = b.$watch(function () {
                    w || (w = !0, b.$$postDigest(function () {
                        w = !1, f(e()) && (v(), v = null)
                    }))
                }, angular.noop))
            })
        }, r.searchInput.on("keydown", function (c) {
            var e = c.which;
            ~[a.ENTER, a.ESC].indexOf(e) && (c.preventDefault(), c.stopPropagation()), b.$apply(function () {
                var b = !1;
                if ((r.items.length > 0 || r.tagging.isActivated) && (p(e), r.taggingTokens.isActivated)) {
                    for (var f = 0; f < r.taggingTokens.tokens.length; f++)r.taggingTokens.tokens[f] === a.MAP[c.keyCode] && r.search.length > 0 && (b = !0);
                    b && d(function () {
                        r.searchInput.triggerHandler("tagged");
                        var b = r.search.replace(a.MAP[c.keyCode], "").trim();
                        r.tagging.fct && (b = r.tagging.fct(b)), b && r.select(b, !0)
                    })
                }
            }), a.isVerticalMovement(e) && r.items.length > 0 && q(), e !== a.ENTER && e !== a.ESC || (c.preventDefault(), c.stopPropagation())
        }), r.searchInput.on("paste", function (b) {
            var c;
            if (c = window.clipboardData && window.clipboardData.getData ? window.clipboardData.getData("Text") : (b.originalEvent || b).clipboardData.getData("text/plain"), c = r.search + c, c && c.length > 0)if (r.taggingTokens.isActivated) {
                for (var d = [], e = 0; e < r.taggingTokens.tokens.length; e++) {
                    var f = a.toSeparator(r.taggingTokens.tokens[e]) || r.taggingTokens.tokens[e];
                    if (c.indexOf(f) > -1) {
                        d = c.split(f);
                        break
                    }
                }
                if (0 === d.length && (d = [c]), d.length > 0) {
                    var g = r.search;
                    angular.forEach(d, function (a) {
                        var b = r.tagging.fct ? r.tagging.fct(a) : a;
                        b && r.select(b, !0)
                    }), r.search = g || s, b.preventDefault(), b.stopPropagation()
                }
            } else r.paste && (r.paste(c), r.search = s, b.preventDefault(), b.stopPropagation())
        }), r.searchInput.on("tagged", function () {
            d(function () {
                n()
            })
        });
        var x = f(function () {
            r.sizeSearchInput()
        }, 50);
        angular.element(l).bind("resize", x), b.$on("$destroy", function () {
            r.searchInput.off("keyup keydown tagged blur paste"), angular.element(l).off("resize", x)
        })
    }]), c.directive("uiSelect", ["$document", "uiSelectConfig", "uiSelectMinErr", "uisOffset", "$compile", "$parse", "$timeout", function (a, b, c, d, e, f, g) {
        return {
            restrict: "EA",
            templateUrl: function (a, c) {
                var d = c.theme || b.theme;
                return d + (angular.isDefined(c.multiple) ? "/select-multiple.tpl.html" : "/select.tpl.html")
            },
            replace: !0,
            transclude: !0,
            require: ["uiSelect", "^ngModel"],
            scope: !0,
            controller: "uiSelectCtrl",
            controllerAs: "$select",
            compile: function (e, h) {
                var i = /{(.*)}\s*{(.*)}/.exec(h.ngClass);
                if (i) {
                    var j = "{" + i[1] + ", " + i[2] + "}";
                    h.ngClass = j, e.attr("ng-class", j)
                }
                return angular.isDefined(h.multiple) ? e.append("<ui-select-multiple/>").removeAttr("multiple") : e.append("<ui-select-single/>"), h.inputId && (e.querySelectorAll("input.ui-select-search")[0].id = h.inputId), function (e, h, i, j, k) {
                    function l(a) {
                        if (o.open) {
                            var b = !1;
                            if (b = window.jQuery ? window.jQuery.contains(h[0], a.target) : h[0].contains(a.target), !b && !o.clickTriggeredSelect) {
                                var c;
                                if (o.skipFocusser)c = !0; else {
                                    var d = ["input", "button", "textarea", "select"], f = angular.element(a.target).controller("uiSelect");
                                    c = f && f !== o, c || (c = ~d.indexOf(a.target.tagName.toLowerCase()))
                                }
                                o.close(c), e.$digest()
                            }
                            o.clickTriggeredSelect = !1
                        }
                    }

                    function m() {
                        var b = d(h);
                        r = angular.element('<div class="ui-select-placeholder"></div>'), r[0].style.width = b.width + "px", r[0].style.height = b.height + "px", h.after(r), s = h[0].style.width, a.find("body").append(h), h[0].style.position = "absolute", h[0].style.left = b.left + "px", h[0].style.top = b.top + "px", h[0].style.width = b.width + "px"
                    }

                    function n() {
                        null !== r && (r.replaceWith(h), r = null, h[0].style.position = "", h[0].style.left = "", h[0].style.top = "", h[0].style.width = s, o.setFocus())
                    }

                    var o = j[0], p = j[1];
                    o.generatedId = b.generateId(), o.baseTitle = i.title || "Select box", o.focusserTitle = o.baseTitle + " focus", o.focusserId = "focusser-" + o.generatedId, o.closeOnSelect = function () {
                        return angular.isDefined(i.closeOnSelect) ? f(i.closeOnSelect)() : b.closeOnSelect
                    }(), e.$watch("skipFocusser", function () {
                        var a = e.$eval(i.skipFocusser);
                        o.skipFocusser = void 0 !== a ? a : b.skipFocusser
                    }), o.onSelectCallback = f(i.onSelect), o.onRemoveCallback = f(i.onRemove), o.ngModel = p, o.choiceGrouped = function (a) {
                        return o.isGrouped && a && a.name
                    }, i.tabindex && i.$observe("tabindex", function (a) {
                        o.focusInput.attr("tabindex", a), h.removeAttr("tabindex")
                    }), e.$watch("searchEnabled", function () {
                        var a = e.$eval(i.searchEnabled);
                        o.searchEnabled = void 0 !== a ? a : b.searchEnabled
                    }), e.$watch("sortable", function () {
                        var a = e.$eval(i.sortable);
                        o.sortable = void 0 !== a ? a : b.sortable
                    }), i.$observe("limit", function () {
                        o.limit = angular.isDefined(i.limit) ? parseInt(i.limit, 10) : void 0
                    }), e.$watch("removeSelected", function () {
                        var a = e.$eval(i.removeSelected);
                        o.removeSelected = void 0 !== a ? a : b.removeSelected
                    }), i.$observe("disabled", function () {
                        o.disabled = void 0 !== i.disabled && i.disabled
                    }), i.$observe("resetSearchInput", function () {
                        var a = e.$eval(i.resetSearchInput);
                        o.resetSearchInput = void 0 === a || a
                    }), i.$observe("paste", function () {
                        o.paste = e.$eval(i.paste)
                    }), i.$observe("tagging", function () {
                        if (void 0 !== i.tagging) {
                            var a = e.$eval(i.tagging);
                            o.tagging = {isActivated: !0, fct: a !== !0 ? a : void 0}
                        } else o.tagging = {isActivated: !1, fct: void 0}
                    }), i.$observe("taggingLabel", function () {
                        void 0 !== i.tagging && ("false" === i.taggingLabel ? o.taggingLabel = !1 : o.taggingLabel = void 0 !== i.taggingLabel ? i.taggingLabel : "(new)")
                    }), i.$observe("taggingTokens", function () {
                        if (void 0 !== i.tagging) {
                            var a = void 0 !== i.taggingTokens ? i.taggingTokens.split("|") : [",", "ENTER"];
                            o.taggingTokens = {isActivated: !0, tokens: a}
                        }
                    }), angular.isDefined(i.autofocus) && g(function () {
                        o.setFocus()
                    }), angular.isDefined(i.focusOn) && e.$on(i.focusOn, function () {
                        g(function () {
                            o.setFocus()
                        })
                    }), a.on("click", l), e.$on("$destroy", function () {
                        a.off("click", l)
                    }), k(e, function (a) {
                        var b = angular.element("<div>").append(a), d = b.querySelectorAll(".ui-select-match");
                        if (d.removeAttr("ui-select-match"), d.removeAttr("data-ui-select-match"), 1 !== d.length)throw c("transcluded", "Expected 1 .ui-select-match but got '{0}'.", d.length);
                        h.querySelectorAll(".ui-select-match").replaceWith(d);
                        var e = b.querySelectorAll(".ui-select-choices");
                        if (e.removeAttr("ui-select-choices"), e.removeAttr("data-ui-select-choices"), 1 !== e.length)throw c("transcluded", "Expected 1 .ui-select-choices but got '{0}'.", e.length);
                        h.querySelectorAll(".ui-select-choices").replaceWith(e);
                        var f = b.querySelectorAll(".ui-select-no-choice");
                        f.removeAttr("ui-select-no-choice"), f.removeAttr("data-ui-select-no-choice"), 1 == f.length && h.querySelectorAll(".ui-select-no-choice").replaceWith(f)
                    });
                    var q = e.$eval(i.appendToBody);
                    (void 0 !== q ? q : b.appendToBody) && (e.$watch("$select.open", function (a) {
                        a ? m() : n()
                    }), e.$on("$destroy", function () {
                        n()
                    }));
                    var r = null, s = "", t = null, u = "direction-up";
                    e.$watch("$select.open", function () {
                        "auto" !== o.dropdownPosition && "up" !== o.dropdownPosition || e.calculateDropdownPos()
                    });
                    var v = function (a, b) {
                        a = a || d(h), b = b || d(t), t[0].style.position = "absolute", t[0].style.top = b.height * -1 + "px", h.addClass(u)
                    }, w = function (a, b) {
                        h.removeClass(u), a = a || d(h), b = b || d(t), t[0].style.position = "", t[0].style.top = ""
                    }, x = function () {
                        g(function () {
                            if ("up" === o.dropdownPosition)v(); else {
                                h.removeClass(u);
                                var b = d(h), c = d(t), e = a[0].documentElement.scrollTop || a[0].body.scrollTop;
                                b.top + b.height + c.height > e + a[0].documentElement.clientHeight ? v(b, c) : w(b, c)
                            }
                            t[0].style.opacity = 1
                        })
                    };
                    e.calculateDropdownPos = function () {
                        if (o.open) {
                            if (t = angular.element(h).querySelectorAll(".ui-select-dropdown"), 0 === t.length)return;
                            if (t[0].style.opacity = 0, !d(t).height && o.$animate && o.$animate.on && o.$animate.enabled(t)) {
                                var a = !0;
                                o.$animate.on("enter", t, function (b, c) {
                                    "close" === c && a && (x(), a = !1)
                                })
                            } else x()
                        } else {
                            if (null === t || 0 === t.length)return;
                            t[0].style.opacity = 0, t[0].style.position = "", t[0].style.top = "", h.removeClass(u)
                        }
                    }
                }
            }
        }
    }]), c.directive("uiSelectMatch", ["uiSelectConfig", function (a) {
        function b(a, b) {
            return a[0].hasAttribute(b) ? a.attr(b) : a[0].hasAttribute("data-" + b) ? a.attr("data-" + b) : a[0].hasAttribute("x-" + b) ? a.attr("x-" + b) : void 0
        }

        return {
            restrict: "EA", require: "^uiSelect", replace: !0, transclude: !0, templateUrl: function (c) {
                c.addClass("ui-select-match");
                var d = c.parent(), e = b(d, "theme") || a.theme, f = angular.isDefined(b(d, "multiple"));
                return e + (f ? "/match-multiple.tpl.html" : "/match.tpl.html")
            }, link: function (b, c, d, e) {
                function f(a) {
                    e.allowClear = !!angular.isDefined(a) && ("" === a || "true" === a.toLowerCase())
                }

                e.lockChoiceExpression = d.uiLockChoice, d.$observe("placeholder", function (b) {
                    e.placeholder = void 0 !== b ? b : a.placeholder
                }), d.$observe("allowClear", f), f(d.allowClear), e.multiple && e.sizeSearchInput()
            }
        }
    }]), c.directive("uiSelectMultiple", ["uiSelectMinErr", "$timeout", function (b, c) {
        return {
            restrict: "EA", require: ["^uiSelect", "^ngModel"], controller: ["$scope", "$timeout", function (a, b) {
                var c, d = this, e = a.$select;
                angular.isUndefined(e.selected) && (e.selected = []), a.$evalAsync(function () {
                    c = a.ngModel
                }), d.activeMatchIndex = -1, d.updateModel = function () {
                    c.$setViewValue(Date.now()), d.refreshComponent()
                }, d.refreshComponent = function () {
                    e.refreshItems(), e.sizeSearchInput()
                }, d.removeChoice = function (c) {
                    var f = e.selected[c];
                    if (!f._uiSelectChoiceLocked) {
                        var g = {};
                        g[e.parserResult.itemName] = f, e.selected.splice(c, 1), d.activeMatchIndex = -1, e.sizeSearchInput(), b(function () {
                            e.onRemoveCallback(a, {$item: f, $model: e.parserResult.modelMapper(a, g)})
                        }), d.updateModel()
                    }
                }, d.getPlaceholder = function () {
                    if (!e.selected || !e.selected.length)return e.placeholder
                }
            }], controllerAs: "$selectMultiple", link: function (d, e, f, g) {
                function h(a) {
                    return angular.isNumber(a.selectionStart) ? a.selectionStart : a.value.length
                }

                function i(b) {
                    function c() {
                        switch (b) {
                            case a.LEFT:
                                return ~n.activeMatchIndex ? k : g;
                            case a.RIGHT:
                                return ~n.activeMatchIndex && i !== g ? j : (l.activate(), !1);
                            case a.BACKSPACE:
                                return ~n.activeMatchIndex ? (n.removeChoice(i), k) : g;
                            case a.DELETE:
                                return !!~n.activeMatchIndex && (n.removeChoice(n.activeMatchIndex), i)
                        }
                    }

                    var d = h(l.searchInput[0]), e = l.selected.length, f = 0, g = e - 1, i = n.activeMatchIndex, j = n.activeMatchIndex + 1, k = n.activeMatchIndex - 1, m = i;
                    return !(d > 0 || l.search.length && b == a.RIGHT) && (l.close(),
                            m = c(), l.selected.length && m !== !1 ? n.activeMatchIndex = Math.min(g, Math.max(f, m)) : n.activeMatchIndex = -1, !0)
                }

                function j(a) {
                    if (void 0 === a || void 0 === l.search)return !1;
                    var b = a.filter(function (a) {
                            return void 0 !== l.search.toUpperCase() && void 0 !== a && a.toUpperCase() === l.search.toUpperCase()
                        }).length > 0;
                    return b
                }

                function k(a, b) {
                    var c = -1;
                    if (angular.isArray(a))for (var d = angular.copy(a), e = 0; e < d.length; e++)if (void 0 === l.tagging.fct)d[e] + " " + l.taggingLabel === b && (c = e); else {
                        var f = d[e];
                        angular.isObject(f) && (f.isTag = !0), angular.equals(f, b) && (c = e)
                    }
                    return c
                }

                var l = g[0], m = d.ngModel = g[1], n = d.$selectMultiple;
                l.multiple = !0, l.focusInput = l.searchInput, m.$isEmpty = function (a) {
                    return !a || 0 === a.length
                }, m.$parsers.unshift(function () {
                    for (var a, b = {}, c = [], e = l.selected.length - 1; e >= 0; e--)b = {}, b[l.parserResult.itemName] = l.selected[e], a = l.parserResult.modelMapper(d, b), c.unshift(a);
                    return c
                }), m.$formatters.unshift(function (a) {
                    var b, c = l.parserResult && l.parserResult.source(d, {$select: {search: ""}}), e = {};
                    if (!c)return a;
                    var f = [], g = function (a, c) {
                        if (a && a.length) {
                            for (var g = a.length - 1; g >= 0; g--) {
                                if (e[l.parserResult.itemName] = a[g], b = l.parserResult.modelMapper(d, e), l.parserResult.trackByExp) {
                                    var h = /(\w*)\./.exec(l.parserResult.trackByExp), i = /\.([^\s]+)/.exec(l.parserResult.trackByExp);
                                    if (h && h.length > 0 && h[1] == l.parserResult.itemName && i && i.length > 0 && b[i[1]] == c[i[1]])return f.unshift(a[g]), !0
                                }
                                if (angular.equals(b, c))return f.unshift(a[g]), !0
                            }
                            return !1
                        }
                    };
                    if (!a)return f;
                    for (var h = a.length - 1; h >= 0; h--)g(l.selected, a[h]) || g(c, a[h]) || f.unshift(a[h]);
                    return f
                }), d.$watchCollection(function () {
                    return m.$modelValue
                }, function (a, b) {
                    b != a && (angular.isDefined(m.$modelValue) && (m.$modelValue = null), n.refreshComponent())
                }), m.$render = function () {
                    if (!angular.isArray(m.$viewValue)) {
                        if (!angular.isUndefined(m.$viewValue) && null !== m.$viewValue)throw b("multiarr", "Expected model value to be array but got '{0}'", m.$viewValue);
                        l.selected = []
                    }
                    l.selected = m.$viewValue, n.refreshComponent(), d.$evalAsync()
                }, d.$on("uis:select", function (a, b) {
                    l.selected.length >= l.limit || (l.selected.push(b), n.updateModel())
                }), d.$on("uis:activate", function () {
                    n.activeMatchIndex = -1
                }), d.$watch("$select.disabled", function (a, b) {
                    b && !a && l.sizeSearchInput()
                }), l.searchInput.on("keydown", function (b) {
                    var c = b.which;
                    d.$apply(function () {
                        var d = !1;
                        a.isHorizontalMovement(c) && (d = i(c)), d && c != a.TAB && (b.preventDefault(), b.stopPropagation())
                    })
                }), l.searchInput.on("keyup", function (b) {
                    if (a.isVerticalMovement(b.which) || d.$evalAsync(function () {
                            l.activeIndex = l.taggingLabel === !1 ? -1 : 0
                        }), l.tagging.isActivated && l.search.length > 0) {
                        if (b.which === a.TAB || a.isControl(b) || a.isFunctionKey(b) || b.which === a.ESC || a.isVerticalMovement(b.which))return;
                        if (l.activeIndex = l.taggingLabel === !1 ? -1 : 0, l.taggingLabel === !1)return;
                        var c, e, f, g, h = angular.copy(l.items), i = angular.copy(l.items), m = !1, n = -1;
                        if (void 0 !== l.tagging.fct) {
                            if (f = l.$filter("filter")(h, {isTag: !0}), f.length > 0 && (g = f[0]), h.length > 0 && g && (m = !0, h = h.slice(1, h.length), i = i.slice(1, i.length)), c = l.tagging.fct(l.search), i.some(function (a) {
                                    return angular.equals(a, c)
                                }) || l.selected.some(function (a) {
                                    return angular.equals(a, c)
                                }))return void d.$evalAsync(function () {
                                l.activeIndex = 0, l.items = h
                            });
                            c && (c.isTag = !0)
                        } else {
                            if (f = l.$filter("filter")(h, function (a) {
                                    return a.match(l.taggingLabel)
                                }), f.length > 0 && (g = f[0]), e = h[0], void 0 !== e && h.length > 0 && g && (m = !0, h = h.slice(1, h.length), i = i.slice(1, i.length)), c = l.search + " " + l.taggingLabel, k(l.selected, l.search) > -1)return;
                            if (j(i.concat(l.selected)))return void(m && (h = i, d.$evalAsync(function () {
                                l.activeIndex = 0, l.items = h
                            })));
                            if (j(i))return void(m && (l.items = i.slice(1, i.length)))
                        }
                        m && (n = k(l.selected, c)), n > -1 ? h = h.slice(n + 1, h.length - 1) : (h = [], c && h.push(c), h = h.concat(i)), d.$evalAsync(function () {
                            if (l.activeIndex = 0, l.items = h, l.isGrouped) {
                                var a = c ? h.slice(1) : h;
                                l.setItemsFn(a), c && (l.items.unshift(c), l.groups.unshift({
                                    name: "",
                                    items: [c],
                                    tagging: !0
                                }))
                            }
                        })
                    }
                }), l.searchInput.on("blur", function () {
                    c(function () {
                        n.activeMatchIndex = -1
                    })
                })
            }
        }
    }]), c.directive("uiSelectNoChoice", ["uiSelectConfig", function (a) {
        return {
            restrict: "EA", require: "^uiSelect", replace: !0, transclude: !0, templateUrl: function (b) {
                b.addClass("ui-select-no-choice");
                var c = b.parent().attr("theme") || a.theme;
                return c + "/no-choice.tpl.html"
            }
        }
    }]), c.directive("uiSelectSingle", ["$timeout", "$compile", function (b, c) {
        return {
            restrict: "EA", require: ["^uiSelect", "^ngModel"], link: function (d, e, f, g) {
                var h = g[0], i = g[1];
                i.$parsers.unshift(function (a) {
                    var b, c = {};
                    return c[h.parserResult.itemName] = a, b = h.parserResult.modelMapper(d, c)
                }), i.$formatters.unshift(function (a) {
                    var b, c = h.parserResult && h.parserResult.source(d, {$select: {search: ""}}), e = {};
                    if (c) {
                        var f = function (c) {
                            return e[h.parserResult.itemName] = c, b = h.parserResult.modelMapper(d, e), b === a
                        };
                        if (h.selected && f(h.selected))return h.selected;
                        for (var g = c.length - 1; g >= 0; g--)if (f(c[g]))return c[g]
                    }
                    return a
                }), d.$watch("$select.selected", function (a) {
                    i.$viewValue !== a && i.$setViewValue(a)
                }), i.$render = function () {
                    h.selected = i.$viewValue
                }, d.$on("uis:select", function (a, b) {
                    h.selected = b
                }), d.$on("uis:close", function (a, c) {
                    b(function () {
                        h.focusser.prop("disabled", !1), c || h.focusser[0].focus()
                    }, 0, !1)
                }), d.$on("uis:activate", function () {
                    j.prop("disabled", !0)
                });
                var j = angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />");
                c(j)(d), h.focusser = j, h.focusInput = j, e.parent().append(j), j.bind("focus", function () {
                    d.$evalAsync(function () {
                        h.focus = !0
                    })
                }), j.bind("blur", function () {
                    d.$evalAsync(function () {
                        h.focus = !1
                    })
                }), j.bind("keydown", function (b) {
                    return b.which === a.BACKSPACE ? (b.preventDefault(), b.stopPropagation(), h.select(void 0), void d.$apply()) : void(b.which === a.TAB || a.isControl(b) || a.isFunctionKey(b) || b.which === a.ESC || (b.which != a.DOWN && b.which != a.UP && b.which != a.ENTER && b.which != a.SPACE || (b.preventDefault(), b.stopPropagation(), h.activate()), d.$digest()))
                }), j.bind("keyup input", function (b) {
                    b.which === a.TAB || a.isControl(b) || a.isFunctionKey(b) || b.which === a.ESC || b.which == a.ENTER || b.which === a.BACKSPACE || (h.activate(j.val()), j.val(""), d.$digest())
                })
            }
        }
    }]), c.directive("uiSelectSort", ["$timeout", "uiSelectConfig", "uiSelectMinErr", function (a, b, c) {
        return {
            require: ["^^uiSelect", "^ngModel"], link: function (b, d, e, f) {
                if (null === b[e.uiSelectSort])throw c("sort", "Expected a list to sort");
                var g = f[0], h = f[1], i = angular.extend({axis: "horizontal"}, b.$eval(e.uiSelectSortOptions)), j = i.axis, k = "dragging", l = "dropping", m = "dropping-before", n = "dropping-after";
                b.$watch(function () {
                    return g.sortable
                }, function (a) {
                    a ? d.attr("draggable", !0) : d.removeAttr("draggable")
                }), d.on("dragstart", function (a) {
                    d.addClass(k), (a.dataTransfer || a.originalEvent.dataTransfer).setData("text", b.$index.toString())
                }), d.on("dragend", function () {
                    q(k)
                });
                var o, p = function (a, b) {
                    this.splice(b, 0, this.splice(a, 1)[0])
                }, q = function (a) {
                    angular.forEach(g.$element.querySelectorAll("." + a), function (b) {
                        angular.element(b).removeClass(a)
                    })
                }, r = function (a) {
                    a.preventDefault();
                    var b = "vertical" === j ? a.offsetY || a.layerY || (a.originalEvent ? a.originalEvent.offsetY : 0) : a.offsetX || a.layerX || (a.originalEvent ? a.originalEvent.offsetX : 0);
                    b < this["vertical" === j ? "offsetHeight" : "offsetWidth"] / 2 ? (q(n), d.addClass(m)) : (q(m), d.addClass(n))
                }, s = function (b) {
                    b.preventDefault();
                    var c = parseInt((b.dataTransfer || b.originalEvent.dataTransfer).getData("text"), 10);
                    a.cancel(o), o = a(function () {
                        t(c)
                    }, 20)
                }, t = function (a) {
                    var c = b.$eval(e.uiSelectSort), f = c[a], g = null;
                    g = d.hasClass(m) ? a < b.$index ? b.$index - 1 : b.$index : a < b.$index ? b.$index : b.$index + 1, p.apply(c, [a, g]), h.$setViewValue(Date.now()), b.$apply(function () {
                        b.$emit("uiSelectSort:change", {array: c, item: f, from: a, to: g})
                    }), q(l), q(m), q(n), d.off("drop", s)
                };
                d.on("dragenter", function () {
                    d.hasClass(k) || (d.addClass(l), d.on("dragover", r), d.on("drop", s))
                }), d.on("dragleave", function (a) {
                    a.target == d && (q(l), q(m), q(n), d.off("dragover", r), d.off("drop", s))
                })
            }
        }
    }]), c.factory("$$uisDebounce", ["$timeout", function (a) {
        return function (b, c) {
            var d;
            return function () {
                var e = this, f = Array.prototype.slice.call(arguments);
                d && a.cancel(d), d = a(function () {
                    b.apply(e, f)
                }, c)
            }
        }
    }]), c.service("uisRepeatParser", ["uiSelectMinErr", "$parse", function (a, b) {
        var c = this;
        c.parse = function (c) {
            var d;
            if (d = c.match(/^\s*(?:([\s\S]+?)\s+as\s+)?(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(\s*[\s\S]+?)?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/), !d)throw a("iexp", "Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.", c);
            var e = d[5], f = "";
            if (d[3]) {
                e = d[5].replace(/(^\()|(\)$)/g, "");
                var g = d[5].match(/^\s*(?:[\s\S]+?)(?:[^\|]|\|\|)+([\s\S]*)\s*$/);
                g && g[1].trim() && (f = g[1], e = e.replace(f, ""))
            }
            return {
                itemName: d[4] || d[2],
                keyName: d[3],
                source: b(e),
                filters: f,
                trackByExp: d[6],
                modelMapper: b(d[1] || d[4] || d[2]),
                repeatExpression: function (a) {
                    var b = this.itemName + " in " + (a ? "$group.items" : "$select.items");
                    return this.trackByExp && (b += " track by " + this.trackByExp), b
                }
            }
        }, c.getGroupNgRepeatExpression = function () {
            return "$group in $select.groups"
        }
    }])
}(), angular.module("ui.select").run(["$templateCache", function (a) {
    a.put("bootstrap/choices.tpl.html", '<ul class="ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu" role="listbox" ng-show="$select.open && $select.items.length > 0"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"></div><div ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><a href="" class="ui-select-choices-row-inner"></a></div></li></ul>'), a.put("bootstrap/match-multiple.tpl.html", '<span class="ui-select-match"><span ng-repeat="$item in $select.selected"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>'), a.put("bootstrap/match.tpl.html", '<div class="ui-select-match" ng-hide="$select.open && $select.searchEnabled" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear && !$select.isEmpty() && ($select.disabled !== true)" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span></div>'), a.put("bootstrap/no-choice.tpl.html", '<ul class="ui-select-no-choice dropdown-menu" ng-show="$select.items.length == 0"><li ng-transclude=""></li></ul>'), a.put("bootstrap/select-multiple.tpl.html", '<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="combobox" aria-label="{{ $select.baseTitle }}" ondrop="return false;"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'), a.put("bootstrap/select.tpl.html", '<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><input type="search" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="form-control ui-select-search" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.searchEnabled && $select.open"><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'), a.put("select2/choices.tpl.html", '<ul tabindex="-1" class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }"><div ng-show="$select.choiceGrouped($group)" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"></div><ul role="listbox" id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="option" ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>'), a.put("select2/match-multiple.tpl.html", '<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""></span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"></a></li></span>'), a.put("select2/match.tpl.html", '<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.clear($event)"></abbr> <span class="select2-arrow ui-select-toggle"><b></b></span></a>'), a.put("select2/select-multiple.tpl.html", '<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"></span><li class="select2-search-field"><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;" ondrop="return false;"></li></ul><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open || $select.items.length === 0}"><div class="ui-select-choices"></div></div></div>'), a.put("select2/select.tpl.html", '<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"></div><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="select2-search" ng-show="$select.searchEnabled"><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div></div></div>'), a.put("selectize/choices.tpl.html", '<div ng-show="$select.open" class="ui-select-choices ui-select-dropdown selectize-dropdown single"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup" role="listbox"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"></div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>'), a.put("selectize/match.tpl.html", '<div ng-hide="$select.searchEnabled && ($select.open || $select.isEmpty())" class="ui-select-match" ng-transclude=""></div>'), a.put("selectize/select.tpl.html", '<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()"><div class="ui-select-match"></div><input type="search" autocomplete="off" tabindex="-1" class="ui-select-search ui-select-toggle" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.searchEnabled || ($select.selected && !$select.open)" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"></div><div class="ui-select-choices"></div></div>')
}]), function (a, b) {
    "use strict";
    var c = {};
    c.prototype = c, c.config = {
        feed_turn_on: !0,
        debug: function () {
            return "dev" === wt.env && !c.util.isIE() && "object" == typeof a.console
        },
        prefixed: "wt",
        lang: "zh-cn",
        default_pos: 65535,
        default_count: 20,
        weixin_url: function () {
            return wt.appConfig.wtconnect.weixin
        },
        box_url: function () {
            return wt.appConfig.box.base_url
        },
        feed_url: function () {
            return wt.appConfig.feed_host
        },
        box_url_regex: function () {
            return new RegExp(wt.appConfig.box.box_url_regex)
        },
        default_team_pic: "/img/logo.png",
        default_avatar: "/img/default_avatar.png",
        default_box: "",
        default_project_bg: "",
        default_nopic: "/img/bg/nopic.png",
        wtbox_url: "https://wt-thumb.oss.aliyuncs.com/",
        wtlogo_url: "https://wt-team.oss.aliyuncs.com/",
        wtavatar_url: "https://wt-avatars.oss.aliyuncs.com/",
        wtteamlogo_url: "https://wt-team.oss.aliyuncs.com/",
        wtbackgorund_url: "https://wt-bg.oss.aliyuncs.com/",
        wtall_url: "https://wt-all.oss.aliyuncs.com/",
        wtprj_url: "https://wt-prj.oss.aliyuncs.com/",
        desk_notify_key: "my_desk_notice",
        root_url: "https://worktile.com",
        cdnpath: "//cdn.worktile.com/",
        colors: {
            completed: "#88b244",
            uncompleted: "#f7af49",
            expired: "#f47a55",
            archived: "#9fc6e7",
            created: "#9fe1e7"
        }
    }, c.emojis = ["bowtie", "smile", "laughing", "blush", "smiley", "relaxed", "smirk", "heart_eyes", "kissing_heart", "kissing_closed_eyes", "flushed", "relieved", "satisfied", "grin", "wink", "stuck_out_tongue_winking_eye", "stuck_out_tongue_closed_eyes", "grinning", "kissing", "kissing_smiling_eyes", "stuck_out_tongue", "sleeping", "worried", "frowning", "anguished", "open_mouth", "grimacing", "confused", "hushed", "expressionless", "unamused", "sweat_smile", "sweat", "weary", "pensive", "disappointed", "confounded", "fearful", "cold_sweat", "persevere", "joy", "astonished", "scream", "neckbeard", "tired_face", "angry", "rage", "triumph", "sleepy", "yum", "mask", "sunglasses", "dizzy_face", "imp", "smiling_imp", "neutral_face", "no_mouth", "innocent", "alien", "yellow_heart", "blue_heart", "purple_heart", "heart", "green_heart", "broken_heart", "heartbeat", "heartpulse", "two_hearts", "revolving_hearts", "cupid", "sparkling_heart", "sparkles", "star", "star2", "dizzy", "boom", "collision", "anger", "exclamation", "question", "grey_exclamation", "grey_question", "zzz", "dash", "sweat_drops", "notes", "musical_note", "fire", "hankey", "poop", "shit", "+1", "thumbsup", "-1", "thumbsdown", "ok_hand", "punch", "facepunch", "fist", "v", "wave", "hand", "raised_hand", "open_hands", "point_up", "point_down", "point_left", "point_right", "raised_hands", "pray", "point_up_2", "clap", "muscle", "metal", "walking", "runner", "running", "couple", "family", "two_men_holding_hands", "two_women_holding_hands", "ok_woman", "no_good", "information_desk_person", "bride_with_veil", "person_with_pouting_face", "person_frowning", "bow", "couplekiss", "couple_with_heart", "massage", "haircut", "nail_care", "boy", "girl", "woman", "man", "baby", "older_woman", "older_man", "person_with_blond_hair", "man_with_gua_pi_mao", "man_with_turban", "construction_worker", "cop", "angel", "princess", "smiley_cat", "smile_cat", "heart_eyes_cat", "kissing_cat", "smirk_cat", "scream_cat", "crying_cat_face", "joy_cat", "pouting_cat", "japanese_ogre", "japanese_goblin", "see_no_evil", "hear_no_evil", "speak_no_evil", "guardsman", "skull", "feet", "lips", "kiss", "droplet", "ear", "eyes", "nose", "tongue", "love_letter", "bust_in_silhouette", "busts_in_silhouette", "speech_balloon", "thought_balloon", "feelsgood", "finnadie", "goberserk", "godmode", "hurtrealbad", "rage1", "rage2", "rage3", "rage4", "suspect", "trollface", "sunny", "umbrella", "cloud", "snowflake", "snowman", "zap", "cyclone", "foggy", "ocean", "cat", "dog", "mouse", "hamster", "rabbit", "wolf", "frog", "tiger", "koala", "bear", "pig", "pig_nose", "cow", "boar", "monkey_face", "monkey", "horse", "racehorse", "camel", "sheep", "elephant", "panda_face", "snake", "bird", "baby_chick", "hatched_chick", "hatching_chick", "chicken", "penguin", "turtle", "bug", "honeybee", "ant", "beetle", "snail", "octopus", "tropical_fish", "fish", "whale", "whale2", "dolphin", "cow2", "ram", "rat", "water_buffalo", "tiger2", "rabbit2", "dragon", "goat", "rooster", "dog2", "pig2", "mouse2", "ox", "dragon_face", "blowfish", "crocodile", "dromedary_camel", "leopard", "cat2", "poodle", "paw_prints", "bouquet", "cherry_blossom", "tulip", "four_leaf_clover", "rose", "sunflower", "hibiscus", "maple_leaf", "leaves", "fallen_leaf", "herb", "mushroom", "cactus", "palm_tree", "evergreen_tree", "deciduous_tree", "chestnut", "seedling", "blossom", "ear_of_rice", "shell", "globe_with_meridians", "sun_with_face", "full_moon_with_face", "new_moon_with_face", "new_moon", "waxing_crescent_moon", "first_quarter_moon", "waxing_gibbous_moon", "full_moon", "waning_gibbous_moon", "last_quarter_moon", "waning_crescent_moon", "last_quarter_moon_with_face", "first_quarter_moon_with_face", "moon", "earth_africa", "earth_americas", "earth_asia", "volcano", "milky_way", "partly_sunny", "octocat", "squirrel", "bamboo", "gift_heart", "dolls", "school_satchel", "mortar_board", "flags", "fireworks", "sparkler", "wind_chime", "rice_scene", "jack_o_lantern", "ghost", "santa", "christmas_tree", "gift", "bell", "no_bell", "tanabata_tree", "tada", "confetti_ball", "balloon", "crystal_ball", "cd", "dvd", "floppy_disk", "camera", "video_camera", "movie_camera", "computer", "tv", "iphone", "phone", "telephone", "telephone_receiver", "pager", "fax", "minidisc", "vhs", "sound", "speaker", "mute", "loudspeaker", "mega", "hourglass", "hourglass_flowing_sand", "alarm_clock", "watch", "radio", "satellite", "loop", "mag", "mag_right", "unlock", "lock", "lock_with_ink_pen", "closed_lock_with_key", "key", "bulb", "flashlight", "high_brightness", "low_brightness", "electric_plug", "battery", "calling", "email", "mailbox", "postbox", "bath", "bathtub", "shower", "toilet", "wrench", "nut_and_bolt", "hammer", "seat", "moneybag", "yen", "dollar", "pound", "euro", "credit_card", "money_with_wings", "e-mail", "inbox_tray", "outbox_tray", "envelope", "incoming_envelope", "postal_horn", "mailbox_closed", "mailbox_with_mail", "mailbox_with_no_mail", "door", "smoking", "bomb", "gun", "hocho", "pill", "syringe", "page_facing_up", "page_with_curl", "bookmark_tabs", "bar_chart", "chart_with_upwards_trend", "chart_with_downwards_trend", "scroll", "clipboard", "calendar", "date", "card_index", "file_folder", "open_file_folder", "scissors", "pushpin", "paperclip", "black_nib", "pencil2", "straight_ruler", "triangular_ruler", "closed_book", "green_book", "blue_book", "orange_book", "notebook", "notebook_with_decorative_cover", "ledger", "books", "bookmark", "name_badge", "microscope", "telescope", "newspaper", "football", "basketball", "soccer", "baseball", "tennis", "8ball", "rugby_football", "bowling", "golf", "mountain_bicyclist", "bicyclist", "horse_racing", "snowboarder", "swimmer", "surfer", "ski", "spades", "hearts", "clubs", "diamonds", "gem", "ring", "trophy", "musical_score", "musical_keyboard", "violin", "space_invader", "video_game", "black_joker", "flower_playing_cards", "game_die", "dart", "mahjong", "clapper", "memo", "pencil", "book", "art", "microphone", "headphones", "trumpet", "saxophone", "guitar", "shoe", "sandal", "high_heel", "lipstick", "boot", "shirt", "tshirt", "necktie", "womans_clothes", "dress", "running_shirt_with_sash", "jeans", "kimono", "bikini", "ribbon", "tophat", "crown", "womans_hat", "mans_shoe", "closed_umbrella", "briefcase", "handbag", "pouch", "purse", "eyeglasses", "fishing_pole_and_fish", "coffee", "tea", "sake", "baby_bottle", "beer", "beers", "cocktail", "tropical_drink", "wine_glass", "fork_and_knife", "pizza", "hamburger", "fries", "poultry_leg", "meat_on_bone", "spaghetti", "curry", "fried_shrimp", "bento", "sushi", "fish_cake", "rice_ball", "rice_cracker", "rice", "ramen", "stew", "oden", "dango", "egg", "bread", "doughnut", "custard", "icecream", "ice_cream", "shaved_ice", "birthday", "cake", "cookie", "chocolate_bar", "candy", "lollipop", "honey_pot", "apple", "green_apple", "tangerine", "lemon", "cherries", "grapes", "watermelon", "strawberry", "peach", "melon", "banana", "pear", "pineapple", "sweet_potato", "eggplant", "tomato", "corn", "house", "house_with_garden", "school", "office", "post_office", "hospital", "bank", "convenience_store", "love_hotel", "hotel", "wedding", "church", "department_store", "european_post_office", "city_sunrise", "city_sunset", "japanese_castle", "european_castle", "tent", "factory", "tokyo_tower", "japan", "mount_fuji", "sunrise_over_mountains", "sunrise", "stars", "statue_of_liberty", "bridge_at_night", "carousel_horse", "rainbow", "ferris_wheel", "fountain", "roller_coaster", "ship", "speedboat", "boat", "sailboat", "rowboat", "anchor", "rocket", "airplane", "helicopter", "steam_locomotive", "tram", "mountain_railway", "bike", "aerial_tramway", "suspension_railway", "mountain_cableway", "tractor", "blue_car", "oncoming_automobile", "car", "red_car", "taxi", "oncoming_taxi", "articulated_lorry", "bus", "oncoming_bus", "rotating_light", "police_car", "oncoming_police_car", "fire_engine", "ambulance", "minibus", "truck", "train", "station", "train2", "bullettrain_front", "bullettrain_side", "light_rail", "monorail", "railway_car", "trolleybus", "ticket", "fuelpump", "vertical_traffic_light", "traffic_light", "warning", "construction", "beginner", "atm", "slot_machine", "busstop", "barber", "hotsprings", "checkered_flag", "crossed_flags", "izakaya_lantern", "moyai", "circus_tent", "performing_arts", "round_pushpin", "triangular_flag_on_post", "jp", "kr", "cn", "us", "fr", "es", "it", "ru", "gb", "uk", "de", "one", "two", "three", "four", "five", "six", "seven", "eight", "nine", "keycap_ten", "1234", "zero", "hash", "symbols", "arrow_backward", "arrow_down", "arrow_forward", "arrow_left", "capital_abcd", "abcd", "abc", "arrow_lower_left", "arrow_lower_right", "arrow_right", "arrow_up", "arrow_upper_left", "arrow_upper_right", "arrow_double_down", "arrow_double_up", "arrow_down_small", "arrow_heading_down", "arrow_heading_up", "leftwards_arrow_with_hook", "arrow_right_hook", "left_right_arrow", "arrow_up_down", "arrow_up_small", "arrows_clockwise", "arrows_counterclockwise", "rewind", "fast_forward", "information_source", "ok", "twisted_rightwards_arrows", "repeat", "repeat_one", "new", "top", "up", "cool", "free", "ng", "cinema", "koko", "signal_strength", "u5272", "u5408", "u55b6", "u6307", "u6708", "u6709", "u6e80", "u7121", "u7533", "u7a7a", "u7981", "sa", "restroom", "mens", "womens", "baby_symbol", "no_smoking", "parking", "wheelchair", "metro", "baggage_claim", "accept", "wc", "potable_water", "put_litter_in_its_place", "secret", "congratulations", "m", "passport_control", "left_luggage", "customs", "ideograph_advantage", "cl", "sos", "id", "no_entry_sign", "underage", "no_mobile_phones", "do_not_litter", "non-potable_water", "no_bicycles", "no_pedestrians", "children_crossing", "no_entry", "eight_spoked_asterisk", "eight_pointed_black_star", "heart_decoration", "vs", "vibration_mode", "mobile_phone_off", "chart", "currency_exchange", "aries", "taurus", "gemini", "cancer", "leo", "virgo", "libra", "scorpius", "sagittarius", "capricorn", "aquarius", "pisces", "ophiuchus", "six_pointed_star", "negative_squared_cross_mark", "a", "b", "ab", "o2", "diamond_shape_with_a_dot_inside", "recycle", "end", "on", "soon", "clock1", "clock130", "clock10", "clock1030", "clock11", "clock1130", "clock12", "clock1230", "clock2", "clock230", "clock3", "clock330", "clock4", "clock430", "clock5", "clock530", "clock6", "clock630", "clock7", "clock730", "clock8", "clock830", "clock9", "clock930", "heavy_dollar_sign", "copyright", "registered", "tm", "x", "heavy_exclamation_mark", "bangbang", "interrobang", "o", "heavy_multiplication_x", "heavy_plus_sign", "heavy_minus_sign", "heavy_division_sign", "white_flower", "100", "heavy_check_mark", "ballot_box_with_check", "radio_button", "link", "curly_loop", "wavy_dash", "part_alternation_mark", "trident", "black_square", "white_square", "white_check_mark", "black_square_button", "white_square_button", "black_circle", "white_circle", "red_circle", "large_blue_circle", "large_blue_diamond", "large_orange_diamond", "small_blue_diamond", "small_orange_diamond", "small_red_triangle", "small_red_triangle_down", "shipit"], Date.prototype.format = function (a) {
        var b = {
            "y+": this.getFullYear(),
            "M+": this.getMonth() + 1,
            "d+": this.getDate(),
            "h+": this.getHours(),
            "m+": this.getMinutes(),
            "s+": this.getSeconds(),
            "q+": Math.floor((this.getMonth() + 3) / 3),
            S: this.getMilliseconds()
        };
        /(y+)/.test(a) && (a = a.replace(RegExp.$1, (this.getFullYear() + "").substr(4 - RegExp.$1.length)));
        for (var c in b)new RegExp("(" + c + ")").test(a) && (a = a.replace(RegExp.$1, 1 === RegExp.$1.length ? b[c] : ("00" + b[c]).substr(("" + b[c]).length)));
        return a
    }, c.util = {
        isIE: function () {
            return !!a.ActiveXObject
        }, isIE6: function () {
            return c.util.isIE() && !a.XMLHttpRequest
        }, isIE7: function () {
            return c.util.isIE() && !c.util.isIE6() && !c.util.isIE8()
        }, isIE8: function () {
            return c.util.isIE() && !!document.documentMode
        }, winHeight: function () {
            return b(a).height()
        }, docWidth: function () {
            return b(document).width()
        }, docHeight: function () {
            return b(document).height()
        }, docOuterWidth: function () {
            return b(document).outerWidth()
        }, docOuterHeight: function () {
            return b(document).outerHeight()
        }, headerNavHeight: function () {
            return b("#header").outerHeight(!0)
        }, modNavHeight: function () {
            return b(".mod-navbar").outerHeight(!0)
        }, heightNoHeader: function () {
            return c.util.winHeight() - c.util.headerNavHeight()
        }, heightNoNav: function () {
            return c.util.winHeight() - c.util.headerNavHeight() - c.util.modNavHeight()
        }, dateToTimestamp: function (a) {
            return isNaN(a) ? Date.parse(a) : a
        }, isDate: function (a) {
            return "object" == typeof a && a.constructor == Date
        }, getBrowserLanguage: function () {
            var a = (navigator.language || navigator.userLanguage).toLowerCase();
            return "zh-cn" === a || "zh-tw" === a ? a : a.match(/^en/g) ? "en-us" : "zh-cn"
        }
    }, c.helper = {
        build_file_icon: function (a) {
            var b = kzi.constant.get_file_icon(a);
            return "-1" === b && (b = a.path), b
        }, get_query: function (b) {
            var c = String(a.document.location.href), d = new RegExp("(^|)" + b + "=([^&]*)(&|$)", "gi").exec(c);
            return d && d.length > 2 ? d[2] : ""
        }, substr: function (a, b) {
            return a ? a.length <= b ? a : a.substring(0, b - 1) + "" : ""
        }, mouse_position: function (a) {
            return a.pageX || a.pageY ? {
                x: a.pageX, y: a.pageY
            } : {
                x: a.clientX + document.body.scrollLeft - document.body.clientLeft,
                y: a.clientY + document.body.scrollTop - document.body.clientTop
            }
        }, split_line: function (a) {
            var b = [];
            return _.isString(a) ? b = _.compact(a.split(/\n/)) : b
        }, check_platform: function () {
            var a = navigator.userAgent.toLowerCase(), b = /ipad|iphone|ipod|android/gi.test(a), c = /ipad|iphone|ipod/gi.test(a), d = /ipad/gi.test(a), e = /iphone|ipod/gi.test(a), f = /android/gi.test(a), g = /micromessenger/gi.test(a);
            return {is_mobile: b, is_ios: c, is_ipad: d, is_iphone: e, is_android: f, is_weixin: g}
        }
    }, c.validator = {
        isEmail: function (a) {
            var b = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
            return b.test(a)
        }, isUrl: function (a) {
            var b = /^(https?|s?ftp):\/\/(((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-fA-F]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-fA-F]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-fA-F]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-fA-F]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-fA-F]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/;
            return b.test(a)
        }
    }, c.get_cookie = function (a) {
        for (var b = a + "=", c = document.cookie.split(";"), d = 0; d < c.length; d++) {
            for (var e = c[d]; " " == e.charAt(0);)e = e.substring(1, e.length);
            if (0 == e.indexOf(b))return e.substring(b.length, e.length)
        }
        return null
    }, c.console = {
        log: function (a) {
            c.config.debug() && console.log(a)
        }, time: function (a) {
            c.config.debug() && console.time(a)
        }, timeEnd: function (a) {
            c.config.debug() && console.timeEnd(a)
        }, group: function (a) {
            c.config.debug() && console.groupCollapsed(a)
        }, groupEnd: function (a) {
            c.config.debug() && console.groupEnd(a)
        }, profile: function (a) {
            c.config.debug() && console.profile(a)
        }, profileEnd: function (a) {
            c.config.debug() && console.profile(a)
        }
    };
    var d = function (a, c, d) {
        b(".notifications").notify({type: a, message: {text: c}, onClosed: d}).show()
    };
    c.msg = {
        info: function (a, b) {
            d("info", a, b)
        }, error: function (a, b) {
            d("danger", a, b)
        }, success: function (a, b) {
            d("success", a, b)
        }, warn: function (a, b) {
            d("warning", a, b)
        }
    }, c.localData = {
        hname: location.hostname ? location.hostname : "localStatus",
        isLocalStorage: !!a.localStorage,
        dataDom: null,
        initDom: function () {
            if (!this.dataDom)try {
                this.dataDom = document.createElement("input"), this.dataDom.type = "hidden", this.dataDom.style.display = "none", this.dataDom.addBehavior("#default#userData"), document.body.appendChild(this.dataDom);
                var a = new Date;
                a = a.getDate() + 30, this.dataDom.expires = a.toUTCString()
            } catch (a) {
                return !1
            }
            return !0
        },
        set: function (b, c) {
            this.isLocalStorage ? a.localStorage.setItem(b, c) : this.initDom() && (this.dataDom.load(this.hname), this.dataDom.setAttribute(b, c), this.dataDom.save(this.hname))
        },
        get: function (b) {
            return this.isLocalStorage ? a.localStorage.getItem(b) : this.initDom() ? (this.dataDom.load(this.hname), this.dataDom.getAttribute(b)) : void 0
        },
        setObject: function (b, c) {
            return this.isLocalStorage ? a.localStorage.setItem(b, JSON.stringify(c)) : null
        },
        getObject: function (b) {
            if (!this.isLocalStorage)return null;
            try {
                return JSON.parse(a.localStorage.getItem(b))
            } catch (a) {
                return null
            }
        },
        remove: function (a) {
            this.isLocalStorage ? localStorage.removeItem(a) : this.initDom() && (this.dataDom.load(this.hname), this.dataDom.removeAttribute(a), this.dataDom.save(this.hname))
        },
        clear: function () {
            this.isLocalStorage ? localStorage.clear() : this.initDom() && document.body.removeChild(this.dataDom)
        }
    }, c.activity_icon = {
        project_create: "ai-blue fa-folder",
        project_update: "ai-yellow fa-folder",
        project_archive: "ai-dark-blue fa-archive",
        project_unarchive: "ai-red fa-archive",
        project_delete: "ai-red fa-trash-o",
        member_add: "ai-green fa-user",
        member_remove: "ai-red fa-user",
        member_join: "ai-orange fa-user",
        entry_create: "ai-blue fa-columns",
        entry_update: "ai-yellow fa-columns",
        entry_archive: "ai-dark-blue fa-archive",
        entry_unarchive: "ai-red fa-archive",
        entry_delete: "ai-red fa-trash-o",
        entry_restore: "ai-yellow fa-reply-all",
        entry_move: "ai-orange fa-share-square-o",
        task_create: "ai-blue fa fa-square-o",
        task_update: "ai-yellow fa fa-square-o",
        task_like: "ai-red fa fa-heart",
        task_cancel_like: "ai-blue fa fa-heart-o",
        task_delete: "ai-red fa fa-trash-o",
        task_lock: "ai-green fa fa-lock",
        task_cancel_lock: "ai-green fa fa-unlock-alt",
        task_restore: "ai-yellow fa-reply-all",
        task_move: "ai-orange fa-share-square-o",
        task_expire_set: "ai-yellow fa fa-clock-o",
        task_expire_reset: "ai-yellow fa fa-clock-o",
        task_complete: "ai-green fa fa-check-square",
        task_uncomplete: "ai-red fa fa-square-o",
        task_archive: "ai-dark-blue fa-archive",
        task_unarchive: "ai-red fa-archive",
        todo_add: "ai-blue fa-th-list",
        todo_remove: "ai-red fa-th-list",
        todo_check: "ai-green fa fa-check-square",
        todo_uncheck: "ai-red fa fa-square-o",
        todo_update: "ai-yellow fa-th-list",
        labels_add: "ai-green fa-tag",
        labels_remove: "ai-red fa-tag",
        folder_add: "ai-blue fa-folder-open-o",
        folder_update: "ai-yellow fa-folder-open-o",
        folder_del: "ai-red fa-folder-open-o",
        file_move: "ai-orange fa-share-square-o",
        file_attach: "ai-blue fa-paperclip",
        file_detach: "ai-red fa-paperclip",
        file_upload: "ai-blue fa-file",
        file_update: "ai-yellow fa-file",
        file_new_version: "ai-blue fa-upload",
        file_delete: "ai-red fa-trash-o",
        file_restore: "ai-yellow fa-reply-all",
        comment_add: "ai-blue fa-comment",
        comment_remove: "ai-red fa-comment",
        watch_add: "ai-purple fa-eye",
        watch_remove: "ai-red fa-eye",
        post_create: "ai-blue fa-comments-o",
        post_update: "ai-yellow fa-comments-o",
        post_delete: "ai-red fa-trash-o",
        post_restore: "ai-yellow fa-reply-all",
        page_create: "ai-blue fa-file-text-o",
        page_update: "ai-yellow fa-file-text-o",
        page_new_version: "ai-blue fa-file-text-o",
        page_delete: "ai-red fa-trash-o",
        page_restore: "ai-yellow fa-reply-all",
        event_create: "ai-blue fa-calendar",
        event_update: "ai-yellow fa-calendar",
        event_delete: "ai-red fa-trash-o",
        attendee_add: "ai-green fa-user",
        attendee_remove: "ai-red fa-user"
    }, c.init_fancybox = function () {
        var a = {
            padding: 0,
            scrolling: "auto",
            maxWidth: "95%",
            wrapCSS: "fancybox-scroll",
            openEffect: "elastic",
            closeEffect: "elastic",
            closeBtn: !1,
            beforeLoad: function () {
                _.isString(this.title) && (this.title = filterXSS(this.title), this.title = this.title.replace(/\n/g, "<br>"))
            },
            helpers: {
                title: {type: "outside", position: "top"},
                buttons: {tpl: ['<div id="fancybox-buttons"><ul>', '<li><a class="btnPrev" href="javascript:;"></a></li>', '<li><a class="btnPlay" href="javascript:;"></a></li>', '<li><a class="btnNext" href="javascript:;"></a></li>', '<li><a class="btnToggle" href="javascript:;"></a></li>', '<li><a class="btnClose" href="javascript:;"></a></li>', "</ul></div>"].join("")},
                thumbs: {width: 50, height: 50},
                media: {}
            },
            tpl: {
                wrap: '<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',
                image: '<img class="fancybox-image" src="{href}" alt="" />',
                iframe: ['<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" ', " webkitAllowFullScreen mozallowfullscreen allowFullScreen", c.util.isIE() ? ' allowtransparency="true"' : "", "></iframe>"].join(""),
                closeBtn: '<a class="fancybox-item fancybox-close" href="javascript:;"></a>',
                next: '<a class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',
                prev: '<a class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'
            }
        };
        b(".fancybox-file").fancybox(a)
    };
    var e = function () {
        b && b(document).ready(function () {
            c.init_fancybox()
        }), a.location.origin || (a.location.origin = a.location.protocol + "//" + a.location.host)
    };
    e(), a.kzi = c
}(window, window.jQuery || null), function () {
    "use strict";
    function a() {
        var a = this, c = null, d = null, e = null;
        a.build_status = function (b) {
            for (var c in b)a[c] = b[c], a[c].type = "statusType"
        }, a.getMsgByCode = function (b) {
            var c = a.getStatusByCode(b);
            return null != c && null != c.msg ? c.msg : "[" + b + "]"
        }, a.getStatusByCode = function (b) {
            if (null == c) {
                c = {};
                for (var d = a.getStatuses(), e = 0; e < d.length; e++) {
                    var f = d[e];
                    if (null != c[f.code])throw new Error("Code(" + f.code + ").");
                    c[f.code] = f
                }
            }
            return c[b]
        }, a.getStatuses = function () {
            if (null == e) {
                e = [], d = a.getStatusTypes();
                for (var c = 0; c < d.length; c++) {
                    var f = d[c];
                    for (var g in f) {
                        var h = f[g];
                        h.hasOwnProperty("code") && "object" == typeof h && null != h.code && e.push(new b(h.code, h.msg))
                    }
                }
            }
            return e
        }, a.getStatusTypes = function () {
            if (null == d) {
                d = [];
                for (var a in this) {
                    var b = this[a];
                    this.hasOwnProperty(a) && a.length > 0 && "_" !== a[0] && "object" == typeof b && "statusType" === b.type && d.push(b)
                }
            }
            return d
        }
    }

    function b(a, b) {
        this.code = a, this.msg = b, this.toString = function () {
            return this.code
        }
    }

    kzi.statuses = new a, kzi.statuses.ok = 200, kzi.statuses.invalid_input = 401, kzi.statuses.not_found = 404, kzi.statuses.build_status({
        error: {
            sig: {
                code: 1001,
                msg: ""
            },
            ver: {code: 1002, msg: ""},
            err_client_ver: {code: 1003, msg: ""},
            invalid_token: {code: 1004, msg: ""},
            permission_deny: {code: 1005, msg: ""},
            server_error: {code: 500, msg: ""},
            unknown: {code: 404, msg: ""}
        },
        user_error: {
            not_found: {code: 2001, msg: ""},
            invalid_user: {code: 2002, msg: ""},
            login_err: {code: 2003, msg: ""},
            invalid_userinfo: {code: 2004, msg: ""},
            not_login: {code: 2005, msg: ","},
            signup_error: {code: 2006, msg: ""},
            get_user_error: {code: 2007, msg: ""},
            search_user_error: {code: 2008, msg: ""},
            update_user_error: {code: 2009, msg: ""},
            update_avatar_error: {code: 2010, msg: ""},
            change_pwd_error: {code: 2011, msg: ""},
            check_email_error: {code: 2012, msg: ""},
            check_name_error: {code: 2013, msg: ""},
            invalid_pwd_error: {code: 2014, msg: ""},
            email_not_exist: {code: 2015, msg: ""},
            forgot_apply_error: {code: 2016, msg: ""},
            invalid_token_error: {code: 2017, msg: ""},
            prefs_get_error: {code: 2018, msg: ""},
            prefs_set_error: {code: 2019, msg: ""},
            invalid_name_error: {code: 2020, msg: ""},
            phone_has_exist: {code: 2041, msg: ""},
            email_has_exist: {code: 2021, msg: ""},
            name_has_exist: {code: 2022, msg: ""},
            change_email_error: {code: 2023, msg: ""},
            email_match_error: {code: 2024, msg: ""},
            get_secret_error: {code: 2025, msg: ""},
            enable_twofactor_error: {code: 2026, msg: ""},
            disable_twofactor_error: {code: 2027, msg: ""},
            twofactor_match_error: {code: 2028, msg: ""},
            recovery_match_error: {code: 2029, msg: ""},
            signin_limit: {code: 2034, msg: ""},
            signin_verify_image_error: {code: 2035, msg: ""},
            signup_limit: {code: 2036, msg: ""},
            already_bind_user: {code: 2046, msg: ""}
        },
        team_error: {
            not_found: {code: 4001, msg: ""},
            invalid_team: {code: 4002, msg: ""},
            user_team_error: {code: 4003, msg: ""},
            create_team_error: {code: 4004, msg: ""},
            update_team_error: {code: 4005, msg: ""},
            del_team_error: {code: 4006, msg: ""},
            member_add_error: {code: 4007, msg: ""},
            member_get_error: {code: 4008, msg: ""},
            member_remove_error: {code: 4009, msg: ""},
            member_role_error: {code: 4010, msg: ""},
            member_group_error: {code: 4011, msg: ""},
            group_add_error: {code: 4012, msg: ""},
            group_remove_error: {code: 4013, msg: ""},
            group_update_error: {code: 4014, msg: ""},
            group_get_error: {code: 4015, msg: ""},
            trans_team_error: {code: 4016, msg: ""},
            get_team_error: {code: 4017, msg: ""},
            update_logo_error: {code: 4018, msg: "logo"},
            set_current_error: {code: 4019, msg: ""},
            member_invite_error: {code: 4020, msg: ""},
            member_uninvite_error: {code: 4021, msg: ""},
            member_projects_error: {code: 4022, msg: ""}
        },
        prj_error: {
            not_found: {code: 5001, msg: ""},
            invalid_prj: {code: 5002, msg: ""},
            user_prj_error: {code: 5003, msg: ""},
            create_prj_error: {code: 5004, msg: ""},
            prj_name_exist: {code: 5005, msg: ""},
            prj_activity_error: {code: 5006, msg: ""},
            update_prj_error: {code: 5007, msg: ""},
            update_prj_pic_error: {code: 5008, msg: ""},
            remove_only_admin_error: {code: 5009, msg: ""},
            add_member_error: {code: 5010, msg: ""},
            remove_member_error: {code: 5011, msg: ""},
            close_prj_error: {code: 5012, msg: ""}
        },
        entry_error: {
            not_found: {code: 6001, msg: ""},
            invalid_entry: {code: 6002, msg: ""},
            create_entry_error: {code: 6003, msg: ""},
            update_entry_error: {code: 6004, msg: ""},
            get_entry_error: {code: 6005, msg: ""},
            trash_entry_error: {code: 6006, msg: ""},
            del_entry_error: {code: 6007, msg: ""},
            archive_entry_error: {code: 6008, msg: ""},
            pos_entry_error: {code: 6009, msg: ""}
        },
        task_error: {
            not_found: {code: 7001, msg: ""},
            invalid_task: {code: 7002, msg: ""},
            create_task_error: {code: 7003, msg: ""},
            update_task_error: {code: 7004, msg: ""},
            task_activity_error: {code: 7005, msg: ""},
            task_add_user_error: {code: 7006, msg: ""},
            get_task_list_error: {code: 7007, msg: ""},
            get_task_items_error: {code: 7008, msg: ""},
            get_task_attachments_error: {code: 7009, msg: ""},
            task_del_user_error: {code: 7010, msg: ""},
            add_task_item_error: {code: 7011, msg: ""},
            change_task_item_status_error: {code: 7012, msg: ""},
            del_task_item_error: {code: 7013, msg: ""},
            update_task_item_error: {code: 7014, msg: ""},
            del_comment_error: {code: 7015, msg: ""},
            update_task_tag_error: {code: 7016, msg: ""},
            todo_update_error: {code: 7017, msg: "TODO"},
            todo_checked_error: {code: 7018, msg: ""},
            todo_unchecked_error: {code: 7019, msg: ""},
            todo_position_error: {code: 7020, msg: "todo_position_error"},
            watcher_add_error: {code: 7021, msg: "watcher_add_error"},
            watcher_remove_error: {code: 7022, msg: "watcher_remove_error"},
            get_tasks_forme_error: {code: 7033, msg: ""}
        },
        file_error: {
            not_found: {code: 8001, msg: ""},
            invalid_file: {code: 8002, msg: ""},
            create_file_error: {code: 8003, msg: ""},
            update_file_error: {code: 8004, msg: ""},
            trash_file_error: {code: 8005, msg: ""},
            del_file_error: {code: 8006, msg: ""},
            get_file_error: {code: 8007, msg: ""},
            get_list_error: {code: 8008, msg: ""},
            version_new_error: {code: 8009, msg: ""},
            version_get_error: {code: 8010, msg: ""},
            get_attach_error: {code: 8011, msg: ""},
            attach_file_error: {code: 8012, msg: ""},
            detach_file_error: {code: 8013, msg: ""},
            get_targets_error: {code: 8014, msg: ""},
            generate_thumbnail_error: {code: 8308, msg: ""}
        },
        comment_error: {
            not_found: {code: 20001, msg: ""},
            add_error: {code: 20002, msg: ""},
            update_error: {code: 20003, msg: ""},
            delete_error: {code: 20004, msg: ""},
            get_error: {code: 20005, msg: ""}
        },
        watch_error: {
            not_found: {code: 21001, msg: ""},
            add_error: {code: 21002, msg: ""},
            remove_error: {code: 21003, msg: ""},
            get_watcher_error: {code: 21004, msg: ""},
            get_watch_forme_error: {code: 21005, msg: ""}
        },
        post_error: {not_found: {code: 9001, msg: ""}},
        page_error: {not_found: {code: 10001, msg: ""}},
        event_error: {
            add_event_error: {code: 13001, msg: ""},
            get_event_error: {code: 13002, msg: ""},
            attendee_add_error: {code: 13003, msg: "attendee_add_error"},
            attendee_remove_error: {code: 13004, msg: "attendee_remove_error"},
            trash_event_error: {code: 13005, msg: "trash_event_error"},
            update_event_error: {code: 13006, msg: "update_event_error"},
            not_found: {code: 13007, msg: "not_found"}
        },
        upload_error: {upload_error: {code: 22001, msg: ""}},
        notice_error: {
            get_unread_error: {code: 23001, msg: ""},
            get_list_error: {code: 23002, msg: ""},
            set_all_read_error: {code: 23003, msg: ""}
        },
        activity_error: {get_list_error: {code: 24001, msg: ""}},
        invite_error: {
            invalid_invite_code: {code: 25001, msg: ""},
            accept_invite_code: {code: 25002, msg: ""},
            join_invite_code: {code: 25003, msg: ""},
            refuse_invite_code: {code: 25004, msg: ""},
            get_invite_code: {code: 25005, msg: ""},
            get_new_invite_code: {code: 25006, msg: ""}
        },
        others: {invalid_input: {code: 401, msg: ""}}
    })
}(), function () {
    var a = {}, b = {
        mobile: ["^(\\+?0?86\\-?)?1[345789]\\d{9}$|", "^(\\+?27|0)\\d{9}$|", "^(\\+?61|0)4\\d{8}|", "^(\\+?33|0)[67]\\d{8}$|", "^(\\+351)?9[1236]\\d{7}$"].join(""),
        email: "^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$"
    };
    a.locales_name = [{value: "en-us", name: "English"}, {
        value: "zh-cn",
        name: ""
    }], a.locales = ["en-us", "zh-cn"], a.role = {
        deleted: -1,
        admin: 1,
        member: 2,
        guest: 3,
        visitor: 4
    }, a.state = {offline: 0, online: 1, busy: 2, leave: 3}, a.scopes = {
        all: 0,
        team_member: 1,
        team_admin: 2,
        project_member: 3,
        project_admin: 4,
        single_user: 5
    }, a.broadcast_args = {
        notice_unread: "notice_unread",
        notice_new: "notice_new",
        project_list: "project_list",
        project_single: "project_single",
        project_members: "project_members",
        project_member_remove: "project_member_remove",
        member_single: "member_single",
        entry_list: "entry_list",
        task_single: "task_single",
        task_batch: "task_batch",
        task_complete: "task_complete",
        task_delete: "task_delete",
        task_archive: "task_archive",
        team_single: "team_single",
        team_list: "team_list",
        team_member_role: "team_member_role",
        project_member_role: "project_member_role",
        comment_new: "comment_new",
        notice_read: "notice_read",
        weixin_bind: "weixin_bind",
        task_lock: "task_lock"
    }, a.status = {ok: 1, pending: 2, removed: 3}, a.user_status = {
        ok: 1,
        pending: 2,
        inactived: 3
    }, a.user_source_type = {weixin: 1, dingtalk: 2, qq: 3}, a.team = {
        edition: {free: 1, business: 2, nonprofit: 3},
        status: {normal: 1, stop: 2, expired: 3},
        quota_free: 10,
        quota_nonprofit: 50
    }, a.subscription = {
        status: {normal: 1, arrears: 2, trial: 3, expired: 4},
        step: {pay_online: 1, already_fee: 2, next_fee: 3, already_fee_and_next_new: 4},
        price: 10,
        dividing_day: 20
    }, a.billing = {
        type: {scheme: 1, spread: 2},
        purchased: {business: "business"},
        method: {auto_fee: 1}
    }, a.payment = {
        status: {unpaid: 1, successed: 2, failed: 3, cancel: 4},
        method: {unknown: 0, online: 1, manual: 2, remit: 3, transfer: 4, recharge: 5},
        type: {unknown: 0, alipay: 1, bank: 2, paypal: 3, credit: 4, cash: 5, coupon: 6},
        direction: {payment: 1, refund: 2},
        scheme: {one_month: 1, one_quarter: 3, half_year: 6, one_year: 12, two_year: 24}
    }, a.coupon = {status: {normal: 1, delivered: 2, used: 3}}, a.trash = {no: 0, yes: 1}, a.archived = {
        yes: 1,
        no: 0
    }, a.star = {yes: 1, no: 0}, a.favorite = {yes: 1, no: 0}, a.completed = {
        yes: 1,
        no: 0
    }, a.show_completed = {yes: 1, no: 0}, a.checked = {yes: 1, no: 0}, a.notify = {
        yes: 1,
        no: 0
    }, a.selected = {yes: 1, no: 0}, a.owner = {yes: 1, no: 0}, a.locked = {
        yes: 1,
        no: 0
    }, a.twofactor = {enabled: {yes: 1, no: 0}, recoveries: 10}, a.log_action = {
        signin: 1,
        changepwd: 2,
        changemail: 3,
        changphone: 4
    }, a.chat = {
        type: {group: 1, member: 2},
        msg_type: {text: 1, task: 2, file: 3, post: 4, page: 5, event: 6}
    }, a.guide = {status: {draft: 0, published: 1}, category: {article: 1}}, a.xtype = {
        task: "tasks",
        file: "files",
        post: "posts",
        page: "pages",
        event: "events",
        email: "emails",
        entry: "entries",
        project: "projects"
    }, a.exts = {
        none: 0,
        txt: 1,
        png: 2,
        jpeg: 3,
        jpg: 4,
        gif: 5,
        doc: 6,
        xls: 7,
        ppt: 8,
        pdf: 9,
        zip: 10,
        rar: 11,
        xml: 12,
        html: 13,
        docx: 14,
        xlsx: 15,
        pptx: 16,
        mail: 17,
        pages: 18,
        key: 19,
        numbers: 20,
        ipa: 21,
        apk: 22,
        xap: 23,
        cs: 24,
        java: 25,
        rb: 26,
        py: 27,
        css: 28,
        js: 29,
        cpp: 30,
        c: 31,
        h: 32,
        php: 33,
        cc: 34,
        hh: 35,
        vb: 36,
        mp3: 37,
        avi: 38,
        chm: 39,
        vsd: 40,
        rp: 41,
        wmv: 42,
        bmp: 43,
        psd: 44,
        cvs: 45,
        ai: 46,
        json: 47,
        "7z": 48,
        z7: 48,
        tar: 49,
        swf: 50,
        wim: 51,
        bat: 52,
        sh: 53,
        wab: 54,
        vba: 55,
        ost: 56,
        msi: 57,
        log: 58,
        svg: 59,
        less: 60,
        md: 61,
        bin: 62,
        obj: 63,
        edx: 64,
        mmap: 65,
        thmx: 66,
        dump: 67,
        one: 68,
        pst: 69,
        vcf: 70,
        ini: 71,
        csv: 72,
        wps: 73,
        et: 74,
        dps: 75,
        pfx: 76
    }, a.text_exts = [a.exts.txt, a.exts.xml, a.exts.html, a.exts.cs, a.exts.java, a.exts.rb, a.exts.py, a.exts.css, a.exts.js, a.exts.cpp, a.exts.c, a.exts.h, a.exts.php, a.exts.cc, a.exts.hh, a.exts.vb, a.exts.cvs, a.exts.json, a.exts.log, a.exts.less, a.exts.md, a.exts.csv], a.file_type = {
        file: 0,
        folder: 1
    }, a.folder_ext = {
        normal: 0,
        image: 1,
        mail: 2,
        task: 3,
        event: 4,
        post: 5,
        page: 6,
        chat: 7,
        default: 8
    }, a.labels = {
        green: "green",
        yellow: "yellow",
        orange: "orange",
        red: "red",
        purple: "purple",
        blue: "blue"
    }, a.types = {
        team: "team",
        project: "project",
        entry: "entry",
        task: "task",
        post: "post",
        page: "page",
        event: "event",
        file: "file",
        folder: "folder",
        comment: "comment",
        todo: "todo",
        vote: "vote",
        user: "user"
    }, a.prefix = {
        task: "",
        file: "",
        post: "",
        page: "",
        event: "",
        reply: ["Re", "RE", "", "re"],
        forward: ["Fw", "FW", "", "fw"]
    }, a.client = {
        unknown: 0,
        web: 1,
        mail: 2,
        iphone: 3,
        ipad: 4,
        android: 5,
        androidHD: 6,
        winphone: 7,
        win8: 8,
        wap: 9,
        weinxin: 10,
        openapp: 11
    }, a.prefs = {
        notice_by_email: {key: "notice_by_email", values: {yes: 1, no: 0}, default: 1},
        notice_for_smart: {key: "notice_for_smart", values: {yes: 1, no: 0}, default: 1},
        notice_for_express: {key: "notice_for_express", values: {yes: 1, no: 0}, default: 1},
        notice_for_desktop: {key: "notice_for_desktop", values: {yes: 1, no: 0}, default: 1},
        notice_for_daily_mail: {key: "notice_for_daily_mail", values: {yes: 1, no: 0}, default: 1},
        notice_for_weekly_mail: {key: "notice_for_weekly_mail", values: {yes: 1, no: 0}, default: 1},
        notice_for_weixin: {key: "notice_for_weixin", values: {yes: 1, no: 0}, default: 1},
        notice_for_client: {key: "notice_for_client", values: {yes: 1, no: 0}, default: 1},
        rubbish_email: {key: "rubbish_email", values: {yes: 1, no: 0}},
        invalid_email: {key: "invalid_email", values: {yes: 1, no: 0}},
        comment_auto_watch: {key: "comment_auto_watch", values: {yes: 1, no: 0}, default: 1},
        show_background_image: {key: "show_background_image", values: {yes: 1, no: 0}, default: 0},
        is_lock_left: {key: "is_lock_left", values: {yes: 1, no: 0}, default: 0},
        time_zone: {key: "time_zone", default: "Asia/Shanghai"},
        create_task_assign_me: {key: "create_task_assign_me", values: {yes: 1, no: 0}, default: 0}
    }, a.prj_prefs = {
        auto_archived: {key: "auto_archived", values: {yes: 1, no: 0}, default: 0},
        show_entry_number: {key: "show_entry_number", values: {yes: 1, no: 0}, default: 1},
        show_task_aging: {key: "show_task_aging", values: {yes: 1, no: 0}, default: 0}
    }, a.accredit_keys = {
        app_key: "app_key",
        app_secret: "app_secret",
        access_token: "access_token",
        access_secret: "access_secret",
        client_version: "client_version",
        device_id: "device_id",
        store_from: "store_from",
        timestamp: "timestamp",
        version: "version",
        signature: "signature"
    }, a.prj_visibility = {
        private: 1,
        protected: 2,
        public: 3
    }, a.prj_visibilities = [1, 2, 3], a.prj_permission = {
        admin: 31,
        member: 15,
        guest: 7,
        viewer: 5,
        deny: 0
    }, a.prj_module = {setting: 16, crud: 8, comment: 4, watch: 2, view: 1}, a.team_visibility = {
        private: 1,
        public: 2
    }, a.team_permission = {owner: 31, admin: 15, member: 3, guest: 1, deny: 0}, a.team_module = {
        setting: 16,
        add_project: 8,
        add_member: 4,
        view: 2,
        view_base: 1
    }, a.invite_type = {team: 0, project: 1}, a.event_recurrence = {
        no_repeat: 0,
        day: 1,
        week: 2,
        month: 3,
        year: 4
    }, a.event_trash_type = {one: 1, follow_up: 2, all: 3}, a.event_update_type = {
        one: 1,
        follow_up: 2
    }, a.prj_menues = {task: 1, event: 2, file: 3, post: 4, page: 5, graph: 6}, a.file_sort = {
        default: 0,
        name: 1,
        create_date: 2,
        update_date: 3
    }, a.file_filter = {all: 0, owner: 1, watch: 2}, a.reminder_task = {
        recurrence: {
            daily: 0,
            weekly: 1,
            monthly: 2,
            two_weekly: 3,
            yearly: 4
        }, weekdays: {sunday: 0, monday: 1, tuesday: 2, wednesday: 3, thursday: 4, friday: 5, saturday: 6}
    }, a.authorization = {
        shimo: {
            type: 1,
            name: "CONS.authorization.shimo",
            desc: "CONS.authorization.shimo_desc",
            logo: "/img/thirdparty/shimo.png",
            auth_url: "https://api.shimo.im/oauth/authorization?client_id=7B97DDCCAFBC9E5C71C53923BD34C&response_type=code&redirect_uri=https://worktile.com/auth/shimo/callback&scope=read write"
        }
    }, a.third_page = {shimo: 1}, a.actions = [{
        action: "create_task",
        desc: "CONS.webhook_actions.create_task"
    }, {action: "complete_task", desc: "CONS.webhook_actions.complete_task"}, {
        action: "expire_task",
        desc: "CONS.webhook_actions.expire_task"
    }, {action: "assign_task", desc: "CONS.webhook_actions.assign_task"}, {
        action: "create_event",
        desc: "CONS.webhook_actions.create_event"
    }, {action: "pick_post", desc: "CONS.webhook_actions.pick_post"}, {
        action: "create_page",
        desc: "CONS.webhook_actions.create_page"
    }, {action: "page_version", desc: "CONS.webhook_actions.page_version"}, {
        action: "pick_comment",
        desc: "CONS.webhook_actions.pick_comment"
    }], a.search_types = {assign_me: 1, my_created: 2, my_watched: 3}, a.stats_type = {
        task_overview: 1,
        task_entry: 2,
        task_member: 3,
        task_5day: 4
    }, a.securityCodeType = {signup: 1, forgotPassword: 2, setMobile: 3}, a.permission = {
        holder: 0,
        ok: 1,
        project_archived: 4,
        entity_not_found: 8,
        entity_deleted: 16,
        entity_archived: 32,
        team_not_found: 64,
        team_stop_service: 128
    }, a.entity_type = {
        task: "task",
        file: "file",
        post: "post",
        page: "page",
        event: "event",
        mail: "mail"
    }, a.notice_type_icon = {
        task: {name: "task", icon: "fa-check-square-o"},
        file: {name: "file", icon: "fa-file"},
        post: {name: "post", icon: "fa-list-alt"},
        page: {name: "page", icon: "fa-file-text-o"},
        event: {name: "event", icon: "fa-calendar"},
        project: {name: "project", icon: "fa-inbox"},
        comment: {name: null, icon: "fa-comment-o"},
        team: {name: "team", icon: "fa-sitemap"}
    }, a.feed_type_icon = {
        project: {name: "project", icon: "fa-inbox"},
        task: {name: "task", icon: "fa-check-square-o"},
        event: {name: "event", icon: "fa-calendar"},
        file: {name: "file", icon: "fa-file"},
        post: {name: "post", icon: "fa-list-alt"},
        page: {name: "page", icon: "fa-file-text-o"},
        completed: {name: "task", icon: "fa-check-square-o"},
        comment: {name: null, icon: "fa-comment-o"}
    }, a.notice_types = {
        all: "all",
        assign: "assign",
        complete: "complete",
        metion: "metion",
        watch: "watch",
        comment: "comment",
        other: "other"
    }, a.stats_type_list = [{
        name: "task_overview",
        desc: "CONS.stats_type.task_overview",
        icon: "wtf-pie",
        value: 1
    }, {name: "task_entry", desc: "CONS.stats_type.task_entry", icon: "wtf-colum", value: 2}, {
        name: "task_member",
        desc: "CONS.stats_type.task_member",
        icon: "wtf-bar",
        value: 3
    }, {
        name: "task_5day",
        desc: "CONS.stats_type.task_5day",
        icon: "wtf-line",
        value: 4
    }], a.labels_list = [{name: "blue", desc: "", color: "#59b2e0"}, {
        name: "green",
        desc: "",
        color: "#5eac82"
    }, {name: "orange", desc: "", color: "#ef5e1b"}, {name: "purple", desc: "", color: "#76428d"}, {
        name: "red",
        desc: "",
        color: "#cb1a44"
    }, {name: "yellow", desc: "", color: "#ffb11b"}, {
        name: "shallow_green",
        desc: "",
        color: "#33a6b8"
    }, {name: "young_blue", desc: "", color: "#278785"}, {name: "willow", desc: "", color: "#91ad70"}, {
        name: "violet",
        desc: "",
        color: "#9c90c2"
    }, {name: "red_in", desc: "", color: "#da4d6d"}, {name: "peony", desc: "", color: "#c1328e"}, {
        name: "lead",
        desc: "",
        color: "#787878"
    }, {name: "gardenia", desc: "", color: "#f7c557"}, {name: "peach", desc: "", color: "#f596aa"}, {
        name: "walnut",
        desc: "",
        color: "#947a6d"
    }], a.image_exts = [2, 3, 4, 5, 43], a.get_folder_icons = [{
        ext: 1,
        path: "res/icon/icon-folder-green.png"
    }, {ext: 2, path: "res/icon/icon-folder-orange.png"}, {ext: 3, path: "res/icon/icon-folder-purple.png"}, {
        ext: 4,
        path: "res/icon/icon-folder-red.png"
    }, {ext: 8, path: "res/icon/icon-folder-blue.png"}, {
        ext: 0,
        path: "res/icon/icon-folder-yellow.png"
    }], a.verbs = {create: "create", update: "update", add: "add", remove: "remove"}, a.atypes = {
        project: "project",
        entry: "entry",
        task: "task",
        post: "post",
        page: "page",
        file: "file",
        folder: "folder",
        todo: "todo",
        vote: "vote"
    }, a.img_exts = [a.exts.jpg, a.exts.jpeg, a.exts.gif, a.exts.png, a.exts.bmp], a.preview_exts = [a.exts.doc, a.exts.docx, a.exts.ppt, a.exts.pptx, a.exts.xls, a.exts.xlsx, a.exts.pdf], a.prj_colors = ["#6b0516", "#ac050f", "#d61818", "#dc428e", "#9c2867", "#765c9d", "#6f6eb4", "#4761b5", "#286391", "#3c8cad", "#38a8aa", "#94ccc3", "#6ea182", "#15945f", "#5d8d0b", "#47634c", "#c19c01", "#ecba05", "#dc8310", "#aa6517", "#ac8671", "#805f4c", "#70736c", "#444444"], a.prj_icons = ["icon-apple", "icon-android", "icon-html5", "icon-desktop", "icon-mobile-phone", "icon-tablet", "icon-github", "icon-dribbble", "icon-linux", "icon-windows", "icon-qrcode", "icon-bug", "icon-suitcase", "icon-beaker", "icon-plane", "icon-truck", "icon-money", "icon-book", "icon-music", "icon-facetime-video", "icon-picture", "icon-cloud", "icon-gift", "icon-coffee", "icon-heart", "icon-flag", "icon-bar-chart", "icon-lock", "icon-gears", "icon-fire"], a.event_repeat_intervals = [{
        key: 0,
        desc: "CONS.event_repeat_intervals.none"
    }, {key: 1, desc: "CONS.event_repeat_intervals.day"}, {key: 2, desc: "CONS.event_repeat_intervals.week"}, {
        key: 3,
        desc: "CONS.event_repeat_intervals.month"
    }, {key: 4, desc: "CONS.event_repeat_intervals.year"}], a.prj_navigations = [{
        id: 1,
        name: "task",
        title: "CONS.prj_navigations.task",
        icon: "check-square-o",
        shortcuts: "(Shift+T)",
        desc: "CONS.prj_navigations.task_desc"
    }, {
        id: 2,
        name: "event",
        title: "CONS.prj_navigations.event",
        icon: "fa-calendar",
        shortcuts: "(Shift+E)",
        desc: "CONS.prj_navigations.event_desc"
    }, {
        id: 3,
        name: "file",
        title: "CONS.prj_navigations.file",
        icon: "fa-file",
        shortcuts: "(Shift+F)",
        desc: "CONS.prj_navigations.file_desc"
    }, {
        id: 4,
        name: "post",
        title: "CONS.prj_navigations.post",
        icon: "fa-list-alt",
        shortcuts: "(Shift+C)",
        desc: "CONS.prj_navigations.post_desc"
    }, {
        id: 5,
        name: "page",
        title: "CONS.prj_navigations.page",
        icon: "fa-file-text-o",
        shortcuts: "(Shift+D)",
        desc: "CONS.prj_navigations.page_desc"
    }, {
        id: 6,
        name: "graph",
        title: "CONS.prj_navigations.graph",
        icon: "icon-bar-chart",
        shortcuts: "(Shift+G)",
        desc: "CONS.prj_navigations.graph_desc"
    }], a.search = {max_history: 20}, a.team_industries = {
        0: "",
        1: "CONS.team_industries.www",
        2: "CONS.team_industries.b2b",
        3: "CONS.team_industries.education",
        4: "CONS.team_industries.game",
        5: "CONS.team_industries.industry",
        6: "CONS.team_industries.finance",
        7: "CONS.team_industries.consulting",
        8: "CONS.team_industries.estate",
        9: "CONS.team_industries.ngo",
        13: "CONS.team_industries.other"
    }, a.graph_color = {
        done: "#5eac82",
        todo: "#ffb11b",
        addnew: "#59b2e0"
    }, a.page_extend = {shimo: 1}, a.event_names = {
        emit_filter_activity_by_type: "emit_filter_activities_by_type",
        filter_activity_by_type: "filter_activities_by_type",
        filter_activity_by_prj: "filter_activities_by_prj",
        reload_item_activities: "reload_item_activities",
        clear_item_activities: "clear_item_activities",
        clear_comment_activity: "clear_comment_activity",
        emit_filter_watch_by_type: "emit_filter_watch_by_type",
        filter_watch_by_type: "filter_watch_by_type",
        filter_posts_by_sort: "filter_posts_by_sort",
        post_comment_add: "post_comment_add",
        shortcut_key_to_edit: "shortcut_key_to_edit",
        shortcut_key_to_cancel: "shortcut_key_to_cancel",
        shortcut_key_to_task: "shortcut_key_to_task",
        shortcut_key_select_prjs: "shortcut_key_select_prjs",
        shortcut_key_left_menu: "shortcut_key_left_menu",
        load_entity_task: "load_entity_task",
        load_entity_event: "load_entity_event",
        load_entity_post: "load_entity_post",
        load_entity_file: "load_entity_file",
        load_entity_page: "load_entity_page",
        load_entity_mail: "load_entity_mail",
        load_comments: "load_comments",
        clear_comments: "clear_comments",
        select_comment_tab: "select_comment_tab",
        select_activity_tab: "select_activity_tab",
        load_teams_projects_sucess: "load_teams_projects_sucess",
        notice_new: "notice_new",
        load_prj_feed: "load_prj_feed",
        show_project_sidebar: "show_project_sidebar",
        on_project_tasks_filter: "on_project_tasks_filter",
        show_project_tasks_filter: "show_project_tasks_filter",
        show_project_setting: "show_project_setting",
        show_project_setting_step0: "show_project_setting_step0",
        show_project_setting_label: "show_project_setting_label",
        show_project_setting_prjcopy: "show_project_setting_prjcopy",
        show_project_setting_exportdata: "show_project_setting_exportdata",
        show_project_setting_createbymail: "show_project_setting_createbymail",
        show_project_setting_baseinfo: "show_project_setting_baseinfo",
        show_project_setting_timingtask: "show_project_setting_timingtask",
        project_add_member: "project_add_member",
        project_clear_task_filter: "project_clear_task_filter",
        project_sort_change: "project_sort_change",
        project_star_change: "project_star_change",
        on_file_add: "on_file_add",
        on_weixin_bind: "on_weixin_bind",
        on_pastefile_to_task: "on_pastefile_to_task",
        on_pastefile_to_event: "on_pastefile_to_event",
        on_pastefile_to_file: "on_pastefile_to_file",
        on_pastefile_to_post: "on_pastefile_to_post",
        on_pastefile_to_folder: "on_pastefile_to_folder",
        on_uploadfile_add: "on_uploadfile_add",
        on_uploadfile_add_to_post: "on_uploadfile_add_to_post",
        on_uploadfile_del_to_post: "on_uploadfile_del_to_post",
        on_task_add: "on_task_add",
        on_task_trash: "on_task_trash",
        on_task_archive: "on_task_archive",
        on_task_complete: "on_task_complete",
        on_task_lock: "on_task_lock",
        on_task_move: "on_task_move",
        on_task_update: "on_task_update",
        on_task_comment: "on_task_comment",
        on_task_expire_date: "on_task_expire_date",
        on_task_badges_file: "on_task_badges_file",
        on_task_unarchived: "on_task_unarchived",
        on_task_badges_check: "on_task_badges_check",
        on_task_assign: "on_task_assign",
        on_event_add: "on_event_add",
        on_event_update: "on_event_update",
        on_event_update_date: "on_event_update_date",
        on_event_trash: "on_event_trash",
        on_file_trash: "on_file_trash",
        on_file_move: "on_file_move",
        on_file_update: "on_file_update",
        on_post_trash: "on_post_trash",
        on_post_toggle_top: "on_post_toggle_top",
        on_post_comment: "on_post_comment",
        on_post_update: "on_post_update",
        on_page_add: "on_page_add",
        on_page_del: "on_page_del",
        on_page_update: "on_page_update",
        on_page_trash: "on_page_trash",
        on_slide_hide: "on_slide_hide",
        on_mail_trash: "on_mail_trash",
        on_right_menu: "on_right_menu",
        member_state_change: "member_state_change",
        team_member_role_change: "team_member_role_change",
        project_member_role_change: "project_member_role_change",
        project_permission_change: "project_permission_change",
        on_comment_new: "on_comment_new",
        scroll_up: "scroll_up",
        scroll_down: "scroll_down",
        scroll_page_up: "scroll_page_up",
        scroll_page_down: "scroll_page_down",
        page_go_full_screen: "page_go_full_screen",
        header_hide: "header_hide",
        header_show: "header_show",
        post_updated_by_editor: "post_updated_by_editor",
        post_created_by_editor: "post_created_by_editor",
        page_updated_by_editor: "page_saved_by_editor",
        page_created_by_editor: "page_created_by_editor",
        team_add_stats: "team_add_stats",
        team_remove_stats: "team_remove_stats",
        autosave_cancel: "autosave_cancel",
        broadcast_show: "broadcast_show"
    }, a.markdown_link = [{key: "project", previewClass: "markdown-link markdown-link-prj"}, {
        key: "task",
        previewClass: "markdown-link markdown-link-task"
    }, {key: "page", previewClass: "markdown-link markdown-link-page"}, {
        key: "folder",
        previewClass: "markdown-link markdown-link-folder"
    }, {key: "file", previewClass: "markdown-link markdown-link-file"}, {
        key: "event",
        previewClass: "markdown-link markdown-link-event"
    }, {
        key: "post",
        previewClass: "markdown-link markdown-link-post"
    }], a.regex = {
        username: /^[A-Za-z]{1}[0-9A-Za-z_]{2,29}$/,
        display_name: /^([\u4e00-\u9fa5]|[0-9a-zA-Z!@#$%^&*()_\-\+=\s]){1,100}$/,
        user_title: /^([\u4e00-\u9fa5]|[0-9a-zA-Z!@#$%^&*()_\-\+=\s]){1,300}$/,
        user_department: /^([\u4e00-\u9fa5]|[0-9a-zA-Z!@#$%^&*()_\-\+=\s]){1,300}$/,
        mobile: new RegExp(b.mobile),
        email: new RegExp(b.email, "i"),
        phone_email: new RegExp("(" + b.email + ")|(" + b.mobile + ")", "i"),
        url: /^(https?|s):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i
    }, a.default_bg_colors = ["#82817e", "#84a5d1", "#98a4b4", "#9bb0a5", "#b69fa9", "#f4c771", "#33343c"], a.default_bg_images = ["wt-bg-fruits.png", "wt-bg-2016-monkey.png", "wt-bg-2016-yj.jpg", "wt-bg-2016-hhs.jpg"], a.ctrl_cutover_keys = [75], a.shift_cutover_keys = [81, 84, 67, 70, 68, 65, 69, 82, 71], a.global_shortcut_keys = [63, 69, 27, 47, 96, 85, 71, 83, 78, 80, 84, 70], a.entry_shortcut_keys = [37, 38, 39, 40, 13, 67, 27, 68, 76, 77, 32, 87, 60, 62, 74, 75, 73, 69, 65], a.keyASCIIs = {
        C: 67,
        D: 68,
        A: 65,
        B: 66,
        E: 69,
        F: 70,
        G: 71,
        P: 80,
        Q: 81,
        R: 82,
        S: 83,
        T: 84,
        U: 85,
        L: 76,
        M: 77,
        N: 78,
        W: 87,
        At: 64,
        ESC: 27,
        Slash: 47,
        I: 73,
        J: 74,
        K: 75,
        Key96: 96,
        QuestionMark: 63,
        VK_LEFT: 37,
        VK_UP: 38,
        VK_RIGHT: 39,
        VK_DOWN: 40,
        VK_RETURN: 13,
        VK_SPACE: 32,
        VK_LessThan: 60,
        VK_GreaterThan: 62,
        ENTER: 13,
        VK_PAGEUP: 33,
        VK_PAGEDOWN: 34
    }, a.all_hour_sections = ["00", "01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23"], a.all_minute_sections = ["00", "10", "20", "30", "40", "50"], a.mail = {domain: "@mail.worktile.com"}, a.get_ext = function (b) {
        return a.exts[b.toLowerCase()] ? a.exts[b.toLowerCase()] : 0
    }, a.get_file_icon = function (a) {
        if (1 === a.type)switch (a.ext) {
            case 1:
                return "res/icon/icon-folder-green.png";
            case 2:
                return "res/icon/icon-folder-orange.png";
            case 3:
                return "res/icon/icon-folder-purple.png";
            case 4:
                return "res/icon/icon-folder-red.png";
            case 8:
                return "res/icon/icon-folder-blue.png";
            default:
                return "res/icon/icon-folder-yellow.png"
        } else switch (a.ext) {
            case 1:
                return "res/icon/icon-txt.png";
            case 2:
                return "-1";
            case 3:
                return "-1";
            case 4:
                return "-1";
            case 5:
                return "-1";
            case 6:
                return "res/icon/icon-word.png";
            case 7:
                return "res/icon/icon-excel.png";
            case 8:
                return "res/icon/icon-ppt.png";
            case 9:
                return "res/icon/icon-pdf.png";
            case 10:
                return "res/icon/icon-zip.png";
            case 11:
                return "res/icon/icon-rar.png";
            case 12:
                return "res/icon/icon-xml.png";
            case 13:
                return "res/icon/icon-html.png";
            case 14:
                return "res/icon/icon-word.png";
            case 15:
                return "res/icon/icon-excel.png";
            case 16:
                return "res/icon/icon-ppt.png";
            case 17:
                return "res/icon/icon-mail.png";
            case 18:
                return "res/icon/icon-pages.png";
            case 19:
                return "res/icon/icon-keynote.png";
            case 20:
                return "res/icon/icon-numbers.png";
            case 21:
                return "res/icon/icon-ipa.png";
            case 22:
                return "res/icon/icon-apk.png";
            case 23:
                return "res/icon/icon-xap.png";
            case 24:
                return "res/icon/icon-csharp.png";
            case 25:
                return "res/icon/icon-java.png";
            case 26:
                return "res/icon/icon-ruby.png";
            case 27:
                return "res/icon/icon-python.png";
            case 28:
                return "res/icon/icon-css.png";
            case 29:
                return "res/icon/icon-js.png";
            case 30:
                return "res/icon/icon-cpp.png";
            case 31:
                return "res/icon/icon-c.png";
            case 32:
                return "res/icon/icon-h.png";
            case 33:
                return "res/icon/icon-php.png";
            case 34:
                return "res/icon/icon-c.png";
            case 35:
                return "res/icon/icon-h.png";
            case 36:
                return "res/icon/icon-vb.png";
            case 37:
                return "res/icon/icon-mp3.png";
            case 38:
                return "res/icon/icon-avi.png";
            case 39:
                return "res/icon/icon-chm.png";
            case 40:
                return "res/icon/icon-visio.png";
            case 41:
                return "res/icon/icon-rp.png";
            case 42:
                return "res/icon/icon-wmv.png";
            case 43:
                return "-1";
            case 44:
                return "res/icon/icon-psd.png";
            case 45:
                return "res/icon/icon-cvs.png";
            case 46:
                return "res/icon/icon-ai.png";
            case 47:
                return "res/icon/icon-json.png";
            case 48:
                return "res/icon/icon-7z.png";
            case 49:
                return "res/icon/icon-tar.png";
            case 50:
                return "res/icon/icon-swf.png";
            case 51:
                return "res/icon/icon-wim.png";
            case 52:
                return "res/icon/icon-bat.png";
            case 53:
                return "res/icon/icon-sh.png";
            case 54:
                return "res/icon/icon-wab.png";
            case 55:
                return "res/icon/icon-vba.png";
            case 56:
                return "res/icon/icon-ost.png";
            case 57:
                return "res/icon/icon-msi.png";
            case 58:
                return "res/icon/icon-log.png";
            case 59:
                return "res/icon/icon-svg.png";
            case 60:
                return "res/icon/icon-less.png";
            case 61:
                return "res/icon/icon-md.png";
            case 62:
                return "res/icon/icon-bin.png";
            case 63:
                return "res/icon/icon-obj.png";
            case 64:
                return "res/icon/icon-edx.png";
            case 65:
                return "res/icon/icon-mmap.png";
            case 66:
                return "res/icon/icon-thmx.png";
            case 67:
                return "res/icon/icon-dump.png";
            case 68:
                return "res/icon/icon-one.png";
            case 69:
                return "res/icon/icon-pst.png";
            case 70:
                return "res/icon/icon-vcf.png";
            case 71:
                return "res/icon/icon-ini.png";
            case 72:
                return "res/icon/icon-csv.png";
            case 73:
                return "res/icon/icon-wps.png";
            case 74:
                return "res/icon/icon-et.png";
            case 75:
                return "res/icon/icon-dps.png";
            case 76:
                return "res/icon/icon-pfx.png";
            default:
                return "res/icon/icon-file-default.png"
        }
    }, "object" == typeof module ? module.exports = a : (kzi.constant = a, angular.module("app.constant", []).constant("constant", a))
}(), function () {
    "use strict";
    function a(a, b, c, d) {
        var e = {get: 1, post: 2, put: 3, del: 4, get2: 5}, f = !1, g = function (b, c, e, g) {
            if (null != b) {
                if (2005 === b.code)return void a.returnToSignin();
                if (b.code === kzi.statuses.error.permission_deny.code)return void kzi.msg.error(d.instant("data.err_deny_access"));
                if (!f) {
                    f = !0;
                    var h = d.instant("data.err_fail_try_again");
                    "GET" === g.method && (h = d.instant("data.err_load_fail_try_again")), kzi.msg.error(h, function () {
                        f = !1
                    })
                }
            }
        }, h = function (a, f, h, i, j, k) {
            j || (j = g);
            var l = function () {
                kzi.console.timeEnd("Ajax" + a)
            }, m = null;
            switch (f) {
                case e.get:
                    kzi.console.time("Ajax" + a), m = b.get(a);
                    break;
                case e.get2:
                    var n = c.defer();
                    m = b.get(a, {timeout: n.promise});
                    break;
                case e.post:
                    kzi.console.time("Ajax" + a), m = b.post(a, {data: h});
                    break;
                case e.del:
                    kzi.console.time("Ajax" + a), m = b({method: "delete", url: a});
                    break;
                case e.put:
                    kzi.console.time("Ajax" + a), m = b.put(a, {data: h});
                    break;
                default:
                    throw new Error(d.instant("data.err_mothod_not_support"))
            }
            return m = m.success(l), i && (m = m.success(i)), j && (m = m.error(j)), k && (m = m.finally(k)), f === e.get2 ? {
                promise: m,
                canceler: n
            } : m
        }, i = function (a, b, c, d) {
            return h(a, e.get, null, b, c, d)
        }, j = function (a, b, c, d) {
            return h(a, e.get2, null, b, c, d)
        }, k = function (a, b, c, d, f) {
            return h(a, e.post, b, c, d, f)
        }, l = function (a, b, c, d) {
            return h(a, e.del, null, b, c, d)
        }, m = function (a, b, c, d, f) {
            return h(a, e.put, b, c, d, f)
        };
        return {
            error: function (a) {
                $(document).scope().global.show_msg || ($(document).scope().global.show_msg = !0, kzi.msg.error(d.instant("data.err_load_fail_try_again"), function () {
                    $(document).scope().global.show_msg = !1
                }))
            }, getcode: function (a, b, c) {
                var d = "/api/user/signin/verify/image";
                i(d, a, b, c)
            }, get_phone_code: function (a, b, c, d, e) {
                return k("/api/sms/security/code/send", {type: b, phone: a}, c, d, e)
            }, signin: function (a, b, c, d, e, f, g) {
                var h = {name: a, password: b};
                c && d && (h.image_code = c, h.image_md5 = d), k("/api/user/signin", h, e, f, g)
            }, signup: function (a, b, c, d, e, f, g, h, i, j, l, m, n) {
                var o = {name: a, phone: b, phone_code: c, email: d, password: e, referrer: g, utm_source: h};
                i && j && (o.image_code = i, o.image_md5 = j), k("/api/user/signup", o, l, m, n)
            }, signout: function (a, b, c) {
                k("/api/user/signout", null, a, b, c)
            }, auth: function (a, b, c) {
                i("/api/me", a, b, c)
            }, referrals: function (a, b, c) {
                i("/api/user/referrals", a, b, c)
            }, watch: function (a, b, c, d, e, f, g) {
                k("/api/" + b + "/" + c + "/watcher?pid=" + a, {uids: [d]}, e, f, g)
            }, watch_batch: function (a, b, c, d, e, f, g) {
                k("/api/" + b + "/" + c + "/watcher?pid=" + a, {uids: d}, e, f, g)
            }, unwatch: function (a, b, c, d, e, f, g) {
                l("/api/" + b + "/" + c + "/watchers/" + d + "?pid=" + a, e, f, g)
            }, get_my_watchs: function (a, b, c, d, e, f, g) {
                i("/api/watchs/forme?team_id=" + a + "&type=" + b + "&since_id=" + c + "&count=" + d, e, f, g)
            }, search: {
                all: function (a, b, c, d, e, f) {
                    c.keyword = encodeURIComponent(a), b && (c.page = b);
                    var g = _.foldl(c, function (a, b, c) {
                        return b ? a + "&" + c + "=" + b : a
                    }, "").substr(1);
                    i("/api/search?" + g, d, e, f)
                }, tasks: function (a, b, c, d, e, f) {
                    c.keyword = encodeURIComponent(a), b && (c.page = b);
                    var g = _.foldl(c, function (a, b, c) {
                        return b ? a + "&" + c + "=" + b : a
                    }, "").substr(1);
                    i("/api/tasks/search?" + g, d, e, f)
                }, events: function (a, b, c, d, e, f) {
                    c.keyword = encodeURIComponent(a), b && (c.page = b);
                    var g = _.foldl(c, function (a, b, c) {
                        return b ? a + "&" + c + "=" + b : a
                    }, "").substr(1);
                    i("/api/events/search?" + g, d, e, f)
                }, files: function (a, b, c, d, e, f) {
                    c.keyword = encodeURIComponent(a), b && (c.page = b);
                    var g = _.foldl(c, function (a, b, c) {
                        return b ? a + "&" + c + "=" + b : a
                    }, "").substr(1);
                    i("/api/files/search?" + g, d, e, f)
                }, posts: function (a, b, c, d, e, f) {
                    c.keyword = encodeURIComponent(a), b && (c.page = b);
                    var g = _.foldl(c, function (a, b, c) {
                        return b ? a + "&" + c + "=" + b : a
                    }, "").substr(1);
                    i("/api/posts/search?" + g, d, e, f)
                }, pages: function (a, b, c, d, e, f) {
                    c.keyword = encodeURIComponent(a), b && (c.page = b);
                    var g = _.foldl(c, function (a, b, c) {
                        return b ? a + "&" + c + "=" + b : a
                    }, "").substr(1);
                    i("/api/pages/search?" + g, d, e, f)
                }, mails: function (a, b, c, d, e, f) {
                    c.keyword = encodeURIComponent(a), b && (c.page = b);
                    var g = _.foldl(c, function (a, b, c) {
                        return b ? a + "&" + c + "=" + b : a
                    }, "").substr(1);
                    i("/api/mails/search?" + g, d, e, f)
                }, lname: function (a, b, c, d) {
                    return j("/api/search/lname?keyword=" + a, b, c, d)
                }
            }, user: {
                get: function (a, b, c) {
                    i("/api/account/basic", a, b, c)
                }, update: function (a, b, c, d, e, f, g) {
                    m("/api/user", {display_name: a, title: b, department: c, desc: d, initials: ""}, e, f, g)
                }, phone_check: function (a, b, c, d) {
                    return i("/api/user/phone/check?phone=" + a, b, c, d)
                }, email_check: function (a, b, c, d) {
                    return i("/api/user/email/check?email=" + a, b, c, d)
                }, name_check: function (a, b, c, d) {
                    i("/api/user/name/check?name=" + a, b, c, d)
                }, forgot_pwd: function (a, b, c, d, e, f) {
                    k("/api/user/password/forgot", {phone: a, phone_code: b, email: c}, d, e, f)
                }, change_pwd: function (a, b, c, d, e) {
                    m("/api/user/password/change", {oldpassword: a, password: b}, c, d, e)
                }, reset_pwd: function (a, b, c, d, e) {
                    m("/api/user/password/reset?token=" + a, {password: b}, c, d, e)
                }, set_avatar: function (a, b, c, d) {
                    m("/api/user/avatar", {avatar: a}, b, c, d)
                }, search_user: function (a, b, c, d) {
                    i("/api/user/search?criteria=" + a, b, c, d)
                }, search_accurate_user: function (a, b, c, d) {
                    return i("/api/user/accurate/search?parameter=" + a, b, c, d)
                }, set_user_prefs: function (a, b, c, d, e, f) {
                    m("/api/users/" + a + "/prefs", {key: b, value: c}, d, e, f)
                }, apply: function (a, b, c, d, e, f) {
                    k("/api/apply", {email: a, team_name: b, team_desc: c}, d, e, f)
                }, get_apply: function (a, b, c, d) {
                    i("/api/apply?code=" + a, b, c, d)
                }, apply_signup: function (a, b, c, d, e, f, g, h) {
                    var i = {name: b, email: c, password: d, team_name: e};
                    k("/api/user/apply_signup?code=" + a, i, f, g, h)
                }, email_change_apply: function (a, b, c, d) {
                    k("/api/user/email/apply", {email: a}, b, c, d)
                }, reset_phone: function (a, b, c, d, e) {
                    m("/api/user/phone/reset", {phone: a, phone_code: b}, c, d, e)
                }, reset_email: function (a, b, c, d) {
                    m("/api/user/email/reset?token=" + a, null, b, c, d)
                }, activate_email: function (a, b, c, d) {
                    m("/api/user/activate?code=" + a, "", b, c, d)
                }, resend_activation_email: function (a, b, c) {
                    m("/api/user/activation/resend", "", a, b, c)
                }, signin_twofactor: function (a, b, c, d, e, f) {
                    var g = {name: b, password: c, factor: a};
                    k("/api/user/twofactor", g, d, e, f)
                }, remove_other_session: function (a, b, c) {
                    return l("/api/account/remove/other/signin", a, b, c)
                }, signin_recovery: function (a, b, c, d, e, f) {
                    var g = {name: b, password: c, factor: a};
                    k("/api/user/recovery", g, d, e, f)
                }, caltoken: function (a, b, c, d) {
                    i("/api/user/caltoken?uid=" + a, b, c, d)
                }, caltoken_reset: function (a, b, c, d) {
                    m("/api/user/caltoken/reset?uid=" + a, {}, b, c, d)
                }, overview_dashboard: function (a, b, c) {
                    i("/api/user/overview/dashboard", a, b, c)
                }, set_user_old: function (a, b, c) {
                    return m("/api/user/old", {}, a, b, c)
                }, weixin_unbind: function (a, b, c) {
                    return i("/api/weixin/unbind", a, b, c)
                }, check_bind: function (a, b, c) {
                    return i("/api/user/check/bind", a, b, c)
                }, perfect_info: function (a, b, c, d, e, f, g) {
                    return k("/api/user/perfect/info", {name: a, phone: b, phone_code: c, password: d}, e, f, g)
                }, bind: function (a, b, c, d, e) {
                    return k("/api/user/bind", {name: a, password: b}, c, d, e)
                }, change_locale: function (a, b, c, d) {
                    return m("/api/user/locale/switch", {locale: a}, b, c, d)
                }
            }, account: {
                get_basic: function (a, b, c) {
                    return i("/api/account/basic", a, b, c)
                }, get_teams: function (a, b, c) {
                    i("/api/account/teams", a, b, c)
                }, get_projects: function (a, b, c) {
                    i("/api/account/projects", a, b, c)
                }, get_security: function (a, b, c, d) {
                    i("/api/account/security?page=" + a, b, c, d)
                }, conform_password: function (a, b, c, d) {
                    m("/api/account/sudo/confirm", {password: a}, b, c, d)
                }, get_recovery_codes: function (a, b, c) {
                    i("/api/account/twofactor/recovery", a, b, c)
                }, get_twofactor_secret: function (a, b, c) {
                    i("/api/account/twofactor/secret", a, b, c)
                }, enable_twofactor: function (a, b, c, d) {
                    m("/api/account/twofactor/enable", {factor: a}, b, c, d)
                }, disable_twofactor: function (a, b, c) {
                    m("/api/account/twofactor/disable", {}, a, b, c)
                }, set_background_image: function (a, b, c, d, e) {
                    return k("/api/account/bg_image/setting?type=" + a, {imgUrl: b}, c, d, e)
                }, get_apps: function (a, b, c) {
                    i("/api/account/apps", a, b, c)
                }, decommissioning_app: function (a, b, c, d) {
                    l("/api/account/apps/" + a.app_id + "?type=" + a.type, b, c, d)
                }, get_contacts: function (a, b, c) {
                    return i("/api/user/teams/contacts/", a, b, c)
                }, get_notice_settings: function (a, b, c) {
                    return i("/api/account/notice/settings/", a, b, c)
                }, update_email_notice: function (a, b, c, d) {
                    return k("/api/account/notice/settings", {type: "email", email_notice: a}, b, c, d)
                }, update_weixin_notice: function (a, b, c, d) {
                    return k("/api/account/notice/settings", {type: "weixin", weixin_notice: a}, b, c, d)
                }, update_mobile_notice: function (a, b, c, d) {
                    return k("/api/account/notice/settings", {type: "mobile", client_notice: a}, b, c, d)
                }, get_thirdparty: function (a, b, c) {
                    return i("/api/account/auths", a, b, c)
                }, del_thirdparty: function (a, b, c, d) {
                    return l("/api/account/auths/" + a, b, c, d)
                }
            }, team: {
                get_full: function (a, b, c, d) {
                    return i("/api/teams/" + a, b, c, d)
                }, get_basic: function (a, b, c, d) {
                    return i("/api/teams/" + a + "/basic", b, c, d)
                }, get_list: function (a, b, c) {
                    return i("/api/teams", a, b, c)
                }, add: function (a, b, c, d, e, f, g, h) {
                    return k("/api/team/", {name: a, phone: b, is_support: c, desc: d, industry: e}, f, g, h)
                }, update: function (a, b, c, d, e, f, g, h, i) {
                    return m("/api/teams/" + a + "/account", {name: b, phone: c, desc: d, url: e, industry: f}, g, h, i)
                }, set_logo: function (a, b, c, d, e) {
                    return m("/api/teams/" + a + "/account/logo", {pic: b}, c, d, e)
                }, transfer: function (a, b, c, d, e) {
                    return m("/api/teams/" + a + "/account/transfer", {uid: b}, c, d, e)
                }, dismiss: function (a, b, c, d) {
                    return l("/api/teams/" + a + "/account", b, c, d)
                }, get_team_projects: function (a, b, c, d) {
                    return i("/api/teams/" + a + "/projects?has_stats=true", b, c, d)
                }, add_member: function (a, b, c, d, e) {
                    return k("/api/teams/" + a + "/member", {uid: b}, c, d, e)
                }, del_member: function (a, b, c, d, e) {
                    return l("/api/teams/" + a + "/members/" + b, c, d, e)
                }, invite_member: function (a, b, c, d, e, f, g) {
                    return k("/api/teams/" + a + "/member/invite", {members: b, message: c, project_ids: d}, e, f, g)
                }, uninvite_member: function (a, b, c, d, e) {
                    return m("/api/teams/" + a + "/members/" + b + "/uninvite", null, c, d, e)
                }, set_role: function (a, b, c, d, e, f) {
                    return m("/api/teams/" + a + "/members/" + b + "/role", {role: c}, d, e, f)
                }, get_team_members_with_stats: function (a, b, c, d) {
                    return i("/api/teams/" + a + "/members?with_stats=true", b, c, d)
                }, get_team_members: function (a, b, c, d) {
                    return i("/api/teams/" + a + "/members", b, c, d)
                }, get_team_members_basic: function (a, b, c, d) {
                    return i("/api/teams/" + a + "/members/basic", b, c, d)
                }, get_member_projects: function (a, b, c, d, e, f) {
                    var g = c ? "?supp=true" : "";
                    return i("/api/teams/" + a + "/members/" + b + "/projects" + g, d, e, f)
                }, get_account_project_members: function (a, b, c, d, e) {
                    return i("/api/teams/" + a + "/account/projects/" + b + "/members", c, d, e)
                }, add_account_project_member: function (a, b, c, d, e, f, g) {
                    return k("/api/teams/" + a + "/account/projects/" + b + "/member", {uid: c, role: d}, e, f, g)
                }, set_account_project_role: function (a, b, c, d, e, f, g) {
                    return m("/api/teams/" + a + "/account/projects/" + b + "/members/role", {uid: c, role: d}, e, f, g)
                }, member_join_projects: function (a, b, c, d, e, f) {
                    return m("/api/teams/" + a + "/members/" + b + "/join/projects", {pids: c}, d, e, f)
                }, leave: function (a, b, c, d) {
                    m("/api/teams/" + a + "/leave", null, b, c, d)
                }, summary: function (a, b, c, d) {
                    return i("/api/teams/" + a + "/account/summary", b, c, d)
                }, upgrade: function (a, b, c, d, e) {
                    m("/api/teams/" + a + "/account/upgrade", {quota: b}, c, d, e)
                }, degrade: function (a, b, c, d) {
                    m("/api/teams/" + a + "/account/degrade", null, b, c, d)
                }, payment: function (a, b, c, d) {
                    i("/api/teams/" + a + "/account/payment", b, c, d)
                }, get_payments: function (a, b, c, d, e) {
                    i("/api/teams/" + a + "/account/payments?page=" + b, c, d, e)
                }, get_billings: function (a, b, c, d, e) {
                    i("/api/teams/" + a + "/account/billings", c, d, e)
                }, redeem_coupon: function (a, b, c, d, e) {
                    k("/api/teams/" + a + "/account/redeem", {coupon_no: b}, c, d, e)
                }, cancel_payment: function (a, b, c, d, e) {
                    l("/api/teams/" + a + "/account/payment?pay_id=" + b, c, d, e)
                }, get_account_members: function (a, b, c, d) {
                    i("/api/teams/" + a + "/account/members", b, c, d)
                }, get_account_projects: function (a, b, c, d) {
                    i("/api/teams/" + a + "/account/projects", b, c, d)
                }, get_security_histories: function (a, b, c, d, e) {
                    i("/api/teams/" + a + "/account/security?page=" + b, c, d, e)
                }, change_subscription: function (a, b, c, d, e) {
                    m("/api/teams/" + a + "/account/subscription", {quota: b}, c, d, e)
                }, bulk_export: function (a, b, c, d) {
                    k("/api/teams/" + a + "/account/export", null, b, c, d)
                }, get_bulk_export: function (a, b, c, d, e) {
                    return i("/api/teams/" + a + "/account/export?page=" + b, c, d, e)
                }, set_visibility: function (a, b, c, d, e) {
                    return m("/api/teams/" + a + "/account/visibility", {visibility: b}, c, d, e)
                }, get_tasks: function (a, b, c, d, e, f, g, h) {
                    return i("/api/teams/" + a + "/tasks?page=" + e + "&filter=" + d + "&uid=" + b + "&pid=" + c, f, g, h)
                }, get_tasks_overview: function (a, b, c, d) {
                    return i("/api/teams/" + a + "/tasks/overview", b, c, d)
                }, get_team_stats: function (a, b, c, d) {
                    return i("/api/teams/" + a + "/stats", b, c, d)
                }, add_team_stats: function (a, b, c, d, e) {
                    return m("/api/projects/" + a + "/stats", {types: b}, c, d, e)
                }, del_team_stats: function (a, b, c, d, e) {
                    return l("/api/projects/" + a + "/stats/" + b, c, d, e)
                }, update_team_stats_pos: function (a, b, c, d, e, f) {
                    return m("/api/projects/" + a + "/stats/" + b + "/position", {pos: c}, d, e, f)
                }, join_link_open: function (a, b, c, d) {
                    return m("/api/teams/" + a + "/link/join/open", {}, b, c, d)
                }, join_link_close: function (a, b, c, d) {
                    return m("/api/teams/" + a + "/link/join/close", {}, b, c, d)
                }, join_by_link: function (a, b, c, d, e) {
                    return m("/api/teams/" + a + "/link/join?code=" + b, {}, c, d, e)
                }, join_info: function (a, b, c, d) {
                    return i("/api/link/join/" + a + "?type=team", b, c, d)
                }, set_labels: function (a, b, c, d, e) {
                    return m("/api/teams/" + a + "/labels", {labels: b}, c, d, e)
                }, label_add: function (a, b, c, d, e, f) {
                    return k("/api/teams/" + a + "/label", {name: b, desc: c}, d, e, f)
                }, label_update: function (a, b, c, d, e, f) {
                    return m("/api/teams/" + a + "/labels/" + b, {desc: c}, d, e, f)
                }, label_remove: function (a, b, c, d, e) {
                    return l("/api/teams/" + a + "/labels/" + b, c, d, e)
                }, projects_get: function (a, b, c, d) {
                    return i("/api/teams/" + a + "/projects", b, c, d)
                }, set_default_project: function (a, b, c, d, e) {
                    return k("/api/teams/" + a + "/default/projects", {pids: b}, c, d, e)
                }, get_project_templates: function (a, b, c, d) {
                    return i("/api/teams/" + a + "/project/templates", b, c, d)
                }, set_default_template: function (a, b, c, d, e) {
                    return m("/api/teams/" + a + "/project/template", {template_id: b}, c, d, e)
                }, delete_project_template: function (a, b, c, d, e) {
                    return l("/api/teams/" + a + "/project/templates/" + b, c, d, e)
                }, update_project_template: function (a, b, c, d, e, f) {
                    return m("/api/teams/" + a + "/project/templates/" + b, c, d, e, f)
                }, get_project_template: function (a, b, c, d, e) {
                    return i("/api/teams/" + a + "/project/templates/" + b, c, d, e)
                }, add_project_template: function (a, b, c, d, e) {
                    return k("/api/teams/" + a + "/project/template", b, c, d, e)
                }
            }, project: {
                get_all: function (a, b, c, d) {
                    return i("/api/projects/all?type=" + a, b, c, d)
                }, get_all_abstracts: function (a, b, c, d) {
                    return i("/api/projects/abstracts?type=" + a, b, c, d)
                }, add_personal_project: function (a, b, c, d, e, f) {
                    return k("/api/project", {name: a, desc: b, visibility: c}, d, e, f)
                }, add_team_project: function (a, b, c, d, e, f, g, h) {
                    return k("/api/teams/" + a + "/project", {name: b, desc: c, visibility: d, template_id: e}, f, g, h)
                }, get: function (a, b, c, d) {
                    return i("/api/projects/" + a, b, c, d)
                }, get_full: function (a, b, c, d) {
                    return i("/api/projects/" + a + "/full", b, c, d)
                }, update: function (a, b, c, d, e, f, g, h, i) {
                    return m("/api/projects/" + a, {name: b, bg: c, pic: d, desc: e, visibility: f}, g, h, i)
                }, del: function (a, b, c, d) {
                    return l("/api/projects/" + a, b, c, d)
                }, set_logo: function (a, b, c, d, e, f) {
                    return m("/api/projects/" + a + "/logo", {bg: b, pic: c}, d, e, f)
                }, archive: function (a, b, c, d) {
                    return m("/api/projects/" + a + "/archive", null, b, c, d)
                }, unarchive: function (a, b, c, d) {
                    return m("/api/projects/" + a + "/unarchive", null, b, c, d)
                }, set_prefs: function (a, b, c, d, e, f) {
                    return m("/api/projects/" + a + "/prefs", {key: b, value: c}, d, e, f)
                }, add_member: function (a, b, c, d, e, f) {
                    return k("/api/projects/" + a + "/member", {uid: b, role: c}, d, e, f)
                }, add_members: function (a, b, c, d, e) {
                    return k("/api/projects/" + a + "/members", b, c, d, e)
                }, invite_member: function (a, b, c, d, e) {
                    return k("/api/projects/" + a + "/member/invite", {email: b}, c, d, e)
                }, invite_members: function (a, b, c, d, e) {
                    return k("/api/projects/" + a + "/members/invite", {members: b}, c, d, e)
                }, get_members: function (a, b, c, d) {
                    return i("/api/projects/" + a + "/members", b, c, d)
                }, del_member: function (a, b, c, d, e) {
                    return l("/api/projects/" + a + "/members/" + b, c, d, e)
                }, set_member_role: function (a, b, c, d, e, f) {
                    return m("/api/projects/" + a + "/members/role", {uid: b, role: c}, d, e, f)
                }, set_labels: function (a, b, c, d, e) {
                    return m("/api/projects/" + a + "/labels", {labels: b}, c, d, e)
                }, label_add: function (a, b, c, d, e, f) {
                    return k("/api/projects/" + a + "/label", {name: b, desc: c}, d, e, f)
                }, label_update: function (a, b, c, d, e, f) {
                    return m("/api/projects/" + a + "/labels/" + b, {desc: c}, d, e, f)
                }, label_remove: function (a, b, c, d, e) {
                    return l("/api/projects/" + a + "/labels/" + b, c, d, e)
                }, get_labels: function (a, b, c, d) {
                    return i("/api/projects/" + a + "/labels", b, c, d)
                }, get_trash: function (a, b, c, d) {
                    return i("/api/projects/" + a + "/recycle", b, c, d)
                }, clear_trash: function (a, b, c, d) {
                    return l("/api/projects/" + a + "/recycle", b, c, d)
                }, member_leave: function (a, b, c, d) {
                    return m("/api/projects/" + a + "/leave", null, b, c, d)
                }, prj_position: function (a, b, c, d, e) {
                    return m("/api/projects/" + a + "/position", {pos: b}, c, d, e)
                }, prj_star_position: function (a, b, c, d, e) {
                    return m("/api/projects/" + a + "/position?type=star", {pos: b}, c, d, e)
                }, get_unique_admin_prjs: function (a, b, c, d, e) {
                    var f = "/api/projects/users/" + b + "/unique/admin?team_id=" + a;
                    return i(f, c, d, e)
                }, set_favorite: function (a, b, c, d, e) {
                    return m("/api/projects/" + a + "/favorite", {favorite: b ? 1 : 0}, c, d, e)
                }, get_favorite: function (a, b, c) {
                    var d = "/api/projects/favorite";
                    return i(d, a, b, c)
                }, transfer: function (a, b, c, d, e) {
                    return m("/api/projects/" + a + "/shift", {team_id: b}, c, d, e)
                }, join_link_open: function (a, b, c, d) {
                    return m("/api/projects/" + a + "/link/join/open", {}, b, c, d)
                }, join_link_close: function (a, b, c, d) {
                    return m("/api/projects/" + a + "/link/join/close", {}, b, c, d)
                }, join_by_link: function (a, b, c, d, e) {
                    return m("/api/projects/" + a + "/link/join?code=" + b, {}, c, d, e)
                }, join_info: function (a, b, c, d) {
                    return i("/api/link/join/" + a + "?type=project", b, c, d)
                }, copy_project: function (a, b, c, d, e, f, g, h, i, j, k) {
                    return m("/api/projects/" + a + "/copy", {
                        name: c,
                        team_id: b,
                        keep_tasks: d,
                        keep_files: e,
                        keep_posts: f,
                        keep_pages: g,
                        visibility: h
                    }, i, j, k)
                }, change_navs: function (a, b, c, d, e) {
                    return m("/api/projects/" + a + "/navs", {navs: b}, c, d, e)
                }
            }, entry: {
                add: function (a, b, c, d, e, f) {
                    k("/api/entry?pid=" + a, {name: b, pos: c}, d, e, f)
                }, get_list: function (a, b, c, d, e, f) {
                    i("/api/entries/?pid=" + a + "&exclude_tasks=" + b + "&formWhere=" + f, c, d, e)
                }, get_archived_list: function (a, b, c, d) {
                    i("/api/entries/archived?pid=" + a, b, c, d)
                }, update: function (a, b, c, d, e, f) {
                    m("/api/entries/" + b + "?pid=" + a, {name: c}, d, e, f)
                }, trash: function (a, b, c, d, e) {
                    m("/api/entries/" + b + "/trash?pid=" + a, null, c, d, e)
                }, untrash: function (a, b, c, d, e) {
                    m("/api/entries/" + b + "/restore?pid=" + a, null, c, d, e)
                }, del: function (a, b, c, d, e) {
                    l("/api/entries/" + b + "?pid=" + a, c, d, e)
                }, change_pos: function (a, b, c, d, e, f) {
                    m("/api/entries/" + b + "/position?pid=" + a, {pos: c}, d, e, f)
                }, archive: function (a, b, c, d, e) {
                    m("/api/entries/" + b + "/archive?pid=" + a, null, c, d, e)
                }, unarchive: function (a, b, c, d, e) {
                    m("/api/entries/" + b + "/unarchive?pid=" + a, null, c, d, e)
                }, move: function (a, b, c, d, e, f) {
                    m("/api/entries/" + b + "/move?pid=" + a, {to_pid: c}, d, e, f)
                }, copy: function (a, b, c, d, e) {
                    m("/api/entries/" + b + "/copy?pid=" + a, null, c, d, e)
                }, batch_assign: function (a, b, c, d, e, f, g) {
                    m("/api/entries/" + b + "/tasks/members?pid=" + a, {uid: c, tasks: d}, e, f, g)
                }, batch_unassign: function (a, b, c, d, e, f, g) {
                    k("/api/entries/" + b + "/tasks/members?pid=" + a, {uid: c, tasks: d}, e, f, g)
                }, batch_set_label: function (a, b, c, d, e, f, g) {
                    m("/api/entries/" + b + "/tasks/labels?pid=" + a, {label: d, tasks: c}, e, f, g)
                }, batch_remove_label: function (a, b, c, d, e, f, g) {
                    k("/api/entries/" + b + "/tasks/labels?pid=" + a, {label: d, tasks: c}, e, f, g)
                }, batch_set_expire: function (a, b, c, d, e, f, g) {
                    m("/api/entries/" + b + "/tasks/expire?pid=" + a, {tasks: c, expire: d}, e, f, g)
                }, copy_entry: function (a, b, c, d, e, f, g) {
                    k("/api/entries/" + b + "/copy?pid=" + a, {name: c, pos: d}, e, f, g)
                }, watch_entry: function (a, b, c, d, e) {
                    k("/api/entries/" + b + "/watcher?pid=" + a, {}, c, d, e)
                }, unwatch_entry: function (a, b, c, d, e) {
                    l("/api/entries/" + b + "/watcher?pid=" + a, c, d, e)
                }
            }, task: {
                add: function (a, b, c, d, e, f, g) {
                    k("/api/task?pid=" + a, {entry_id: b, name: c, pos: d}, e, f, g)
                }, add_full: function (a, b, c, d, e, f, g, h, i, j) {
                    k("/api/task?pid=" + a, {
                        entry_id: b,
                        name: c,
                        pos: d,
                        labels: f,
                        members: e,
                        expire_date: g
                    }, h, i, j)
                }, batch_add: function (a, b, c, d, e, f, g, h, i, j, l) {
                    k("/api/tasks/batch?pid=" + a, {
                        entry_id: b,
                        names: d,
                        pos_type: c,
                        labels: f,
                        members: e,
                        expire_date: g,
                        is_locked: h
                    }, i, j, l)
                }, get: function (a, b, c, d, e) {
                    i("/api/tasks/" + b + "?pid=" + a, c, d, e)
                }, update: function (a, b, c, d, e, f, g) {
                    m("/api/tasks/" + b + "?pid=" + a, {name: c, desc: d}, e, f, g)
                }, trash: function (a, b, c, d, e) {
                    m("/api/tasks/" + b + "/trash?pid=" + a, null, c, d, e)
                }, untrash: function (a, b, c, d, e, f) {
                    m("/api/tasks/" + c + "/restore?pid=" + a, {entry_id: b}, d, e, f)
                }, del: function (a, b, c, d, e) {
                    l("/api/tasks/" + b + "?pid=" + a, c, d, e)
                }, change_entry: function (a, b, c, d, e, f, g, h) {
                    m("/api/tasks/" + b + "/position?pid=" + a, {from: c, to: d, pos: e}, f, g, h)
                }, change_entry_for_batch_task: function (a, b, c, d, e, f, g, h, i) {
                    m("/api/entries/" + c + "/tasks/position?pid=" + a, {to: d, tids: b, auto_fix: f, pos: e}, g, h, i)
                }, move: function (a, b, c, d, e, f, g) {
                    m("/api/tasks/" + b + "/move?pid=" + a, {to_pid: c, to_entry_id: d}, e, f, g)
                }, batch_move: function (a, b, c, d, e, f, g) {
                    m("/api/tasks/move?pid=" + a, {tids: b, to_pid: c, to_entry_id: d}, e, f, g)
                }, set_expire: function (a, b, c, d, e, f) {
                    m("/api/tasks/" + b + "/expire?pid=" + a, {expire: c}, d, e, f)
                }, assign: function (a, b, c, d, e, f) {
                    k("/api/tasks/" + b + "/member?pid=" + a, {uid: c}, d, e, f)
                }, unassign: function (a, b, c, d, e, f) {
                    l("/api/tasks/" + b + "/members/" + c + "?pid=" + a, d, e, f)
                }, set_labels: function (a, b, c, d, e, f) {
                    m("/api/tasks/" + b + "/labels?pid=" + a, {label: c}, d, e, f)
                }, del_labels: function (a, b, c, d, e, f) {
                    l("/api/tasks/" + b + "/labels?pid=" + a + "&label=" + c, d, e, f)
                }, complete: function (a, b, c, d, e) {
                    m("/api/tasks/" + b + "/complete?pid=" + a, null, c, d, e)
                }, uncomplete: function (a, b, c, d, e) {
                    m("/api/tasks/" + b + "/uncomplete?pid=" + a, null, c, d, e)
                }, add_todo: function (a, b, c, d, e, f, g) {
                    k("/api/tasks/" + b + "/todo?pid=" + a, {name: c, pos: d}, e, f, g)
                }, update_todo: function (a, b, c, d, e, f, g, h) {
                    m("/api/tasks/" + b + "/todos/" + c + "?pid=" + a, {name: d}, f, g, h)
                }, del_todo: function (a, b, c, d, e, f) {
                    l("/api/tasks/" + b + "/todos/" + c + "?pid=" + a, d, e, f)
                }, update_todo_pos: function (a, b, c, d, e, f, g) {
                    var h = "/api/tasks/" + b + "/todos/" + c + "/position?pid=" + a;
                    m(h, {pos: d}, e, f, g)
                }, complete_todo: function (a, b, c, d, e, f) {
                    m("/api/tasks/" + b + "/todos/" + c + "/checked?pid=" + a, null, d, e, f)
                }, uncomplete_todo: function (a, b, c, d, e, f) {
                    m("/api/tasks/" + b + "/todos/" + c + "/unchecked?pid=" + a, null, d, e, f)
                }, change_todo_pos: function (a, b, c, d, e, f, g) {
                    m("/api/tasks/" + b + "/todos/" + c + "/position?pid=" + a, {pos: d}, e, f, g)
                }, get_for_me: function (a, b, c, d, e) {
                    i("/api/tasks/forme?team_id=" + a + "&complete=" + b, c, d, e)
                }, get_for_uncompleted: function (a, b, c) {
                    i("/api/tasks/uncompleted", a, b, c)
                }, get_for_expired: function (a, b, c) {
                    return i("/api/tasks/expired", a, b, c)
                }, get_for_completed: function (a, b, c, d) {
                    return i("/api/tasks/completed?page=" + a, b, c, d)
                }, get_archived_list: function (a, b, c, d, e, f) {
                    return i("/api/tasks/archived?pid=" + a + "&page=" + b + "&count=" + c, d, e, f)
                }, get_for_graph: function (a, b, c, d, e) {
                    return i("/api/graph/user?start=" + a + "&end=" + b, c, d, e)
                }, get_for_user_overview: function (a, b, c) {
                    return i("/api/tasks/user/overview", a, b, c)
                }, archive: function (a, b, c, d, e) {
                    return m("/api/tasks/" + b + "/archive?pid=" + a, {}, c, d, e)
                }, unarchive: function (a, b, c, d, e, f) {
                    return m("/api/tasks/" + b + "/unarchive?pid=" + a, {entry_id: c}, d, e, f)
                }, archived_all: function (a, b, c, d, e) {
                    return m("/api/tasks/archived?pid=" + a, {entry_id: b}, c, d, e)
                }, copy_task: function (a, b, c, d, e, f, g, h, i, j, l, m, n) {
                    var o = {
                        name: c,
                        pos: d,
                        keep_comments: Number(e),
                        keep_members: Number(f),
                        keep_labels: Number(g),
                        keep_attachments: Number(h),
                        keep_watchers: Number(j),
                        keep_todos: Number(i)
                    };
                    return k("/api/tasks/" + b + "/copy?pid=" + a, o, l, m, n)
                }, get_all_list: function (a, b, c, d, e) {
                    return i("/api/tasks/browse?type=" + a + "&page=" + b, c, d, e)
                }, share: function (a, b, c, d, e, f) {
                    return k("/api/tasks/" + b + "/share?pid=" + a, {to: c}, d, e, f)
                }, toggle_lock: function (a, b, c, d, e) {
                    return m("/api/tasks/" + b + "/lock?pid=" + a, {}, c, d, e)
                }, get_dashboard_task: function (a, b, c) {
                    return i("/api/tasks/uncompleted/forme", a, b, c)
                }, drop_dashboard_task: function (a, b, c, d, e, f, g) {
                    return m("/api/tasks/" + b + "/mark?pid=" + a, {mark: c, bottom_task_id: d}, e, f, g)
                }, get_tasks_by_entry: function (a, b, c, d, e) {
                    return i("/api/tasks/entries/" + b + "?pid=" + a, c, d, e)
                }
            }, file: {
                new_upload: function (a, b, c, d, e) {
                    return k("/api/file?pid=" + a, b, c, d, e)
                }, get_list: function (a, b, c, d, e, f, g, h) {
                    return i("/api/files?pid=" + a + "&folder_id=" + b + "&page=" + c + "&sort=" + d + "&filter=" + e, f, g, h)
                }, get_image_list: function (a, b, c, d) {
                    return i("/api/files/images?pid=" + a, b, c, d)
                }, get: function (a, b, c, d, e) {
                    return i("/api/files/" + b + "?pid=" + a, c, d, e)
                }, update: function (a, b, c, d, e, f, g) {
                    return m("/api/files/" + b + "?pid=" + a, {name: c, desc: d}, e, f, g)
                }, update_ext: function (a, b, c, d, e, f) {
                    return m("/api/files/" + b + "/ext?pid=" + a, {ext: c}, d, e, f)
                }, trash: function (a, b, c, d, e) {
                    return m("/api/files/" + b + "/trash?pid=" + a, null, c, d, e)
                }, untrash: function (a, b, c, d, e) {
                    return m("/api/files/" + b + "/restore?pid=" + a, null, c, d, e)
                }, del: function (a, b, c, d, e) {
                    return l("/api/files/" + b + "?pid=" + a, c, d, e)
                }, get_versions: function (a, b, c, d, e) {
                    return i("/api/files/" + b + "/versions?pid=" + a, c, d, e)
                }, move: function (a, b, c, d, e, f, g) {
                    return m("/api/files/" + b + "/move?pid=" + a, {from: c, to: d}, e, f, g)
                }, get_target: function (a, b, c, d, e) {
                    i("/api/files/" + b + "/target?pid=" + a, c, d, e)
                }, attach: function (a, b, c, d, e, f, g) {
                    m("/api/" + b + "/" + c + "/attach?pid=" + a, {fid: d}, e, f, g)
                }, detach: function (a, b, c, d, e, f, g) {
                    m("/api/" + b + "/" + c + "/detach?pid=" + a, {fid: d}, e, f, g)
                }, upload_attach: function (a, b, c, d, e, f, g) {
                    k("/api/" + b + "/" + c + "/file?pid=" + a, {files: d}, e, f, g)
                }, get_attach_list: function (a, b, c, d, e, f) {
                    i("/api/" + b + "/" + c + "/files?pid=" + a, d, e, f)
                }, add_folder: function (a, b, c, d, e, f, g) {
                    k("/api/folder?pid=" + a, {name: b, ext: c, parent_id: d}, e, f, g)
                }, get_folders: function (a, b, c, d) {
                    i("/api/folders?pid=" + a, b, c, d)
                }, get_all_list: function (a, b, c, d, e) {
                    i("/api/files/browse?type=" + a + "&page=" + b, c, d, e);
                }, share: function (a, b, c, d, e, f) {
                    k("/api/files/" + b + "/share?pid=" + a, {to: c}, d, e, f)
                }, uploadlink: function (a, b, c, d, e) {
                    k(a, b, c, d, e)
                }
            }, comment: {
                publish: function (a, b, c, d, e, f, g, h) {
                    k("/api/" + b + "/" + c + "/comment?pid=" + a, {message: d, fids: e}, f, g, h)
                }, get_list: function (a, b, c, d, e, f) {
                    i("/api/" + b + "/" + c + "/comments?pid=" + a, d, e, f)
                }, del: function (a, b, c, d, e, f, g) {
                    l("/api/" + c + "/" + d + "/comments/" + b + "?pid=" + a, e, f, g)
                }, update: function (a, b, c, d, e, f, g, h) {
                    m("/api/" + c + "/" + d + "/comments/" + b + "?pid=" + a, {message: e}, f, g, h)
                }
            }, calendar: {
                get_tasks_forme: function (a, b, c, d, e, f) {
                    i("/api/calendar/tasks/forme?type=" + a + "&start=" + b + "&end=" + c, d, e, f)
                }, get_events_and_tasks: function (a, b, c, d, e) {
                    i("/api/calendar/events/tasks/forme?start=" + a + "&end=" + b, c, d, e)
                }, get_teams_events_and_tasks: function (a, b, c, d, e, f, g, h) {
                    i("/api/calendar/teams/" + a + "?type=" + b + "&pid=" + c + "&start=" + d + "&end=" + e, f, g, h)
                }, get_tasks: function (a, b, c, d, e, f, g, h) {
                    i("/api/calendar/tasks?team_id=" + a + "&type=" + b + "&uid=" + c + "&start=" + d + "&end=" + e, f, g, h)
                }, get_list: function (a, b, c, d, e, f, g) {
                    i("/api/calendar/events?pid=" + a + "&showall=" + b + "&start=" + c + "&end=" + d, e, f, g)
                }
            }, event: {
                get: function (a, b, c, d, e) {
                    i("/api/events/" + b + "?pid=" + a, c, d, e)
                }, add: function (a, b, c, d, e, f, g, h, i, j, l, m) {
                    k("/api/event?pid=" + a, {
                        name: b,
                        location: c,
                        attendees: d,
                        start_date: e,
                        start_time: f,
                        end_date: g,
                        end_time: h,
                        recurrence: i
                    }, j, l, m)
                }, update: function (a, b, c, d, e, f, g, h, i, j, k, l, n) {
                    m("/api/events/" + b + "?pid=" + a, {
                        name: c,
                        location: e,
                        summary: d,
                        start_date: f,
                        start_time: g,
                        end_date: h,
                        end_time: i,
                        type: j
                    }, k, l, n)
                }, update_date: function (a, b, c, d, e, f, g, h, i) {
                    m("/api/events/" + b + "/date?pid=" + a, {
                        start_date: c,
                        start_time: d,
                        end_date: e,
                        end_time: f
                    }, g, h, i)
                }, trash: function (a, b, c, d, e, f) {
                    m("/api/events/" + b + "/trash?pid=" + a, {type: c}, d, e, f)
                }, get_list: function (a, b, c, d, e, f) {
                    i("/api/events?pid=" + a + "&start=" + b + "&end=" + c, d, e, f)
                }, attendee_add: function (a, b, c, d, e, f) {
                    m("/api/events/" + b + "/attendee?pid=" + a, {uid: c}, d, e, f)
                }, attendee_remove: function (a, b, c, d, e, f) {
                    l("/api/events/" + b + "/attendees/" + c + "?pid=" + a, d, e, f)
                }, untrash: function (a, b, c, d, e) {
                    m("/api/events/" + b + "/restore?pid=" + a, null, c, d, e)
                }, del: function (a, b, c, d, e) {
                    l("/api/events/" + b + "?pid=" + a, c, d, e)
                }, get_today_events: function (a, b, c) {
                    i("/api/events/today", a, b, c)
                }, share: function (a, b, c, d, e, f) {
                    k("/api/events/" + b + "/share?pid=" + a, {to: c}, d, e, f)
                }
            }, post: {
                add: function (a, b, c, d, e, f, g) {
                    var h = "/api/post?pid=" + a;
                    k(h, {name: b, content: c, watchers: d}, e, f, g)
                }, get: function (a, b, c, d, e) {
                    i("/api/posts/" + b + "?pid=" + a, c, d, e)
                }, get_list: function (a, b, c, d, e, f, g, h, j) {
                    var k = "/api/posts?pid=" + a + "&since_id=" + b + "&count=" + c + "&sort=" + d + "&desc=" + e + "&type=" + f;
                    i(k, g, h, j)
                }, update: function (a, b, c, d, e, f, g) {
                    var h = "/api/posts/" + b + "?pid=" + a;
                    m(h, {name: c, content: d}, e, f, g)
                }, trash: function (a, b, c, d, e) {
                    m("/api/posts/" + b + "/trash?pid=" + a, null, c, d, e)
                }, untrash: function (a, b, c, d, e) {
                    m("/api/posts/" + b + "/restore?pid=" + a, null, c, d, e)
                }, del: function (a, b, c, d, e) {
                    l("/api/posts/" + b + "?pid=" + a, c, d, e)
                }, toggle_top: function (a, b, c, d, e) {
                    m("/api/posts/" + b + "/top?pid=" + a, {}, c, d, e)
                }, get_all_list: function (a, b, c, d, e) {
                    i("/api/posts/browse?type=" + a + "&page=" + b, c, d, e)
                }, share: function (a, b, c, d, e, f) {
                    k("/api/posts/" + b + "/share?pid=" + a, {to: c}, d, e, f)
                }
            }, page: {
                add: function (a, b, c, d, e, f, g, h, i) {
                    var j = "/api/page?pid=" + a;
                    k(j, {name: b, content: c, message: d, parent_id: e, watchers: f}, g, h, i)
                }, get: function (a, b, c, d, e) {
                    i("/api/pages/" + b + "?pid=" + a, c, d, e)
                }, get_versions: function (a, b, c, d, e) {
                    var f = "/api/pages/" + b + "/versions?pid=" + a;
                    i(f, c, d, e)
                }, get_list: function (a, b, c, d, e, f, g, h) {
                    var j = "/api/pages?pid=" + a + "&since_id=" + b + "&count=" + c + "&sort=" + d + "&desc=" + e;
                    i(j, f, g, h)
                }, get_all: function (a, b, c, d) {
                    var e = "/api/pages?pid=" + a;
                    i(e, b, c, d)
                }, update: function (a, b, c, d, e, f, g, h, i, j, k) {
                    var l = "/api/pages/" + b + "?pid=" + a;
                    m(l, {name: c, content: d, message: e, parent_id: f, is_notify: g, unloak: h}, i, j, k)
                }, trash: function (a, b, c, d, e) {
                    m("/api/pages/" + b + "/trash?pid=" + a, null, c, d, e)
                }, untrash: function (a, b, c, d, e) {
                    m("/api/pages/" + b + "/restore?pid=" + a, null, c, d, e)
                }, del: function (a, b, c, d, e) {
                    l("/api/pages/" + b + "?pid=" + a, c, d, e)
                }, locked: function (a, b, c, d, e) {
                    m("/api/pages/" + b + "/locked?pid=" + a, null, c, d, e)
                }, unlocked: function (a, b, c, d, e) {
                    m("/api/pages/" + b + "/unlocked?pid=" + a, null, c, d, e)
                }, get_all_list: function (a, b, c, d, e) {
                    i("/api/pages/browse?type=" + a + "&page=" + b, c, d, e)
                }, share: function (a, b, c, d, e, f) {
                    k("/api/pages/" + b + "/share?pid=" + a, {to: c}, d, e, f)
                }, get_version_page: function (a, b, c, d, e, f, g) {
                    i("/api/pages/" + b + "/versions/content?pid=" + a + "&version_ids=" + c + "," + d, e, f, g)
                }, get_shimos_folder: function (a, b, c, d, e) {
                    i("/api/pages/shimos?pid=" + a + "&folder=" + b, c, d, e)
                }, add_shimo_files: function (a, b, c, d, e) {
                    k("/api/page/shimo/batch?pid=" + a, b, c, d, e)
                }, del_shimo_file: function (a, b, c, d, e) {
                    l("/api/pages/" + b + "/shimo?pid=" + a, c, d, e)
                }
            }, activity: {
                get_for_project: function (a, b, c, d, e, f, g) {
                    return i("/api/activity/project?pid=" + a + "&type=" + b + "&since_id=" + c + "&count=" + d, e, f, g)
                }, get_for_item: function (a, b, c, d, e, f, g) {
                    return i("/api/activity/" + a + "/" + b + "?since_id=" + c + "&count=" + d, e, f, g)
                }, get_feeds: function (a, b, c, d, e, f, g) {
                    var h = "/api/activity/feed?pid=" + a + "&type=" + b + "&page=" + c;
                    return h = d ? h + "&size=" + d : h, i(h, e, f, g)
                }, get_feeds_for_team: function (a, b, c, d, e, f, g) {
                    var h = "/api/teams/" + a + "/feeds?type=" + b + "&page=" + c;
                    return h = d ? h + "&size=" + d : h, i(h, e, f, g)
                }
            }, notice: {
                unread_count: function (a, b, c) {
                    return i("/api/notice/unread/count", a, b, c)
                }, set_allread: function (a, b, c, d) {
                    return m("/api/notice/allread?type=" + a, null, b, c, d)
                }, set_read: function (a, b, c, d) {
                    return m("/api/notices/" + a + "/read", null, b, c, d)
                }, set_reads: function (a, b, c, d) {
                    return m("/api/notices/merge/read", {nids: a}, b, c, d)
                }, get_list: function (a, b, c, d, e, f, g) {
                    return i("/api/notices?type=" + a + "&since_id=" + b + "&count=" + c + "&is_read=" + d, e, f, g)
                }, get_pending_list: function (a, b, c) {
                    return i("/api/notices/pending", a, b, c)
                }, update_pending: function (a, b, c, d, e) {
                    return m("/api/notices/" + a + "/pending", {is_pending: b}, c, d, e)
                }, set_allhandle: function (a, b, c) {
                    return m("/api/notice/allhandle", null, a, b, c)
                }
            }, invite: {
                accept: function (a, b, c, d) {
                    m("/api/invites/" + a + "/accept", null, b, c, d)
                }, join: function (a, b, c, d, e, f, g) {
                    m("/api/invites/" + a + "/join", {name: b, display_name: c, password: d}, e, f, g)
                }, refuse: function (a, b, c, d) {
                    m("/api/invites/" + a + "/refuse", null, b, c, d)
                }, get: function (a, b, c, d) {
                    i("/api/invites/" + a, b, c, d)
                }, get_new: function (a, b, c) {
                    i("/api/invites/new", a, b, c)
                }, get_invite_code: function (a, b, c, d, e) {
                    var f = "/api/invite/code?member_id=" + b + "&team_id=" + a;
                    i(f, c, d, e)
                }
            }, feedback: {
                add: function (a, b, c, d, e, f, g, h, i, j) {
                    var l = {name: a, email: b, category: c, desc: d, path: e, ptype: f, client: g};
                    k("/opapi/feedback", l, h, i, j)
                }
            }, graph: {
                overview: function (a, b, c, d) {
                    return i("/api/graph/overview?pid=" + a, b, c, d)
                }, get_pulse: function (a, b, c, d, e, f) {
                    return i("/api/graph/pulse?pid=" + a + "&start=" + b + "&end=" + c, d, e, f)
                }, get_daily: function (a, b, c, d, e, f) {
                    return i("/api/graph/daily?pid=" + a + "&start=" + b + "&end=" + c, d, e, f)
                }, get_contribution: function (a, b, c, d, e, f) {
                    return i("/api/graph/contribution?pid=" + a + "&start=" + b + "&end=" + c, d, e, f)
                }
            }, share: {
                recommand: function (a, b, c, d, e) {
                    k("/api/share/recommand", {email: a, message: b}, c, d, e)
                }, enable_share_link: function (a, b, c, d, e, f) {
                    m("/api/" + b + "/" + c + "/share/link/open?pid=" + a, {}, d, e, f)
                }, set_share_link_secret: function (a, b, c, d, e, f, g, h) {
                    m("/api/" + b + "/" + c + "/share/secret?pid=" + a, {share_password: d, share_expire: e}, f, g, h)
                }, disable_share_link: function (a, b, c, d, e, f) {
                    m("/api/" + b + "/" + c + "/share/link/close?pid=" + a, {}, d, e, f)
                }, get_share_tasks: function (a, b, c, d) {
                    i("/api/tasks/share/" + a, b, c, d)
                }, post_share_tasks: function (a, b, c, d, e) {
                    k("/api/tasks/share/" + a, {share_password: b}, c, d, e)
                }, get_share_posts: function (a, b, c, d) {
                    i("/api/posts/share/" + a, b, c, d)
                }, post_share_posts: function (a, b, c, d, e) {
                    return k("/api/posts/share/" + a, {share_password: b}, c, d, e)
                }, get_share_files: function (a, b, c, d) {
                    return i("/api/files/share/" + a, b, c, d)
                }, post_share_files: function (a, b, c, d, e) {
                    return k("/api/files/share/" + a, {share_password: b}, c, d, e)
                }, get_share_pages: function (a, b, c, d) {
                    return i("/api/pages/share/" + a, b, c, d)
                }, post_share_pages: function (a, b, c, d, e) {
                    return k("/api/pages/share/" + a, {share_password: b}, c, d, e)
                }, get_share_events: function (a, b, c, d) {
                    return i("/api/events/share/" + a, b, c, d)
                }, post_share_events: function (a, b, c, d, e) {
                    return k("/api/events/share/" + a, {share_password: b}, c, d, e)
                }
            }, mail: {
                get_list: function (a, b, c, d, e) {
                    return i("/api/mails?page=" + a + "&category=all&is_read=" + b, c, d, e)
                }, get: function (a, b, c, d) {
                    return i("/api/mails/" + a, b, c, d)
                }, trash: function (a, b, c, d) {
                    return l("/api/mails/" + a, b, c, d)
                }, convert: function (a, b, c, d, e, f, g) {
                    return m("/api/mails/" + b + "/convert", {pid: a, watchers: d, type: c}, e, f, g)
                }, set_read: function (a, b, c, d) {
                    return m("/api/mails/" + a + "/read", null, b, c, d)
                }
            }, profile: {
                get_basic: function (a, b, c, d) {
                    return i("/api/profile/" + a, b, c, d)
                }, get_teams: function (a, b, c, d) {
                    return i("/api/profile/" + a + "/teams", b, c, d)
                }, get_feeds: function (a, b, c, d, e, f, g) {
                    return i("/api/profile/" + a + "/feed?type=" + b + "&page=" + c + "&size=" + d, e, f, g)
                }, get_tasks: function (a, b, c, d, e, f, g) {
                    return i("/api/profile/" + a + "/tasks?team_id=" + b + "&filter=" + c + "&assign_filter=" + d, e, f, g)
                }, get_graph: function (a, b, c, d, e) {
                    return i("/api/profile/" + a + "/graph?team_id=" + b, c, d, e)
                }
            }, broadcast: {
                get_latest: function (a, b, c) {
                    return i("/api/broadcast/show", a, b, c)
                }
            }, webhook: {
                get_actions: function (a, b, c) {
                    return i("/api/webhook/actions", a, b, c)
                }, get_webhooks: function (a, b, c, d) {
                    return i("/api/webhooks?pid=" + a, b, c, d)
                }, add_webhook: function (a, b, c, d, e) {
                    return k("/api/webhook/?pid=" + a, b, c, d, e)
                }, change_webhook: function (a, b, c, d, e) {
                    return m("/api/webhook/?pid=" + a, b, c, d, e)
                }, del_webhook: function (a, b, c, d, e) {
                    return l("/api/webhook/" + b + "?pid=" + a, c, d, e)
                }, get_person_webhooks: function (a, b, c) {
                    return i("/api/webhooks/notice", a, b, c)
                }, add_person_webhook: function (a, b, c, d) {
                    return k("/api/webhook/notice", {
                        name: a.name,
                        web_hook_url: a.web_hook_url,
                        type: 1,
                        secret: a.secret
                    }, b, c, d)
                }, update_person_webhook: function (a, b, c, d) {
                    return m("/api/webhook/notice", {
                        wid: a.wid,
                        name: a.name,
                        web_hook_url: a.web_hook_url,
                        secret: a.secret
                    }, b, c, d)
                }, delete_person_webhook: function (a, b, c, d) {
                    return l("/api/webhook/notice/" + a, b, c, d)
                }
            }, timingtask: {
                get_timingtasks: function (a, b, c, d) {
                    return i("/api/timingtask?pid=" + a, b, c, d)
                }, add_timingtask: function (a, b, c, d, e) {
                    return k("/api/timingtask/?pid=" + a, b, c, d, e)
                }, del_timingtask: function (a, b, c, d, e) {
                    return l("/api/timingtask/" + b + "?pid=" + a, c, d, e)
                }, update_timingtask: function (a, b, c, d, e, f) {
                    return m("/api/timingtask/" + a + "?pid=" + b, c, d, e, f)
                }
            }, privilege: {
                get_background_invite: function (a, b, c, d) {
                    return i("/api/profile/" + a + "/recommends", b, c, d)
                }
            }, utils: {
                get_help_related: function (a) {
                    return j("/help/related/search?q=" + encodeURIComponent(a))
                }, get_qrcode: function (a, c, d, e, f) {
                    var g = "/api/qr/code?size=" + c + "&text=" + a, h = angular.isFunction(d) ? d : angular.noop, i = angular.isFunction(e) ? e : angular.noop, j = angular.isFunction(f) ? f : angular.noop;
                    b.get(g).success(h).error(i).finally(j)
                }
            }
        }
    }

    angular.module("wt.service.data", []).factory("data", a), a.$inject = ["$rootScope", "$http", "$q", "$translate"]
}(), function () {
    "use strict";
    function a(a, b, c) {
        var d = {}, e = function (a, b, c) {
            _.isArray(d[a]) && _.isFunction(b) ? d[a].push(b) : d[a] = [b], _.isEmpty(c) || c.$on("$destroy", function () {
                f(a, b)
            })
        }, f = function (a, b) {
            d[a] && d[a].splice(d[a].indexOf(b), 1)
        }, g = function (a) {
            if (_.isArray(d[a])) {
                var b = _.toArray(arguments);
                _.each(d[a], function (a) {
                    a.apply(void 0, b.slice(1))
                })
            }
        };
        return {
            user: {
                get: function (a, b, c) {
                }
            }, team: {
                find_add_prj_teams: function () {
                    var a = _.clone(b.teams);
                    if (void 0 === _.find(a, {team_id: "-1"})) {
                        var d = {name: c.instant("bus.personal_project"), team_id: "-1", curr_role: "1"};
                        a.unshift(d)
                    }
                    return a = _.filter(a, function (a) {
                        return 1 === a.curr_role || "-1" === a.team_id || a.permission & b.global.team_module.add_project
                    })
                }, get_add_prj_teams: function (a) {
                    var d = _.clone(a);
                    return d = _.filter(d, function (a) {
                        return a.permission & b.global.team_module.add_project
                    }), _.find(d, {team_id: "-1"}) || d.unshift({
                        name: c.instant("bus.personal_project"),
                        team_id: "-1",
                        curr_role: "1"
                    }), d
                }, calculate_stats_pos: function (a, b) {
                    var c = 0;
                    return c = _.isUndefined(a) && !_.isUndefined(b) ? b / 2 + 1 : _.isUndefined(b) && !_.isUndefined(a) ? a + kzi.config.default_pos + 1 : _.isUndefined(b) || _.isUndefined(a) ? kzi.config.default_pos : (b + a) / 2 + 1
                }
            }, project: {
                set_fav_toggle: function (a, b, c, d) {
                    if (1 !== a.archived) {
                        var e = a.is_favorite ? 0 : 1;
                        a.is_favorite = e, wt.data.project.set_favorite(a.pid, e, function (a) {
                            _.isFunction(b) && b(a)
                        }, function () {
                            a.is_favorite = e ? 0 : 1
                        })
                    }
                }, calculate_prj_pos: function (a, b) {
                    var c = 0;
                    return c = _.isEmpty(a) && !_.isEmpty(b) ? b.pos / 2 + 1 : _.isEmpty(b) && !_.isEmpty(a) ? a.pos + kzi.config.default_pos + 1 : _.isEmpty(b) || _.isEmpty(a) ? kzi.config.default_pos : (b.pos + a.pos) / 2 + 1
                }, calculate_prj_star_pos: function (a, b) {
                    var c = 0;
                    return c = _.isEmpty(a) && !_.isEmpty(b) ? b.star_pos / 2 + 1 : _.isEmpty(b) && !_.isEmpty(a) ? a.star_pos + kzi.config.default_pos + 1 : _.isEmpty(b) || _.isEmpty(a) ? kzi.config.default_pos : (b.star_pos + a.star_pos) / 2 + 1
                }, label: {
                    load: function (a, b) {
                        return _.each(b, function (b) {
                            b.assigned = a && _.find(a.labels, {name: b.name}) ? 1 : 0
                        }), b
                    }, set_labels: function (a, b, c, d, e, f, g, h, i, j) {
                        var k = [{name: "blue", desc: b}, {name: "green", desc: c}, {name: "orange", desc: d}, {
                            name: "purple",
                            desc: e
                        }, {name: "red", desc: f}, {name: "yellow", desc: g}];
                        wt.data.project.set_labels(a, k, function () {
                            h(k)
                        }, i, j)
                    }
                }, get_member_projects: function (a, b) {
                    var d = [];
                    return _.each(a, function (a) {
                        if (kzi.constant.prj_module.crud & a.permission) {
                            var e = _.clone(a);
                            if (b) {
                                var f = _.find(b, function (a) {
                                    return a.team_id === e.team_id
                                });
                                e.team_name = f ? f.name : c.instant("bus.personal_project"), e.sort = f && e.team_id !== -1 ? f.create_date : 1e3
                            }
                            d.push(e)
                        }
                    }), b ? _.sortBy(d, function (a) {
                        return a.sort
                    }) : d
                }, get_navs: function (a, d) {
                    var e = kzi.constant.prj_navigations;
                    c.use(b.global.me.locale).then(function () {
                        if (_.each(e, function (a) {
                                a.title = c.instant(a.title), a.desc = c.instant(a.desc)
                            }), _.isEmpty(a))return d(_.clone(e));
                        var b = [];
                        return _.each(a, function (a) {
                            _.indexOf(_.map(b, "id"), a) < 0 && b.push(_.find(e, {id: parseInt(a, 10)}))
                        }), d(b)
                    })
                }, get_un_navs: function (a, d) {
                    var e = kzi.constant.prj_navigations;
                    c.use(b.global.me.locale).then(function () {
                        if (_.each(e, function (a) {
                                a.title = c.instant(a.title), a.desc = c.instant(a.desc)
                            }), _.isEmpty(a))return d([]);
                        var b = [];
                        return _.each(e, function (c) {
                            a.indexOf(c.id) < 0 && b.push(c)
                        }), d(b)
                    })
                }, get_visibilities: function (a) {
                    return a == -1 ? [{
                        id: kzi.constant.prj_visibility.private,
                        name: c.instant("bus.prj_visibility_private_desc")
                    }, {
                        id: kzi.constant.prj_visibility.public,
                        name: c.instant("bus.prj_visibility_public_desc")
                    }] : [{
                        id: kzi.constant.prj_visibility.private,
                        name: c.instant("bus.prj_visibility_private_desc")
                    }, {
                        id: kzi.constant.prj_visibility.protected,
                        name: c.instant("bus.prj_visibility_protected_desc")
                    }, {id: kzi.constant.prj_visibility.public, name: c.instant("bus.prj_visibility_public_desc")}]
                }
            }, entry: {
                calculate_copy_entry_pos: function (a, b) {
                    for (var c = 0; c < a.length; c++)if (a[c].entry_id === b.entry_id) {
                        if (c + 1 < a.length) {
                            var d = a[c + 1].pos;
                            return (d + b.pos) / 2 + 1
                        }
                        return b.pos + kzi.config.default_pos + 1
                    }
                    return b.pos + kzi.config.default_pos + 1
                }, calculate_entry_pos: function (a, b) {
                    var c = kzi.config.default_pos;
                    if (!_.isEmpty(a))if (b) {
                        var d = _.min(a, function (a) {
                            return a.pos
                        });
                        _.isEmpty(d) || (c = d.pos / 2 + 1)
                    } else {
                        var e = _.max(a, function (a) {
                            return a.pos
                        });
                        _.isEmpty(e) || (c = e.pos + kzi.config.default_pos + 1)
                    }
                    return c
                }, batch_toggle_member: function (a, b, c, d, e, f) {
                    var g = "", h = null;
                    0 === c.assigned_all ? (g = "set", h = wt.data.entry.batch_assign) : (g = "unset", h = wt.data.entry.batch_unassign), h(a, b.entry_id, c.uid, b.selected_tasks, function (a) {
                        c.assigned_all = 1 === c.assigned_all ? 0 : 1, _.each(b.tasks, function (a) {
                            a.update_date = Date.now();
                            var d = _.any(b.selected_tasks, function (b) {
                                return b === a.tid
                            });
                            if (d)if (_.isEmpty(a.members))a.members = [c]; else {
                                var e = _.any(a.members, function (a) {
                                    return a.uid === c.uid
                                });
                                e && "unset" === g && (a.members = _.remove(a.members, function (a) {
                                    return a.uid !== c.uid
                                })), e || "set" !== g || a.members.push(c)
                            }
                        }), _.isFunction(d) && d(a)
                    }, e, f)
                }, batch_toggle_label: function (a, b, c, d, e, f, g) {
                    var h = "", i = null;
                    1 === d.assigned ? (h = "set", i = wt.data.entry.batch_set_label) : (h = "unset", i = wt.data.entry.batch_remove_label), i(a, b.entry_id, c, d.name, function (a) {
                        _.each(b.tasks, function (a) {
                            if (!(c.indexOf(a.tid) < 0))if (_.isEmpty(a.labels))a.labels = [d]; else {
                                var b = _.any(a.labels, function (a) {
                                    return a.name === d.name
                                });
                                b && "unset" === h && (a.labes = _.remove(a.labels, function (a) {
                                    return a.name === d.name
                                })), b || "set" !== h || (a.labels.push(d), a.labels = _.sortBy(a.labels, function (a) {
                                    return a.name
                                }))
                            }
                        }), _.isFunction(e) && e(a)
                    }, f, g)
                }
            }, task: {
                calculate_task_pos: function (a, b) {
                    var c = kzi.config.default_pos;
                    return b ? _.isEmpty(a.tasks) || (c = _.min(a.tasks, function (a) {
                            return a.pos
                        }).pos / 2 + 1) : _.isEmpty(a.tasks) || (c = _.max(a.tasks, function (a) {
                            return a.pos
                        }).pos + kzi.config.default_pos + 1), c
                }, calculate_copy_task_pos: function (a, b) {
                    for (var c = 0; c < a.tasks.length; c++)if (a.tasks[c].tid === b.tid) {
                        if (c + 1 < a.tasks.length) {
                            var d = a.tasks[c + 1].pos;
                            return (d + b.pos) / 2 + 1
                        }
                        return b.pos + kzi.config.default_pos + 1
                    }
                    return b.pos + kzi.config.default_pos + 1
                }, set_toggle_label: function (a, b, c, d) {
                    var e = _.find(b.labels, {name: c.name});
                    c.assigned ? (e && (b.labels = _.reject(b.labels, function (a) {
                        return a.name === c.name
                    }), b.labels = _.sortBy(b.labels, function (a) {
                        return a.name
                    })), c.assigned = 0, _.isEmpty(b.tid) || wt.data.task.del_labels(a, b.tid, c.name, d)) : e || (b.labels.push(c), c.assigned = 1, b.labels = _.sortBy(b.labels, function (a) {
                        return a.name
                    }), _.isEmpty(b.tid) || wt.data.task.set_labels(a, b.tid, c.name, d))
                }, get_copy_task: function (a) {
                    var b = {
                        name: a.name,
                        tid: a.tid,
                        entry_id: a.entry_id,
                        pos: a.pos,
                        comment_count: a.badges.comment_count,
                        file_count: a.badges.file_count,
                        todo_count: a.badges.todo_count,
                        member_count: a.members.length,
                        watcher_count: a.watchers.length,
                        label_count: a.labels.length
                    }, c = !1;
                    return b.comment_count > 0 ? (b.keep_comments = !0, c = !0) : b.keep_comments = !1, b.file_count > 0 ? (b.keep_attachments = !0, c = !0) : b.keep_attachments = !1, b.todo_count > 0 ? (b.keep_todos = !0, c = !0) : b.keep_todos = !1, b.member_count > 0 ? (b.keep_members = !0, c = !0) : b.keep_members = !1, b.watcher_count > 0 ? (b.keep_watchers = !0, c = !0) : b.keep_watchers = !1, b.label_count > 0 ? (b.keep_labels = !0, c = !0) : b.keep_labels = !1, b.show_keeps = c, b
                }, set_is_show_data: function (a, b) {
                    return _.each(a, function (a) {
                        var c = moment(a.update_date).format("YYYY-MM-DD");
                        c === b ? a.is_show_date = !1 : (a.is_show_date = !0, b = c)
                    }), b
                }, compare_task: function (a, b) {
                    if (a.expire_date > 0 && b.expire_date > 0) {
                        var c = (new Date).getTime();
                        return a.expire_date === b.expire_date ? 0 : a.expire_date > c && b.expire_date < c ? -1 : a.expire_date < c && b.expire_date > c ? 1 : a.expire_date > c && b.expire_date > c ? a.expire_date > b.expire_date ? 1 : -1 : a.expire_date > b.expire_date ? -1 : 1
                    }
                    return a.expire_date > 0 && 0 === b.expire_date ? -1 : 0 === a.expire_date && b.expire_date > 0 ? 1 : a.create_date > b.create_date ? -1 : 1
                }, group_tasks_by_date: function (a) {
                    var b = {
                        today: [],
                        tomorrow: [],
                        week: [],
                        nextweek: [],
                        month: [],
                        due: [],
                        other: []
                    }, d = moment(), e = moment().add(1, "days"), f = moment().endOf("week"), g = moment().add(7, "days").endOf("week"), h = moment().endOf("month");
                    _.each(a, function (a) {
                        var c = moment(a.expire_date);
                        c.isSame(d, "day") ? b.today.push(a) : c.isSame(e, "day") ? b.tomorrow.push(a) : c > d && c < f ? b.week.push(a) : c > d && c < g ? b.month.push(a) : c > d && c < h ? b.month.push(a) : c < d && c > 0 ? b.due.push(a) : b.other.push(a)
                    });
                    var i = [];
                    return _.isEmpty(b.today) || i.push({
                        phase: c.instant("common.today"),
                        tasks: b.today
                    }), _.isEmpty(b.tomorrow) || i.push({
                        phase: c.instant("common.tomorrow"),
                        tasks: b.tomorrow
                    }), _.isEmpty(b.week) || i.push({
                        phase: c.instant("common.thisweek"),
                        tasks: b.week
                    }), _.isEmpty(b.month) || i.push({
                        phase: c.instant("common.thismonth"),
                        tasks: b.month
                    }), _.isEmpty(b.due) || i.push({
                        phase: c.instant("common.txt_expired"),
                        tasks: b.due
                    }), _.isEmpty(b.other) || i.push({phase: c.instant("task.unset_expire"), tasks: b.other}), i
                }, group_tasks_by_project: function (a) {
                    var b = _.map(_.map(a, "project"), "pid");
                    b = _.map(b, function (a) {
                        return [a, []]
                    }), b = _.zipObject(b), _.each(a, function (a) {
                        b[a.pid].push(a)
                    });
                    var c = [];
                    return _.each(b, function (a) {
                        _.isEmpty(a) || c.push({
                            phase: a[0].project.name,
                            pic: a[0].project.pic,
                            bg: a[0].project.bg,
                            tasks: a
                        })
                    }), c
                }
            }, file: {
                load_files_db: function (a, c, d, e, f, g, h, i, j) {
                    wt.data.file.get_list(a, c, d, e, f, function (a) {
                        b.folder = {
                            folder_id: a.data.folder.folder_id,
                            name: a.data.folder.name
                        }, _.each(a.data.files, function (a) {
                            if (a.icon = kzi.helper.build_file_icon(a), g) {
                                var c = _.find(b.project.files, {fid: a.fid});
                                c || b.project.files.push(a)
                            }
                        }), h(g ? b.project : a.data)
                    }, i, j)
                }, load_one_page_files: function (a, d) {
                    _.isUndefined(d) && (d = !1), a.files_controls.loading_done = !1;
                    var e = function (b) {
                        var e = [];
                        if (a.files_controls.folder_id) {
                            a.files_controls.is_folder = !0, e = _.where(b.files, {folder_id: a.files_controls.folder_id});
                            var f = _.find(a.files_controls.files, {fid: a.files_controls.folder_id});
                            _.isEmpty(f) ? a.files_controls.folder_name = a.folder.name : a.files_controls.folder_name = f.name
                        } else e = _.where(b.files, {folder_id: ""}), a.files_controls.is_folder = !1, a.files_controls.folder_name = c.instant("bus.file_root_folder_name");
                        e.length > 0 && (d ? a.files_controls.files = e : a.files_controls.files = a.files_controls.files.concat(e)), e.length < 20 ? a.files_controls.has_more_files = !1 : (a.files_controls.has_more_files = !0, a.files_controls.page++), a.files_controls.folders = b.folders, a.files_controls.loading_done = !0
                    };
                    wt.bus.file.load_files_db(a.files_controls.pid, a.files_controls.folder_id, a.files_controls.page, a.files_controls.sort_method_id, a.files_controls.filter, !1, e, function () {
                        kzi.msg.error(c.instant("bus.err_load_files_fail"))
                    }, function () {
                        b.global.loading_done = !0
                    })
                }, new_upload: function (a, c, d, e) {
                    var f = a.files[0], g = {};
                    switch (g.target = f.formData.target, g.type = f.formData.type || "project", g.file = {
                        pid: f.formData.pid,
                        name: f.fname,
                        ext: kzi.constant.get_ext(f.ext),
                        size: f.size,
                        path: f.url
                    }, f.formData.type) {
                        case"task":
                            g.ext = {tid: f.formData.tid};
                            break;
                        case"post":
                            g.ext = {post_id: f.formData.post_id};
                            break;
                        case"file":
                            g.ext = {fid: f.formData.fid};
                            break;
                        case"event":
                            g.ext = {event_id: f.formData.event_id};
                            break;
                        default:
                            g.ext = {folder_id: f.formData.folder_id}
                    }
                    wt.data.file.new_upload(f.formData.pid, g, function (a) {
                        g.file = _.extend(g.file, f, a.data), g.file.icon = kzi.helper.build_file_icon(g.file), b.$broadcast(kzi.constant.event_names.on_file_add, g), _.isFunction(c) && c(a)
                    }, function (a) {
                        _.isFunction(d) && d(a)
                    }, function () {
                        _.isFunction(e) && e()
                    })
                }
            }, event: {
                event_to_calEvent: function (a, b) {
                    var c = {
                        id: a.event_id,
                        title: a.name,
                        allDay: 0,
                        start: moment(a.start.date).format(),
                        end: moment(a.end.date).format(),
                        url: "",
                        editable: !a.recurrence_id,
                        textColor: "#fff",
                        borderColor: "#fbfbfb",
                        className: "cal_event slide-trigger",
                        backgroundColor: b,
                        extend: {
                            xtype: kzi.constant.xtype.event,
                            pid: a.pid,
                            end: a.end.date,
                            recurrence_id: a.recurrence_id
                        }
                    };
                    return c
                }
            }, mkEditor: {
                checkClose: function () {
                    var a = $(".fullscreen-editing"), b = !1;
                    return _.each(a, function (a) {
                        $(a).scope().isFullscreen === !0 && ($(a).scope().cancelFullscreen(), b = !0)
                    }), b
                }
            }, comment: {}, calendar: {}, post: {}, page: {}, activity: {
                set_activities_show_date: function (a) {
                    var b = null;
                    _.each(a, function (a) {
                        var c = moment(a.published).format("YYYY-MM-DD");
                        c === b ? a.is_show_date = !1 : (a.is_show_date = !0, b = c)
                    })
                }
            }, notice: {}, invite: {}, feedback: {}, watch: {
                get_scope_watcher_members: function (a, b) {
                    var c = [], d = _.map(b, "uid");
                    return _.each(a, function (a) {
                        var b = _.clone(a);
                        b.status === kzi.constant.status.ok && (_.contains(d, b.uid) ? b.watched = !0 : b.watched = !1, c.push(b))
                    }), c
                }, mail_convert_post_watch_toggle: function (a, b, c, d, e, f) {
                    if (!c.watched) {
                        var g = _.find(b.watchers, {uid: c.uid});
                        return c.watched = !0, g || b.watchers.push(c), _.isFunction(d) && d(), void(_.isFunction(f) && f())
                    }
                    var g = _.find(b.watchers, {uid: c.uid});
                    c.watched = !1, g && (b.watchers = _.reject(b.watchers, function (a) {
                        return a.uid === c.uid
                    })), _.isFunction(d) && d(), _.isFunction(f) && f()
                }, unwatch: function (a, b, c, d, e, f, g, h) {
                    wt.data.unwatch(a, c, d, e.uid, function (a) {
                        var c = _.find(b.watchers, {uid: e.uid});
                        c && (b.watchers = _.reject(b.watchers, function (a) {
                            return a.uid === e.uid
                        })), e.watched = !1, _.isFunction(f) && f(a)
                    }, g, h)
                }, set_watcher_toggle: function (a, b, c, d, e, f, g, h) {
                    var i = null;
                    if (e.watched) {
                        if (i = _.find(b.watchers, {uid: e.uid}), i && (b.watchers = _.reject(b.watchers, function (a) {
                                return a.uid === e.uid
                            })), e.watched = !1, !d)return _.isFunction(f) && f(), void(_.isFunction(h) && h());
                        wt.data.unwatch(a, c, d, e.uid, f, g, h)
                    } else if (i = _.find(b.watchers, {uid: e.uid}), !i) {
                        if (b.watchers.push(e), e.watched = !0, !d)return _.isFunction(f) && f(), void(_.isFunction(h) && h());
                        wt.data.watch(a, c, d, e.uid, f, g, h)
                    }
                }, watch_all: function (a, b, c, d, e, f, g, h) {
                    if (b.watchers.length !== e.length) {
                        if (d) {
                            var i = _.map(e, "uid");
                            wt.data.watch_batch(a, c, d, i, function () {
                                b.watchers = e, _.isFunction(f) && f()
                            }, g, h)
                        } else b.watchers = e, _.isFunction(f) && f(), _.isFunction(h) && h();
                        _.each(e, function (a) {
                            a.watched = !0
                        })
                    }
                }
            }, member: {
                set_task_member_toggle: function (a, b, c, d, e, f) {
                    if (c.assigned) {
                        var g = _.find(b.members, {uid: c.uid});
                        if (_.isEmpty(b.tid))return c.assigned = 0, void(g && (b.members = _.reject(b.members, function (a) {
                            return a.uid === c.uid
                        })));
                        if (c.setting_toggle_member === !0)return;
                        c.setting_toggle_member = !0, wt.data.task.unassign(a, b.tid, c.uid, function (a) {
                            g && (b.members = _.reject(b.members, function (a) {
                                return a.uid === c.uid
                            })), c.assigned = 0, _.isFunction(d) && d(a)
                        }, e, function () {
                            c.setting_toggle_member = !1, _.isFunction(f) && f()
                        })
                    } else {
                        var g = _.find(b.members, {uid: c.uid});
                        if (_.isEmpty(b.tid))return c.assigned = 1, void(g || b.members.push(c));
                        if (!g) {
                            if (c.setting_toggle_member === !0)return;
                            c.setting_toggle_member = !0, wt.data.task.assign(a, b.tid, c.uid, function (a) {
                                g = _.find(b.members, {uid: c.uid}), g || (b.members.push(c), c.assigned = 1, _.isFunction(d) && d(a))
                            }, e, function () {
                                c.setting_toggle_member = !1, _.isFunction(f) && f()
                            })
                        }
                    }
                }, get_normal_members: function (a) {
                    var b = [];
                    return _.each(a, function (a) {
                        a.status === kzi.constant.status.ok && (a.role !== kzi.constant.role.admin && a.role !== kzi.constant.role.member || b.push(a))
                    }), b
                }, set_event_attendees_toggle: function (a, b, c, d, e, f) {
                    if (c.assigned) {
                        var g = _.find(b.attendees, {uid: c.uid});
                        if (_.isEmpty(b.event_id))return c.assigned = 0, g && (b.attendees = _.reject(b.attendees, function (a) {
                            return a.uid === c.uid
                        })), _.isFunction(d) && d(), void(_.isFunction(f) && f());
                        wt.data.event.attendee_remove(a, b.event_id, c.uid, function (a) {
                            g && (b.attendees = _.reject(b.attendees, function (a) {
                                return a.uid === c.uid
                            })), c.assigned = 0, _.isFunction(d) && d(a)
                        }, e, f)
                    } else {
                        var g = _.find(b.attendees, {uid: c.uid});
                        if (_.isEmpty(b.event_id))return c.assigned = 1, g || b.attendees.push(c), _.isFunction(d) && d(), void(_.isFunction(f) && f());
                        g || wt.data.event.attendee_add(a, b.event_id, c.uid, function (a) {
                            g = _.find(b.attendees, {uid: c.uid}), g || (b.attendees.push(c), c.assigned = 1, _.isFunction(d) && d(a))
                        }, e, f)
                    }
                }, get_scope_members_for_assigned: function (a, b) {
                    var c = [], d = _.map(b, "uid");
                    return _.each(a, function (a) {
                        var b = _.clone(a);
                        b.status === kzi.constant.status.ok && b.role !== kzi.constant.role.guest && (_.contains(d, b.uid) ? b.assigned = !0 : b.assigned = !1, c.push(b))
                    }), c
                }, event_attend_all: function (a, b, c, d, e, f) {
                    var g = _.map(c, "uid"), h = function () {
                        _.each(c, function (a) {
                            a.assigned = 1, _.find(b.attendees, {uid: a.uid}) || b.attendees.push(a)
                        }), _.isFunction(d) && d(result)
                    };
                    return b.event_id ? void wt.data.event.attendee_add(a, b.event_id, g, function (a) {
                        h()
                    }, e, f) : h()
                }
            }, addListener: e, removeListener: f, triggerEvent: g, $on: e, $delete: f, $execute: g
        }
    }

    angular.module("wt.bus", []).factory("bus", a), a.$inject = ["$http", "$rootScope", "$translate"]
}(), function () {
    "use strict";
    var a = function (a, b) {
        if (void 0 !== a && null !== a) {
            _.isString(a) ? a = moment(parseFloat(a)) : _.isObject(a) ? angular.noop() : a = moment(a);
            var c = "MM-DD";
            return b && (c += " HH:mm"), moment().isSame(a, "year") ? moment(a).format(c) : moment(a).format("YYYY-" + c)
        }
    };
    angular.module("wt.filter", []).filter("role", ["$translate", function (a) {
        return function (b) {
            switch (b) {
                case kzi.constant.role.admin:
                    return a.instant("common.txt_admin");
                case kzi.constant.role.member:
                    return a.instant("common.txt_member");
                case kzi.constant.role.guest:
                    return a.instant("common.txt_visitor");
                default:
                    return b
            }
        }
    }]).filter("is_admin", [function () {
        return function (a) {
            return a === kzi.constant.role.admin
        }
    }]).filter("is_member", [function () {
        return function (a) {
            return a === kzi.constant.role.member
        }
    }]).filter("is_guest", [function () {
        return function (a) {
            return a === kzi.constant.role.guest
        }
    }]).filter("is_pending", [function () {
        return function (a) {
            return a === kzi.constant.status.pending
        }
    }]).filter("sanitize", ["sanitize", function (a) {
        return function (b) {
            if (_.isString(b))return a(b)
        }
    }]).filter("firstText", [function () {
        return function (a) {
            return a ? a.substring(0, 1).toLocaleUpperCase() : ""
        }
    }]).filter("number2K", [function () {
        return function (a) {
            return _.isNumber(a) && !_.isNaN(a) ? a > 999 ? (a / 1e3).toFixed(0) + "K" : a : 0
        }
    }]).filter("cutstr", [function () {
        return function (a) {
            if (_.isArray(a)) {
                var b = a[0], c = a[1];
                if (_.isEmpty(b))return "";
                if (2 * b.length <= c)return b;
                for (var d = 0, e = "", f = 0; f < b.length; f++)if (e += b.charAt(f), b.charCodeAt(f) > 128) {
                    if (d += 2, d > c)return e.substring(0, ~~(c / 2)) + ""
                } else if (d += 1, d > c)return e.substring(0, e.length) + "";
                return e
            }
        }
    }]).filter("arrReverse", [function () {
        return function (a) {
            return _.isArray(a) ? a.slice().reverse() : null
        }
    }]).filter("fromNow", ["$filter", "$translate", function (a, b) {
        return function (a) {
            if (void 0 !== a && null !== a) {
                var c = new moment, d = moment(a);
                return c.isSame(d, "day") ? b.instant("common.today") + " " + d.format("HH:mm") : c.add(1, "days").isSame(d, "day") ? b.instant("common.tomorrow") + " " + d.format("HH:mm") : c.add(-1, "day").isSame(d, "day") ? b.instant("common.yesterday") + " " + d.format("HH:mm") : c.isSame(d, "year") ? d.format("MM-DD HH:mm") : d.format("YYYY-MM-DD HH:mm")
            }
        }
    }]).filter("momentFormat", ["$filter", function (a) {
        return function (a) {
            return moment(a[0]).format(a[1])
        }
    }]).filter("dateFormat", ["$filter", function (a) {
        return function (a) {
            if (void 0 !== a && null !== a)return moment(a).format("YYYY-MM-DD")
        }
    }]).filter("timeFormat", ["$filter", function (a) {
        return function (a) {
            if (void 0 !== a && null !== a)return moment(a).format("HH:mm")
        }
    }]).filter("timeFullFormat", ["$filter", function (a) {
        return function (a) {
            return moment(a).format("YYYY-MM-DD HH:mm")
        }
    }]).filter("dateAutoFormat", [function () {
        return function (b) {
            return a(b, !1)
        }
    }]).filter("datetimeAutoFormat", [function () {
        return function (b) {
            return a(b, !0)
        }
    }]).filter("taskDatetimeFormat", [function () {
        return function (b) {
            return "23:59" === moment(b).format("HH:mm") ? a(b, !1) : a(b, !0)
        }
    }]).filter("taskAgingLevel", [function () {
        return function (a) {
            var b = moment(Date.now()).diff(a, "days");
            return b >= 7 && b < 14 ? "task-aging-1" : b >= 14 && b < 28 ? "task-aging-2" : b >= 28 ? "task-aging-3" : ""
        }
    }]).filter("dateFormatZHCN", ["$filter", function (a) {
        return function (a) {
            if (void 0 !== a && null !== a)return _.isObject(a) ? a.format("YYYY-MM-DD") : _.isString(a) ? moment(parseFloat(a)).format("YYYY-MM-DD") : moment(a).format("YYYY-MM-DD")
        }
    }]).filter("timeFormatZHCN", ["$filter", function (a) {
        return function (a) {
            if (void 0 !== a && null !== a)return moment(a).format("YYYY-MM-DD HH:mm")
        }
    }]).filter("timeFullFormatZHCN", [function () {
        return function (a) {
            if (void 0 !== a && null !== a)return moment(a).format("YYYY-MM-DD HH:mm")
        }
    }]).filter("smartTimeFormat", ["$filter", function (a) {
        return function (a) {
            if (void 0 !== a && null !== a) {
                var b = new moment, c = moment(a);
                return b.isSame(c, "year") ? moment(a).format("MMM Do") : moment(a).format("YYYY-MM-DD")
            }
        }
    }]).filter("longTimeFormat", ["$filter", function (a) {
        return function (a) {
            if (void 0 !== a && null !== a)return moment(a).format("YYYY-MM-DD")
        }
    }]).filter("shortTimeFormat", ["$filter", function (a) {
        return function (a) {
            if (void 0 !== a && null !== a)return moment(a).format("MM-DD")
        }
    }]).filter("isNotUndefined", ["$filter", function (a) {
        return function (a) {
            return !_.isUndefined(a)
        }
    }]).filter("isNullOrEmpty", ["$filter", function (a) {
        return function (a) {
            return !(!angular.isUndefined(a) && null !== a && "" !== a && "" !== $.trim(a))
        }
    }]).filter("isNotNullOrEmpty", ["$filter", function (a) {
        return function (a) {
            return !angular.isUndefined(a) && null !== a && "" !== a && "" !== $.trim(a)
        }
    }]).filter("indexOf", ["$filter", function (a) {
        return function (a) {
            if (angular.isArray(a))return _.indexOf(a[0], a[1]) !== -1
        }
    }]).filter("activityIcon", ["$filter", function (a) {
        return function (a) {
            var b = a;
            return _.isUndefined(kzi.activity_icon[a]) || (b = kzi.activity_icon[a]), b
        }
    }]).filter("fullPath", ["$filter", function (a) {
        return function (a) {
            if (a)return 0 === a.indexOf("/img") ? a : 0 === a.indexOf("http://wt-avatars") ? a : 0 === a.indexOf("http://wt-prj") ? a : kzi.config.box_url + a
        }
    }]).filter("wtBox", ["$filter", function (a) {
        return function (a) {
            return a ? kzi.config.wtbox_url + a : kzi.config.default_box
        }
    }]).filter("wtBoxDownload", ["$filter", function (a) {
        return function (a) {
            if (_.isEmpty(a))return kzi.config.default_box;
            var b = kzi.get_cookie("sid"), c = a.pid, d = a.version ? a.version : "";
            return kzi.config.box_url() + "download/" + a.fid + "?pid=" + c + "&token=" + b + "&vid=" + d
        }
    }]).filter("inertPicFromBox", ["$filter", function (a) {
        return function (a) {
            if (_.isEmpty(a))return kzi.config.default_box;
            if (kzi.constant.image_exts.indexOf(a.ext) > -1) {
                var b = (kzi.get_cookie("sid"), a.pid);
                return kzi.config.box_url() + "view/" + a.fid + "?pid=" + b
            }
            return _.isUndefined(a.icon) ? void 0 : kzi.config.wtbox_url + a.icon
        }
    }]).filter("wtBoxView", ["$filter", function (a) {
        return function (a) {
            if (_.isEmpty(a))return kzi.config.default_box;
            if (kzi.constant.image_exts.indexOf(a.ext) > -1) {
                var b = kzi.get_cookie("sid"), c = a.pid;
                return kzi.config.box_url() + "view/" + a.fid + "?pid=" + c + "&token=" + b + "&dt=" + (a.dt || "")
            }
            return _.isUndefined(a.icon) ? void 0 : kzi.config.wtbox_url + a.icon
        }
    }]).filter("propsFilter", function () {
        return function (a, b) {
            var c = [];
            return angular.isArray(a) ? a.forEach(function (a) {
                for (var d = !1, e = Object.keys(b), f = 0; f < e.length; f++) {
                    var g = e[f], h = b[g].toLowerCase();
                    if (a[g].toString().toLowerCase().indexOf(h) !== -1) {
                        d = !0;
                        break
                    }
                }
                d && c.push(a)
            }) : c = a, c
        }
    }).filter("getFileIcon", [function () {
        return function (a) {
            return _.isEmpty(a) ? "" : kzi.helper.build_file_icon(a)
        }
    }]).filter("fileThumbSrcByExt", [function () {
        return function (a) {
            var a = a.toLowerCase();
            return ["doc", "docx"].indexOf(a) >= 0 ? "/img/icons/doc.png" : ["ppt", "pptx"].indexOf(a) >= 0 ? "/img/icons/ppt.png" : ["xls", "xlsx"].indexOf(a) >= 0 ? "/img/icons/xls.png" : "pdf" === a ? "/img/icons/pdf.png" : "txt" === a ? "/img/icons/txt.png" : "apk" === a ? "/img/icons/apk.png" : "bak" === a ? "/img/icons/bak.png" : "cs" === a ? "/img/icons/cs.png" : "csv" === a ? "/img/icons/csv.png" : "exe" === a ? "/img/icons/exe.png" : "fla" === a ? "/img/icons/fla.png" : "html" === a ? "/img/icons/html.png" : "ipa" === a ? "/img/icons/ipa.png" : "java" === a ? "/img/icons/java.png" : "js" === a ? "/img/icons/js.png" : "mp3" === a ? "/img/icons/mp3.png" : "mp4" === a ? "/img/icons/mp4.png" : "php" === a ? "/img/icons/php.png" : "rar" === a ? "/img/icons/rar.png" : "swf" === a ? "/img/icons/swf.png" : "ttf" === a ? "/img/icons/ttf.png" : "txt" === a ? "/img/icons/txt.png" : "vss" === a ? "/img/icons/vss.png" : "xsd" === a ? "/img/icons/xsd.png" : "zip" === a ? "/img/icons/zip.png" : "/img/icons/default.png"
        }
    }]).filter("filterMembers", ["$filter", function (a) {
        return function (a, b) {
            if (_.isEmpty(b))return a;
            var c = b.toLowerCase().trim();
            return _.filter(a, function (a) {
                return a.name.toLowerCase().indexOf(c) > -1 || a.display_name.toLowerCase().indexOf(c) > -1 || null != a.name_pinyin && a.name_pinyin.toLowerCase().indexOf(c) > -1
            })
        }
    }]).filter("filterMembersInfo", ["$filter", function (a) {
        return function (a, b) {
            if (_.isEmpty(b))return a;
            var c = b.toLowerCase().trim();
            return _.filter(a, function (a) {
                return a.name.toLowerCase().indexOf(c) > -1 || a.display_name.toLowerCase().indexOf(c) > -1 || null != a.email && a.email.toLowerCase().indexOf(c) > -1 || null != a.phone && a.phone.toLowerCase().indexOf(c) > -1 || null != a.name_pinyin && a.name_pinyin.toLowerCase().indexOf(c) > -1
            })
        }
    }]).filter("filterProjects", ["$filter", function (a) {
        return function (a, b) {
            if (_.isEmpty(b))return a;
            var c = b.toLowerCase().trim();
            return _.filter(a, function (a) {
                return a.name.toLowerCase().indexOf(c) > -1 || null != a.name_pinyin && a.name_pinyin.indexOf(c) > -1
            })
        }
    }]).filter("uploadFileExt", ["$translate", function (a) {
        return function (b) {
            return b.original.name.indexOf(".") !== -1 ? b.original.name.substring(b.original.name.lastIndexOf(".") + 1) : a.instant("common.txt_unknow")
        }
    }]).filter("fileExt", ["$translate", function (a) {
        return function (b) {
            if (b.type === kzi.constant.file_type.file) {
                if (kzi.constant.img_exts.indexOf(b.ext) > -1)return a.instant("common.txt_pic");
                var c = _.findKey(kzi.constant.exts, function (a, c) {
                    return a === b.ext
                });
                return c ? c : a.instant("common.txt_unknow")
            }
            return ""
        }
    }]).filter("fileSize", [function () {
        return function (a) {
            if (!_.isUndefined(a) && _.isNumber(parseInt(a, 10))) {
                var b = "K", c = a / 1024;
                return c > 1024 && (b = "M", c /= 1024), c.toFixed(2) + b
            }
            return ""
        }
    }]).filter("isFile", [function () {
        return function (a) {
            return a === kzi.constant.file_type.file
        }
    }]).filter("isFolder", [function () {
        return function (a) {
            return a === kzi.constant.file_type.folder
        }
    }]).filter("isImageFile", [function () {
        return function (a) {
            return !_.isEmpty(a) && "-1" === kzi.constant.get_file_icon(a)
        }
    }]).filter("isPreviewFile", [function () {
        return function (a) {
            return _.isEmpty(a) ? null : a.type && a.type === kzi.constant.file_type.folder ? 1 : _.contains(kzi.constant.img_exts, a.ext) ? 0 : _.contains(kzi.constant.text_exts, a.ext) || _.contains(kzi.constant.preview_exts, a.ext) ? 2 : null
        }
    }]).filter("teamIndustries", ["$translate", function (a) {
        return function (b) {
            return kzi.constant.team_industries[b] ? a.instant(kzi.constant.team_industries[b]) : a.instant("common.txt_unknow")
        }
    }]).filter("memberStatus", ["$translate", function (a) {
        return function (b) {
            switch (b) {
                case kzi.constant.status.pending:
                    return a.instant("filter.member_status_pending");
                case kzi.constant.status.ok:
                    return a.instant("filter.member_status_ok")
            }
        }
    }]).filter("projectStatus", ["$translate", function (a) {
        return function (b) {
            switch (b) {
                case kzi.constant.archived.yes:
                    return a.instant("filter.project_status_archive");
                case kzi.constant.archived.no:
                    return a.instant("filter.project_status_normal")
            }
        }
    }]).filter("fileuploadErrorInfo", ["$translate", function (a) {
        return function (b) {
            switch (b) {
                case"error":
                    return a.instant("filter.err_fileupload");
                default:
                    return b
            }
        }
    }]).filter("ifImgExtSetClass", [function () {
        return function (a) {
            var b = a[0], c = a[1];
            return kzi.constant.image_exts.indexOf(b) > -1 ? c : ""
        }
    }]).filter("getExtIcon", [function () {
        return function (a) {
            var b = {type: 2, ext: kzi.constant.get_ext(a.substring(a.lastIndexOf(".") + 1))};
            return kzi.config.wtbox_url + kzi.constant.get_file_icon(b)
        }
    }]).filter("appClientName", ["$translate", function (a) {
        return function (b) {
            switch (b.client_id) {
                case kzi.constant.client.android:
                    return a.instant("filter.app_client_name_android");
                case kzi.constant.client.iphone:
                    return a.instant("filter.app_client_name_iphone");
                case kzi.constant.client.openapp:
                    return b.name;
                default:
                    return ""
            }
        }
    }]).filter("GetClientEdition", ["$translate", function (a) {
        return function (b) {
            switch (b.client_id) {
                case kzi.constant.client.openapp:
                    return a.instant("filter.client_edition_openapp");
                default:
                    return a.instant("filter.client_edition_officail")
            }
        }
    }]).filter("projectVisibility", ["$translate", function (a) {
        return function (b) {
            switch (b) {
                case kzi.constant.prj_visibility.private:
                    return a.instant("filter.project_visibility_private");
                case kzi.constant.prj_visibility.protected:
                    return a.instant("filter.project_visibility_protected");
                case kzi.constant.prj_visibility.public:
                    return a.instant("filter.project_visibility_public");
                default:
                    return ""
            }
        }
    }]).filter("taskLockPermission", [function () {
        return function (a, b) {
            return !_.includes(_.union([a.uid], _.map(a.members, "uid"), _.map(a.watchers, "uid")), b.uid)
        }
    }]).filter("permission", [function () {
        return function (a, b) {
            return !(!a || !b) && a & b
        }
    }]).filter("teamVisibility", ["$translate", function (a) {
        return function (b) {
            switch (b) {
                case kzi.constant.team_visibility.private:
                    return a.instant("filter.team_visibility_private");
                case kzi.constant.team_visibility.public:
                    return a.instant("filter.team_visibility_public");
                default:
                    return ""
            }
        }
    }]).filter("clientName", ["$translate", function (a) {
        return function (b) {
            switch (b) {
                case kzi.constant.client.web:
                    return a.instant("filter.client_name_web");
                case kzi.constant.client.iphone:
                    return a.instant("filter.client_name_iphone");
                case kzi.constant.client.android:
                    return a.instant("filter.client_name_android");
                default:
                    return a.instant("common.unknow")
            }
        }
    }]).filter("weekName", ["$translate", function (a) {
        return function (b) {
            if (_.isArray(b)) {
                var c = [];
                return _.each(b, function (b) {
                    switch (b) {
                        case 1:
                            c.push(a.instant("common.week_ss1"));
                            break;
                        case 2:
                            c.push(a.instant("common.week_ss2"));
                            break;
                        case 3:
                            c.push(a.instant("common.week_ss3"));
                            break;
                        case 4:
                            c.push(a.instant("common.week_ss4"));
                            break;
                        case 5:
                            c.push(a.instant("common.week_ss5"));
                            break;
                        case 6:
                            c.push(a.instant("common.week_ss6"));
                            break;
                        case 0:
                            c.push(a.instant("common.week_ss7"))
                    }
                }), c.join("")
            }
            return a.instant("common.unknow")
        }
    }]).filter("encodeURIComponent", [function () {
        return function (a) {
            return encodeURIComponent(a)
        }
    }]).filter("escapeRegExp", [function () {
        return function (a) {
            return a.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&")
        }
    }]).filter("reHighlight", function () {
        return function (a, b, c) {
            return b || angular.isNumber(b) ? (a = a.toString(), b = b.toString(), c ? a.split(b).join('<span class="ui-match">' + b + "</span>") : a.replace(new RegExp(b, "gi"), '<span class="ui-match">$&</span>')) : a
        }
    })
}(), function () {
    angular.module("shared.config", ["w5c.validator"]).config(["$httpProvider", "$sceDelegateProvider", "$compileProvider", "w5cValidatorProvider", function (a, b, c, d) {
        delete a.defaults.headers.common["X-Requested-With"], b.resourceUrlWhitelist([kzi.config.box_url_regex(), kzi.config.wtbox_url, "self"]), c.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|file|webcal):/), a.interceptors.push(["$q", function (a) {
            return {
                request: function (a) {
                    return a.url.toLowerCase().indexOf("/api/") >= 0 && "GET" === a.method && (a.url.indexOf("?") > -1 ? a.url = a.url + "&dt=" + (new Date).getTime() : a.url = a.url + "?dt=" + (new Date).getTime()), a
                }, requestError: function (b) {
                    return a.reject(b)
                }, response: function (b) {
                    return b.config.url.toLowerCase().indexOf("/api/") >= 0 && (!b.data || 200 !== b.data.code) ? a.reject(b) : b
                }, responseError: function (b) {
                    return a.reject(b)
                }
            }
        }]), d.config({showError: !1, removeError: !1})
    }])
}();
var Heyoffline, addEvent, destroy, extend, setStyles, __bind = function (a, b) {
    return function () {
        return a.apply(b, arguments)
    }
};
extend = function (a, b) {
    var c;
    if (b)for (c in b)b[c] && b[c].constructor && b[c].constructor === Object ? (a[c] = a[c] || {}, arguments.callee(a[c], b[c])) : a[c] = b[c];
    return a
}, addEvent = function (a, b, c, d) {
    return null == d && (d = !1), a.addEventListener(b, c, d)
}, setStyles = function (a, b) {
    var c, d;
    d = [];
    for (c in b)d.push(a.style[c] = b[c]);
    return d
}, destroy = function (a) {
    return a.parentNode.removeChild(a)
}, Heyoffline = function () {
    function a(a) {
        this.hideMessage = __bind(this.hideMessage, this), this.offline = __bind(this.offline, this), this.online = __bind(this.online, this), extend(this.options, a), this.setup()
    }

    return a.prototype.version = "1.1.1", a.prototype.options = {
        text: {
            title: "You're currently offline",
            content: "Seems like you've gone offline,                you might want to wait until your network comes back before continuing.<br /><br />                This message will self-destruct once you're online again.",
            button: "Relax, I know what I'm doing"
        },
        monitorFields: !1,
        prefix: "heyoffline",
        noStyles: !1,
        disableDismiss: !1,
        elements: ["input", "select", "textarea", "*[contenteditable]"]
    }, a.prototype.modified = !1, a.prototype.setup = function () {
        return this.events = {
            element: ["keyup", "change"],
            network: ["online", "offline"]
        }, this.elements = {
            fields: document.querySelectorAll(this.options.elements.join(",")),
            overlay: document.createElement("div"),
            modal: document.createElement("div"),
            heading: document.createElement("h2"),
            content: document.createElement("p"),
            button: document.createElement("a")
        }, this.defaultStyles = {
            overlay: {
                position: "absolute",
                top: 0,
                left: 0,
                width: "100%",
                background: "rgba(0, 0, 0, 0.3)",
                zIndex: 500
            },
            modal: {
                padding: "15px",
                background: "#fff",
                boxShadow: "0 2px 30px rgba(0, 0, 0, 0.3)",
                width: "450px",
                margin: "0 auto",
                position: "relative",
                top: "30%",
                color: "#444",
                borderRadius: "2px",
                zIndex: 600
            },
            heading: {fontSize: "1.7em", paddingBottom: "15px"},
            content: {paddingBottom: "15px"},
            button: {fontWeight: "bold", cursor: "pointer"}
        }, this.attachEvents()
    }, a.prototype.createElements = function () {
        if (this.createElement(document.body, "overlay"), this.resizeOverlay(), this.createElement(this.elements.overlay, "modal"), this.createElement(this.elements.modal, "heading", this.options.text.title), this.createElement(this.elements.modal, "content", this.options.text.content), !this.options.disableDismiss)return this.createElement(this.elements.modal, "button", this.options.text.button), addEvent(this.elements.button, "click", this.hideMessage)
    }, a.prototype.createElement = function (a, b, c) {
        if (this.elements[b].setAttribute("class", "" + this.options.prefix + "_" + b), this.elements[b] = a.appendChild(this.elements[b]), c && (this.elements[b].innerHTML = c), !this.options.noStyles)return setStyles(this.elements[b], this.defaultStyles[b])
    }, a.prototype.resizeOverlay = function () {
        return setStyles(this.elements.overlay, {height: "" + window.innerHeight + "px"})
    }, a.prototype.destroyElements = function () {
        if (this.elements.overlay)return destroy(this.elements.overlay)
    }, a.prototype.attachEvents = function () {
        var a, b, c, d, e, f, g, h, i = this;
        for (g = this.elements.fields, c = 0, e = g.length; c < e; c++)b = g[c], this.elementEvents(b);
        for (h = this.events.network, d = 0, f = h.length; d < f; d++)a = h[d], this.networkEvents(a);
        return addEvent(window, "resize", function () {
            return i.resizeOverlay()
        })
    }, a.prototype.elementEvents = function (a) {
        var b, c, d, e, f, g = this;
        for (e = this.events.element, f = [], c = 0, d = e.length; c < d; c++)b = e[c], f.push(function (b) {
            return addEvent(a, b, function () {
                return g.modified = !0
            })
        }(b));
        return f
    }, a.prototype.networkEvents = function (a) {
        return addEvent(window, a, this[a])
    }, a.prototype.online = function (a) {
        return this.hideMessage()
    }, a.prototype.offline = function () {
        return this.options.monitorFields ? this.modified ? this.showMessage() : void 0 : this.showMessage()
    }, a.prototype.showMessage = function () {
        if (this.createElements(), this.options.onOnline)return this.options.onOnline.call(this)
    }, a.prototype.hideMessage = function (a) {
        if (a && a.preventDefault(), this.destroyElements(), this.options.onOffline)return this.options.onOffline.call(this)
    }, a
}();
var __whitespace = {" ": !0, "\t": !0, "\n": !0, "\f": !0, "\r": !0}, difflib = {
    defaultJunkFunction: function (a) {
        return __whitespace.hasOwnProperty(a)
    }, stripLinebreaks: function (a) {
        return a.replace(/^[\n\r]*|[\n\r]*$/g, "")
    }, stringAsLines: function (a) {
        for (var b = a.indexOf("\n"), c = a.indexOf("\r"), d = b > -1 && c > -1 || c < 0 ? "\n" : "\r", e = a.split(d), f = 0; f < e.length; f++)e[f] = difflib.stripLinebreaks(e[f]);
        return e
    }, __reduce: function (a, b, c) {
        if (null != c)var d = c, e = 0; else {
            if (!b)return null;
            var d = b[0], e = 1
        }
        for (; e < b.length; e++)d = a(d, b[e]);
        return d
    }, __ntuplecomp: function (a, b) {
        for (var c = Math.max(a.length, b.length), d = 0; d < c; d++) {
            if (a[d] < b[d])return -1;
            if (a[d] > b[d])return 1
        }
        return a.length == b.length ? 0 : a.length < b.length ? -1 : 1
    }, __calculate_ratio: function (a, b) {
        return b ? 2 * a / b : 1
    }, __isindict: function (a) {
        return function (b) {
            return a.hasOwnProperty(b)
        }
    }, __dictget: function (a, b, c) {
        return a.hasOwnProperty(b) ? a[b] : c
    }, SequenceMatcher: function (a, b, c) {
        this.set_seqs = function (a, b) {
            this.set_seq1(a), this.set_seq2(b)
        }, this.set_seq1 = function (a) {
            a != this.a && (this.a = a, this.matching_blocks = this.opcodes = null)
        }, this.set_seq2 = function (a) {
            a != this.b && (this.b = a, this.matching_blocks = this.opcodes = this.fullbcount = null, this.__chain_b())
        }, this.__chain_b = function () {
            for (var a = this.b, b = a.length, c = this.b2j = {}, d = {}, e = 0; e < a.length; e++) {
                var f = a[e];
                if (c.hasOwnProperty(f)) {
                    var g = c[f];
                    b >= 200 && 100 * g.length > b ? (d[f] = 1, delete c[f]) : g.push(e)
                } else c[f] = [e]
            }
            for (var f in d)d.hasOwnProperty(f) && delete c[f];
            var h = this.isjunk, i = {};
            if (h) {
                for (var f in d)d.hasOwnProperty(f) && h(f) && (i[f] = 1, delete d[f]);
                for (var f in c)c.hasOwnProperty(f) && h(f) && (i[f] = 1, delete c[f])
            }
            this.isbjunk = difflib.__isindict(i), this.isbpopular = difflib.__isindict(d)
        }, this.find_longest_match = function (a, b, c, d) {
            for (var e, f = this.a, g = this.b, h = this.b2j, i = this.isbjunk, j = a, k = c, l = 0, m = null, n = {}, o = [], p = a; p < b; p++) {
                var q = {}, r = difflib.__dictget(h, f[p], o);
                for (var s in r)if (r.hasOwnProperty(s)) {
                    if (m = r[s], m < c)continue;
                    if (m >= d)break;
                    q[m] = e = difflib.__dictget(n, m - 1, 0) + 1, e > l && (j = p - e + 1, k = m - e + 1, l = e)
                }
                n = q
            }
            for (; j > a && k > c && !i(g[k - 1]) && f[j - 1] == g[k - 1];)j--, k--, l++;
            for (; j + l < b && k + l < d && !i(g[k + l]) && f[j + l] == g[k + l];)l++;
            for (; j > a && k > c && i(g[k - 1]) && f[j - 1] == g[k - 1];)j--, k--, l++;
            for (; j + l < b && k + l < d && i(g[k + l]) && f[j + l] == g[k + l];)l++;
            return [j, k, l]
        }, this.get_matching_blocks = function () {
            if (null != this.matching_blocks)return this.matching_blocks;
            for (var a, b, c, d, e, f, g, h, i, j = this.a.length, k = this.b.length, l = [[0, j, 0, k]], m = []; l.length;)e = l.pop(), a = e[0], b = e[1], c = e[2], d = e[3], i = this.find_longest_match(a, b, c, d), f = i[0], g = i[1], h = i[2], h && (m.push(i), a < f && c < g && l.push([a, f, c, g]), f + h < b && g + h < d && l.push([f + h, b, g + h, d]));
            m.sort(difflib.__ntuplecomp);
            var n, o, p, q = 0, r = 0, s = 0, t = 0, u = [];
            for (var v in m)m.hasOwnProperty(v) && (t = m[v], n = t[0], o = t[1], p = t[2], q + s == n && r + s == o ? s += p : (s && u.push([q, r, s]), q = n, r = o, s = p));
            return s && u.push([q, r, s]), u.push([j, k, 0]), this.matching_blocks = u, this.matching_blocks
        }, this.get_opcodes = function () {
            if (null != this.opcodes)return this.opcodes;
            var a = 0, b = 0, c = [];
            this.opcodes = c;
            var d, e, f, g, h, i = this.get_matching_blocks();
            for (var j in i)i.hasOwnProperty(j) && (d = i[j], e = d[0], f = d[1], g = d[2], h = "", a < e && b < f ? h = "replace" : a < e ? h = "delete" : b < f && (h = "insert"), h && c.push([h, a, e, b, f]), a = e + g, b = f + g, g && c.push(["equal", e, a, f, b]));
            return c
        }, this.get_grouped_opcodes = function (a) {
            a || (a = 3);
            var b = this.get_opcodes();
            b || (b = [["equal", 0, 1, 0, 1]]);
            var c, d, e, f, g, h;
            "equal" == b[0][0] && (c = b[0], d = c[0], e = c[1], f = c[2], g = c[3], h = c[4], b[0] = [d, Math.max(e, f - a), f, Math.max(g, h - a), h]), "equal" == b[b.length - 1][0] && (c = b[b.length - 1], d = c[0], e = c[1], f = c[2], g = c[3], h = c[4], b[b.length - 1] = [d, e, Math.min(f, e + a), g, Math.min(h, g + a)]);
            var i = a + a, j = [], k = [];
            for (var l in b)b.hasOwnProperty(l) && (c = b[l], d = c[0], e = c[1], f = c[2], g = c[3], h = c[4], "equal" == d && f - e > i && (j.push([d, e, Math.min(f, e + a), g, Math.min(h, g + a)]), k.push(j), j = [], e = Math.max(e, f - a), g = Math.max(g, h - a)), j.push([d, e, f, g, h]));
            return !j || 1 == j.length && "equal" == j[0][0] || k.push(j), k
        }, this.ratio = function () {
            return matches = difflib.__reduce(function (a, b) {
                return a + b[b.length - 1]
            }, this.get_matching_blocks(), 0), difflib.__calculate_ratio(matches, this.a.length + this.b.length)
        }, this.quick_ratio = function () {
            var a, b;
            if (null == this.fullbcount) {
                this.fullbcount = a = {};
                for (var c = 0; c < this.b.length; c++)b = this.b[c], a[b] = difflib.__dictget(a, b, 0) + 1
            }
            a = this.fullbcount;
            for (var d = {}, e = difflib.__isindict(d), f = numb = 0, c = 0; c < this.a.length; c++)b = this.a[c], e(b) ? numb = d[b] : numb = difflib.__dictget(a, b, 0), d[b] = numb - 1, numb > 0 && f++;
            return difflib.__calculate_ratio(f, this.a.length + this.b.length)
        }, this.real_quick_ratio = function () {
            var a = this.a.length, b = this.b.length;
            return _calculate_ratio(Math.min(a, b), a + b)
        }, this.isjunk = c ? c : difflib.defaultJunkFunction, this.a = this.b = null, this.set_seqs(a, b)
    }
};
diffview = {
    buildView: function (a) {
        function b(a, b) {
            var c = document.createElement(a);
            return c.className = b, c
        }

        function c(a, b) {
            var c = document.createElement(a);
            return c.appendChild(document.createTextNode(b)), c
        }

        function d(a, b, c) {
            var d = document.createElement(a);
            return d.className = b, d.appendChild(document.createTextNode(c)), d
        }

        function e(a, e, f, g, h) {
            return e < f ? (a.appendChild(c("th", (e + 1).toString())), a.appendChild(d("td", h, g[e].replace(/\t/g, ""))), e + 1) : (a.appendChild(document.createElement("th")), a.appendChild(b("td", "empty")), e)
        }

        function f(a, b, e, f, g) {
            a.appendChild(c("th", null == b ? "" : (b + 1).toString())), a.appendChild(c("th", null == e ? "" : (e + 1).toString())), a.appendChild(d("td", g, f[null != b ? b : e].replace(/\t/g, "")))
        }

        var g = a.baseTextLines, h = a.newTextLines, i = a.opcodes, j = a.baseTextName ? a.baseTextName : "Base Text", k = a.newTextName ? a.newTextName : "New Text", l = a.contextSize, m = 0 == a.viewType || 1 == a.viewType ? a.viewType : 0;
        if (null == g)throw"Cannot build diff view; baseTextLines is not defined.";
        if (null == h)throw"Cannot build diff view; newTextLines is not defined.";
        if (!i)throw"Canno build diff view; opcodes is not defined.";
        var n = document.createElement("thead"), o = document.createElement("tr");
        n.appendChild(o), m ? (o.appendChild(document.createElement("th")), o.appendChild(document.createElement("th")), o.appendChild(d("th", "texttitle", j + " vs. " + k))) : (o.appendChild(document.createElement("th")), o.appendChild(d("th", "texttitle", j)), o.appendChild(document.createElement("th")), o.appendChild(d("th", "texttitle", k))), n = [n];
        for (var p, q = [], r = 0; r < i.length; r++) {
            code = i[r], change = code[0];
            for (var s = code[1], t = code[2], u = code[3], v = code[4], w = Math.max(t - s, v - u), x = [], y = [], z = 0; z < w; z++) {
                if (l && i.length > 1 && (r > 0 && z == l || 0 == r && 0 == z) && "equal" == change) {
                    var A = w - (0 == r ? 1 : 2) * l;
                    if (A > 1) {
                        if (x.push(o = document.createElement("tr")), s += A, u += A, z += A - 1, o.appendChild(c("th", "...")), m || o.appendChild(d("td", "skip", "")), o.appendChild(c("th", "...")), o.appendChild(d("td", "skip", "")), r + 1 == i.length)break;
                        continue
                    }
                }
                x.push(o = document.createElement("tr")), m ? "insert" == change ? f(o, null, u++, h, change) : "replace" == change ? (y.push(p = document.createElement("tr")), s < t && f(o, s++, null, g, "delete"), u < v && f(p, null, u++, h, "insert")) : "delete" == change ? f(o, s++, null, g, change) : f(o, s++, u++, g, change) : (s = e(o, s, t, g, change), u = e(o, u, v, h, change))
            }
            for (var z = 0; z < x.length; z++)q.push(x[z]);
            for (var z = 0; z < y.length; z++)q.push(y[z])
        }
        q.push(o = d("th", "author", " ")), o.setAttribute("colspan", m ? 3 : 4), n.push(o = document.createElement("tbody"));
        for (var r in q)q.hasOwnProperty(r) && o.appendChild(q[r]);
        o = b("table", "diff" + (m ? " inlinediff" : ""));
        for (var r in n)n.hasOwnProperty(r) && o.appendChild(n[r]);
        return o
    }
}, function () {
    "use strict";
    angular.module("ui.bootstrap.popbox", ["ui.bootstrap.position"]).provider("$popbox", [function () {
        var a = {
            placement: "top",
            align: null,
            animation: !0,
            popupDelay: 0,
            arrow: !1,
            popboxClass: "popbox",
            transitionClass: "fade",
            triggerClass: "in",
            popboxOpenClass: "popbox-open",
            resolve: {},
            backdropFade: !1,
            popboxFade: !1,
            keyboard: !0,
            backdropClick: !0,
            autoAdapt: !1
        }, b = {}, c = 2, d = 0;
        this.options = function (a) {
            b = a
        }, this.$get = ["$http", "$document", "$compile", "$rootScope", "$controller", "$templateCache", "$q", "$injector", "$uibPosition", "$timeout", function (e, f, g, h, i, j, k, l, m, n) {
            function o(a) {
                var b = angular.element("<div>");
                return b.addClass(a), b
            }

            function p(c) {
                var d = this, e = this.options = angular.extend({}, a, b, c);
                this._open = !1, this._target = $(d.options.target.target), $(this._target).hasClass("js-popbox") || $(this._target).parents(".js-popbox").length > 0 && (this._target = $(this._target).parents(".js-popbox").eq(0)), this.modalEl = o(e.popboxClass), e.popboxFade && (this.modalEl.addClass(e.transitionClass), this.modalEl.removeClass(e.triggerClass)), this.handledEscapeKey = function (a) {
                    if (27 === a.which) {
                        var b = d.modalEl.find(".ui-select-dropdown:visible");
                        if (b.length > 0)return b.scope().$select.open = !1, void d.$scope.$apply();
                        d.close(), a.preventDefault(), d.$scope.$apply()
                    }
                }, this.handledSortable = function (a) {
                    d.close(), d.$scope.$apply()
                }, this.handleBackDropClick = function (b) {
                    for (var c = b.target, e = !0; c;) {
                        if ($(c).hasClass("popbox") || $(c).hasClass("popbox-step-li") || $(c).hasClass("openpop") || $(c).hasClass("ui-select-container") || 0 != $(c).parents(".ui-select-container").length) {
                            e = !1;
                            break
                        }
                        c = c.parentNode
                    }
                    0 === $(b.target).parents("body").length && (e = !1), e && q.hasClass(a.popboxOpenClass) && (d.close(), b.preventDefault(), d.$scope.$apply())
                }, this.handleLocationChange = function () {
                    d.close()
                }
            }

            var q = f.find("body");
            return p.prototype.isOpen = function () {
                return this._open
            }, p.prototype.open = function (b, e) {
                var f = this, j = this.options, l = f.options.popboxClass, o = $("." + l.replace(" ", "."));
                if (q.hasClass(a.popboxOpenClass) && o.length > 0) {
                    if (this._target[0] === o.scope().popbox._target[0])return void o.each(function () {
                        0 === $(this).parents("body").length ? $(".popbox").remove() : $(this).scope().popbox.close()
                    });
                    $(".popbox").each(function () {
                        $(this).scope().popbox.close()
                    })
                }
                if (b && (j.templateUrl = b), e && (j.controller = e), !j.template && !j.templateUrl)throw new Error("Popbox.open expected template or templateUrl, neither found. Use options or open method to specify them.");
                return this._loadResolves().then(function (a) {
                    var b = a.$scope = f.$scope = a.$scope ? a.$scope : h.$new();
                    if (f.modalEl.html(a.$template), f.options.controller) {
                        var e = i(f.options.controller, a);
                        f.modalEl.children().data("ngControllerController", e)
                    }
                    f._addElementsToDom(), g(f.modalEl)(b), n(function () {
                        f.options.popboxFade && f.modalEl.addClass(f.options.triggerClass)
                    });
                    var j = kzi.util.docWidth(), k = kzi.util.docHeight(), l = kzi.util.docOuterWidth(), o = (kzi.util.docOuterHeight(), null), p = function () {
                        var a, b = {};
                        a = m.position(f._target), a.top = f.options.top || $(f._target).offset().top, a.left = f.options.left || $(f._target).offset().left, f.modalEl.css({display: "block"});
                        var e = $(f.modalEl).outerWidth(!0), g = $(f.modalEl).outerHeight(!0);
                        f.options.top && (a.height = 0), f.options.left && (a.width = 0);
                        var h = $(f._target).data("placement");
                        h || (h = f.options.placement);
                        var i = $(f._target).data("align");
                        i || (i = f.options.align);
                        var n = $(f._target).data("offset");
                        n = null == n ? c : parseInt(n, 10);
                        var p = {
                            set_box_placement_auto_lf: function () {
                                null !== h && "auto" !== h || (h = a.left < j / 2 ? "right" : "left")
                            }, set_box_align_auto_tb: function () {
                                "auto" === i && (i = a.top < k / 2 ? "top" : "bottom")
                            }, set_top_position: function () {
                                "top" === i ? b.top = ~~a.top : "bottom" === i ? b.bottom = k - a.top - a.height : a.top > k / 2 ? b.bottom = ~~(k - a.top - a.height / 2 - g / 2) : b.top = ~~(a.top + a.height / 2 - g / 2), void 0 !== b.top && null !== b.top && (b.top + g > k ? b.top = k - g - c : b.top < d && (b.top = d + c)), void 0 !== b.bottom && null !== b.bottom && (b.bottom < 0 ? b.bottom = c : b.bottom + g + d > k && (b.bottom = k - g - d))
                            }, set_left_position: function () {
                                "right" === i ? b.right = j - a.left - a.width : "left" === i ? b.left = a.left : b.left = a.left + a.width / 2 - e / 2, void 0 !== b.left && null !== b.left && (b.left <= 0 ? b.left = c : b.left + e > j && (b.left = "auto", b.right = c)), void 0 !== b.right && null !== b.right && (b.right < 0 ? b.right = c : b.right + e > j && (b.right = "auto", b.left = c))
                            }
                        };
                        switch (p.set_box_placement_auto_lf(), h) {
                            case"right":
                                p.set_top_position(), b.left = ~~(a.left + a.width + c), b.left + e > l && (b.left = "auto", b.right = ~~(l - a.left + c));
                                break;
                            case"left":
                                p.set_top_position(), b.right = ~~(j - a.left + c), b.right + e > l && (b.right = "auto", b.left = ~~(a.left + a.width + c));
                                break;
                            case"top":
                                p.set_left_position(), b.bottom = ~~(k - a.top + c), b.bottom + g > k - d && (b.bottom = void 0, b.top = ~~(a.top + a.height + c), b.top + g > k - d && (b.bottom = c, b.top = void 0)), void 0 === b.bottom && b.top + g > k && (b.top = a.top - ~~(g / 2), b.top < d && (b.top = d));
                                break;
                            case"bottom":
                                p.set_left_position(), b.top = ~~(a.top + a.height + n), b.top + g > k && (b.top = void 0, b.bottom = ~~(k - a.top + c), b.bottom + g > k - d && (b.top = ~~(k - d - g), b.bottom = void 0));
                                break;
                            default:
                                b = {
                                    top: ~~(a.top + a.height) + 2 + "px",
                                    left: ~~(a.left - a.width / 2) + "px"
                                }, f.options.placement = "bottom"
                        }
                        o = b, b = angular.extend({
                            left: "auto",
                            right: "auto"
                        }, b), f.modalEl.css(b), q.addClass(f.options.popboxOpenClass)
                    }, r = $(f._target).data("auto-adapt");
                    r ? f.$watcher = b.$watch(function () {
                        return $(f.modalEl).outerWidth(!0) + "," + $(f.modalEl).outerHeight(!0)
                    }, function () {
                        n(function () {
                            p()
                        }, 100)
                    }) : n(function () {
                        p()
                    }, 100), f._bindEvents()
                }), this.deferred = k.defer(), this.deferred.promise
            }, p.prototype.close = function (a, b) {
                var c = this;
                this._getFadingElements();
                _.isFunction(c.$watcher) && c.$watcher(), q.removeClass(c.options.popboxOpenClass), this._onCloseComplete(a, b)
            }, p.prototype._getFadingElements = function () {
                var a = [];
                return this.options.popboxFade && a.push(this.modalEl), a
            }, p.prototype._bindEvents = function () {
                this.options.keyboard && q.bind("keydown.popbox", this.handledEscapeKey), this.options.backdropClick && (q.bind("mousedown.popbox", this.handleBackDropClick), q.bind("sortstart.popbox", this.handledSortable)), this.modalEl.bind("click.popbox mousedown.popbox", function (a) {
                    a.target.href && "javascript:;" !== a.target.href || a.stopPropagation()
                }), this.$scope.$on("$locationChangeSuccess", this.handleLocationChange)
            }, p.prototype._unbindEvents = function () {
                this.options.keyboard && q.unbind("keydown.popbox", this.handledEscapeKey), this.options.backdropClick && q.unbind("mousedown.popbox", this.handleBackDropClick), q.unbind("sortstart.popbox", this.handledSortable)
            }, p.prototype._onCloseComplete = function (a, b) {
                this._removeElementsFromDom(), b || (this._unbindEvents(), this.$scope.$broadcast("$destroy")), this.deferred.resolve(a), angular.isFunction(this.options.onCloseComplete) && this.options.onCloseComplete()
            }, p.prototype._addElementsToDom = function () {
                $(this._target).addClass("openpop"), q.append(this.modalEl), this._open = !0
            }, p.prototype._removeElementsFromDom = function () {
                this._target.removeClass("openpop"), this.modalEl.remove(), this._open = !1
            }, p.prototype._loadResolves = function () {
                var a, b = [], c = [], d = this;
                return this.options.template ? a = k.when(this.options.template) : this.options.templateUrl && (a = e.get(this.options.templateUrl, {cache: j}).then(function (a) {
                    return a.data
                })), angular.forEach(this.options.resolve || [], function (a, d) {
                    c.push(d), b.push(angular.isString(a) ? l.get(a) : l.invoke(a))
                }), c.push("$template"), b.push(a), k.all(b).then(function (a) {
                    var b = {};
                    return angular.forEach(a, function (a, d) {
                        b[c[d]] = a
                    }), b.popbox = d, d.options.$scope && (b.$scope = d.options.$scope), b
                })
            }, {
                popbox: function (a) {
                    return new p(a)
                }
            }
        }]
    }])
}(), function () {
    "use strict";
    function a() {
        var a = kzi.config.feed_url(), b = null, c = null, d = null, e = null;
        return {
            onMessage: function (a) {
                e = a
            }, onPresence: function (a) {
                d = a
            }, getStatus: function () {
                return c
            }, connect: function (c, f) {
                b = io.connect(a, {transports: ["websocket"]}), b && (b.on("connect", function () {
                    console.log("Connect feed successfully."), d(c, kzi.constant.state.online)
                }), b.on("feed_message", e), b.on("error", function (a) {
                    console.log("error:", a), console.log("login failed"), d(c, kzi.constant.state.offline)
                }), b.on("connect_error", function (a) {
                    console.log("connect error:", a), d(c, kzi.constant.state.offline)
                }))
            }, getConnection: function () {
                return b
            }, getMyJid: function () {
            }, online: function () {
                b && b.emit("status", kzi.constant.state.online)
            }, leave: function () {
                b && b.emit("status", kzi.constant.state.leave)
            }, close: function () {
                b.disconnect()
            }
        }
    }

    angular.module("wt.feed", []).factory("feed", a), a.$inject = []
}(), function () {
    "use strict";
    function a(a, b, c) {
        function d() {
            var a = JSON.parse(kzi.localData.get("quickswitch_recentProject"));
            _.isArray(a) && (f.recent_projects = a)
        }

        var e = 5, f = this;
        f.contacts = [], f.teams = [], f.projects = [], f.star_projects = [], f.recent_projects = [], f.project_abstracts = null, f.project = {
            info: null,
            pid: "",
            entries: [],
            tasks: [],
            navigations: [],
            cal_events: [],
            cal_events_start: void 0,
            cal_events_end: void 0,
            events: []
        }, f._cache = {}, f.getTeam = function (a) {
            return _.find(f.teams, function (b) {
                return b && b.team_id === a
            })
        }, f.getProject = function (b) {
            var c = _.find(f.projects, {pid: b});
            if (c) {
                var d = a.defer();
                return d.resolve(c), d.promise
            }
            return wt.data.project.get(b).then(function (a) {
                return a.data.data.info
            })
        }, f.getPacketProjects = function (a) {
            var d = a;
            d instanceof Array || (d = f.projects);
            var e = [], g = [];
            return _.each(d, function (a) {
                if (kzi.constant.prj_module.crud & a.permission) {
                    var d = _.clone(a);
                    if (d.is_star)d.sort = 100, c.use(b.global.me.locale).then(function () {
                        d.team_name = c.instant("projects.project_type_name_star")
                    }), g.push(d); else {
                        if (f.teams) {
                            var h = _.find(f.teams, function (a) {
                                return a.team_id === d.team_id
                            });
                            c.use(b.global.me.locale).then(function () {
                                d.team_name = h ? h.name : c.instant("projects.project_type_name_personal")
                            }), d.sort = h && d.team_id !== -1 ? h.create_date : 1e3
                        }
                        e.push(d)
                    }
                }
            }), e = _.union(g, e), f.teams ? _.sortBy(e, function (a) {
                return a.sort
            }) : e
        }, f.setTeamProjects = function () {
            var a = _.find(f.projects, {team_id: "-1"}), b = _.find(f.teams, {team_id: "-1"});
            a && !b && f.teams.unshift({
                team_id: "-1",
                name: c.instant("projects.project_type_name_personal")
            }), !a && b && (f.teams = _.reject(f.teams, function (a) {
                return "-1" === a.team_id
            })), _.each(f.teams, function (a) {
                a.projects = _.where(f.projects, {team_id: a.team_id})
            })
        }, f.loadTeam = function (a) {
            var b = _.find(f.teams, {team_id: a});
            return b ? b : wt.data.team.summary(a).then(function (a) {
                return a.data.data.info
            }, function () {
                return null
            })
        }, f.loadTeamMembers = function (a) {
            return wt.data.team.get_team_members_basic(a).then(function (a) {
                return a.data.data
            }, function () {
                return null
            })
        }, f.loadFullProject = function (a, b, c, d) {
            return a === f.project.pid && f.project.info ? _.isFunction(c) ? c(f.project.info) : f.project.info : (b && (f.clearProject(), f.project.pid = a), wt.data.project.get_full(a, null, function () {
            }).then(function (a) {
                return a.data.data._is_full = !0, b && (f.project.info = a.data.data), c ? c(a.data.data) : a.data.data
            }, function (a) {
                return d ? d(a) : null
            }))
        }, f.loadProjectMembers = function (a, b) {
            return a === f.project.pid && f.project.info && !_.isEmpty(f.project.info.members) ? b(f.project.info.members) : void wt.data.project.get_members(a, function (a) {
                return b(a.data)
            })
        }, f.loadEntriesAndTasks = function (a, b, c) {
            return f.project.pid !== a || _.isEmpty(f.project.entries) ? void wt.data.entry.get_list(a, !1, function (c) {
                var d = _.sortBy(c.data.entries, function (a) {
                    return a.pos
                }), e = c.data.tasks;
                f.pid = a, f.project.entries = d, f.project.tasks = e, b(f.project)
            }, c, null, "globalDataContext-loadEntriesAndTasks") : b(f.project)
        }, f.reloadEntriesAndTasks = function (a, b) {
            wt.data.entry.get_list(a, !1, function (c) {
                var d = _.sortBy(c.data.entries, function (a) {
                    return a.pos
                }), e = c.data.tasks;
                f.pid = a, f.project.entries = d, f.project.tasks = e, b(f.project)
            }, null, null, "globalDataContext-reloadEntriesAndTasks")
        }, f.clearProject = function () {
            f.project.info = null, f.project.pid = "", f.project.entries = [], f.project.tasks = [], f.project.navigations = [], f.project.files = [], f.project.cal_events = [], f.project.cal_events_start = void 0, f.project.cal_events_end = void 0, f.project.events = []
        }, f.clearEntries = function () {
            f.project.entries = [], f.project.tasks = []
        }, f.loadEntries = function (a, b, c) {
            return f.project.pid !== a || _.isEmpty(f.project.entries) ? void wt.data.entry.get_list(a, !0, function (a) {
                var c = _.sortBy(a.data.entries, function (a) {
                    return a.pos
                });
                return b(c)
            }, c, null, "globalDataContext-loadEntries") : b(f.project.entries)
        }, f.loadTask = function (a, b, c, d, e) {
            var g = null;
            a !== f.project.pid || _.isEmpty(f.project.tasks) || (g = _.find(f.project.tasks, {tid: b})), g ? (c && c(g), e && e()) : wt.data.task.get(a, b, function (a) {
                c(a.data)
            }, d, e)
        }, f.loadCalEvents = function (a, b, c, d, e) {
            return f.project.pid === a && f.project.cal_events_start <= b && f.project.cal_events_end >= c ? d(f.project.cal_events) : void wt.data.event.get_list(a, b, c, function (a) {
                return f.project.cal_events_start = b, f.project.cal_events_end = c, _.each(a.data, function (a) {
                    a.allDay = !1, a.extend.recurrence_id && (a.editable = !1), a.start.length < 25 && (a.start = moment.unix(a.start).format("YYYY-MM-DDTHH:mm"), a.end = moment.unix(a.end).format("YYYY-MM-DDTHH:mm"))
                }), f.project.cal_events = a.data, d(f.project.cal_events)
            }, e)
        }, f.loadEvent = function (a, b, c, d, e) {
            var g = null;
            a !== f.project.pid || _.isEmpty(f.project.events) || (g = _.find(f.project.events, {event_id: b})), g ? (c && c(g), e && e()) : wt.data.event.get(a, b, function (a) {
                200 === a.code && (f.project.events.push(a.data), c(a.data))
            }, d, e)
        }, f.reloadUnread = function () {
            wt.data.notice.unread_count().success(function (a) {
                f.unread_count = a.count
            })
        }, f.changeUnreadCount = function (a) {
            b.global.unread_count = a
        }, f.readNotice = function (a) {
            a || (a = 1), b.global.unread_count >= a ? b.global.unread_count = b.global.unread_count - a : b.global.unread_count = 0
        }, f.loadProjectAbstracts = function (a) {
            return f.project_abstracts ? a(f.project_abstracts) : void wt.data.project.get_all_abstracts("visible", function (b) {
                f.project_abstracts = _(b.data).map(function (a) {
                    return [a.pid, a]
                }).zipObject().value(), a(f.project_abstracts)
            })
        }, f.loadAll = function () {
            if (!_.isEmpty(f.projects)) {
                var c = a.defer();
                return c.resolve(f), c.promise
            }
            return a.all([wt.data.team.get_list(), wt.data.project.get_all("active"), wt.data.notice.unread_count(), wt.data.account.get_contacts()]).then(function (a) {
                return _.map(a[0].data.data, function (a) {
                    var b = f.getTeam(a.team_id);
                    b ? (delete b.faked, _.extend(b, a)) : f.teams.push(a)
                }), f.projects = _.sortBy(a[1].data.data, function (a) {
                    return a.pos
                }), f.star_projects = _.filter(f.projects, function (a) {
                    return a.is_star
                }), b.global.unread_count = a[2].data.data, f.contacts = a[3].data.data, f.setTeamProjects(), f
            }, function (a) {
                return f
            })
        }, f.reloadTeams = function (a) {
            wt.data.team.get_list().success(function (b) {
                f.teams = b.data, f.setTeamProjects(), a && a()
            })
        }, f.resortProjects = function () {
            f.projects = _.sortBy(f.projects, function (a) {
                return a.pos
            }), f.setTeamProjects()
        }, f.reloadProjects = function (a) {
            wt.data.project.get_all("active", function (b) {
                f.projects = b.data, f.resortProjects(), a && a(f.projects)
            })
        }, f.getTeamsInCharge = function () {
            var a = _.filter(f.teams, function (a) {
                return 1 === a.curr_role && "-1" !== a.team_id || a.permission & kzi.constant.team_module.add_project
            });
            return a.unshift(_.find(f.teams, {team_id: "-1"})), a
        };
        var g = function (a, c) {
            if (f.projects && f.projects.length > 0 && _.each(f.projects, function (b) {
                    if (b.admins && b.admins.length > 0) {
                        var d = _.find(b.admins, {uid: a});
                        d && c(d)
                    }
                }), f.project.info && f.project.info.members) {
                var d = _.find(f.project.info.members, {uid: a});
                d && c(d), f.project.tasks && f.project.tasks.length > 0 && _.each(f.project.tasks, function (b) {
                    if (b.members && b.members.length > 0) {
                        var d = _.find(b.members, {uid: a});
                        d && c(d)
                    }
                })
            }
            c(b.global.me)
        };
        f.cache = {
            keep: function (a, b) {
                f._cache[a] = b
            }, get: function (a) {
                return f._cache[a]
            }, purge: function (a) {
                f._cache[a] = null
            }, project: {
                updateFull: function (a) {
                    a.pid === f.project.info.pid && (f.project.info.name = a.name, f.project.info.desc = a.desc, f.project.info.archived = a.archived, f.project.info.pic = a.pic, f.project.info.bg = a.bg, f.project.info.is_star = a.is_star, f.project.info.curr_role = a.curr_role, f.project.info.show_completed = a.show_completed, f.project.info.permission = a.permission);
                    var b = _.find(f.projects, {pid: a.pid});
                    b && (b.name = a.name, b.desc = a.desc, b.archived = a.archived, b.pic = a.pic, b.bg = a.bg, b.is_star = a.is_star, b.curr_role = a.curr_role, b.show_completed = a.show_completed, b.permission = a.permission)
                }, update: function (a, b, c, d, e, g) {
                    a === f.project.info.pid && (f.project.info.name = b, f.project.info.bg = c, f.project.info.pic = d, f.project.info.desc = e, f.project.info.visibility = g);
                    var h = _.find(f.projects, {pid: a});
                    h && (h.name = b, h.bg = c, h.pic = d, h.desc = e, h.visibility = g)
                }, change_navs: function (a, b) {
                    a === f.project.info.pid && (f.project.info.navs = b, wt.bus.project.get_navs(b, function (a) {
                        f.project.info.navigations = a
                    }));
                    var c = _.find(f.projects, {pid: a});
                    c && (c.navs = b, wt.bus.project.get_navs(b, function (a) {
                        c.navigations = a
                    }))
                }, add: function (a) {
                    var b = _.find(f.projects, {pid: a.pid});
                    b || f.projects.push(a), f.setTeamProjects()
                }, remove: function (a) {
                    a === f.project.info.pid && f.clearProject(), f.projects && f.projects.length > 0 && (f.projects = _.reject(f.projects, function (b) {
                        return b.pid === a
                    }), f.setTeamProjects())
                }, shift: function (a, b) {
                    if (f.project.info && f.project.info.pid === a) {
                        f.project.info.team_id = b, f.project.info.visibility === kzi.constant.prj_visibility.protected && b === -1 && (f.project.info.visibility = kzi.constant.prj_visibility.private);
                        var d = _.find(f.teams, {team_id: b});
                        d && (f.project.info.team = {
                            team_id: d.team_id,
                            name: d.name,
                            status: d.status,
                            is_owner: d.is_owner,
                            edition: d.edition
                        }), b === -1 && (f.project.info.team = {
                            team_id: -1,
                            name: c.instant("projects.project_type_name_personal"),
                            is_owner: 0
                        })
                    }
                    var e = _.find(f.projects, {pid: a});
                    e && (e.team_id = b, e.visibility === kzi.constant.prj_visibility.protected && b === -1 && (e.visibility = kzi.constant.prj_visibility.private), f.setTeamProjects())
                }, add_admin: function (a, b) {
                    if (f.projects && f.projects.length > 0) {
                        var c = _.find(f.projects, {pid: a});
                        if (c) {
                            var d = _.find(c.admins, {uid: b.uid});
                            d || c.admins.push(b)
                        }
                    }
                }, remove_admin: function (a, b) {
                    if (f.projects && f.projects.length > 0) {
                        var c = _.find(f.projects, {pid: a});
                        c && (c.admins = _.reject(c.admins, function (a) {
                            return a.uid === b.uid
                        }))
                    }
                }, set_star: function (a) {
                    f.getProject(a).then(function (c) {
                        return 1 === c.archived ? result : (c.is_star = c.is_star ? 0 : 1, void wt.data.project.set_prefs(c.pid, "is_star", c.is_star, function (d) {
                            f.project.info && a === f.project.info.pid && (f.project.info.is_star = c.is_star, f.project.info.star_pos = d.data), c.is_star ? f.star_projects.push(c) : f.star_projects = _.reject(f.star_projects, {pid: a}), b.$broadcast(kzi.constant.event_names.project_star_change, {
                                pid: a,
                                star_pos: d.data
                            })
                        }, function () {
                            c.is_star = c.is_star ? 0 : 1
                        }))
                    })
                }, set_favorite: function (a, b) {
                    f.project.info && a === f.project.info.pid && (f.project.info.is_favorite = b);
                    var c = _.find(f.projects, {pid: a});
                    c && (c.is_favorite = b)
                }, label_remove: function (a, b) {
                    if (f.project && f.project.pid === a) {
                        var c = _.filter(f.project.tasks, function (a) {
                            return a.labels.length > 0
                        }), d = _.map(c, "tid");
                        _.each(d, function (a) {
                            var c = _.find(f.project.tasks, {tid: a});
                            c.labels = _.reject(c.labels, function (a) {
                                return a.name === b
                            })
                        })
                    }
                }, member_remove: function (a, b) {
                    var c = _.find(f.projects, {pid: a});
                    c && c.members && _.remove(c.members, {uid: b}), f.project.pid == a && f.project.info && f.project.info.members && (_.remove(f.project.info.members, {uid: b}), _.forEach(f.project.tasks, function (a) {
                        _.remove(a.members, {uid: b}), _.remove(a.watchers, {uid: b})
                    }))
                }, label_rename: function (a, b) {
                    if (f.project && f.project.pid === a) {
                        var c = _.filter(f.project.tasks, function (a) {
                            return a.labels.length > 0
                        }), d = _.map(c, "tid");
                        _.each(d, function (a) {
                            var c = _.find(f.project.tasks, {tid: a});
                            $(c.labels).each(function (a, c) {
                                c.name === b.name && (c.desc = b.desc)
                            })
                        })
                    }
                }
            }, recent_projects: {
                add: function (a) {
                    _.findIndex(f.recent_projects, {pid: a.pid}) !== -1 && (f.recent_projects = _.reject(f.recent_projects, {pid: a.pid})), f.recent_projects.unshift(a), f.recent_projects = f.recent_projects.slice(0, e), kzi.localData.set("quickswitch_recentProject", JSON.stringify(f.recent_projects))
                }, remove: function (a) {
                    f.recent_projects = _.reject(f.recent_projects, {pid: a}), kzi.localData.set("quickswitch_recentProject", JSON.stringify(f.recent_projects))
                }
            }, team: {
                dismiss: function (a) {
                    var b = f.getTeam(a);
                    f.teams.splice(f.teams.indexOf(b), 1), f.projects = _.reject(f.projects, function (b) {
                        return b.team_id === a
                    }), f.setTeamProjects()
                }, sync: function (a, b) {
                    var c = f.getTeam(a);
                    _.map(b, function (a, b) {
                        void 0 !== c[b] && (c[b] = a)
                    })
                }, remove_member: function (a, b) {
                    var c = _.find(f.teams, {team_id: a});
                    c && (c.member_count = c.member_count - 1);
                    var d = _.reject(f.projects, function (b) {
                        return b.team_id === a
                    });
                    _.forEach(d, function (a) {
                        a.member_count = a.member_count - 1, a.members && (a.members = _.reject(a.members, {uid: b})), a.pid == f.project.pid && (f.project.info.members = _.reject(f.project.info.members, {uid: b}), _.forEach(f.project.tasks, function (a) {
                            a.members = _.reject(a.members, {uid: b})
                        }))
                    })
                }, leave: function (a) {
                    f.teams = _.reject(f.teams, function (b) {
                        return b.team_id === a
                    }), f.projects = _.reject(f.projects, function (b) {
                        return b.team_id === a
                    })
                }, update_base: function (a, b, c, d) {
                    var e = _.find(f.teams, {team_id: a});
                    e && (e.name = b, e.desc = c, e.url = d)
                }, set_logo: function (a, b) {
                    var c = _.find(f.teams, {team_id: a});
                    c && (c.pic = b)
                }, update_visibility: function (a, b) {
                    var c = _.find(f.teams, {team_id: a});
                    c && (c.visibility = b)
                }
            }, task: {
                add: function (a) {
                    if (null !== f.project.info && a.pid === f.project.info.pid) {
                        var b = _.find(f.project.tasks, {tid: a.tid});
                        b || f.project.tasks.push(a);
                        var c = _.find(f.project.entries, {entry_id: a.entry_id});
                        c && c.tasks && !_.find(c.tasks, {tid: a.tid}) && c.tasks.push(a)
                    }
                }, batch_add: function (a) {
                    if (null !== f.project.info && a[0].pid === f.project.info.pid) {
                        var b = _.find(f.project.entries, {entry_id: a[0].entry_id});
                        _.each(a, function (a) {
                            f.project.tasks.push(a), b && b.tasks && (b.tasks.push(a), b.tasks = _.sortBy(b.tasks, function (a) {
                                return a.pos
                            }))
                        })
                    }
                }, set_expire: function (a, b) {
                    var c = _.find(f.project.tasks, {tid: a});
                    c && (c.expire_date = b, c.update_date = Date.now(), c.badges.expire_date = b)
                }, move: function (a, b, c, d) {
                    var e = _.find(f.project.entries, {entry_id: d});
                    if (e) {
                        var g = _.find(f.project.tasks, {tid: a});
                        g.pos = b, g.update_date = Date.now(), c !== d && (g.entry_id = d)
                    }
                }, del: function (a) {
                    var b = _.find(f.project.tasks, {tid: a});
                    if (b) {
                        b.is_deleted = !0, b.update_date = Date.now();
                        var c = _.find(f.project.entries, {entry_id: b.entry_id});
                        c && c.tasks && (c.tasks = _.reject(c.tasks, function (b) {
                            return b.tid === a
                        }))
                    }
                    return f.project.tasks = _.reject(f.project.tasks, function (b) {
                        return b.tid === a
                    }), f.project.tasks
                }, archive: function (a) {
                    var b = _.find(f.project.tasks, {tid: a});
                    if (b) {
                        b.archived = !0, b.update_date = Date.now();
                        var c = _.find(f.project.entries, {entry_id: b.entry_id});
                        c && c.tasks && (c.tasks = _.reject(c.tasks, function (b) {
                            return b.tid === a
                        }))
                    }
                    return f.project.tasks = _.reject(f.project.tasks, function (b) {
                        return b.tid === a
                    }), f.project.tasks
                }, complete: function (a, b) {
                    var c = _.find(f.project.tasks, {tid: a});
                    c && (c.completed = b, c.update_date = Date.now())
                }, lock: function (a, b) {
                    var c = _.find(f.project.tasks, {tid: a});
                    c && (c.is_locked = b, c.update_date = Date.now())
                }, update_full: function (a) {
                    var b = _.find(f.project.tasks, {tid: a.tid});
                    if (b) {
                        b.name = a.name, b.desc = a.desc, b.pos = a.pos, b.completed = a.completed, b.is_expire = a.is_expire, b.expire_date = a.expire_date, b.update_date = a.update_date, b.badges = a.badges, b.labels = a.labels, b.members = a.members, b.watchers = a.watchers, b.todos = a.todos;
                        var c = _.find(f.project.entries, {entry_id: a.entry_id});
                        c && (b.entry_name = c.name)
                    }
                }
            }, entry: {
                add: function (a) {
                    var b = _.find(f.project.entries, {entry_id: a.entry_id});
                    b || f.project.entries.push(a)
                }, move: function (a, b, c) {
                    if (a === f.project.pid) {
                        var d = _.find(f.project.entries, {entry_id: b});
                        if (d)return d.pos = c, f.project.entries = _.sortBy(f.project.entries, function (a) {
                            return a.pos
                        }), f.project.entries
                    }
                }, del: function (a, b) {
                    if (a === f.project.pid) {
                        var c = _.find(f.project.entries, {entry_id: b});
                        return c && (f.project.entries = _.reject(f.project.entries, function (a) {
                            return a.entry_id === b
                        }), f.project.tasks = _.reject(f.project.tasks, function (a) {
                            return a.entry_id === b
                        })), f.project.entries
                    }
                }
            }, file: {
                del: function (a, b) {
                    var c = _.filter(f.project.tasks, function (a) {
                        return _.includes(a.fids, b)
                    });
                    _.each(c, function (a) {
                        a.files && (a.files = _.reject(a.files, {fid: b})), a.fids = _.without(a.fids, b)
                    })
                }
            }, event: {
                update: function (a, b, c) {
                    var d = _.find(f.project.events, {event_id: a.event_id});
                    if (b === kzi.constant.event_update_type.one) {
                        var e = _.find(f.project.cal_events, {id: a.event_id});
                        d && (d = a), e && (e.title = a.name, e.start = moment(a.start.date).format("YYYY-MM-DD HH:MM"), e.end = moment(a.end.date).format("YYYY-MM-DD HH:MM"))
                    }
                    if (b === kzi.constant.event_update_type.follow_up) {
                        var g = a.event_id, h = _.find(f.project.cal_events, {id: g}), i = moment(a.start.date) - moment(h.start), j = moment(a.end.date) - moment(h.end), k = _.filter(f.project.cal_events, {extend: {recurrence_id: a.recurrence_id}});
                        k = _.filter(k, function (a) {
                            return moment(h.start) <= moment(a.start)
                        }), _.each(k, function (b) {
                            b.title = a.name, b.extend.recurrence_id = c, 0 != i && (b.start = moment(b.start).add(i, "milliseconds").format("YYYY-MM-DDTHH:MM")), 0 != j && (b.end = moment(b.end).add(j, "milliseconds").format("YYYY-MM-DDTHH:MM"))
                        })
                    }
                }, update_date: function (a, c, d, e, g, h, i) {
                    var j = _.find(f.project.events, {event_id: c}), k = _.find(f.project.cal_events, {id: c});
                    wt.data.event.update_date(a, c, d, e, g, h, function (a) {
                        200 === a.code && (k && (k.start = d + "T" + e + ":00+08:00", k.end = g + "T" + h + ":00+08:00"), j && (j.start.date = parseInt(moment(d + "T" + e).format("x"), 10), j.start.time = e, j.start.time_zone = j.start.time_zone, j.end.date = parseInt(moment(g + "T" + h).format("x"), 10), j.end.time = h, j.end.time_zone = j.end.time_zone), b.$broadcast(kzi.constant.event_names.on_event_update_date, {
                            start_date: parseInt(moment(d + "T" + e).format("x"), 10),
                            end_date: parseInt(moment(g + "T" + h).format("x"), 10)
                        }))
                    })
                }, trash: function (a, b) {
                    var c = parseInt(b);
                    switch (f.project.events = _.reject(f.project.events, function (b) {
                        return b.event_id === a.event_id
                    }), c) {
                        case kzi.constant.event_trash_type.one:
                            f.project.cal_events = _.reject(f.project.cal_events, function (b) {
                                return b.id === a.event_id
                            });
                            break;
                        case kzi.constant.event_trash_type.follow_up:
                            f.project.cal_events = _.reject(f.project.cal_events, function (b) {
                                var c = new Date(b.start).getTime();
                                return c >= a.start.date && b.extend.recurrence_id === a.recurrence_id
                            });
                            break;
                        case kzi.constant.event_trash_type.all:
                            f.project.cal_events = _.reject(f.project.cal_events, function (b) {
                                return b.extend.recurrence_id === a.recurrence_id
                            })
                    }
                    return f.project.events
                }
            }, user: {
                avatar: function (a, b) {
                    g(a, function (a) {
                        a.avatar = b
                    })
                }, update: function (a, b, c) {
                    g(a, function (a) {
                        a.display_name = b, a.desc = c
                    })
                }, remove: function (a) {
                    f.project && f.project.info.members && f.project.info.members.length > 0 && (f.project.info.members = _.reject(f.project.info.members, function (b) {
                        return b.uid === a
                    }), f.project.tasks && f.project.tasks.length > 0 && (_.each(f.project.tasks, function (b) {
                        b.members && b.members.length > 0 && (b.members = _.reject(b.members, function (b) {
                            return b.uid === a
                        }))
                    }), b.$broadcast("socket_message_project_member_remove", {uid: a})))
                }, change_state: function (a, c) {
                    if (b.$broadcast(kzi.constant.event_names.member_state_change, {
                            uid: a,
                            state: c
                        }), f.project.info) {
                        var d = _.find(f.project.info.members, {uid: a});
                        d && (d.online = c)
                    }
                    b.global.me.uid === a && (b.global.me.online = c)
                }
            }
        }, d()
    }

    angular.module("wt.globalDataContext", []).service("globalDataContext", a), a.$inject = ["$q", "$rootScope", "$translate"]
}(), function () {
    "use strict";
    function a(a, b, c) {
        var d = null, e = null, f = this;
        f.isOpened = !1, f.pid = "", f.xtype = "", f.xid = "", f.comment_id = "", f.onStartOpen = function (a) {
            d = a
        }, f.onStartClose = function (a) {
            e = a
        }, f.open = function (a, b, c, e) {
            f.pid = a, f.xtype = b, f.xid = c, f.comment_id = e, d && d(f.isOpened), f.isOpened = !0
        }, f.openTask = function (a, b, c) {
            f.open(a, kzi.constant.xtype.task, b, c)
        }, f.openFile = function (a, b, c) {
            f.open(a, kzi.constant.xtype.file, b, c)
        }, f.openPost = function (a, b, c) {
            f.open(a, kzi.constant.xtype.post, b, c)
        }, f.openPage = function (a, b, c) {
            f.open(a, kzi.constant.xtype.page, b, c)
        }, f.openEvent = function (a, b, c) {
            f.open(a, kzi.constant.xtype.event, b, c)
        }, f.openMail = function (a, b) {
            f.open("", kzi.constant.xtype.email, a, b)
        }, f.openEntity = function (a, b, c) {
            switch (b.etype) {
                case kzi.constant.entity_type.task:
                    f.openTask(a, b.eid, c);
                    break;
                case kzi.constant.entity_type.file:
                    f.openFile(a, b.eid, c);
                    break;
                case kzi.constant.entity_type.post:
                    f.openPost(a, b.eid, c);
                    break;
                case kzi.constant.entity_type.page:
                    f.openPage(a, b.eid, c);
                    break;
                case kzi.constant.entity_type.event:
                    f.openEvent(a, b.eid, c);
                    break;
                case kzi.constant.entity_type.email:
                    f.openMail(b.eid, c)
            }
        }, f.toProject = function (a) {
            f.close(), b.go("project", {pid: a}, {reload: !0})
        }, f.toPath = function (a) {
            f.close(), c.path(a)
        }, f.close = function () {
            f.pid = "", f.xtype = "", f.xid = "", f.comment_id = "", f.isOpened = !1, e && e(), a.$broadcast(kzi.constant.event_names.on_slide_hide), a.global.is_scroll_comment = !0
        }
    }

    angular.module("wt.locator", []).service("locator", a), a.$inject = ["$rootScope", "$state", "$location"]
}(), function () {
    "use strict";
    angular.module("wt.temp_data", []).service("tempData", [function () {
        this.task = {}, this.file = {}, this.post = {}, this.page = {}, this.event = {}, this.comment = {}, this.ensure = function (a, b, c) {
            return this[a][b] = c, this[a][b]
        }, this.checkout = function (a, b) {
            return this[a][b]
        }, this.purge = function (a, b) {
            this[a][b] = null
        }
    }])
}(), function () {
    "use strict";
    function a(a, b, c, d, e, f) {
        var g = this;
        this.showAdd = function (g, h) {
            a.open({
                windowClass: "dialog-w680",
                templateUrl: "/app/js/service/project/dialog_project_create.html",
                controller: ["$scope", "$uibModalInstance", "$rootScope", function (a, i, j) {
                    function k() {
                        l.teams = wt.bus.team.get_add_prj_teams(b.teams)
                    }

                    var l = a.vm = {
                        new_project: {name: "", template_id: "", desc: "", team_id: g},
                        teams: [],
                        has_next: !1,
                        team_templates: [],
                        step_index: 0,
                        step_max: 2,
                        unassigned_team_members: [],
                        unassigned_team_visitors: [],
                        members_selected: []
                    };
                    k();
                    var m = function (a) {
                        _.each(l.unassigned_team_members, function (a) {
                            a.selected === !0 && l.members_selected.push(a)
                        }), _.each(l.unassigned_team_visitors, function (a) {
                            a.selected === !0 && l.members_selected.push(a)
                        }), l.members_selected = _.filter(l.members_selected, function (a) {
                            return "" !== a.email || null != a.phone && "" !== a.phone
                        });
                        var g = a.data;
                        f.track("create_project", "done", "", g.team_id === -1 ? "" : ""), wt.data.project.invite_members(g.pid, l.members_selected, function (b) {
                            g.member_count = 1 * b.data.length + 1, i.close(), h ? h(a.data) : c.go("project", {pid: a.data.pid})
                        }, function () {
                            kzi.msg.error(d.instant("project_service.err_invite_fail"))
                        }, function () {
                            b.cache.project.add(g), e.path("/project/" + g.pid)
                        })
                    }, n = function () {
                        return l.new_project.team_id ? (l.new_project.team_id && "-1" !== l.new_project.team_id ? (wt.data.team.get_project_templates(l.new_project.team_id).success(function (a) {
                            l.team_templates = a.data, _.each(l.team_templates, function (a) {
                                a.entrys = _.map(a.entries, "name").join(" - ")
                            }), l.new_project.template_id = l.team_templates[0].template_id
                        }), l.unassigned_team_members = [], l.unassigned_team_visitors = [], wt.data.team.get_team_members(l.new_project.team_id, function (a) {
                            a.data.members = _.reject(a.data.members, {status: kzi.constant.status.pending}), a.data.members = _.reject(a.data.members, {uid: j.global.me.uid}), _.each(a.data.members, function (a) {
                                a.role === kzi.constant.role.guest ? l.unassigned_team_visitors.push(a) : l.unassigned_team_members.push(a)
                            })
                        }, null, null), l.has_next = !0) : l.has_next = !1, l.visibilities = wt.bus.project.get_visibilities(l.new_project.team_id), void(l.new_project.visibility || (l.new_project.visibility = kzi.constant.prj_visibility.private))) : void(l.visibilities = [])
                    };
                    l.js_next_step = function () {
                        l.step_index > l.step_max || l.step_index++
                    }, l.js_project_add = function (a) {
                        l.saving || (l.saving = !0, "-1" === l.new_project.team_id || l.new_project.team_id === -1 ? wt.data.project.add_personal_project(l.new_project.name, l.new_project.desc, l.new_project.visibility, m, null, function () {
                            l.saving = !1
                        }) : l.step_index === l.step_max ? wt.data.project.add_team_project(l.new_project.team_id, l.new_project.name, l.new_project.desc, l.new_project.visibility, l.new_project.template_id, m, null, null) : (l.saving = !1, l.js_next_step()), a.preventDefault())
                    }, l.change_project_team = function () {
                        l.new_project.visibility = kzi.constant.prj_visibility.private, n()
                    }, l.js_contact_add_all = function () {
                        var a = _.filter(l.unassigned_team_members, function (a) {
                            return a.selected !== !0
                        });
                        a = _.map(a, "uid"), _.each(a, function (a) {
                            l.js_contact_selected_toggle(a)
                        })
                    }, l.js_contact_selected_toggle = function (a) {
                        _.filter(l.unassigned_team_members, function (b) {
                            b.uid === a && (b.selected === !0 ? b.selected = !1 : b.selected = !0)
                        }), _.filter(l.unassigned_team_visitors, function (b) {
                            b.uid === a && (b.selected === !0 ? b.selected = !1 : b.selected = !0)
                        })
                    }, l.close = function () {
                        i.close()
                    }, l.js_select_template = function (a) {
                        l.new_project.template_id = a.template_id
                    }, g && l.change_project_team()
                }]
            })
        }, this.showAddMember = function (c) {
            var e = a.open({
                windowClass: "dialog-w680",
                templateUrl: "/app/js/service/project/dialog_project_add_member.html",
                controller: ["$scope", "$rootScope", "$location", "bus", "$window", function (a, g, h, i, j) {
                    function k() {
                        if (l.project.link_join_code) {
                            l.invite_link_open = !0, l.invite_link = window.location.origin + "/project/link/join?code=" + l.project.link_join_code;
                            var a = [g.global.config.weixin_url(), "/member/join?join_code=", l.project.link_join_code].join("");
                            wt.data.utils.get_qrcode(a, 6, null, function (a) {
                                l.invite_qrcode = a
                            })
                        }
                        return "-1" === l.project.team_id || l.project.team_id === -1 ? void(l.part_loading_done = !0) : void b.loadTeamMembers(l.project.team_id).then(function (a) {
                            var b = _.map(l.project.members, "uid");
                            a = _.reject(a, {status: kzi.constant.status.pending}), a = _.reject(a, {uid: g.global.me.uid}), _.each(a, function (a) {
                                b.indexOf(a.uid) < 0 ? a.role === kzi.constant.role.guest ? l.unassigned_team_visitors.push(a) : l.unassigned_team_members.push(a) : l.contact_members_exist.push(a)
                            }), _.each(l.project.members, function (a) {
                                !_.find(l.contact_members_exist), {uid: a.uid} && l.contact_members_exist.push(a)
                            }), l.part_loading_done = !0
                        })
                    }

                    var l = a.vm = {
                        part_loading_done: !1,
                        prj_id: c.pid,
                        project: c,
                        step_index: 1,
                        filter_contacts_input: void 0,
                        search_user_input: void 0,
                        visitors_fold: !0,
                        unassigned_team_members: [],
                        unassigned_team_visitors: [],
                        contact_members_exist: [],
                        contact_members_selected: [],
                        contact_members_invited: [],
                        is_searching: !1,
                        search_member: [],
                        error_show_not_support_phone: !1,
                        invite_message: d.instant("project_service.invite_message"),
                        invite_email_batch: [],
                        invite_email_batch_error: "",
                        invite_link_open: !1,
                        invite_link: "",
                        invite_qrcode: ""
                    };
                    k(), l.js_close = function () {
                        e.close()
                    }, l.js_step = function (a) {
                        l.step_index = a
                    }, l.change_keyword = function () {
                        l.search_member = [], l.error_show_not_support_phone = !1, l.is_searching = !1
                    }, l.js_search_member = function (a) {
                        g.global.constant.regex.phone_email.test(l.search_user_input) ? (l.is_searching = !0, wt.data.user.search_accurate_user(l.search_user_input, function (a) {
                            if (null == a.data) {
                                if (g.global.constant.regex.mobile.test(l.search_user_input))l.error_show_not_support_phone = !0; else if (g.global.constant.regex.email.test(l.search_user_input)) {
                                    var b = 1;
                                    (_.find(l.contact_members_exist, {email: l.search_user_input}) || _.find(l.contact_members_invited, {email: l.search_user_input})) && (b = 4);
                                    var c = l.search_user_input.substring(0, l.search_user_input.indexOf("@"));
                                    l.search_member = [{
                                        name: c,
                                        email: l.search_user_input,
                                        display_name: l.search_user_input,
                                        avatar: "default_avatar.png",
                                        status: b
                                    }]
                                }
                            } else _.find(l.contact_members_exist, {uid: a.data.uid}) ? a.data.status = 3 : a.data.status = 1, l.search_member = [a.data]
                        })) : ($('input[name="search_user_input"]').addClass("error"), kzi.msg.warn(d.instant("project_service.warn_phone_email_valid")))
                    }, l.js_contact_add_all = function () {
                        var a = [], b = _.map(l.unassigned_team_members, "uid");
                        _.each(b, function (b) {
                            a.push({uid: b, role: kzi.constant.role.member})
                        }), wt.data.project.add_members(l.prj_id, a, function (a) {
                            kzi.msg.success(d.instant("project_service.full_add_members_success")), _.each(l.unassigned_team_members, function (a) {
                                _.findIndex(l.contact_members_selected, {uid: a.uid}) === -1 && l.contact_members_selected.push(a), g.$broadcast(kzi.constant.event_names.project_add_member, {
                                    pid: l.prj_id,
                                    member: a
                                })
                            }), l.unassigned_team_members = []
                        }, function () {
                            kzi.msg.error(d.instant("project_service.full_add_members_fail"))
                        })
                    }, l.js_contact_add = function (a) {
                        var b = {};
                        if (_.isEmpty(a.uid)) {
                            var e = l.search_user_input.substring(0, l.search_user_input.indexOf("@"));
                            b = {
                                email: a.email,
                                phone: a.phone,
                                name: a.email,
                                display_name: e,
                                role: 2
                            }, wt.data.project.invite_members(l.prj_id, [b], function (e) {
                                kzi.msg.success(d.instant("project_service.invite_members_success")), l.search_user_input = "", l.search_member = [], _.find(l.contact_members_invited, {email: a.email}) || l.contact_members_invited.push(b), _.find(c.members, {email: a.email}) || (c.members.push(e.data[0]), f.track("project_invite", "done", "", "")), $('input[name="search_user_input"]').focus()
                            }, function (a) {
                                kzi.msg.error(d.instant("project_service.invite_members_fail"))
                            })
                        } else wt.data.project.add_member(l.prj_id, a.uid, kzi.constant.role.member, function (b) {
                            kzi.msg.success(d.instant("project_service.add_member_success")), l.project.members.push(b.data), l.contact_members_exist.push(b.data), l.contact_members_selected.push(b.data), l.search_member = [], l.is_searching = !1, _.findIndex(l.contact_members_selected, {uid: a.uid}) === -1 && (f.track("project_invite", "done", "", ""), l.contact_members_selected.push(a)), l.unassigned_team_members = _.reject(l.unassigned_team_members, function (b) {
                                return b.uid === a.uid
                            }), l.unassigned_team_visitors = _.reject(l.unassigned_team_visitors, function (b) {
                                return b.uid === a.uid
                            }), g.$broadcast(kzi.constant.event_names.project_add_member, {pid: l.prj_id, member: a})
                        }, function () {
                            kzi.msg.error(d.instant("project_service.add_member_fail"))
                        })
                    }, l.js_invite_link_open = function () {
                        wt.data.project.join_link_open(l.prj_id, function (a) {
                            l.project.link_join_code = a.data, l.invite_link_open = !0, l.invite_link = j.location.origin + "/project/link/join?code=" + l.project.link_join_code;
                            var b = [g.global.config.weixin_url(), "/member/join?join_code=", l.project.link_join_code].join("");
                            wt.data.utils.get_qrcode(b, 6, null, function (a) {
                                l.invite_qrcode = a
                            })
                        }, function () {
                            kzi.msg.error(d.instant("project_service.join_link_open_fail"))
                        })
                    }, l.js_toggle_visitors_fold = function () {
                        l.visitors_fold = !l.visitors_fold
                    }, l.js_invite_link_close = function () {
                        wt.data.project.join_link_close(l.prj_id, function () {
                            l.invite_link_open = !1, l.project.link_join_code = ""
                        }, function () {
                            kzi.msg.error(d.instant("project_service.join_link_close_fail"))
                        })
                    }
                }]
            })
        }, this.showSetting = function (e) {
            var f = a.open({
                windowClass: "dialog-w680",
                templateUrl: "/app/js/service/project/dialog_project_setting.html",
                controller: ["$scope", "$rootScope", "$location", "bus", "$window", function (a, h, i, j, k) {
                    function l() {
                    }

                    function l() {
                        d.use(h.global.me.locale).then(function () {
                            _.each(m.prj_navigations_all, function (a) {
                                a.title = d.instant(a.title), a.desc = d.instant(a.desc)
                            })
                        }), a.temp_prj = _.clone(m.project), a.visibilities = wt.bus.project.get_visibilities(m.project.team_id)
                    }

                    var m = a.vm = {
                        part_loading_done: !1,
                        prj_id: e.pid,
                        project: e,
                        step_index: 1,
                        filter_contacts_input: void 0,
                        search_user_input: void 0,
                        visitors_fold: !0,
                        unassigned_team_members: [],
                        unassigned_team_visitors: [],
                        contact_members_exist: [],
                        contact_members_selected: [],
                        contact_members_invited: [],
                        is_searching: !1,
                        search_member: [],
                        error_show_not_support_phone: !1,
                        pid: e.pid,
                        start_sort_nav: !1,
                        prj_navigations_all: kzi.constant.prj_navigations
                    };
                    m.js_toggle_star = function () {
                        b.cache.project.set_star(m.project.pid)
                    }, m.js_prj_update = function (c) {
                        a.temp_prj.name === m.project.name && a.temp_prj.bg === m.project.bg && a.temp_prj.pic === m.project.pic && a.temp_prj.desc === m.project.desc && a.temp_prj.visibility === m.project.visibility || (a.is_prj_saveing = !0, _.isEmpty(m.project.desc) && (m.project.desc = ""), wt.data.project.update(m.project.pid, a.temp_prj.name, a.temp_prj.bg, a.temp_prj.pic, a.temp_prj.desc, a.temp_prj.visibility, function () {
                            b.cache.project.update(m.project.pid, a.temp_prj.name, a.temp_prj.bg, a.temp_prj.pic, a.temp_prj.desc, a.temp_prj.visibility), kzi.msg.success(d.instant("project_service.update_project_success"))
                        }, function () {
                            kzi.msg.error(d.instant("project_service.update_project_fail"))
                        }, function () {
                            a.is_prj_saveing = !1
                        }))
                    }, a.prj_navigations_navids = _.clone(m.project.navs) || [], wt.bus.project.get_navs(m.project.navs, function (b) {
                        a.prj_navigations = b
                    }), wt.bus.project.get_un_navs(m.project.navs, function (b) {
                        a.un_prj_navigations = b
                    });
                    var n = _.clone(a.prj_navigations_navids);
                    a.js_navid_is_changed = function (a) {
                        return !_.isEqual(a, n)
                    }, m.js_nav_is_enabled = function (a) {
                        return _.contains(n, a)
                    }, m.js_toggle_autoarchive = function () {
                        var a = 1;
                        a = 1 === m.project.auto_archived ? 0 : 1, m.project.auto_archived = a, wt.data.project.set_prefs(m.pid, "auto_archived", a, function () {
                            var c = _.find(b.projects, {pid: m.pid});
                            c.auto_archived = a
                        })
                    }, m.js_toggle_show_task_aging = function () {
                        var a = 1;
                        a = 1 === m.project.show_task_aging ? 0 : 1, m.project.show_task_aging = a, wt.data.project.set_prefs(m.pid, "show_task_aging", a, function () {
                            var c = _.find(b.projects, {pid: m.pid});
                            c.show_task_aging = a
                        })
                    }, m.js_toggle_show_entry_number = function () {
                        var a = 1;
                        a = 1 === m.project.show_entry_number ? 0 : 1, m.project.show_entry_number = a, wt.data.project.set_prefs(m.pid, "show_entry_number", a, function () {
                            var c = _.find(b.projects, {pid: m.pid});
                            c.show_entry_number = a
                        })
                    }, m.js_toggle_show_done_task_in_event = function () {
                        var a = 1;
                        a = 1 === m.project.show_completed ? 0 : 1, m.project.show_completed = a, wt.data.project.set_prefs(m.pid, "show_completed", a, function () {
                        })
                    }, a.js_toggle_nav = function (e) {
                        if (!m.start_sort_nav) {
                            var f = _.indexOf(_.map(a.prj_navigations, "id"), e.id), g = _.indexOf(_.map(a.un_prj_navigations, "id"), e.id);
                            0 === a.prj_navigations_navids.length && (a.prj_navigations_navids = _.map(m.prj_navigations_all, "id"));
                            var i = _.indexOf(a.prj_navigations_navids, e.id);
                            if (e = _.omit(e, "$$hashKey", "__proto__"), f < 0)a.prj_navigations_navids.push(e.id), a.prj_navigations.push(e), a.un_prj_navigations.splice(g, 1); else {
                                if (1 === a.prj_navigations.length)return void kzi.msg.warn(d.instant("project_service.warn_must_one_module"));
                                if (a.prj_navigations_navids.splice(i, 1), a.un_prj_navigations.push(e), a.prj_navigations.splice(f, 1), h.global.project_iconmenu === e.name) {
                                    var j = "project." + _.map(a.prj_navigations, "name")[0];
                                    "project.page" === j && (j = "project.page.list"), c.go(j)
                                }
                            }
                            wt.data.project.change_navs(m.pid, a.prj_navigations_navids, function (c) {
                                b.cache.project.change_navs(m.pid, a.prj_navigations_navids), n = _.clone(a.prj_navigations_navids)
                            })
                        }
                    }, a.nav_sortable_options = {
                        containment: ".navigations-sort-body",
                        placeholder: "prj-nav-placeholder",
                        revert: 10,
                        dropOnEmpty: !0,
                        tolerance: "pointer",
                        distance: "4",
                        delay: "75",
                        connectWith: ".js_sortable",
                        start: function (a, b) {
                            m.start_sort_nav = !0, b.item.addClass("picked-up"), $(".prj-nav-placeholder").css({
                                height: b.item.css("height"),
                                width: b.item.width()
                            })
                        },
                        stop: function (c, d) {
                            m.start_sort_nav = !1, d.item.removeClass("picked-up");
                            var e = _.map(a.prj_navigations, "id");
                            a.js_navid_is_changed(e) === !0 && wt.data.project.change_navs(m.pid, e, function (a) {
                                n = e, b.cache.project.change_navs(m.pid, e)
                            })
                        }
                    }, m.toggle_email_notify = function () {
                        var a = m.project.is_notify ? 0 : 1;
                        wt.data.project.set_prefs(m.project.pid, "is_notify", a, function (b) {
                            1 === a ? kzi.msg.success(d.instant("project_service.email_notify_opened")) : kzi.msg.success(d.instant("project_service.email_notify_closed")), m.project.is_notify = a
                        }, function () {
                        })
                    }, m.js_open_project_copy = function () {
                        g.showCopy(m.project), m.js_close()
                    }, m.js_open_project_move = function () {
                        g.showMove(m.project), m.js_close()
                    }, m.js_open_project_archive = function () {
                        g.showArchive(m.project), m.js_close()
                    }, m.js_open_project_active = function () {
                        g.showActive(m.project), m.js_close()
                    }, m.js_open_project_del = function () {
                        g.showDel(m.project), m.js_close()
                    }, m.js_open_project_webhook = function () {
                        g.showWebhook(m.project), m.js_close()
                    }, m.js_open_project_createbymail = function () {
                        g.showCreateByMail(m.project), m.js_close()
                    }, l(), m.js_close = function () {
                        f.close()
                    }, m.js_step = function (a) {
                        m.step_index = a
                    }, l()
                }]
            })
        }, this.showLabels = function (b) {
            var c = a.open({
                windowClass: "dialog-w680",
                templateUrl: "/app/js/service/project/dialog_project_labels.html",
                controller: ["$scope", "$rootScope", "$location", "bus", "$window", function (a, d, e, f, g) {
                    function h() {
                    }

                    var i = a.vm = {part_loading_done: !1, prj_id: b.pid, project: b};
                    h(), i.js_close = function () {
                        c.close()
                    }
                }]
            })
        }, this.showTimingtasks = function (c) {
            var d = a.open({
                windowClass: "dialog-w680",
                templateUrl: "/app/js/service/project/dialog_project_timingtasks.html",
                controller: ["$scope", "$rootScope", "$location", "bus", "$window", "timingtaskService", function (a, e, f, g, h, i) {
                    function j() {
                        wt.data.timingtask.get_timingtasks(l.project.pid, function (a) {
                            l.prj_timingtasks = a.data
                        }, null, function () {
                            l.part_loading_done = !0
                        })
                    }

                    function k() {
                        b.loadEntries(l.project.pid, function (a) {
                            l.entries = a
                        })
                    }

                    var l = a.vm = {part_loading_done: !1, prj_id: c.pid, project: c, entries: [], prj_timingtasks: []};
                    j(), k(), a.$on(kzi.constant.event_names.show_project_setting_timingtask, function () {
                        j()
                    }), l.to_edit_mode = function (a) {
                        i.showAddEdit(a, null, l.entries)
                    }, l.js_close = function () {
                        d.close()
                    }, l.js_step = function (a) {
                        l.step_index = a
                    }
                }]
            })
        }, this.showCopy = function (c) {
            var e = a.open({
                windowClass: "dialog-w680",
                templateUrl: "/app/js/service/project/dialog_project_copy.html",
                controller: ["$scope", "$rootScope", "$location", "bus", "$window", function (a, f, g, h, i) {
                    function j() {
                    }

                    var k = a.vm = {
                        part_loading_done: !1,
                        prj_id: c.pid,
                        project: c,
                        is_prj_copying: !1,
                        visibility_options: [{
                            id: kzi.constant.prj_visibility.private,
                            name: d.instant("project_service.visibility_options_private")
                        }, {
                            id: kzi.constant.prj_visibility.protected,
                            name: d.instant("project_service.visibility_options_protected")
                        }, {
                            id: kzi.constant.prj_visibility.public,
                            name: d.instant("project_service.visibility_options_public")
                        }],
                        visibility_options2: [{
                            id: kzi.constant.prj_visibility.private,
                            name: d.instant("project_service.visibility_options_private")
                        }, {
                            id: kzi.constant.prj_visibility.public,
                            name: d.instant("project_service.visibility_options_public")
                        }]
                    };
                    a.prj_copy = {
                        name: "",
                        teams: b.getTeamsInCharge(),
                        dest_team: null,
                        keepTasks: !0,
                        keepFiles: !0,
                        keepPosts: !0,
                        keepPages: !0,
                        visibility_options: k.visibility_options,
                        selected_visibility: null
                    }, a.is_prj_copying = !1, a.js_prj_copy = function () {
                        var c = "";
                        a.vm.is_prj_copying = !0, wt.data.project.copy_project(k.project.pid, a.prj_copy.dest_team.team_id, a.prj_copy.name, a.prj_copy.keepTasks, a.prj_copy.keepFiles, a.prj_copy.keepPosts, a.prj_copy.keepPages, a.prj_copy.selected_visibility.id, function (a) {
                            c = a.data.pid, b.cache.project.add(a.data), kzi.msg.success(d.instant("project_service.copy_project_success"))
                        }, function (a) {
                            kzi.msg.error(d.instant("project_service.copy_project_fail"))
                        }, function () {
                            a.vm.is_prj_copying = !1, g.path("/project/" + c), k.js_close()
                        })
                    }, k.js_target_team_change = function (b) {
                        b.team_id === -1 ? a.prj_copy.visibility_options = k.visibility_options2 : a.prj_copy.visibility_options = k.visibility_options
                    }, j(), k.js_close = function () {
                        e.close()
                    }, k.js_step = function (a) {
                        k.step_index = a
                    }
                }]
            })
        }, this.showMove = function (c) {
            var e = a.open({
                windowClass: "dialog-w680",
                templateUrl: "/app/js/service/project/dialog_project_move.html",
                controller: ["$scope", "$rootScope", "$location", "bus", "$window", function (a, f, g, h, i) {
                    function j() {
                    }

                    var k = a.vm = {part_loading_done: !1, prj_id: c.pid, project: c};
                    a.teams = wt.bus.team.get_add_prj_teams(b.teams), a.to_team_id = k.project.team_id, k.set_transfer_to = function (b) {
                        a.to_team_id = b
                    }, k.transfer = function () {
                        _.isEmpty(a.to_team_id) || (a.is_transfering = !0, wt.data.project.transfer(k.project.pid, a.to_team_id, function () {
                            b.cache.project.shift(k.project.pid, a.to_team_id), kzi.msg.success(d.instant("project_service.move_project_success")), k.js_close()
                        }, function () {
                            kzi.msg.error(d.instant("project_service.move_project_fail"))
                        }, function () {
                            a.is_transfering = !1
                        }))
                    }, j(), k.js_close = function () {
                        e.close()
                    }, k.js_step = function (a) {
                        k.step_index = a
                    }
                }]
            })
        }, this.showExport = function (b) {
            var c = a.open({
                windowClass: "dialog-w680",
                templateUrl: "/app/js/service/project/dialog_project_export.html",
                controller: ["$scope", "$rootScope", "$location", "bus", "$window", function (a, d, e, f, g) {
                    function h() {
                    }

                    var i = a.vm = {part_loading_done: !1, prj_id: b.pid, project: b, export_type: "json"};
                    h(), i.js_close = function () {
                        c.close()
                    }, i.js_step = function (a) {
                        i.step_index = a
                    }
                }]
            })
        }, this.showWebhook = function (b) {
            var c = a.open({
                windowClass: "dialog-w680",
                templateUrl: "/app/js/service/project/dialog_project_webhook.html",
                controller: ["$scope", "$rootScope", "$location", "bus", "$window", "$popbox", function (a, e, f, g, h, i) {
                    function j() {
                        k.part_loading_done = !1, a.prj_webhooks = [], wt.data.webhook.get_webhooks(k.project.pid, function (b) {
                            var c = _.map(b.data, function (b) {
                                if (1 === b.is_every)return b;
                                var c = (b.actions.join(","), b.actions);
                                b.actions = _.map(a.webhook_action, function (a) {
                                    return b.actions.indexOf(a.action) > -1 ? a.action : ""
                                });
                                var d = _.map(c, function (b) {
                                    var c = _.find(a.webhook_action, {action: b});
                                    return c ? c.desc : ""
                                });
                                return b.actionsStr = "(" + d.join(",") + ")", b
                            });
                            a.prj_webhooks = c
                        }, null, function () {
                            k.part_loading_done = !0
                        })
                    }

                    var k = a.vm = {part_loading_done: !1, prj_id: b.pid, project: b, is_add: !1, pid: b.pid};
                    a.webhook_action = kzi.constant.actions, _.each(a.webhook_action, function (a) {
                        a.desc = d.instant(a.desc)
                    }), a.to_edit_webhook = function (b) {
                        k.is_add = !0, a.edit_webhook = _.clone(b)
                    }, a.to_add_webhook = function () {
                        k.is_add = !0, a.edit_webhook = {actions: []}, a.edit_webhook.is_every = 1
                    }, a.cancel_edit = function () {
                        k.is_add = !1
                    }, a.js_webhook_add_edit = function () {
                        if (a.edit_webhook.is_every = parseInt(a.edit_webhook.is_every), 1 !== a.edit_webhook.is_every) {
                            if (a.edit_webhook.actions = _.without(a.edit_webhook.actions, void 0, ""), 0 === a.edit_webhook.actions.length)return void kzi.msg.warn(d.instant("project_service.warn_add_webhook_action_require"));
                            a.edit_webhook.actions = _.uniq(a.edit_webhook.actions)
                        } else a.edit_webhook.actions = [];
                        a.edit_webhook.wid ? wt.data.webhook.change_webhook(k.pid, a.edit_webhook, function (a) {
                            kzi.msg.info(d.instant("project_service.edit_webhook_success")), k.is_add = !1, j()
                        }) : wt.data.webhook.add_webhook(k.pid, a.edit_webhook, function (a) {
                            kzi.msg.info(d.instant("project_service.add_webhook_success")), k.is_add = !1, j()
                        })
                    }, a.js_webhook_del = function (b, c) {
                        i.popbox({
                            target: b,
                            templateUrl: "/tpl/common/pop_delete_confirm.html",
                            controller: ["$rootScope", "$scope", "popbox", "pop_data", function (a, b, e, f) {
                                b.popbox = e, b.js_close = function () {
                                    e.close()
                                }, b.delete_message = d.instant("project_service.del_webhook_info"), b.delete_title = d.instant("project_service.del_webhook_title"), b.delete_button = d.instant("project_service.del_webhook_btn"), b.js_sure_delete = function () {
                                    b.is_deleting = !0, wt.data.webhook.del_webhook(k.pid, c.wid, function (a) {
                                        200 === a.code && (kzi.msg.info(d.instant("project_service.del_webhook_success")), f.scope.vm.is_add = !1, k.is_add = !1, j(), b.js_close())
                                    }, null, function () {
                                        b.is_deleting = !1
                                    })
                                }
                            }],
                            resolve: {
                                pop_data: function () {
                                    return {scope: a}
                                }
                            }
                        }).open()
                    }, j(), k.js_close = function () {
                        c.close()
                    }, k.js_step = function (a) {
                        k.step_index = a
                    }
                }]
            })
        }, this.showCreateByMail = function (b) {
            var c = a.open({
                windowClass: "dialog-w680",
                templateUrl: "/app/js/service/project/dialog_project_createbymail.html",
                controller: ["$scope", "$rootScope", "$location", "bus", "$window", function (a, d, e, f, g) {
                    function h() {
                    }

                    var i = a.vm = {
                        part_loading_done: !1,
                        prj_id: b.pid,
                        project: b,
                        mail_domain: kzi.constant.mail.domain
                    };
                    h(), i.js_close = function () {
                        c.close()
                    }, i.js_step = function (a) {
                        i.step_index = a
                    }
                }]
            })
        }, this.showQuit = function (c) {
            var e = a.open({
                windowClass: "dialog-w680",
                templateUrl: "/app/js/service/project/dialog_project_quit.html",
                controller: ["$scope", "$rootScope", "$location", "bus", "$window", function (a, f, g, h, i) {
                    function j() {
                    }

                    var k = a.vm = {
                        part_loading_done: !1,
                        prj_id: c.pid,
                        project: c
                    }, l = _.filter(k.project.members, function (a) {
                        return a.uid !== f.global.me.uid && a.role === kzi.constant.role.admin
                    });
                    a.has_other_admin = l.length > 0, a.js_prj_quit = function (c) {
                        c === k.project.name ? (a.is_quiting = !0, wt.data.project.member_leave(k.project.pid, function () {
                            b.cache.project.remove(k.project.pid), g.path("/dashboard"), kzi.msg.info(d.instant("project_service.quit_project_success", {project_name: k.project.name})), k.js_close()
                        }, null, function () {
                            a.is_quiting = !1
                        })) : kzi.msg.warn(d.instant("project_service.warn_name_valid_confirm_quit"))
                    }, j(), k.js_close = function () {
                        e.close()
                    }, k.js_step = function (a) {
                        k.step_index = a
                    }
                }]
            })
        }, this.showArchive = function (c) {
            var e = a.open({
                windowClass: "dialog-w680",
                templateUrl: "/app/js/service/project/dialog_project_archive.html",
                controller: ["$scope", "$rootScope", "$location", "bus", "$window", function (a, f, g, h, i) {
                    function j() {
                    }

                    var k = a.vm = {part_loading_done: !1, pid: c.pid, project: c, is_archiving: !1};
                    k.js_prj_archive = function () {
                        k.is_archiving = !0, wt.data.project.archive(k.pid, function () {
                            k.project.archived = 1, k.project.permission = kzi.constant.prj_module.view, b.cache.project.remove(k.pid), kzi.msg.success(d.instant("project_service.archive_success")), k.js_close()
                        }, null, function () {
                            k.is_archiving = !1
                        })
                    }, j(), k.js_close = function () {
                        e.close()
                    }, k.js_step = function (a) {
                        k.step_index = a
                    }
                }]
            })
        }, this.showActive = function (b) {
            var c = a.open({
                windowClass: "dialog-w680",
                templateUrl: "/app/js/service/project/dialog_project_active.html",
                controller: ["$scope", "globalDataContext", function (a, e) {
                    function f() {
                    }

                    var g = a.vm = {part_loading_done: !1, pid: b.pid, project: b, is_unarchiving: !1};
                    g.js_prj_unarchive = function () {
                        g.is_unarchiving = !0, wt.data.project.unarchive(g.pid, function () {
                            g.project.archived = 0, kzi.msg.success(d.instant("project_service.unarchive_success")), e.reloadProjects(function (a) {
                                var b = _.find(a, {pid: g.pid});
                                b && (g.project.permission = b.permission)
                            }), g.js_close()
                        }, null, function () {
                            g.is_unarchiving = !1
                        })
                    }, f(), g.js_close = function () {
                        c.close()
                    }, g.js_step = function (a) {
                        g.step_index = a
                    }
                }]
            })
        }, this.showDel = function (c) {
            var e = a.open({
                windowClass: "dialog-w680",
                templateUrl: "/app/js/service/project/dialog_project_del.html",
                controller: ["$scope", "$rootScope", "$location", "bus", "$window", function (a, f, g, h, i) {
                    function j() {
                    }

                    var k = a.vm = {part_loading_done: !1, pid: c.pid, project: c, is_deleting: !1};
                    k.js_prj_del = function (a) {
                        a === k.project.name ? (k.is_deleting = !0, wt.data.project.del(k.pid, function () {
                            b.cache.project.remove(k.pid), g.path("/dashboard"), k.js_close()
                        }, null, function () {
                            k.is_deleting = !1
                        })) : kzi.msg.warn(d.instant("project_service.warn_project_name_valid"))
                    }, j(), k.js_close = function () {
                        e.close()
                    }, k.js_step = function (a) {
                        k.step_index = a
                    }
                }]
            })
        }
    }

    angular.module("wt.service.project", []).service("projectService", a), a.$inject = ["$uibModal", "globalDataContext", "$state", "$translate", "$location", "ycTrack"]
}(), function () {
    "use strict";
    function a(a, b, c, d) {
        this.showAdd = function () {
            var e = a.open({
                windowClass: "dialog-w680",
                templateUrl: "/app/js/service/team/dialog_team_create.html",
                controller: ["$scope", "$rootScope", "$location", function (a, f, g) {
                    function h() {
                        j.is_first_landing || (j.team_invite_email = [{email: ""}]), j.all_industries = _.toArray(kzi.constant.team_industries), j.all_industries.splice(0, 1), _.each(j.all_industries, function (a, b) {
                            j.all_industries[b] = c.instant(a)
                        }), wt.data.account.get_contacts(function (a) {
                            j.contact_members = a.data
                        }, null, null)
                    }

                    function i() {
                        j.is_first_landing = !1, wt.me.is_new = "0", f.global.is_first_landing = !1
                    }

                    d.track("create_team", "visit");
                    var j = a.vm = {
                        step_index: 1,
                        step_max: 3,
                        team_name: "",
                        team_phone: "",
                        team_is_support: 0,
                        team_desc: "",
                        team_industry: null,
                        team_industry_text: null,
                        all_industries: [],
                        team_invite_email: [{email: ""}, {email: ""}],
                        contact_members: [],
                        contact_members_selected: [],
                        is_first_landing: "1" === wt.me.is_new
                    };
                    h(), j.js_close = function () {
                        e.close(), i()
                    }, j.js_next_step = function (a, b) {
                        if (!(j.step_index > j.step_max)) {
                            switch (j.step_index) {
                                case 2:
                                    b ? (j.team_invite_email = _.filter(j.team_invite_email, function (a) {
                                        return "" != a.email
                                    }), j.contact_members_selected = _.filter(j.contact_members, function (a) {
                                        return a.selected === !0
                                    })) : j.is_first_landing ? j.team_invite_email = [{email: ""}, {
                                        phone: "",
                                        email: ""
                                    }] : j.team_invite_email = [{email: ""}], j.contact_members_selected.unshift(f.global.me)
                            }
                            return j.step_index++, a.preventDefault(), !1
                        }
                    }, j.js_team_industy_change = function () {
                        _.each(kzi.constant.team_industries, function (a, b) {
                            c.instant(a) == j.team_industry_text && (j.team_industry = b)
                        })
                    }, j.js_contact_selected_toggle = function (a) {
                        _.each(j.contact_members, function (b) {
                            b.uid == a && (b.selected === !0 ? b.selected = !1 : b.selected = !0)
                        })
                    }, j.js_add_invite_member_input = function () {
                        j.team_invite_email.push({email: ""})
                    }, j.js_remove_email_textbox = function (a) {
                        j.team_invite_email.splice(a, 1)
                    }, j.js_team_add = function () {
                        j.saving = !0, j.contact_members.length > 0 && (_.each(j.contact_members, function (a) {
                            a.selected === !0 && j.team_invite_email.push(a)
                        }), j.team_invite_email = _.filter(j.team_invite_email, function (a) {
                            return "" != a.email
                        }));
                        var a = null;
                        wt.data.team.add(j.team_name, j.team_phone, j.team_is_support, j.team_desc, j.team_industry, function (e) {
                            if (d.track("create_team", "done", ""), a = e.data, 0 == j.team_invite_email.length && 0 == j.contact_members_selected.length)return a.member_count = 1, b.teams.push(a), void g.path("/teams/" + a.team_id);
                            var f = j.team_invite_email.concat(j.contact_members_selected);
                            wt.data.team.invite_member(a.team_id, f, "", [], function (b) {
                                d.track("team_invite", "done", ""), a.member_count = 1 * b.data.length + 1
                            }, function () {
                                kzi.msg.error(c.instant("team_service.err_invite_member"))
                            }, function () {
                                b.teams.push(a), g.path("/teams/" + a.team_id)
                            })
                        }, function (a) {
                            kzi.msg.error(c.instant("team_service.err_team_add"))
                        }, function () {
                            j.saving = !1, j.js_close()
                        })
                    }, e.result.then(null, function () {
                        i()
                    })
                }]
            })
        }, this.showAddMember = function (b, e) {
            var f = a.open({
                windowClass: "dialog-w680",
                templateUrl: "/app/js/service/team/dialog_team_add_member.html",
                controller: ["$scope", "$rootScope", "$location", "bus", "$window", function (a, e, g, h, i) {
                    function j() {
                        wt.data.account.get_contacts(function (a) {
                            if (b.members.length > 1) {
                                var c = _.map(b.members, "uid");
                                _.each(a.data, function (a) {
                                    _.includes(c, a.uid) ? k.contact_members_exist.push(a) : k.contact_members.push(a)
                                })
                            } else k.contact_members = a.data
                        }, null, function () {
                            k.part_loading_done = !0
                        }), wt.data.team.get_full(k.team_id, function (a) {
                            var b = a.data.info.link_join_code;
                            if ("" === b)k.invite_link_open = !1; else {
                                k.invite_link_open = !0, k.invite_link = i.location.origin + "/team/link/join?code=" + b;
                                var c = [e.global.config.weixin_url(), "/member/join?join_code=", b].join("");
                                wt.data.utils.get_qrcode(c, 6, null, function (a) {
                                    k.invite_qrcode = a
                                })
                            }
                        })
                    }

                    d.track("team_invite", "visit");
                    var k = a.vm = {
                        part_loading_done: !1,
                        team_id: b.team_id,
                        team: b,
                        step_index: 1,
                        search_user_input: void 0,
                        contact_members: [],
                        contact_members_exist: [],
                        contact_members_selected: [],
                        contact_members_invited: [],
                        filter_contacts_input: void 0,
                        is_searching: !1,
                        search_member: [],
                        error_show_not_support_phone: !1,
                        invite_message: c.instant("team_service.invite_message"),
                        is_sending: !1,
                        invite_email_batch: [],
                        invite_email_batch_error: "",
                        invite_link_open: !1,
                        invite_link: "",
                        invite_qrcode: ""
                    };
                    j(), k.js_close = function () {
                        f.close()
                    }, k.js_step = function (a) {
                        k.step_index = a
                    }, k.change_keyword = function () {
                        k.search_member = [], k.error_show_not_support_phone = !1, k.is_searching = !1
                    }, k.js_search_member = function (a) {
                        e.global.constant.regex.phone_email.test(k.search_user_input) ? (k.is_searching = !0, wt.data.user.search_accurate_user(k.search_user_input, function (a) {
                            if (null == a.data) {
                                if (e.global.constant.regex.mobile.test(k.search_user_input))k.error_show_not_support_phone = !0; else if (e.global.constant.regex.email.test(k.search_user_input)) {
                                    var b = 1;
                                    _.find(k.contact_members_exist, {email: k.search_user_input}) && (b = 4);
                                    var c = k.search_user_input.substring(0, k.search_user_input.indexOf("@"));
                                    k.search_member = [{
                                        name: c,
                                        email: k.search_user_input,
                                        display_name: k.search_user_input,
                                        avatar: "default_avatar.png",
                                        status: b
                                    }]
                                }
                            } else _.find(k.contact_members_exist, {uid: a.data.uid}) || a.data.uid === e.global.me.uid ? a.data.status = 3 : a.data.status = 2, k.search_member = [a.data]
                        })) : ($('input[name="search_user_input"]').addClass("error"), kzi.msg.warn(c.instant("team_service.warn_phone_email_valid")))
                    }, k.js_contact_add = function (a) {
                        var e = {};
                        if (_.isEmpty(a.uid)) {
                            var f = k.search_user_input.substring(0, k.search_user_input.indexOf("@"));
                            e = {email: a.email, phone: a.phone, name: f, display_name: f.toUpperCase(), role: 2}
                        } else e = {
                            uid: a.uid,
                            email: a.email,
                            phone: a.phone,
                            name: a.name,
                            display_name: a.display_name,
                            role: 2
                        };
                        wt.data.team.invite_member(k.team_id, [e], k.invite_message, [], function (f) {
                            _.isEmpty(a.uid) ? (kzi.msg.success(c.instant("team_service.invite_members_success_wait_email")), k.search_user_input = void 0, k.search_member = [], k.contact_members_invited.push(e), d.track("team_invite", "done", "", ""), $('input[name="search_user_input"]').focus()) : (_.findIndex(k.contact_members_selected, {uid: a.uid}) === -1 ? (kzi.msg.success(c.instant("team_service.invite_members_success")), k.contact_members_selected.push(a), d.track("team_invite", "done", "", "")) : kzi.msg.success(c.instant("team_service.invite_members_success")), k.search_member.length > 0 ? (k.search_user_input = void 0, k.search_member = [], $('input[name="search_user_input"]').focus()) : k.contact_members = _.filter(k.contact_members, function (a) {
                                return a.uid !== e.uid
                            })), _.find(b.members, function (b) {
                                return !_.isEmpty(a.uid) && b.uid === a.uid || !_.isEmpty(b.email) && b.email === a.email || !_.isEmpty(b.phone) && b.phone === a.phone
                            }) || b.members.push(a)
                        }, function (a) {
                            kzi.msg.error(c.instant("team_service.invite_members_fail"))
                        })
                    }, k.js_invite_email_batch = function () {
                        if (k.invite_email_batch_error = "", 0 === k.invite_email_batch.length)return void(k.invite_email_batch_error = c.instant("team_service.err_email_require"));
                        var a = k.invite_email_batch.split("\n"), e = [];
                        _.each(a, function (a) {
                            return kzi.validator.isEmail(a) ? void e.push({
                                email: a,
                                role: 2
                            }) : void(k.invite_email_batch_error = c.instant("team_service.err_email_valid"))
                        }), "" === k.invite_email_batch_error && wt.data.team.invite_member(k.team_id, e, k.invite_message, [], function (a) {
                            kzi.msg.success(c.instant("team_service.invite_members_success")), d.track("team_invite", "done", "", ""), k.invite_email_batch = "", _.each(a.data, function (a) {
                                a.status !== kzi.constant.status.pending ? _.find(k.contact_members_selected, {uid: a.uid}) || k.contact_members_selected.push(a) : _.find(k.contact_members_invited, {uid: a.uid}) || k.contact_members_invited.push(a), _.find(b.members, {email: a.email}) || b.members.push(a)
                            })
                        }, function (a) {
                            kzi.msg.error(c.instant("team_service.invite_members_fail"))
                        }, function () {
                            k.is_sending = !1
                        })
                    }, k.js_invite_link_open = function () {
                        wt.data.team.join_link_open(k.team_id, function (a) {
                            k.invite_link_open = !0, k.invite_link = window.location.origin + "/team/link/join?code=" + a.data;
                            var b = [e.global.config.weixin_url(), "/member/join?join_code=", a.data].join("");
                            wt.data.utils.get_qrcode(b, 6, null, function (a) {
                                k.invite_qrcode = a
                            })
                        }, function () {
                            kzi.msg.error(c.instant("team_service.join_link_open_fail"))
                        })
                    }, k.js_invite_link_close = function () {
                        wt.data.team.join_link_close(k.team_id, function () {
                            k.invite_link_open = !1
                        }, function () {
                            kzi.msg.error(c.instant("team_service.join_link_close_fail"))
                        })
                    }
                }]
            });
            f.result.then(function () {
                _.isFunction(e) && e(), f = void 0
            }, function () {
                _.isFunction(e) && e(), f = void 0
            })
        }
    }

    angular.module("wt.service.team", []).service("teamService", a), a.$inject = ["$uibModal", "globalDataContext", "$translate", "ycTrack"]
}(), function () {
    "use strict";
    function a(a, b, c, d, e, f) {
        this.showAdd = function (g, h, i) {
            return a.open({
                windowClass: "dialog-w680",
                templateUrl: "/app/js/service/entity/dialog_task_create.html",
                controller: ["$scope", "$uibModalInstance", "$rootScope", function (a, j, k) {
                    function l() {
                        a.projects = b.getPacketProjects();
                        var d = a.projects[0];
                        c.params.pid && "project_not_found" !== c.current.name && (d = _.find(a.projects, {pid: c.params.pid})), m.new_task.team_id = d.team_id, m.new_task.pid = d.pid, m.new_task.permission = d.permission, n(), h && (m.new_task.expire_date = moment(moment().format("YYYY-MM-DD") + " 23:59").valueOf()), i && m.new_task.members.push(k.global.me)
                    }

                    f.track("add_task", "visit");
                    var m = a.vm = {
                        show_date: h === !0,
                        follow_self: i === !0,
                        new_task: {members: [], expire_date: 0, is_locked: 0}
                    }, n = function () {
                        return m.new_task.pid ? void wt.data.entry.get_list(m.new_task.pid, !0, function (a) {
                            m.entries = a.data.entries, _.isEmpty(m.entries) || (m.new_task.entry_id = m.entries[0].entry_id)
                        }, null, null, "entity-task-set_entries") : void(m.entries = [])
                    };
                    m.js_toggle_member = function (a, b, c) {
                        b.assigned ? (b.assigned = !1, c.members = _.reject(c.members, {uid: b.uid})) : (b.assigned = !0, c.members.push(b))
                    }, m.change_task_project = function () {
                        m.new_task.entry_id = "", m.new_task.members = [], n()
                    }, m.create_task = function (a) {
                        if (!a.$valid)return a.doValidate();
                        if (!m.saving) {
                            m.saving = !0;
                            var d = kzi.helper.split_line(m.new_task.name), h = _.map(m.new_task.members, "uid");
                            wt.data.task.batch_add(m.new_task.pid, m.new_task.entry_id, "bottom", d, h, [], m.new_task.expire_date, m.new_task.is_locked, function (a) {
                                f.track("add_task", "done", ""), b.cache.task.batch_add(a.data);
                                var d = a.data[a.data.length - 1];
                                j.close(), k.$broadcast(kzi.constant.event_names.on_task_add, {task: a.data[0]}), g && c.go("project.task.detail", {
                                    pid: d.pid,
                                    tid: d.tid
                                })
                            }, function (a) {
                                7045 === a.code && kzi.msg.error(e.instant("task.name_too_large"))
                            }, function () {
                                m.saving = !1
                            })
                        }
                    }, m.close = function () {
                        j.close()
                    }, m.js_show_datepicker = function (a, b) {
                        d.popbox({
                            target: a,
                            templateUrl: "/ycjs/directive/datepicker/pop_task_datepicker.html",
                            controller: ["$scope", "popbox", function (a, c) {
                                a.popbox = c, b.expire_date ? b.expire_date_temp = moment(b.expire_date).format("YYYY-MM-DD HH:mm") : b.expire_date_temp = moment().format("YYYY-MM-DD") + " 23:59", a.task = b, a.js_close = function () {
                                    c.close()
                                }, a.js_today = function () {
                                    var b = moment().format("YYYY-MM-DD");
                                    a.set_expire(b)
                                }, a.js_tomorrow = function () {
                                    var b = moment().add(1, "days").format("YYYY-MM-DD");
                                    a.set_expire(b)
                                }, a.js_week = function () {
                                    var b = moment().endOf("week").format("YYYY-MM-DD");
                                    a.set_expire(b)
                                }, a.js_next_week = function () {
                                    var b = moment().add(7, "days").endOf("week").format("YYYY-MM-DD");
                                    a.set_expire(b)
                                }, a.js_month = function () {
                                    var b = moment().endOf("month").format("YYYY-MM-DD");
                                    a.set_expire(b)
                                }, a.js_set_expire = function (d) {
                                    var e = c.modalEl.find(".datepicker-timer");
                                    if ("23:59" === moment(b.expire_date).format("HH:mm") && e.find("select").length > 0) {
                                        var f = e.find("select.hour"), g = e.find("select.minute");
                                        d = moment(d).format("YYYY-MM-DD") + " " + f.find('option[value="' + f.val() + '"]').attr("label") + ":" + g.find('option[value="' + g.val() + '"]').attr("label")
                                    } else d = moment(d).format("YYYY-MM-DD") + " 23:59";
                                    a.set_expire(d)
                                }, a.js_cancel_expire = function () {
                                    task.expire_date = 0, task.badges.expire_date = 0, c.close()
                                }, a.set_expire = function (a) {
                                    "00:00" === moment(a).format("HH:mm") ? m.new_task.expire_date = moment(a).endOf("day").valueOf() : m.new_task.expire_date = moment(a).valueOf(), c.close()
                                }
                            }]
                        }).open()
                    }, m.js_toggle_lock = function (a) {
                        a.is_locked = 0 === a.is_locked ? 1 : 0
                    }, l()
                }]
            })
        }
    }

    angular.module("wt.service.task", []).service("taskService", a), a.$inject = ["$uibModal", "globalDataContext", "$state", "$popbox", "$translate", "ycTrack"]
}(), function () {
    "use strict";
    function a(a) {
        this.showAddEdit = function (b, c, d) {
            var e = a.open({
                windowClass: "dialog-w680",
                templateUrl: "/app/js/service/timingtask/dialog_timingtask_add.html",
                controller: ["$scope", "$rootScope", "$location", function (a, f, g) {
                    function h() {
                    }

                    var i = a.vm = {timingtask: b, task: c, entries: d};
                    h(), i.js_close = function () {
                        e.close()
                    }, e.result.then(null, function () {
                    })
                }]
            })
        }
    }

    function b(a, b, c) {
        return {
            restrict: "E",
            replace: !0,
            templateUrl: "/app/js/service/timingtask/add_edit_timingtask.html",
            scope: {
                vmTimingtask: "=timingtask",
                vmEntries: "=entries",
                vmTask: "=task",
                vmSaveAfter: "&saveAfter",
                vmClose: "&close"
            },
            link: function (d, e, f) {
                function g() {
                    if (d.vmTimingtask) {
                        h.timingtask = d.vmTimingtask;
                        var a = _.find(h.entries, {entry_id: h.timingtask.entry_id});
                        a && (h.timingtask.entry_name = a.name), 1 !== h.timingtask.recurrence && 3 !== h.timingtask.recurrence || _.each(d.vmTimingtask.repeat.weekdays, function (a) {
                            _.find(h.weeklys, {value: a}).check = !0
                        }), 4 === h.timingtask.recurrence && (h.temp_repeat_month_day = [d.vmTimingtask.repeat.month + c.instant("common.month"), d.vmTimingtask.repeat.day + c.instant("common.day")].join(" "))
                    } else h.timingtask.name = c.instant("service_timingtask.normal_name", {task_name: d.vmTask.name})
                }

                var h = d.vm = {
                    weeklys: [{
                        name: c.instant("common.week_ss1"),
                        value: 1,
                        check: !1
                    }, {name: c.instant("common.week_ss2"), value: 2, check: !1}, {
                        name: c.instant("common.week_ss3"),
                        value: 3,
                        check: !1
                    }, {name: c.instant("common.week_ss4"), value: 4, check: !1}, {
                        name: c.instant("common.week_ss5"),
                        value: 5,
                        check: !1
                    }, {name: c.instant("common.week_ss6"), value: 6, check: !1}, {
                        name: c.instant("common.week_ss7"),
                        value: 0,
                        check: !1
                    }],
                    entries: d.vmEntries,
                    task: d.vmTask,
                    timingtask: {
                        name: "",
                        recurrence: 99,
                        repeat: {month: moment().format("M"), day: moment().format("D"), weekdays: []},
                        entry_id: "",
                        entry_name: ""
                    },
                    temp_repeat_month_day: moment().format("MMM Do")
                };
                g(), h.js_change_entry = function () {
                    h.timingtask.entry_name = _.find(h.entries, {entry_id: h.timingtask.entry_id}).name
                }, h.js_pop_monthday = function (a) {
                    b.popbox({
                        target: a,
                        template: '<div wt-datepicker="vm.date" select="vm.js_change_date(val)"></div>',
                        controller: ["pop_data", "$scope", "popbox", function (a, b, c) {
                            b.popbox = c;
                            var d = b.vm = {date: [moment().format("YYYY"), a.scope.vm.timingtask.repeat.month, a.scope.vm.timingtask.repeat.day].join("-")};
                            d.js_close = function () {
                                c.close()
                            }, d.js_change_date = function (b) {
                                a.scope.vm.temp_repeat_month_day = moment(b).format("MMM Do"), a.scope.vm.timingtask.repeat.month = moment(b).format("M"), a.scope.vm.timingtask.repeat.day = moment(b).format("D"), d.js_close()
                            }
                        }],
                        resolve: {
                            pop_data: function () {
                                return {scope: d}
                            }
                        }
                    }).open()
                }, h.js_timingtask_add = function (b) {
                    if (h.timingtask.recurrence = parseInt(h.timingtask.recurrence), 1 === h.timingtask.recurrence || 3 === h.timingtask.recurrence) {
                        var e = _.filter(h.weeklys, {check: !0});
                        if (0 === e.length)return void kzi.msg.error(c.instant("service_timingtask.err_recurrence_require"));
                        h.timingtask.repeat.weekdays = _.map(e, "value")
                    }
                    h.timingtask.ttid ? wt.data.timingtask.update_timingtask(h.timingtask.ttid, h.timingtask.pid, h.timingtask, function (a) {
                        kzi.msg.success(c.instant("service_timingtask.success_save")), d.vmSaveAfter(), d.vmClose()
                    }, function (a) {
                        kzi.msg.error(c.instant("service_timingtask.fail_save", {code: a.code}))
                    }, null) : (h.timingtask.tid = h.task.tid, wt.data.timingtask.add_timingtask(h.task.pid, h.timingtask, function (b) {
                        kzi.msg.info(c.instant("service_timingtask.success_add")), a.$broadcast(kzi.constant.event_names.show_project_setting_timingtask), d.vmSaveAfter(), d.vmClose()
                    }))
                }, h.js_timingtask_del = function (a) {
                    b.popbox({
                        target: a,
                        templateUrl: "/tpl/common/pop_delete_confirm.html",
                        controller: ["$rootScope", "$scope", "popbox", "pop_data", function (a, b, d, e) {
                            b.popbox = d, b.js_close = function () {
                                d.close()
                            }, b.delete_message = c.instant("service_timingtask.del_desc"), b.delete_title = c.instant("service_timingtask.del_title"), b.delete_button = c.instant("service_timingtask.btn_del"), b.js_sure_delete = function () {
                                b.is_deleting = !0, wt.data.timingtask.del_timingtask(h.timingtask.pid, h.timingtask.ttid, function (d) {
                                    200 == d.code && (kzi.msg.info(c.instant("service_timingtask.success_del")), a.$broadcast(kzi.constant.event_names.show_project_setting_timingtask), e.scope.vmClose(), b.js_close())
                                }, null, function () {
                                    b.is_deleting = !1
                                })
                            }
                        }],
                        resolve: {
                            pop_data: function () {
                                return {scope: d}
                            }
                        }
                    }).open()
                }
            }
        }
    }

    angular.module("wt.service.timingtask", []).service("timingtaskService", a).directive("wtAddEditTimingtask", b), a.$inject = ["$uibModal"], b.$inject = ["$rootScope", "$popbox", "$translate"]
}(), function () {
    "use strict";
    function a(a, b, c, d, e, f, g) {
        this.showAdd = function () {
            a.open({
                windowClass: "dialog-w680",
                templateUrl: "/app/js/service/entity/dialog_file_create.html",
                controller: ["$rootScope", "$scope", "$uibModalInstance", "$wtUploadFile", function (a, h, i, j) {
                    var k = h.vm = {new_file: {pid: "", folder_id: ""}};
                    h.projects = b.getPacketProjects(), c.params.pid ? k.new_file.pid = c.params.pid : k.new_file.pid = h.projects[0].pid, c.params.folder_id && (k.new_file.folder_id = c.params.folder_id), k.file_select = function (a) {
                        if (!(a.length <= 0))if (k.new_file.original = a[0], k.new_file.original.type.indexOf("image") >= 0) {
                            var b = new FileReader;
                            b.onload = function (a) {
                                d(function () {
                                    k.new_file.src = a.target.result
                                })
                            }, b.readAsDataURL(k.new_file.original)
                        } else {
                            var c = k.new_file.original.name, f = c.substr(c.lastIndexOf(".") + 1);
                            k.new_file.src = e("fileThumbSrcByExt")(f)
                        }
                    }, k.js_upload_file = function () {
                        if (k.new_file.original) {
                            if (!k.new_file.pid)return void kzi.msg.info(f.instant("dialog_file_create.err_project_require"));
                            k.saving = !0, j.addFiles(k.new_file.pid, [{
                                original: k.new_file.original,
                                data: {
                                    target: "prj",
                                    type: "project",
                                    pid: k.new_file.pid,
                                    folder_id: k.new_file.folder_id
                                }
                            }], function (b, d) {
                                g.track("add_file", "done"), k.close(), d && d.file && d.file.fid && ("" === k.new_file.folder_id ? c.go("project.file.detail", {
                                    pid: k.new_file.pid,
                                    fid: d.file.fid
                                }) : c.go("project.folder.fileDetail", {
                                    pid: k.new_file.pid,
                                    folder_id: k.new_file.folder_id,
                                    fid: d.file.fid
                                })), a.$broadcast(kzi.constant.event_names.on_uploadfile_add, d)
                            })
                        }
                    }, k.close = function () {
                        i.close()
                    }
                }]
            })
        }
    }

    angular.module("wt.service.file", []).service("fileService", a), a.$inject = ["$uibModal", "globalDataContext", "$state", "$timeout", "$filter", "$translate", "ycTrack"]
}(), function () {
    "use strict";
    function a(a, b, c, d, e) {
        this.showAdd = function (f) {
            a.open({
                windowClass: "dialog-w680",
                templateUrl: "/app/js/service/entity/dialog_event_create.html",
                controller: ["$rootScope", "$scope", "$uibModalInstance", function (a, g, h) {
                    var i = g.vm = {saving: !1, new_event: {attendees: [_.clone(a.global.me)]}};
                    g.projects = b.getPacketProjects(), g.repeat_intervals = kzi.constant.event_repeat_intervals, _.each(g.repeat_intervals, function (a) {
                        a.desc = d.instant(a.desc)
                    }), i.new_event.repeat_interval = g.repeat_intervals[0];
                    var j = g.projects[0];
                    c.params.pid && (j = _.find(g.projects, {pid: c.params.pid})), i.new_event.team_id = j.team_id, i.new_event.pid = j.pid, i.new_event.permission = j.permission, i.change_event_project = function () {
                        i.new_event.attendees = [_.clone(a.global.me)]
                    }, i.js_toggle_member = function (a, b, c) {
                        b.setting_toggle_member !== !0 && (b.setting_toggle_member = !0, wt.bus.member.set_event_attendees_toggle(i.new_event.pid, i.new_event, b, function () {
                        }, null, function () {
                            b.setting_toggle_member = !1
                        }))
                    }, i.js_remove_attendee = function (a, b) {
                        i.new_event.attendees = _.reject(i.new_event.attendees, function (a) {
                            return a.uid === b.uid
                        })
                    }, i.js_attendee_all = function (a, b, c, d) {
                        wt.bus.member.event_attend_all(i.new_event.pid, i.new_event, b, null, null, d)
                    }, i.submit_create_event = function (b) {
                        i.saving = !0;
                        var g = _.map(i.new_event.attendees, "uid");
                        wt.data.event.add(i.new_event.pid, i.new_event.name, i.new_event.location, g, i.new_event.start_date, i.new_event.start_time, i.new_event.end_date, i.new_event.end_time, i.new_event.repeat_interval.key, function (b) {
                            e.track("add_event", "done", ""), i.close(), a.$broadcast(kzi.constant.event_names.on_event_add, b.data), f && c.go("project.event.detail", {
                                pid: i.new_event.pid,
                                event_id: b.data[0].event_id
                            }, {reload: !0})
                        }, function (a) {
                            13012 === a.code && kzi.msg.error(d.instant("event.name_too_large"))
                        }, function () {
                            i.saving = !1
                        })
                    }, i.close = function () {
                        h.close()
                    }
                }]
            })
        }
    }

    angular.module("wt.service.event", []).service("eventService", a), a.$inject = ["$uibModal", "globalDataContext", "$state", "$translate", "ycTrack"]
}(), function () {
    "use strict";
    function a(a, b) {
        this.showSearch = function (b, c) {
            a.popbox({
                target: b,
                templateUrl: "/app/js/service/entity/pop_search_linkentity.html",
                controller: ["$scope", "popbox", "$location", "globalDataContext", function (a, b, d, e) {
                    var f = a.vm = {linkentity_text: "", project_result: [], maxlength: 7, result: []};
                    a.popbox = b, f.js_close = function () {
                        b.close()
                    };
                    var g = void 0;
                    a.$watch("vm.linkentity_text", _.debounce(function (a) {
                        if ("" !== a && null != a) {
                            var b = _.filter(e.projects, function (b) {
                                return b.name.toLowerCase().indexOf(a.toLowerCase()) > -1
                            });
                            b.length > 0 ? (f.project_result = [], _.each(b, function (a) {
                                f.project_result.push({__type: "project", pid: a.pid, name: a.name})
                            })) : f.project_result = [], void 0 !== g && g.canceler.resolve(), g = wt.data.search.lname(a), g.promise.then(function (a) {
                                f.project_result.length > 0 ? f.result = f.project_result.concat(a.data.data) : f.result = a.data.data, f.result.length > f.maxlength && (f.result = f.result.slice(0, f.maxlength))
                            })
                        }
                    }), 500), f.js_insert_linkentity = function (a) {
                        var b = d.protocol() + "://" + d.host() + (80 === d.port() || 443 === d.port() ? "" : ":" + d.port());
                        switch (a.__type) {
                            case"project":
                                b = b + "/project/" + a.pid;
                                break;
                            case"task":
                                b = b + "/project/" + a.pid + "/task/" + a.tid;
                                break;
                            case"file":
                                b = b + "/project/" + a.pid + "/file/" + a.fid;
                                break;
                            case"folder":
                                b = b + "/project/" + a.pid + "/folder/" + a.fid;
                                break;
                            case"page":
                                b = b + "/project/" + a.pid + "/page/" + a.page_id;
                                break;
                            case"event":
                                b = b + "/project/" + a.pid + "/event/" + a.event_id;
                                break;
                            case"post":
                                b = b + "/project/" + a.pid + "/post/" + a.post_id
                        }
                        b = " [" + a.name + "](" + b + ") ", c(b, a), f.js_close()
                    }
                }]
            }).open()
        };
        var c = ["^", "(http|https)://", "(" + b.$$host + "|localhost|127.0.0.1|worktile.com|.*.worktile.com)", "(:[0-9]{0,4}|)"].join(""), d = c + "/project/([0-9a-z]{32}|[0-9a-z]{14})$", e = c + "/project/([0-9a-z]{32}|[0-9a-z]{14})/(task|file|folder|page|post|event)/([0-9a-z]{32}|[0-9a-z]{14})$";
        this.regexProject = new RegExp(d), this.regexEntity = new RegExp(e), this.parseProjectLink = function (a) {
            var b = this.regexProject.exec(a);
            return {type: "project", pid: b[4]}
        }, this.parseEntityLink = function (a) {
            var b = this.regexEntity.exec(a);
            return {type: b[5], pid: b[4], tid: b[6]}
        }
    }

    angular.module("wt.service.linkentity", []).service("linkentityService", a), a.$inject = ["$popbox", "$location"]
}(), function () {
    "use strict";
    function a(a, b, c, d, e, f, g, h) {
        var i = {
            quickcreate: "quickcreate",
            quickcreate_task: "quickcreate_task",
            quickswitch: "quickswitch",
            shortcutkey: "shortcutkey"
        }, j = this, k = j.current = {
            state: null,
            floatlayer: null
        }, l = [85, 71, 83, 78, 80, 84, 70], m = function (a) {
            a === kzi.constant.keyASCIIs.K && "keydown" === event.type && (k.floatlayer = f.toggle(), k.floatlayer ? (k.state = i.quickswitch, k.floatlayer.result.then(function () {
                k.state = null, k.floatlayer = null
            }, function () {
                k.state = null, k.floatlayer = null
            })) : k.state = null)
        }, n = function (a) {
            a === kzi.constant.keyASCIIs.T ? d.path("/project/" + c.pid + "/task") : a === kzi.constant.keyASCIIs.C ? d.path("/project/" + c.pid + "/post") : a === kzi.constant.keyASCIIs.F ? d.path("/project/" + c.pid + "/file") : a === kzi.constant.keyASCIIs.D ? d.path("/project/" + c.pid + "/page") : a === kzi.constant.keyASCIIs.A ? d.path("/project/" + c.pid + "/activity") : a === kzi.constant.keyASCIIs.E ? d.path("/project/" + c.pid + "/event") : a === kzi.constant.keyASCIIs.R ? d.path("/project/" + c.pid + "/trash") : a === kzi.constant.keyASCIIs.G && d.path("/project/" + c.pid + "/graph")
        }, o = function (b, c, d, e) {
            if (b === kzi.constant.keyASCIIs.ESC && a.global.leftmenu_current_expand && (a.global.leftmenu_current_expand = ""), d || c.shiftKey || c.ctrlKey || c.altKey || c.metaKey || !(l.indexOf(b) >= 0)) {
                if (a.global.leftmenu_current_expand) {
                    var f = [kzi.constant.keyASCIIs.VK_DOWN, kzi.constant.keyASCIIs.VK_UP, kzi.constant.keyASCIIs.ENTER];
                    return void(f.indexOf(b) >= 0 && a.$broadcast(kzi.constant.event_names.shortcut_key_select_prjs, {
                        keyCode: b, event: c
                    }))
                }
            } else a.$broadcast(kzi.constant.event_names.shortcut_key_left_menu, {keyCode: b, event: c});
            e || (b === kzi.constant.keyASCIIs.E ? a.$broadcast(kzi.constant.event_names.shortcut_key_to_edit) : b === kzi.constant.keyASCIIs.ESC && a.$broadcast(kzi.constant.event_names.shortcut_key_to_cancel), !c.ctrlKey && !c.altKey && !c.metaKey && $.inArray(b, kzi.constant.entry_shortcut_keys) > -1 && a.$broadcast(kzi.constant.event_names.shortcut_key_to_task, b), b !== kzi.constant.keyASCIIs.VK_DOWN || c.metaKey || a.$broadcast(kzi.constant.event_names.scroll_down, b), b === kzi.constant.keyASCIIs.VK_UP && a.$broadcast(kzi.constant.event_names.scroll_up, b), (b === kzi.constant.keyASCIIs.VK_PAGEDOWN || c.metaKey === !0 && b === kzi.constant.keyASCIIs.VK_DOWN) && a.$broadcast(kzi.constant.event_names.scroll_page_down), (b === kzi.constant.keyASCIIs.VK_PAGEUP || c.metaKey === !0 && b === kzi.constant.keyASCIIs.VK_UP) && a.$broadcast(kzi.constant.event_names.scroll_page_up), b === kzi.constant.keyASCIIs.L && c.ctrlKey === !0 && a.$broadcast(kzi.constant.event_names.page_go_full_screen))
        };
        this.showShortcutKeyDialog = function () {
            return k.state === i.shortcutkey ? void(k.floatlayer && k.floatlayer.close()) : (k.state = i.shortcutkey, k.floatlayer = e.open({
                templateUrl: "/app/js/service/shortcutkey/dialog_shortcutkey.html",
                controller: ["$scope", "$uibModalInstance", function (a, b) {
                    var d = a.vm = {keytip: window.navigator.userAgent.indexOf("Mac OS") === -1 ? "Ctrl" : ""}, e = c.pid;
                    _.isEmpty(e) ? a.pid = "all" : a.pid = e, d.js_close = function () {
                        b.dismiss("cancel")
                    }
                }],
                size: "lg",
                resolve: {}
            }), void k.floatlayer.result.then(function () {
                k.state = null, k.floatlayer = null
            }, function () {
                k.state = null, k.floatlayer = null
            }))
        }, this.init = function () {
            b.bind("keydown keypress", function (b) {
                a.$apply(function () {
                });
                var d = b.which || b.keyCode, e = b.target || b.srcElement, l = !1;
                if (d !== kzi.constant.keyASCIIs.VK_SPACE || "keypress" !== b.type) {
                    null === e || "INPUT" !== e.nodeName && "TEXTAREA" !== e.nodeName || (l = !0);
                    var p = !0;
                    if (window.navigator.userAgent.indexOf("Mac OS") !== -1 && (p = !1), p ? b.ctrlKey && !b.metaKey && !b.altKey && !b.shiftKey && $.inArray(d, kzi.constant.ctrl_cutover_keys) > -1 && m(d) : b.metaKey && !b.ctrlKey && !b.altKey && !b.shiftKey && $.inArray(d, kzi.constant.ctrl_cutover_keys) > -1 && m(d), !b.ctrlKey && !b.altKey && !b.metaKey && b.shiftKey && $.inArray(d, kzi.constant.shift_cutover_keys) > -1) {
                        if (l || k.state === i.shortcutkey)return;
                        if (d === kzi.constant.keyASCIIs.S && "keypress" === b.type && (k.floatlayer = f.toggle(), k.floatlayer ? (k.state = i.quickswitch, k.floatlayer.result.then(function () {
                                k.state = null, k.floatlayer = null
                            }, function () {
                                k.state = null, k.floatlayer = null
                            })) : k.state = null), d === kzi.constant.keyASCIIs.Q && "keypress" === b.type && (k.floatlayer = g.showAdd(!0), k.floatlayer ? (k.state = i.quickcreate_task, k.floatlayer.result.then(function () {
                                k.state = null, k.floatlayer = null
                            }, function () {
                                k.state = null, k.floatlayer = null
                            })) : k.state = null), _.isEmpty(c.pid))return;
                        "project_not_found" !== h.current.name && n(d, b)
                    } else if ($.inArray(d, kzi.constant.global_shortcut_keys) > -1 || $.inArray(d, kzi.constant.entry_shortcut_keys) > -1) {
                        if (d !== kzi.constant.keyASCIIs.ESC && l && !e.getAttributeNode("trigger-keydown"))return;
                        if (d === kzi.constant.keyASCIIs.ESC && b.preventDefault(), d !== kzi.constant.keyASCIIs.QuestionMark && d !== kzi.constant.keyASCIIs.Slash || j.showShortcutKeyDialog(), k.state === i.shortcutkey)return;
                        var q = !1, r = [".fancybox-wrap:visible", ".ui-select-dropdown:visible", ".popbox:visible", ".modal:visible", ".dropdown-menu:visible"];
                        _.forEach(r, function (a) {
                            $(a).length > 0 && (q = !0)
                        }), o(d, b, l, q)
                    }
                }
            })
        }
    }

    angular.module("wt.service.shortcutKey", []).service("shortcutKey", a), a.$inject = ["$rootScope", "$document", "$stateParams", "$location", "$uibModal", "quickSwitch", "taskService", "$state"]
}(), function () {
    "use strict";
    function a(a, b, c) {
        function d() {
            kzi.localData.get("quickswitch_recentOpen") && (f.recentOpen = JSON.parse(kzi.localData.get("quickswitch_recentOpen")), _.each(f.recentOpen, function (a) {
                a.is_current = !1
            })), b.$on("$stateChangeSuccess", function (a, b, d, e, h) {
                if (d.username) {
                    var i = _.find(c.contacts, {name: d.username});
                    _.findIndex(f.recentOpen, {uid: i.uid}) === -1 ? f.recentOpen.unshift({
                        uid: i.uid,
                        name: i.name,
                        display_name: i.display_name,
                        avatar: i.avatar
                    }) : (f.recentOpen = _.reject(f.recentOpen, {uid: i.uid}), f.recentOpen.unshift({
                        uid: i.uid,
                        name: i.name,
                        display_name: i.display_name,
                        avatar: i.avatar
                    })), f.recentOpen = f.recentOpen.slice(0, g), kzi.localData.set("quickswitch_recentOpen", JSON.stringify(f.recentOpen))
                } else d.pid && c.getProject(d.pid).then(function (a) {
                    _.findIndex(f.recentOpen, {pid: d.pid}) !== -1 && (f.recentOpen = _.reject(f.recentOpen, {pid: d.pid}));
                    var b = {pid: a.pid, name: a.name, bg: a.bg, pic: a.pic};
                    f.recentOpen.unshift(b), c.cache.recent_projects.add(b), f.recentOpen = f.recentOpen.slice(0, g), kzi.localData.set("quickswitch_recentOpen", JSON.stringify(f.recentOpen))
                })
            })
        }

        var e = null, f = this;
        f.recentOpen = [];
        var g = 5;
        d(), this.remove_recentOpen = function (a) {
            return a.uid ? f.recentOpen = _.reject(f.recentOpen, {uid: a.uid}) : a.pid && (f.recentOpen = _.reject(f.recentOpen, {pid: a.pid}), c.cache.recent_projects.remove(a.pid)), kzi.localData.set("quickswitch_recentOpen", JSON.stringify(f.recentOpen)), f.recentOpen
        }, this.toggle = function () {
            return e ? e.close() : (e = a.open({
                windowClass: "dialog-w530",
                templateUrl: "/app/js/service/quickswitch/quickswitch.html",
                controller: ["$scope", "$uibModalInstance", "recentOpen", "globalDataContext", "$state", "filterProjectsFilter", "locator", "wtScrollService", "$timeout", "filterMembersFilter", function (a, b, c, d, e, g, h, i, j, k) {
                    var l = a.vm = {
                        keytip: window.navigator.userAgent.indexOf("Mac OS") === -1 ? "Ctrl" : "",
                        keyword: "",
                        recentOpen: c,
                        projects: d.projects,
                        contacts: d.contacts,
                        projectsAbstracts: [],
                        searchMode: !1,
                        searching: !1,
                        results: [],
                        results_total: 0,
                        results_maxlength: 15
                    };
                    d.loadProjectAbstracts(function (a) {
                        l.projectsAbstracts = a
                    }), l.keySelectionOptions = {
                        scrollContainer: ".quickswitch-result",
                        itemSelector: ".result-item",
                        hoverClass: "current",
                        globalKey: !0,
                        callbacks: {
                            hover: function (a, b) {
                                if (b) {
                                    var c = angular.element(b).scope().item;
                                    l.js_mouseover_result(c)
                                }
                            }, select: function (a, b) {
                                if (!b)return void l.js_search(a);
                                var c = angular.element(b), d = c.scope().item;
                                switch (c.attr("rel")) {
                                    case"project":
                                        l.js_to_project(d);
                                        break;
                                    case"entity":
                                        l.js_to_entity(d);
                                        break;
                                    case"member":
                                        l.js_to_profile(d)
                                }
                            }
                        }
                    }, l.remove_recentOpen = function (a) {
                        l.recentOpen = f.remove_recentOpen(a)
                    }, l.js_to_project = function (a) {
                        e.go("project", {pid: a.pid}, {reload: !0}), f.toggle()
                    }, l.js_to_profile = function (a) {
                        e.go("profile.info", {username: a.name}, {reload: !0}), f.toggle()
                    }, l.js_to_entity = function (a) {
                        switch (a.__type) {
                            case"task":
                                h.openTask(a.pid, a.tid), f.toggle();
                                break;
                            case"event":
                                h.openEvent(a.pid, a.event_id), f.toggle();
                                break;
                            case"file":
                                a.type === kzi.constant.file_type.folder ? h.toPath("/project/" + a.pid + "/folder/" + a.fid) : h.openFile(a.pid, a.fid), f.toggle();
                                break;
                            case"post":
                                h.openPost(a.pid, a.post_id), f.toggle();
                                break;
                            case"page":
                                h.openPage(a.pid, a.page_id), f.toggle();
                                break;
                            case"mail":
                                h.openMail(a.mail_id), f.toggle()
                        }
                    }, l.js_go_more = function () {
                        f.toggle()
                    }, l.solve_entity_icon = function (a) {
                        var b;
                        switch (a.__type) {
                            case"task":
                                b = a.completed ? "fa fa-check-square" : "fa fa-square-o";
                                break;
                            case"event":
                                b = "fa fa-calendar-o";
                                break;
                            case"file":
                                b = a.type === kzi.constant.file_type.folder ? "fa fa-folder-o" : "fa fa-file-o";
                                break;
                            case"page":
                                b = "fa fa-file-text-o";
                                break;
                            case"post":
                                b = "fa fa-comment-o";
                                break;
                            case"mail":
                                b = "fa fa-envelope-o"
                        }
                        return b
                    }, l.solve_project = function (a) {
                        return _.find(l.projectsAbstracts, {pid: a})
                    }, l.entity_title = function (b) {
                        var c = "";
                        switch (b.__type) {
                            case"event":
                            case"file":
                            case"post":
                            case"page":
                            case"task":
                                c = b.name;
                                break;
                            case"mail":
                                c = b.subject
                        }
                        return a.tmpTitle = c.replace(/</g, "&lt;").replace(/>/g, "&gt;"), c = "" !== l.keyword ? a.$eval('tmpTitle|reHighlight:"' + l.keyword + '"') : a.tmpTitle
                    }, l.js_change_keyword = function () {
                        _.findIndex(l.recentOpen, {is_current: !0}) !== -1 && (_.find(l.recentOpen, {is_current: !0}).is_current = !1), _.findIndex(l.projects, {is_current: !0}) !== -1 && (_.find(l.projects, {is_current: !0}).is_current = !1), l.searchMode && (l.searchMode = !1, l.searching = !1, l.results = [])
                    }, l.js_search = function (a) {
                        return "" === l.keyword ? ($(".dialog-quickswitch").find(".search-area input").focus(), a.preventDefault(), !1) : (l.searchMode = !0, l.searching = !0, void wt.data.search.all(l.keyword, 1, {}, function (a) {
                            var b = {
                                tasks: "task",
                                events: "event",
                                files: "file",
                                pages: "page",
                                posts: "post",
                                mails: "mail"
                            };
                            l.results = a.data.results, l.results = _(l.results).map(function (a, c) {
                                    var d = b[c];
                                    return l.results_total += l.results[c].total || 0, _.each(l.results[c].data, function (a) {
                                        a.__type = d
                                    }), l.results[c].data
                                }).flatten().compact().sortByOrder(["__score", "update_date"], ["desc", "desc"]).uniq().value() || [], l.results = l.results.slice(0, l.results_maxlength)
                        }, null, function () {
                            l.searching = !1
                        }))
                    }, l.js_esc = function (a) {
                        if ("" === l.keyword) {
                            var b = _.findIndex(l.recentOpen, {is_current: !0});
                            b !== -1 && (l.recentOpen[b].is_current = !1, a.stopPropagation(), a.preventDefault())
                        } else if (l.searchMode === !1) {
                            var b = _.findIndex(l.projects, {is_current: !0});
                            b !== -1 && (l.projects[b].is_current = !1, a.stopPropagation(), a.preventDefault())
                        } else if (l.searchMode === !0) {
                            var b = _.findIndex(l.results, {is_current: !0});
                            b !== -1 && (l.results[b].is_current = !1, a.stopPropagation(), a.preventDefault())
                        }
                    }, l.js_mouseover_result = function (a) {
                        _.each(l.recentOpen, function (a) {
                            a.is_current = !1
                        }), _.each(l.projects, function (a) {
                            a.is_current = !1
                        }), _.each(l.contacts, function (a) {
                            a.is_current = !1
                        }), _.each(l.results, function (a) {
                            a.is_current = !1
                        }), a.is_current = !0
                    }, l.js_close = function () {
                        b.dismiss("cancel")
                    }
                }],
                resolve: {
                    recentOpen: function () {
                        return f.recentOpen
                    }
                }
            }), e.result.then(function () {
                e = null
            }, function () {
                e = null
            })), e
        }
    }

    angular.module("wt.service.quickSwitch", []).service("quickSwitch", a), a.$inject = ["$uibModal", "$rootScope", "globalDataContext"]
}(), function () {
    "use strict";
    function a(a, b, c, d, e, f) {
        function g() {
            null !== e && (h.profile = e)
        }

        var h = b.root_vm = {username: c.username, profile: null};
        d(function () {
            a.global.title = f.instant("profile.title_name", {username: h.username}), a.global.loading_done = !0
        }), g()
    }

    function b(a, b, c, d) {
        function e() {
            null !== c && f()
        }

        function f() {
            g.feeds_loading_done = !1, wt.data.profile.get_feeds(c.uid, 0, g.feedData.currentPage, kzi.config.default_count, function (a) {
                _.isEmpty(a.data) || (g.feedData.currentPage++, g.feedData.feeds = g.feedData.feeds.concat(a.data)), a.data.length < kzi.config.default_count ? g.feedData.hasMore = !1 : g.feedData.hasMore = !0
            }, null, function () {
                g.feeds_loading_done = !0
            })
        }

        var g = a.vm = {
            not_fount: !1,
            teams: d,
            feedData: {currentPage: 1, feeds: [], hasMore: !0},
            feeds_loading_done: !1
        };
        e(), g.js_load_more = function () {
            f()
        }
    }

    function c(a, b, c, d, e, f) {
        function g(a, c, d) {
            j.part_loading_done = !1;
            var d = d ? "yes" : "no";
            wt.data.profile.get_tasks(b.uid, a, c, d, function (a) {
                j.overview = a.overview, j.tasks = a.data, j.tasks_groupby = h(j.tasks, j.groupby)
            }, null, function () {
                j.part_loading_done = !0
            })
        }

        function h(a, b) {
            return "date" === b ? e.task.group_tasks_by_date(a) : "project" === b ? e.task.group_tasks_by_project(a) : void 0
        }

        function i() {
            null !== b && (j.teams = _.map(f, function (a) {
                return [a.team_id, a.name]
            }), j.teams = _.zipObject(j.teams), j.team_id = _.keys(j.teams)[0], g(j.team_id, j.filter, j.myassign))
        }

        var j = a.vm = {
            part_loading_done: !1,
            tasks: [],
            tasks_groupby: [],
            username: c.username,
            pop_member_options: "onlyinfo",
            overview: {uncompleted: 0, completed: 0, expired: 0},
            teams: [],
            team_id: "",
            groupby: "date",
            filter: "uncompleted",
            myassign: !1
        };
        j.js_pop_select_team = function (a, b, c, d) {
            j.team_id = b, g(j.team_id)
        }, j.js_set_groupby = function (a) {
            j.groupby = a, j.tasks_groupby = h(j.tasks, j.groupby)
        }, j.js_set_filter = function (a) {
            j.filter = a, g(j.team_id, j.filter, j.myassign)
        }, j.js_toggle_myassign = function () {
            j.myassign = !j.myassign, g(j.team_id, j.filter, j.myassign)
        }, i()
    }

    function d(a, b, c, d) {
        function e(a) {
            g.part_loading_done = !1, wt.data.profile.get_graph(c.uid, a, function (a) {
                g.report_list = a.data, g.overview = a.overview, g.overview_task_schedule = (g.overview.completed - g.overview.archived) / (g.overview.completed - g.overview.archived + g.overview.uncompleted) * 100, g.overview_delay_rate = g.overview.expired / g.overview.uncompleted * 100
            }, null, function () {
                g.part_loading_done = !0
            })
        }

        function f() {
            null !== c && (g.teams = _.map(d, function (a) {
                return [a.team_id, a.name]
            }), g.teams = _.zipObject(g.teams), g.team_id = _.keys(g.teams)[0], e(g.team_id))
        }

        var g = b.vm = {
            part_loading_done: !1,
            display_name: c.display_name,
            username: a.username,
            overview_task_schedule: 0,
            overview_delay_rate: 0,
            overview: null,
            teams: [],
            report_list: [],
            team_id: ""
        };
        g.js_pop_select_team = function (a, b, c, d) {
            g.team_id = b, e(g.team_id)
        }, f()
    }

    angular.module("wt.service.profile", []).controller("profileCtrl", a).controller("profileInfoCtrl", b).controller("profileTasksCtrl", c).controller("profileGraphCtrl", d), a.$inject = ["$rootScope", "$scope", "$stateParams", "$timeout", "profile", "$translate"], b.$inject = ["$scope", "$stateParams", "profile", "teams"], c.$inject = ["$scope", "profile", "$stateParams", "$popbox", "bus", "teams"], d.$inject = ["$stateParams", "$scope", "profile", "teams"]
}(), function () {
    "use strict";
    function a(a) {
        this.show = function (b) {
            a.open({
                windowClass: "dialog-w680",
                templateUrl: "/app/js/service/privilege/dialog_privilege_" + b.name + ".html",
                controller: b.name + "PrivilegeController"
            })
        }
    }

    function b(a, b, c, d) {
        function e() {
            wt.data.privilege.get_background_invite(b.global.me.uid, function (a) {
                f.recommended = _.filter(a.data, function (a) {
                    return 1 === a.status || 3 === a.status
                }), f.part_loading_done = !0
            }), wt.data.utils.get_qrcode(f.recommend_url, 6, null, function (a) {
                f.qrcode = a
            })
        }

        var f = a.vm = {
            part_loading_done: !1,
            recommend_url: [c.$$protocol + "://", c.$$host, 80 === c.$$port || 443 === c.$$port ? "" : ":" + c.$$port, "/" + b.global.me.name + "/recommend"].join(""),
            qrcode: "",
            recommended: []
        };
        e(), f.js_close = function () {
            d.close()
        }
    }

    angular.module("wt.service.privilege", []).constant("privilegeConstant", {
        background: {
            name: "background",
            link: ""
        }
    }).service("privilegeService", a).controller("backgroundPrivilegeController", b), a.$inject = ["$uibModal"], b.$inject = ["$scope", "$rootScope", "$location", "$uibModalInstance"]
}(), function () {
    "use strict";
    function a(a, b, c) {
        this.showAdd = function () {
            var b = a.open({
                windowClass: "dialog-w680 dialog-h300",
                templateUrl: "/app/js/service/other/shimo/dialog_shimo.html",
                controller: ["$scope", "$rootScope", "$location", "globalDataContext", "$translate", function (a, d, e, f, g) {
                    function h() {
                        i.part_loading_done = !1, i.parentFolders = [], i.selectFile = [], wt.data.page.get_shimos_folder(i.pid, "", function (a) {
                            i.shimoFolderList = _.sortBy(a.data, function (a) {
                                return "folder" != a.type
                            }), _.each(i.shimoFolderList, function (a) {
                                _.find(i.selectFile, {guid: a.guid}) ? a.checked = 1 : a.checked = 0
                            }), i.part_loading_done = !0
                        }, function (a) {
                            10015 == a.code && (i.js_close(), window.location = kzi.constant.authorization.shimo.auth_url + "&state=" + i.pid)
                        })
                    }

                    var i = a.vm = {
                        part_loading_done: !1,
                        pid: f.project.pid,
                        shimoFolderList: [],
                        parentFolders: [],
                        selectFile: []
                    };
                    h(), i.js_click_item = function (a, b) {
                        "folder" === b.type ? (i.selectFile = [], i.part_loading_done = !1, wt.data.page.get_shimos_folder(i.pid, b.guid, function (a) {
                            i.shimoFolderList = _.sortBy(a.data, function (a) {
                                return "folder" != a.type
                            }), i.part_loading_done = !0;
                            var c = _.findIndex(i.parentFolders, {guid: b.guid});
                            c < 0 ? i.parentFolders.push(b) : i.parentFolders = i.parentFolders.slice(0, c + 1)
                        })) : i.selectFile = [{name: b.name, guid: b.guid, type: b.type}]
                    }, i.js_back_top = function () {
                        h()
                    }, i.js_back_folder = function (a) {
                        i.js_click_item(null, a)
                    }, i.js_close = function () {
                        b.close()
                    }, i.js_add_shimo = function () {
                        wt.data.page.add_shimo_files(i.pid, i.selectFile, function (a) {
                            c.track("add_page_shimo", "done", ""), _.each(a.data, function (a) {
                                d.$broadcast(kzi.constant.event_names.on_page_add, a)
                            }), kzi.msg.success(g.instant("shimo.add_success")), i.js_close()
                        })
                    }
                }]
            })
        }
    }

    angular.module("wt.service.shimo", []).service("shimoService", a), a.$inject = ["$uibModal", "$rootScope", "ycTrack"]
}(), function () {
    "use strict";
    angular.module("wt.directive", []).directive("wtFocus", ["$timeout", "$parse", function (a, b) {
        return {
            restrict: "A", link: function (c, d, e, f) {
                e.wtFocus ? (c.$watch(e.wtFocus, function (b) {
                    angular.isDefined(b) && b === !0 && a(function () {
                        d[0].focus()
                    }, 450)
                }, !0), d.bind("blur", function () {
                    angular.isDefined(e.wtFocus) && a(function () {
                        _.isUndefined(b(e.wtFocus).assign) || b(e.wtFocus).assign(c, !1)
                    }, 200)
                })) : a(function () {
                    d[0].focus()
                }, 200)
            }
        }
    }]).directive("wtClickSelect", [function () {
        return {
            restrict: "A", link: function (a, b, c, d) {
                b.bind("click", function () {
                    b.select()
                })
            }
        }
    }]).directive("wtAutoClickSelect", ["$timeout", function (a) {
        return {
            restrict: "A", link: function (b, c, d, e) {
                c.bind("click", function () {
                    c.select()
                }), a(function () {
                    c.trigger("click")
                }, 200)
            }
        }
    }]).directive("wtShowEdit", ["$timeout", "$parse", function (a, b) {
        return {
            restrict: "A", link: function (c, d, e, f) {
                c.$watch(e.wtShowEdit, function (f, g) {
                    if (!_.isUndefined(f))if (f === !0) {
                        a(function () {
                            $(d).find(":text,textarea").eq(0).focus()
                        }, 50);
                        var h = b(e.wtShowEdit);
                        h.assign;
                        d.bind("mousedown.wtShowEdit", function (a) {
                            a.stopPropagation()
                        }), a(function () {
                            $(document).bind("mousedown.wtShowEdit", function (a) {
                                b(e.wtShowEdit).assign(c, !1), c.$$phase || c.$apply()
                            })
                        }, 50)
                    } else f === !1 && (d.unbind("click.wtShowEdit"), $(document).unbind("click.wtShowEdit"))
                })
            }
        }
    }]).directive("wtRepeatPassword", [function () {
        return {
            restrict: "A", require: "ngModel", link: function (a, b, c, d) {
                var e = b.inheritedData("$formController")[c.wtRepeatPassword];
                d.$parsers.push(function (a) {
                    return a === e.$viewValue ? (d.$setValidity("repeat", !0), a) : void d.$setValidity("repeat", !1)
                }), e.$parsers.push(function (a) {
                    return d.$setValidity("repeat", a === d.$viewValue), a
                })
            }
        }
    }]).directive("wtMultipleEmail", [function () {
        return {
            restrict: "A", require: "ngModel", link: function (a, b, c, d) {
                d.$parsers.push(function (a) {
                    var b = /^([a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9-]+(\.[a-z0-9-]+)*;?)+$/i.test(a);
                    return d.$setValidity("multipleEmail", b), a
                })
            }
        }
    }]).directive("wtRegex", [function () {
        return {
            restrict: "A", require: "ngModel", link: function (a, b, c, d) {
                var e = new RegExp(c.wtRegex);
                d.$parsers.push(function (a) {
                    return d.$setValidity("regex", e.test(a)), a
                })
            }
        }
    }]).directive("wtRemoteUniqueCheck", ["$timeout", "$http", "w5cValidator", function (a, b, c) {
        return {
            require: "ngModel", link: function (a, d, e, f) {
                var g = d.parents("form")[0].name, h = function () {
                    var h = a.$eval(e.wtRemoteUniqueCheck), i = h.url, j = h.isExists;
                    b.get(i).success(function (b) {
                        var e = j === !1 ? 1 == b.data : !(1 == b.data);
                        if (f.$setValidity("w5cuniquecheck", e), a[g] && !e) {
                            var h = c.getErrorMessage("w5cuniquecheck", d[0]);
                            c.showError(d[0], h), a[g].$errors ? a[g].$errors.unshift(h) : a[g].$errors = [h]
                        } else if (a[g] && e) {
                            var h = c.getErrorMessage("w5cuniquecheck", d[0]);
                            if (c.removeError(d[0]), a[g].$errors) {
                                var i = function () {
                                    var b = a[g].$errors.indexOf(h);
                                    b >= 0 && (a[g].$errors.splice(b, 1), i())
                                };
                                i()
                            }
                        }
                    })
                };
                f.$viewChangeListeners.push(function () {
                    a[g].$errors = [], f.$setValidity("w5cuniquecheck", !0), f.$invalid && !f.$error.w5cuniquecheck || f.$dirty && h()
                });
                var i = a.$eval(e.ngModel);
                if (i) {
                    if (f.$invalid && !f.$error.w5cuniquecheck)return;
                    h()
                }
            }
        }
    }]).directive("wtInclude", ["$compile", "$http", "$templateCache", "$translate", function (a, b, c, d) {
        return {
            restrict: "ECA", compile: function (e, f) {
                var g = f.ngInclude || f.src, h = f.onload || "";
                f.autoscroll;
                return function (e, f) {
                    var i, j = 0, k = function () {
                        i && (i.$destroy(), i = null), f.html("")
                    };
                    e.$watch(g, function (g) {
                        if ($("#" + g).length <= 0)return void f.html(['<span class="tpl_none">', d.instant("directive_directive.unknown_template", {src: g}), "</span>"].join(""));
                        var l = ++j;
                        g ? b.get(g, {cache: c}).success(function (b) {
                            l === j && (i && i.$destroy(), i = e.$new(), f.html(b), a(f.contents())(i), i.$emit("$includeContentLoaded"), e.$eval(h))
                        }).error(function () {
                            l === j && k()
                        }) : k()
                    })
                }
            }
        }
    }]).directive("draggable", [function () {
        return {
            restrict: "A", priority: -2e3, link: function (a, b, c) {
                a.$watch(c.draggable, function (a) {
                    _.isEmpty(a) || b.draggable(a)
                })
            }
        }
    }]).directive("droppable", [function () {
        return {
            restrict: "A", priority: -2e3, link: function (a, b, c) {
                a.$watch(c.droppable, function (a, c) {
                    _.isEmpty(a) || b.droppable(a)
                })
            }
        }
    }]).directive("sortable", [function () {
        return {
            priority: -2e3, restrict: "A", link: function (a, b, c) {
                a.$watch(c.sortable, function (a, c) {
                    null == a ? b.sortable({disabled: !0}) : b.sortable(a)
                })
            }
        }
    }]).directive("wtLoadingDone", [function () {
        return {
            restrict: "A", link: function (a, b, c) {
                a.$watch(c.wtLoadingDone, function (a) {
                    a === !0 ? b.css("display", "none") : b.css("display", "block")
                })
            }
        }
    }]).directive("wtTitle", [function () {
        return {
            link: function (a, b, c) {
                var d = a.$eval(c.wtTitle);
                b.attr("title", d)
            }
        }
    }]).directive("wtGoTo", ["$location", function (a) {
        return {
            restrict: "A", link: function (b, c, d) {
                c.bind("click", function (c) {
                    a.path(d.wtGoTo), b.$$phase || b.$apply()
                })
            }
        }
    }]).directive("wtEnter", ["$parse", function (a) {
        return {
            restrict: "A", link: function (b, c, d) {
                var e = a(d.wtEnter);
                c.bind("keypress", function (a) {
                    var c = a.which || a.keyCode;
                    void 0 !== d.wtEnterNotShift && a.shiftKey || 13 === c && (b.$apply(function () {
                        e(b, {$event: a})
                    }), a.preventDefault())
                })
            }
        }
    }]).directive("wtUpDownEnter", ["$parse", function (a) {
        return {
            restrict: "A", link: function (b, c, d) {
                var e = a(d.wtUpDownEnter);
                c.bind("keydown", function (a) {
                    var c = a.which || a.keyCode;
                    38 !== c && 40 !== c || (b.$apply(function () {
                        e(b, {$event: a, keyCode: c})
                    }), a.preventDefault())
                }), c.bind("keypress", function (a) {
                    var c = a.which || a.keyCode;
                    13 === c && (b.$apply(function () {
                        e(b, {$event: a, keyCode: c})
                    }), a.preventDefault())
                })
            }
        }
    }]).directive("wtCtrlEnter", ["$parse", function (a) {
        return {
            restrict: "A", link: function (b, c, d) {
                var e = a(d.wtCtrlEnter);
                c.bind("keydown keypress", function (a) {
                    var c = a.which || a.keyCode;
                    (a.ctrlKey || a.metaKey) && 13 === c && (b.$apply(function () {
                        e(b, {$event: a})
                    }), a.preventDefault())
                })
            }
        }
    }]).directive("wtShiftCutover", ["$parse", function (a) {
        return {
            restrict: "A", link: function (b, c, d) {
                var e = a(d.wtShiftCutover);
                c.bind("keydown keypress", function (a) {
                    var c = a.which || a.keyCode, d = a.target || a.srcElement;
                    (null === d || "INPUT" !== d.nodeName && "TEXTAREA" !== d.nodeName) && !a.ctrlKey && !a.altKey && !a.metaKey && a.shiftKey && $.inArray(c, kzi.constant.shift_cutover_keys) > -1 && b.$apply(function () {
                        e(b, {$event: a, $keyCode: c})
                    })
                })
            }
        }
    }]).directive("wtClick", ["$parse", function (a) {
        return {
            restrict: "A", link: function (b, c, d) {
                var e = a(d.wtClick);
                c.bind("click", function (a) {
                    b.$$phase ? e(b, {$event: a}) : b.$apply(function () {
                        e(b, {$event: a})
                    })
                })
            }
        }
    }]).directive("wtShortcutKey", ["$parse", function (a) {
        return {
            restrict: "A", link: function (b, c, d) {
                var e = a(d.wtShortcutKey);
                c.bind("keydown keypress", function (a) {
                    var c = a.which || a.keyCode;
                    if ((c !== kzi.constant.keyASCIIs.VK_SPACE || "keypress" !== a.type) && ($.inArray(c, kzi.constant.global_shortcut_keys) > -1 || $.inArray(c, kzi.constant.entry_shortcut_keys) > -1)) {
                        if (c !== kzi.constant.keyASCIIs.ESC) {
                            var d = a.target || a.srcElement;
                            if (null !== d && !d.getAttributeNode("trigger-keydown") && ("INPUT" === d.nodeName || "TEXTAREA" === d.nodeName))return
                        }
                        c === kzi.constant.keyASCIIs.ESC && a.preventDefault(), b.$apply(function () {
                            e(b, {$keyCode: c, event: a})
                        })
                    }
                })
            }
        }
    }]).directive("wtLoadingStatus", ["$timeout", function (a) {
        return {
            restrict: "A", link: function (b, c, d) {
                b.$watch(d.wtLoadingStatus, function (b, d) {
                    b === !0 ? c.button("loading") : b === !1 && a(function () {
                        c.button("reset")
                    })
                })
            }
        }
    }]).directive("wtDisableDrag", [function () {
        return {
            restrict: "A", link: function (a, b, c) {
                c.wtDisableDrag ? a.$watch(c.wtDisableDrag, function (a, c) {
                    a ? b.on("dragstart.js_disable dragover.js_disable mousedown.js_disable", function (a) {
                        return a.preventDefault(), !1
                    }) : b.unbind("dragstart.js_disable dragover.js_disable mousedown.js_disable")
                }) : b.on("dragstart.js_disable mousedown.sortable", function (a) {
                    return a.preventDefault(), a.stopPropagation(), !1
                })
            }
        }
    }]).directive("wtSidebarToggle", ["$timeout", "$parse", "$window", "$rootScope", function (a, b, c, d) {
        return {
            restrict: "A", link: function (a, b, c) {
                var e = a.dm = {
                    $sidebar: $(".layout_right_sidebar"),
                    $center: $(".layout_content_main"),
                    $sidebarWidth: 253,
                    duration: 150,
                    sidebarFoldWidth: 86,
                    skipWatchFirstInit: !0,
                    init_status: a.$eval(c.wtSidebarToggle),
                    width: a.$eval(c.width)
                }, f = function (a, b) {
                    return a ? void("members" === a ? e.skipWatchFirstInit ? (e.$sidebar.width(e.sidebarFoldWidth), e.$center.css("marginRight", e.sidebarFoldWidth + 1), d.$broadcast("sidebarToggleSuccess")) : (e.$sidebar.animate({width: e.sidebarFoldWidth}, e.duration), e.$center.animate({"margin-right": e.sidebarFoldWidth + 1}, e.duration, null, function () {
                        d.$broadcast("sidebarToggleSuccess"), $("#calendar").fullCalendar("render")
                    })) : (e.$sidebar.animate({width: e.width ? e.width : e.$sidebarWidth}, e.duration), e.$center.animate({"margin-right": e.width ? e.width : e.$sidebarWidth}, e.duration, null, function () {
                        $("#calendar").fullCalendar("render"), d.$broadcast("sidebarToggleSuccess", {collapse: !1})
                    }))) : (e.$sidebar.width(0), e.$center.css("marginRight", 0), void d.$broadcast("sidebarToggleSuccess"))
                };
                f(e.init_status), a.$watch(c.argHideSidebar, function (a, b) {
                    if (a)return e.$sidebar.width(0), e.$center.css("marginRight", 0), void d.$broadcast("sidebarToggleSuccess")
                }), a.$watch(c.wtSidebarToggle, function (a, b) {
                    return e.skipWatchFirstInit ? void(e.skipWatchFirstInit = !1) : void f(a, b)
                })
            }
        }
    }]).directive("wtStopPropagation", [function () {
        return {
            restrict: "A", link: function (a, b, c) {
                var d = c.wtStopPropagation;
                _.isEmpty(d) && (d = "mousedown"), b.bind(d, function (a) {
                    a.stopPropagation()
                })
            }
        }
    }]).directive("wtFocusEvent", ["$timeout", "$parse", function (a, b) {
        return {
            restrict: "A", link: function (a, c, d, e) {
                var f = b(d.wtFocusEvent);
                c.bind("focus", function (b) {
                    a.$$phase ? f(a, {$event: b}) : a.$apply(function () {
                        f(a, {$event: b})
                    })
                })
            }
        }
    }]).directive("wtPagination", ["$translate", function (a) {
        return {
            restrict: "A", link: function (b, c, d) {
                b.$watch(d.wtPagination, function (d) {
                    _.isEmpty(d) || c.pagination(d.totalCount, {
                        current_page: 0,
                        items_per_page: kzi.config.default_count,
                        num_display_entries: 10,
                        callback: function (a) {
                            b.$apply(function () {
                                d.opts.callback(a)
                            })
                        },
                        load_first_page: !1,
                        prev_text: a.instant("directive_directive.prev_page"),
                        next_text: a.instant("directive_directive.next_page")
                    })
                })
            }
        }
    }]).directive("ngBindHtmlUnsafe", ["$sce", "sanitize", function (a, b) {
        return {
            restrict: "A",
            scope: {ngBindHtmlUnsafe: "="},
            template: '<span ng-bind-html="trustedHtml"></span>',
            link: function (c, d, e, f) {
                c.updateView = function () {
                    if (!_.isUndefined(c.ngBindHtmlUnsafe)) {
                        var d = b(c.ngBindHtmlUnsafe);
                        c.trustedHtml = a.trustAsHtml(d)
                    }
                }, c.$watch("ngBindHtmlUnsafe", function (a, b) {
                    c.updateView(a)
                })
            }
        }
    }]).directive("wtAutofocus", ["$timeout", function (a) {
        return {
            restrict: "A", link: function (b, c, d, e) {
                var f = d || {}, g = 200;
                f.wtAutofocusTime && (g = f.wtAutofocusTime), f.wtAutofocusEnable && b.$eval(f.wtAutofocusEnable) !== !0 || a(function () {
                    c[0].focus()
                }, g)
            }
        }
    }]).directive("wtRepeatDone", ["$timeout", function (a) {
        return {
            restrict: "A", priority: -1e3, link: function (b, c, d) {
                b.$last && a(function () {
                    b.$eval(d.wtRepeatDone)
                }, 0)
            }
        }
    }]).directive("wtValidatorName", [function () {
        return {
            restrict: "A", require: "ngModel", link: function (a, b, c, d) {
                d.$name = a.$eval(c.wtValidatorName), b.attr("name", a.$eval(c.wtValidatorName));
                var e = b.controller("form") || {$addControl: angular.noop};
                e.$addControl(d)
            }
        }
    }])
}(), function () {
    "use strict";
    function a(a, b, c, d) {
        return {
            restrict: "E",
            replace: !0,
            templateUrl: "/ycjs/directive/avatar/avatar.html",
            compile: function (a, e, f) {
                return {
                    pre: function (a, e, f) {
                        function g() {
                            if (!_.isUndefined(f.member)) {
                                var b = a.$eval(f.member);
                                if (_.isUndefined(b) || _.isNull(b))return;
                                h(b)
                            }
                        }

                        function h(g) {
                            var h = ['<span class="avatar-face {{avatarFaceClass}}">{{avatarFaceInner}}{{avatarStatus}}</span>', "{{avatarBr}}", "{{avatarName}}", "{{avatarAtname}}", "{{avatarAppend}}"].join(""), i = 40;
                            if (angular.isDefined(f.size) && (i = parseInt(f.size, 10)), e.addClass("avatar-" + i), i < 45 && (i = 40), i >= 45 && (i = 80), i >= 100 && (i = 180), e.attr("title", g.display_name), e.attr("member-id", g.uid), h = angular.isDefined(f.faceclass) ? h.replace("{{avatarFaceClass}}", f.faceclass) : h.replace("{{avatarFaceClass}}", ""), "default_avatar.png" === g.avatar || _.isEmpty(g.avatar)) {
                                var j = /[u4e00-u9fa5]/;
                                if (j.test(g.display_name))var k = g.display_name.substring(0, 2).toLocaleUpperCase(); else var k = g.display_name.substring(g.display_name.length - 2, g.display_name.length).toLocaleUpperCase();
                                h = h.replace("{{avatarFaceInner}}", '<span class="avatar-text">' + k + "</span>")
                            } else {
                                var l = kzi.config.default_avatar;
                                if (g.avatar) {
                                    var m = i;
                                    c.isRetina && (m = 40 == i ? 80 : 180), l = kzi.config.wtavatar_url + m + "/" + g.avatar, 0 !== g.avatar.indexOf("https://") && 0 !== g.avatar.indexOf("http://") || (0 !== g.avatar.indexOf("http://i01.lw.aliimg.com/") && 0 !== g.avatar.indexOf("https://i01.lw.aliimg.com/") || (l = g.avatar.replace("http://i01.lw.aliimg.com/", "https://i01.lw.aliimg.com/")), l = 0 === g.avatar.indexOf("http://q.qlogo.cn/") || 0 === g.avatar.indexOf("https://q.qlogo.cn/") ? g.avatar.replace("http://q.qlogo.cn/", "https://q.qlogo.cn/") : kzi.config.default_avatar)
                                }
                                h = h.replace("{{avatarFaceInner}}", '<img src="' + l + '" alt="' + g.display_name + '"/>')
                            }
                            if (angular.isDefined(f.status) || angular.isDefined(f.role)) {
                                var n = g.role ? g.role : 2, o = "", p = "", q = f.isTeam ? d.instant("common.txt_admin") : d.instant("common.txt_manager");
                                if (1 == n || 3 == n) {
                                    var r = "";
                                    1 == n ? (p = q, r = "member-admin") : 2 == n ? (p = d.instant("common.txt_member"), r = "member-user") : 3 == n && (p = d.instant("common.txt_visitor"), r = "member-guest")
                                }
                                g.online == kzi.constant.state.online && (o = "online", p += "(" + d.instant("directive_avatar.online") + ")"), g.online == kzi.constant.state.leave && (o = "leave", p += "(" + d.instant("directive_avatar.leave") + ")"), g.online == kzi.constant.state.offline && (o = "offline", p += "(" + d.instant("directive_avatar.offline") + ")"), h = 1 == n ? h.replace("{{avatarStatus}}", '<i class="fa fa-user ' + o + " " + r + '" title="' + p + '"></i>') : h.replace("{{avatarStatus}}", '<i class="status-point ' + o + '" title="' + p + '"></i>')
                            } else h = h.replace("{{avatarStatus}}", "");
                            if (angular.isDefined(f.href) && "" !== f.href ? e.attr("href", f.href) : e.attr("href", "javascript:;"), h = angular.isDefined(f.namebr) ? h.replace("{{avatarBr}}", "<br/>") : h.replace("{{avatarBr}}", ""), angular.isDefined(f.name)) {
                                var s = g.display_name;
                                "true" !== f.name && (s = a.$eval(f.name)), h = h.replace("{{avatarName}}", '<span class="avatar-name {{avatarNameclass}}">' + b(s) + "</span>"), h = angular.isDefined(f.nameclass) ? h.replace("{{avatarNameclass}}", f.nameclass) : h.replace("{{avatarNameclass}}", "")
                            } else h = h.replace("{{avatarName}}", "");
                            if (h = angular.isDefined(f.atname) ? h.replace("{{avatarAtname}}", '<span class="avatar-atname">(' + g.name + ")</span>") : h.replace("{{avatarAtname}}", ""), h = angular.isDefined(f.append) ? h.replace("{{avatarAppend}}", '<span class="avatar-append">' + f.append + "</span>") : h.replace("{{avatarAppend}}", ""), $(e).html(h), e.unbind("dragstart.wt-avatar"), angular.isDefined(f.drag)) {
                                var t = a.$eval(f.drag);
                                _.isEmpty(t) ? e.bind("dragstart.wt-avatar", function (a) {
                                    return a.preventDefault(), !1
                                }) : e.draggable(t)
                            } else e.bind("dragstart.wt-avatar", function (a) {
                                return a.preventDefault(), !1
                            })
                        }

                        a.$watch(f.member, function (a, b) {
                            _.isUndefined(a) || _.isNull(a) || _.isEqual(a, b) || h(a)
                        }, !0), g()
                    }, post: function (a, b, c) {
                    }
                }
            }
        }
    }

    angular.module("wt.directive.avatar", []).directive("wtAvatar", a), a.$inject = ["$parse", "sanitize", "$wtRetina", "$translate"]
}(), function () {
    "use strict";
    function a() {
        return {
            restrict: "E",
            transclude: !0,
            scope: {member: "=", argFnClose: "&"},
            replace: !0,
            templateUrl: "/ycjs/directive/member_info/member_info.html",
            link: function (a, b, c, d, e) {
                var f = a.vm = {member: a.member};
                f.parse_fn_close = function (b) {
                    a.argFnClose({$event: b})
                }
            }
        }
    }

    angular.module("wt.directive.avatar").directive("wtMemberInfo", a), a.$inject = []
}(), function () {
    "use strict";
    function a(a) {
        return {
            restrict: "A", link: function (b, c, d) {
                !d.ngClick && _.isUndefined(d.wtDisablePop) && _.isUndefined(d.wtMemberControl) && "javascript:;" === c.attr("href") && (c.unbind("click.avatar-pop"), c.bind("click.avatar-pop", function (e) {
                    if ("javascript:;" === c.attr("href")) {
                        var f = b.$eval(d.popMember);
                        "'onlyinfo'" !== d.wtPopMember && d.wtPopMember.indexOf(" 'onlyinfo'") >= 0 && (d.wtPopMember = d.wtPopMember.substring(0, d.wtPopMember.indexOf(" 'onlyinfo'")));
                        var g = b.$eval(d.wtPopMember);
                        _.isEmpty(g) && (g = "onlyinfo"), _.isUndefined(f) && (f = b.$eval(d.member)), "true" === d.stopPropagation && e.stopPropagation(), a.popbox({
                            target: e,
                            templateUrl: "/ycjs/directive/pop_member/pop_member.html",
                            controller: ["$scope", "popbox", function (a, c) {
                                a.popbox = c;
                                var e = a.vm = {};
                                e.member = f, e.options = g, e.action_name = g.name, e.ongoing = g.ongoing, e.js_action_member = function (f) {
                                    if (!e.pop_member_actioning) {
                                        var h = b.$eval(d.popExtendedAttr);
                                        e.pop_member_actioning = !0, g.click(a, c, f, function () {
                                            e.pop_member_actioning = !1, c.close()
                                        }, h)
                                    }
                                }, e.js_close = function () {
                                    c.close()
                                }
                            }]
                        }).open()
                    }
                }))
            }
        }
    }

    function b() {
        return {restrict: "E", replace: !0, templateUrl: ""}
    }

    angular.module("wt.directive.avatar").directive("wtPopMember", a).directive("wtMember", b), a.$inject = ["$popbox"], b.$inject = []
}(), function () {
    "use strict";
    function a() {
        return {
            templateUrl: "/ycjs/directive/teamlogo/teamlogo.html",
            restrict: "E",
            replace: !0,
            scope: {team: "="},
            link: function (a, b, c) {
                var d = a.vm = {logo_url: "", size: null == c.size ? "40" : c.size}, e = 40;
                angular.isDefined(c.size) && (e = parseInt(c.size, 10)), e < 45 && (e = 40), e >= 45 && (e = 80), e >= 85 && (e = 180), a.$watch("team", function (a) {
                    null != a && ("default_logo.png" === a.pic || _.isEmpty(a.pic) ? d.logo_url = kzi.config.cdnpath + "images/team/" + e + "/default_logo.png" : d.logo_url = kzi.config.wtteamlogo_url + e + "/" + a.pic);
                })
            }
        }
    }

    angular.module("wt.directive").directive("wtTeamLogo", a), a.$inject = []
}(), function () {
    "use strict";
    function a() {
        return {
            restrict: "E",
            replace: !0,
            templateUrl: "/ycjs/directive/notice_panel/notice_panel.html",
            scope: {checklist: "=", onsave: "&", oncancel: "&"},
            link: function (a, b, c) {
                function d() {
                }

                var e = (a.$parent, a.vm = {check_list: a.checklist});
                e.js_toggle_checkbox_item = function (a) {
                    switch (a) {
                        case"task":
                            e.check_list.is_check_task = 1 * !e.check_list.is_check_task;
                            break;
                        case"at":
                            e.check_list.is_check_at = 1 * !e.check_list.is_check_at;
                            break;
                        case"calendar":
                            e.check_list.is_check_calendar = 1 * !e.check_list.is_check_calendar;
                            break;
                        case"watcher":
                            e.check_list.is_check_watcher = 1 * !e.check_list.is_check_watcher;
                            break;
                        case"comment":
                            e.check_list.is_check_comment = 1 * !e.check_list.is_check_comment;
                            break;
                        case"other":
                            e.check_list.is_check_other = 1 * !e.check_list.is_check_other
                    }
                }, e.js_save = function () {
                    a.onsave()
                }, e.js_cancel = function () {
                    a.oncancel()
                }, d()
            }
        }
    }

    angular.module("wt.directive.notice_panel", []).directive("wtNoticePanel", a), a.$inject = []
}(), function () {
    "use strict";
    function a(a, b, c, d, e, f) {
        return {
            restrict: "E",
            replace: !0,
            templateUrl: "/tpl/directive/task.html",
            scope: {
                task: "=",
                entry: "=",
                argViewType: "@",
                argShowProject: "=",
                argFnCheck: "&",
                argDisableCheck: "=",
                argShowMore: "=",
                argFnMore: "&",
                argPopMemberOptions: "="
            },
            compile: function (g, h) {
                return {
                    pre: function (g, h, i) {
                        function j(d) {
                            var g = $(h).children(".task-badges"), i = [], j = !1;
                            if (0 !== d.expire_date) {
                                var m = a(d.expire_date);
                                new Date(d.expire_date).getFullYear() !== (new Date).getFullYear() && (m = b(d.expire_date));
                                var n = "", o = "", p = k(d);
                                o = f.instant("directive_task.expire_when", {time: m}), 1 === p && (n = "badge-expire-due", o = f.instant("directive_task.expire_already")), 2 === p && (n = "badge-expire-soon", o = f.instant("directive_task.expire_soon")), i.push('<span class="task-badge fa fa-clock-o {{timeClass}}" '.replace("{{timeClass}}", n)), i.push('title="{{timeTitle}}">{{timeText}}</span>'.replace("{{timeTitle}}", o).replace("{{timeText}}", m)), j = !0
                            }
                            if (d.badges.todo_count > 0) {
                                var q = d.badges.todo_checked_count + "/" + d.badges.todo_count, r = "", s = "";
                                d.badges.todo_checked_count === d.badges.todo_count && (r = " badge-todo-done"), s = d.badges.todo_checked_count === d.badges.todo_count ? f.instant("directive_task.todo_completed", {count: d.badges.todo_checked_count}) : f.instant("directive_task.todo_completed", {count: d.badges.todo_checked_count + "/" + d.badges.todo_count}), i.push('<span class="task-badge fa fa-list {{todoClass}}" '.replace("{{todoClass}}", r)), i.push('title="{{todoTitle}}">{{todoText}}</span>'.replace("{{todoTitle}}", s).replace("{{todoText}}", q)), j = !0
                            }
                            if (d.badges.comment_count > 0) {
                                var t = d.badges.comment_count, u = f.instant("directive_task.comment_count", {count: d.badges.comment_count});
                                i.push('<span class="task-badge fa fa-comment-o" '), i.push('title="{{commentTitle}}">{{commentText}}</span>'.replace("{{commentTitle}}", u).replace("{{commentText}}", t)), j = !0
                            }
                            if (d.files && d.files.length > 0 || d.badges.file_count > 0) {
                                var v = d.badges.file_count > 0 ? d.badges.file_count : d.files.length, w = f.instant("directive_task.file_count", {count: v}), x = v;
                                i.push('<span class="task-badge fa fa-paperclip" '), i.push('title="{{fileTitle}}">{{fileCount}}</span>'.replace("{{fileTitle}}", w).replace("{{fileCount}}", x)), j = !0
                            }
                            if (d.desc && d.desc.length > 0) {
                                var y = f.instant("directive_task.has_desc");
                                i.push('<span class="task-badge fa fa-align-left" title="' + y + '"></span>'), j = !0
                            }
                            if (1 === d.is_locked) {
                                var y = f.instant("directive_task.is_lock");
                                i.push('<span class="task-badge fa fa-lock" title="' + y + '"></span>'), j = !0
                            }
                            if (1 === d.is_loop) {
                                var y = f.instant("directive_task.is_timingtask");
                                i.push('<span class="task-badge fa fa-repeat" title="' + y + '"></span>'), j = !0
                            }
                            if (l.showProject && j && i.push('<span class="seperator seperator-project"></span>'), l.showProject) {
                                var z = e(d.project.name), A = d.project.pic;
                                i.push('<span class="task-badge fa project-name-icon {{projectIcon}}" title="{{projectName}}">'.replace("{{projectName}}", z).replace("{{projectIcon}}", A)), i.push(c([z, 20])), i.push("</span>")
                            }
                            d.labels && d.labels.length > 0 && _.each(d.labels, function (a) {
                                var b = e(a.desc);
                                i.push('<span class="task-badge task-label {{name}}-label" '.replace("{{name}}", a.name)), i.push('title="{{desc}}">'.replace("{{desc}}", b)), i.push(c([b, 10])), i.push("</span>")
                            }), g.html(i.join(""))
                        }

                        function k(a) {
                            var b = 0;
                            if (a.completed)b = 0; else {
                                var c = moment().valueOf(), d = 1e3 * moment(a.expire_date).format("X");
                                b = d < c ? 1 : d > c && d < moment().add(1, "days").valueOf() ? 2 : 0
                            }
                            return b
                        }

                        var l = g.dm = {
                            showProject: g.argShowProject,
                            viewType: null == g.argViewType ? "card" : g.argViewType,
                            disableCheck: g.argDisableCheck,
                            showMore: g.argShowMore,
                            members_reverse: []
                        };
                        g.$watch(i.task, function (a) {
                            _.isUndefined(a) || _.isNull(a) || _.isEqual(a, {}) || (l.members_reverse = d(a.members), j(a))
                        }, !0), l.parse_fn_check = function (a, b, c) {
                            g.argFnCheck({$event: a, entry: b, task: c})
                        }, l.parse_fn_more = function (a, b, c) {
                            g.argFnMore({$event: a, entry: b, task: c})
                        }
                    }
                }
            }
        }
    }

    function b(a, b) {
        return {
            restrict: "E",
            templateUrl: "/tpl/directive/task_composer.html",
            replace: !0,
            scope: {
                vmEntry: "=entry",
                vmNewTask: "=newTask",
                vmPosition: "@position",
                vmSave: "&save",
                vmCancel: "&cancel",
                vmShowMore: "&showMore"
            },
            link: function (c, d, e) {
                var f = c.vm = {
                    entry: c.vmEntry,
                    new_task: c.vmNewTask,
                    position: c.vmPosition,
                    save: c.vmSave,
                    cancel: c.vmCancel,
                    show_more: c.vmShowMore
                }, g = function () {
                    $(document).bind("mousedown.wtTaskComposer", function (a) {
                        $(a.target).hasClass("entry-task-composer") || $(a.target).parents(".entry-task-composer").length > 0 || $(a.target).hasClass("popbox-avatar") || $(a.target).parents(".popbox-avatar").length > 0 || ($(document).unbind("mousedown.wtTaskComposer"), c.$apply(function () {
                            f.parse_cancel(null)
                        }))
                    })
                };
                f.focus_textarea = function (a) {
                    var b = null;
                    b = $(a.target).hasClass("composer-body-focus") ? $(a.target) : $(a.target).parents(".composer-body-focus").eq(0), b.find("textarea").focus()
                }, f.parse_save = function (a, b) {
                    f.save({$event: a, new_task: b, entry: f.entry, isTop: "top" === f.position})
                }, f.parse_cancel = function (a, b) {
                    f.cancel({$event: a, entry: f.entry, new_task: b})
                }, f.parse_show_task_menu = function (a, b, c) {
                    f.show_more({$event: a, entry: f.entry, new_task: c})
                }, g(), a(function () {
                    var c = $("#entry_scroll_" + f.entry.entry_id);
                    "top" === f.position ? (b.scrollTo(c, "top"), d.find("textarea")[0].focus()) : a(function () {
                        b.scrollTo(c, "bottom"), d.find("textarea")[0].focus()
                    })
                }, 50)
            }
        }
    }

    function c(a) {
        return {
            restrict: "A", link: function (b, c, d) {
                var e = 0;
                c.bind("mousedown.wtMousedownMove", function (b) {
                    if (b = b || window.event, 2 !== b.button && !($(b.target).parents(".entry").length > 0 || $(b.target).parents(".entry-new").length > 0)) {
                        var c = b.pageX, d = $(".entries_panel_sortarea").parents(".wt-scroll").eq(0), f = d.offsetLeft;
                        f || (f = 0), $(document.body).css("cursor", "-moz-grabbing"), $(document.body).css("cursor", "-webkit-grabbing"), $(document.body).css("cursor", "grabbing"), $(document).bind("selectstart.wtMousedownMove", function (a) {
                            return a.preventDefault(), !1
                        }), $(document).bind("mousemove.wtMousedownMove", function (b) {
                            return e = c - b.pageX, e = e <= 0 ? "-=" + (~e + 1) : "+=" + e, a.scrollTo(d, e), c = b.pageX, b.preventDefault(), !1
                        })
                    }
                }), $(document).bind("mouseup.wtMousedownMove", function () {
                    $(this).unbind("mousemove.wtMousedownMove"), $(this).unbind("selectstart.wtMousedownMove"), $(document.body).css("cursor", "")
                })
            }
        }
    }

    angular.module("wt.directive.task", []).directive("wtTask", a).directive("wtTaskComposer", b).directive("wtMousedownMove", c), a.$inject = ["shortTimeFormatFilter", "longTimeFormatFilter", "cutstrFilter", "arrReverseFilter", "sanitize", "$translate"], b.$inject = ["$timeout", "wtScrollService"], c.$inject = ["wtScrollService"]
}(), function () {
    "use strict";
    function a(a) {
        return {
            restrict: "E",
            replace: !0,
            scope: {vmFile: "=file", vmDelPermission: "=delPermission", vmDel: "&del", vmGofile: "&gofile"},
            templateUrl: "/ycjs/directive/attachment/attachment.html",
            link: function (a, b, c) {
                var d = a.vm = {
                    file: a.vmFile,
                    del_permission: a.vmDelPermission,
                    parse_del: a.vmDel,
                    parse_gofile: a.vmGofile,
                    has_del: !1
                };
                if (!_.isEmpty(c.fancygroup)) {
                    var e = b.children(".file-picfile").eq(0);
                    e.data("fancybox-group", c.fancygroup), e.attr("data-fancybox-group", c.fancygroup)
                }
                void 0 !== c.del && (d.has_del = !0, void 0 === c.delPermission || d.del_permission || (d.has_del = !1))
            }
        }
    }

    angular.module("wt.directive.attachment", []).directive("wtAttachment", a), a.$inject = ["$parse"]
}(), function () {
    function a() {
        return {
            restrict: "E",
            controller: "wtNoticeCtrl",
            replace: !0,
            scope: !0,
            templateUrl: "/ycjs/directive/notice/notice_list.html",
            link: function (a, b, c, d) {
            }
        }
    }

    function b(a, b, c, d, e, f) {
        f.track("notice", "visit");
        var g = a.vm = {
            part_loading_done: !1,
            read_notices: [],
            unread_notices: [],
            pending_notices: [],
            tab: "unread",
            accordion_justone: !0,
            accordion_firstopen: !0,
            since_id: 0,
            unReadFilterType: "all",
            readFilterType: "all",
            temp_global_title: b.global.title
        }, h = function () {
            0 === g.read_notices.length && (g.part_loading_done = !1), wt.data.notice.get_list(g.readFilterType, g.since_id, kzi.config.default_count, 1, function (a) {
                _.isEmpty(a.data) || (g.since_id = a.data[a.data.length - 1].published, _.isEmpty(g.read_notices) ? g.read_notices = a.data : g.read_notices = g.read_notices.concat(a.data)), a.data.length < kzi.config.default_count && (g.has_no_more = !0)
            }, null, function () {
                g.part_loading_done = !0
            })
        }, i = function (a) {
            g.part_loading_done = !1, wt.data.notice.get_list("all", 0, "all", 0, function (a) {
                g.unread_notices = a.data;
                var b = 0;
                _.each(_.map(a.data, "count"), function (a) {
                    b += a
                }), d.changeUnreadCount(b)
            }, null, function () {
                g.part_loading_done = !0
            })
        }, j = function () {
            return _.isEmpty(g.pending_notices) ? (g.part_loading_done = !1, void wt.data.notice.get_pending_list(function (a) {
                g.pending_notices = a.data
            }, null, function () {
                g.part_loading_done = !0
            })) : void(g.pending_notices = _.reject(g.pending_notices, function (a) {
                return !a.is_pending
            }))
        };
        g.setReadFilterType = function (a) {
            g.readFilterType = a, g.since_id = 0, g.read_notices = [], h()
        }, g.setUnReadFilterType = function (a) {
            g.unReadFilterType = a
        }, g.js_load_more_notice = function () {
            h()
        }, g.js_switch_tab = function (a) {
            a !== g.tab && (g.tab = a, "unread" === g.tab ? (g.unReadFilterType = "all", _.isEmpty(g.unread_notices) || (g.unread_notices = _.reject(g.unread_notices, function (a) {
                return 1 === a.is_read
            }))) : "read" === g.tab ? 0 === g.since_id && h() : "pending" === g.tab && j())
        }, a.$on("wtInboxTriggerSuccess", function (b, d) {
            d ? i() : c(function () {
                g.tab = "", g.unread_notices = [], g.read_notices = [], g.has_no_more = !1, g.pending_notices = [], g.since_id = 0, a.js_switch_tab("unread")
            })
        });
        var k = function () {
            i()
        };
        k(), a.$on(kzi.constant.event_names.notice_new, function (a, b) {
            b.is_pending = 0, b.is_read = 0, g.unread_notices.unshift(b)
        }), g.js_show_slide_detail = function (a, b, c) {
            g.js_set_notice_read(null, b)
        }, g.js_toggle_notice_pending = function (a, b) {
            a.stopPropagation();
            var c = b.is_pending ? 0 : 1;
            wt.data.notice.update_pending(b.nid, c, function (a) {
                var e = _.find(g.unread_notices, {nid: b.nid});
                e && (e.is_pending = c, c || (e.is_read = 1, d.readNotice(1))), e = _.find(g.read_notices, {nid: b.nid}), e && (e.is_pending = c), e = _.find(g.pending_notices, {nid: b.nid}), e && (e.is_pending = c, c || (e.is_read = 1)), c && !_.isEmpty(g.pending_notices) && g.pending_notices.push(b)
            })
        }, g.js_handle_all_notice = function () {
            g.set_allhandleing || (g.set_allhandleing = !0, wt.data.notice.set_allhandle(function () {
                _.each(g.pending_notices, function (a) {
                    var b = _.find(g.unread_notices, {nid: a.nid});
                    b && (b.is_pending = 0, b.is_read || (b.is_read = 1, d.readNotice(1))), b = _.find(g.read_notices, {nid: a.nid}), b && (b.is_pending = 0)
                }), g.pending_notices = []
            }, null, function () {
                g.set_allhandleing = !1
            }))
        }, g.js_set_notice_read = function (a, b) {
            _.isEmpty(a) || a.stopPropagation(), 0 === b.is_read && (b.is_read = 1, void 0 === b.count || 1 === b.count ? wt.data.notice.set_read(b.nid, function () {
                _.isEmpty(g.read_notices) || _.find(g.read_notices, {nid: b.nid}) || g.read_notices.unshift(b), b.is_read = 1, d.readNotice(1)
            }, function () {
                b.is_read = 0, kzi.msg.error(e.instant("directive_notice.err_set_read_fail"))
            }) : wt.data.notice.set_reads(b.nids, function () {
                _.isEmpty(g.read_notices) || _.find(g.read_notices, {nid: b.nid}) || g.read_notices.unshift(b), b.is_read = 1, d.readNotice(b.count)
            }, function () {
                b.is_read = 0, kzi.msg.error(e.instant("directive_notice.err_set_read_fail"))
            }))
        }, g.js_set_all_notice_read = function () {
            !g.setting_all_notice_read && g.part_loading_done && (g.setting_all_notice_read = !0, wt.data.notice.set_allread("all", function () {
                if (!_.isEmpty(g.unread_notices)) {
                    var a = 0;
                    _.each(g.unread_notices, function (b) {
                        1 !== b.is_read && (b.is_read = 1, void 0 === b.count || 1 === b.count ? a++ : a += b.count, _.isEmpty(g.read_notices) || _.find(g.read_notices, {nid: b.nid}) || g.read_notices.unshift(b))
                    }), g.unread_notices = [], d.readNotice(a)
                }
                g.setting_all_notice_read = !1
            }, function () {
                g.setting_all_notice_read = !1
            }))
        }
    }

    function c(a, b, c, d, e, f) {
        return {
            restrict: "E",
            replace: !0,
            templateUrl: "/ycjs/directive/notice/notice_item.html",
            link: function (g, h, i) {
                var j = a(i.noticeClick), k = g.notice.template, l = g.notice.data.target ? g.notice.data.target.name : g.notice.data.entity.name;
                switch (k) {
                    case"task_assign":
                        g.action = f.instant("directive_notice.notice_type_task_assign"), g.type_icon = kzi.constant.notice_type_icon.task, g.display_entity = g.notice.data.entity;
                        break;
                    case"task_complete":
                        g.action = f.instant("directive_notice.notice_type_task_complete"), g.type_icon = kzi.constant.notice_type_icon.task, g.display_entity = g.notice.data.entity;
                        break;
                    case"task_trash":
                        g.action = f.instant("directive_notice.notice_type_task_trash"), g.type_icon = kzi.constant.notice_type_icon.task, g.display_entity = g.notice.data.entity;
                        break;
                    case"task_archive":
                        g.action = f.instant("directive_notice.notice_type_task_archive"), g.type_icon = kzi.constant.notice_type_icon.task, g.display_entity = g.notice.data.entity;
                        break;
                    case"event_attend":
                        g.action = f.instant("directive_notice.notice_type_event_attend"), g.type_icon = kzi.constant.notice_type_icon.event, g.display_entity = g.notice.data.entity;
                        break;
                    case"task_watch":
                        g.action = f.instant("directive_notice.notice_type_task_watch"), g.type_icon = kzi.constant.notice_type_icon.task, g.display_entity = g.notice.data.entity;
                        break;
                    case"file_watch":
                        g.action = f.instant("directive_notice.notice_type_file_watch"), g.type_icon = kzi.constant.notice_type_icon.file, g.display_entity = g.notice.data.entity;
                        break;
                    case"post_watch":
                        g.action = f.instant("directive_notice.notice_type_post_watch"), g.type_icon = kzi.constant.notice_type_icon.post, g.display_entity = g.notice.data.entity;
                        break;
                    case"page_watch":
                        g.action = f.instant("directive_notice.notice_type_page_watch"), g.type_icon = kzi.constant.notice_type_icon.page, g.display_entity = g.notice.data.entity;
                        break;
                    case"task_comment":
                        g.action = f.instant("directive_notice.notice_type_task_comment", {name: g.notice.data.target.name}), g.type_icon = kzi.constant.notice_type_icon.comment, g.display_entity = g.notice.data.entity, g.send_entity = g.notice.data.target;
                        break;
                    case"event_comment":
                        g.action = f.instant("directive_notice.notice_type_event_comment", {name: g.notice.data.target.name}), g.type_icon = kzi.constant.notice_type_icon.comment, g.display_entity = g.notice.data.entity, g.send_entity = g.notice.data.target;
                        break;
                    case"file_comment":
                        g.action = f.instant("directive_notice.notice_type_file_comment", {name: g.notice.data.target.name}), g.type_icon = kzi.constant.notice_type_icon.comment, g.display_entity = g.notice.data.entity, g.send_entity = g.notice.data.target;
                        break;
                    case"post_comment":
                        g.action = f.instant("directive_notice.notice_type_post_comment", {name: g.notice.data.target.name}), g.type_icon = kzi.constant.notice_type_icon.comment, g.display_entity = g.notice.data.entity, g.send_entity = g.notice.data.target;
                        break;
                    case"page_comment":
                        g.action = f.instant("directive_notice.notice_type_page_comment", {name: g.notice.data.target.name}), g.type_icon = kzi.constant.notice_type_icon.comment, g.display_entity = g.notice.data.entity, g.send_entity = g.notice.data.target;
                        break;
                    case"file_version":
                        g.action = f.instant("directive_notice.notice_type_file_version"), g.type_icon = kzi.constant.notice_type_icon.file, g.display_entity = g.notice.data.entity;
                        break;
                    case"page_version":
                        g.action = f.instant("directive_notice.notice_type_page_version"), g.type_icon = kzi.constant.notice_type_icon.page, g.display_entity = g.notice.data.entity;
                        break;
                    case"metion_at_comment":
                        g.action = f.instant("directive_notice.notice_type_metion_at_comment"), g.type_icon = kzi.constant.notice_type_icon.comment, g.display_entity = g.notice.data.entity, g.send_entity = g.notice.data.target;
                        break;
                    case"project_archive":
                        g.action = f.instant("directive_notice.notice_type_project_archive"), g.type_icon = kzi.constant.notice_type_icon.project, g.display_entity = g.notice.data.entity;
                        break;
                    case"project_delete":
                        g.action = f.instant("directive_notice.notice_type_project_delete"), g.type_icon = kzi.constant.notice_type_icon.project, g.display_entity = g.notice.data.entity;
                        break;
                    case"project_member_add":
                        g.action = f.instant("directive_notice.notice_type_project_member_add"), g.type_icon = kzi.constant.notice_type_icon.project, g.display_entity = g.notice.data.entity;
                        break;
                    case"project_member_remove":
                        g.action = f.instant("directive_notice.notice_type_project_member_remove"), g.type_icon = kzi.constant.notice_type_icon.project, g.display_entity = g.notice.data.entity;
                        break;
                    case"project_member_admin":
                        g.action = f.instant("directive_notice.notice_type_project_member_admin"), g.type_icon = kzi.constant.notice_type_icon.project, g.display_entity = g.notice.data.entity;
                        break;
                    case"add_task_to_entry":
                        g.action = f.instant("directive_notice.notice_type_add_task_to_entry", {entry_name: g.notice.data.target.name}), g.type_icon = kzi.constant.notice_type_icon.task, g.display_entity = g.notice.data.entity;
                        break;
                    case"move_task_to_entry":
                        g.action = f.instant("directive_notice.notice_type_move_task_to_entry", {entry_name: g.notice.data.target.name}), g.type_icon = kzi.constant.notice_type_icon.task, g.display_entity = g.notice.data.entity;
                        break;
                    case"team_member_add":
                        g.action = f.instant("directive_notice.notice_type_team_member_add"), g.type_icon = kzi.constant.notice_type_icon.team, g.display_entity = g.notice.data.entity;
                        break;
                    case"team_member_remove":
                        g.action = f.instant("directive_notice.notice_type_team_member_remove"), g.type_icon = kzi.constant.notice_type_icon.team, g.display_entity = g.notice.data.entity;
                        break;
                    case"task_remind":
                        g.action = f.instant("directive_notice.notice_type_task_remind"), g.type_icon = kzi.constant.notice_type_icon.task, g.display_entity = g.notice.data.entity;
                        break;
                    case"event_remind":
                        g.action = f.instant("directive_notice.notice_type_event_remind"), g.type_icon = kzi.constant.notice_type_icon.event, g.display_entity = g.notice.data.entity;
                        break;
                    case"task_comment_merge":
                        g.action = f.instant("directive_notice.notice_type_task_comment_merge", {name: l}), g.type_icon = kzi.constant.notice_type_icon.task, g.display_entity = g.notice.data.entity, g.send_entity = g.notice.data.target;
                        break;
                    case"event_comment_merge":
                        g.action = f.instant("directive_notice.notice_type_event_comment_merge", {name: l}), g.type_icon = kzi.constant.notice_type_icon.task, g.display_entity = g.notice.data.entity, g.send_entity = g.notice.data.target;
                        break;
                    case"post_comment_merge":
                        g.action = f.instant("directive_notice.notice_type_post_comment_merge", {name: l}), g.type_icon = kzi.constant.notice_type_icon.task, g.display_entity = g.notice.data.entity, g.send_entity = g.notice.data.target;
                        break;
                    case"page_comment_merge":
                        g.action = f.instant("directive_notice.notice_type_page_comment_merge", {name: l}), g.type_icon = kzi.constant.notice_type_icon.task, g.display_entity = g.notice.data.entity, g.send_entity = g.notice.data.target;
                        break;
                    case"file_comment_merge":
                        g.action = f.instant("directive_notice.notice_type_file_comment_merge", {name: l}), g.type_icon = kzi.constant.notice_type_icon.task, g.display_entity = g.notice.data.entity, g.send_entity = g.notice.data.target;
                        break;
                    default:
                        g.action = k + f.instant("directive_notice.err_template_empty")
                }
                g.js_click_notice = function () {
                    d.global.is_scroll_comment = !0;
                    var a = g.type_icon.name, f = g.display_entity;
                    if (_.isEmpty(g.send_entity) || (a = g.send_entity.etype, f = g.send_entity), j(g, {
                            $eType: a,
                            $entity: f
                        }), "team_member_remove" !== g.notice.template && "project_member_remove" !== g.notice.template) {
                        if ("project" === a)return void e.go("project", {pid: g.notice.filter.prj}, {reload: !0});
                        if ("team" === a)return void b.path("/teams/" + g.notice.filter.team);
                        var h = ["task_comment_merge", "file_comment_merge", "post_comment_merge", "page_comment_merge", "event_comment_merge"], i = ["task_comment", "event_comment", "file_comment", "page_comment", "post_comment", "metion_at_comment"];
                        return h.indexOf(g.notice.template) >= 0 ? void c.openEntity(g.notice.filter.prj, f, g.notice.data.entity.eid) : void(i.indexOf(g.notice.template) >= 0 ? c.openEntity(g.notice.filter.prj, f, g.notice.data.entity.eid) : c.openEntity(g.notice.filter.prj, f))
                    }
                }
            }
        }
    }

    angular.module("wt.directive.notice", []).directive("wtNoticeList", a).controller("wtNoticeCtrl", b).directive("wtNoticeItem", c), b.$inject = ["$scope", "$rootScope", "$timeout", "globalDataContext", "$translate", "ycTrack"], c.$inject = ["$parse", "$location", "locator", "$rootScope", "$state", "$translate"]
}(), function () {
    function a() {
        return {
            restrict: "E",
            replace: !0,
            scope: !0,
            controller: "wtSearchPanelCtl",
            templateUrl: "/ycjs/directive/search/search_panel.html",
            link: function (a, b, c, d) {
                a.taskIsCollapsed = !1, a.itineraryIsCollapsed = !1
            }
        }
    }

    function b(a, b, c, d, e, f, g, h, i, j, k, l) {
        l.track("search", "visit"), a.locator = d;
        var m = a.vm = {
            mood: "input",
            last_searched: null,
            filterTeam: "all",
            current_tab: "all",
            teamName: k.instant("directive_search.all_team"),
            historyIndex: null,
            qpatternName: k.instant("directive_search.full_search"),
            dirty: !1,
            typing: !1,
            using_assistant: !1,
            part_loading_done: !0,
            team_id: c.team_id || "",
            keywords: c.keywords || "",
            qpattern: c.qpattern || "simple",
            noquery: c.noquery,
            tokens_re: "",
            page: 1,
            scopes: "all",
            data: {},
            last_month: Date.now() - 27648e5,
            results: {
                all: {
                    filter_params: {
                        qpattern: "simple",
                        team_id: "all",
                        authored: !1,
                        watching: !1,
                        unarchived: !1,
                        eafter: void 0
                    }
                },
                tasks: {
                    filter_params: {
                        qpattern: "simple",
                        team_id: "all",
                        authored: !1,
                        watching: !1,
                        assigned: !1,
                        unarchived: !1,
                        eafter: void 0
                    }
                },
                events: {
                    filter_params: {
                        qpattern: "simple",
                        team_id: "all",
                        authored: !1,
                        attend: !1,
                        watching: !1,
                        unarchived: !1,
                        eafter: void 0
                    }
                },
                files: {
                    filter_params: {
                        qpattern: "simple",
                        team_id: "all",
                        authored: !1,
                        watching: !1,
                        unarchived: !1,
                        eafter: void 0
                    }
                },
                pages: {
                    filter_params: {
                        qpattern: "simple",
                        team_id: "all",
                        authored: !1,
                        watching: !1,
                        unarchived: !1,
                        eafter: void 0
                    }
                },
                posts: {
                    filter_params: {
                        qpattern: "simple",
                        team_id: "all",
                        authored: !1,
                        watching: !1,
                        unarchived: !1,
                        eafter: void 0
                    }
                },
                mails: {filter_params: {eafter: void 0}}
            }
        }, n = _.cloneDeep(m.results), o = {
            tasks: "task",
            events: "event",
            files: "file",
            pages: "page",
            posts: "post",
            mails: "mail"
        }, p = _(f.teams).filter(function (a) {
            return "-1" !== a.team_id
        }).map(function (a) {
            return [a.team_id, a.name]
        }).unshift(["-1", k.instant("directive_search.personal_project")]).unshift(["all", k.instant("directive_search.all_team")]).zipObject().value();
        m.team_id_name_map = p;
        var q = {
            simple: k.instant("directive_search.full_search"),
            complex: k.instant("directive_search.advanced"),
            ridiculous: k.instant("directive_search.fragment")
        };
        m.qpattern_id_name_map = q;
        var r = function () {
            _.each(m.results, function (a, b) {
                delete a.total, delete a.results
            })
        };
        a.js_revoke_search = function () {
            a.keywords = "", $("#the-search-input").focus()
        }, a.js_blur_input = function () {
            $("#the-search-input").blur()
        }, a.js_scroll_to = function (a) {
            g.scrollTo($("#the-search-result-frame"), a || "top")
        };
        var s = "search_settings_" + wt.me.uid, t = "search_history_" + wt.me.uid, u = function () {
            var a = kzi.localData.getObject(s) || {};
            a.team_id && (m.results.all.filter_params.team_id = a.team_id), a.qpattern && (m.results.all.filter_params.qpattern = a.qpattern)
        }, v = function () {
            var a = {team_id: m.results.all.filter_params.team_id, qpattern: m.results.all.filter_params.qpattern};
            kzi.localData.setObject(s, a)
        }, w = function (a) {
            var b;
            return b = kzi.localData.getObject(t), b && Array.isArray(b) || (b = []), b.slice(0, a)
        }, x = function (a) {
            var b = w(), c = b.indexOf(a);
            return c >= 0 && b.splice(c, 1), b.unshift(a), b.length > kzi.constant.search.max_history && (b = b.splice(0, kzi.constant.search.max_history)), kzi.localData.setObject(t, b), w(5)
        }, y = function (a) {
            var b = w(), c = b.indexOf(a);
            return c >= 0 && b.splice(c, 1), kzi.localData.setObject(t, b), w(5)
        }, z = function () {
            return kzi.localData.remove(t), w(5)
        }, A = function (b, c) {
            a.js_blur_input();
            var d = null, e = null, f = c || 1, g = {};
            if (b ? e = b : (e = "all", f = 1), m.part_loading_done && !(f > 50)) {
                if (m.mood = "results", m.typing = !1, m.using_assistant = !1, d = wt.data.search[e], "all" !== e ? g = _.clone(m.results[b].filter_params) : (g = _.clone(m.results.all.filter_params), _.each(m.results, function (a, b) {
                        "all" != b && (_.each(a.filter_params, function (a, b, c) {
                            c[b] = null
                        }), _.merge(a.filter_params, m.results.all.filter_params))
                    })), "all" === g.team_id && delete g.team_id, "mails" === e && (g = {}), !m.noquery && m.keywords || (g.noquery = !0), g.noquery) {
                    var h = _(g).omit(["noquery", "team_id", "qpattern"]).values().compact().value().length <= 0;
                    if (h)return m.js_reset_typing()
                }
                m.part_loading_done = !1, d(m.keywords, f, g, function (a) {
                    if ("all" !== e && e) {
                        var b = m.results[e];
                        b.curPage = a.data.page, b.total = a.data.total, b.results && 1 != f ? b.results = b.results.concat(a.data.results) : b.results = a.data.results, b.results.length >= b.total ? b.has_more = !1 : b.has_more = !0, m.current_tab = e
                    } else _.each(a.data.results, function (a, b) {
                        var c = m.results[b];
                        c.curPage = f, c.total = a.total, c.results && 1 != f ? c.results = c.results.concat(a.data) : c.results = a.data, c.results.length >= c.total ? c.has_more = !1 : c.has_more = !0
                    });
                    m.total = 0, m.results.all.results = _(m.results).omit("all").map(function (a, b) {
                            var c = o[b];
                            return m.total += m.results[b].total || 0, _.each(m.results[b].results, function (a) {
                                a.__type = c
                            }), m.results[b].results
                        }).flatten().compact().sortByOrder(["__score", "update_date"], ["desc", "desc"]).uniq().value() || [], m.results.all.total = m.total, m.results.all.curPage = f, m.results.all.results.length >= m.results.all.total ? m.results.all.has_more = !1 : m.results.all.has_more = !0, m.tokens_re = _.map(_.filter(a.data.tokens.concat([m.keywords]), function (a) {
                        return !(m.keywords.length > 1 && a.length <= 1)
                    }), function (a) {
                        return a.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&")
                    }).join("|")
                }, null, function () {
                    m.part_loading_done = !0, m.current_tab && "all" !== e ? m.current_tab = e : m.current_tab = "all"
                })
            }
        }, B = function () {
            b.global.title = k.instant("directive_search.title_search"), b.global.loading_done = !0, m.show_mode = "input", m.history = w(5), u(), f.loadProjectAbstracts(function (b) {
                a.projects = b
            }), _.isEmpty(c.keywords) || (m.keywords = c.keywords, m.js_trigger_search(), i(function () {
                a.js_blur_input()
            }, 300))
        };
        m.js_drop_history = function (a) {
            m.history = y(a)
        }, m.js_purge_history = function () {
            m.history = z()
        }, m.js_reset_typing = function () {
            m.mood = "input", m.typing = !1, u()
        }, m.js_show_quickswitch = function () {
            j.toggle()
        }, m.js_select_range = function (a, b, c, d) {
            b && (m.results[m.current_tab || "all"].filter_params.team_id = b), d ? A(m.current_tab, 1) : v()
        }, m.js_select_pattern = function (b, c) {
            e.popbox({
                target: b,
                templateUrl: "/ycjs/directive/search/search_pattern_pop.html",
                controller: ["$scope", "popbox", "globalDataContext", "pop_data", function (a, b, d, e) {
                    a.popbox = b, a.patterns = _.pairs(e.patterns), a.solve_current_pattern = function () {
                        var a = e.scope.vm;
                        return a.results[a.current_tab || "all"].filter_params.qpattern
                    }, a.js_select_pattern = function (b, d) {
                        var f = e.scope.vm;
                        b && (f.results[f.current_tab || "all"].filter_params.qpattern = b), a.js_close(), c ? v() : A(f.current_tab, 1)
                    }, a.js_close = function () {
                        b.close()
                    }
                }],
                resolve: {
                    pop_data: function () {
                        return {scope: a, patterns: q}
                    }
                }
            }).open()
        }, m.js_trigger_search = function (b) {
            return (b = b || m.keywords) ? (m.noquery = !1, m.history = x(b), m.keywords = b, r(), A("all", 1), a.js_scroll_to("top"), void v()) : m.js_reset_typing()
        }, m.js_load_more = function () {
            A(m.current_tab, m.results[m.current_tab].curPage + 1)
        }, m.js_select_tab = function (b, c) {
            b !== m.current_tab && (m.current_tab = b, a.js_scroll_to(c))
        }, m.should_tag_lable_hidden = function (a) {
            if (m.current_tab === a)return !1;
            if (m.noquery && !m.results[a].total)return !0;
            var b = _.foldl(m.results[a].filter_params, function (a, b, c) {
                return a || !!b
            }, !1);
            return 0 !== m.results[a].total && m.results[a].results && 0 !== m.results[a].results.length ? void 0 : !b || m.current_tab !== a
        }, m.toggle_filter = function (a, b) {
            var c = m.results[m.current_tab].filter_params;
            void 0 !== c[a] && (c[a] = !c[a]), m.results[m.current_tab].total = 0, m.results[m.current_tab].results = [], A(m.current_tab, 1)
        }, m.toggle_filter_value = function (a, b) {
            var c = m.results[m.current_tab].filter_params;
            void 0 === c[a] || null === c[a] ? c[a] = b : c[a] = void 0, m.results[m.current_tab].total = 0, m.results[m.current_tab].results = [], A(m.current_tab, 1)
        }, m.js_to_file_or_dir = function (a) {
            a.type === kzi.constant.file_type.folder ? d.toPath("/project/" + a.pid + "/folder/" + a.fid) : d.openFile(a.pid, a.fid)
        }, m.js_express_search = function (b) {
            switch (m.results = _.cloneDeep(n), m.noquery = !0, m.keywords = "", b) {
                case"_assign_my":
                    m.results.tasks.filter_params.assigned = !0, A("tasks", 1);
                    break;
                case"_my_create":
                    _.each(["all", "tasks", "events", "files", "pages", "posts"], function (a) {
                        m.results[a].filter_params.authored = !0
                    }), A("all", 1);
                    break;
                case"_my_watch":
                    _.each(["all", "tasks", "events", "files", "pages", "posts"], function (a) {
                        m.results[a].filter_params.watching = !0
                    }), A("all", 1);
                    break;
                case"_recent_change":
                    _.each(["all", "tasks", "events", "files", "pages", "posts"], function (a) {
                        m.results[a].filter_params.eafter = m.last_month
                    }), A("all", 1);
                    break;
                default:
                    A("all", 1)
            }
            a.js_scroll_to("top")
        }, B()
    }

    function c() {
        return {
            restrict: "E",
            replace: !0,
            scope: {entities: "=", projects: "=", highlightRe: "=highlight"},
            controller: "wtSearchResultListCtl",
            templateUrl: "/ycjs/directive/search/search_result_list.html"
        }
    }

    function d(a, b) {
        a.locator = b;
        var c = {};
        a.tmpTitle = "", a.solve_entity_icon = function (a) {
            switch (a.__type) {
                case"task":
                    return a.completed ? "fa fa-check-square" : "fa fa-square-o";
                case"event":
                    return "fa fa-calendar-o";
                case"file":
                    return a.type === kzi.constant.file_type.folder ? "fa fa-folder-o" : "fa fa-file-o";
                case"page":
                    return "fa fa-file-text-o";
                case"post":
                    return "fa fa-comment-o";
                case"mail":
                    return "fa fa-envelope-o";
                default:
                    return
            }
        }, a.open_entity = function (a) {
            switch (a.__type) {
                case"task":
                    b.openTask(a.pid, a.tid);
                    break;
                case"event":
                    b.openEvent(a.pid, a.event_id);
                    break;
                case"file":
                    a.type === kzi.constant.file_type.folder ? b.toPath("/project/" + a.pid + "/folder/" + a.fid) : b.openFile(a.pid, a.fid);
                    break;
                case"post":
                    b.openPost(a.pid, a.post_id);
                    break;
                case"page":
                    b.openPage(a.pid, a.page_id);
                    break;
                case"mail":
                    b.openMail(a.mail_id)
            }
        }, a.$watch("highlightRe", function (a, b) {
            a != b && (c = {})
        }), a.entity_title = function (b) {
            var d = "";
            if (c[b._id])return c[b._id];
            switch (b.__type) {
                case"event":
                case"file":
                case"post":
                case"page":
                case"task":
                    d = b.name;
                    break;
                case"mail":
                    d = b.subject
            }
            return a.tmpTitle = d.replace(/</g, "&lt;").replace(/>/g, "&gt;"), d = a.$eval("tmpTitle|reHighlight:highlightRe"), c[b._id] = d, d
        }
    }

    angular.module("wt.directive.search_panel", []).directive("wtSearchPanel", a).controller("wtSearchPanelCtl", b).directive("wtSearchResultList", c).controller("wtSearchResultListCtl", d), b.$inject = ["$scope", "$rootScope", "$stateParams", "locator", "$popbox", "globalDataContext", "wtScrollService", "$location", "$timeout", "quickSwitch", "$translate", "ycTrack"], d.$inject = ["$scope", "locator"]
}(), function () {
    "use strict";
    function a(a) {
        return {
            restrict: "A",
            scope: {teams: "=wtPopFilterTeam", selectFn: "&", selectTriggerApply: "@"},
            link: function (b, c, d) {
                c.bind("click", function (c) {
                    a.popbox({
                        target: c,
                        templateUrl: "/ycjs/directive/pop_filter_team/pop_filter_team.html",
                        controller: ["$scope", "popbox", "globalDataContext", "pop_data", function (a, c, e, f) {
                            var g = a.vm = {};
                            a.popbox = c, g.teams = _.pairs(f.teams), g.js_select_team = function (a, c, e) {
                                angular.isDefined(d.selectFn) && b.selectFn({
                                    $event: a,
                                    team_id: c,
                                    team_name: e,
                                    trigger_apply: b.selectTriggerApply
                                }), g.js_close()
                            }, g.js_close = function () {
                                c.close()
                            }
                        }],
                        resolve: {
                            pop_data: function () {
                                return {teams: b.teams}
                            }
                        }
                    }).open()
                })
            }
        }
    }

    angular.module("wt.directive").directive("wtPopFilterTeam", a), a.$inject = ["$popbox"]
}(), function () {
    "use strict";
    function a() {
        return {restrict: "E", replace: !0, scope: !0, templateUrl: "/ycjs/directive/dropwindow/dropwindow.html"}
    }

    angular.module("wt.directive.dropwindow", []).directive("wtDropwindow", a)
}(), function () {
    "use strict";
    function a(a, b) {
        return {
            restrict: "A", link: function (c, d, e) {
                d.addClass("wtdate");
                var f = a(e.select);
                d.datepicker({
                    dateFormat: "yy-mm-dd",
                    defaultDate: e.wtDatepicker,
                    firstDay: 0,
                    prevText: b.instant("common.prevmonth"),
                    nextText: b.instant("common.nextmonth"),
                    onSelect: function (a, b) {
                        c.$apply(function () {
                            c.$eval(e.wtDatepicker + '="' + a + '"', c), _.isFunction(f) && f(c, {
                                val: a,
                                $scope: c,
                                picker: b
                            })
                        })
                    }
                }), c.$watch(e.wtDatepicker, function (a) {
                    d.datepicker("setDate", moment(a).format("YYYY-MM-DD HH:mm"))
                })
            }
        }
    }

    function b(a, b, c) {
        return {
            restrict: "E",
            replace: !0,
            templateUrl: "/ycjs/directive/datepicker/datepicker.html",
            link: function (b, d, e) {
                var f = b.vm = {}, g = b.$eval(e.defaultDate), h = d.find(".wtdate"), i = a(e.setDate), j = b.$eval(e.minDate);
                f.js_set_date_inner = function (a) {
                    var c = null;
                    switch (a) {
                        case"today":
                            c = moment().format("YYYY-MM-DD");
                            break;
                        case"tomorrow":
                            c = moment().add(1, "days").format("YYYY-MM-DD");
                            break;
                        case"week":
                            c = moment().endOf("week").format("YYYY-MM-DD");
                            break;
                        case"next_week":
                            c = moment().add(7, "days").endOf("week").format("YYYY-MM-DD");
                            break;
                        case"month":
                            c = moment().endOf("month").format("YYYY-MM-DD");
                            break;
                        default:
                            c = moment().format("YYYY-MM-DD")
                    }
                    _.isFunction(i) && i(b, {date: c})
                };
                var k = {
                    dateFormat: "yy-mm-dd",
                    defaultDate: g,
                    firstDay: 0,
                    prevText: c.instant("common.prevmonth"),
                    nextText: c.instant("common.nextmonth"),
                    onSelect: function (a) {
                        b.$apply(function () {
                            _.isFunction(i) && i(b, {date: a})
                        })
                    }
                };
                j && (k.minDate = j), h.datepicker(k), b.$watch(e.defaultDate, function (a) {
                    h.datepicker("setDate", a)
                })
            }
        }
    }

    function c(a, b) {
        return {
            restrict: "A", replace: !0, link: function (a, c, d) {
                c.bind("click", function (c) {
                    b.popbox({
                        target: c,
                        templateUrl: "/ycjs/directive/datepicker/pop_event_datepicker.html",
                        controller: ["$scope", "popbox", function (b, c) {
                            var e = a.$eval(d.wtPopFullDatepicker);
                            b.popbox = c, b.default_date = e.default_date, b.min_date = e.min_date, b.js_set_date = function (a) {
                                e.set_date(a), c.close()
                            }, b.js_close = function () {
                                c.close()
                            }
                        }]
                    }).open()
                })
            }
        }
    }

    function d() {
        return {
            restrict: "E",
            scope: {task: "=", success: "&", back: "&back", close: "&close"},
            templateUrl: "/ycjs/directive/datepicker/pop_task_set_expire_date.html",
            link: function (a, b, c) {
                a.has_back = c.back, a.has_close = c.close, a.js_set_expire_date = function (b) {
                    var c = null;
                    switch (b) {
                        case"today":
                            c = moment().format("YYYY-MM-DD");
                            break;
                        case"tomorrow":
                            c = moment().add(1, "days").format("YYYY-MM-DD");
                            break;
                        case"week":
                            c = moment().endOf("week").format("YYYY-MM-DD");
                            break;
                        case"next_week":
                            c = moment().add(7, "days").endOf("week").format("YYYY-MM-DD");
                            break;
                        case"month":
                            c = moment().endOf("month").format("YYYY-MM-DD")
                    }
                    a.task.tid || ("00:00" === moment(a.task.expire_date).format("HH:mm") && (a.task.expire_date += " 23:59"), a.success({expire_date: a.expire_date}))
                }, a.js_set_expire = function () {
                    a.task.tid && wt.data.task.set_expire(a.task.pid, a.task.tid, a.expire_date, function (b) {
                        a.task.expire_date = a.expire_date, a.success({expire_date: a.expire_date})
                    })
                }, a.js_cancel_expire = function () {
                    a.task.pid && wt.data.task.set_expire(a.task.pid, a.task.tid, 0, function (b) {
                        a.success({expire_date: 0})
                    })
                }
            }
        }
    }

    function e() {
        return {
            restrict: "E",
            replace: !0,
            templateUrl: "/ycjs/directive/datepicker/datepicker_timer.html",
            scope: {timer: "="},
            link: function (a, b, c) {
                function d() {
                    e.hour_sections = kzi.constant.all_hour_sections, e.minute_sections = kzi.constant.all_minute_sections, "23:59" !== moment(a.timer).format("HH:mm") && (e.hour = moment(a.timer).format("HH"), e.minute = moment(a.timer).format("mm"), e.show = !0)
                }

                var e = a.vm = {show: !1, hour_sections: [], minute_sections: [], hour: "23", minute: "59"};
                d(), e.toggle = function () {
                    e.show = !e.show, e.show === !0 && "59" === e.minute && (e.hour = moment().format("HH"), e.minute = "00"), e.show === !1 && (e.hour = "23", e.minute = "59"), e.change()
                }, e.change = function () {
                    a.timer = moment(a.timer).format("YYYY-MM-DD") + " " + e.hour + ":" + e.minute
                }
            }
        }
    }

    angular.module("wt.directive.datepicker", []).directive("wtDatepicker", a).directive("wtFullDatepicker", b).directive("wtPopFullDatepicker", c).directive("wtSetTaskExpireDate", d).directive("wtDatepickerTimer", e), a.$inject = ["$parse", "$translate"], b.$inject = ["$parse", "$popbox", "$translate"], c.$inject = ["$parse", "$popbox"], d.$inject = [], e.$inject = []
}(), function () {
    "use strict";
    function a(a, b, c, d) {
        return {
            restrict: "A",
            scope: {teamId: "=", pid: "=", permission: "=", entity: "=", wtPopToggleMembers: "&", allMemberClick: "&"},
            link: function (a, c, e) {
                c.bind("click", function (c) {
                    var f = a.vm = {
                        team_id: a.teamId,
                        pid: a.pid,
                        permission: a.permission,
                        entity: a.entity,
                        type: e.type
                    };
                    return f.pid ? void b.popbox({
                        target: c,
                        templateUrl: "/ycjs/directive/toggle_members/pop_toggle_members.html",
                        controller: ["$rootScope", "$scope", "popbox", "pop_data", function (b, c, d, e) {
                            var f = c.vm = {
                                team_id: e.scope.vm.team_id,
                                pid: e.scope.vm.pid,
                                permission: e.scope.vm.permission,
                                entity: e.scope.vm.entity,
                                type: e.scope.vm.type
                            };
                            f.fnToggleClick = function (b, c) {
                                e.scope.wtPopToggleMembers({$event: b, member: c, xEntity: a.entity})
                            }, f.fnAllMemberClick = function (b, c) {
                                e.scope.allMemberClick({$event: b, members: c, xEntity: a.entity})
                            }
                        }],
                        resolve: {
                            pop_data: function () {
                                return {scope: a}
                            }
                        }
                    }).open() : void kzi.msg.info(d.instant("toggle_members.warn_project_require"))
                })
            }
        }
    }

    function b(a, b) {
        return {
            restrict: "E",
            scope: {
                teamId: "=",
                pid: "=",
                permission: "=",
                entity: "=",
                toggleClick: "&",
                allMemberClick: "&",
                argFnBack: "&",
                argFnClose: "&"
            },
            templateUrl: "/ycjs/directive/toggle_members/toggle_members.html",
            compile: c
        }
    }

    angular.module("wt.directive").directive("wtPopToggleMembers", a).directive("wtToggleMembers", b);
    var c = function (a, b, c) {
        return {
            pre: function (a, b, c, d) {
                a.vm = {};
                a.keySelectionOptions = {
                    scrollContainer: ".toggle-member-result",
                    itemSelector: ".member-item",
                    hoverClass: "hover",
                    globalKey: !0,
                    callbacks: {
                        select: function (a, b) {
                            b && angular.element(b).find("a.avatar").click()
                        }
                    }
                }
            }, post: function (a, b, c, d) {
                function e() {
                    "member" === j.type ? j.title = h.instant("toggle_members.title_type_member") : "watch" === j.type ? j.title = h.instant("toggle_members.title_type_watch") : "attendee" === j.type && (j.title = h.instant("toggle_members.title_type_attendee")), i.loadProjectMembers(j.pid, function (a) {
                        var b = null;
                        "member" === j.type ? b = wt.bus.member.get_scope_members_for_assigned(a, j.xEntity.members) : "watch" === j.type ? b = wt.bus.watch.get_scope_watcher_members(a, j.xEntity.watchers) : "attendee" === j.type && (b = wt.bus.member.get_scope_members_for_assigned(a, j.xEntity.attendees)), j.members = b
                    })
                }

                var f = angular.element(b).injector().get("$timeout"), g = angular.element(b).injector().get("wtScrollService"), h = (angular.element(b).injector().get("$parse"), angular.element(b).injector().get("$translate")), i = angular.element(b).injector().get("globalDataContext"), j = a.vm = {
                    status: "project",
                    team_id: a.teamId,
                    pid: a.pid,
                    permission: a.permission,
                    title: "",
                    search_user_input: "",
                    type: c.type,
                    xEntity: a.entity,
                    members: null,
                    team_members: null,
                    hasArgFnBack: !!c.argFnBack,
                    hasArgFnClose: !!c.argFnClose
                };
                e(), j.js_show_team_members = function (a) {
                    i.loadTeamMembers(j.team_id).then(function (b) {
                        var c = _.map(j.members, "uid");
                        j.team_members = _.reject(b, function (a) {
                            return _.indexOf(c, a.uid) !== -1
                        }), f(function () {
                            var b = $(a.target).parents(".toggle-members").find(".toggle-member-result").eq(0), c = $(a.target).parents(".toggle-members").find(".popbox-menu-header").eq(0);
                            g.scrollTo(b, c)
                        }, 200)
                    })
                }
            }
        }
    };
    a.$inject = ["$parse", "$popbox", "globalDataContext", "$translate"], b.$inject = ["$parse", "$translate"]
}(), function () {
    "use strict";
    function a(a, b, c, d, e, f, g) {
        return {
            restrict: "E",
            replace: !0,
            scope: {},
            templateUrl: "/ycjs/directive/leftmenu/leftmenu.html",
            link: function (f, g, h, i) {
                function j() {
                    k()
                }

                function k() {
                    f.$watch(function () {
                        return e.star_projects
                    }, function (a) {
                        l.star_projects = a
                    })
                }

                var l = f.vm = {$stateParams: d, start_sorting: !1, projects: e.projects, star_projects: []};
                j(), l.goto_dashboard = function () {
                    a.global.leftmenu_current_expand = "", c.go("dashboard.default")
                }, l.goto_search = function () {
                    a.global.leftmenu_current_expand = "", c.go("search", {}, {reload: !0})
                }, l.expand_item = function (b) {
                    return a.global.leftmenu_current_expand === b ? void(a.global.leftmenu_current_expand = "") : void(a.global.leftmenu_current_expand = b)
                }, l.js_pop_show_teams = function (c) {
                    a.global.leftmenu_current_expand = "show_teams", l.popbox = b.popbox({
                        target: c,
                        templateUrl: "/ycjs/directive/leftmenu/pop_my_teams.html",
                        controller: ["$scope", "popbox", "teamService", "$uibModal", function (a, b, c, d) {
                            function f() {
                                g.teams = _.filter(_.clone(e.teams), function (a) {
                                    return "-1" !== a.team_id
                                })
                            }

                            a.popbox = b;
                            var g = a.vm = {teams: []};
                            f(), g.js_show_add_team = function () {
                                c.showAdd(), b.close()
                            }, g.js_pop_create_pro = function () {
                                var a = d.open({
                                    windowClass: "dialog-w680",
                                    templateUrl: "/ycjs/directive/leftmenu/dialog_create_pro.html",
                                    controller: ["$scope", function (b) {
                                        var c = b.vm = {};
                                        c.js_close = function () {
                                            a.close()
                                        }
                                    }]
                                });
                                b.close()
                            }, g.js_close = function () {
                                b.close()
                            }
                        }],
                        onCloseComplete: function () {
                            l.popbox = null, a.global.leftmenu_current_expand = ""
                        }
                    }), l.popbox.open()
                }, l.js_pop_shortcut_create = function (c) {
                    a.global.leftmenu_current_expand = "shortcut_create", l.popbox = b.popbox({
                        target: c,
                        templateUrl: "/ycjs/directive/leftmenu/pop_shortcut_create.html",
                        controller: ["$scope", "popbox", "teamService", "projectService", "taskService", "eventService", "fileService", function (a, b, c, d, e, f, g) {
                            a.popbox = b;
                            var h = a.vm = {};
                            h.js_close = function () {
                                b.close()
                            }, h.add_team = function () {
                                c.showAdd(), b.close()
                            }, h.add_project = function () {
                                d.showAdd(), b.close()
                            }, h.add_task = function () {
                                e.showAdd(!0), b.close()
                            }, h.add_file = function () {
                                g.showAdd(), b.close()
                            }, h.add_event = function () {
                                f.showAdd(!0), b.close()
                            }
                        }],
                        onCloseComplete: function () {
                            l.popbox = null, a.global.leftmenu_current_expand = ""
                        }
                    }), l.popbox.open()
                }, l.js_pop_avatar_self = function (c) {
                    a.global.leftmenu_current_expand = "avatar_self", l.popbox = b.popbox({
                        target: c,
                        templateUrl: "/ycjs/directive/leftmenu/pop_avatar_self.html",
                        controller: ["$scope", "popbox", "feedbackService", "$uibModal", function (a, b, c, d) {
                            a.popbox = b;
                            var e = a.vm = {};
                            e.js_show_feedback = function () {
                                c.show(), b.close()
                            }, e.js_pop_mobild_download = function () {
                                var a = d.open({
                                    windowClass: "dialog-w500",
                                    templateUrl: "/ycjs/directive/leftmenu/dialog_mobile_download.html",
                                    controller: ["$scope", function (b) {
                                        var c = b.vm = {};
                                        c.js_close = function () {
                                            a.close()
                                        }
                                    }]
                                });
                                b.close()
                            }, e.js_pop_watch_wechat = function () {
                                var a = d.open({
                                    windowClass: "dialog-w500",
                                    templateUrl: "/ycjs/directive/leftmenu/dialog_watch_wechat.html",
                                    controller: ["$scope", function (b) {
                                        var c = b.vm = {};
                                        c.js_close = function () {
                                            a.close()
                                        }
                                    }]
                                });
                                b.close()
                            }, e.js_close = function () {
                                b.close()
                            }
                        }],
                        onCloseComplete: function () {
                            l.popbox = null, a.global.leftmenu_current_expand = ""
                        }
                    }), l.popbox.open()
                }, l.js_leftmenu_collapsed = function (b) {
                    a.global.leftmenu_current_expand = ""
                }, l.to_project = function (b) {
                    a.global.leftmenu_current_expand = "", c.go("project", {pid: b.pid}, {reload: !0})
                }, f.js_pop_showhelp = function (a) {
                    b.popbox({
                        target: a,
                        templateUrl: "/tpl/dashboard/pop_dashboard_mailhelp.html",
                        controller: ["$scope", "popbox", "pop_data", function (a, b, c) {
                            a.popbox = b;
                            a.pm = {};
                            a.js_close = function () {
                                b.close()
                            }
                        }],
                        resolve: {
                            pop_data: function () {
                                return {$scope: f}
                            }
                        }
                    }).open()
                }, a.$on("$stateChangeStart", function (b, c, d, e, f) {
                    a.global.leftmenu_current_expand = ""
                }), f.$on(kzi.constant.event_names.shortcut_key_left_menu, function (b, d) {
                    var e = a.global.leftmenu_current_expand, f = "";
                    switch (d.keyCode) {
                        case kzi.constant.keyASCIIs.T:
                            f = "show_teams", l.popbox && l.popbox.close(), e !== f && $("#btn_leftmenu_show_teams").click();
                            break;
                        case kzi.constant.keyASCIIs.G:
                            c.go("dashboard.default");
                            break;
                        case kzi.constant.keyASCIIs.S:
                            c.go("search");
                            break;
                        case kzi.constant.keyASCIIs.N:
                            f = "notice";
                            break;
                        case kzi.constant.keyASCIIs.P:
                            f = "project";
                            break;
                        case kzi.constant.keyASCIIs.F:
                            f = "shortcut_create", l.popbox && l.popbox.close(), e !== f && $("#btn_leftmenu_shortcut_create").click();
                            break;
                        case kzi.constant.keyASCIIs.U:
                            f = "avatar_self", l.popbox && l.popbox.close(), e !== f && $("#btn_leftmenu_avatar_self").click()
                    }
                    _.indexOf(["show_teams", "shortcut_create", "avatar_self"], f) === -1 && (a.global.leftmenu_current_expand === f ? a.global.leftmenu_current_expand = "" : a.global.leftmenu_current_expand = f)
                })
            }
        }
    }

    function b(a, b, c, d, e, f, g, h, i, j) {
        return {
            restrict: "E",
            replace: !0,
            scope: !0,
            templateUrl: "/ycjs/directive/leftmenu/leftmenu_projects.html",
            link: function (g, k, l) {
                function m() {
                    n.collapse_recent_project = _.indexOf(n.leftmenu_projects_collapse, "collapse_recent_project") !== -1;
                    var b = _.map(a.teams, function (a) {
                        var b = _.clone(a);
                        return b.collapse = _.indexOf(n.leftmenu_projects_collapse, a.team_id) !== -1, b.show_projects = _.clone(a.projects), b
                    });
                    n.teams = b, _.each(n.teams, function (a) {
                        _.filter(a.projects, function (a) {
                            n.query_all_teams_projects.push(a.pid)
                        })
                    })
                }

                var n = g.vm = {
                    selected_pid: c.pid,
                    leftmenu_projects_collapse: kzi.localData.get("leftmenu_projects_collapse") ? kzi.localData.get("leftmenu_projects_collapse").split(",") : [],
                    collapse_recent_project: !1,
                    teams: [],
                    projects: [],
                    query: "",
                    query_all_teams_projects: [],
                    current_index: -1,
                    current_pid: "",
                    current_star_project: !0,
                    on_query: !1,
                    star_projects: a.star_projects,
                    recent_projects: a.recent_projects
                };
                m(), g.$on(kzi.constant.event_names.shortcut_key_select_prjs, function (a, b) {
                    switch (b.event.preventDefault(), b.keyCode) {
                        case 13:
                            n.current_pid && n.to_project({pid: n.current_pid});
                            break;
                        case 38:
                            n.current_index <= n.star_projects.length && n.on_query === !0 && (n.current_index = n.star_projects.length + 1), n.current_index--, n.current_index < 0 && (n.current_index = 0), n.current_star_project = n.current_index < n.star_projects.length, n.current_pid = n.query_all_teams_projects[n.current_index], f(n.current_index <= n.star_projects.length ? function () {
                                i.scrollTo($("#leftmenu_content .wt-scroll:eq(0)"), "top")
                            } : function () {
                                i.scrollTo($("#leftmenu_content .wt-scroll:eq(0)"), $("#leftmenu_content .current").parent().prev().prev())
                            });
                            break;
                        case 40:
                            n.current_index++;
                            var c = n.query_all_teams_projects.length;
                            n.current_index > c - 1 && (n.current_index = c - 1), n.current_star_project = n.current_index < n.star_projects.length, n.current_pid = n.query_all_teams_projects[n.current_index], f(function () {
                                i.scrollTo($("#leftmenu_content .wt-scroll:eq(0)"), "#leftmenu_content .current")
                            })
                    }
                }), n.change_query = function () {
                    var b = n.query, c = b.toLowerCase().trim();
                    f(function () {
                        i.scrollTo($("#leftmenu_content .wt-scroll:eq(0)"), "top")
                    }), n.query_all_teams_projects = [], _.each(n.star_projects, function (a) {
                        n.query_all_teams_projects.push(a.pid)
                    }), _.each(n.teams, function (a) {
                        a.show_projects = _.filter(a.projects, function (a) {
                            if (a.name.toLowerCase().indexOf(c) !== -1 || null != a.name_pinyin && a.name_pinyin.indexOf(c) > -1)return n.query_all_teams_projects.push(a.pid), !0
                        })
                    }), n.is_empty = 0 === _.filter(a.projects, function (a) {
                            return a.name.toLowerCase().indexOf(c) !== -1 || null != a.name_pinyin && a.name_pinyin.indexOf(c) > -1
                        }).length, n.on_query = !0, n.current_index = n.star_projects.length, n.current_pid = n.query_all_teams_projects[n.current_index], n.current_star_project = !1, "" === c && (n.on_query = !1, n.current_pid = "", n.current_star_project = !0)
                }, n.js_goto_team = function (a, b) {
                    "-1" !== a.team_id && d.path("/teams/" + a.team_id)
                }, n.to_project = function (a) {
                    e.global.leftmenu_current_expand = "", b.go("project", {pid: a.pid}, {reload: !0})
                }, n.add_project = function () {
                    h.showAdd()
                }, n.toggle_leftmenu_pin = function () {
                    "0" === e.global.me.is_lock_left ? e.global.me.is_lock_left = "1" : e.global.me.is_lock_left = "0", wt.data.user.set_user_prefs(e.global.me.uid, "is_lock_left", e.global.me.is_lock_left)
                }, n.toggleStar = function (b, c) {
                    a.cache.project.set_star(c.pid)
                };
                var o = function (b, c, d, e, f) {
                    var g = [];
                    if ("star" === b)g = j(a.projects, {is_star: 1}); else if ("team" === b) {
                        var h = _.find(n.teams, {team_id: f});
                        if (!h)return;
                        g = h.projects
                    }
                    var i = null, k = null;
                    if (_.isEmpty(e) || (i = _.find(g, {pid: e})), _.isEmpty(d) || (k = _.find(g, {pid: d})), i || k) {
                        var l = 0;
                        "star" === b && (l = wt.bus.project.calculate_prj_star_pos(k, i)), "team" === b && (l = wt.bus.project.calculate_prj_pos(k, i));
                        var m = _.find(g, {pid: c});
                        "star" === b && wt.data.project.prj_star_position(c, l, function (a) {
                            m.star_pos = l
                        }), "team" === b && wt.data.project.prj_position(c, l, function (b) {
                            m.pos = l, n.projects = _.sortBy(n.projects, function (a) {
                                return a.pos
                            }), a.resortProjects()
                        })
                    }
                };
                n.project_sort_options = {
                    containment: ".leftmenu_projects_list",
                    placeholder: "project-placeholder",
                    helper: "clone",
                    revert: 10,
                    dropOnEmpty: !0,
                    tolerance: "pointer",
                    distance: "4",
                    delay: "75",
                    handle: ".wtf-projectmove",
                    start: function (a, b) {
                        b.helper.addClass("project-picked-up"), $(".project-placeholder").css({
                            height: b.item.css("height"),
                            width: b.item.css("width")
                        })
                    },
                    stop: function (a, b) {
                        var c = b.item.attr("pid"), d = b.item.attr("tid"), e = b.item.attr("type"), f = b.item.prev().attr("pid"), g = b.item.next().attr("pid");
                        o(e, c, f, g, d)
                    }
                }, n.js_remove_recent_project = function (b) {
                    a.cache.recent_projects.remove(b), n.recent_projects = a.recent_projects
                }, n.js_collapse_projects = function (a) {
                    a ? (a.collapse = !a.collapse, _.indexOf(n.leftmenu_projects_collapse, a.team_id) === -1 ? n.leftmenu_projects_collapse.push(a.team_id) : n.leftmenu_projects_collapse = _.reject(n.leftmenu_projects_collapse, function (b) {
                        return b === a.team_id
                    })) : _.indexOf(n.leftmenu_projects_collapse, "collapse_recent_project") === -1 ? (n.collapse_recent_project = !0, n.leftmenu_projects_collapse.push("collapse_recent_project")) : (n.collapse_recent_project = !1, n.leftmenu_projects_collapse = _.reject(n.leftmenu_projects_collapse, function (a) {
                        return "collapse_recent_project" === a
                    })), kzi.localData.set("leftmenu_projects_collapse", n.leftmenu_projects_collapse)
                }, g.$on(kzi.constant.event_names.project_star_change, function (b, c) {
                    n.star_projects = a.star_projects
                })
            }
        }
    }

    angular.module("wt.directive.leftmenu", []).directive("wtLeftmenu", a).directive("wtProjectsMenu", b), a.$inject = ["$rootScope", "$popbox", "$state", "$stateParams", "globalDataContext", "$timeout", "shortcutKey"], b.$inject = ["globalDataContext", "$state", "$stateParams", "$location", "$rootScope", "$timeout", "$animate", "projectService", "wtScrollService", "filterFilter"]
}(), function () {
    "use strict";
    function a(a) {
        return {
            priority: -1500, restrict: "A", link: function (b, c, d) {
                function e() {
                    var b = $(a).height(), e = parseInt(b - parseInt(d.wtMinheight, 10), 10);
                    $(c).css("minHeight", e)
                }

                e(), $(a).bind("resize", _.debounce(function () {
                    e()
                }, 50))
            }
        }
    }

    function b(a) {
        return {
            priority: -1500, restrict: "A", link: function (b, c, d) {
                function e() {
                    var e = $(a).height(), f = parseInt(e - b.$eval(d.wtMaxheight), 10);
                    $(c).css("maxHeight", f)
                }

                var f = !0;
                b.$watch(d.wtMaxheight, function (a, b) {
                    (f || a !== b) && (f = !1, e())
                }), $(a).bind("resize", _.debounce(function () {
                    e()
                }, 50))
            }
        }
    }

    function c(a) {
        return {
            priority: -1500, restrict: "A", link: function (b, c, d) {
                function e() {
                    var b = $(a).height(), e = parseInt(b - parseInt(d.wtHeight, 10), 10);
                    $(c).css("height", e)
                }

                e(), $(a).bind("resize", _.debounce(function () {
                    e()
                }, 50))
            }
        }
    }

    angular.module("wt.directive.height", []).directive("wtMinheight", a).directive("wtMaxheight", b).directive("wtHeight", c), a.$inject = ["$window"], b.$inject = ["$window"], c.$inject = ["$window"]
}(), function () {
    "use strict";
    function a() {
        this.scrollTo = function (a, b) {
            if (angular.isElement(a)) {
                var c = a.jquery ? a : $(a), d = c.offset(), e = c.data("wtScroll"), f = typeof b;
                switch (f) {
                    case"object":
                        if (b.jquery || angular.isElement(b)) {
                            var g = b.jquery ? b : $(b);
                            "y" === e.dir ? c.scrollTop(c.scrollTop() + g.offset().top - d.top) : c.scrollLeft(c.scrollLeft() + g.offset().left - d.left)
                        }
                        _.isNumber(b.x) && c.scrollLeft(c.scrollLeft() + b.x - d.left), _.isNumber(b.y) && c.scrollTop(c.scrollTop() + b.y - d.top);
                        break;
                    case"string":
                        if ("top" === b) {
                            c.scrollTop(0);
                            break
                        }
                        if ("bottom" === b) {
                            c.scrollTop(999999);
                            break
                        }
                        if ("left" === b) {
                            c.scrollLeft(0);
                            break
                        }
                        if ("right" === b) {
                            c.scrollLeft(999999);
                            break
                        }
                        if (0 === b.indexOf("+=")) {
                            "y" === e.dir ? c.scrollTop(c.scrollTop() + parseInt(b.substr(2, b.length), 10)) : c.scrollLeft(c.scrollLeft() + parseInt(b.substr(2, b.length), 10));
                            break
                        }
                        if (0 === b.indexOf("-=")) {
                            "y" === e.dir ? c.scrollTop(c.scrollTop() - parseInt(b.substr(2, b.length), 10)) : c.scrollLeft(c.scrollLeft() - parseInt(b.substr(2, b.length), 10));
                            break
                        }
                        $(b).length && ("y" === e.dir ? c.scrollTop(c.scrollTop() + $(b).offset().top - d.top) : c.scrollLeft(c.scrollLeft() + $(b).offset().left - d.left))
                }
            }
        }
    }

    function b() {
        return {
            restrict: "A", priority: -3e3, link: function (a, b, c) {
                var d = {theme: "", scrollInertia: 350, dir: "y", keyboard: !1};
                if ("" !== c.wtScroll) {
                    var e = a.$eval(c.wtScroll);
                    $.isPlainObject(e) && (d = $.extend(!0, d, e))
                }
                var f = {};
                "x" === d.dir ? (f.overflowX = "auto", f.overflowY = "hidden") : (f.overflowX = "hidden", f.overflowY = "auto"), $(b).bind("mousewheel", function (a, b, c, e) {
                    var f = $(a.target), g = a.deltaX < -1 || a.deltaX > 1, h = _.includes(["select", "option", "keygen", "datalist", "textarea"], a.target.nodeName.toLowerCase());
                    if (h && !g) {
                        if (b < 0) {
                            var i = ~b + 1;
                            f.scrollTop() + f.prop("clientHeight") + i > f.prop("scrollHeight") && a.preventDefault()
                        } else f.scrollTop() - b < 0 && a.preventDefault();
                        return void a.stopPropagation()
                    }
                    "x" === d.dir ? g || 0 == a.deltaX && ($(this).clearQueue().animate({scrollLeft: this.scrollLeft - b * a.deltaFactor}, "fast"), a.preventDefault()) : g || a.stopPropagation()
                }), $(b).addClass("wt-scroll").addClass(d.theme).css(f).data("wtScroll", d)
            }
        }
    }

    function c(a, b, c) {
        return {
            restrict: "A", link: function (a, d, e) {
                var f = d.parents(".wt-scroll").eq(0);
                d.bind("click", function () {
                    b(function () {
                        f.length > 0 && c.scrollTo(f, e.wtScrollFoucs)
                    }, 100, !1)
                })
            }
        }
    }

    angular.module("wt.directive.scroll", []).service("wtScrollService", a).directive("wtScroll", b).directive("wtScrollFoucs", c), a.$inject = [], b.$inject = [], c.$inject = ["$parse", "$timeout", "wtScrollService"]
}(), function () {
    "use strict";
    function a(a, b) {
        return {
            restrict: "E",
            replace: !0,
            templateUrl: "/ycjs/directive/activity/activity.html",
            compile: function (c, d, e) {
                return {
                    pre: function (c, d, e, f) {
                        var g = c.$parent.tpl_prefix, h = c.activity.template, i = "project_", j = "item_";
                        switch (void 0 !== c.feed && angular.isString(c.feed.data.entity.name) && (c.feed.data.entity.name = a.getTrustedHtml(c.feed.data.entity.name)), h) {
                            case"task_create":
                                g === i ? (c.verb = [b.instant("directive_activity.in_entry"), " <strong>" + c.activity.data.target.name + "</strong> ", b.instant("directive_activity.task_create_verb")].join(""), c.display_entity = c.activity.data.entity) : g === j ? c.verb = b.instant("directive_activity.task_create_prefix") : c.verb = b.instant("directive_activity.task_create_warn");
                                break;
                            case"task_update_name":
                                g === i ? (c.verb = b.instant("directive_activity.task_update_name_verb_init"), c.display_entity = c.activity.data.entity) : g === j ? c.verb = [b.instant("directive_activity.task_update_name_verb"), " <strong>" + c.activity.data.entity.name + "</strong>"].join("") : c.verb = b.instant("directive_activity.task_update_name_warn");
                                break;
                            default:
                                c.verb = h + b.instant("directive_activity.err_template_empty")
                        }
                    }, post: function (a, b, c, d) {
                    }
                }
            }
        }
    }

    angular.module("wt.directive.activity", []).directive("wtActivity", a), a.$inject = ["$sce", "$translate"]
}(), function () {
    "use strict";
    function a(a, b, c) {
        return {
            restrict: "E",
            replace: !0,
            templateUrl: "/ycjs/directive/activity/activity_feed.html",
            compile: function (d, e, f) {
                return {
                    pre: function (a, d, e, f) {
                        var g = a.feed.template;
                        switch (angular.isString(a.feed.data.entity.name) && (a.feed.data.entity.name = b.getTrustedHtml(a.feed.data.entity.name)), g) {
                            case"task_create":
                                a.actionTitle = c.instant("activity_feed.new_task"), a.type_icon = kzi.constant.feed_type_icon.task, a.display_entity = a.feed.data.entity;
                                break;
                            case"task_complete":
                                a.actionTitle = c.instant("activity_feed.completed_task"), a.type_icon = kzi.constant.feed_type_icon.completed, a.display_entity = a.feed.data.entity;
                                break;
                            case"task_uncomplete":
                                a.actionTitle = c.instant("activity_feed.uncompleted_task"), a.type_icon = kzi.constant.feed_type_icon.completed, a.display_entity = a.feed.data.entity;
                                break;
                            case"task_comment_add":
                                a.actionTitle = c.instant("activity_feed.comment_task"), a.actionText = a.feed.data.target.name, a.type_icon = kzi.constant.feed_type_icon.comment, a.display_entity = a.feed.data.entity, a.send_entity = a.feed.data.target;
                                break;
                            case"task_attach_file":
                                a.actionTitle = c.instant("activity_feed.attachemnt_task"), a.actionText = a.feed.data.entity.name, a.type_icon = kzi.constant.feed_type_icon.task, a.display_entity = a.feed.data.target, a.send_entity = a.feed.data.target;
                                break;
                            case"task_move":
                                a.actionTitle = c.instant("activity_feed.move_task"), a.actionText = a.feed.data.entity.name, a.type_icon = kzi.constant.feed_type_icon.task, a.display_entity = a.feed.data.target, a.send_entity = a.feed.data.target;
                                break;
                            case"task_labels_add":
                                a.actionTitle = c.instant("activity_feed.label_task"), a.type_icon = kzi.constant.feed_type_icon.task, a.display_entity = a.feed.data.entity, a.send_entity = a.feed.data.entity;
                                break;
                            case"task_update_name":
                                a.actionTitle = c.instant("activity_feed.update_name_task"), a.type_icon = kzi.constant.feed_type_icon.task, a.display_entity = a.feed.data.entity, a.send_entity = a.feed.data.entity;
                                break;
                            case"task_update_desc":
                                a.actionTitle = c.instant("activity_feed.update_desc_task"), a.type_icon = kzi.constant.feed_type_icon.task, a.display_entity = a.feed.data.entity, a.send_entity = a.feed.data.entity;
                                break;
                            case"task_expire_set":
                                a.actionTitle = c.instant("activity_feed.set_expire_task"), a.type_icon = kzi.constant.feed_type_icon.task, a.display_entity = a.feed.data.entity, a.send_entity = a.feed.data.entity;
                                break;
                            case"task_todo_check":
                                a.actionTitle = c.instant("activity_feed.completed_todo"), a.type_icon = kzi.constant.feed_type_icon.task, a.display_entity = a.feed.data.entity, a.send_entity = a.feed.data.entity;
                                break;
                            case"task_member_add":
                                a.actionTitle = c.instant("activity_feed.assign_task"), a.type_icon = kzi.constant.feed_type_icon.task, a.display_entity = a.feed.data.entity, a.send_entity = a.feed.data.entity;
                                break;
                            case"task_member_remove":
                                a.actionTitle = c.instant("activity_feed.unassign_task"), a.type_icon = kzi.constant.feed_type_icon.task, a.display_entity = a.feed.data.entity, a.send_entity = a.feed.data.entity;
                                break;
                            case"task_watch_add":
                                a.actionTitle = c.instant("activity_feed.watcher_task"), a.type_icon = kzi.constant.feed_type_icon.task, a.display_entity = a.feed.data.entity, a.send_entity = a.feed.data.entity;
                                break;
                            case"task_watch_remove":
                                a.actionTitle = c.instant("activity_feed.unwatcher_task"), a.type_icon = kzi.constant.feed_type_icon.task, a.display_entity = a.feed.data.entity, a.send_entity = a.feed.data.entity;
                                break;
                            case"task_archive":
                                a.actionTitle = c.instant("activity_feed.archive_task"), a.actionText = a.feed.data.entity.name, a.type_icon = kzi.constant.notice_type_icon.task, a.display_entity = a.feed.data.target, a.send_entity = a.feed.data.target;
                                break;
                            case"task_unarchive":
                                a.actionTitle = c.instant("activity_feed.unarchive_task"), a.actionText = a.feed.data.entity.name, a.type_icon = kzi.constant.notice_type_icon.task, a.display_entity = a.feed.data.target, a.send_entity = a.feed.data.target;
                                break;
                            case"task_delete":
                                a.actionTitle = c.instant("activity_feed.del_task"), a.actionText = a.feed.data.entity.name, a.type_icon = kzi.constant.notice_type_icon.task, a.display_entity = a.feed.data.target, a.send_entity = a.feed.data.target;
                                break;
                            case"entry_create":
                                a.actionTitle = c.instant("activity_feed.create_entry"), a.type_icon = kzi.constant.notice_type_icon.entry, a.display_entity = a.feed.data.target, a.send_entity = a.feed.data.target;
                                break;
                            case"entry_delete":
                                a.actionTitle = c.instant("activity_feed.del_entry"), a.type_icon = kzi.constant.notice_type_icon.entry, a.display_entity = a.feed.data.entity, a.send_entity = a.feed.data.target;
                                break;
                            case"entry_archive":
                                a.actionTitle = c.instant("activity_feed.archive_entry"), a.type_icon = kzi.constant.notice_type_icon.entry, a.display_entity = a.feed.data.entity, a.send_entity = a.feed.data.target;
                                break;
                            case"file_upload":
                                a.actionTitle = c.instant("activity_feed.updload_file"), a.type_icon = kzi.constant.feed_type_icon.file, a.display_entity = a.feed.data.entity;
                                break;
                            case"file_new_version":
                                a.actionTitle = c.instant("activity_feed.uploadfile_newversion"), a.type_icon = kzi.constant.feed_type_icon.file, a.display_entity = a.feed.data.entity;
                                break;
                            case"file_comment_add":
                                a.actionTitle = c.instant("activity_feed.comment_file"), a.actionText = a.feed.data.target.name, a.type_icon = kzi.constant.feed_type_icon.comment, a.display_entity = a.feed.data.entity, a.send_entity = a.feed.data.target;
                                break;
                            case"file_move":
                                a.actionTitle = c.instant("activity_feed.move_file"), a.actionText = a.feed.data.entity.name, a.type_icon = kzi.constant.feed_type_icon.file, a.display_entity = a.feed.data.entity, a.send_entity = a.feed.data.target;
                                break;
                            case"folder_add":
                                a.actionTitle = c.instant("activity_feed.add_folder"), a.type_icon = kzi.constant.feed_type_icon.file, a.display_entity = a.feed.data.entity, a.send_entity = a.feed.data.target;
                                break;
                            case"post_create":
                                a.actionTitle = c.instant("activity_feed.add_post"), a.type_icon = kzi.constant.feed_type_icon.post, a.display_entity = a.feed.data.entity;
                                break;
                            case"post_comment_add":
                                a.actionTitle = c.instant("activity_feed.comment_post"), a.actionText = a.feed.data.target.name, a.type_icon = kzi.constant.feed_type_icon.post, a.display_entity = a.feed.data.entity, a.send_entity = a.feed.data.target;
                                break;
                            case"post_watch_add":
                                a.actionTitle = c.instant("activity_feed.watch_post"), a.actionText = a.feed.data.target.name, a.type_icon = kzi.constant.feed_type_icon.comment, a.display_entity = a.feed.data.entity, a.send_entity = a.feed.data.target;
                                break;
                            case"post_watch_remove":
                                a.actionTitle = c.instant("activity_feed.unwatch_post"), a.actionText = a.feed.data.target.name, a.type_icon = kzi.constant.feed_type_icon.comment, a.display_entity = a.feed.data.entity, a.send_entity = a.feed.data.target;
                                break;
                            case"event_create":
                                a.actionTitle = c.instant("activity_feed.add_event"), a.type_icon = kzi.constant.feed_type_icon.event, a.display_entity = a.feed.data.entity;
                                break;
                            case"event_delete":
                                a.actionTitle = c.instant("activity_feed.del_event"), a.type_icon = kzi.constant.feed_type_icon.event, a.display_entity = a.feed.data.entity;
                                break;
                            case"event_attendee_remove":
                                a.actionTitle = c.instant("activity_feed.attend_event"), a.type_icon = kzi.constant.feed_type_icon.event, a.display_entity = a.feed.data.entity;
                                break;
                            case"event_attendee_add":
                                a.actionTitle = c.instant("activity_feed.unattend_event"), a.type_icon = kzi.constant.feed_type_icon.event, a.display_entity = a.feed.data.entity;
                                break;
                            case"event_attach_file":
                                a.actionTitle = c.instant("activity_feed.attachment_event"), a.type_icon = kzi.constant.feed_type_icon.event, a.display_entity = a.feed.data.entity;
                                break;
                            case"event_detach_file":
                                a.actionTitle = c.instant("activity_feed.unattachment_event"), a.type_icon = kzi.constant.feed_type_icon.event, a.display_entity = a.feed.data.entity;
                                break;
                            case"event_comment_add":
                                a.actionTitle = c.instant("activity_feed.comment_event"), a.actionText = a.feed.data.target.name, a.type_icon = kzi.constant.feed_type_icon.comment, a.display_entity = a.feed.data.entity, a.send_entity = a.feed.data.target;
                                break;
                            case"page_create":
                                a.actionTitle = c.instant("activity_feed.add_page"), a.type_icon = kzi.constant.feed_type_icon.page, a.display_entity = a.feed.data.entity;
                                break;
                            case"page_delete":
                                a.actionTitle = c.instant("activity_feed.del_page"), a.type_icon = kzi.constant.feed_type_icon.page, a.display_entity = a.feed.data.entity;
                                break;
                            case"page_update_name":
                                a.actionTitle = c.instant("activity_feed.update_page_name"), a.type_icon = kzi.constant.feed_type_icon.page, a.display_entity = a.feed.data.entity;
                                break;
                            case"page_new_version":
                                a.actionTitle = c.instant("activity_feed.add_page_new_version"), a.type_icon = kzi.constant.feed_type_icon.page, a.display_entity = a.feed.data.entity;
                                break;
                            case"page_watch_add":
                                a.actionTitle = c.instant("activity_feed.watch_page"), a.type_icon = kzi.constant.feed_type_icon.page, a.display_entity = a.feed.data.entity;
                                break;
                            case"page_comment_add":
                                a.actionTitle = c.instant("activity_feed.comment_page"), a.actionText = a.feed.data.target.name, a.type_icon = kzi.constant.feed_type_icon.comment, a.display_entity = a.feed.data.entity, a.send_entity = a.feed.data.target;
                                break;
                            case"project_archive":
                                a.actionTitle = c.instant("activity_feed.archive_project"), a.type_icon = kzi.constant.feed_type_icon.project, a.display_entity = a.feed.data.entity;
                                break;
                            case"project_unarchive":
                                a.actionTitle = c.instant("activity_feed.unarchive_project"), a.type_icon = kzi.constant.feed_type_icon.project, a.display_entity = a.feed.data.entity;
                                break;
                            case"project_member_add":
                                a.actionTitle = c.instant("activity_feed.add_member_project"), a.actionText = a.feed.data.entity.name, a.type_icon = kzi.constant.feed_type_icon.project, a.display_entity = a.feed.data.target, a.send_entity = a.feed.data.target;
                                break;
                            default:
                                a.actionTitle = c.instant("activity_feed.unknown_action") + g
                        }
                    }, post: function (b, c, d, e) {
                        b.js_click_feed = function () {
                            if (!_.isEmpty(b.send_entity)) {
                                var c = ["task_comment_add", "event_comment_add", "file_comment_add", "page_comment_add", "post_comment_add"];
                                return void(c.indexOf(b.feed.template) >= 0 ? a.openEntity(b.feed.filter.prj, b.send_entity, b.feed.data.entity.eid) : a.openEntity(b.feed.filter.prj, b.send_entity))
                            }
                            a.openEntity(b.feed.filter.prj, b.display_entity)
                        }
                    }
                }
            }
        }
    }

    angular.module("wt.directive.activityFeed", []).directive("wtActivityFeed", a), a.$inject = ["locator", "$sce", "$translate"]
}(), function () {
    "use strict";
    function a() {
        return function (a) {
            return "string" != typeof a ? "" : marked(a, {breaks: !0})
        }
    }

    function b(a) {
        var b = new Sanitize({}), c = new Sanitize(Sanitize.Config.RESTRICTED), d = new Sanitize(Sanitize.Config.BASIC), e = new Sanitize(Sanitize.Config.RELAXED);
        return function (f, g) {
            var h = e;
            switch (g) {
                case 0:
                    h = b;
                    break;
                case 1:
                    h = c;
                    break;
                case 2:
                    h = d;
                    break;
                case 3:
                    h = e;
                    break;
                default:
                    h = e
            }
            var i = document.createElement("div"), j = document.createElement("div");
            return i.innerHTML = filterXSS(f, a), j.appendChild(h.clean_node(i)), j.innerHTML
        }
    }

    function c(a, b, c) {
        return function (d, e, f) {
            e.addClass("ng-binding markdown").data("$binding", f.genParseMarkdown);
            var g = e.html() || "", h = new Markdown.Converter;
            Markdown.Extra.init(h, ["tables", "fenced_code_gfm", "def_list", "attr_list", "footnotes", "strikethrough", "newlines"]);
            var i = h.makeHtml(g), j = a(i);
            e.html(j), d.$watch(f.wtMarkdown, function (d) {
                if (d = d || "", "" !== d) {
                    var f = h.makeHtml(d), g = a(f);
                    e.html(g)
                } else e.html("");
                var i = e.find("a");
                _.each(i, function (a) {
                    if (a.host !== location.host)$(a).attr("target", "_blank"); else {
                        var d = ["share/", "club", "videos", "blog", "plan", "tour", "mobile", "security", "uservoice", "customers", "press", "help", "guide", "feedback", "about", "contact", "privacy", "terms", "can", "workshop", "upgrade", "plus", "careers", "aboutus", "dingding", "template"].join(")|(/");
                        d = new RegExp("^(/" + d + ")"), d.test(a.pathname) && $(a).attr("target", "_blank")
                    }
                    if (b.regexProject.test(a.href))if (a.text === a.href); else {
                        var e = b.regexProject.exec(a.href);
                        $(a).addClass(_.find(kzi.constant.markdown_link, {key: "project"}).previewClass), $(a).bind("click", function (d) {
                            d.preventDefault();
                            var e = b.parseProjectLink(a.href);
                            c.go("project", {pid: e.pid}, {reload: !0})
                        })
                    } else if (b.regexEntity.test(a.href))if (a.text === a.href); else {
                        var e = b.parseEntityLink(a.href);
                        switch (e.type) {
                            case"task":
                                $(a).addClass(_.find(kzi.constant.markdown_link, {key: "task"}).previewClass);
                                break;
                            case"page":
                                $(a).addClass(_.find(kzi.constant.markdown_link, {key: "page"}).previewClass);
                                break;
                            case"post":
                                $(a).addClass(_.find(kzi.constant.markdown_link, {key: "post"}).previewClass);
                                break;
                            case"event":
                                $(a).addClass(_.find(kzi.constant.markdown_link, {key: "event"}).previewClass);
                                break;
                            case"folder":
                                $(a).addClass(_.find(kzi.constant.markdown_link, {key: "file"}).previewClass);
                                break;
                            case"file":
                                $(a).addClass(_.find(kzi.constant.markdown_link, {key: "file"}).previewClass)
                        }
                    }
                })
            })
        }
    }

    angular.module("wt.directive.markdown", []).factory("MdParse", a).factory("sanitize", b).directive("wtMarkdown", c), b.$inject = ["ycConstantXSSWhiteList"], c.$inject = ["sanitize", "linkentityService", "$state"]
}(), function () {
    "use strict";
    function a(a, b, c) {
        function d() {
            this.uploadQueueFiles = [], this.uploadQueueFilesByPid = {}, this.uploadQueueFilesByXid = {}, this.removeQueueFile = function (a) {
                switch (this.uploadQueueFiles = _.reject(this.uploadQueueFiles, function (b) {
                    return b === a
                }), this.uploadQueueFilesByPid[a.data.pid] && delete this.uploadQueueFilesByPid[a.data.pid], a.data.type) {
                    case"task":
                        this.uploadQueueFilesByXid[a.data.tid] && delete this.uploadQueueFilesByXid[a.data.tid];
                        break;
                    case"post":
                        this.uploadQueueFilesByXid[a.data.post_id] && delete this.uploadQueueFilesByXid[a.data.post_id];
                        break;
                    case"file":
                        this.uploadQueueFilesByXid[a.data.fid] && delete this.uploadQueueFilesByXid[a.data.fid];
                        break;
                    case"event":
                        this.uploadQueueFilesByXid[a.data.event_id] && delete this.uploadQueueFilesByXid[a.data.event_id]
                }
            }
        }

        return d.prototype.addFileToDb = function (a, b, d) {
            var e = this, f = {};
            switch (f.target = b.formData.target, f.type = b.formData.type || "project", f.file = {
                pid: b.formData.pid,
                name: b.fname,
                ext: kzi.constant.get_ext(b.ext),
                size: b.size,
                path: b.url
            }, b.formData.type) {
                case"task":
                    f.ext = {tid: b.formData.tid};
                    break;
                case"post":
                    f.ext = {post_id: b.formData.post_id};
                    break;
                case"file":
                    f.ext = {fid: b.formData.fid};
                    break;
                case"event":
                    f.ext = {event_id: b.formData.event_id, folder_id: ""};
                    break;
                default:
                    f.ext = {folder_id: b.formData.folder_id}
            }
            wt.data.file.new_upload(b.formData.pid, f, function (c) {
                f.file = _.extend(f.file, b, c.data), f.file.icon = kzi.helper.build_file_icon(f.file), _.isFunction(d) && d(null, f, a), e.removeQueueFile(a)
            }, function (b) {
                _.isFunction(d) && d(c.instant("uploadfile.err_upload") + b.code, null, a)
            })
        }, d.prototype.startUpload = function (a, d, e) {
            var f = this;
            d.percent = 0, d.upload = b.upload({
                url: a,
                method: "POST",
                fields: d.data,
                file: d.original
            }).progress(function (a) {
                d.percent = parseInt(100 * a.loaded / a.total)
            }).success(function (a) {
                if (200 === a.code) {
                    var b = a.files[0];
                    "avatar" === b.formData.target || "team" === b.formData.target || "special" === b.formData.target ? _.isFunction(e) && e(null, b, d) : f.addFileToDb(d, b, e)
                } else 8100 === a.code ? d.error = c.instant("uploadfile.err_too_large") : d.error = c.instant("uploadfile.fail_upload"), d.percent = 100, e && e(d.error, null, d)
            }).error(function (a) {
                d.percent = 100, d.error = c.instant("uploadfile.fail_upload"), e && e(a, null, d)
            }), d.cancel = function () {
                var a = f.uploadQueueFiles.indexOf(this);
                f.uploadQueueFiles.splice(a, 1), this && this.upload && this.upload.abort()
            }
        }, d.prototype.addFiles = function (a, c, d) {
            var e = this, f = kzi.config.box_url() + "?pid=" + a + "&token=" + kzi.get_cookie("sid");
            _.forEach(c, function (c) {
                switch (/image\/.*/.test(c.original.type) && (c.isImage = !0, b.dataUrl(c.original).then(function (a) {
                    c.Blob = a
                })), c.data.size = c.original.size, e.uploadQueueFiles.push(c), e.uploadQueueFilesByPid[a] ? e.uploadQueueFilesByPid[a].push(c) : e.uploadQueueFilesByPid[a] = [c], c.data.type) {
                    case"task":
                        var g = c.data.tid;
                        e.uploadQueueFilesByXid[g] ? e.uploadQueueFilesByXid[g].push(c) : e.uploadQueueFilesByXid[g] = [c];
                        break;
                    case"post":
                        var g = c.data.post_id;
                        e.uploadQueueFilesByXid[g] ? e.uploadQueueFilesByXid[g].push(c) : e.uploadQueueFilesByXid[g] = [c];
                        break;
                    case"file":
                        var g = c.data.fid;
                        e.uploadQueueFilesByXid[g] ? e.uploadQueueFilesByXid[g].push(c) : e.uploadQueueFilesByXid[g] = [c];
                        break;
                    case"event":
                        var g = c.data.event_id;
                        e.uploadQueueFilesByXid[g] ? e.uploadQueueFilesByXid[g].push(c) : e.uploadQueueFilesByXid[g] = [c]
                }
                e.startUpload(f, c, d)
            })
        }, d.prototype.uploadAvatar = function (a, b) {
            var c = kzi.config.box_url() + "?pid=avatar&token=" + kzi.get_cookie("sid");
            a.data.size = a.original.size, this.startUpload(c, a, b)
        }, d.prototype.uploadBackgroundImage = function (a, b) {
            var c = kzi.config.box_url() + "?pid=special&token=" + kzi.get_cookie("sid");
            a.data.size = a.original.size, this.startUpload(c, a, b)
        }, d.prototype.uploadTeamLogo = function (a, b) {
            var c = kzi.config.box_url() + "?pid=team&token=" + kzi.get_cookie("sid");
            a.data.size = a.original.size, this.startUpload(c, a, b)
        }, new d
    }

    function b(a) {
        return {
            replace: !0,
            restrict: "E",
            templateUrl: "/ycjs/directive/file/uploadFileProcess.html",
            scope: {pid: "="},
            link: function (b, c, d) {
                var e = b.vm = {};
                b.$wtUpload = a, e.cancelUpload = function (c) {
                    var d = a.uploadQueueFiles.indexOf(c);
                    a.uploadQueueFiles.splice(d, 1);
                    var e = a.uploadQueueFilesByPid[b.pid].indexOf(c);
                    e != -1 && a.uploadQueueFilesByPid[b.pid].splice(e, 1), c.upload.abort()
                }
            }
        }
    }

    function c(a) {
        return {
            restrict: "E",
            templateUrl: "/ycjs/directive/file/uploadAttachmentFileProcess.html",
            scope: {type: "@", xfield: "@", trigger: "=", pid: "=", xid: "="},
            link: function (b, c, d) {
                var e = b.vm = {};
                b.$wtUpload = a, e.cancelUpload = function (c) {
                    var d = a.uploadQueueFiles.indexOf(c);
                    a.uploadQueueFiles.splice(d, 1);
                    var e = a.uploadQueueFilesByPid[b.pid].indexOf(c);
                    e != -1 && a.uploadQueueFilesByPid[b.pid].splice(e, 1);
                    var f = a.uploadQueueFilesByXid[b.xid].indexOf(c);
                    f != -1 && a.uploadQueueFilesByXid[b.xid].splice(f, 1), c.upload.abort()
                }
            }
        }
    }

    angular.module("wt.directive.uploadfile", []).factory("$wtUploadFile", a).directive("uploadFileProcess", b).directive("uploadAttachmentFileProcess", c), a.$inject = ["$rootScope", "Upload", "$translate"], b.$inject = ["$wtUploadFile"], c.$inject = ["$wtUploadFile"]
}(), angular.module("wt.directive").directive("wtConfirmPassword", ["$parse", "$window", function (a, b) {
    "use strict";
    return {
        restrict: "E", replace: !0, templateUrl: "/tpl/directive/confirm_password.html", link: function (c, d, e) {
            var f = a(e.confirmSuccess), g = a(e.confirmCancel);
            c.js_cancel_option = function () {
                _.isFunction(g) && g(c)
            }, c.js_forgot_password = function () {
                b.location.href = "/forgot"
            }, c.js_confirm_password = function (a) {
                c.confirming = !0, wt.data.account.conform_password(c.confirm_password, function (a) {
                    _.isFunction(f) && f(c)
                }, function (b) {
                    b.code === kzi.statuses.user_error.invalid_pwd_error.code ? a.$errors.unshift($translate.instant("confirm_password.err_verify")) : a.$errors.unshift($translate.instant("confirm_password.err_500"))
                }, function () {
                    c.confirming = !1
                })
            }
        }
    }
}]), function () {
    "use strict";
    function a(a, b, c) {
        return {
            restrict: "A", link: function (d, e, f) {
                var g = "dragfile_element_" + _.random(1e6);
                $(e).addClass(g), b.global.dragfile_elements.push(g), b.global.dragfile_elements = _.filter(b.global.dragfile_elements, function (a) {
                    return 1 == $("." + a).size()
                });
                var h = a(f.wtDragfile), i = function (a, b) {
                    b.length > 0 && kzi.msg.warn(_.map(b, "name").join("") + " " + c.instant("dragfile.err_is_folder")), h(d, {$files: a})
                }, j = function () {
                    $(e).unbind("dragover.wt_dragfile"), $(e).unbind("drop.wt_dragfile"), $(e).unbind("drop.wt_dragfile_exit dragleave.wt_dragfile_exit dragexit.wt_dragfile_exit dragend.wt_dragfile_exit")
                }, k = function () {
                    $(e).unbind("dragover.wt_dragfile"), $(e).unbind("drop.wt_dragfile"), $(e).unbind("drop.wt_dragfile_exit dragleave.wt_dragfile_exit dragexit.wt_dragfile_exit dragend.wt_dragfile_exit"), $(e).bind("dragover.wt_dragfile", function (a) {
                        a.dataTransfer = a.originalEvent && a.originalEvent.dataTransfer;
                        var c = a.dataTransfer;
                        if (c && $.inArray("Files", c.types) !== -1)return c.dropEffect = "copy", _.each(b.global.dragfile_elements, function (a) {
                            $("." + a).removeClass("dragfile-hover")
                        }), $(e).addClass("dragfile-hover"), !1
                    }), $(e).bind("drop.wt_dragfile", function (a) {
                        a.dataTransfer = a.originalEvent && a.originalEvent.dataTransfer;
                        var b = a.dataTransfer;
                        if (b && b.files && b.files.length) {
                            var c = [], d = [];
                            b.items && "function" == typeof b.items[0].webkitGetAsEntry ? _.forEach(b.items, function (a, b, e) {
                                var f = a.webkitGetAsEntry();
                                f && f.isFile && (c.push(a.getAsFile()), b + 1 === e.length && i(c, d)), f.isDirectory && (d.push(a.getAsFile()), b + 1 === e.length && i(c, d))
                            }) : "undefined" != typeof FileReader && _.forEach(b.files, function (a, b, e) {
                                var f = {
                                    type: 2,
                                    ext: kzi.constant.get_ext(a.name.substring(a.name.lastIndexOf(".") + 1))
                                };
                                if (a.icon = kzi.constant.get_file_icon(f), "undefined" != typeof FileReader) {
                                    var g = new FileReader;
                                    g.onload = function (f) {
                                        c.push(a), b + 1 === e.length && i(c, d)
                                    }, g.onerror = function (f) {
                                        d.push(a), b + 1 === e.length && i(c, d)
                                    }, g.readAsText(a)
                                }
                            })
                        }
                    }), $(e).bind("drop.wt_dragfile_exit dragleave.wt_dragfile_exit dragexit.wt_dragfile_exit dragend.wt_dragfile_exit", function (a) {
                        var b = !0, c = $(e).offset().left, d = $(e).width(), f = $(e).offset().top, g = $(e).height(), h = !1;
                        a.originalEvent.pageX > c & a.originalEvent.pageX < c + d && (h = !0);
                        var i = !1;
                        return a.originalEvent.pageY > f & a.originalEvent.pageY < f + g && (i = !0), h && i && "drop" !== a.type && (b = !1), b && $(e).removeClass("dragfile-hover"), !1
                    })
                };
                d.$watch(f.wtDragfileEnable, function (a, b) {
                    a ? k(a) : j()
                }, !0)
            }
        }
    }

    angular.module("wt.directive.dragfile", []).directive("wtDragfile", a), a.$inject = ["$parse", "$rootScope", "$translate"]
}(), function () {
    "use strict";
    function a() {
        return {
            restrict: "E", templateUrl: "/tpl/directive/wt-folder-tree.html", link: function (a, b, c, d) {
            }
        }
    }

    function b(a) {
        return {
            restrict: "A", link: function (b, c, d) {
                c.on("click", function (c) {
                    var e = b.$eval(d.addFileFromProject);
                    console.info("pid", e);
                    var f = {
                        target: c,
                        templateUrl: "/tpl/directive/add_pop_attachment_from_file.html",
                        controller: ["$scope", "popbox", function (a, b) {
                            a.popbox = b, a.folder_ids = [], a.files_controls = {}, a.files_controls.sort_method_id = 0, a.files_controls.filter = 0, a.files_controls.pid = e, a.files_controls.folder_id = "", a.files_controls.page = 1, a.files_controls.files = [], wt.bus.file.load_one_page_files(a), a.js_attach = function (b) {
                                if (1 === b.type)a.files_controls.loading_done = !1, a.folder_ids.push(a.files_controls.folder_id), a.files_controls.folder_id = b.fid, a.files_controls.files = [], a.files_controls.page = 1, wt.bus.file.load_one_page_files(a); else {
                                    var c = angular.element(".new-comment-edit:visible").scope().vmNewComment;
                                    _.isEmpty(c.files) && (c.files = []), _.find(c.files, {fid: b.fid}) || c.files.push(_.omit(b, "watchers"))
                                }
                            }, a.go_back = function () {
                                a.files_controls.folder_id = a.folder_ids.pop(), a.files_controls.page = 1, a.files_controls.files = [], wt.bus.file.load_one_page_files(a)
                            }, a.load_more = function () {
                                wt.bus.file.load_one_page_files(a)
                            }, a.js_close = function () {
                                b.close()
                            }
                        }]
                    };
                    a.popbox(f).open()
                })
            }
        }
    }

    angular.module("wt.directive.file", []).directive("wtPopAddAttachmentFromFile", ["$popbox", "$rootScope", "$translate", function (a, b, c) {
        return {
            restrict: "A", priority: 500, link: function (d, e, f) {
                e.on("click", function (e) {
                    var g = d.$eval(f.wtPopAddAttachmentFromFile), h = {
                        target: e,
                        templateUrl: "/tpl/directive/add_pop_attachment_from_file.html",
                        controller: ["$scope", "popbox", function (a, d) {
                            a.popbox = d, a.folder_ids = [], a.files_controls = {}, a.files_controls.sort_method_id = 0, a.files_controls.filter = 0, a.files_controls.pid = g.pid, a.files_controls.folder_id = "", a.files_controls.page = 1, a.files_controls.files = [], wt.bus.file.load_one_page_files(a), a.js_attach = function (d) {
                                if (1 === d.type)a.files_controls.loading_done = !1, a.folder_ids.push(a.files_controls.folder_id), a.files_controls.folder_id = d.fid, a.files_controls.files = [], a.files_controls.page = 1, wt.bus.file.load_one_page_files(a); else {
                                    g.files = g.files || [];
                                    var e = _.find(g.files, {fid: d.fid});
                                    if (!e) {
                                        g.files.push(d);
                                        var f = g.event_id ? kzi.constant.xtype.event : g.post_id ? kzi.constant.xtype.post : g.tid ? kzi.constant.xtype.task : g.page_id ? kzi.constant.xtype.page : void 0;
                                        if (void 0 === f)return kzi.msg.error(c.instant("directive_file.err_type_unknow"));
                                        var h = g.event_id || g.post_id || g.tid || g.page_id || void 0;
                                        if (void 0 === h)return kzi.msg.error(c.instant("directive_file.err_id_unknow"));
                                        var i = function () {
                                            f === kzi.constant.xtype.task && (g.update_date = Date.now(), g.file_count += 1, b.$broadcast(kzi.constant.event_names.on_task_update, g)), f === kzi.constant.xtype.post && b.$broadcast(kzi.constant.event_names.on_uploadfile_add_to_post, {
                                                post_id: h,
                                                files: [1]
                                            })
                                        };
                                        wt.data.file.attach(g.pid, f, h, d.fid, i)
                                    }
                                }
                            }, a.go_back = function () {
                                a.files_controls.folder_id = a.folder_ids.pop(), a.files_controls.page = 1, a.files_controls.files = [], wt.bus.file.load_one_page_files(a)
                            }, a.load_more = function () {
                                wt.bus.file.load_one_page_files(a)
                            }, a.js_close = function () {
                                d.close()
                            }
                        }]
                    };
                    a.popbox(h).open()
                })
            }
        }
    }]).directive("wtAddAttachmentFromFile", ["$rootScope", "$parse", "$translate", function (a, b, c) {
        return {
            restrict: "E",
            replace: !0,
            templateUrl: "/tpl/directive/add_pop_attachment_from_file.html",
            link: function (d, e, f) {
                var g = d.$eval(f.entity), h = b(f.goBackFurther);
                _.isEmpty(h) ? d.has_go_further_back = !1 : d.has_go_further_back = !0, d.folder_ids = [], d.files_controls = {}, d.files_controls.sort_method_id = 0, d.files_controls.filter = 0, d.files_controls.pid = g.pid, d.files_controls.folder_id = "", d.files_controls.page = 1, d.files_controls.files = [], wt.bus.file.load_one_page_files(d), d.go_back_further = function () {
                    h(d)
                }, d.js_attach = function (b) {
                    if (1 === b.type)d.files_controls.loading_done = !1, d.folder_ids.push(d.files_controls.folder_id), d.files_controls.folder_id = b.fid, d.files_controls.files = [], d.files_controls.page = 1, wt.bus.file.load_one_page_files(d); else {
                        g.files = g.files || [];
                        var e = _.find(g.files, {fid: b.fid});
                        if (!e) {
                            g.files.push(b);
                            var f = g.event_id ? kzi.constant.xtype.event : g.post_id ? kzi.constant.xtype.post : g.tid ? kzi.constant.xtype.task : g.page_id ? kzi.constant.xtype.page : void 0;
                            if (void 0 === f)return kzi.msg.error(c.instant("directive_file.err_type_unknow"));
                            var h = g.event_id || g.post_id || g.tid || g.page_id || void 0;
                            if (void 0 === h)return kzi.msg.error(c.instant("directive_file.err_id_unknow"));
                            var i = function () {
                                f === kzi.constant.xtype.task && (g.badges.file_count++, a.$broadcast(kzi.constant.event_names.on_task_update, g))
                            };
                            wt.data.file.attach(g.pid, f, h, b.fid, i)
                        }
                    }
                }, d.go_back = function () {
                    d.files_controls.folder_id = d.folder_ids.pop(), d.files_controls.page = 1, d.files_controls.files = [], wt.bus.file.load_one_page_files(d)
                }, d.load_more = function () {
                    wt.bus.file.load_one_page_files(d)
                }
            }
        }
    }]).directive("wtFilesBreadcrumb", [function () {
        return {
            replace: !1,
            restrict: "E",
            scope: {folders: "=", pid: "@"},
            templateUrl: "/tpl/directive/files_breadcrumb.html",
            link: function (a, b, c) {
            }
        }
    }]).directive("zippy", [function () {
        return {
            restrict: "E", transclude: !0, templateUrl: "/tpl/directive/zippy.html", link: function (a, b, c, d) {
                a.isSubFolderVisible = !1, void 0 === a.node && (a.isSubFolderVisible = !0), a.toggleContent = function () {
                    a.isSubFolderVisible === !0 && a.data.selected_move_to_node !== a.node ? a.data.selected_move_to_node = a.node : (a.isSubFolderVisible = !a.isSubFolderVisible, a.data.selected_move_to_node = a.node)
                }
            }
        }
    }]).directive("wtFolderTree", a).directive("addFileFromProject", b), b.$inject = ["$popbox"]
}(), function () {
    "use strict";
    function a(a, b) {
        return {
            restrict: "E",
            replace: !0,
            templateUrl: "/ycjs/directive/file/file_item.html",
            scope: !0,
            link: function (c, d, e) {
                var f = c.dm = {view_type: "icon" === e.viewType ? "icon" : "list"};
                c.$watch(e.viewType, function (a, b) {
                    _.isEmpty(a) || (f.view_type = "icon" === a ? "icon" : "list")
                });
                var g = e.routeChange;
                f.js_open_file = function (d, e) {
                    "icon" === c.dm.view_type && !$(d.target).hasClass("slide-trigger") && ($(d.target).hasClass("file-item-preview") || $(d.target).parents(".file-item-preview").length > 0) || (e.type === kzi.constant.file_type.file ? g ? e.folder_id ? a.path("/project/" + e.pid + "/folder/" + e.folder_id + "/" + e.fid) : a.path("/project/" + e.pid + "/file/" + e.fid) : b.openFile(e.pid, e.fid, !1) : a.path("/project/" + e.pid + "/folder/" + e.fid))
                }
            }
        }
    }

    angular.module("wt.directive.file_item", []).directive("wtFileItem", a), a.$inject = ["$location", "locator"]
}(), function () {
    "use strict";
    function a(a, b, c) {
        return {
            restrict: "E",
            replace: !0,
            templateUrl: "/ycjs/directive/file/file_delete.html",
            scope: {vmBack: "&back", vmClose: "&close", vmSuccessDone: "&successDone", vmFile: "=file"},
            link: function (d, e, f) {
                var g = d.vm = {
                    parse_back: d.vmBack,
                    parse_close: d.vmClose,
                    parse_success_done: d.vmSuccessDone,
                    file: d.vmFile,
                    has_back: !!f.back,
                    has_close: !!f.close,
                    has_success_done: !!f.successDone,
                    is_deleting: !1
                };
                g.js_del_file = function (d) {
                    wt.data.file.trash(d.pid, d.fid, function (e) {
                        200 === e.code ? (b.cache.file.del(d.pid, d.fid), a.$broadcast(kzi.constant.event_names.on_file_trash, d), g.has_success_done && g.parse_success_done()) : kzi.msg.warn(c.instant("file_delete.err_del_file"))
                    })
                }
            }
        }
    }

    angular.module("wt.directive.file").directive("wtFileDelete", a), a.$inject = ["$rootScope", "globalDataContext", "$translate"]
}(), function () {
    "use strict";
    function a(a, b, d, e, f) {
        return {
            link: function (g, h, i) {
                document.body.addEventListener && h.bind("paste", function (g) {
                    if ("INPUT" !== g.target.tagName && "TEXTAREA" !== g.target.tagName) {
                        var h = c(g, a.global.me, f.instant("pastefile.file_name_prefix"));
                        if (h && 0 !== h.length) {
                            if (!d.isOpened)return e.$$path.length === e.$$path.indexOf("/file") + 5 || void 0 !== b.folder_id ? void a.$broadcast(kzi.constant.event_names.on_pastefile_to_folder, h) : void 0;
                            switch (d.xtype) {
                                case"tasks":
                                    a.$broadcast(kzi.constant.event_names.on_pastefile_to_task, h);
                                    break;
                                case"events":
                                    a.$broadcast(kzi.constant.event_names.on_pastefile_to_event, h);
                                    break;
                                case"files":
                                    a.$broadcast(kzi.constant.event_names.on_pastefile_to_file, h);
                                    break;
                                case"posts":
                                    a.$broadcast(kzi.constant.event_names.on_pastefile_to_post, h)
                            }
                        }
                    }
                })
            }
        }
    }

    function b(a, b, d) {
        return {
            link: function (e, f, g) {
                var h = a(g.wtPasteFile);
                f.bind("paste", function (a) {
                    var f = c(a, b.global.me, d.instant("pastefile.file_name_prefix"));
                    f && f.length > 0 && h(e, {$files: f})
                })
            }
        }
    }

    var c = function (a, b, c) {
        var d = [], e = null;
        e = a.originalEvent ? a.originalEvent.clipboardData : a.clipboardData;
        for (var f = e && e.items ? e.items : [], g = 0; g < f.length; g++)if ("file" == f[g].kind && "image/png" == f[g].type) {
            var h = f[g].getAsFile();
            h.name = "[" + b.display_name + "] " + c + " - " + moment().format("YYYY-MM-DD HH:mm") + ".png", d.push(h), a.preventDefault();
            break
        }
        return d
    };
    angular.module("wt.directive.pastefile", ["wt.locator"]).directive("wtRootPasteFile", a).directive("wtPasteFile", b), a.$inject = ["$rootScope", "$stateParams", "locator", "$location", "$translate"], b.$inject = ["$parse", "$rootScope", "$translate"]
}(), function () {
    "use strict";
    function a(a, b, c, d, e, f, g) {
        var h = d.pid, i = e.team_id || "", j = e.save_success;
        b.popbox = c, b.step = 0, b.is_team_calendar = e.is_team_calendar || !1, b.repeat_intervals = kzi.constant.event_repeat_intervals, _.each(b.repeat_intervals, function (a) {
            a.desc = g.instant(a.desc)
        });
        var k = moment().format("HH"), l = moment().format("mm"), m = kzi.constant.all_hour_sections, n = kzi.constant.all_minute_sections, o = e.start_date ? moment(e.start_date) : moment(), p = e.start_date ? moment(e.start_date) : moment();
        p._d.setHours(p._d.getHours() + 1);
        var q = function () {
            b.start_hour_sections = m, b.start_minute_sections = n;
            var a = l.substring(0, 1) + "0";
            b.new_event.start_minute = a, b.new_event.end_minute = a, b.new_event.repeat_interval = b.repeat_intervals[0]
        }, r = function (a) {
            var c = a;
            c ? null : c = {isChangeStartDate: !1};
            var d = b.new_event.start_date, e = b.new_event.start_hour, f = b.new_event.start_minute, g = b.new_event.end_date, h = b.new_event.end_hour;
            if (g <= d ? (b.new_event.end_date = d, e >= h ? (b.new_event.end_hour = e, b.new_event.end_minute <= f && (b.new_event.end_minute = f), b.end_minute_sections = _.filter(n, function (a) {
                    return a >= f
                })) : b.end_minute_sections = n, b.end_hour_sections = _.filter(m, function (a) {
                    return a >= e
                })) : (b.end_hour_sections = m, b.end_minute_sections = n), c.isChangeStartDate) {
                if (1 * b.new_event.start_hour + 1 >= 1 * b.new_event.end_hour && (b.new_event.end_hour = 1 * b.new_event.start_hour + 1 + "", 1 == b.new_event.end_hour.length ? "0" + b.new_event.end_hour : null, b.new_event.end_hour > "23" && (b.new_event.end_hour = "00")), "23" == b.new_event.start_hour && b.new_event.start_date == b.new_event.end_date) {
                    var i = moment(b.new_event.start_date);
                    i._d.setDate(i._d.getDate() + 1), b.new_event.end_date = i.format("YYYY-MM-DD"), b.new_event.end_hour = "00", b.new_event.end_minute = "00", b.end_hour_sections = m
                }
                b.end_minute_sections = n
            }
        };
        b.new_event = {
            start_date: o.format("YYYY-MM-DD"),
            end_date: p.format("YYYY-MM-DD"),
            start_hour: k,
            start_minute: l,
            end_hour: p.format("HH"),
            end_minute: l,
            attendees: [a.global.me]
        }, h ? (b.new_event.pid = h, b.show_project_select = !1) : (b.selected_projects = f.getPacketProjects(), b.is_team_calendar && (b.selected_projects = _.filter(b.selected_projects, function (a) {
            return a.team_id === i
        })), _.isEmpty(b.selected_projects) || (b.new_event.pid = b.selected_projects[0].pid, b.new_event.original_pid = b.new_event.pid), b.show_project_select = !0), q(), b.$watch("[new_event.start_date,new_event.start_hour,new_event.start_minute]", function (a) {
            r({isChangeStartDate: !0})
        }, !0), r(), b.js_to_set_date = function (a) {
            b.current_date_type = a, "start_date" === a ? (b.current_date = b.new_event.start_date, b.min_date = null, b.set_date_title = g.instant("directive_event.err_start_too_large")) : (b.current_date = b.new_event.end_date, b.min_date = b.new_event.start_date, b.set_date_title = g.instant("directive_event.err_end_too_large")), b.js_step(1)
        }, b.js_set_date = function (a) {
            a = moment(a).format("YYYY-MM-DD"), "start_date" === b.current_date_type ? (b.new_event.start_date = a, q(moment(a))) : (b.new_event.end_date = a, r()), b.js_step(0)
        }, b.js_change_end_hour = function () {
            r()
        }, b.js_change_project = function () {
            b.new_event.pid !== b.new_event.original_pid && (b.new_event.original_pid = b.new_event.pid, b.new_event.attendees = [a.global.me])
        }, b.js_to_attendee = function () {
            b.members = [], b.loading_members = !0, f.loadProjectMembers(b.new_event.pid, function (a) {
                var c = [];
                _.each(a, function (a) {
                    if (1 === a.status && a.role !== kzi.constant.role.guest) {
                        var d = _.find(b.new_event.attendees, {uid: a.uid});
                        d ? a.assigned = 1 : a.assigned = 0, c.push(a)
                    }
                }), b.members = c, b.loading_members = !1
            }), b.js_step(2)
        }, b.js_toggle_member = function (a) {
            a.setting_toggle_member !== !0 && (a.setting_toggle_member = !0, wt.bus.member.set_event_attendees_toggle(h, b.new_event, a, function () {
            }, null, function () {
                a.setting_toggle_member = !1
            }))
        }, b.js_save_event = function (a) {
            if (!_.isEmpty(b.new_event.name)) {
                b.new_event.is_saving = !0;
                var c = _.map(b.new_event.attendees, "uid"), d = b.new_event.end_date, e = b.new_event.end_hour + ":" + b.new_event.end_minute, f = b.new_event.location, h = b.new_event.start_hour + ":" + b.new_event.start_minute;
                wt.data.event.add(b.new_event.pid, b.new_event.name, f, c, b.new_event.start_date, h, d, e, b.new_event.repeat_interval.key, function (a) {
                    b.js_close(), _.isFunction(j) && j(a.data)
                }, function (a) {
                    switch (1 * a.code) {
                        case 13012:
                            kzi.msg.error(g.instant("directive_event.err_name_too_large"));
                            break;
                        case 13013:
                            kzi.msg.error(g.instant("directive_event.err_location_too_large"));
                            break;
                        case 13014:
                            kzi.msg.error(g.instant("directive_event.err_desc_too_large"));
                            break;
                        default:
                            kzi.msg.error(g.instant("directive_event.fail_save"))
                    }
                }, function () {
                    b.new_event.is_saving = !1
                })
            }
        }, b.js_add_all = function () {
            _.each(b.members, function (a) {
                a.assigned = 1, _.find(b.new_event.attendees, {uid: a.uid}) || b.new_event.attendees.push(a)
            }), b.js_step(0)
        }, b.js_close = function () {
            c.close()
        }, b.js_step = function (a) {
            b.step = a
        }
    }

    function b(a, b) {
        return {
            restrict: "A", replace: !0, link: function (c, d, e) {
                var f = a(e.wtPopNewEvent);
                d.bind("click", function (a) {
                    b.popbox({
                        target: a,
                        templateUrl: "/ycjs/directive/event/pop_add_event.html",
                        controller: "newEventCtrl",
                        resolve: {
                            pop_data: function () {
                                return {
                                    save_success: function (a) {
                                        f(c, {events: a})
                                    }, scope: c
                                }
                            }
                        }
                    }).open()
                })
            }
        }
    }

    function c() {
        return {
            restrict: "E",
            replace: !0,
            scope: {
                startDate: "=",
                startTime: "=",
                endDate: "=",
                endTime: "=",
                defaultStartDatetime: "&",
                defaultEndDatetime: "&",
                displayMode: "@"
            },
            templateUrl: "/ycjs/directive/event/start_end_datatime.html",
            link: function (a, b, c) {
                var d = c.defaultStartDatetime ? moment(a.defaultStartDatetime) : moment(), e = c.defaultEndDatetime ? moment(a.defaultEndDatetime) : moment();
                23 == e._d.getHours() && e._d.setMinutes(0), e._d.setHours(e._d.getHours() + 1);
                var f = a.vm = {
                    startHour: d.format("HH"),
                    startMinute: d.format("mm"),
                    endHour: e.format("HH"),
                    endMinute: e.format("mm"),
                    allHourSections: kzi.constant.all_hour_sections,
                    allMinuteSections: kzi.constant.all_minute_sections,
                    displayMode: a.displayMode || "row"
                }, g = function () {
                    f.startHourSections = kzi.constant.all_hour_sections, f.startMinuteSections = kzi.constant.all_minute_sections, f.startMinute = f.startMinute.substring(0, 1) + "0", f.endMinute = f.endMinute.substring(0, 1) + "0"
                };
                f.changeDatetime = function (b) {
                    var c = b;
                    if (c ? null : c = {isChangeStartDate: !1}, a.startDate >= a.endDate ? (a.endDate = a.startDate, f.startHour >= f.endHour ? (f.endHour = f.startHour, f.endMinute <= f.startMinute && (f.endMinute = f.startMinute), f.endMinuteSections = _.filter(kzi.constant.all_minute_sections, function (a) {
                            return a >= f.startMinute
                        })) : f.endMinuteSections = kzi.constant.all_minute_sections, f.endHourSections = _.filter(kzi.constant.all_hour_sections, function (a) {
                            return a >= f.startHour
                        })) : (f.endHourSections = kzi.constant.all_hour_sections, f.endMinuteSections = kzi.constant.all_minute_sections), c.isChangeStartDate) {
                        if (1 * f.startHour + 1 >= 1 * f.endHour && (f.endHour = 1 * f.startHour + 1 + "", 1 == f.endHour.length ? "0" + f.endHour : null, f.endHour > "23" && (f.endHour = "00")), "23" == f.startHour && a.startDate == a.endDate) {
                            var d = moment(a.endDate);
                            d._d.setDate(d._d.getDate() + 1), a.endDate = d.format("YYYY-MM-DD"), f.endHour = "00", f.endMinute = "00", f.endHourSections = kzi.constant.all_hour_sections
                        }
                        f.endMinuteSections = kzi.constant.all_minute_sections
                    }
                    a.startTime = f.startHour + ":" + f.startMinute, a.endTime = f.endHour + ":" + f.endMinute
                };
                var h = function () {
                    a.startDate = d.format("YYYY-MM-DD"), a.endDate = e.format("YYYY-MM-DD"), a.startTime = f.startHour + ":" + f.startMinute, a.endTime = f.endHour + ":" + f.endMinute, g(), f.changeDatetime(), f.startDateOptions = {
                        default_date: a.startDate,
                        set_date: function (b) {
                            a.startDate = moment(b).format("YYYY-MM-DD"), f.startDateOptions.default_date = a.startDate, f.endDateOptions.min_date = moment(a.startDate).format("YYYY-MM-DD"), f.changeDatetime()
                        }
                    }, f.endDateOptions = {
                        default_date: moment(a.endDate).format("YYYY-MM-DD"),
                        min_date: moment(a.startDate).format("YYYY-MM-DD"),
                        set_date: function (b) {
                            a.endDate = moment(b).format("YYYY-MM-DD"), f.endDateOptions.default_date = a.endDate, f.changeDatetime()
                        }
                    }
                };
                h()
            }
        }
    }

    angular.module("wt.directive.event", []).controller("newEventCtrl", a).directive("wtPopNewEvent", b).directive("startEndDatetime", c), a.$inject = ["$rootScope", "$scope", "popbox", "$stateParams", "pop_data", "globalDataContext", "$translate"], b.$inject = ["$parse", "$popbox"], c.$inject = []
}(), function () {
    "use strict";
    function a() {
        return {
            restrict: "E",
            scope: {title: "@", size: "@", number: "=", color: "@", bgcolor: "@"},
            template: "<div></div>",
            link: function (a, b, c) {
                var d = parseInt(a.number, 10), e = a.bgcolor ? a.bgcolor : "#EEE";
                _.isNaN(d) && (d = 0), $(b).children().eq(0).highcharts(Highcharts.merge(f, g, {
                    chart: {height: a.size},
                    pane: {background: {backgroundColor: e}},
                    series: [{
                        data: [{color: a.color, y: d}],
                        dataLabels: {format: '<div style="text-align:center"><span style="font-size:16px;color:' + a.color + '">{y}<small>%</small></span>'}
                    }]
                })), a.$watch("number", function (a, c) {
                    var d, e = $(b.children()[0]).highcharts();
                    e && (d = e.series[0].points[0], d && (_.isNaN(a) && (a = 0), a = ~~a, d.update(a)))
                })
            }
        }
    }

    function b() {
        return {
            restrict: "E",
            scope: {name: "@", height: "@", data: "="},
            template: "<div></div>",
            link: function (a, b, c) {
                var d = a.height ? parseInt(a.height, 10) : 240, e = Highcharts.merge(f, h, {
                    chart: {height: d},
                    plotOptions: {
                        pie: {
                            showInLegend: !0,
                            innerSize: "60%",
                            dataLabels: {
                                distance: -25,
                                style: {color: "#ffffff", textShadow: "0px 1px 2px black"},
                                formatter: function () {
                                    return ~~this.percentage + "%"
                                }
                            }
                        }
                    },
                    series: [{name: a.name, data: a.data}]
                });
                $(b).children().eq(0).highcharts(e)
            }
        }
    }

    function c() {
        return {
            restrict: "E", scope: {config: "="}, template: "<div></div>", link: function (a, b, c) {
                var d = "#e1e1e1", e = "#fbfbfb", g = {
                    chart: {animation: !1, type: "column", backgroundColor: "#ffffff"},
                    legend: {align: "right", verticalAlign: "bottom"},
                    title: {text: ""},
                    colors: [kzi.constant.graph_color.todo, kzi.constant.graph_color.done],
                    xAxis: {title: {text: ""}, tickInterval: 1, lineColor: d, tickColor: d, tickWidth: 0},
                    yAxis: {
                        title: {text: ""},
                        lineWidth: 1,
                        minTickInterval: 1,
                        lineColor: d,
                        gridLineColor: e,
                        gridLineWidth: 0,
                        minRange: 4,
                        min: 0,
                        floor: 0
                    }
                };
                g = Highcharts.merge(f, g, a.config), $(b).children().eq(0).highcharts(g)
            }
        }
    }

    function d() {
        return {
            restrict: "E", scope: {config: "="}, template: "<div></div>", link: function (a, b, c) {
                var d = (a.vm = {part_loading_done: !1}, "#e1e1e1"), e = "#e1e1e1", g = {
                    chart: {
                        type: "column",
                        inverted: !0
                    },
                    legend: {margin: 0, align: "right", verticalAlign: "bottom"},
                    title: {text: ""},
                    xAxis: {title: {text: ""}, tickInterval: 1, tickColor: d, lineColor: d, tickWidth: 0},
                    yAxis: {
                        title: {text: ""},
                        lineWidth: 1,
                        minTickInterval: 1,
                        lineColor: d,
                        gridLineColor: e,
                        tickWidth: 0,
                        min: 0,
                        floor: 0,
                        minRange: 4
                    },
                    colors: [kzi.constant.graph_color.todo, kzi.constant.graph_color.done]
                };
                g = Highcharts.merge(f, g, a.config), $(b).children().eq(0).highcharts(g)
            }
        }
    }

    function e() {
        return {
            restrict: "E", scope: {config: "="}, template: "<div></div>", link: function (a, b, c) {
                var d = (a.vm = {}, "#e1e1e1"), e = "#fbfbfb", g = {
                    chart: {type: "line", margin: [10, 1, 66, 30]},
                    legend: {align: "right", verticalAlign: "bottom"},
                    title: {text: ""},
                    xAxis: a.xaxis,
                    plotOptions: {line: {enabled: !0}},
                    yAxis: [{
                        title: {text: ""},
                        lineWidth: 0,
                        minTickInterval: 1,
                        lineColor: d,
                        gridLineColor: e,
                        minRange: 4,
                        min: 0,
                        floor: 0
                    }, {
                        title: {text: ""},
                        lineWidth: 0,
                        minTickInterval: 1,
                        opposite: !0,
                        lineColor: d,
                        gridLineColor: e,
                        minRange: 4,
                        min: 0,
                        floor: 0
                    }],
                    series: a.series,
                    colors: [kzi.constant.graph_color.done, kzi.constant.graph_color.addnew]
                }, h = Highcharts.merge(f, g, a.config);
                1 === h.series.length && (h.chart.margin = null, h.legend = {enabled: !1}), $(b).children().eq(0).highcharts(h)
            }
        }
    }

    angular.module("wt.directive.graph", []).directive("wtGraphGauge", a).directive("wtGraphPie", b).directive("wtGraphColumn", c).directive("wtGraphBar", d).directive("wtGraphLine", e);
    var f = {credits: {enabled: !1}}, g = {
        chart: {type: "solidgauge", margin: [0, 0, 0, 0]},
        title: null,
        pane: {
            center: ["50%", "50%"],
            size: "100%",
            startAngle: 0,
            endAngle: 360,
            background: {innerRadius: "60%", outerRadius: "100%", shape: "arc", borderWidth: 0}
        },
        tooltip: {enabled: !1},
        yAxis: {
            min: 0,
            max: 100,
            borderWidth: 0,
            lineWidth: 0,
            minorTickInterval: null,
            tickPixelInterval: 400,
            tickWidth: 0,
            title: {y: 0},
            labels: {enabled: !1}
        },
        plotOptions: {solidgauge: {dataLabels: {y: -15, borderWidth: 0, useHTML: !0}}}
    }, h = {
        chart: {type: "pie", margin: [0, 0, 0, 0]},
        legend: {
            padding: 5,
            margin: 15,
            borderRadius: 0,
            align: "right",
            verticalAlign: "middle",
            layout: "vertical",
            symbolWidth: 7,
            backgroundColor: "#f9f9fb",
            itemMarginTop: 6,
            itemMarginBottom: 6,
            x: 0
        },
        title: {text: null}
    };
    a.$inject = [], b.$inject = [], c.$inject = [], d.$inject = [], e.$inject = []
}(), function () {
    "use strict";
    function a(a, b, c, d, e, f) {
        return {
            restrict: "E",
            replace: !1,
            templateUrl: "/ycjs/directive/comment/new_comment.html",
            scope: {
                vmPid: "=pid",
                vmXid: "=xid",
                vmSave: "&save",
                vmNewComment: "=newComment",
                vmAtMembers: "=atMembers"
            },
            link: function (a, g, h) {
                var i = a.vm = {save: a.vmSave}, j = g.find("textarea")[0], k = function (a) {
                    var b = g.find("textarea")[0];
                    c(function () {
                        b.focus(), b.select(), b.selectionStart = b.selectionEnd = a
                    })
                }, l = function (a, b, d) {
                    if ("number" == typeof b.selectionStart && "number" == typeof b.selectionEnd) {
                        var e = b.selectionStart, f = b.selectionEnd, g = e + d.length;
                        _.isUndefined(a.message) && (a.message = ""), c(function () {
                            a.message = a.message.substring(0, e) + d + a.message.substring(f)
                        }), k(g)
                    } else c(function () {
                        a.message = a.message + d, j.focus()
                    })
                };
                i.js_metion_member = function (c) {
                    var d = g.find("textarea")[0];
                    b.popbox({
                        target: c,
                        templateUrl: "/tpl/common/pop_new_comment_metion.html",
                        controller: ["$scope", "popbox", "pop_data", function (a, b, c) {
                            var e = a.vm = {metion_members: c.members};
                            a.popbox = b, e.js_metion_member = function (a, e) {
                                c.new_comment.message || (c.new_comment.message = ""), l(c.new_comment, d, " @" + e.name + " "), b.close()
                            }, e.js_metion_all = function (a) {
                                c.new_comment.message || (c.new_comment.message = "");
                                var f = "";
                                _.each(e.metion_members, function (a) {
                                    f += " @" + a.name + " "
                                }), l(c.new_comment, d, f), b.close()
                            }, e.js_close = function () {
                                b.close()
                            }, e.js_mousedown = function (a) {
                                a.stopPropagation()
                            }
                        }],
                        resolve: {
                            pop_data: function () {
                                return {scope: a, new_comment: a.vmNewComment, members: a.vmAtMembers}
                            }
                        }
                    }).open()
                }, i.parse_save = function (a) {
                    i.save({new_comment: a})
                }, i.js_files_select = function (b) {
                    if (0 !== b.length) {
                        var c = [], e = {target: "prj", type: "comment", pid: a.vmPid, xid: a.vmXid};
                        _.forEach(b, function (a) {
                            c.push({original: a, data: e})
                        }), a.vmNewComment.uploading_files = c, d.addFiles(a.vmPid, c, function (b, c, d) {
                            d.success = !0, a.vmNewComment.uploading_files.splice(a.vmNewComment.uploading_files.indexOf(d), 1), b || c && c.file && "comment" === c.type && (_.isArray(a.vmNewComment.files) ? a.vmNewComment.files.push(c.file) : a.vmNewComment.files = [c.file]);
                        })
                    }
                }, i.js_del_attachment_comment = function (b, c) {
                    var d = _.find(a.vmNewComment.files, {fid: c.fid});
                    d && (a.vmNewComment.files = _.reject(a.vmNewComment.files, function (a) {
                        return a.fid === c.fid
                    }))
                }, i.js_pop_emojis = function (c) {
                    b.popbox({
                        target: c,
                        templateUrl: "/tpl/common/pop_new_comment_emojis.html",
                        controller: ["$scope", "popbox", "pop_data", function (a, b, c) {
                            var d = a.vm = {emojis: [], emoji_groups: [], current_page: 0}, e = c.scope.vmNewComment;
                            a.popbox = b, d.emojis = [];
                            var f = 72, h = [], i = [];
                            $.each(kzi.emojis, function (a) {
                                0 !== a && a % f === 0 && (i.push(h), h = []), h.push(this)
                            }), i.push(h), d.emoji_groups = i, d.emojis = i[0], d.js_to_page = function (a) {
                                d.current_page = a, d.emojis = i[a]
                            }, d.js_insert_emoji = function (a) {
                                var c = g.find("textarea")[0];
                                l(e, c, " :" + a + ": "), b.close()
                            }, d.js_close = function () {
                                b.close()
                            }, d.js_mousedown = function (a) {
                                a.stopPropagation(), a.preventDefault()
                            }
                        }],
                        resolve: {
                            pop_data: function () {
                                return {scope: a}
                            }
                        }
                    }).open()
                }, i.js_linkentity = function (b) {
                    f.showSearch(b, function (b, c) {
                        var d = g.find("textarea")[0];
                        l(a.vmNewComment, d, b)
                    })
                }, i.js_textarea_focus = function (a) {
                    e.scrollTo($(g).closest(".wt-scroll"), g)
                }
            }
        }
    }

    function b(a, b, c, d, e, f, g, h, i, j) {
        var k = a.vm = {
            pid: "",
            comments_loading_done: !1,
            comment_show_number: 3,
            comment_showmore: !1,
            comments: [],
            isArchived: !1,
            new_comment: {message: "", uploading_files: [], files: []},
            at_members: [],
            timeout_goto_item: null
        };
        a.is_add_comment = !1, a.permission = 0, (a.argEntity && 1 === a.argEntity.archived || a.argProject && 1 === a.argProject.archived) && (k.isArchived = !0);
        var l, m, n, o, p = function () {
            k.comment_showmore !== !0 && k.comments.length >= k.comment_show_number && (k.comments[k.comments.length - k.comment_show_number].first_fold = !0)
        }, q = function (b) {
            var c = [];
            if (f.xtype === kzi.constant.xtype.task) {
                var d = _.find(b, {type: 2}), e = _.find(b, {type: 3});
                d ? (a.argEntity.creator = d.owner, a.argEntity.created_at = d.create_date) : e && (a.argEntity.completer = e.owner, a.argEntity.completed_at = e.create_date)
            }
            c = _.filter(b, {type: 1}), null != o && c.length - k.comment_show_number - 1 >= _.findIndex(c, {cid: o}) && (k.comment_showmore = !0), _.each(c, function (a, b) {
                a.files = _.each(a.files, function (a) {
                    a.icon = kzi.helper.build_file_icon(a)
                }), k.comment_showmore === !1 && (c.length - b > k.comment_show_number ? a.first_fold = !0 : a.first_fold = !1)
            }), k.comments = c
        }, r = function (c) {
            c && c.permission ? a.permission = c.permission : a.argEntityExt && (a.permission = a.argEntityExt.permission), c && (l = k.pid = c.pid, m = c.xtype, n = k.xid = c.xid, o = c.comment_id), e.comment && e.comment.xid === n ? k.new_comment = e.comment : k.new_comment = e.comment = {xid: n}, k.comments_loading_done = !1, g.find(".comment-item").removeClass("comment-focus-animate"), k.comments = [], wt.data.comment.get_list(l, m, n, function (c) {
                if (q(c.data), k.comments_loading_done = !0, a.argProject) {
                    var e = _.filter(a.argProject.members, function (a) {
                        return a.uid !== b.global.me.uid && 1 === a.status
                    });
                    k.at_members = e
                }
                d(function () {
                    $("#atwho-container").bind("mousedown", function (a) {
                        a.stopPropagation(), a.preventDefault()
                    })
                })
            }, function () {
                k.comments_loading_done = !0
            })
        };
        a.$on(kzi.constant.event_names.load_comments, function (a, b) {
            r(b)
        }), a.$on(kzi.constant.event_names.on_task_complete, function (c, d) {
            d && d.tid === n && (0 === d.completed ? (a.argEntity.completer = null, a.argEntity.completed_at = "") : 1 === d.completed && (a.argEntity.completer = b.global.me, a.argEntity.completed_at = (new Date).getTime()))
        }), a.$on(kzi.constant.event_names.on_comment_new, function (a, b) {
            l === b.pid && m === b.xtype && n === b.xid && (b.comment.files = _.each(b.comment.files, function (a) {
                a.icon = kzi.helper.build_file_icon(a)
            }), p(), k.comments.push(b.comment))
        }), a.$on(kzi.constant.event_names.clear_comments, function () {
            k.comments = []
        }), k.js_repeat_done = function () {
            if (!_.isEmpty(k.comments) && 1 == b.global.is_scroll_comment) {
                b.global.is_scroll_comment = !1;
                var a = k.comments[k.comments.length - 1];
                o && (k.timeout_goto_item = d(function () {
                    var b = $(".new-comment").parents(".wt-scroll").eq(0), c = _.findIndex(k.comments, {cid: o});
                    c === -1 ? kzi.msg.warn(j.instant("directive_comment.warn")) : (o === a.cid ? h.scrollTo(b, "bottom") : h.scrollTo(b, ".comment-item:eq(" + c + ")"), g.find(".comment-item:eq(" + c + ")").addClass("comment-focus-animate"))
                }, 250))
            }
        }, k.js_save_comment = function (c) {
            var d = c;
            if (d.uploading_files && d.uploading_files.length > 0)return void kzi.msg.warn(j.instant("directive_comment.uploading"));
            var e = _.where(d.files, {pid: a.argProject.pid});
            d.fids = _.map(e, "fid"), _.isEmpty(d.message) && _.isEmpty(d.fids) || d.is_saving || (d.is_saving = !0, _.isEmpty(d.message) && (d.message = j.instant("directive_comment.desc", {
                count: e.length,
                file_names: _.map(e, "name")
            })), wt.data.comment.publish(f.pid, f.xtype, f.xid, d.message, d.fids || "", function (a) {
                var c = a.data;
                if (_.isEmpty(c.files) || _.each(c.files, function (a) {
                        a.icon = kzi.helper.build_file_icon(a)
                    }), p(), k.comments.push(c), "tasks" === f.xtype)b.$broadcast(kzi.constant.event_names.on_task_comment, {tid: f.xid}); else if ("posts" === f.xtype) {
                    var d = {};
                    d.post_id = f.xid, d.last_reply_user = b.global.me, d.last_reply_date = (new Date).getTime(), b.$broadcast(kzi.constant.event_names.on_post_comment, d)
                }
            }, null, function () {
                d.is_saving = !1, a.is_add_comment = !1
            }), d.message = "", d.files && (e.length === d.files.length ? d.files = [] : d.files = _.reject(d.files, function (b) {
                return b.pid === a.pid
            })), d.fids = [])
        }, k.js_reply_comment = function (a) {
            var b = j.instant("directive_comment.reply") + " @" + a.owner.name + " : ", c = b.length, e = "";
            if (e = a.raw_message.indexOf(">") >= 0 ? a.raw_message.replace(/\n *>/i, "\n >>") : a.raw_message, e.length > 60) {
                var f = "(\\(" + i.$$protocol + ":\\/\\/" + i.$$host + (80 === i.$$port || 443 === i.$$port ? "" : ":" + i.$$port);
                f += "\\/(project)\\/([a-zA-Z0-9]{14,32})+\\/(file|task|event|post|page)\\/([a-zA-Z0-9]{14,32})\\))";
                var g = new RegExp(f, "gm");
                if (g.test(e)) {
                    var l = e.match(g);
                    l = l[l.length - 1], e = "\n\n\n >" + e.substr(0, e.lastIndexOf(l) + l.length) + " "
                } else e = "\n\n\n >" + e.substr(0, 60) + ""
            } else e = "\n\n\n >" + e;
            k.new_comment.message = b + e;
            var m = ".new-comment";
            h.scrollTo($(m).parents(".wt-scroll").eq(0), m), d(function () {
                var a = $(m).find("textarea")[0];
                if (a.focus(), document.selection) {
                    var b = a.createTextRange();
                    b.moveStart("character", c), b.collapse(), b.select()
                } else"number" == typeof a.selectionStart && "number" == typeof a.selectionEnd && (a.select(), a.selectionStart = a.selectionEnd = c)
            }), d(function () {
                $(m).find("textarea").scrollTop(0)
            }, 100)
        }, k.js_pop_delete_comment = function (b, d) {
            c.popbox({
                target: b,
                templateUrl: "/tpl/common/pop_comment_delete.html",
                controller: ["$scope", "popbox", "pop_data", function (a, b, c) {
                    a.popbox = b;
                    var e = a.vm = {}, g = c.scope.$parent.vm;
                    e.js_sure_delete = function () {
                        c.scope.vm.comments = _.reject(c.scope.vm.comments, function (a) {
                            return a.cid === d.cid
                        }), wt.data.comment.del(f.pid, d.cid, f.xtype, f.xid, function (a) {
                            "tasks" === f.xtype && g && g.task && (g.task.badges.comment_count -= 1)
                        }), b.close()
                    }, e.js_close = function () {
                        b.close()
                    }
                }],
                resolve: {
                    pop_data: function () {
                        return {scope: a}
                    }
                }
            }).open()
        }, k.js_showmore = function () {
            k.comment_showmore = !0, _.each(k.comments, function (a) {
                a.first_fold && (a.first_fold = !1)
            })
        }, a.$on("$destroy", function () {
            d.cancel(k.timeout_goto_item)
        })
    }

    function c() {
        return {
            restrict: "E",
            scope: {argType: "=", argProject: "=", argEntity: "=", argEntityExt: "="},
            controller: "commentListCtrl",
            templateUrl: "/ycjs/directive/comment/comment_list.html"
        }
    }

    angular.module("wt.directive.comment", []).directive("wtNewComment", a).controller("commentListCtrl", b).directive("commentList", c), a.$inject = ["$parse", "$popbox", "$timeout", "$wtUploadFile", "wtScrollService", "linkentityService"], b.$inject = ["$scope", "$rootScope", "$popbox", "$timeout", "tempData", "locator", "$element", "wtScrollService", "$location", "$translate"], c.$inject = []
}(), function () {
    "use strict";
    function a(a, b, c) {
        return {
            restrict: "A", link: function (a, d, e) {
                d.bind("click", function (d) {
                    var f = a.$eval(e.wtEntityShare);
                    if (!_.isEmpty(f) || 4 === f.length)var g = b.open({
                        windowClass: "dialog-w680",
                        templateUrl: "/ycjs/directive/entity/dialog_share_entity.html",
                        controller: ["$scope", "dateFormatFilter", function (a, b) {
                            function d() {
                                i === kzi.constant.xtype.task ? (a.entity = c.instant("common.txt_task"), k = j.tid, l = "tasks") : i === kzi.constant.xtype.post ? (a.entity = c.instant("common.txt_post"), k = j.post_id, l = "posts") : i === kzi.constant.xtype.page ? (a.entity = c.instant("common.txt_page"), k = j.page_id, l = "pages") : i === kzi.constant.xtype.event ? (a.entity = c.instant("common.txt_event"), k = j.event_id, l = "events") : i === kzi.constant.xtype.file && (a.entity = c.instant("common.txt_file"), k = j.fid, l = "files"), a.step = "select_share_method", j.share_id && (e.share_link = window.location.origin + "/share/" + l + "/" + j.share_id, a.input_link_focus = !0), wt.data.share.enable_share_link(h, l, k, function (c) {
                                    e.share_link = window.location.protocol + "//" + window.location.host + "/share/" + l + "/" + c.data.share_id, j.share_id = c.data.share_id, e.isPassword = !_.isEmpty(c.data.share_password), e.password = c.data.share_password, e.isExpired = 0 != c.data.share_expire && null != c.data.share_expire, e.expired = 0 == c.data.share_expire ? "" : b(c.data.share_expire), wt.data.utils.get_qrcode(e.share_link, 6, null, function (a) {
                                        e.qrcode = a
                                    }), a.input_link_focus = !0
                                }, function () {
                                    kzi.msg.error(c.instant("directive_entity.warn_open_share_fail"))
                                })
                            }

                            var e = a.vm = {
                                step_index: 1,
                                isPassword: !1,
                                isExpired: !1,
                                expired: "",
                                qrcode: null,
                                sendemails: [],
                                share_link: ""
                            };
                            a.share = {}, a.share.email_address = "";
                            var h = f[1], i = f[2], j = f[3], k = "", l = "";
                            d(), e.js_close = function () {
                                g.close()
                            }, e.js_step = function (a) {
                                e.step_index = a
                            }, e.set_expired_options = {
                                default_date: moment(Date.now()).format("YYYY-MM-DD"),
                                set_date: function (a) {
                                    e.expired = moment(a).format("YYYY-MM-DD"), e.set_expired_options.default_date = e.expired
                                }
                            }, e.js_set_share_link_secret = function () {
                                wt.data.share.set_share_link_secret(h, l, k, e.isPassword ? e.password : null, e.isExpired ? moment(e.expired).valueOf() : null, function () {
                                    kzi.msg.success(c.instant("directive_entity.success_share")), e.js_close()
                                })
                            };
                            var m = function () {
                                wt.data.task.share(h, k, a.share.email_address, function () {
                                    e.sendemails = e.sendemails.concat(a.share.email_address), a.send_success = !0
                                }, null, function () {
                                    a.is_sharing = !1
                                })
                            }, n = function () {
                                wt.data.file.share(h, k, a.share.email_address, function () {
                                    e.sendemails = e.sendemails.concat(a.share.email_address), a.send_success = !0
                                }, null, function () {
                                    a.is_sharing = !1
                                })
                            }, o = function () {
                                wt.data.post.share(h, k, a.share.email_address, function () {
                                    e.sendemails = e.sendemails.concat(a.share.email_address), a.send_success = !0
                                }, null, function () {
                                    a.is_sharing = !1
                                })
                            }, p = function () {
                                wt.data.page.share(h, k, a.share.email_address, function () {
                                    e.sendemails = e.sendemails.concat(a.share.email_address), a.send_success = !0
                                }, null, function () {
                                    a.is_sharing = !1
                                })
                            }, q = function () {
                                wt.data.event.share(h, k, a.share.email_address, function () {
                                    e.sendemails = e.sendemails.concat(a.share.email_address), a.send_success = !0
                                }, null, function () {
                                    a.is_sharing = !1
                                })
                            };
                            e.js_share_entity = function () {
                                switch (a.is_sharing = !0, i) {
                                    case kzi.constant.xtype.task:
                                        m();
                                        break;
                                    case kzi.constant.xtype.file:
                                        n();
                                        break;
                                    case kzi.constant.xtype.page:
                                        p();
                                        break;
                                    case kzi.constant.xtype.post:
                                        o();
                                        break;
                                    case kzi.constant.xtype.event:
                                        q()
                                }
                            }, e.close_share_link = function () {
                                wt.data.share.disable_share_link(h, l, k, function () {
                                    j.share_id = "", e.share_link = "", e.js_close()
                                }, function () {
                                    kzi.msg.error(c.instant("directive_entity.warn_close_share_fail"))
                                })
                            }
                        }]
                    })
                })
            }
        }
    }

    function b() {
        return {
            restrict: "A", link: function (a, b, c) {
                b.click(function (a) {
                    $(this).parents("ul.dropdown-menu").parent("li").removeClass("open");
                    var b = $(".slide-content:visible").html(), c = document.getElementById("printFrame");
                    $(c.contentWindow.document).find(".ng-scope").html(b);
                    var d = $(c.contentWindow.document).find(".mCS_img_loaded");
                    if (d.length > 0) {
                        var e = d.length, f = 1;
                        d.bind("load", function () {
                            f === e ? (c.contentWindow.do_print(), setTimeout(function () {
                                $(c.contentWindow.document).find(".ng-scope").html("")
                            }, 500)) : f++
                        })
                    } else setTimeout(function () {
                        c.contentWindow.do_print()
                    }, 200), setTimeout(function () {
                        $(c.contentWindow.document).find(".ng-scope").html("")
                    }, 500)
                })
            }
        }
    }

    function c() {
        return {
            restrict: "A", link: function (a, b, c) {
                b.click(function (a) {
                    $(this).parents("ul.dropdown-menu").parent("li").removeClass("open");
                    var b = $("[class$='-detail']").html(), c = document.getElementById("printFrame");
                    $(c.contentWindow.document).find(".ng-scope").html(b), setTimeout(function () {
                        c.contentWindow.do_print()
                    }, 200), setTimeout(function () {
                        $(c.contentWindow.document).find(".ng-scope").html("")
                    }, 500)
                })
            }
        }
    }

    function d(a, b) {
        return {
            scope: {argType: "&", argProject: "=", argEntity: "=", argEntityExt: "="},
            restrict: "E",
            templateUrl: "/tpl/directive/item_comment_activity.html",
            link: function (c, d, e) {
                c.tab_active = {};
                var f = null;
                c.select_tab_comment = function () {
                    c.tab_active.activity = !1, c.tab_active.comment = !0, c.$broadcast(kzi.constant.event_names.clear_item_activities)
                }, c.select_tab_activity = function () {
                    c.tab_active.activity = !0, c.tab_active.comment = !1, c.$broadcast(kzi.constant.event_names.reload_item_activities, f || b)
                }, c.$on(kzi.constant.event_names.select_comment_tab, function (d, e) {
                    c.select_tab_comment(), f = e, a(function () {
                        c.$broadcast(kzi.constant.event_names.load_comments, f || b)
                    })
                }), c.$on(kzi.constant.event_names.clear_comment_activity, function (a, b) {
                    c.$broadcast(kzi.constant.event_names.clear_item_activities), c.$broadcast(kzi.constant.event_names.clear_comments)
                })
            }
        }
    }

    function e() {
        return {restrict: "E", replace: !0, templateUrl: "/tpl/directive/entity_item_deny.html"}
    }

    angular.module("wt.directive").directive("wtEntityShare", a).directive("wtEntityPrint", b).directive("wtDetailPrint", c).directive("wtItemCommentActivity", d).directive("wtEntityDeny", e), a.$inject = ["$popbox", "$uibModal", "$translate"], b.inject = [], c.$inject = [], d.$inject = ["$timeout", "locator"]
}(), function () {
    "use strict";
    function a(a) {
        return {
            restrict: "E",
            replace: !0,
            scope: !0,
            controller: ["$scope", "locator", "globalDataContext", function (b, c, d) {
                var e = b.root_vm = {entityExt: {loading_done: !1, permission: 1}};
                b.locator = c;
                var f = function () {
                    a(function () {
                        switch (c.xtype) {
                            case kzi.constant.xtype.task:
                                b.$broadcast(kzi.constant.event_names.load_entity_task, b.locator);
                                break;
                            case kzi.constant.xtype.file:
                                b.$broadcast(kzi.constant.event_names.load_entity_file, b.locator);
                                break;
                            case kzi.constant.xtype.page:
                                b.$broadcast(kzi.constant.event_names.load_entity_page, b.locator);
                                break;
                            case kzi.constant.xtype.post:
                                b.$broadcast(kzi.constant.event_names.load_entity_post, b.locator);
                                break;
                            case kzi.constant.xtype.event:
                                b.$broadcast(kzi.constant.event_names.load_entity_event, b.locator);
                                break;
                            case kzi.constant.xtype.email:
                                b.$broadcast(kzi.constant.event_names.load_entity_mail, b.locator)
                        }
                    }, 100)
                };
                b.loadData = function () {
                    return e.entityExt.loading_done = !1, e.entityExt.permission = 1, c.pid ? void d.loadFullProject(c.pid, !1, function (a) {
                        b.project = a, f()
                    }, function () {
                        e.entityExt.loading_done = !0, e.entityExt.permission = 0
                    }) : void f()
                }, b.clearData = function () {
                    e.entityExt.loading_done = !1, e.entityExt.permission = 0, b.project = null
                }
            }],
            templateUrl: "/ycjs/directive/entity/entity.html",
            link: function (b, c, d) {
                var e = function (c) {
                    $(c.target).hasClass("slide-content") || $(c.target).parents(".slide-content").length > 0 || $(c.target).hasClass("slide-trigger") || $(c.target).parents(".slide-trigger").length > 0 || $(c.target).hasClass("atwho-container") || $(c.target).parents(".atwho-container").length > 0 || $(c.target).hasClass("modal") || $(c.target).parents(".modal").length > 0 || $(c.target).hasClass("popbox") || $(c.target).parents(".popbox").length > 0 || $(c.target).parents(".notifications").length > 0 || $(c.target).hasClass("fancybox-overlay") || $(c.target).parents(".fancybox-overlay").length > 0 || $(c.target).hasClass("layout_right_sidebar") || $(c.target).parents(".layout_right_sidebar").length > 0 || "fancybox-buttons" === $(c.target).attr("id") || $(c.target).parents("#fancybox-buttons").length > 0 || $(c.target).hasClass("fancybox-overlay") || $(c.target).parents(".fancybox-overlay").length > 0 || "fancybox-thumbs" === $(c.target).attr("id") || $(c.target).parents("#fancybox-thumbs").length > 0 || $(c.target).hasClass("fancybox-wrap") || $(c.target).parents(".fancybox-wrap").length > 0 || $(c.target).hasClass("right_click_trigger") || $(c.target).parents(".right_click_trigger").length > 0 || $(c.target).parents(".line-item").length > 0 || $(c.target).hasClass("line-item") || a(function () {
                        b.locator.close()
                    })
                };
                c.bind("transitionend.slide webkitTransitionEnd.slide oTransitionEnd.slide MSTransitionEnd.slide", function (a) {
                    $(a.target).hasClass("in") ? ($("html").addClass("js_wt_slideing_show"), $(a.target).data("skipLoadOnce") ? $(a.target).data("skipLoadOnce", null) : b.loadData()) : $("html").removeClass("js_wt_slideing_show")
                }), b.locator.onStartOpen(function (a) {
                    c.addClass("in"), $(document).bind("mousedown.wtSlideBodyClose drag", e), a && b.loadData()
                }), b.locator.onStartClose(function () {
                    c.removeClass("in").removeClass("none"), b.clearData(), $(document).unbind("mousedown.wtSlideBodyClose drag")
                })
            }
        }
    }

    angular.module("wt.directive.slide", []).directive("wtSlideBody", a), a.$inject = ["$timeout"]
}(), function () {
    "use strict";
    function a(a, b) {
        return {
            restrict: "A", replace: !1, controller: [function () {
            }], link: function (c, d, e) {
                c.show = function (c) {
                    a.popbox({
                        target: c,
                        templateUrl: "/tpl/directive/team_visibility_options.html",
                        controller: ["$scope", "popbox", function (a, c) {
                            a.visibilityArr = [{
                                visibility: kzi.constant.team_visibility.private,
                                desc: b.instant("team_visibility.visibility_private_desc"),
                                icon: "icon-private",
                                intro: b.instant("team_visibility.visibility_private_intro")
                            }, {
                                visibility: kzi.constant.team_visibility.public,
                                desc: b.instant("team_visibility.visibility_public_desc"),
                                icon: "icon-public",
                                intro: b.instant("team_visibility.visibility_public_intro")
                            }], a.js_close = function () {
                                c.close()
                            }
                        }]
                    }).open()
                }
            }
        }
    }

    angular.module("wt.directive").directive("showTeamVisibilityOptions", a), a.$inject = ["$popbox", "$translate"]
}(), function () {
    "use strict";
    function a() {
        return {
            restrict: "E",
            scope: {teamId: "=", data: "="},
            replace: !0,
            templateUrl: "/ycjs/directive/team/team_dashboard_overview.html",
            link: function (a) {
                var b = a.vm = {team_id: a.teamId, percent_complete: 0, percent_delay: 0};
                a.$watch("data", function (c, d) {
                    c && (b.percent_complete = a.data.completed / (a.data.completed + a.data.uncompleted) * 100, _.isNaN(b.percent_complete) ? b.percent_complete = 0 : b.percent_complete = ~~b.percent_complete, b.percent_delay = a.data.expired / a.data.uncompleted * 100, _.isNaN(b.percent_delay) ? b.percent_delay = 0 : b.percent_delay = ~~b.percent_delay)
                })
            }
        }
    }

    angular.module("wt.directive").directive("wtTeamDashboardOverview", a), a.$inject = []
}(), function () {
    "use strict";
    function a(a) {
        return {
            restrict: "E",
            replace: !0,
            scope: {stats: "="},
            templateUrl: "/ycjs/directive/team/team_dashboard_stats.html",
            link: function (b, c, d) {
                var e = b.vm = {};
                e.js_remove_stats = function (b) {
                    wt.data.team.del_team_stats(b.pid, b.type, function (c) {
                        200 === c.code && a.$broadcast(kzi.constant.event_names.team_remove_stats, {
                            pid: b.pid,
                            type: b.type
                        })
                    })
                }
            }
        }
    }

    function b(a) {
        return {
            restrict: "E",
            scope: {data: "="},
            templateUrl: "/ycjs/directive/team/team_dashboard_stats_overview.html",
            link: function (b, c, d) {
                function e(b) {
                    f.percent_complete = b.completed / (b.completed + b.uncompleted) * 100, f.percent_todo = b.uncompleted / (b.completed + b.uncompleted) * 100, f.percent_delay = b.expired / b.uncompleted * 100;
                    var d = {
                        name: a.instant("team_dashboard_stats.series_task_number"),
                        colorByPoint: !0,
                        data: [{
                            name: a.instant("team_dashboard_stats.done"),
                            color: kzi.constant.graph_color.done,
                            y: b.completed
                        }, {
                            name: a.instant("team_dashboard_stats.todo"),
                            color: kzi.constant.graph_color.todo,
                            y: b.uncompleted
                        }]
                    };
                    0 === b.completed && 0 === b.uncompleted && (d = {
                        name: " ",
                        data: [{name: a.instant("team_dashboard_stats.warn_empty_task"), color: "#EEE", y: .01}]
                    }), $(c).find(".left-pie-chart").highcharts({
                        chart: {
                            plotBackgroundColor: null,
                            plotBorderWidth: null,
                            plotShadow: !1,
                            type: "pie",
                            margin: [50, 0, 0, 0]
                        },
                        credits: {enabled: !1},
                        title: null,
                        tooltip: {pointFormat: "{series.name}: <b>{point.y}</b>"},
                        plotOptions: {pie: {allowPointSelect: !0, cursor: "pointer", dataLabels: {enabled: !1}}},
                        series: [d]
                    })
                }

                var f = b.vm = {percent_complete: 0, percent_todo: 0, percent_delay: 0};
                e(b.data), b.$watch("data", function (a) {
                    e(a)
                })
            }
        }
    }

    function c(a) {
        return {
            restrict: "E",
            scope: {data: "="},
            templateUrl: "/ycjs/directive/team/team_dashboard_stats_entry.html",
            link: function (b, c, d) {
                var e = b.vm = {
                    part_loading_done: !1,
                    config: {
                        chart: {height: 240},
                        xAxis: {categories: []},
                        series: [{
                            data: [],
                            name: a.instant("team_dashboard_stats.uncompleted"),
                            stacking: "normal"
                        }, {data: [], name: a.instant("team_dashboard_stats.completed"), stacking: "normal"}]
                    }
                }, f = b.data;
                f = _.sortBy(f, function (a) {
                    return a.completed + a.uncompleted
                }), f = Array.prototype.slice.call(f).reverse(), f.forEach(function (a, b) {
                    e.config.xAxis.categories.push(a.name), e.config.series[0].data.push(a.uncompleted), e.config.series[1].data.push(a.completed)
                }), e.part_loading_done = !0
            }
        }
    }

    function d(a) {
        return {
            restrict: "E",
            scope: {data: "="},
            templateUrl: "/ycjs/directive/team/team_dashboard_stats_member.html",
            link: function (b, c, d) {
                var e = b.vm = {
                    part_loading_done: !1,
                    config: {
                        chart: {height: 240},
                        xAxis: {categories: []},
                        series: [{
                            data: [],
                            name: a.instant("team_dashboard_stats.uncompleted"),
                            stacking: "normal"
                        }, {data: [], name: a.instant("team_dashboard_stats.completed"), stacking: "normal"}]
                    }
                };
                b.data = _.sortBy(b.data, function (a) {
                    return a.completed
                }), b.data = Array.prototype.slice.call(b.data).reverse();
                for (var f = 0; f < b.data.length; f++)e.config.xAxis.categories.push(b.data[f].display_name), e.config.series[0].data.push(parseInt(b.data[f].uncompleted)), e.config.series[1].data.push(parseInt(b.data[f].completed));
                e.part_loading_done = !0
            }
        }
    }

    function e(a) {
        return {
            restrict: "E",
            scope: {data: "="},
            templateUrl: "/ycjs/directive/team/team_dashboard_stats_5day.html",
            link: function (b, c, d) {
                var e = b.vm = {
                    part_loading_done: !1,
                    xCategories: [],
                    completed: [],
                    config: {chart: {height: 240}, xAxis: [], series: []}
                };
                b.data.forEach(function (a, b) {
                    e.xCategories.push(moment(a.datetime).format("MM-DD")), e.completed.push(a.completed)
                }), e.config.xAxis = [{
                    title: {text: ""},
                    categories: e.xCategories
                }], e.config.series = [{
                    data: e.completed,
                    name: a.instant("team_dashboard_stats.done")
                }], e.part_loading_done = !0
            }
        }
    }

    angular.module("wt.directive").filter("teamStatsType", ["$translate", function (a) {
        return function (b) {
            return a.instant(kzi.constant.stats_type_list[b - 1].desc)
        }
    }]).directive("wtDashboardStats", a).directive("wtDashboardStatsOverview", b).directive("wtDashboardStatsEntry", c).directive("wtDashboardStatsMember", d).directive("wtDashboardStats5day", e), a.$inject = ["$rootScope"], b.$inject = ["$translate"], c.$inject = ["$translate"], d.$inject = ["$translate"], e.$inject = ["$translate"]
}(), function () {
    "use strict";
    function a(a, b, c) {
        return {
            require: "^ngModel", restrict: "A", scope: !0, link: function (d, e, f) {
                var g = d.dm = {
                    tpl: {
                        headerTpl: ['<div class="atwho-header">', c.instant("common.txt_member"), "<small>&nbsp;&nbsp;", c.instant("directive_atwho.nav"), "&nbsp;&nbsp;&nbsp;esc&nbsp;", c.instant("common.txt_cancel"), "</small>", "</div>"].join(""),
                        emojiTpl: '<li data-value=":${name}:"><img src="' + kzi.config.cdnpath + 'images/emoji/${name}.png" class="emoji"/> ${name}</li>',
                        hasAvatar: ['<li data-value="@${name}"><a href title="${display_name}"', ' class="avatar avatar-30"><span class="avatar-face">', '<img src="' + kzi.config.wtavatar_url + '40/${avatar}"/></a>&nbsp; ', '<span class="avatar-name">${display_name}</span></span> <small>(${name})</small>', "</li>"].join(""),
                        chatAvatar: ['<li data-value="@${name}">', '<a href title="${display_name}" class="avatar avatar-30">', '<span class="avatar-face"><span class="avatar-text">${firstText}</span></span>', "</a>&nbsp; ", '<span class="avatar-name">${display_name}</span></span> <small>(${name})</small>', "</li>"].join(""),
                        allMember: ['<li data-value="@${name}">', '<a href title="${display_name}" class="avatar avatar-30">', '<span class="avatar-face"><span class="avatar-text">${firstText}</span></span>', "</a>&nbsp; ", '<span class="avatar-name">${display_name}</span></span>', "</li>"].join("")
                    }
                }, h = a(f.atwhoKeydown), i = {emojis: !0, member: !0};
                f.wtAtwho && (i = $.extend(i, d.$eval(f.wtAtwho))), e.bind("keydown.atwho-ext", function (a) {
                    var b = a.which || a.keyCode;
                    b !== kzi.constant.keyASCIIs.ESC && b !== kzi.constant.keyASCIIs.ENTER || $(".atwho-view:visible").length > 0 && a.stopPropagation()
                }), $(document).on("mousedown", ".atwho-container", function (a) {
                    a.stopPropagation(), a.preventDefault()
                }), i.emojis && e.atwho({
                    at: ":",
                    data: kzi.emojis,
                    show_the_at: !0,
                    displayTpl: g.tpl.emojiTpl,
                    insertTpl: ":${name}:",
                    callbacks: {}
                }), f.atwhoMembers && i.member && (d.$watch(f.atwhoMembers, function (a) {
                    return _.isEmpty(a) ? void e.atwho({at: "@", data: []}) : void e.atwho({
                        at: "@",
                        limit: 1e4,
                        show_the_at: !0,
                        data: a,
                        headerTpl: g.tpl.headerTpl,
                        displayTpl: g.tpl.hasAvatar,
                        searchKey: "display_name",
                        insertTpl: "@${name}",
                        callbacks: {
                            keydown: function (a, b) {
                                h && !b && d.$apply(function () {
                                    h(d, {$event: a})
                                })
                            }, filter: function (a, b, d) {
                                var e = this.view.$el.find(".atwho-header span");
                                return e.length > 0 ? e.replaceWith("<span>(" + (b.length - 1) + ")</span>") : $("<span>(" + (b.length - 1) + ")</span>").insertBefore(this.view.$el.find("small")), _.isEmpty(a) ? (_.find(b, {uid: -1}) || b.push({
                                    uid: -1,
                                    avatar: "default_avatar.png",
                                    display_name: ["@", c.instant("directive_atwho.all_member"), "(" + b.length + ")"].join(""),
                                    name: _.map(b, "name").join(" @")
                                }), b) : (b = _.reject(b, {uid: -1}), _.isEmpty(b) ? b : _.filter(b, function (b) {
                                    return b.display_name.toLowerCase().indexOf(a.toLowerCase()) > -1 || b.name.toLowerCase().indexOf(a.toLowerCase()) > -1 || !_.isEmpty(b.name_pinyin) && b.name_pinyin.toLowerCase().indexOf(a.toLowerCase()) > -1
                                }))
                            }, sorter: function (a, b, c) {
                                return b
                            }, tplEval: function (a, c) {
                                var d = "";
                                if (a !== this.setting.insertTpl) {
                                    if (null === c.avatar || "default_avatar.png" === c.avatar) {
                                        var e = b("firstText")(c.display_name);
                                        c.firstText = e, d = g.tpl.chatAvatar.replace(/\$\{([^\}]*)\}/g, function (a, b, d) {
                                            return c[b]
                                        })
                                    } else d = g.tpl.hasAvatar.replace(/\$\{([^\}]*)\}/g, function (a, b, d) {
                                        return c[b]
                                    });
                                    c.uid === -1 && (d = g.tpl.allMember.replace(/\$\{([^\}]*)\}/g, function (a, b, d) {
                                        return c[b]
                                    }))
                                } else d = a.replace(/\$\{([^\}]*)\}/g, function (a, b, d) {
                                    return c[b]
                                });
                                return d
                            }
                        }
                    })
                }), d.$on("$destroy", function () {
                    e.atwho("destroy")
                }))
            }
        }
    }

    angular.module("wt.directive.atwho", []).directive("wtAtwho", a), a.$inject = ["$parse", "$filter", "$translate"]
}(), function () {
    "use strict";
    function a(a, b, c, d, e, f) {
        return {
            restrict: "E",
            transclude: !0,
            replace: !0,
            templateUrl: "/tpl/directive/editor.html",
            scope: {pid: "=pid"},
            link: function (a, e, g, h, i) {
                var j = (a.vm = {}, e.find("textarea"));
                j.addClass("help-block form-control gollum-editor-body");
                var k = function (a) {
                    j.val(a).trigger("change")
                };
                e.GollumEditor({
                    AfterClickFunBar: function (a) {
                        k(a)
                    }
                });
                var l = e.find(".function-link"), m = null;
                e.find(".editor-wrap").bind("click", function (a) {
                    null !== m && (m.close(), m = null)
                }), l.bind("click", function (c) {
                    c.stopPropagation(), c.preventDefault(), a.$apply(function () {
                        return null != m ? (m.close(), void(m = null)) : void b.popbox({
                            target: c,
                            templateUrl: "/tpl/common/pop_add_link.html",
                            controller: ["$scope", "popbox", function (a, b) {
                                a.popbox = b, m = b, a.js_close = function () {
                                    b.close()
                                };
                                var c = $.GollumEditor.FunctionBar.getFieldSelection(j);
                                _.isEmpty(c) || (c = $.trim(c), /^\[.+\]\(.+\)$/gi.test(c) === !0 ? (a.link_text = c.substring(1, c.indexOf("](")), a.link_address = c.substring(c.indexOf("](") + 2, c.length - 1)) : (a.link_text = c, a.link_address = "")), a.js_insert_link = function (c) {
                                    $.GollumEditor.FunctionBar.replaceFieldSelection(j, "[" + a.link_text + "](" + a.link_address + ")"), b.close(), k(j.val())
                                }, a.js_mousedown = function (a) {
                                    a.stopPropagation(), a.preventDefault()
                                }
                            }]
                        }).open().then(function () {
                            m = null
                        })
                    })
                });
                var n = e.find(".function-image"), o = null;
                e.find(".editor-wrap").bind("click", function (a) {
                    o && (o.close(), o = null)
                }), n.bind("click", function (d) {
                    d.stopPropagation(), d.preventDefault();
                    var e = a.pid;
                    a.$apply(function () {
                        return o ? (o.close(), void(o = null)) : void b.popbox({
                            target: d,
                            templateUrl: "/tpl/common/pop_add_image.html",
                            controller: ["$rootScope", "$scope", "$filter", "$stateParams", "popbox", "$sce", function (a, b, d, g, h, i) {
                                b.popbox = h, o = h, b.step = 0, b.js_step = function (a) {
                                    b.step = a
                                }, b.js_close = function () {
                                    h.close()
                                }, b.pid = e, b.js_show_images = function () {
                                    b.step = 1, _.isEmpty(b.images) && (b.images_loading_done = !1, b.images = null, wt.data.file.get_image_list(e, function (a) {
                                        b.images = a.data
                                    }, null, function () {
                                        b.images_loading_done = !0
                                    }))
                                }, b.js_select_image = function (a) {
                                    b.step = 0, b.image_address = f(a), b.js_insert_image(null)
                                }, b.js_insert_image = function (a) {
                                    $.GollumEditor.FunctionBar.replaceFieldSelection(j, "![](" + b.image_address + ")"), h.close(), k(j.val())
                                }, b.js_files_select = function (a) {
                                    if (a && 0 != a.length) {
                                        b.uploading_file = !0;
                                        var d = [{original: a[0], data: {target: "prj", type: "entity", pid: e}}];
                                        c.addFiles(e, d, function (a, c) {
                                            c && c.file && "entity" === c.type && (_.isEmpty(b.images) || b.images.push(c.file), b.image_address = f(c.file), b.js_insert_image(null), b.uploading_file = !1)
                                        })
                                    }
                                }
                            }]
                        }).open().then(function () {
                            o = null
                        })
                    })
                });
                var p = e.find(".function-linkentity"), q = null;
                e.find(".editor-wrap").bind("click", function (a) {
                    null !== q && (q.close(), q = null)
                }), p.bind("click", function (b) {
                    b.stopPropagation(), b.preventDefault(), a.$apply(function () {
                        d.showSearch(b, function (a, b) {
                            $.GollumEditor.FunctionBar.replaceFieldSelection(j, a), k(j.val())
                        })
                    })
                }), a.$on("$destroy", function (a) {
                })
            }
        }
    }

    angular.module("wt.directive").directive("wtEditor", a), a.$inject = ["$rootScope", "$popbox", "$wtUploadFile", "linkentityService", "$location", "inertPicFromBoxFilter"]
}(), function () {
    "use strict";
    function a() {
        return {
            restrict: "E",
            replace: !0,
            templateUrl: "/ycjs/directive/post/post_item.html",
            link: function (a, b, c) {
            }
        }
    }

    angular.module("wt.directive.post_item", []).directive("wtPostItem", a), a.$inject = []
}(), function () {
    "use strict";
    function a(a, b) {
        return {
            restrict: "A", link: function (c, d, e) {
                var f = b(e.wtPageDelete);
                d.bind("click", function (b) {
                    var d = e.pid, g = e.pageId;
                    a.popbox({
                        target: b,
                        templateUrl: "/ycjs/directive/page/pop_delete_page.html",
                        controller: ["$scope", "popbox", function (a, b) {
                            a.popbox = b, a.js_close = function () {
                                b.close()
                            }, a.js_delete = function () {
                                a.deleting = !0, wt.data.page.trash(d, g, function () {
                                    a.js_close(), f(c, {$event: event, $popbox: b})
                                }, null, function () {
                                    a.deleting = !1
                                })
                            }
                        }]
                    }).open()
                })
            }
        }
    }

    angular.module("wt.directive.page", []).directive("wtPageDelete", a), a.$inject = ["$popbox", "$parse"]
}(), function () {
    "use strict";
    function a(a, b) {
        return {
            restrict: "E",
            replace: !0,
            templateUrl: "/ycjs/directive/page/page_item.html",
            scope: !0,
            link: function (c, d, e) {
                var f = c.dm = {view_type: "tree" === e.viewType ? "tree" : "list"};
                _.isEmpty(e.viewType) || c.$watch(e.viewType, function (a, b) {
                    _.isEmpty(a) || (f.view_type = "tree" === a ? "tree" : "list")
                }), f.open_page_detail = function (c, d) {
                    return d.join_type == kzi.constant.page_extend.shimo ? void window.open(d.join_url) : void(e.changeRoute ? a.path("/project/" + d.pid + "/page/" + d.page_id) : b.openPage(d.pid, d.page_id))
                }
            }
        }
    }

    angular.module("wt.directive.page_item", []).directive("wtPageItem", a), a.$inject = ["$location", "locator"]
}(), function () {
    "use strict";
    function a(a, b, c, d, e) {
        return {
            restrict: "E",
            replace: !0,
            templateUrl: "/ycjs/directive/archive/archiveentry_item.html",
            scope: {argProject: "=", argEntries: "=", argEntry: "=", argPermission: "="},
            link: function (a, b, c) {
                function f() {
                    g.entry.collapse = !0
                }

                var g = a.vm = {project: a.argProject, entry: a.argEntry, permission: a.argPermission};
                g.js_unarchive_entry = function (b, c) {
                    b.stopPropagation(), wt.data.entry.unarchive(d.pid, c, function (b) {
                        a.argEntries = _.reject(a.argEntries, function (a) {
                            return a.entry_id === c
                        }), e.clearEntries()
                    })
                }, g.js_toggle_show_tasks = function (a) {
                    a.part_loading_done = !1, a.collapse = !a.collapse, wt.data.task.get_tasks_by_entry(d.pid, a.entry_id, function (b) {
                        a.tasks = b.data
                    }, null, function () {
                        a.part_loading_done = !0
                    })
                }, f()
            }
        }
    }

    angular.module("wt.directive.archiveentry_item", []).directive("wtArchiveEntryItem", a), a.$inject = ["$location", "locator", "$popbox", "$stateParams", "globalDataContext"]
}(), angular.module("wt.directive.project", []).directive("wtProjectGridBoardItem", ["$parse", "$popbox", "$rootScope", "globalDataContext", function (a, b, c, d) {
    "use strict";
    return {
        restrict: "E",
        replace: !0,
        templateUrl: "/tpl/directive/project_grid_board_item.html",
        scope: {project: "=project", team: "=team", fprojects: "=fprojects"},
        link: function (a, b, c) {
            a.icon = c.icon, a.js_star_toggle = function (a, b) {
                d.cache.project.set_star(b.pid), a.preventDefault(), a.stopPropagation()
            }, a.js_favorite_toggle = function (b, c) {
                wt.bus.project.set_fav_toggle(c, function () {
                    d.cache.project.set_favorite(c.pid, c.is_favorite), _.remove(a.fprojects, function (a) {
                        return a.pid === c.pid
                    })
                })
            }
        }
    }
}]).directive("wtProjectGridItem", ["$parse", "$popbox", "$state", "globalDataContext", function (a, b, c, d) {
    "use strict";
    return {
        restrict: "E",
        replace: !0,
        templateUrl: "/tpl/directive/project_grid_item.html",
        scope: {project: "=project"},
        link: function (a, b, e) {
            var f = a.vm = {icon: "star" !== e.like ? "heart" : "star", type: "star" !== e.like ? "favorite" : "star"};
            f.js_toggle_star = function (b) {
                d.cache.project.set_star(a.project.pid)
            }, f.js_toggle_favorite = function (b) {
                var c = a.project.is_favorite ? 0 : 1;
                a.project.is_favorite = c, wt.data.project.set_favorite(a.project.pid, c, function (b) {
                    d.cache.project.set_favorite(a.project.pid, a.project.is_favorite)
                }, null, null)
            }, f.js_toggle_like = function (a) {
                return "star" === f.type ? f.js_toggle_star(a) : f.js_toggle_favorite(a);
            }, f.go_project = function () {
                c.go("project", {pid: a.project.pid})
            }
        }
    }
}]), function () {
    "use strict";
    function a(a) {
        return {
            restrict: "E",
            templateUrl: "/ycjs/directive/project/set_team_labels.html",
            scope: {backfn: "&", closefn: "&", team: "="},
            link: function (b, c, d) {
                var e = b.vm = {
                    cancelFn: b.cancelfn,
                    backFn: b.backfn,
                    closeFn: b.closefn,
                    project: b.project,
                    team: b.team,
                    task: b.team,
                    type: d.type,
                    isBack: !!d.backfn,
                    isClose: !!d.closefn,
                    labels: kzi.constant.labels_list,
                    isLabelCheck: !1,
                    currentLabel: null
                };
                e.labels = b.team.default_labels, e.js_popup_false = function (a, b, c) {
                }, e.js_popup_true = function (c, d, f) {
                    d ? e.currentLabel = {name: d, desc: f} : e.currentLabel = null, a.popbox({
                        target: c,
                        template: ['<wt-set-labels-add type="team"', ' team="vm.team"', ' currentlabel="vm.currentLabel"', ' isback="false"', ' isclose="true"', ' isnewpopup="true"', ' isnewheader="true">', "</wt-set-labels-add>"].join(""),
                        controller: ["$scope", "popbox", "pop_data", function (a, b, c) {
                            a.popbox = b;
                            var d = a.vm = {
                                type: c.type,
                                project: c.project,
                                team: c.team,
                                task: c.task,
                                backFn: c.backFn,
                                closeFn: c.closeFn,
                                isNewPopup: c.isNewPopup,
                                currentLabel: c.currentLabel,
                                isNewHeader: !0
                            };
                            d.js_step = function (a) {
                                d.step = a
                            }, d.js_close = function () {
                                b.close()
                            }
                        }],
                        resolve: {
                            pop_data: function () {
                                return {
                                    $scope: b,
                                    type: e.type,
                                    project: e.project,
                                    team: e.team,
                                    task: e.task,
                                    backFn: e.backFn,
                                    closeFn: e.closeFn,
                                    currentLabel: e.currentLabel,
                                    isNewPopup: e.isNewPopup
                                }
                            }
                        }
                    }).open()
                }, e.js_step = function (a) {
                    b.step = a
                }
            }
        }
    }

    function b() {
        return {
            restrict: "E",
            scope: {backfn: "&", closefn: "&", project: "="},
            templateUrl: "/ycjs/directive/project/set_project_labels.html",
            link: function (a, b, c) {
                var d = a.vm = {currentLabel: null, isHeader: !0};
                "false" === c.header && (d.isHeader = !1), c.backfn && (d.isBack = !0), a.js_step = function (b) {
                    1 === b && (d.currentLabel = null), a.step = b
                }, a.js_close = function () {
                    a.$parent.popbox.close()
                }, a.js_new_label = function (b) {
                    d.currentLabel = null, a.step = b
                }, a.js_edit_label = function (b, c, e) {
                    d.currentLabel = {name: b, desc: c}, a.step = e
                }, a.task_labels = a.project.labels
            }
        }
    }

    function c(a) {
        return {
            restrict: "E",
            scope: {backfn: "&", closefn: "&", project: "=", task: "=", batchsetlabelfn: "="},
            templateUrl: "/ycjs/directive/project/set_task_labels.html",
            link: function (b, c, d) {
                var e = b.vm = {currentLabel: null, isHeader: !0};
                "false" === d.header && (e.isHeader = !1), d.backfn && (e.isBack = !0), b.js_step = function (a) {
                    1 === a && (e.currentLabel = null), b.step = a
                }, b.js_close = function () {
                    b.$parent.popbox.close()
                }, b.js_new_label = function (a) {
                    e.currentLabel = null, b.step = a
                }, b.js_edit_label = function (a, c, d) {
                    e.currentLabel = {name: a, desc: c}, b.step = d
                }, b.task_labels = wt.bus.project.label.load(b.task, b.project.labels), b.js_toggle_label = function (c) {
                    b.batchsetlabelfn ? (c.assigned = 1 === c.assigned ? 0 : 1, b.batchsetlabelfn(c)) : b.task && (b.task.update_date = Date.now(), wt.bus.task.set_toggle_label(b.project.pid, b.task, c), a.$broadcast(kzi.constant.event_names.on_task_update, b.task)), b.setLabel && b.setLabel({label: c})
                }
            }
        }
    }

    function d(a, b, c) {
        return {
            restrict: "E",
            scope: {backfn: "&", closefn: "&", project: "=", team: "=", task: "=", currentlabel: "="},
            templateUrl: "/ycjs/directive/project/set_labels_add.html",
            link: function (d, e, f) {
                var g = d.vm = {
                    is_saving: !1,
                    cancelFn: d.cancelfn,
                    backFn: d.backfn,
                    closeFn: d.closefn,
                    project: d.project,
                    team: d.team,
                    task: d.task,
                    type: f.type,
                    isNewPopup: d.$eval(f.isnewpopup),
                    isNewHeader: d.$eval(f.isnewheader),
                    isBack: d.$eval(f.isback),
                    isClose: d.$eval(f.isclose),
                    currentLabel: d.currentlabel,
                    isEdit: !1,
                    labels: kzi.constant.labels_list,
                    step_setlables: 0,
                    newLabel: {name: "blue", desc: ""}
                };
                if (g.currentLabel)g.isEdit = !0, g.newLabel = g.currentLabel; else {
                    g.isEdit = !1, g.newLabel = {name: "", desc: ""};
                    var h = [], i = [], j = [];
                    "project" === g.type || "task" === g.type ? h = g.project.labels : "team" === g.type && (h = g.team.default_labels), $(h).each(function (a, b) {
                        i.push(b.name)
                    }), $(g.labels).each(function (a, b) {
                        i.indexOf(b.name) === -1 && j.push(b)
                    }), g.labels = j, g.labels.length > 0 && (g.newLabel.name = g.labels[0].name)
                }
                g.js_select_color = function (a) {
                    g.newLabel.name = a
                }, g.js_save_label = function () {
                    if (g.is_saving = !0, g.isEdit) {
                        if ("project" === g.type || "task" === g.type)wt.data.project.label_update(d.project.pid, g.newLabel.name, g.newLabel.desc, function (b) {
                            200 === b.code && ($(g.project.labels).each(function (a, b) {
                                b.name === g.newLabel.name && (b.desc = g.newLabel.desc)
                            }), a.cache.project.label_rename(d.project.pid, g.newLabel), g.isNewPopup ? d.$parent.popbox.close() : g.isNewHeader && g.isBack && g.backFn())
                        }, null, function () {
                            g.is_saving = !1
                        }); else if ("team" === g.type) {
                            var b = _.find(g.team.default_labels, {name: g.newLabel.name});
                            b.desc = g.newLabel.desc, d.$parent.popbox.close()
                        }
                    } else"project" === g.type || "task" === g.type ? wt.data.project.label_add(g.project.pid, g.newLabel.name, g.newLabel.desc, function (a) {
                        200 === a.code && (d.project.labels.push(g.newLabel), g.isNewPopup ? d.$parent.popbox.close() : g.isNewHeader && g.isBack && g.backFn())
                    }, null, function () {
                        g.is_saving = !1
                    }) : "team" === g.type && (g.team.default_labels.push(g.newLabel), d.$parent.popbox.close())
                }, g.js_del_label = function () {
                    g.is_deling = !0, "project" === g.type || "task" === g.type ? wt.data.project.label_remove(d.project.pid, g.newLabel.name, function (b) {
                        200 === b.code && (d.project && (_.remove(d.project.labels, function (a) {
                            return a.name === g.newLabel.name
                        }), a.cache.project.label_remove(d.project.pid, g.newLabel.name)), "task" === g.type && d.task && (_.remove(d.task.labels, function (a) {
                            return a.name === g.newLabel.name
                        }), a.cache.project.label_remove(d.task.pid, g.newLabel.name)), g.js_close())
                    }, null, function () {
                        g.is_deling = !1
                    }) : "team" === g.type && (_.remove(g.team.default_labels, function (a) {
                        return a.name === g.newLabel.name
                    }), g.js_close())
                }, g.js_close = function () {
                    g.isNewPopup ? d.$parent.popbox.close() : g.isNewHeader && g.isBack && g.backFn()
                }, g.js_back = function () {
                    g.isBack && g.backFn()
                }, g.js_step = function (a) {
                    g.step_setlables = a
                }, g.pop_del_label = function (a) {
                    b.popbox({
                        target: a,
                        templateUrl: "/tpl/common/pop_delete_confirm.html",
                        controller: ["$rootScope", "$scope", "popbox", "pop_data", function (a, b, d, e) {
                            b.popbox = d, b.js_close = function () {
                                d.close()
                            }, b.delete_message = c.instant("directive_project_label.message_del_label"), b.delete_title = c.instant("directive_project_label.title_del_label"), b.delete_button = c.instant("common.btn_confirm_del"), b.js_sure_delete = function () {
                                b.is_deleting = !0;
                                var a = e.target_scope.vm.project.pid, c = e.target_scope.vm.newLabel.name;
                                wt.data.project.label_remove(a, c, function (a) {
                                    b.js_close(), e.target_scope.vm.js_del_label(), e.target_scope.vm.js_back()
                                })
                            }
                        }],
                        resolve: {
                            pop_data: function () {
                                return {target_scope: d}
                            }
                        }
                    }).open()
                }
            }
        }
    }

    angular.module("wt.directive.project").directive("wtTeamLabels", a).directive("wtSetProjectLabels", b).directive("wtSetTaskLabels", c).directive("wtSetLabelsAdd", d), a.$inject = ["$popbox"], b.$inject = [], c.$inject = ["$rootScope"], d.$inject = ["globalDataContext", "$popbox", "$translate"]
}(), function () {
    "use strict";
    function a(a, b, c, d, e, f, g, h) {
        var i = b.vm = {
            loading_team_projects_done: !1,
            team_projects: [],
            showTeamSetting: g.showTeamSetting
        }, j = g.team || {}, k = g.project || {}, l = g.member || {}, m = j.team_id, n = k.pid, o = g.mood;
        b.current_team = j, b.project = k, b.mood = o, b.popbox = f, b.selected_member = l, b.step = 0, b.js_close = function () {
            f.close()
        }, b.js_step = function (a) {
            2 === a && (b.loading_unique_admin_prjs_done = !1, wt.data.project.get_unique_admin_prjs(m, b.selected_member.uid, function (a) {
                b.unique_admin_prjs = a.data
            }, null, function () {
                b.loading_unique_admin_prjs_done = !0
            })), 8 === a && (i.loading_team_projects_done = !1, wt.data.team.get_member_projects(m, b.selected_member.uid, !0, function (a) {
                200 === a.code && (i.team_projects = a.data.projects, i.loading_team_projects_done = !0)
            })), b.step = a
        }, b.js_set_group = function (a, b) {
        };
        var p = function () {
            var a = _.filter(k.members, function (a) {
                return a.role === kzi.constant.role.admin
            });
            l.role === kzi.constant.role.admin && 1 === a.length ? b.can_change = !1 : b.can_change = !0
        };
        p();
        var q = function (f) {
            b.is_deleting = !0, wt.data.project.del_member(n, f.uid, function () {
                e.cache.user.remove(f.uid), d.triggerEvent(kzi.constant.event_names.project_member_role_change, _.extend(b.selected_member, {role: kzi.constant.role.deleted})), f.uid === a.global.me.uid && (e.cache.project.remove(i.pid), c.go("dashboard.default")), b.js_close()
            }, null, function () {
                b.is_deleting = !1
            })
        }, r = function (c) {
            a.is_deleting_member = !0, wt.data.team.del_member(m, c.uid, function () {
                d.triggerEvent(kzi.constant.event_names.team_member_role_change, _.extend(c, {role: kzi.constant.role.deleted})), b.js_close(), _.find(e.teams, {team_id: m}).member_count -= 1
            }, function () {
                kzi.msg.error(h.instant("directive_member_control.err_team_remove_member"))
            }, function () {
                a.is_deleting_member = !1
            })
        };
        "project" === o ? b.js_delete_member = q : b.js_delete_member = r, b.js_cancel_invite = function (c) {
            a.is_canceling_invite = !0, wt.data.team.uninvite_member(m, c.uid, function () {
                d.triggerEvent(kzi.constant.event_names.team_member_role_change, _.extend(c, {role: kzi.constant.role.deleted})), b.js_close()
            }, function () {
                kzi.msg.error(h.instant("directive_member_control.err_uninvite_member"))
            }, function () {
                a.is_canceling_invite = !1
            })
        };
        var s = function (c) {
            wt.data.team.set_role(m, b.selected_member.uid, c, function (e) {
                b.selected_member.role = c, d.triggerEvent(kzi.constant.event_names.team_member_role_change, _.extend(b.selected_member, {role: c})), b.selected_member.uid === a.global.me.uid && (b.current_team.curr_role = c)
            }, null, function () {
                b.js_close()
            })
        }, t = function (a) {
            wt.data.project.set_member_role(n, b.selected_member.uid, a, function (c) {
                b.selected_member.role = a, d.triggerEvent(kzi.constant.event_names.project_member_role_change, _.extend(b.selected_member, {role: a}))
            }, null, function () {
                b.js_close()
            })
        }, u = null;
        if (u = "project" === o ? t : s, b.js_set_user_as_admin = function () {
                u(kzi.constant.role.admin)
            }, b.js_set_user_as_member = function () {
                u(kzi.constant.role.member)
            }, b.js_set_user_as_guest = function () {
                u(kzi.constant.role.guest)
            }, b.selected_member.status === kzi.constant.status.pending && _.isEmpty(b.selected_member.invite_url) && j.curr_role === kzi.constant.role.admin) {
            var v = kzi.config.root_url + "/join?code=";
            wt.data.invite.get_invite_code(m, b.selected_member.uid, function (a) {
                b.selected_member.invite_url = v + a.data.invite_id
            })
        }
        b.js_view_invite_code = function () {
            b.js_step(6)
        }, i.js_toggle_join = function (a) {
            a.checked = !a.checked
        }, i.add_member2projects = function () {
            var a = _.map(_.filter(i.team_projects, {checked: !0}), "pid");
            0 === a.length ? kzi.msg.warn(h.instant("directive_member_control.err_project_require")) : wt.data.team.member_join_projects(m, b.selected_member.uid, a, function (a) {
                200 === a.code && (i.team_projects = _.reject(i.team_projects, {checked: !0}), kzi.msg.success(h.instant("directive_member_control.success_member_join_project")))
            })
        }
    }

    function b(a) {
        return {
            restrict: "A",
            replace: !0,
            scope: {member: "=", team: "=", showTeamSetting: "=", project: "="},
            link: function (b, c, d) {
                var e = null, f = !!b.showTeamSetting && b.showTeamSetting;
                e = _.isEmpty(b.team) ? "project" : "team", c.on("click", function (c) {
                    a.popbox({
                        target: c,
                        templateUrl: "/ycjs/directive/member_control/member_control.html",
                        controller: "memberControlCtl",
                        resolve: {
                            pop_data: function () {
                                return {mood: e, member: b.member, team: b.team, showTeamSetting: f, project: b.project}
                            }
                        }
                    }).open()
                })
            }
        }
    }

    angular.module("wt.directive.member_control", ["ui.bootstrap.popbox"]).controller("memberControlCtl", a).directive("wtMemberControl", b), a.$inject = ["$rootScope", "$scope", "$state", "bus", "globalDataContext", "popbox", "pop_data", "$translate"], b.$inject = ["$popbox"]
}(), function () {
    "use strict";
    function a(a, b, c) {
        return {
            replace: !0,
            restrict: "E",
            scope: !0,
            templateUrl: "/ycjs/directive/broadcast/broadcast.html",
            link: function (d, e, f) {
                function g() {
                    if (null != h.broadcast && null != h.broadcast.broadcast_id && !parseInt(wt.broadcast.is_pop, 10)) {
                        var c = ["/dashboard", "/calendar", "/feed", "/email"];
                        _.include(c, b.$$path) ? h.readed_id !== h.broadcast.broadcast_id && a(function () {
                            $(e).addClass("in")
                        }, 1500, !1) : a(function () {
                            $(e).removeClass("in")
                        }, 500, !1)
                    }
                }

                var h = d.vm = {readed_id: kzi.localData.get("broadcast_show_id"), broadcast: wt.broadcast};
                g(), c.$on("$stateChangeSuccess", function (a, b, c, d, e) {
                    g()
                }), h.js_close = function () {
                    $(e).removeClass("in"), kzi.localData.set("broadcast_show_id", h.broadcast.broadcast_id)
                }, d.$on(kzi.constant.event_names.broadcast_show, function (a, b) {
                    b.broadcast.broadcast_id === h.broadcast.broadcast_id && h.js_close()
                })
            }
        }
    }

    function b(a, b, c, d) {
        var e = this;
        e.broadcast_msg = null, e.readed_id = kzi.localData.get("broadcast_show_id"), this.check = function () {
            null != wt.broadcast && parseInt(wt.broadcast.is_pop, 10) && e.readed_id !== wt.broadcast.broadcast_id && wt.data.broadcast.get_latest(function (a) {
                e.broadcast_msg = a.data;
                var b = d.open({
                    windowClass: "dialog-w500 dialog-mt7p",
                    templateUrl: "/ycjs/directive/broadcast/dialog_broadcast.html",
                    controller: ["$scope", "$uibModalInstance", "$rootScope", "pop_data", function (a, b, c, d) {
                        function e() {
                        }

                        var f = a.vm = {broadcast_msg: d.broadcast_msg};
                        e(), f.js_close = function () {
                            b.close()
                        }
                    }],
                    resolve: {
                        pop_data: function () {
                            return {broadcast_msg: e.broadcast_msg}
                        }
                    }
                });
                b.closed.then(function () {
                    kzi.localData.set("broadcast_show_id", wt.broadcast.broadcast_id)
                })
            }, function () {
                kzi.msg.error($translate.instant("leftmenu.err_get_broadcast_fail"))
            }, null)
        }
    }

    angular.module("wt.directive.broadcast", []).service("wtBroadcastService", b).directive("wtBroadcast", a), a.$inject = ["$timeout", "$location", "$rootScope"], b.$inject = ["$timeout", "$location", "$rootScope", "$uibModal"]
}(), function () {
    "use strict";
    function a(a, b) {
        return {
            replace: !0,
            restrict: "E",
            scope: !0,
            templateUrl: "/ycjs/directive/complete_account/complete_account.html",
            link: function (c, d, e) {
                function f() {
                    wt.data.user.check_bind(function (a) {
                        g.need_bind = !1
                    }, function (a) {
                        if (2045 === a.code && 0 !== a.data)switch (g.need_bind = !0, g.from_platform_type = a.data, a.data) {
                            case 1:
                                g.from_platform_text = "";
                                break;
                            case 2:
                                g.from_platform_text = "", g.dialog_width = "dialog-w580";
                                break;
                            case 3:
                                g.from_platform_text = "QQ"
                        }
                    })
                }

                var g = c.vm = {
                    need_bind: !1,
                    from_platform_type: "",
                    from_platform_text: "",
                    dialog_width: "dialog-w470"
                };
                f(), g.js_close = function () {
                    g.need_bind = !1
                }, g.open_choose = function () {
                    b.open({
                        windowClass: g.dialog_width,
                        templateUrl: "/ycjs/directive/complete_account/dialog_complete_account_choose.html",
                        controller: ["$scope", "$rootScope", "$location", "bus", "$window", "$uibModalInstance", "pop_data", "$timeout", function (b, c, d, e, f, g, h, i) {
                            function j() {
                                l.send_phone_code = !0, l.signup_phone_text = "(180)", l.waiting_for_phone_code = !0, l.timerInterval = a(function () {
                                    l.signup_phone_text = parseInt(l.signup_phone_text.match("([0-9]{1,3})")[0], 10), 1 === l.signup_phone_text ? k() : (l.signup_phone_text--, l.signup_phone_text = "(" + l.signup_phone_text + ")")
                                }, 1e3)
                            }

                            function k() {
                                l.send_phone_code = !1, l.signup_phone_text = "", l.waiting_for_phone_code = !1, a.cancel(l.timerInterval)
                            }

                            var l = b.vm = {
                                from_platform_type: h.scope.vm.from_platform_type,
                                from_platform_text: h.scope.vm.from_platform_text,
                                status: "",
                                user: {},
                                timerInterval: void 0,
                                send_phone_code: !1,
                                is_registering: !1,
                                signup_phone_text: "",
                                waiting_for_phone_code: !1,
                                is_binding: !1,
                                bind_user: {}
                            };
                            l.close = function () {
                                g.close()
                            }, l.js_change_phone = function () {
                                k()
                            }, l.js_get_phone_code = function (a) {
                                wt.data.get_phone_code(l.user.phone, 1, function () {
                                    j()
                                }, function (b) {
                                    2041 === b.code ? (a.$errors.unshift(""), $('input[name="signup_phone"]').addClass("error"), k()) : a.$errors.unshift("")
                                })
                            }, l.js_submit_create = function (a) {
                                l.is_registering = !0;
                                var b = l.user.phone, c = l.user.phone_code, d = l.user.name, e = l.user.password;
                                wt.data.user.perfect_info(d, b, c, e, function (a) {
                                    kzi.msg.success(""), i(function () {
                                        f.location.href = f.location.href
                                    }, 800), h.scope.vm.js_close(), l.close()
                                }, function (b) {
                                    var c = _.find(kzi.statuses.user_error, {code: b.code});
                                    2036 !== b.code && (c ? a.$errors.unshift(c.msg) : a.$errors.unshift("(:" + b.code + ")"))
                                }, function () {
                                    l.is_registering = !1
                                })
                            }, b.$on("$destroy", function () {
                                a.cancel(l.timerInterval)
                            }), l.js_submit_bind = function (a) {
                                l.is_binding = !0;
                                var c = l.bind_user.name, d = l.bind_user.password;
                                wt.data.user.bind(c, d, function (a) {
                                    kzi.msg.success(""), i(function () {
                                        f.location.href = f.location.href
                                    }, 800), h.scope.vm.js_close(), l.close()
                                }, function (c) {
                                    2034 === c.code && (b.iscode = !0, b.getcode());
                                    var d = _.find(kzi.statuses.user_error, {code: c.code});
                                    d ? a.$errors.unshift(d.msg) : a.$errors.unshift("!")
                                }, function () {
                                    l.is_binding = !1
                                })
                            }
                        }],
                        resolve: {
                            pop_data: function () {
                                return {scope: c}
                            }
                        }
                    })
                }
            }
        }
    }

    angular.module("wt.directive.complete_account", []).directive("wtCompleteAccount", a), a.$inject = ["$interval", "$uibModal"]
}(), function () {
    "use strict";
    function a(a) {
        return {
            restrict: "A", priority: -3e3, scope: !1, link: function (b, c, d) {
                var e = b.vm = {show_background_image: "0"};
                b.$watch("$root.global.me.show_background_image", function (b) {
                    return e.show_background_image = b, "0" == b ? void c.css("backgroundImage", "none") : void(null != a.global.me && (_.isEmpty(a.global.me.background_image) || (0 === a.global.me.background_image.indexOf("#") ? c.css({
                        backgroundImage: "none",
                        backgroundColor: a.global.me.background_image
                    }) : c.css("backgroundImage", ["url(", kzi.config.wtbackgorund_url + a.global.me.background_image, ")"].join("")))))
                }), b.$watch("$root.global.me.background_image", function (b) {
                    return _.isEmpty(b) || "0" === e.show_background_image ? void c.css("backgroundImage", "none") : void(0 === a.global.me.background_image.indexOf("#") ? c.css({
                        backgroundImage: "none",
                        backgroundColor: a.global.me.background_image
                    }) : c.css("backgroundImage", ["url(", kzi.config.wtbackgorund_url + b, ")"].join("")))
                })
            }
        }
    }

    angular.module("wt.directive").directive("wtCustormBackground", a), a.$inject = ["$rootScope"]
}(), function () {
    "use strict";
    function a(a, b, c) {
        this.show = function () {
            var b = a.open({
                windowClass: "dialog-w680",
                templateUrl: "/ycjs/directive/feedback/feedback_form.html",
                controller: ["$scope", "$rootScope", "$location", "$sce", "Upload", function (a, d, e, f, g) {
                    var h = a.vm = {
                        action_url: d.global.config.box_url() + "?pid=feedback&token=" + kzi.get_cookie("sid"),
                        client: "v3",
                        feedback_desc: "",
                        status: {message: "", code: 0},
                        isSubmit: !1,
                        help_keywords: "",
                        help_links_init: [{
                            title: c.instant("feedback.help_how_star"),
                            url: "https://worktile.com/videos/two-minute-intro"
                        }, {
                            title: c.instant("feedback.help_guidlinke"),
                            url: "https://worktile.com/club/tutorial/15ac563d7447f6"
                        }, {
                            title: c.instant("feedback.help_video"),
                            url: "https://worktile.com/videos/"
                        }, {
                            title: c.instant("feedback.help_create_project"),
                            url: "https://worktile.com/guide/project/create"
                        }, {
                            title: c.instant("feedback.help_get_project_template"),
                            url: "https://worktile.com/template"
                        }, {
                            title: c.instant("feedback.help_how_improve_worktile"),
                            url: "https://worktile.com/blog/skills/ten-ways-to--use-worktile-better"
                        }, {
                            title: c.instant("feedback.help_why_pro"),
                            url: "https://worktile.com/upgrade?utm_source=feedback"
                        }],
                        help_links: [],
                        feedback_type: null,
                        feedback_types: [{value: 1, name: c.instant("feedback.type_get_support")}, {
                            value: 2,
                            name: c.instant("feedback.type_find_bug")
                        }, {value: 3, name: c.instant("feedback.type_advice")}, {
                            value: 4,
                            name: c.instant("feedback.type_how_much")
                        }, {value: 5, name: c.instant("feedback.type_emergency")}, {
                            value: 6,
                            name: c.instant("feedback.type_want_talk")
                        }, {value: 7, name: c.instant("feedback.type_awesome")}],
                        category: 0,
                        pagesType: ["apk", "bak", "cs", "css", "csv", "doc", "exe", "fla", "html", "ipa", "java", "js", "mp3", "mp4", "page", "pdf", "php", "ppt", "rar", "snippet", "swf", "ttf", "txt", "vss", "xls", "xsd", "zip"],
                        file_path: "",
                        file_size: "",
                        file_ext: "default",
                        on_upload: !1,
                        progressPercentage: 0
                    };
                    f.trustAsUrl(h.action_url);
                    var i;
                    a.$watch("vm.help_keywords", _.debounce(function (a) {
                        "" !== a && null != a && (void 0 !== i && i.canceler.resolve(), i = wt.data.utils.get_help_related(a), i.promise.success(function (a) {
                            null != a.data && (a.data.length > 5 ? h.help_links = a.data.slice(0, 5) : h.help_links = a.data)
                        }))
                    }), 500), _.isEmpty(d.global.me) || (a.name = d.global.me.display_name, a.email = d.global.me.email), h.on_upload = !1, a.upload_message = c.instant("feedback.select_attachment"), a.isImage = !1, a.imageType = ["jpg", "png", "gif"], h.js_file_select = function (b) {
                        b && g.upload({
                            url: h.action_url,
                            fields: {size: b.size, target: "all"},
                            file: b
                        }).progress(function (a) {
                            h.on_upload = !0, h.progressPercentage = parseInt(100 * a.loaded / a.total)
                        }).success(function (b, c, d, e) {
                            h.on_upload = !1, h.file_path = kzi.config.wtall_url + b.files[0].url, h.file_name = e.file.name, h.file_size = parseInt(b.files[0].size / 1e3), a.upload_message = b.files[0].fname;
                            var f = b.files[0].ext, g = _.indexOf(a.imageType, f);
                            if (g !== -1)a.isImage = !0; else {
                                a.isImage = !1;
                                var i = _.indexOf(h.pagesType, f);
                                i !== -1 ? h.file_ext = h.pagesType[i] : h.file_ext = "default"
                            }
                        }).error(function (a, b, c, d) {
                            h.on_upload = !1
                        })
                    }, h.js_feedback_submit = function (a) {
                        return h.on_upload ? void kzi.msg.warn(c.instant("feedback.uploading")) : (h.isSubmit = !0, void wt.data.feedback.add(d.global.me.display_name, d.global.me.email, h.category, h.feedback_desc, h.file_path, h.feedback_type.value - 1, h.client, function (a) {
                            h.isSubmit = !1, h.status = {code: 2, message: c.instant("feedback.info_success")}
                        }, function (a) {
                            kzi.msg.warn(c.instant("feedback.err_feedback_fail"))
                        }, function () {
                            h.isSubmit = !1
                        }))
                    }, h.js_feedback_begin = function () {
                        h.status = {code: 1, message: ""}
                    }, h.js_feedback_again = function () {
                        h.status = {code: 0, message: ""}
                    }, h.js_close = function () {
                        b.close()
                    }
                }]
            })
        }
    }

    function b(a, b) {
        return {
            restrict: "E",
            replace: !0,
            scope: {},
            templateUrl: "/ycjs/directive/feedback/feedback.html",
            link: function (c, d, e) {
                var f = c.vm = {};
                f.js_show_feedback = function () {
                    a.show()
                }, f.js_show_qrcode = function () {
                    var a = b.open({
                        windowClass: "dialog-w500",
                        templateUrl: "/ycjs/directive/leftmenu/dialog_watch_wechat.html",
                        controller: ["$scope", function (b) {
                            var c = b.vm = {};
                            c.js_close = function () {
                                a.close()
                            }
                        }]
                    })
                }
            }
        }
    }

    angular.module("wt.directive.feedback", []).service("feedbackService", a).directive("wtFeedback", b), a.$inject = ["$uibModal", "$rootScope", "$translate"], b.$inject = ["feedbackService", "$uibModal"]
}(), function (a) {
    "function" == typeof define && define.amd ? define(["jquery"], a) : a("object" == typeof exports ? require("jquery") : jQuery)
}(function (a) {
    var b, c = {
        get: function (a) {
            return d[b].get.apply(this, [a])
        }, set: function (a, c) {
            var e, f = parseInt(a), g = parseInt(c);
            return "undefined" == typeof a ? f = 0 : a < 0 && (f = this[0].value.length + f), "undefined" != typeof c && (e = c >= 0 ? f + g : this[0].value.length + g), d[b].set.apply(this, [f, e]), this
        }, setcursor: function (a) {
            return this.textrange("set", a, 0)
        }, replace: function (a) {
            return d[b].replace.apply(this, [String(a)]), this
        }, insert: function (a) {
            return this.textrange("replace", a)
        }
    }, d = {
        xul: {
            get: function (a) {
                var b = {
                    position: this[0].selectionStart,
                    start: this[0].selectionStart,
                    end: this[0].selectionEnd,
                    length: this[0].selectionEnd - this[0].selectionStart,
                    text: this.val().substring(this[0].selectionStart, this[0].selectionEnd)
                };
                return "undefined" == typeof a ? b : b[a]
            }, set: function (a, b) {
                "undefined" == typeof b && (b = this[0].value.length), this[0].selectionStart = a, this[0].selectionEnd = b
            }, replace: function (a) {
                var b = this[0].selectionStart, c = this[0].selectionEnd, d = this.val();
                this.val(d.substring(0, b) + a + d.substring(c, d.length)), this[0].selectionStart = b, this[0].selectionEnd = b + a.length
            }
        }, msie: {
            get: function (a) {
                var b = document.selection.createRange();
                if ("undefined" == typeof b) {
                    var c = {
                        position: 0,
                        start: 0,
                        end: this.val().length,
                        length: this.val().length,
                        text: this.val()
                    };
                    return "undefined" == typeof a ? c : c[a]
                }
                var d = 0, e = 0, f = this[0].value.length, g = this[0].value.replace(/\r\n/g, "\n"), h = this[0].createTextRange(), i = this[0].createTextRange();
                h.moveToBookmark(b.getBookmark()), i.collapse(!1), h.compareEndPoints("StartToEnd", i) === -1 ? (d = -h.moveStart("character", -f), d += g.slice(0, d).split("\n").length - 1, h.compareEndPoints("EndToEnd", i) === -1 ? (e = -h.moveEnd("character", -f), e += g.slice(0, e).split("\n").length - 1) : e = f) : (d = f, e = f);
                var c = {position: d, start: d, end: e, length: f, text: b.text};
                return "undefined" == typeof a ? c : c[a]
            }, set: function (a, b) {
                var c = this[0].createTextRange();
                if ("undefined" != typeof c) {
                    "undefined" == typeof b && (b = this[0].value.length);
                    var d = a - (this[0].value.slice(0, a).split("\r\n").length - 1), e = b - (this[0].value.slice(0, b).split("\r\n").length - 1);
                    c.collapse(!0), c.moveEnd("character", e), c.moveStart("character", d), c.select()
                }
            }, replace: function (a) {
                document.selection.createRange().text = a
            }
        }
    };
    a.fn.textrange = function (d) {
        return "undefined" == typeof this[0] ? this : ("undefined" == typeof b && (b = "selectionStart" in this[0] ? "xul" : document.selection ? "msie" : "unknown"), "unknown" === b ? this : (document.activeElement !== this[0] && this[0].focus(), "undefined" == typeof d || "string" != typeof d ? c.get.apply(this) : "function" == typeof c[d] ? c[d].apply(this, Array.prototype.slice.call(arguments, 1)) : void a.error("Method " + d + " does not exist in jQuery.textrange")))
    }
});
var Markdown;
Markdown = "object" == typeof exports && "function" == typeof require ? exports : {}, function () {
    function a(a) {
        return a
    }

    function b(a) {
        return !1
    }

    function c() {
    }

    function d() {
    }

    c.prototype = {
        chain: function (b, c) {
            var d = this[b];
            if (!d)throw new Error("unknown hook " + b);
            d === a ? this[b] = c : this[b] = function (a) {
                var b = Array.prototype.slice.call(arguments, 0);
                return b[0] = d.apply(null, b), c.apply(null, b)
            }
        }, set: function (a, b) {
            if (!this[a])throw new Error("unknown hook " + a);
            this[a] = b
        }, addNoop: function (b) {
            this[b] = a
        }, addFalse: function (a) {
            this[a] = b
        }
    }, Markdown.HookCollection = c, d.prototype = {
        set: function (a, b) {
            this["s_" + a] = b
        }, get: function (a) {
            return this["s_" + a]
        }
    }, Markdown.Converter = function (b) {
        function e(a) {
            return a = a.replace(/^[ ]{0,3}\[([^\[\]]+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?(?=\s|$)[ \t]*\n?[ \t]*((\n*)["(](.+?)[")][ \t]*)?(?:\n+)/gm, function (a, b, c, d, e, f) {
                return b = b.toLowerCase(), K.set(b, z(c)), e ? d : (f && L.set(b, f.replace(/"/g, "&quot;")), "")
            })
        }

        function f(a) {
            return a = a.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm, h), a = a.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm, h), a = a.replace(/\n[ ]{0,3}((<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g, h), a = a.replace(/\n\n[ ]{0,3}(<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>[ \t]*(?=\n{2,}))/g, h), a = a.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g, h)
        }

        function g(a) {
            return a = a.replace(/(^\n+|\n+$)/g, ""), "\n\n~K" + (M.push(a) - 1) + "K\n\n"
        }

        function h(a, b) {
            return g(b)
        }

        function i(a, b) {
            a = J.preBlockGamut(a, Q), a = q(a);
            var c = "<hr />\n";
            return a = a.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm, c), a = a.replace(/^[ ]{0,2}([ ]?-[ ]?){3,}[ \t]*$/gm, c), a = a.replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm, c), a = r(a), a = t(a), a = x(a), a = J.postBlockGamut(a, Q), a = f(a), a = y(a, b)
        }

        function j(a) {
            return a = J.preSpanGamut(a), a = u(a), a = k(a), a = A(a), a = n(a), a = l(a), a = C(a), a = a.replace(/~P/g, "://"), a = z(a), a = w(a), a = a.replace(/  +\n/g, " <br>\n"), a = J.postSpanGamut(a)
        }

        function k(a) {
            var b = /(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>)/gi;
            return a = a.replace(b, function (a) {
                var b = a.replace(/(.)<\/?code>(?=.)/g, "$1`");
                return b = H(b, "!" == a.charAt(1) ? "\\`*_/" : "\\`*_")
            })
        }

        function l(a) {
            return a = a.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g, m), a = a.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?((?:\([^)]*\)|[^()\s])*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g, m), a = a.replace(/(\[([^\[\]]+)\])()()()()()/g, m)
        }

        function m(a, b, c, d, e, f, g, h) {
            void 0 == h && (h = "");
            var i = b, j = c.replace(/:\/\//g, "~P"), k = d.toLowerCase(), l = e, m = h;
            if ("" == l)if ("" == k && (k = j.toLowerCase().replace(/ ?\n/g, " ")), l = "#" + k, void 0 != K.get(k))l = K.get(k), void 0 != L.get(k) && (m = L.get(k)); else {
                if (!(i.search(/\(\s*\)$/m) > -1))return i;
                l = ""
            }
            l = G(l), l = H(l, "*_");
            var n = '<a href="' + l + '"';
            return "" != m && (m = o(m), m = H(m, "*_"), n += ' title="' + m + '"'), n += ">" + j + "</a>"
        }

        function n(a) {
            return a = a.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g, p), a = a.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g, p)
        }

        function o(a) {
            return a.replace(/>/g, "&gt;").replace(/</g, "&lt;").replace(/"/g, "&quot;")
        }

        function p(a, b, c, d, e, f, g, h) {
            var i = b, j = c, k = d.toLowerCase(), l = e, m = h;
            if (m || (m = ""), "" == l) {
                if ("" == k && (k = j.toLowerCase().replace(/ ?\n/g, " ")), l = "#" + k, void 0 == K.get(k))return i;
                l = K.get(k), void 0 != L.get(k) && (m = L.get(k))
            }
            j = H(o(j), "*_[]()"), l = H(l, "*_");
            var n = '<img src="' + l + '" alt="' + j + '"';
            return m = o(m), m = H(m, "*_"), n += ' title="' + m + '"', n += " />"
        }

        function q(a) {
            return a = a.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm, function (a, b) {
                return "<h1>" + j(b) + "</h1>\n\n"
            }), a = a.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm, function (a, b) {
                return "<h2>" + j(b) + "</h2>\n\n"
            }), a = a.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm, function (a, b, c) {
                var d = b.length;
                return "<h" + d + ">" + j(c) + "</h" + d + ">\n\n"
            })
        }

        function r(a, b) {
            a += "~0";
            var c = /^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;
            return N ? a = a.replace(c, function (a, c, d) {
                var e = c, f = d.search(/[*+-]/g) > -1 ? "ul" : "ol", g = s(e, f, b);
                return g = g.replace(/\s+$/, ""), g = "<" + f + ">" + g + "</" + f + ">\n"
            }) : (c = /(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g, a = a.replace(c, function (a, b, c, d) {
                var e = b, f = c, g = d.search(/[*+-]/g) > -1 ? "ul" : "ol", h = s(f, g);
                return h = e + "<" + g + ">\n" + h + "</" + g + ">\n"
            })), a = a.replace(/~0/, "")
        }

        function s(a, b, c) {
            N++, a = a.replace(/\n{2,}$/, "\n"), a += "~0";
            var d = R[b], e = new RegExp("(^[ \\t]*)(" + d + ")[ \\t]+([^\\r]+?(\\n+))(?=(~0|\\1(" + d + ")[ \\t]+))", "gm"), f = !1;
            return a = a.replace(e, function (a, b, d, e) {
                var g = e, h = /\n\n$/.test(g), k = h || g.search(/\n{2,}/) > -1;
                return k || f ? g = i(E(g), !0) : (g = r(E(g), !0), g = g.replace(/\n$/, ""), c || (g = j(g))), f = h, "<li>" + g + "</li>\n"
            }), a = a.replace(/~0/g, ""), N--, a
        }

        function t(a) {
            return a += "~0", a = a.replace(/(?:\n\n|^\n?)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g, function (a, b, c) {
                var d = b, e = c;
                return d = v(E(d)), d = F(d), d = d.replace(/^\n+/g, ""), d = d.replace(/\n+$/g, ""), d = "<pre><code>" + d + "\n</code></pre>", "\n\n" + d + "\n\n" + e
            }), a = a.replace(/~0/, "")
        }

        function u(a) {
            return a = a.replace(/(^|[^\\`])(`+)(?!`)([^\r]*?[^`])\2(?!`)/gm, function (a, b, c, d, e) {
                var f = d;
                return f = f.replace(/^([ \t]*)/g, ""), f = f.replace(/[ \t]*$/g, ""), f = v(f), f = f.replace(/:\/\//g, "~P"), b + "<code>" + f + "</code>"
            })
        }

        function v(a) {
            return a = a.replace(/&/g, "&amp;"), a = a.replace(/</g, "&lt;"), a = a.replace(/>/g, "&gt;"), a = H(a, "*_{}[]\\", !1)
        }

        function w(a) {
            return a = O(a), a = a.replace(/(^|[\W_])(?:(?!\1)|(?=^))(\*|_)\2(?=\S)([^\r]*?\S)\2\2(?!\2)(?=[\W_]|$)/g, "$1<strong>$3</strong>"), a = a.replace(/(^|[\W_])(?:(?!\1)|(?=^))(\*|_)(?=\S)((?:(?!\2)[^\r])*?\S)\2(?!\2)(?=[\W_]|$)/g, "$1<em>$3</em>"), P(a)
        }

        function x(a) {
            return a = a.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm, function (a, b) {
                var c = b;
                return c = c.replace(/^[ \t]*>[ \t]?/gm, "~0"), c = c.replace(/~0/g, ""), c = c.replace(/^[ \t]+$/gm, ""), c = i(c), c = c.replace(/(^|\n)/g, "$1  "), c = c.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm, function (a, b) {
                    var c = b;
                    return c = c.replace(/^  /gm, "~0"), c = c.replace(/~0/g, "")
                }), g("<blockquote>\n" + c + "\n</blockquote>")
            })
        }

        function y(a, b) {
            a = a.replace(/^\n+/g, ""), a = a.replace(/\n+$/g, "");
            for (var c = a.split(/\n{2,}/g), d = [], e = /~K(\d+)K/, f = c.length, g = 0; g < f; g++) {
                var h = c[g];
                e.test(h) ? d.push(h) : /\S/.test(h) && (h = j(h), h = h.replace(/^([ \t]*)/g, "<p>"), h += "</p>", d.push(h))
            }
            if (!b) {
                f = d.length;
                for (var g = 0; g < f; g++)for (var i = !0; i;)i = !1, d[g] = d[g].replace(/~K(\d+)K/g, function (a, b) {
                    return i = !0, M[b]
                })
            }
            return d.join("\n\n")
        }

        function z(a) {
            return a = a.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g, "&amp;"), a = a.replace(/<(?![a-z\/?!]|~D)/gi, "&lt;")
        }

        function A(a) {
            return a = a.replace(/\\(\\)/g, I), a = a.replace(/\\([`*_{}\[\]()>#+-.!])/g, I)
        }

        function B(a, b, c, d) {
            if (b)return a;
            if (")" !== d.charAt(d.length - 1))return "<" + c + d + ">";
            for (var e = d.match(/[()]/g), f = 0, g = 0; g < e.length; g++)"(" === e[g] ? f <= 0 ? f = 1 : f++ : f--;
            var h = "";
            if (f < 0) {
                var i = new RegExp("\\){1," + -f + "}$");
                d = d.replace(i, function (a) {
                    return h = a, ""
                })
            }
            if (h) {
                var j = d.charAt(d.length - 1);
                V.test(j) || (h = j + h, d = d.substr(0, d.length - 1))
            }
            return "<" + c + d + ">" + h
        }

        function C(a) {
            a = a.replace(U, B);
            var b = function (a, b) {
                var c = G(b);
                return c = H(c, "*_"), '<a href="' + c + '">' + J.plainLinkText(b) + "</a>"
            };
            return a = a.replace(/<((https?|ftp):[^'">\s]+)>/gi, b)
        }

        function D(a) {
            return a = a.replace(/~E(\d+)E/g, function (a, b) {
                var c = parseInt(b);
                return String.fromCharCode(c)
            })
        }

        function E(a) {
            return a = a.replace(/^(\t|[ ]{1,4})/gm, "~0"), a = a.replace(/~0/g, "")
        }

        function F(a) {
            if (!/\t/.test(a))return a;
            var b, c = ["    ", "   ", "  ", " "], d = 0;
            return a.replace(/[\n\t]/g, function (a, e) {
                return "\n" === a ? (d = e + 1, a) : (b = (e - d) % 4, d = e + 1, c[b])
            })
        }

        function G(a) {
            if (!a)return "";
            var b = a.length;
            return a.replace(W, function (c, d) {
                return "~D" == c ? "%24" : ":" != c || d != b - 1 && !/[0-9\/]/.test(a.charAt(d + 1)) ? "%" + c.charCodeAt(0).toString(16) : ":"
            })
        }

        function H(a, b, c) {
            var d = "([" + b.replace(/([\[\]\\])/g, "\\$1") + "])";
            c && (d = "\\\\" + d);
            var e = new RegExp(d, "g");
            return a = a.replace(e, I)
        }

        function I(a, b) {
            var c = b.charCodeAt(0);
            return "~E" + c + "E"
        }

        var J = this.hooks = new c;
        J.addNoop("plainLinkText"), J.addNoop("preConversion"), J.addNoop("postNormalization"), J.addNoop("preBlockGamut"), J.addNoop("postBlockGamut"), J.addNoop("preSpanGamut"), J.addNoop("postSpanGamut"), J.addNoop("postConversion");
        var K, L, M, N;
        b = b || {};
        var O = a, P = a;
        b.nonAsciiLetters && !function () {
            var a = /[Q\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376-\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0523\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0621-\u064a\u0660-\u0669\u066e-\u066f\u0671-\u06d3\u06d5\u06e5-\u06e6\u06ee-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07c0-\u07ea\u07f4-\u07f5\u07fa\u0904-\u0939\u093d\u0950\u0958-\u0961\u0966-\u096f\u0971-\u0972\u097b-\u097f\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc-\u09dd\u09df-\u09e1\u09e6-\u09f1\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a59-\u0a5c\u0a5e\u0a66-\u0a6f\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0-\u0ae1\u0ae6-\u0aef\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3d\u0b5c-\u0b5d\u0b5f-\u0b61\u0b66-\u0b6f\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0be6-\u0bef\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58-\u0c59\u0c60-\u0c61\u0c66-\u0c6f\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0-\u0ce1\u0ce6-\u0cef\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d28\u0d2a-\u0d39\u0d3d\u0d60-\u0d61\u0d66-\u0d6f\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32-\u0e33\u0e40-\u0e46\u0e50-\u0e59\u0e81-\u0e82\u0e84\u0e87-\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa-\u0eab\u0ead-\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0ed0-\u0ed9\u0edc-\u0edd\u0f00\u0f20-\u0f29\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8b\u1000-\u102a\u103f-\u1049\u1050-\u1055\u105a-\u105d\u1061\u1065-\u1066\u106e-\u1070\u1075-\u1081\u108e\u1090-\u1099\u10a0-\u10c5\u10d0-\u10fa\u10fc\u1100-\u1159\u115f-\u11a2\u11a8-\u11f9\u1200-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u1676\u1681-\u169a\u16a0-\u16ea\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u17e0-\u17e9\u1810-\u1819\u1820-\u1877\u1880-\u18a8\u18aa\u1900-\u191c\u1946-\u196d\u1970-\u1974\u1980-\u19a9\u19c1-\u19c7\u19d0-\u19d9\u1a00-\u1a16\u1b05-\u1b33\u1b45-\u1b4b\u1b50-\u1b59\u1b83-\u1ba0\u1bae-\u1bb9\u1c00-\u1c23\u1c40-\u1c49\u1c4d-\u1c7d\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u203f-\u2040\u2054\u2071\u207f\u2090-\u2094\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2183-\u2184\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2c6f\u2c71-\u2c7d\u2c80-\u2ce4\u2d00-\u2d25\u2d30-\u2d65\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3006\u3031-\u3035\u303b-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31b7\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fc3\ua000-\ua48c\ua500-\ua60c\ua610-\ua62b\ua640-\ua65f\ua662-\ua66e\ua67f-\ua697\ua717-\ua71f\ua722-\ua788\ua78b-\ua78c\ua7fb-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8d0-\ua8d9\ua900-\ua925\ua930-\ua946\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa50-\uaa59\uac00-\ud7a3\uf900-\ufa2d\ufa30-\ufa6a\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe33-\ufe34\ufe4d-\ufe4f\ufe70-\ufe74\ufe76-\ufefc\uff10-\uff19\uff21-\uff3a\uff3f\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]/g, b = "Q".charCodeAt(0), c = "A".charCodeAt(0), d = "Z".charCodeAt(0), e = "a".charCodeAt(0) - d - 1;
            O = function (f) {
                return f.replace(a, function (a) {
                    for (var f, g = a.charCodeAt(0), h = ""; g > 0;)f = g % 51 + c, f >= b && f++, f > d && (f += e), h = String.fromCharCode(f) + h, g = g / 51 | 0;
                    return "Q" + h + "Q"
                })
            }, P = function (a) {
                return a.replace(/Q([A-PR-Za-z]{1,3})Q/g, function (a, f) {
                    for (var g, h = 0, i = 0; i < f.length; i++)g = f.charCodeAt(i), g > d && (g -= e), g > b && g--, g -= c, h = 51 * h + g;
                    return String.fromCharCode(h)
                })
            }
        }(), this.makeHtml = function (a) {
            if (K)throw new Error("Recursive call to converter.makeHtml");
            return K = new d, L = new d, M = [], N = 0, a = J.preConversion(a), a = a.replace(/~/g, "~T"), a = a.replace(/\$/g, "~D"), a = a.replace(/\r\n/g, "\n"), a = a.replace(/\r/g, "\n"), a = "\n\n" + a + "\n\n", a = F(a), a = a.replace(/^[ \t]+$/gm, ""), a = J.postNormalization(a), a = f(a), a = e(a), a = i(a), a = D(a), a = a.replace(/~D/g, "$$"), a = a.replace(/~T/g, "~"), a = J.postConversion(a), M = L = K = null, a
        };
        var Q = function (a) {
            return i(a)
        }, R = {
            ol: "\\d+[.]",
            ul: "[*+-]"
        }, S = "[-A-Z0-9+&@#/%?=~_|[\\]()!:,.;]", T = "[-A-Z0-9+&@#/%=~_|[\\])]", U = new RegExp('(="|<)?\\b(https?|ftp)(://' + S + "*" + T + ")(?=$|\\W)", "gi"), V = new RegExp(T, "i"), W = /(?:["'*()[\]:]|~D)/g
    }
}(), function () {
    function a(a) {
        return a.replace(/<[^>]*>?/gi, b)
    }

    function b(a) {
        return a.match(f) || a.match(g) || a.match(h) ? a : ""
    }

    function c(a) {
        if ("" == a)return "";
        var b = /<\/?\w+[^>]*(\s|$|>)/g, c = a.toLowerCase().match(b), d = (c || []).length;
        if (0 == d)return a;
        for (var e, f, g, h = "<p><img><br><li><hr>", i = [], j = [], k = !1, l = 0; l < d; l++)if (e = c[l].replace(/<\/?(\w+).*/, "$1"), !(i[l] || h.search("<" + e + ">") > -1)) {
            if (f = c[l], g = -1, !/^<\//.test(f))for (var m = l + 1; m < d; m++)if (!i[m] && c[m] == "</" + e + ">") {
                g = m;
                break
            }
            g == -1 ? k = j[l] = !0 : i[g] = !0
        }
        if (!k)return a;
        var l = 0;
        return a = a.replace(b, function (a) {
            var b = j[l] ? "" : a;
            return l++, b
        })
    }

    var d, e;
    "object" == typeof exports && "function" == typeof require ? (d = exports, e = require("./Markdown.Converter.js").Converter) : (d = window.Markdown, e = d.Converter), d.getSanitizingConverter = function () {
        var b = new e;
        return b.hooks.chain("postConversion", a), b.hooks.chain("postConversion", c), b
    };
    var f = /^(<\/?(b|blockquote|code|del|dd|dl|dt|em|h1|h2|h3|i|kbd|li|ol|p|pre|s|sup|sub|strong|strike|ul)>|<(br|hr)\s?\/?>)$/i, g = /^(<a\shref="((https?|ftp):\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)]+"(\stitle="[^"<>]+")?\s?>|<\/a>)$/i, h = /^(<img\ssrc="(https?:\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)]+"(\swidth="\d{1,3}")?(\sheight="\d{1,3}")?(\salt="[^"<>]*")?(\stitle="[^"<>]*")?\s?\/?>)$/i
}(), function () {
    function a(a) {
        return a.replace(/^\s+|\s+$/g, "")
    }

    function b(a) {
        return a.replace(/\s+$/g, "")
    }

    function c(a) {
        return a.replace(new RegExp("^(\\t|[ ]{1,4})", "gm"), "")
    }

    function d(a, b) {
        return a.indexOf(b) != -1
    }

    function e(a, b) {
        return a.replace(/<[^>]*>?/gi, function (a) {
            return a.match(b) ? a : ""
        })
    }

    function f(a, b) {
        for (var c = {}, d = 0; d < a.length; d++)c[a[d]] = a[d];
        for (d = 0; d < b.length; d++)c[b[d]] = b[d];
        var e = [];
        for (var f in c)c.hasOwnProperty(f) && e.push(c[f]);
        return e
    }

    function g(a) {
        return "" != a.charAt(0) && (a = "" + a), "" != a.charAt(a.length - 1) && (a += ""), a
    }

    function h(a) {
        return "" == a.charAt(0) && (a = a.substr(1)), "" == a.charAt(a.length - 1) && (a = a.substr(0, a.length - 1)), a
    }

    function i(a, b) {
        return e(j(a, b), p)
    }

    function j(a, b) {
        var c = b.blockGamutHookCallback(a);
        return c = m(c), c = c.replace(/~D/g, "$$").replace(/~T/g, "~"), c = b.previousPostConversion(c)
    }

    function k(a) {
        return a.replace(/\\\|/g, "~I").replace(/\\:/g, "~i")
    }

    function l(a) {
        return a.replace(/~I/g, "|").replace(/~i/g, ":")
    }

    function m(a) {
        return a = a.replace(/~E(\d+)E/g, function (a, b) {
            var c = parseInt(b);
            return String.fromCharCode(c)
        })
    }

    function n(a) {
        return a.toLowerCase().replace(/\s+/g, "-").replace(/[^\w\-]+/g, "").replace(/\-\-+/g, "-").replace(/^-+/, "").replace(/-+$/, "")
    }

    function o(a, b) {
        var c = b;
        return c = c.replace(/&\#8220;/g, '"'), c = c.replace(/&\#8221;/g, '"'), c = c.replace(/&\#8216;/g, "'"), c = c.replace(/&\#8217;/g, "'"), c = c.replace(/&\#8212;/g, "---"), c = c.replace(/&\#8211;/g, "--"), c = c.replace(/&\#8230;/g, "...")
    }

    var p = new RegExp(["^(<\\/?(a|abbr|acronym|applet|area|b|basefont|", "bdo|big|button|cite|code|del|dfn|em|figcaption|", "font|i|iframe|img|input|ins|kbd|label|map|", "mark|meter|object|param|progress|q|ruby|rp|rt|s|", "samp|script|select|small|span|strike|strong|", "sub|sup|textarea|time|tt|u|var|wbr)[^>]*>|", "<(br)\\s?\\/?>)$"].join(""), "i");
    Array.indexOf || (Array.prototype.indexOf = function (a) {
        for (var b = 0; b < this.length; b++)if (this[b] == a)return b;
        return -1
    }), Markdown.Extra = function () {
        this.converter = null, this.hashBlocks = [], this.footnotes = {}, this.usedFootnotes = [], this.attributeBlocks = !1, this.googleCodePrettify = !1, this.highlightJs = !1, this.tableClass = "", this.tabWidth = 4
    }, Markdown.Extra.init = function (a, b) {
        var c = new Markdown.Extra, e = [], f = [], g = [], h = ["unHashExtraBlocks"];
        return b = b || {}, b.extensions = b.extensions || ["all"], d(b.extensions, "all") && (b.extensions = ["tables", "fenced_code_gfm", "def_list", "attr_list", "footnotes", "strikethrough", "newlines"]), f.push("wrapHeaders"), d(b.extensions, "attr_list") && (e.push("hashFcbAttributeBlocks"), f.push("hashHeaderAttributeBlocks"), h.push("applyAttributeBlocks"), c.attributeBlocks = !0), d(b.extensions, "fenced_code_gfm") && (f.push("fencedCodeBlocks"), e.push("fencedCodeBlocks")), d(b.extensions, "tables") && f.push("tables"), d(b.extensions, "def_list") && f.push("definitionLists"), d(b.extensions, "footnotes") && (e.push("stripFootnoteDefinitions"), f.push("doFootnotes"), h.push("printFootnotes")), d(b.extensions, "smartypants") && h.push("runSmartyPants"), d(b.extensions, "strikethrough") && g.push("strikethrough"), d(b.extensions, "newlines") && g.push("newlines"), a.hooks.chain("postNormalization", function (a) {
            return c.doTransform(e, a) + "\n"
        }), a.hooks.chain("preBlockGamut", function (a, b) {
            return c.blockGamutHookCallback = b, a = k(a), a = c.doTransform(f, a) + "\n", a = l(a)
        }), a.hooks.chain("postSpanGamut", function (a) {
            return c.doTransform(g, a)
        }), c.previousPostConversion = a.hooks.postConversion, a.hooks.chain("postConversion", function (a) {
            return a = c.doTransform(h, a), c.hashBlocks = [], c.footnotes = {}, c.usedFootnotes = [], a
        }), "highlighter" in b && (c.googleCodePrettify = "prettify" === b.highlighter, c.highlightJs = "highlight" === b.highlighter), "table_class" in b && (c.tableClass = b.table_class), c.converter = a, c
    }, Markdown.Extra.prototype.doTransform = function (a, b) {
        for (var c = 0; c < a.length; c++)b = this[a[c]](b);
        return b
    }, Markdown.Extra.prototype.hashExtraBlock = function (a) {
        return "\n<p>~X" + (this.hashBlocks.push(a) - 1) + "X</p>\n"
    }, Markdown.Extra.prototype.hashExtraInline = function (a) {
        return "~X" + (this.hashBlocks.push(a) - 1) + "X"
    }, Markdown.Extra.prototype.unHashExtraBlocks = function (a) {
        function b() {
            var d = !1;
            a = a.replace(/(?:<p>)?~X(\d+)X(?:<\/p>)?/g, function (a, b) {
                d = !0;
                var e = parseInt(b, 10);
                return c.hashBlocks[e]
            }), d === !0 && b()
        }

        var c = this;
        return b(), a
    }, Markdown.Extra.prototype.wrapHeaders = function (a) {
        function b(a) {
            return "\n" + a + "\n"
        }

        return a = a.replace(/^.+[ \t]*\n=+[ \t]*\n+/gm, b), a = a.replace(/^.+[ \t]*\n-+[ \t]*\n+/gm, b), a = a.replace(/^\#{1,6}[ \t]*.+?[ \t]*\#*\n+/gm, b)
    };
    var q = "\\{[ \\t]*((?:[#.][-_:a-zA-Z0-9]+[ \\t]*)+)\\}", r = new RegExp("^(#{1,6}.*#{0,6})[ \\t]+" + q + "[ \\t]*(?:\\n|0x03)", "gm"), s = new RegExp("^(.*)[ \\t]+" + q + "[ \\t]*\\n(?=[\\-|=]+\\s*(?:\\n|0x03))", "gm"), t = new RegExp("^(```[ \\t]*[^{\\s]*)[ \\t]+" + q + "[ \\t]*\\n(?=([\\s\\S]*?)\\n```[ \\t]*(\\n|0x03))", "gm");
    Markdown.Extra.prototype.hashHeaderAttributeBlocks = function (a) {
        function b(a, b, d) {
            return "<p>~XX" + (c.hashBlocks.push(d) - 1) + "XX</p>\n" + b + "\n"
        }

        var c = this;
        return a = a.replace(r, b), a = a.replace(s, b)
    }, Markdown.Extra.prototype.hashFcbAttributeBlocks = function (a) {
        function b(a, b, d) {
            return "<p>~XX" + (c.hashBlocks.push(d) - 1) + "XX</p>\n" + b + "\n"
        }

        var c = this;
        return a.replace(t, b)
    }, Markdown.Extra.prototype.applyAttributeBlocks = function (a) {
        var b = this, c = new RegExp('<p>~XX(\\d+)XX</p>[\\s]*(?:<(h[1-6]|pre)(?: +class="(\\S+)")?(>[\\s\\S]*?</\\2>))', "gm");
        return a = a.replace(c, function (a, c, d, e, g) {
            if (!d)return "";
            for (var h = parseInt(c, 10), i = b.hashBlocks[h], j = i.match(/#[^\s#.]+/g) || [], k = j[0] ? ' id="' + j[0].substr(1, j[0].length - 1) + '"' : "", l = i.match(/\.[^\s#.]+/g) || [], m = 0; m < l.length; m++)l[m] = l[m].substr(1, l[m].length - 1);
            var n = "";
            return e && (l = f(l, [e])), l.length > 0 && (n = ' class="' + l.join(" ") + '"'), "<" + d + k + n + g
        })
    }, Markdown.Extra.prototype.tables = function (b) {
        function c(b, c, e, f, g, h) {
            c = c.replace(/^ *[|]/m, ""), e = e.replace(/^ *[|]/m, ""), f = f.replace(/^ *[|]/gm, ""), c = c.replace(/[|] *$/m, ""), e = e.replace(/[|] *$/m, ""), f = f.replace(/[|] *$/gm, ""), alignspecs = e.split(/ *[|] */), align = [];
            for (var j = 0; j < alignspecs.length; j++) {
                var k = alignspecs[j];
                k.match(/^ *-+: *$/m) ? align[j] = ' align="right"' : k.match(/^ *:-+: *$/m) ? align[j] = ' align="center"' : k.match(/^ *:-+ *$/m) ? align[j] = ' align="left"' : align[j] = ""
            }
            var l = c.split(/ *[|] */), m = l.length, n = d.tableClass ? ' class="' + d.tableClass + '"' : "", o = ["<table", n, ">\n", "<thead>\n", "<tr>\n"].join("");
            for (j = 0; j < m; j++) {
                var p = i(a(l[j]), d);
                o += ["  <th", align[j], ">", p, "</th>\n"].join("")
            }
            o += "</tr>\n</thead>\n";
            var q = f.split("\n");
            for (j = 0; j < q.length; j++)if (!q[j].match(/^\s*$/)) {
                for (var r = q[j].split(/ *[|] */), s = m - r.length, t = 0; t < s; t++)r.push("");
                for (o += "<tr>\n", t = 0; t < m; t++) {
                    var u = i(a(r[t]), d);
                    o += ["  <td", align[t], ">", u, "</td>\n"].join("")
                }
                o += "</tr>\n"
            }
            return o += "</table>\n", d.hashExtraBlock(o)
        }

        var d = this, e = new RegExp(["^", "[ ]{0,3}", "[|]", "(.+)\\n", "[ ]{0,3}", "[|]([ ]*[-:]+[-| :]*)\\n", "(", "(?:[ ]*[|].*\\n?)*", ")", "(?:\\n|$)"].join(""), "gm"), f = new RegExp(["^", "[ ]{0,3}", "(\\S.*[|].*)\\n", "[ ]{0,3}", "([-:]+[ ]*[|][-| :]*)\\n", "(", "(?:.*[|].*\\n?)*", ")", "(?:\\n|$)"].join(""), "gm");
        return b = b.replace(e, c), b = b.replace(f, c)
    }, Markdown.Extra.prototype.stripFootnoteDefinitions = function (a) {
        var b = this;
        return a = a.replace(/\n[ ]{0,3}\[\^(.+?)\]\:[ \t]*\n?([\s\S]*?)\n{1,2}((?=\n[ ]{0,3}\S)|$)/g, function (a, c, d) {
            return c = n(c), d += "\n", d = d.replace(/^[ ]{0,3}/g, ""), b.footnotes[c] = d, "\n"
        })
    }, Markdown.Extra.prototype.doFootnotes = function (a) {
        var b = this;
        if (b.isConvertingFootnote === !0)return a;
        var c = 0;
        return a = a.replace(/\[\^(.+?)\]/g, function (a, d) {
            var e = n(d), f = b.footnotes[e];
            if (void 0 === f)return a;
            c++, b.usedFootnotes.push(e);
            var g = '<a href="#fn:' + e + '" id="fnref:' + e + '" title="See footnote" class="footnote">' + c + "</a>";
            return b.hashExtraInline(g)
        })
    }, Markdown.Extra.prototype.printFootnotes = function (a) {
        var b = this;
        if (0 === b.usedFootnotes.length)return a;
        a += '\n\n<div class="footnotes">\n<hr>\n<ol>\n\n';
        for (var c = 0; c < b.usedFootnotes.length; c++) {
            var d = b.usedFootnotes[c], e = b.footnotes[d];
            b.isConvertingFootnote = !0;
            var f = i(e, b);
            delete b.isConvertingFootnote, a += '<li id="fn:' + d + '">' + f + ' <a href="#fnref:' + d + '" title="Return to article" class="reversefootnote">&#8617;</a></li>\n\n'
        }
        return a += "</ol>\n</div>"
    }, Markdown.Extra.prototype.fencedCodeBlocks = function (a) {
        function b(a) {
            return a = a.replace(/&/g, "&amp;"), a = a.replace(/</g, "&lt;"), a = a.replace(/>/g, "&gt;"), a = a.replace(/~D/g, "$$"), a = a.replace(/~T/g, "~")
        }

        var c = this;
        return a = a.replace(/(?:^|\n)```[ \t]*(\S*)[ \t]*\n([\s\S]*?)\n```[ \t]*(?=\n)/g, function (a, d, e) {
            var f = d, g = e, h = c.googleCodePrettify ? ' class="prettyprint"' : "", i = "";
            f && (i = c.googleCodePrettify || c.highlightJs ? ' class="language-' + f + '"' : ' class="' + f + '"');
            var j = ["<pre", h, "><code", i, ">", b(g), "</code></pre>"].join("");
            return c.hashExtraBlock(j)
        })
    }, Markdown.Extra.prototype.educatePants = function (a) {
        var b = this, c = "", d = 0;
        a.replace(/(?:<!--[\s\S]*?-->)|(<)([a-zA-Z1-6]+)([^\n]*?>)([\s\S]*?)(<\/\2>)/g, function (e, f, g, h, i, j, k) {
            var l = a.substring(d, k);
            return c += b.applyPants(l), b.smartyPantsLastChar = c.substring(c.length - 1), d = k + e.length, f ? (/code|kbd|pre|script|noscript|iframe|math|ins|del|pre/i.test(g) ? b.smartyPantsLastChar = i.substring(i.length - 1) : i = b.educatePants(i), void(c += f + g + h + i + j)) : void(c += e)
        });
        var e = a.substring(d);
        return c += b.applyPants(e), b.smartyPantsLastChar = c.substring(c.length - 1), c
    }, Markdown.Extra.prototype.applyPants = function (a) {
        return a = a.replace(/---/g, "&#8212;").replace(/--/g, "&#8211;"), a = a.replace(/\.\.\./g, "&#8230;").replace(/\.\s\.\s\./g, "&#8230;"), a = a.replace(/``/g, "&#8220;").replace(/''/g, "&#8221;"), /^'$/.test(a) ? /\S/.test(this.smartyPantsLastChar) ? "&#8217;" : "&#8216;" : /^"$/.test(a) ? /\S/.test(this.smartyPantsLastChar) ? "&#8221;" : "&#8220;" : (a = a.replace(/^'(?=[!"#\$\%'()*+,\-.\/:;<=>?\@\[\\]\^_`{|}~]\B)/, "&#8217;"), a = a.replace(/^"(?=[!"#\$\%'()*+,\-.\/:;<=>?\@\[\\]\^_`{|}~]\B)/, "&#8221;"), a = a.replace(/"'(?=\w)/g, "&#8220;&#8216;"), a = a.replace(/'"(?=\w)/g, "&#8216;&#8220;"), a = a.replace(/'(?=\d{2}s)/g, "&#8217;"), a = a.replace(/(\s|&nbsp;|--|&[mn]dash;|&\#8211;|&\#8212;|&\#x201[34];)'(?=\w)/g, "$1&#8216;"), a = a.replace(/([^\s\[\{\(\-])'/g, "$1&#8217;"), a = a.replace(/'(?=\s|s\b)/g, "&#8217;"), a = a.replace(/'/g, "&#8216;"), a = a.replace(/(\s|&nbsp;|--|&[mn]dash;|&\#8211;|&\#8212;|&\#x201[34];)"(?=\w)/g, "$1&#8220;"), a = a.replace(/([^\s\[\{\(\-])"/g, "$1&#8221;"), a = a.replace(/"(?=\s)/g, "&#8221;"), a = a.replace(/"/gi, "&#8220;"))
    }, Markdown.Extra.prototype.runSmartyPants = function (a) {
        return this.smartyPantsLastChar = "", a = this.educatePants(a), a = a.replace(/(<([a-zA-Z1-6]+)\b([^\n>]*?)(\/)?>)/g, o)
    }, Markdown.Extra.prototype.definitionLists = function (b) {
        var c = new RegExp(["(\\x02\\n?|\\n\\n)", "(?:", "(", "(", "[ ]{0,3}", "((?:[ \\t]*\\S.*\\n)+)", "\\n?", "[ ]{0,3}:[ ]+", ")", "([\\s\\S]+?)", "(", "(?=\\0x03)", "|", "(?=", "\\n{2,}", "(?=\\S)", "(?!", "[ ]{0,3}", "(?:\\S.*\\n)+?", "\\n?", "[ ]{0,3}:[ ]+", ")", "(?!", "[ ]{0,3}:[ ]+", ")", ")", ")", ")", ")"].join(""), "gm"), d = this;
        return b = g(b), b = b.replace(c, function (b, c, e) {
            var f = a(d.processDefListItems(e));
            return f = "<dl>\n" + f + "\n</dl>", c + d.hashExtraBlock(f) + "\n\n"
        }), h(b)
    }, Markdown.Extra.prototype.processDefListItems = function (d) {
        var e = this, f = new RegExp(["(\\x02\\n?|\\n\\n+)", "(", "[ ]{0,3}", "(?![:][ ]|[ ])", "(?:\\S.*\\n)+?", ")", "(?=\\n?[ ]{0,3}:[ ])"].join(""), "gm"), k = new RegExp(["\\n(\\n+)?", "(", "[ ]{0,3}", "[:][ ]+", ")", "([\\s\\S]+?)", "(?=\\n*", "(?:", "\\n[ ]{0,3}[:][ ]|", "<dt>|\\x03", ")", ")"].join(""), "gm");
        return d = g(d), d = d.replace(/\n{2,}(?=\\x03)/, "\n"), d = d.replace(f, function (b, c, d) {
            for (var f = a(d).split("\n"), g = "", h = 0; h < f.length; h++) {
                var j = f[h];
                j = i(a(j), e), g += "\n<dt>" + j + "</dt>"
            }
            return g + "\n"
        }), d = d.replace(k, function (a, d, f, g) {
            return d || g.match(/\n{2,}/) ? (g = Array(f.length + 1).join(" ") + g, g = c(g) + "\n\n", g = "\n" + j(g, e) + "\n") : (g = b(g), g = i(c(g), e)), "\n<dd>" + g + "</dd>\n"
        }), h(d)
    }, Markdown.Extra.prototype.strikethrough = function (a) {
        return a.replace(/([\W_]|^)~T~T(?=\S)([^\r]*?\S[\*_]*)~T~T([\W_]|$)/g, "$1<del>$2</del>$3")
    }, Markdown.Extra.prototype.newlines = function (a) {
        return a.replace(/(<(?:br|\/li)>)?\n/g, function (a, b) {
            return b ? a : " <br>\n"
        })
    }
}(), function () {
    "use strict";
    function a(a, b, c, d, e, f, g) {
        return {
            restrict: "E",
            replace: !0,
            scope: {
                title: "=editTitle",
                content: "=editContent",
                pid: "=pid",
                mode: "@mode",
                entity_id: "=entityId",
                entity_type: "@entityType",
                watchers: "=watchers",
                page_message: "=message",
                page_parent_id: "=parentId",
                page_is_notify: "=pageIsNotify"
            },
            transclude: !0,
            templateUrl: "/tpl/directive/wt_new_editor.html",
            link: function (h, i) {
                function j(a) {
                    var b, c, d = "1m1m1m1m1m1m", f = h.content, g = f.substr(0, a.start - 1), i = f.substr(a.start, f.length - a.start - 1);
                    f = g + "\n\n1. " + d + i, b = r.makeHtml(f), c = e(b);
                    var j = $("<div>" + c + "</div>"), k = j.find('li:contains("' + d + '")');
                    return 0 === k.length && (k = j.find('p:contains("' + d + '")').closest("li")), k.index() + 1
                }

                function k() {
                    a(function () {
                        if (h.content) {
                            var a = r.makeHtml(h.content), b = e(a);
                            h.html = b
                        }
                        _.isEmpty(h.content) && (h.html = "")
                    }), t = void 0
                }

                function l() {
                    t ? (clearTimeout(t), t = setTimeout(k, 500)) : t = setTimeout(k, 500)
                }

                var m = h.$parent;
                h.hideMini = !1, h.inPreview = !1, h.isFullscreen = !1;
                var n = !1, o = !1;
                "mini" === h.mode ? h.isMini = !0 : h.isMini = !1, i.find(".fullscreen-mk-content-textarea").on("scroll", function () {
                    if (!o) {
                        n = !0;
                        var b = i.find(".right-side"), c = i.find(".fullscreen-mk-content-textarea"), d = c.scrollTop(), e = b.prop("scrollHeight") - b.prop("clientHeight"), f = c.prop("scrollHeight") - c.prop("clientHeight"), g = d / f * e;
                        b.scrollTop(g), a(function () {
                            n = !1
                        }, 200)
                    }
                }), i.find(".right-side").on("scroll", function () {
                    if (!n) {
                        o = !0;
                        var b = i.find(".right-side"), c = i.find(".fullscreen-mk-content-textarea"), d = b.scrollTop(), e = b.prop("scrollHeight") - b.prop("clientHeight"), f = c.prop("scrollHeight") - c.prop("clientHeight"), g = d / e * f;
                        c.scrollTop(g), a(function () {
                            o = !1
                        }, 200)
                    }
                });
                var p = i.find(".wnd-content-textarea"), q = i.find(".fullscreen-mk-content-textarea"), r = new Markdown.Converter;
                Markdown.Extra.init(r), Markdown.Extra.init(r);
                var s = {
                    "cmd-bold": {
                        search: /([^\n]+)([\n\s]*)/g,
                        replace: "**$1**$2",
                        defaultText: f.instant("wt_new_editor2.bold"),
                        select: {leftOmit: 2, rightOmit: 2}
                    },
                    "cmd-italic": {
                        search: /([^\n]+)([\n\s]*)/g,
                        replace: "_$1_$2",
                        defaultText: f.instant("wt_new_editor2.italic"),
                        select: {leftOmit: 1, rightOmit: 1}
                    },
                    "cmd-code": {
                        search: /([^\n]+)([\n\s]*)/g,
                        replace: "\n```\n$1\n```$2",
                        defaultText: f.instant("wt_new_editor2.code"),
                        select: {leftOmit: 5, rightOmit: 4}
                    },
                    "cmd-horizontal-line": {append: "\n***\n", select: {leftOmit: 5, rightOmit: 0}},
                    "cmd-unorder-list": {
                        search: /(.+)([\n]?)/g,
                        replace: "\n* $1",
                        defaultText: f.instant("wt_new_editor2.unorder_list"),
                        select: {leftOmit: 3, rightOmit: 0}
                    },
                    "cmd-order-list": {
                        search: /(.+)([\n]?)/g,
                        replace: "\n1. $1",
                        defaultText: f.instant("wt_new_editor2.order_list"),
                        select: {leftOmit: 4, rightOmit: 0}
                    },
                    "cmd-blockquote": {
                        search: /(.+)([\n]?)/g,
                        replace: "\n> $1\n",
                        defaultText: f.instant("wt_new_editor2.quote"),
                        select: {leftOmit: 3, rightOmit: 1}
                    },
                    "cmd-h1": {
                        search: /(.+)([\n]?)/g,
                        replace: "\n# $1$2",
                        defaultText: f.instant("wt_new_editor2.h1"),
                        select: {leftOmit: 3, rightOmit: 0}
                    },
                    "cmd-h2": {
                        search: /(.+)([\n]?)/g,
                        replace: "\n## $1$2",
                        defaultText: f.instant("wt_new_editor2.h2"),
                        select: {leftOmit: 4, rightOmit: 0}
                    },
                    "cmd-h3": {
                        search: /(.+)([\n]?)/g,
                        replace: "\n### $1$2",
                        defaultText: f.instant("wt_new_editor2.h3"),
                        select: {leftOmit: 5, rightOmit: 0}
                    },
                    "cmd-insert-link": {
                        exec: function (b, d) {
                            c.popbox({
                                target: b,
                                placement: "bottom",
                                templateUrl: "/tpl/common/pop_add_link_2.html",
                                controller: ["$scope", "popbox", function (b, c) {
                                    b.popbox = c, b.link_address = "http://", b.insert = function () {
                                        var e = d.textrange("get");
                                        0 === e.length && (e.text = f.instant("wt_new_editor2.link_desc"), e.length = e.text.length);
                                        var g = "[" + e.text + "](" + b.link_address + ")";
                                        d.textrange("replace", g);
                                        var i = e.start + 1, j = e.text.length;
                                        a(function () {
                                            d.textrange("set", i, j)
                                        }), h.content = d.val(), c.close()
                                    }
                                }]
                            }).open()
                        }
                    },
                    "cmd-insert-image": {
                        exec: function (b, d) {
                            c.popbox({
                                target: b,
                                placement: "bottom",
                                templateUrl: "/tpl/common/pop_add_image2.html",
                                controller: ["$rootScope", "$scope", "$filter", "$stateParams", "popbox", "$sce", "$wtUploadFile", function (b, c, e, i, j, k, l) {
                                    c.popbox = j, c.step = 0, c.pid = h.pid, c.js_step = function (a) {
                                        c.step = a
                                    }, c.js_close = function () {
                                        j.close()
                                    }, c.js_show_images = function () {
                                        c.step = 1, _.isEmpty(c.images) && (c.images_loading_done = !1, c.images = null, wt.data.file.get_image_list(c.pid, function (a) {
                                            c.images = a.data
                                        }, null, function () {
                                            c.images_loading_done = !0
                                        }))
                                    }, c.js_select_image = function (a) {
                                        c.step = 0, c.image_address = g(a), c.js_insert_image()
                                    }, c.js_insert_image = function () {
                                        var b = d.textrange("get"), e = f.instant("wt_new_editor2.text");
                                        d.textrange("replace", "![" + e + "](" + c.image_address + ")"), a(function () {
                                            d.textrange("set", b.start + 2, e.length)
                                        }), h.content = d.val(), j.close()
                                    }, c.js_upload_image = function (a) {
                                        if (c.uploading_done !== !0) {
                                            c.uploading_done = !1, c.error_msg = null;
                                            var b = [];
                                            _.forEach(a, function (a) {
                                                b.push({original: a, data: {target: "prj", pid: c.pid}})
                                            }), l.addFiles(c.pid, b, function (a, b) {
                                                b && b.file && "project" === b.type && (b.file.icon = kzi.helper.build_file_icon(b.file), _.isEmpty(c.images) || c.images.push(b.file), c.image_address = g(b.file), c.js_insert_image(), c.uploading_done = !0)
                                            }), j.close()
                                        }
                                    }, c.token = kzi.get_cookie("sid"), c.action_url = b.global.config.box_url() + "?pid=" + c.pid + "&token=" + c.token, k.trustAsUrl(c.action_url)
                                }]
                            }).open()
                        }
                    },
                    "cmd-insert-linkentity": {
                        exec: function (a, b) {
                            d.showSearch(a, function (a, c) {
                                b.textrange("replace", a), h.content = b.val()
                            })
                        }
                    },
                    "cmd-save": {
                        exec: function (a, c) {
                            switch (h.entity_type) {
                                case"vm.post":
                                    if (_.isEmpty(h.title))return void kzi.msg.error(f.instant("wt_new_editor2.warn_title"));
                                    if (_.isEmpty(h.entity_id)) {
                                        var d = _.map(h.watchers, "uid");
                                        h.is_saving = !0, wt.data.post.add(h.pid, h.title, h.content, d, function (a) {
                                            b.$broadcast(kzi.constant.event_names.post_created_by_editor, a.data), h.entity_id = a.data.post_id, kzi.msg.success(f.instant("wt_new_editor2.success_add_post")), h.cancelFullscreen(), _.isFunction(m.vm.js_cancel_edit_post) && m.vm.js_cancel_edit_post()
                                        }, function () {
                                            kzi.msg.error(f.instant("wt_new_editor2.fail_add_post"))
                                        }, function () {
                                            h.is_saving = !1
                                        })
                                    } else h.is_saving = !0, wt.data.post.update(h.pid, h.entity_id, h.title, h.content, function (a) {
                                        kzi.msg.success(f.instant("wt_new_editor2.success_update_post")), h.cancelFullscreen(), _.isFunction(m.vm.js_cancel_editor) && m.vm.js_cancel_editor(), b.$broadcast(kzi.constant.event_names.post_updated_by_editor, {
                                            name: h.title,
                                            content: h.content,
                                            pid: h.pid,
                                            post_id: h.entity_id
                                        })
                                    }, function () {
                                        kzi.msg.error(f.instant("wt_new_editor2.fail_update_post"))
                                    }, function () {
                                        h.is_saving = !1
                                    });
                                    break;
                                case"vm.page":
                                    if (_.isEmpty(h.title))return void kzi.msg.error(f.instant("wt_new_editor2.err_title_require"));
                                    _.isEmpty(h.entity_id) ? (h.is_saving = !0, wt.data.page.add(h.pid, h.title, h.content, h.page_message, h.page_parent_id, [], function (a) {
                                        kzi.msg.success(f.instant("wt_new_editor2.success_add_page")), h.entity_id = a.data.page_id, b.$broadcast(kzi.constant.event_names.page_created_by_editor, a.data), h.cancelFullscreen(), m.vm.js_cancel_edit()
                                    }, null, function () {
                                        h.is_saving = !1
                                    })) : (h.is_saving = !0, wt.data.page.update(h.pid, h.entity_id, h.title, h.content, h.page_message, h.page_parent_id, h.page_is_notify, 0, function () {
                                        kzi.msg.success(f.instant("wt_new_editor2.success_update_page")), b.$broadcast(kzi.constant.event_names.page_updated_by_editor, {
                                            page_id: h.entity_id,
                                            parent_id: h.page_parent_id,
                                            name: h.title,
                                            content: h.content,
                                            message: h.page_message
                                        }), h.cancelFullscreen(), m.vm.js_cancel_edit()
                                    }, null, function () {
                                        h.is_saving = !1
                                    }));
                                    break;
                                default:
                                    kzi.msg.warn("entity type error")
                            }
                        }
                    },
                    "cmd-preview": {}
                }, t = void 0;
                h.$watch("content", function (a, b) {
                    a !== b && l()
                }), h.execEditorCmd = function (b, c) {
                    var d;
                    if (d = h.isFullscreen ? q : h.isMini ? i.find(".mini-content-textarea") : p, s[c].search && s[c].replace) {
                        var e = d.textrange("get"), f = null;
                        "cmd-order-list" === c && (f = j(e)), 0 === e.length && (s[c].defaultText && (e.text = s[c].defaultText), e.length = e.text.length);
                        var g = "";
                        if (f > 0 && "cmd-order-list" === c) {
                            var k = e.text.split("\n");
                            _.each(k, function (a, b) {
                                a.length > 0 && (k[b] = a.replace(s[c].search, "\n" + f++ + ". $1")), g = k.join("")
                            })
                        } else g = e.text.replace(s[c].search, s[c].replace);
                        d.textrange("replace", g), h.content = d.val(), a(function () {
                            if (s[c].select) {
                                var a = e.start;
                                a += s[c].select.leftOmit;
                                var b = g.length;
                                b = b - s[c].select.rightOmit - s[c].select.leftOmit, d.textrange("set", a, b)
                            }
                        })
                    }
                    if (s[c].append && (d.textrange("replace", s[c].append), h.content = d.val(), s[c].select)) {
                        var l = d.textrange("get"), m = l.start;
                        m += s[c].select.leftOmit, d.textrange("set", m, 0)
                    }
                    s[c].exec && s[c].exec(b, d)
                }, h.flipPreview = function () {
                    k();
                    var a = p.closest(".flip-container");
                    if (h.inPreview === !1) {
                        var b = a.find(".wnd-content-textarea"), c = b.prop("scrollHeight") - b.prop("clientHeight"), d = b.scrollTop();
                        h.inPreview = !h.inPreview, a.addClass("flipped");
                        var e = a.find(".wnd-content-html"), f = e.prop("scrollHeight") - e.prop("clientHeight"), g = d / c * f;
                        e.scrollTop(g), a.find(".front").css("z-index", 1), a.find(".back").css("z-index", 2)
                    } else a.removeClass("flipped"), h.inPreview = !h.inPreview, a.find(".front").css("z-index", 2), a.find(".back").css("z-index", 1)
                }, h.goFullscreen = function () {
                    k(), h.isFullscreen = !0, b.isFullscreen = !0, h.isMini === !0 && (h.hideMini = !0);
                    var a = i.parents(".slide-content");
                    a.data("skipLoadOnce", !0).addClass("none"), i.parents(".wt-scroll").addClass("wt-scroll--fixed"), h.isMini && i.find(".left-right-container").css("top", "48px")
                }, h.cancelFullscreen = function () {
                    h.isFullscreen = !1, b.isFullscreen = !1, h.isMini === !0 && (h.hideMini = !1);
                    var a = i.parents(".slide-content");
                    a.data("skipLoadOnce", !0).removeClass("none"), i.parents(".wt-scroll").removeClass("wt-scroll--fixed")
                }
            }
        }
    }

    angular.module("wt.new.editor", []).directive("wtNewEditor", a), a.$inject = ["$timeout", "$rootScope", "$popbox", "linkentityService", "sanitize", "$translate", "inertPicFromBoxFilter"]
}(), function () {
    "use strict";
    function a(a) {
        this.init = function () {
            a.$on(kzi.constant.event_names.autosave_cancel, function (a, b) {
                kzi.localData.remove(b.key)
            })
        }
    }

    function b(a) {
        return {
            replace: !0,
            templateUrl: "/ycjs/directive/autosave/autosave.html",
            restrict: "E",
            scope: {key: "=", content: "=", control: "@"},
            link: function (a, b, e) {
                function f() {
                    var b = kzi.localData.get(a.key);
                    null != b && (g.save_time = moment(parseInt(b.split("|||")[0], 10)).format("YYYY-MM-DD HH:mm:ss"), d(b.split("|||")[1]) === a.content ? g.show_tip = !1 : g.show_tip = !0)
                }

                var g = a.vm = {first_init: !0, show_tip: !1, save_time: 0};
                a.$watch("content", function (b, e) {
                    if ("" !== b && !g.first_init) {
                        g.show_tip = !1;
                        var f = kzi.localData.get(a.key);
                        null !== f && b !== d(f.split("|||")[1]) && $(a.control).unbind("keydown.autosave"), kzi.localData.set(a.key, moment().valueOf() + "|||" + c(b))
                    }
                    g.first_init && (g.first_init = !g.first_init)
                }), g.revert_save = function () {
                    g.show_tip = !1;
                    var b = kzi.localData.get(a.key), c = a.content;
                    a.content = d(b.split("|||")[1]), $(a.control).focus(), $(a.control).bind("keydown.autosave", function (b) {
                        (b.ctrlKey || b.metaKey) && 90 === b.keyCode && $(a.control).get(0) === b.target && a.$apply(function () {
                            a.content = c, $(a.control).unbind("keydown.autosave")
                        })
                    })
                }, g.cancel_save = function () {
                    g.show_tip = !1, kzi.localData.remove(a.key)
                }, f()
            }
        }
    }

    angular.module("wt.autosave", []).service("wtAutosaveService", a).directive("wtAutosave", b), a.$inject = ["$rootScope"];
    var c = function (a) {
        return btoa(encodeURIComponent(a))
    }, d = function (a) {
        return decodeURIComponent(atob(a))
    };
    b.$inject = ["$rootScope"]
}(), function () {
    function a() {
        var a = m.Window.open(location.protocol + "//" + location.host + "/ycjs/nw-plugins/nw-desktop-notifications.html", {
            frame: !1,
            toolbar: !1,
            width: l,
            height: 0,
            "always-on-top": !0,
            show: !1,
            resizable: !1
        });
        window.LOCAL_NW.DesktopNotificationsWindow = a, window.LOCAL_NW.DesktopNotificationsWindowIsLoaded = !1, a.on("loaded", function () {
            window.LOCAL_NW.DesktopNotificationsWindowIsLoaded = !0, $(a.window.document.body).find("#closer").click(function () {
                g()
            })
        })
    }

    function b() {
        return !!m && void(window.LOCAL_NW.DesktopNotificationsWindow && (window.LOCAL_NW.DesktopNotificationsWindow.close(!0), window.LOCAL_NW.DesktopNotificationsWindow = null))
    }

    function c(b, c, d, g) {
        if (!m)return !1;
        window.LOCAL_NW.DesktopNotificationsWindow || a();
        var h = function () {
            e(b, c, d, g), f(), $(window.LOCAL_NW.DesktopNotificationsWindow.window.document.body).find("#shouldstart").text("true")
        };
        return window.LOCAL_NW.DesktopNotificationsWindowIsLoaded ? h() : window.LOCAL_NW.DesktopNotificationsWindow.on("loaded", h), !0
    }

    function d(a, b, c, d) {
        return '<li id="' + d + '"><div class="icon"><img src="' + a + '" /></div><div class="title">' + j(b, 35) + '</a></div><div class="description">' + j(c, 37) + "</div></li>"
    }

    function e(a, b, c, e) {
        var f = i(), g = d(a, b, c, f), h = $(window.LOCAL_NW.DesktopNotificationsWindow.window.document.body);
        h.find("#notifications").append(g), h.find("#" + f).click(e)
    }

    function f() {
        function a() {
            setTimeout(function () {
                c < 60 && (b.resizeTo(d, c), c += 10, a())
            }, 5)
        }

        var b = window.LOCAL_NW.DesktopNotificationsWindow;
        if (!b.NOTIFICATION_IS_SHOWING) {
            var c = screen.availTop, d = l;
            b.moveTo(h(b), c), b.show(), b.NOTIFICATION_IS_SHOWING = !0, document.hasFocus() && b.blur(), a()
        }
    }

    function g(a) {
        function b() {
            setTimeout(function () {
                d > -10 ? (c.resizeTo(e, d), d -= 10, b()) : (c.hide(), a && a())
            }, 5)
        }

        var c = window.LOCAL_NW.DesktopNotificationsWindow, d = c.height, e = l;
        b(), c.NOTIFICATION_IS_SHOWING = !1
    }

    function h(a) {
        return screen.availLeft + screen.availWidth - (l + 10)
    }

    function i() {
        return +new Date + "-" + n++
    }

    function j(a, b) {
        return a = $.trim(a), a.length > b ? $.trim(a.substr(0, b)) + "" : a
    }

    var k = window.require, l = 290, m = null, n = 0;
    k && (m = k("nw.gui")), window.LOCAL_NW || (window.LOCAL_NW = {}), window.LOCAL_NW.desktopNotifications = {
        notify: c,
        closeAnyOpenNotificationWindows: b
    }
}(), function () {
    "use strict";
    function a(a, b, c, d, e, f, g, h) {
        function i() {
            e && e.permission != kzi.constant.team_permission.guest ? (b.team = e, a.global.loading_done = !0, j.user_is_team_owner = b.team.permission == kzi.constant.team_permission.owner, j.user_is_team_admin = b.team.permission == kzi.constant.team_permission.owner || b.team.permission == kzi.constant.team_permission.admin, b.$on(kzi.constant.event_names.team_member_role_change, function (a, d) {
                b.team && b.team.team_id === d.team_id && (b.team.permission = d.team_permission, kzi.constant.team_module.view_base & d.team_permission || c.go("dashboard.default"))
            })) : wt.data.team.get_full(j.team_id, function (b) {
                j.public_team = b.data, a.global.title = [h.instant("team.title_name_public_team"), " | ", j.public_team.info.name].join(""), a.global.loading_done = !0
            }, function (a) {
                c.go("not_found", {type: "team"})
            })
        }

        var j = b.vm = {
            state: c,
            user_is_team_admin: !1,
            display_team_setting: !1,
            user_is_team_owner: !1,
            teamCalendarFilterData: f,
            team_id: d.team_id,
            public_team: null
        };
        i(), j.js_view_team_info = function (a) {
            g.popbox({
                target: a,
                $scope: b,
                templateUrl: "/tpl/team/pop_team_info.html",
                controller: ["$scope", "popbox", function (a, b) {
                    a.popbox = b, j.js_close = function () {
                        b.close()
                    }
                }]
            }).open()
        }, j.js_toggle_team_filter = function () {
            f.team_calendar_filter_status = !f.team_calendar_filter_status
        }
    }

    function b(a, b, c) {
        b.parent_vm = b.$parent.vm
    }

    function c(a, b, c, d, e) {
        var f = a.$parent.vm;
        f.display_team_setting = !0, b.global.title = [e.instant("team.title_name_setting"), " | ", a.team.name].join(""), b.global.loading_done = !0, a.part_loading_done = !0, a.active_team_admin_nav_tab = "admin", a.quit_team_step = 1, a.js_set_current_menu = function (b) {
            a.current_menu = b
        }, a.js_quit_team_step = function (b) {
            a.quit_team_step = b
        }, a.js_quit_team = function () {
            a.is_quiting !== !0 && (a.is_quiting = !0, wt.data.team.leave(a.team.team_id, function () {
                kzi.msg.success(e.instant("team.leave_success")), d.cache.team.dismiss(a.team.team_id), c.go("dashboard.default")
            }, null, function () {
                a.is_quiting = !1
            }))
        }
    }

    angular.module("wt.team.ctrl", []).controller("teamCtrl", a).controller("teamDashboardCtrl", b).controller("teamSettingCtrl", c), a.$inject = ["$rootScope", "$scope", "$state", "$stateParams", "team", "teamCalendarFilterData", "$popbox", "$translate"], b.$inject = ["$rootScope", "$scope", "$popbox"], c.$inject = ["$scope", "$rootScope", "$state", "globalDataContext", "$translate"]
}(), angular.module("wt.team.ctrl").controller("team_tasks_ctrl", ["$rootScope", "$scope", "$state", "$popbox", "globalDataContext", "locator", "$translate", function (a, b, c, d, e, f, g) {
    if (!b.team)return c.go("dashboard.default");
    a.global.title = [g.instant("team_tasks.title_name"), " | ", b.team.name].join(""), a.global.loading_done = !0, b.loading_tasks = !1;
    var h = b.team.team_id;
    b.part_loading_done = !1;
    var i = b.vm = {
        filter_type_reg: "uncompleted",
        filter_project_reg: "all",
        filter_user_reg: "all",
        is_has_more_task: !0
    }, j = 1;
    b.locator = f, b.tasks = [];
    var k = b.load_tasks = function () {
        b.loading_tasks = !0, wt.data.team.get_tasks(h, i.filter_user_reg, i.filter_project_reg, i.filter_type_reg, j, function (a) {
            _.each(a.data, function (a) {
                var c = _.find(e.projects, {pid: a.pid});
                c && (a.project = c), b.tasks.push(a)
            }), a.data.length > 0 ? (j += 1, i.is_has_more_task = !0) : i.is_has_more_task = !1
        }, function () {
            kzi.msg.error(g.instant("team_tasks.get_tasks_fail"))
        }, function () {
            b.loading_tasks = !1
        })
    };
    wt.data.team.get_team_members(h, function (a) {
        b.team.members = _.filter(a.data.members, function (a) {
            return a.role != kzi.constant.role.guest && a.status == kzi.constant.user_status.ok
        })
    }, null, function () {
        b.part_loading_done = !0
    }), k(), b.js_reset_filter_type = function (a) {
        i.filter_type_reg !== a && (i.filter_type_reg = a, j = 1, b.tasks = [], k())
    }, b.js_toggle_filter_user = function (a) {
        i.filter_user_reg === a ? i.filter_user_reg = "all" : i.filter_user_reg = a, j = 1, b.tasks = [], k()
    }
}]), function () {
    "use strict";
    function a(a, b, c, d, e, f) {
        function g() {
            wt.data.team.get_team_members_with_stats(i, function (a) {
                b.team.members = a.data.members, j()
            }, null, function () {
                h.part_loading_done = !0
            })
        }

        if (!b.team)return c.go("dashboard.default");
        a.global.title = [f.instant("team_members.title_name"), " | ", b.team.name].join(""), a.global.loading_done = !0;
        var h = b.vm = {
            part_loading_done: !1,
            filter_type: "normals",
            members: {}
        }, i = (b.parent_vm = b.$parent.vm, b.team.team_id), j = function () {
            h.members.normals = _.filter(b.team.members, function (a) {
                return a.role > 0 && a.role <= kzi.constant.role.member && a.status == kzi.constant.user_status.ok
            }), h.members.inviteds = _.filter(b.team.members, function (a) {
                return a.status == kzi.constant.user_status.pending
            }), h.members.guests = _.filter(b.team.members, function (a) {
                return a.role == kzi.constant.role.guest
            })
        };
        g();
        var k = function (a) {
            if (a.role != kzi.constant.role.deleted) {
                var c = _.find(b.team.members, {uid: a.uid});
                c.role = a.role
            } else {
                var d = _.findIndex(b.team.members, {uid: a.uid});
                d >= 0 && b.team.members.splice(d, 1)
            }
            j()
        };
        d.addListener(kzi.constant.event_names.team_member_role_change, k, b), b.$on(kzi.constant.event_names.member_state_change, function (c, d) {
            if (d.uid !== a.global.me.uid) {
                var e = _.find(b.team.members, {uid: d.uid});
                e && (e.online = d.state), j()
            }
        }), h.js_goto_team_admin = function () {
            return b.team.is_dingteam ? void kzi.msg.info("") : void c.go("team.admin.members", {
                team_id: b.team.team_id
            })
        }, h.js_add_team_member = function () {
            return b.team.is_dingteam ? void kzi.msg.info("") : void e.showAddMember(b.team, function () {
                c.reload(!0)
            })
        }, h.js_reset_filter_type = function (a) {
            h.filter_type = a
        }
    }

    angular.module("wt.team.ctrl").controller("teamMembersCtrl", a), a.$inject = ["$rootScope", "$scope", "$state", "bus", "teamService", "$translate"]
}(), function () {
    "use strict";
    function a(a, b, c, d, e, f) {
        function g() {
            return b.team ? (a.global.title = [f.instant("team_projects.title_name"), " | ", b.team.name].join(""), _.each(e.projects, function (a) {
                h.me_pids.push(a.pid)
            }), a.global.loading_done = !0, h.part_loading_done = !1, void wt.data.team.get_team_projects(b.team.team_id, function (a) {
                b.team.projects = a.data, i()
            }, null, function () {
                h.part_loading_done = !0
            })) : c.go("dashboard.default")
        }

        var h = b.vm = {
            part_loading_done: !1,
            me_pids: [],
            filter_type: "me",
            projects: {participateds: [], teampublics: []}
        };
        b.parent_vm = b.$parent.vm;
        if (null != b.team) {
            g();
            var i = function () {
                h.projects.participateds = _.filter(b.team.projects, function (a) {
                    return _.includes(h.me_pids, a.pid)
                }), h.projects.teampublics = _.filter(b.team.projects, function (a) {
                    return !_.includes(h.me_pids, a.pid) && (a.visibility === kzi.constant.prj_visibility.protected || a.visibility === kzi.constant.prj_visibility.public)
                }), h.projects.participateds = _.sortBy(h.projects.participateds, function (a) {
                    return a.pos
                }), h.projects.teampublics = _.sortBy(h.projects.teampublics, function (a) {
                    return a.pos
                })
            };
            h.js_reset_filter_type = function (a) {
                h.filter_type = a
            }, h.js_new_project = function (a) {
                d.showAdd(b.team ? b.team.team_id : "")
            }
        }
    }

    angular.module("wt.team.ctrl").controller("team_projects_ctrl", a), a.$inject = ["$rootScope", "$scope", "$state", "projectService", "globalDataContext", "$translate"]
}(), function () {
    "use strict";
    function a() {
        this.myCalendar = {}, this.team_calendar_filter_status = !1, this.filter_only_task = !1, this.filter_only_schedule = !1, this.team_calendar_filter_type = 0, this.team_calendar_filter_pids = "", this.team_all_projects = [], this.team_calendar_filter_member_uids = "", this.team_all_member = [], this.clear_filter = function () {
            this.filter_only_schedule = !1, this.filter_only_task = !1, this.team_calendar_filter_type = 0, this.team_calendar_filter_pids = "", _.each(this.team_all_projects, function (a) {
                a.is_checked = !0
            }), this.team_calendar_filter_member_uids = "", _.each(this.team_all_member, function (a) {
                a.is_checked = !1
            }), this.removeEvents(), this.refetchEvents()
        }, this.removeEvents = function () {
            this.myCalendar.fullCalendar("removeEvents")
        }, this.refetchEvents = function () {
            this.myCalendar.fullCalendar("refetchEvents")
        }
    }

    function b(a, b, c, d, e, f, g, h) {
        function i() {
            var a = g.myCalendar.fullCalendar("getView");
            $("#calendar_title").html(a.title);
            var b = new Date(a.start).getTime(), c = new Date(a.end).getTime(), d = (new Date).getTime();
            d < b || d > c ? $("#calendar_today").css("visibility", "visible") : $("#calendar_today").css("visibility", "hidden")
        }

        function j() {
            0 != $("#calendar").find(".fc-agendaWeek-view").size() && ($("#calendar").find(".fc-agendaWeek-view tbody td:eq(0)").css({
                height: kzi.util.winHeight() - l.header_height - 40,
                overflow: "auto",
                display: "block"
            }), $("#calendar").find(".fc-agendaWeek-view tbody td:eq(0)").find(".fc-time-grid-container").css({
                height: "",
                overflow: "auto"
            }))
        }

        function k() {
        }

        var l = b.vm = {
            header_height: 150,
            calendar_view: "month",
            show_my_task: !0,
            team_id: b.team.team_id,
            cache_calendar: null
        };
        a.global.title = [h.instant("team_calendars.title_name"), " | ", b.team.name].join("");
        var m, n, o = null, p = null;
        k();
        var q = function (a, c, d, e, f) {
            if (_.isEmpty(o) || m !== a || n !== c) {
                var g = _.map(b.projects, "pid");
                wt.data.calendar.get_list(g, 1, a, c, function (a) {
                    o = a.data, _.isFunction(d) && d(o)
                }, e, f)
            } else _.isFunction(d) && d(o), _.isFunction(f) && f()
        };
        b.js_new_event_success = function (c) {
            c.forEach(function (c) {
                if (c.end.date >= m && c.start.date <= n) {
                    var d = _.find(b.projects, {pid: c.pid});
                    if (d) {
                        var e = wt.bus.event.event_to_calEvent(c, d.bg);
                        c.attendees && c.attendees.indexOf(a.global.me.uid) >= 0 ? e.extend.i_attended = 1 : e.extend.i_attended = 0, d.is_calendar || (d.is_calendar = 1, _.defaults(d, {is_checked: !0}), b.calendar_projects.push(d), b.calendar_projects = _.sortBy(b.calendar_projects, function (a) {
                            return a.pos
                        })), o && (o.push(e), g.removeEvents(), g.refetchEvents())
                    } else o = null, g.removeEvents(), g.refetchEvents()
                }
            })
        }, b.onEventClick = function (a, b, c) {
            b.preventDefault(), b.stopPropagation(), a.extend && a.extend.xtype === kzi.constant.xtype.event ? f.openEvent(a.extend.pid, a.id) : f.openTask(a.extend.pid, a.id)
        }, b.onDayClick = function (d, e, f) {
            if (a.global.loading_done) {
                var g = kzi.helper.mouse_position(e);
                $(e.currentTarget).attr("data-placement", "right"), $(e.currentTarget).attr("data-align", "top"), $(e.currentTarget).addClass("js-popbox"), $(e.currentTarget).attr("data-auto-adapt", "true"), c.popbox({
                    target: e,
                    templateUrl: "/ycjs/directive/event/pop_add_event.html",
                    controller: "newEventCtrl",
                    top: g.y,
                    left: g.x,
                    resolve: {
                        pop_data: function () {
                            return {
                                save_success: function (a) {
                                    b.js_new_event_success(a)
                                }, start_date: d, is_team_calendar: !0, team_id: l.team_id
                            }
                        }
                    }
                }).open()
            }
        }, l.calendarEventSources = [{
            events: function (a, b, c, d) {
                function f(a) {
                    var b, c = a.data.events, d = a.data.tasks;
                    switch (c = _.filter(c, function (a) {
                        return a.extend.recurrence_id && (a.editable = !1), a.start.length < 25 && (a.start = moment.unix(a.start).format(), a.end = moment.unix(a.end).format()), 0 == g.team_calendar_filter_member_uids.length || 0 != _.intersection(a.attendees, g.team_calendar_filter_member_uids).length
                    }), d = _.filter(d, function (a) {
                        var b = _.find(e.projects, {pid: a.extend.pid});
                        return b && (a.borderColor = b.bg), 1 === a.extend.completed ? a.className = "cal_task cal_task_completed slide-trigger" : a.className = "cal_task cal_task_uncompleted slide-trigger", a.start.length < 25 && (a.start = moment.unix(a.start).startOf("day").format()), "agendaWeek" === g.myCalendar.fullCalendar("getView").name && (a.editable = !1, "23:59" !== moment(a.extend.expire_date).format("HH:mm") ? (a.allDay = !1, a.start = moment(a.extend.expire_date).format(), a.end = moment(a.extend.expire_date).add(40, "minutes").format()) : a.allDay = !0), 0 == g.team_calendar_filter_member_uids.length || 0 != _.intersection(a.members, g.team_calendar_filter_member_uids).length
                    }), g.team_calendar_filter_type) {
                        case 0:
                            b = l.cache_calendar = c.concat(d);
                            break;
                        case 1:
                            b = l.cache_calendar = c;
                            break;
                        case 2:
                            b = l.cache_calendar = d
                    }
                    return b
                }

                var h = moment(a.format()).unix() + "000", i = moment(b.format()).unix() + "000";
                null == l.cache_calendar ? wt.data.calendar.get_teams_events_and_tasks(l.team_id, 0, g.team_calendar_filter_pids, h, i, function (a) {
                    f(a), d(l.cache_calendar), m = h, n = i
                }, null, null) : (d(l.cache_calendar), wt.data.calendar.get_teams_events_and_tasks(l.team_id, 0, g.team_calendar_filter_pids, h, i, function (a) {
                    f(a), g.removeEvents(), g.myCalendar.fullCalendar("addEventSource", l.cache_calendar), m = h, n = i
                }, null, null))
            }
        }], l.calendarConfig = {
            header: !1,
            height: kzi.util.winHeight() - l.header_height,
            editable: !0,
            droppable: !0,
            nextDayThreshold: "00:00:00",
            firstDay: 0,
            weekMode: "liquid",
            axisFormat: "HH:mm",
            timeFormat: "",
            defaultView: l.calendar_view,
            dayClick: b.onDayClick,
            loading: function (b) {
                g.myCalendar = d.calendars.myCalendar, i(), b ? a.global.loading_done = !1 : a.global.loading_done = !0, j()
            },
            eventClick: function (a, c, d) {
                b.onEventClick(a, c, d)
            },
            eventDrop: function (a, b, c, d, f, g) {
                if (0 !== b) {
                    var h = a.extend.pid;
                    if (a.extend.xtype === kzi.constant.xtype.task) {
                        var i = a.id, j = a.extend.expire_date, k = moment(j).add(b, "days").endOf("day").valueOf();
                        wt.data.task.set_expire(h, i, k, function () {
                            a.extend.expire_date = k, a.extend.badges.expire_date = k, e.cache.task.set_expire(i, k)
                        })
                    } else if (a.extend.xtype === kzi.constant.xtype.event) {
                        var l = moment(a.start), m = moment(a.end || a.start);
                        e.cache.event.update_date(h, a.id, l.format("YYYY-MM-DD"), l.format("HH:mm"), m.format("YYYY-MM-DD"), m.format("HH:mm"), function () {
                            a.extend.end = m.valueOf()
                        })
                    }
                }
            },
            eventResize: function (a, b, c) {
                if ("month" === l.calendar_view) {
                    var d = moment(a.start._i).format("HH"), f = moment(a.start._i).format("mm");
                    a.extend.end = a.end.valueOf();
                    var g = moment(a.end._i).format("HH"), h = moment(a.end._i).format("mm");
                    e.cache.event.update_date(a.extend.pid, a.id, a.start.format("YYYY-MM-DD"), d + ":" + f, a.end.format("YYYY-MM-DD"), g + ":" + h, function () {
                        angular.noop()
                    })
                }
                if ("agendaWeek" === l.calendar_view) {
                    var d = a.start.format("HH"), f = a.start.format("mm");
                    a.extend.end = a.end.valueOf();
                    var g = a.end.format("HH"), h = a.end.format("mm");
                    e.cache.event.update_date(a.extend.pid, a.id, a.start.format("YYYY-MM-DD"), d + ":" + f, a.end.format("YYYY-MM-DD"), g + ":" + h, function () {
                        angular.noop()
                    })
                }
            },
            windowResize: function () {
                $(this).fullCalendar("option", "height", kzi.util.winHeight() - l.header_height), j()
            },
            eventRender: function (a, b) {
                b.attr("title", b.find(".fc-title").text())
            },
            views: {agendaWeek: {axisFormat: "Ah"}}
        }, b.changeView = function (a) {
            g.myCalendar.fullCalendar("changeView", a), l.calendar_view = a, kzi.localData.set("calendar_view", a), i(), g.removeEvents(), g.refetchEvents()
        }, b.prev = function () {
            g.myCalendar.fullCalendar("prev"), i()
        }, b.next = function () {
            g.myCalendar.fullCalendar("next"), i()
        }, b.today = function () {
            g.myCalendar.fullCalendar("today"), i()
        }, b.$on(kzi.constant.event_names.on_task_update, function (a, b) {
            var c = _.find(p, {id: b.tid});
            c && (c.title = b.name, c.start = b.expire_date.toString().substring(0, 10)), g.removeEvents(), g.refetchEvents()
        }), b.$on(kzi.constant.event_names.on_task_trash, function (a, b) {
            var c = _.find(p, {id: b.tid});
            c && (p = _.reject(p, function (a) {
                return a.id === b.tid
            })), g.removeEvents(), g.refetchEvents()
        }), b.$on(kzi.constant.event_names.on_task_complete, function (a, b) {
            var c = _.find(p, {id: b.tid});
            c && (b.completed ? (c.className = "cal_task cal_task_completed slide-trigger", c.extend.completed = 1) : (c.className = "cal_task cal_task_uncompleted slide-trigger", c.extend.completed = 0)), g.removeEvents(), g.refetchEvents()
        }), b.$on(kzi.constant.event_names.on_event_update, function (b, c, d, e) {
            if (o) {
                var f = _.find(o, {id: c.event_id});
                if (d === kzi.constant.event_update_type.one && f && (f.title = c.name, f.start = moment(c.start.date).valueOf().toString().substring(0, 10), f.end = moment(c.end.date).valueOf().toString().substring(0, 10), _.find(c.attendees, {uid: a.global.me.uid}) ? f.extend.i_attended = 1 : f.extend.i_attended = 0, g.removeEvents(), g.refetchEvents()), d === kzi.constant.event_update_type.follow_up) {
                    var h = new Date(c.start.date) - new Date(f.start), i = new Date(c.end.date) - new Date(c.start.date), j = new Date(f.start);
                    h > 0 ? (o.forEach(function (a) {
                        var b = new Date(a.start);
                        a.extend.recurrence_id === c.recurrence_id && b >= j && (a.start = moment(a.start).add(h, "milliseconds"), a.end = moment(a.start).add(i, "milliseconds"), a.start = a.start.valueOf().toString().substring(0, 10), a.end = a.end.valueOf().toString().substring(0, 10), e && (a.extend.recurrence_id = e))
                    }), g.removeEvents(), g.refetchEvents()) : (o = [], q(m, n, function () {
                        g.removeEvents(), g.refetchEvents()
                    }, null, function () {
                    }))
                }
            }
        }), b.$on(kzi.constant.event_names.on_event_trash, function (a, c, d) {
            if (o) {
                var e = parseInt(d);
                switch (e) {
                    case kzi.constant.event_trash_type.one:
                        o = _.reject(o, function (a) {
                            return a.id === c.event_id
                        });
                        break;
                    case kzi.constant.event_trash_type.follow_up:
                        o = _.reject(o, function (a) {
                            var b = new Date(a.start).getTime();
                            return b >= c.start.date && a.extend.recurrence_id === c.recurrence_id
                        });
                        break;
                    case kzi.constant.event_trash_type.all:
                        o = _.reject(o, function (a) {
                            return a.extend.recurrence_id === c.recurrence_id
                        })
                }
            }
            b.calendar_projects = _.filter(b.projects, function (a) {
                return 1 === a.is_calendar
            }), g.removeEvents(), g.refetchEvents()
        })
    }

    function c(a, b, c) {
        function d() {
            wt.data.team.get_team_projects(b.team.team_id, function (a) {
                c.team_all_projects = a.data, _.each(c.team_all_projects, function (a) {
                    a.is_checked = !0
                })
            }), wt.data.team.get_team_members(b.team.team_id, function (b) {
                c.team_all_member = _.filter(b.data.members, function (b) {
                    return b.role == kzi.constant.role.admin && b.uid == a.global.me.uid && (e.user_is_team_admin = !0), (b.role == kzi.constant.role.admin || b.role == kzi.constant.role.member) && b.status == kzi.constant.user_status.ok
                })
            })
        }

        var e = b.vm = {teamCalendarFilterData: c, is_filter_action: !1};
        d(), e.js_close_filter = function () {
            c.team_calendar_filter_status = !1
        }, e.js_clear_filter = function () {
            c.clear_filter()
        }, e.js_filter_type = function (a) {
            switch (a) {
                case"task":
                    c.filter_only_task = !0, c.filter_only_schedule = !1, c.team_calendar_filter_type = 2;
                    break;
                case"schedule":
                    c.filter_only_schedule = !0, c.filter_only_task = !1, c.team_calendar_filter_type = 1;
                    break;
                default:
                    c.filter_only_schedule = !1, c.filter_only_task = !1, c.team_calendar_filter_type = 0
            }
            c.removeEvents(), c.refetchEvents()
        }, e.js_calendar_filter_project_toggle = function (a) {
            a.is_checked === !0 ? a.is_checked = !1 : a.is_checked = !0, c.team_calendar_filter_pids = _.map(_.filter(c.team_all_projects, {is_checked: !0}), "pid").toString() || "", c.removeEvents(), c.refetchEvents()
        }, e.js_calendar_filter_member_toggle = function (a) {
            void 0 == a.is_checked ? a.is_checked = !1 : null, 0 == a.is_checked ? a.is_checked = !0 : a.is_checked = !1, c.team_calendar_filter_member_uids = _.map(_.filter(c.team_all_member, {is_checked: !0}), "uid"), c.removeEvents(), c.refetchEvents()
        }, b.$on("$destroy", function () {
            e.js_close_filter()
        })
    }

    angular.module("wt.team.ctrl").service("teamCalendarFilterData", a).controller("teamCalendarCtrl", b).controller("teamCalendarSidebarCtrl", c), b.$inject = ["$rootScope", "$scope", "$popbox", "uiCalendarConfig", "globalDataContext", "locator", "teamCalendarFilterData", "$translate"], c.$inject = ["$rootScope", "$scope", "teamCalendarFilterData"]
}(), function () {
    "use strict";
    function a(a, b, c, d, e, f, g) {
        var h = b.vm = {
            part_loading_done: !1,
            overview: {completed: null, uncompleted: null, expired: null, today_pending: null, total: null},
            stats_list: []
        };
        if (b.team) {
            a.global.title = [g.instant("team_graphs.title_name"), " | ", b.team.name].join(""), h.part_loading_done = !1;
            var i = function (a) {
                var b = [];
                return _.each(a, function (a) {
                    _.each(a.stats, function (c) {
                        c.pid = a.pid, c.name = a.name, c.bg = a.bg, c.pic = a.pic, b.push(c)
                    })
                }), b
            }, j = function (a, b, c, d) {
                if (c || d) {
                    var e = wt.bus.team.calculate_stats_pos(c, d), f = _.find(h.stats_list, {pid: a, type: b});
                    f.pos = e, wt.data.team.update_team_stats_pos(a, b, e, function (a) {
                        200 === a.code && (h.stats_list = _.sortBy(h.stats_list, function (a) {
                            return a.pos
                        }))
                    })
                }
            };
            wt.data.team.get_team_stats(b.team.team_id, function (a) {
                200 === a.code && a.data.length > 0 && (h.stats_list = i(a.data), h.stats_list = _.sortBy(h.stats_list, "pos"))
            }, null, function () {
                wt.data.team.get_tasks_overview(b.team.team_id, function (a) {
                    200 === a.code && (h.overview = a.data)
                }), a.global.loading_done = !0, h.part_loading_done = !0
            }), h.js_pop_add_stats = function (a) {
                f.popbox({
                    target: a,
                    templateUrl: "/tpl/team/pop_add_team_stats.html",
                    controller: ["$scope", "popbox", "pop_data", "globalDataContext", "$rootScope", function (a, b, c, d, e) {
                        function f() {
                            _.each(h.stats_type, function (a) {
                                a.disable = !1
                            })
                        }

                        a.popbox = b;
                        var h = a.vm = {
                            projects: _.find(d.teams, {team_id: c.team_id}).projects,
                            project_not_select: !1,
                            project_select: void 0,
                            stats_type_select: [],
                            stats_type: kzi.constant.stats_type_list,
                            pop_add_loading: !1
                        };
                        _.each(h.stats_type, function (a) {
                            a.desc = g.instant(a.desc)
                        }), f(), h.js_close = function () {
                            b.close()
                        }, h.js_select_click = function () {
                            h.project_not_select = !1
                        }, h.js_select_project = function () {
                            var a = _.map(_.filter(c.stats_list, {pid: h.project_select}), "type");
                            _.each(h.stats_type, function (b) {
                                _.indexOf(a, b.value) >= 0 ? (b.disable = !0, h.stats_type_select = _.reject(h.stats_type_select, function (a) {
                                    return a === b.value
                                })) : b.disable = !1
                            })
                        }, h.js_select_stats = function (a, b) {
                            $(a.target).parents("li").hasClass("disable") || (_.indexOf(h.stats_type_select, b) < 0 ? h.stats_type_select.push(b) : h.stats_type_select = _.reject(h.stats_type_select, function (a) {
                                return a === b
                            }))
                        }, h.js_add_stats = function () {
                            return h.project_select ? _.filter(h.stats_type, {disable: !0}).length === kzi.constant.stats_type_list.length ? void kzi.msg.warn(g.instant("team_graphs.stats_overall_exist")) : void 0 === h.stats_type_select ? void kzi.msg.warn(g.instant("team_graphs.choose_stats_type")) : (h.pop_add_loading = !0, void wt.data.team.add_team_stats(h.project_select, h.stats_type_select, function (a) {
                                200 === a.code && (kzi.msg.success(g.instant("team_graphs.add_stats_success")), e.$broadcast(kzi.constant.event_names.team_add_stats, a.data), h.js_close())
                            }, null, function () {
                                h.pop_add_loading = !1
                            })) : (h.project_not_select = !0, void kzi.msg.warn(g.instant("team_graphs.choose_stats_project")))
                        }
                    }],
                    resolve: {
                        pop_data: function () {
                            return {team_id: b.team.team_id, stats_list: b.vm.stats_list}
                        }
                    }
                }).open()
            }, h.stats_sort_options = {
                containment: ".team-dashboard",
                placeholder: "portlet-placeholder",
                helper: "clone",
                revert: 10,
                dropOnEmpty: !0,
                tolerance: "pointer",
                distance: "4",
                delay: "75",
                accept: ".portlet-item",
                cancel: ".ui-sortable-cancel",
                start: function (a, b) {
                    b.helper.addClass("portlet-picked-up"), $(".portlet-placeholder").css({height: b.item.css("height")})
                },
                stop: function (a, b) {
                    var c = b.item.scope().stats, d = void 0;
                    b.item.prev().scope() && b.item.prev().scope().stats && (d = b.item.prev().scope().stats.pos);
                    var e = void 0;
                    b.item.next().scope() && b.item.next().scope().stats && (e = b.item.next().scope().stats.pos), j(c.pid, c.type, d, e)
                }
            }, b.$on(kzi.constant.event_names.team_add_stats, function (a, b) {
                h.stats_list = h.stats_list.concat(i([b])), h.stats_list = _.sortBy(h.stats_list, "pos")
            }), b.$on(kzi.constant.event_names.team_remove_stats, function (a, b) {
                h.stats_list = _.reject(h.stats_list, {pid: b.pid, type: b.type})
            })
        }
    }

    angular.module("wt.team.ctrl").controller("team_graphs_ctrl", a), a.$inject = ["$rootScope", "$scope", "$state", "projectService", "globalDataContext", "$popbox", "$translate"]
}(), function () {
    "use strict";
    function a(a, b, c) {
        "team.admin" === b.current.name && c(function () {
            a.$parent.vm.user_is_team_owner ? b.go(".basic", null, {location: "replace"}) : b.go(".members", null, {location: "replace"})
        })
    }

    function b(a, b, c, d, e, f, g, h) {
        if (!b.team)return c.go("not_found");
        var i = b.team.team_id;
        a.global.title = [h.instant("team_admin.title_name"), " | ", b.team.name].join(""), a.global.loading_done = !0;
        var j = b.vm = {
            part_loading_done: !0,
            labels: [],
            default_labels_clone: [],
            defaultProjects: [],
            projects: [],
            defaultTplId: {},
            defaultTpl: {},
            templates: [],
            permission_owner: b.team.permission === kzi.constant.team_permission.owner
        }, k = b.$parent.vm;
        k.display_team_setting = !0, b.is_set_team_tag = !1, b.is_set_team_project = !1, b.is_set_team_template = !1, b.curent_edit_template = {}, j.labels = b.team.default_labels, j.default_labels_clone = _.cloneDeep(b.team.default_labels), b.js_toggle_team_tag = function (a) {
            b.is_set_team_tag = !b.is_set_team_tag, j.labels = [];
            var c = b.team.default_labels;
            $(c).each(function (a, b) {
                "string" == typeof b.desc && j.labels.push(b)
            }), "cancel" === a ? (b.team.default_labels = j.default_labels_clone, j.labels = j.default_labels_clone) : "save" === a && wt.data.team.set_labels(b.team.team_id, b.team.default_labels, function () {
                j.default_labels_clone = b.team.default_labels
            }, null, null)
        };
        var l = b.team.default_pids, m = function () {
            wt.data.team.projects_get(i, function (a) {
                200 === a.code && a.data.length > 0 && (j.projects = a.data, $(j.projects).each(function (a, b) {
                    var c = b.pid;
                    l.indexOf(c) !== -1 && (b.checked = !0, j.defaultProjects.push(b))
                }))
            }, null, null)
        };
        m(), b.save_project = function () {
            var a = [], c = [];
            $(j.projects).each(function (b, d) {
                var e = d.pid;
                d.checked && (a.push(e), c.push(d))
            }), wt.data.team.set_default_project(i, a, function (a) {
                200 === a.code && (j.defaultProjects = c, b.is_set_team_project = !b.is_set_team_project)
            }, null, null)
        }, b.js_toggle_team_project = function () {
            b.is_set_team_project = !b.is_set_team_project
        }, b.js_toggle_team_project_create = function () {
            g.showAdd(b.team.team_id, function (a) {
                j.projects.push(a)
            })
        }, j.defaultTplId = b.team.template_id, b.setDefaultTemplat = function () {
            $(j.templates).each(function (a, b) {
                b.template_id === j.defaultTplId && (j.defaultTpl = b)
            })
        };
        var n = function () {
            wt.data.team.get_project_templates(i, function (a) {
                200 === a.code && (j.templates = a.data, j.defaultTplId && b.setDefaultTemplat())
            }, null, null)
        };
        n(), b.save_templates = function () {
            wt.data.team.set_default_template(i, j.defaultTplId, function (a) {
                200 === a.code && (b.setDefaultTemplat(), b.is_set_team_template = !b.is_set_team_template)
            }, null, null)
        }, b.js_toggle_team_template = function () {
            b.is_set_team_template = !b.is_set_team_template
        }, b.js_edit_team_template = function (a, c) {
            $(j.templates).each(function (c, d) {
                d.template_id === a && (b.curent_edit_template = d, b.curent_edit_template_index = c)
            }), e.popbox({
                target: c,
                templateUrl: "/tpl/team/team_admin_custom_edite_template.html",
                controller: ["$scope", "popbox", "pop_data", function (a, b, c) {
                    a.popbox = b;
                    var d = a.pm = {tpl: c._tpl, tplIndex: c._tplIndex, vm: c._vm};
                    a.js_do_save_template = function () {
                        var a = angular.copy(d.tpl), e = [];
                        $(a.entries).each(function (a, b) {
                            b.name && e.push(b.name)
                        }), a.entries = e, a.is_default = !1, wt.data.team.update_project_template(c.teamId, a.template_id, a, function (a) {
                            200 === a.code && b.close()
                        }, null, null)
                    }, a.js_do_del_template = function () {
                        wt.data.team.delete_project_template(c.teamId, d.tpl.template_id, function (a) {
                            200 === a.code && (d.vm.templates.splice(d.tplIndex, 1), b.close(), d.tpl.template_id == j.defaultTplId && (j.defaultTplId = j.templates[0].template_id))
                        }, null, null)
                    }, a.js_add_more_template = function () {
                        d.tpl.entries.push({name: ""})
                    }, a.js_remove_a_template = function (a) {
                        1 !== d.tpl.entries.length && d.tpl.entries.splice(a, 1)
                    }, d.js_close = function () {
                        b.close()
                    }
                }],
                resolve: {
                    pop_data: function () {
                        return {
                            $scope: b,
                            teamId: i,
                            _vm: j,
                            _tpl: b.curent_edit_template,
                            _tplIndex: b.curent_edit_template_index
                        }
                    }
                }
            }).open()
        }, b.js_toggle_team_template_create = function (a) {
            e.popbox({
                target: a,
                templateUrl: "/tpl/team/team_admin_custom_add_template.html",
                controller: ["$scope", "popbox", "pop_data", function (a, b, c) {
                    a.popbox = b;
                    var d = a.pm = {is_loading: !1};
                    a.newTpl = {name: "", is_default: !1, entries: [{name: ""}]}, a.js_do_new_template = function () {
                        if (!d.is_loading) {
                            d.is_loading = !0;
                            var e = a.newTpl, f = e.entries, g = [];
                            $(f).each(function (a, b) {
                                b.name && g.push(b.name)
                            }), e.entries = g, wt.data.team.add_project_template(c.teamId, e, function (c) {
                                200 === c.code && (a.newTpl.is_default && (j.defaultTplId = c.data.template_id, j.defaultTpl = c.data), j.templates.push(c.data), b.close())
                            }, null, function () {
                                d.is_loading = !1
                            })
                        }
                    }, a.js_add_more_template = function () {
                        a.newTpl.entries.push({name: ""})
                    }, a.js_remove_a_template = function (b) {
                        1 !== a.newTpl.entries.length && a.newTpl.entries.splice(b, 1)
                    }, d.js_close = function () {
                        b.close()
                    }
                }],
                resolve: {
                    pop_data: function () {
                        return {$scope: b, teamId: i}
                    }
                }
            }).open()
        }
    }

    function c(a, b, c, d, e, f, g, h) {
        function i() {
            k.display_team_setting = !0, b.part_loading_done = !0
        }

        var j = b.vm = {};
        if (!b.team)return c.go("not_found");
        a.global.loading_done = !0, b.industries = kzi.constant.team_industries, h.use(a.global.me.locale).then(function () {
            _.each(b.industries, function (a, c) {
                b.industries[c] = h.instant(a)
            })
        }), delete b.industries[0], b.industry_keys = _.map(_.keys(b.industries), function (a) {
            return parseInt(a)
        }), b.industry = null, b.editing_team_info = !1, b.editing_team_visibility = !1, b.saving_team_info = !1, b.saving_visibility = !1, b.dismiss_step = 1, b.transfer_step = 1, b.visibility_step = 1, b.visibilities = [{
            value: kzi.constant.team_visibility.public,
            description: h.instant("team_admin.visibilities_public")
        }, {
            value: kzi.constant.team_visibility.private,
            description: h.instant("team_admin.visibilities_private")
        }], a.global.loading_done = !0, a.global.title = [h.instant("team_admin.title_name"), " | ", b.team.name].join("");
        var j = b.vm = {
            team_id: b.team.team_id,
            visibility: b.team.visibility,
            name: b.team.name,
            phone: b.team.phone,
            desc: b.team.desc,
            industry: b.team.industry,
            team_logo: {src: "", file: null, selection: [100, 100, 200, 200, 100, 100], thumbnail: !0, uploading: !1}
        }, k = b.$parent.vm;
        i(), j.js_toggle_edit_team_info = function () {
            b.editing_team_info = !b.editing_team_info
        }, j.js_toggle_edit_visibility = function () {
            b.editing_visibility = !b.editing_visibility
        }, b.js_set_team = function (a, c, d, e, f) {
            return b.team.name === j.name && b.team.phone === j.phone && b.team.desc === j.desc && b.team.industry === j.industry ? (b.saving_team_info = !1, void(b.editing_team_info = !1)) : (b.saving_team_info = !0, void wt.data.team.update(j.team_id, j.name, j.phone, j.desc || "", "", j.industry, function (a) {
                b.team.name = j.name, b.team.phone = j.phone, b.team.desc = j.desc, b.team.industry = j.industry, kzi.msg.success(h.instant("team_admin.update_info_success"))
            }, function () {
                kzi.msg.error(h.instant("team_admin.update_info_fail"))
            }, function () {
                b.saving_team_info = !1, b.editing_team_info = !1
            }))
        }, b.js_transfer_pop = function (c) {
            e.popbox({
                target: c,
                placement: "bottom",
                templateUrl: "/tpl/team/pop_transfer_team.html",
                controller: ["$scope", "popbox", "pop_data", function (b, c, d) {
                    b.popbox = c, b.step = 0, b.js_step = function (a) {
                        b.step = a
                    }, b.team_members = null, wt.data.team.get_team_members(d.scope.team.team_id, function (c) {
                        b.team_members = _.reject(c.data.members, function (b) {
                            return b.uid === a.global.me.uid || b.status === kzi.constant.status.pending || b.role == kzi.constant.role.guest
                        }), b.members_loading_done = !0
                    }), b.js_to_transfer_confirm = function (a) {
                        b.selected_member = a, d.scope.selected_member = a, d.scope.js_transfer_step(2), c.close()
                    }, b.js_close = function () {
                        c.close()
                    }
                }],
                resolve: {
                    pop_data: function () {
                        return {scope: b}
                    }
                }
            }).open()
        }, b.js_dismiss_step = function (a) {
            b.dismiss_step = a
        }, b.js_transfer_step = function (a) {
            b.transfer_step = a
        }, b.js_dismiss = function (a, d) {
            b.is_dismissing !== !0 && d === a && (b.is_dismissing = !0, wt.data.team.dismiss(j.team_id, function () {
                f.cache.team.dismiss(j.team_id), b.team = null, c.go("dashboard.default")
            }, null, function () {
                b.is_dismissing = !1, b.dismiss_step = 1
            }))
        }, b.js_transfer = function () {
            b.is_transferring = !0, wt.data.team.transfer(j.team_id, b.selected_member.uid, function () {
                b.team.is_owner = 0, b.team.owner = b.selected_member, f.cache.team.sync(j.team_id, b.team), c.go("team.projects")
            }, null, function () {
                b.is_transferring = !1, b.transfer_step = 1
            })
        }, j.js_visibility_step = function (a) {
            return b.team.visibility == j.visibility ? (b.saving_visibility = !1, void(b.editing_visibility = !1)) : void(b.visibility_step = a)
        }, b.js_update_visibility = function () {
            function a() {
                b.team.visibility = j.visibility, f.cache.team.sync(j.team_id, b.team), b.visibility_step = 1
            }

            function d() {
                kzi.msg.error("setting team visibility error"), c.go("team.projects")
            }

            function e() {
                b.saving_visibility = !1, b.editing_visibility = !1
            }

            return b.saving_visibility = !0, b.team.visibility == j.visibility ? e() : void wt.data.team.set_visibility(j.team_id, j.visibility, a, d, e)
        }, j.js_visibility_cancel = function () {
            b.visibility = b.team.visibility, b.editing_visibility = !1, b.saving_visibility = !1
        }, j.js_file_select = function (a) {
            if (0 != a.length) {
                var b = a[0], c = new FileReader;
                c.onload = function (a) {
                    d(function () {
                        j.team_logo.file = b, j.team_logo.src = a.target.result
                    })
                }, c.readAsDataURL(b)
            }
        }, j.js_save_logo = function () {
            var a = ($(".ng-jcrop-image")[0], j.team_logo.selection[4] + "x" + j.team_logo.selection[5] + "+" + j.team_logo.selection[0] + "+" + j.team_logo.selection[1]);
            j.team_logo.uploading = !0, g.uploadTeamLogo({
                original: j.team_logo.file,
                data: {target: "team", type: "team_logo", cropArgs: a}
            }, function (a, c) {
                !a && c ? wt.data.team.set_logo(j.team_id, c.url, function () {
                    b.team.pic = c.url, j.cancel_upload_logo(), j.team_logo.uploading = !1, f.cache.team.set_logo(j.team_id, c.url)
                }) : (j.team_logo.uploading = !1, kzi.msg.error(h.instant("team_admin.upload_logo_fail")))
            })
        }, j.cancel_upload_logo = function () {
            j.team_logo.src = "", j.team_logo.file = null, j.team_logo.selection = [100, 100, 200, 200, 100, 100]
        }
    }

    function d(a, b, c, d, e, f, g, h, i, j) {
        var k = b.$parent.vm;
        k.display_team_setting = !0, b.active_team_admin_nav_tab = "admin", b.current_menu = "members";
        var l = c.team_id;
        if (b.team_id = l, a.global.loading_done = !0, b.team.team_id && !b.team.faked) {
            a.global.title = [j.instant("team_admin.title_name"), " | ", b.team.name].join("");
            var m = 100 * b.team.member_count / (b.team.member_count + b.team.invite_count), n = 100 * b.team.invite_count / (b.team.member_count + b.team.invite_count);
            b.stacked = [{value: m, type: "success"}, {
                value: n,
                type: "warning"
            }], b.current_team = b.team, wt.data.team.get_team_members(l, function (a) {
                b.account_members = a.data.members
            }, null, function () {
                b.part_loading_done = !0
            })
        } else d.path("/teams/" + l);
        var o = function (a) {
            if (a.role !== kzi.constant.role.deleted) {
                var c = _.find(b.account_members, {uid: a.uid});
                c.role = a.role
            } else b.account_members = _.reject(b.account_members, function (b) {
                return b.uid === a.uid
            })
        };
        i.addListener(kzi.constant.event_names.team_member_role_change, o, b)
    }

    function e(a, b, c, d, e, f) {
        var g = b.vm = {};
        a.global.loading_done = !0;
        var h = b.$parent.vm;
        h.display_team_setting = !0, b.active_team_admin_nav_tab = "admin", b.current_menu = "projects";
        var i = c.team_id;
        if (b.team_id = i, b.team.team_id && !b.team.faked) {
            a.global.title = [f.instant("team_admin.title_name"), " | ", b.team.name].join("");
            var j = 100 * b.team.active_count / b.team.project_count, k = 100 * b.team.archived_count / b.team.project_count;
            b.stacked = [{value: j, type: "success"}, {
                value: k,
                type: "info"
            }], b.current_team = b.team, wt.data.team.get_account_projects(i, function (a) {
                _.each(a.data, function (a) {
                    var c = _.map(a.admins, "uid"), d = _.indexOf(c, b.team.owner.uid);
                    a.is_teamOwnerHandler = d >= 0 || 0 === c.length
                }), b.account_projects = a.data
            }, null, function () {
                b.part_loading_done = !0
            })
        } else d.path("/teams/" + i);
        g.js_pop_project_setting = function (a, b) {
            e.popbox({
                target: a,
                templateUrl: "/tpl/team/pop_team_project_setting.html",
                controller: ["$scope", "popbox", function (a, c) {
                    var d = a.vm = {
                        step: 0,
                        project: b,
                        loading_project_members_done: !1,
                        project_members: [],
                        loading_team_members_done: !1,
                        unassigned_team_visitors: [],
                        unassigned_team_members: []
                    };
                    d.js_close = function () {
                        c.close()
                    }, d.js_step = function (a) {
                        if (1 === a) {
                            d.loading_project_members_done = !1;
                            var c = function (a) {
                                var c = _.map(b.admins, "uid");
                                200 === a.code && (d.project_members = [], _.each(c, function (b) {
                                    a.data = _.reject(a.data, {uid: b})
                                }), a.data = _.reject(a.data, {status: kzi.constant.status.pending}), d.project_members = a.data, d.loading_project_members_done = !0)
                            };
                            0 == b.admins.length ? wt.data.team.get_account_project_members(b.team_id, b.pid, c) : wt.data.project.get_members(b.pid, c)
                        }
                        if (2 === a) {
                            d.loading_team_members_done = !1;
                            var c = function (a) {
                                if (200 === a.code) {
                                    d.unassigned_team_visitors = [], d.unassigned_team_members = [];
                                    var c = _.map(a.data, "uid");
                                    wt.data.team.get_team_members(b.team_id, function (a) {
                                        a.data.members = _.reject(a.data.members, {status: kzi.constant.status.pending}), _.each(a.data.members, function (a) {
                                            c.indexOf(a.uid) < 0 && (a.role === kzi.constant.role.guest ? d.unassigned_team_visitors.push(a) : d.unassigned_team_members.push(a))
                                        }), d.loading_team_members_done = !0
                                    })
                                }
                            };
                            0 == b.admins.length ? wt.data.team.get_account_project_members(b.team_id, b.pid, c) : wt.data.project.get_members(b.pid, c)
                        }
                        d.step = a
                    }, d.js_toggle_project_member = function (a) {
                        a.checked = !a.checked
                    }, d.set_project_admin = function () {
                        var a = _.map(_.filter(d.project_members, {checked: !0}), "uid");
                        a.length ? _.each(a, function (a) {
                            var c = function () {
                                var c = _.find(d.project_members, {uid: a});
                                kzi.msg.success(f.instant("team_admin.set_project_admin_success", {member_name: c.display_name})), b.admins.push(c), d.project_members = _.reject(d.project_members, {uid: a})
                            };
                            0 === b.admins.length ? wt.data.team.set_account_project_role(b.team_id, b.pid, a, kzi.constant.role.admin, c) : wt.data.project.set_member_role(b.pid, a, kzi.constant.role.admin, c)
                        }) : kzi.msg.warn(f.instant("team_admin.member_require"))
                    }, d.add_project_members = function () {
                        var a = _.map(_.filter(d.unassigned_team_members, {checked: !0}), "uid"), c = _.map(_.filter(d.unassigned_team_visitors, {checked: !0}), "uid");
                        a = a.concat(c), a.length ? _.each(a, function (a) {
                            var c = function (c) {
                                var e = _.find(d.unassigned_team_members, {uid: a});
                                e || (e = _.find(d.unassigned_team_visitors, {uid: a})), kzi.msg.success(f.instant("team_admin.add_project_member_success", {member_name: e.display_name})), b.member_count++, d.unassigned_team_members = _.reject(d.unassigned_team_members, {uid: a}), d.unassigned_team_visitors = _.reject(d.unassigned_team_visitors, {uid: a})
                            };
                            0 == b.admins.length ? wt.data.team.add_account_project_member(b.team_id, b.pid, a, kzi.constant.role.member, c) : wt.data.project.add_member(b.pid, a, kzi.constant.role.member, c)
                        }) : kzi.msg.warn(f.instant("team_admin.member_require"))
                    }
                }]
            }).open()
        }
    }

    function f(a, b, c, d) {
        a.global.loading_done = !0;
        var e = b.$parent.vm;
        if (e.display_team_setting = !0, b.part_loading_done = !1, !b.team)return c.go("not_found");
        var f = b.team.team_id, g = function (a) {
            _.isEmpty(a) || _.each(a, function (a) {
                switch (a.template) {
                    case"team_member_add":
                        a.verb_display = d.instant("team_admin.history_team_member_add", {member_name: a.member.display_name});
                        break;
                    case"team_member_remove":
                        a.verb_display = d.instant("team_admin.history_team_member_remove", {member_name: a.member.display_name});
                        break;
                    case"team_upgrade":
                        a.verb_display = d.instant("team_admin.history_team_upgrade");
                        break;
                    case"team_degrade":
                        a.verb_display = d.instant("team_admin.history_team_degrade");
                        break;
                    case"project_member_add":
                        a.verb_display = d.instant("team_admin.history_project_member_add", {
                            project_name: a.project.name,
                            member_name: a.member.display_name
                        });
                        break;
                    case"project_member_remove":
                        a.verb_display = d.instant("team_admin.history_project_member_remove", {
                            project_name: a.project.name,
                            member_name: a.member.display_name
                        });
                        break;
                    case"project_add":
                        a.verb_display = d.instant("team_admin.history_project_add", {project_name: a.project.name});
                        break;
                    case"project_delete":
                        a.verb_display = d.instant("team_admin.history_project_remove", {project_name: a.project.name})
                }
            })
        }, h = function (a) {
            b.security_histories = null, b.loading_histories_done = !1, wt.data.team.get_security_histories(f, a, function (c) {
                g(c.data.histories), b.histories = c.data.histories, 1 !== a && "1" !== a || (b.totalCount = c.data.totalCount, b.security_pagination_opts = {
                    totalCount: c.data.total_count,
                    opts: {
                        callback: function (a) {
                            h(a + 1)
                        }
                    }
                })
            }, null, function () {
                b.loading_histories_done = !0, b.part_loading_done = !0
            })
        };
        b.team.team_id ? (a.global.title = [d.instant("team_admin.title_name"), " | ", b.team.name].join(""), h(1)) : c.go("team.projects")
    }

    function g(a, b, c, d, e) {
        b.current_menu = "consultant";
        var f = c.team_id;
        b.team_id = f, a.global.loading_done = !0, b.team.team_id && !b.team.faked ? (a.global.title = [e.instant("team_admin.title_name"), " | ", b.team.name].join(""), b.part_loading_done = !0) : d.path("/teams/" + f)
    }

    angular.module("wt.team.admin.ctrl", []).controller("teamAdminHomeCtrl", a).controller("teamAdminCustomCtrl", b).controller("teamAdminBasicCtrl", c).controller("teamAdminMembersCtrl", d).controller("teamAdminProjectsCtrl", e).controller("teamAdminSecurityCtrl", f), a.$inject = ["$scope", "$state", "$timeout"], b.$inject = ["$rootScope", "$scope", "$state", "$location", "$popbox", "globalDataContext", "projectService", "$translate"], c.$inject = ["$rootScope", "$scope", "$state", "$timeout", "$popbox", "globalDataContext", "$wtUploadFile", "$translate"], d.$inject = ["$rootScope", "$scope", "$stateParams", "$location", "$http", "$popbox", "$q", "globalDataContext", "bus", "$translate"], e.$inject = ["$rootScope", "$scope", "$stateParams", "$location", "$popbox", "$translate"], f.$inject = ["$rootScope", "$scope", "$state", "$translate"], g.$inject = ["$rootScope", "$scope", "$stateParams", "$location", "$translate"]
}(), function () {
    "use strict";
    function a(a, b, c, d, e, f, g, h) {
        var i = d.pid, j = function (a) {
            if (a && "project" === c.current.name) {
                var b = ".task";
                if (!_.isEmpty(a.navs)) {
                    var d = parseInt(a.navs[0], 10), f = _.find(kzi.constant.prj_navigations, {id: d});
                    f && (b = "." + f.name)
                }
                ".page" === b && (b = ".page.list"), e(function () {
                    c.go("project" + b, null, {location: "replace"})
                })
            }
        }, k = g;
        k ? (b.project = k, wt.bus.project.get_navs(k.navs, function (a) {
            b.project.navigations = a, j(k)
        })) : e(function () {
            c.go("project_not_found", {pid: i}, {location: "replace"})
        }), k && !k._is_full && e(function () {
            f.loadFullProject(i, !0, function (a) {
                b.project && b.project.navigations ? a.navigations = b.project.navigations : wt.bus.project.get_navs(a.navs, function (b) {
                    a.navigations = b
                }), b.project = a, j(a)
            }, function () {
                return c.go("not_found")
            })
        }), b.task_filters = {texts: [], labels: [], members: [], date: "", hide_completed: !1, turn_on: !1, type: ""};
        var l = kzi.localData.get("project_sidebar_status");
        b.sidebar = {
            status: "members" === l ? "members" : "", sub_status: "", change_status: function (b, c) {
                b === this.status && c === this.sub_status ? (this.status = "", this.sub_status = "") : (this.status = b, this.sub_status = c), kzi.localData.set("project_sidebar_status", this.status), a.$broadcast(kzi.constant.event_names.show_project_sidebar, {
                    status: this.status,
                    sub_status: this.sub_status
                })
            }, close: function () {
                this.change_status("", "")
            }
        }
    }

    function b(a, b, c, d, e, f) {
        function g() {
            $(window).bind("resize.checkMoreNavMenu", j)
        }

        var h = a.pm = {
            showNavMore: !1,
            elNavbar: $(".mod-navbar"),
            elToolbar: $(".main_toolbar"),
            elMenubar: $(".mod-navbar .center-menu")
        };
        h.js_pop_project_menu = function (b) {
            c.popbox({
                target: b,
                $scope: a,
                templateUrl: "/tpl/project/pop_project_menu.html",
                controller: ["$rootScope", "$scope", "popbox", "pop_data", "projectService", function (a, b, c, e, f) {
                    b.popbox = c;
                    var g = b.vm = {
                        step: 0,
                        project: e.project,
                        prj_permission_admin: kzi.constant.prj_permission.admin,
                        prj_permission_member: kzi.constant.prj_permission.member,
                        prj_permission_guest: kzi.constant.prj_permission.guest
                    };
                    g.js_close = function () {
                        c.close()
                    }, g.js_step = function (a) {
                        g.step = a
                    }, g.js_add_project_member = function () {
                        f.showAddMember(g.project), g.js_close()
                    }, g.js_project_setting = function () {
                        f.showSetting(g.project), g.js_close()
                    }, g.js_project_labels = function () {
                        f.showLabels(g.project), g.js_close()
                    }, g.js_project_timingtasks = function () {
                        f.showTimingtasks(g.project), g.js_close()
                    }, g.js_project_copy = function () {
                        f.showCopy(g.project), g.js_close()
                    }, g.js_project_move = function () {
                        f.showMove(g.project), g.js_close()
                    }, g.js_project_export = function () {
                        f.showExport(g.project), g.js_close()
                    }, g.js_project_webhook = function () {
                        f.showWebhook(g.project), g.js_close()
                    }, g.js_project_createbymail = function () {
                        f.showCreateByMail(g.project), g.js_close()
                    }, g.js_project_quit = function () {
                        f.showQuit(g.project), g.js_close()
                    }, g.js_project_active = function () {
                        f.showActive(g.project), g.js_close()
                    }, g.js_project_archive = function () {
                        f.showArchive(g.project), g.js_close()
                    }, g.js_project_del = function () {
                        f.showDel(g.project), g.js_close()
                    }, g.js_toggle_star = function () {
                        d.cache.project.set_star(e.project.pid)
                    }, g.js_toggle_favorite = function () {
                        var a = e.project.is_favorite ? 0 : 1;
                        e.project.is_favorite = a, wt.data.project.set_favorite(e.project.pid, a, function (a) {
                            d.cache.project.set_favorite(e.project.pid, e.project.is_favorite)
                        }, function () {
                            e.project.is_favorite = a ? 0 : 1
                        })
                    }, g.change_sidebar_status = function (a, b) {
                        e.sidebar.change_status(a, b), c.close()
                    }
                }],
                resolve: {
                    pop_data: function () {
                        return {sidebar: a.sidebar, project: a.project}
                    }
                }
            }).open()
        }, h.js_pop_set_project_logo = function (d) {
            e(b.global.prj_module.setting, a.project.permission) && c.popbox({
                target: d,
                $scope: a,
                templateUrl: "/tpl/project/pop_project_logo.html",
                controller: ["$rootScope", "$scope", "popbox", "pop_data", function (a, b, c, d) {
                    var e = b.vm = {
                        prj_colors: kzi.constant.prj_colors,
                        prj_icons: kzi.constant.prj_icons,
                        project: d.project
                    };
                    b.popbox = c, e.js_close = function () {
                        c.close()
                    }, e.js_icon_select = function (a) {
                        wt.data.project.set_logo(e.project.pid, e.project.bg, a, function () {
                            e.project.pic = a
                        })
                    }, e.js_color_select = function (a) {
                        wt.data.project.set_logo(e.project.pid, a, e.project.pic, function () {
                            d.project.bg = a
                        })
                    }
                }],
                resolve: {
                    pop_data: function () {
                        return {project: a.project}
                    }
                }
            }).open()
        };
        var i = 0, j = _.debounce(function (b) {
            f(function () {
                a.project && a.project.navigations && (0 == i && h.elMenubar.find("li").each(function (a, b) {
                    i += $(b).outerWidth(!0)
                }), i > h.elMenubar.width() ? h.showNavMore = !0 : h.showNavMore = !1)
            }, 150)
        }, 50);
        g(), a.$watch("project.navigations", function (a) {
            j()
        }), a.$watch("sidebar.status", function (a) {
            j(a)
        }), a.$on("$destroy", function () {
            $(window).unbind("resize.checkMoreNavMenu")
        })
    }

    function c(a, b) {
        a.global.title = b.instant("projects.title_name_not_found")
    }

    angular.module("wt.project.ctrl", []).controller("projectHomeCtrl", a).controller("projectInfoCtrl", b).controller("projectNotfoundCtrl", c), a.$inject = ["$rootScope", "$scope", "$state", "$stateParams", "$timeout", "globalDataContext", "fastProject", "wtScrollService"], b.$inject = ["$scope", "$rootScope", "$popbox", "globalDataContext", "permissionFilter", "$timeout"], c.$inject = ["$rootScope", "$translate"]
}(), function () {
    "use strict";
    function a(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) {
        function q(a) {
            var b = null;
            return _.isEmpty(F.entries) ? null : (_.each(F.entries, function (c) {
                c.entry_id === a && (b = c)
            }), b)
        }

        function r(a) {
            if (0 === a.length)return null;
            var b = a.attr("entry-id");
            return null == b || "" === b ? null : q(b)
        }

        function s(a, b, c, d) {
            a.pos = d, b.entry_id !== c.entry_id && (a.entry_id = c.entry_id, a.entry_name = c.name, _.isEmpty(c.tasks) ? c.tasks = [a] : c.tasks.push(a), b.tasks = _.reject(b.tasks, function (b) {
                return b.tid === a.tid
            }), b.tasks = _.sortBy(b.tasks, function (a) {
                return a.pos
            })), c.tasks = _.sortBy(c.tasks, function (a) {
                return a.pos
            })
        }

        function t(a, b, c, d, e, f) {
            s(b, c, d, e), wt.data.task.change_entry(a, b.tid, c.entry_id, d.entry_id, e, function (a) {
                _.isFunction(f) && f()
            })
        }

        function u(a, b, c, d, e, f) {
            var g = e;
            _.each(b, function (a) {
                var b = _.find(c.tasks, {tid: a});
                b && (g++, s(b, c, d, g))
            }), wt.data.task.change_entry_for_batch_task(a, b, c.entry_id, d.entry_id, e, !1, function (a) {
                _.isFunction(f) && (_.each(a.data, function (a) {
                    var b = _.find(d.tasks, {tid: a.tid});
                    b && (b.pos = a.pos), d.tasks = _.sortBy(d.tasks, function (a) {
                        return a.pos
                    })
                }), f(a))
            })
        }

        function v(b, d) {
            F.team_id = o.team_id, F.permission = o.permission;
            var e = null;
            _.each(b.tasks, function (a) {
                a.is_filter = !1, a.selected = !1, G === a.tid && (e = a)
            }), _.each(b.entries, function (a) {
                var c = _.where(b.tasks, {entry_id: a.entry_id});
                a.batch_action_flag = 0, a.selected_tasks = [], a.tasks = c, d && 0 !== a.tasks.length && (a.task_loop_done = !1), a.maxheight = F.entry_maxheight
            }), F.entries = b.entries, F.tasks = b.tasks, _.each(F.entries, function (a) {
                a.tasks = _.sortBy(a.tasks, function (a) {
                    return a.pos
                }), a.countComplateTask = _.filter(a.tasks, {completed: 1}).length
            }), _.isEmpty(a.task_filters.turn_on) && ("assign_me" === a.task_filters.type ? S(c.global.me) : "my_watch" === a.task_filters.type ? T(c.global.me) : "my_create" === a.task_filters.type ? U(c.global.me) : (a.task_filters.texts.length > 0 || a.task_filters.labels.length > 0 || a.task_filters.members.length > 0 || a.task_filters.date.length > 0 || a.task_filters.hide_completed) && Q()), F.part_loading_done = !0, c.global.prj_module.crud & a.project.permission ? (y(), B(), C(), w()) : (F.project_archived = !0, F.entries_sort_options = F.tasks_sort_options = {disabled: !0}, F.member_drop_options = null, F.pop_member_options = null), ia()
        }

        function w() {
            F.pop_member_options = {
                name: n.instant("task.member_remove"),
                ongoing: n.instant("task.member_removing"),
                click: function (b, d, e, f, g) {
                    g && (e.assigned = !0, wt.bus.member.set_task_member_toggle(F.pid, g, e, function () {
                        e.setting_toggle_member = !1, c.$broadcast(kzi.constant.event_names.on_task_update, a.task), e.assigned = !1
                    }, null, f))
                }
            }
        }

        function x(a, b) {
            var c = a.pageX, d = $(".entries_panel_sortarea").parents(".wt-scroll").width(), e = $(".entries_panel_sortarea").parents(".wt-scroll").offset().left;
            $(document).bind("mousemove.wtTaskEntryMove", function (a) {
                a.pageX < c && a.pageX < e + 190 && l.scrollTo($(".entries_panel"), "-=20"), a.pageX + 200 > e + d && l.scrollTo($(".entries_panel"), "+=20")
            })
        }

        function y() {
            F.entries_sort_options = {
                appendTo: ".layout_content_main:last",
                containment: ".layout_content_main",
                placeholder: "wt-entry-placeholder",
                helper: "clone",
                revert: 15,
                dropOnEmpty: !0,
                tolerance: "pointer",
                distance: 8,
                delay: 0,
                handle: ".entry_header",
                disabled: !1,
                accept: ".entry",
                start: function (a, b) {
                    x(a, b), b.item.addClass("picked-up"), $(".wt-entry-placeholder").css({
                        height: b.item.css("height"),
                        width: b.item.outerWidth()
                    })
                },
                stop: function (a, b) {
                    b.item.removeClass("picked-up"), $(document).unbind("mousemove.wtTaskEntryMove");
                    var c = r(b.item), d = b.item.attr("entry-id"), e = r(b.item.prev()), f = r(b.item.next()), g = 0;
                    g = null == e ? f.pos / 2 : null == f ? e.pos + kzi.config.default_pos : (f.pos + e.pos) / 2, c.pos !== g && (c.pos = g, wt.data.entry.change_pos(F.pid, d, g, function (a) {
                        F.entries = j.cache.entry.move(F.pid, d, g)
                    }))
                }
            }
        }

        function z() {
            $(document).unbind("mousemove.sort_scroll"), na = null, g.cancel(ma), ma = void 0
        }

        function A() {
            $(document).bind("mousemove.sort_scroll", function (a) {
                na = a.pageY
            }), ma = g(function () {
                null !== na && $.each($(".wt-task-placeholder").parents(".wt-scroll"), function () {
                    if ("y" === $(this).data("wtScroll").dir) {
                        var a = $(this).offset().top, b = $(this).height(), c = $(this).find(".wt-task-placeholder").height();
                        if (na - a < c)return void l.scrollTo(this, "-=30");
                        if (a + b - na < c)return void l.scrollTo(this, "+=30")
                    }
                })
            }, 100)
        }

        function B() {
            F.tasks_sort_options = {
                appendTo: ".layout_content_main:last",
                helper: "clone",
                revert: 15,
                containment: ".layout_content_main",
                connectWith: ".entry-tasks",
                placeholder: "wt-task-placeholder",
                tolerance: "pointer",
                dropOnEmpty: !0,
                distance: 8,
                delay: 0,
                start: function (a, b) {
                    x(a, b), $(".wt-task-placeholder").css({height: b.item.outerHeight()}), b.item.addClass("picked-up"), ma || A(a, b)
                },
                stop: function (a, b) {
                    b.item.removeClass("picked-up"), $(document).unbind("mousemove.wtTaskEntryMove"), z()
                },
                update: function (b, c) {
                    a.$apply(function () {
                        var a = c.item.attr("task-id"), b = _.find(F.tasks, {tid: a}), d = 0, e = c.item.prev().attr("task-id"), f = c.item.next().attr("task-id");
                        if (b.update_date = Date.now(), _.isEmpty(e) && _.isEmpty(f))d = kzi.config.default_pos; else if (_.isEmpty(e)) {
                            var g = _.find(F.tasks, {tid: f});
                            d = g.pos / 2
                        } else if (_.isEmpty(f)) {
                            var h = _.find(F.tasks, {tid: e});
                            d = h.pos + kzi.config.default_pos
                        } else {
                            var g = _.find(F.tasks, {tid: f}), h = _.find(F.tasks, {tid: e});
                            d = (g.pos + h.pos) / 2
                        }
                        var i = c.item.parents(".entry").attr("entry-id"), j = _.find(F.entries, {entry_id: i}), k = _.find(F.entries, {entry_id: b.entry_id});
                        i === k.entry_id && d === b.pos || j && (i !== k.entry_id && c.item.remove(), t(F.pid, b, k, j, d))
                    })
                }
            }
        }

        function C() {
            F.member_drop_options = {
                accept: ".avatar", over: function (a, b) {
                }, out: function (a, b) {
                }, hoverClass: "task-state-member-over", drop: function (b, c) {
                    var d = b.pageX;
                    if (!(d > $(".slide-content").offset().left || d > $(".layout_right_sidebar").offset().left)) {
                        var e = $(b.target).attr("task-id");
                        a.$apply(function () {
                            _.each(F.entries, function (b) {
                                _.each(b.tasks, function (b) {
                                    if (b.tid === e) {
                                        var d = (c.helper.context.title, $(c.helper.context).attr("member-id"));
                                        if (_.isArray(b.members) && b.members.length > 0) {
                                            var f = _.find(b.members, {uid: d});
                                            if (!_.isUndefined(f))return
                                        } else b.members = [];
                                        var g = _.find(a.project.members, {uid: d});
                                        b.members.push(g), wt.data.task.assign(F.pid, b.tid, d, function (a) {
                                            b.update_date = Date.now()
                                        })
                                    }
                                })
                            })
                        })
                    }
                }
            }
        }

        function D() {
            $(".ui-sortable").sortable("option", "disabled", !1)
        }

        function E() {
            $(".ui-sortable").sortable("option", "disabled", !0)
        }

        if (p.track("project_task", "visit"), a.project) {
            var F = a.vm = {
                permissionCRUD: h(c.global.prj_module.crud, a.project.permission),
                task_menu_default_step: 0,
                currentEntry: null,
                currentTask: null,
                entryIndex: 0,
                taskIndex: 0,
                part_loaeding_done: !1,
                team_id: -1,
                pid: b.pid,
                permission: 0,
                new_task: {members: [], expire_date: 0, labels: []},
                entries: [],
                tasks: [],
                entries_sort_options: {},
                tasks_sort_options: {},
                project_archived: !1,
                entry_name: "",
                is_show_add_entry: !1,
                is_adding_entry: !1,
                entry_input_focus: !1,
                loop_entries_count: 0
            };
            F.entry_maxheight = F.permissionCRUD ? 186 : 150;
            var G = b.tid, H = !1, I = null, J = null, K = !1;
            c.global.title = [n.instant("task.title_name"), " | ", a.project.name].join("");
            var L = function (a) {
                f(function () {
                    var b = "#task_main_" + a;
                    l.scrollTo($(b).parents(".wt-scroll").eq(0), b)
                })
            }, M = function (a) {
                f(function () {
                    var b = "#entry_main_" + a;
                    l.scrollTo($(b).parents(".wt-scroll").last(), b)
                })
            }, N = function () {
                a.$$phase || a.$apply(), l.scrollTo($(".task-selected").parents(".wt-scroll").eq(0), ".task-selected")
            }, O = function () {
                f(function () {
                    l.scrollTo($(".entry-selected").last().parents(".wt-scroll"), ".entry-selected")
                })
            }, P = function (a, b) {
                var c = !0;
                if (b && b.texts.length > 0 && (c = !1, _.each(b.texts, function (b) {
                        b.length > 0 && a.name.toLowerCase().indexOf(b.trim()) > -1 && (c = !0)
                    })), c && b.labels.length > 0 && (_.isEmpty(a.labels) ? c = !1 : (c = !1, _.each(b.labels, function (b) {
                        var d = _.any(a.labels, function (a) {
                            return a.name === b
                        });
                        d && (c = !0)
                    }))), c && b.members.length > 0 && (_.isEmpty(a.members) ? c = b.members.indexOf(-1) >= 0 : (c = !1, _.each(b.members, function (b) {
                        var d = [];
                        d = b === -1 ? _.isEmpty(a.members) : _.any(a.members, function (a) {
                            return a.uid === b
                        }), d && (c = !0)
                    }))), c) {
                    var d = moment(), e = moment(a.expire_date);
                    if ("today" === b.date) {
                        var f = e.isSame(d, "day");
                        c = !!f
                    } else if ("tomorrow" === b.date) {
                        var g = e.isSame(d.add(1, "days"), "day");
                        c = !!g
                    } else if ("week" === b.date) {
                        var h = moment().endOf("week"), i = moment().startOf("week");
                        c = e >= i && e <= h
                    } else if ("nextweek" === b.date) {
                        var h = moment().endOf("week").add(7, "days"), i = moment().startOf("week").add(7, "days");
                        c = e >= i && e <= h
                    } else if ("month" === b.date) {
                        var j = moment().endOf("month"), k = moment().startOf("month");
                        c = e >= k && e <= j
                    } else if ("due" === b.date) {
                        var f = e.isSame(d, "day");
                        c = !!(!f && a.expire_date && e < d && e > 0)
                    } else"noset" === b.date && (c = !a.expire_date)
                }
                c && b.hide_completed && (c = !a.completed), c ? a.is_filter = !1 : a.is_filter = !0
            }, Q = function () {
                _.isEmpty(F.entries) || (a.task_filters.texts.length > 0 || a.task_filters.labels.length > 0 || a.task_filters.members.length > 0 || a.task_filters.date.length > 0 || a.task_filters.hide_completed ? a.task_filters.turn_on = !0 : a.task_filters.turn_on = !1, _.each(F.entries, function (b) {
                    _.isEmpty(b.tasks) || _.each(b.tasks, function (b) {
                        P(b, a.task_filters)
                    })
                }))
            };
            a.$on(kzi.constant.event_names.on_project_tasks_filter, function (a, b) {
                Q()
            }), a.$on(kzi.constant.event_names.project_clear_task_filter, function (b, c) {
                V(), a.task_filters.type = ""
            });
            var R = function (b, c) {
                if (_.isEmpty(a.task_filters.turn_on)) {
                    var d = !0;
                    if ("assign_me" === a.task_filters.type)d = _.any(b.members, function (a) {
                        return a.uid === c.uid
                    }); else if ("my_watch" === a.task_filters.type)d = _.any(b.watchers, function (a) {
                        return a.uid === c.uid
                    }); else if ("my_create" === a.task_filters.type)d = c.uid === b.uid; else if (a.task_filters.texts.length > 0 || a.task_filters.labels.length > 0 || a.task_filters.members.length > 0 || a.task_filters.date.length > 0 || a.task_filters.hide_completed)return void P(b, a.task_filters);
                    d ? b.is_filter = !1 : b.is_filter = !0
                }
            }, S = function (a) {
                _.isEmpty(F.entries) || _.each(F.entries, function (b) {
                    _.isEmpty(b.tasks) || _.each(b.tasks, function (b) {
                        var c = !0;
                        _.isEmpty(a) || (c = _.any(b.members, function (b) {
                            return b.uid == a.uid
                        })), c ? b.is_filter = !1 : b.is_filter = !0
                    })
                })
            }, T = function (a) {
                _.isEmpty(F.entries) || _.each(F.entries, function (b) {
                    _.isEmpty(b.tasks) || _.each(b.tasks, function (b) {
                        var c = !0;
                        _.isEmpty(a) || (c = _.any(b.watchers, function (b) {
                            return b.uid === a.uid
                        })), c ? b.is_filter = !1 : b.is_filter = !0
                    })
                })
            }, U = function (a) {
                _.isEmpty(F.entries) || _.each(F.entries, function (b) {
                    _.isEmpty(b.tasks) || _.each(b.tasks, function (b) {
                        var c = !0;
                        _.isEmpty(a) || (c = a.uid === b.uid), c ? b.is_filter = !1 : b.is_filter = !0
                    })
                })
            }, V = function () {
                a.task_filters.texts = [], a.task_filters.labels = [], a.task_filters.members = [], a.task_filters.hide_completed = !1, a.task_filters.date = "", Q()
            }, W = function () {
                F.part_loaeding_done = !1, F.loop_entries_count = 0, j.loadEntriesAndTasks(F.pid, function (a) {
                    v(a, !0)
                }, function (a) {
                    a.code === kzi.statuses.prj_error.not_found.code ? e.path("/project/" + F.pid + "/notfound") : a.code === kzi.statuses.error.permission_deny.code ? e.path("/project/" + F.pid + "/notfound") : wt.data.error(a)
                })
            }, X = function (b, d) {
                c.global.prj_module.crud & a.project.permission && b.tasks.length !== _.uniq(b.tasks, "pos").length ? wt.data.task.change_entry_for_batch_task(F.pid, _.map(b.tasks, "tid"), b.entry_id, b.entry_id, kzi.config.default_pos, !0, function (a) {
                    _.each(a.data, function (a) {
                        var c = _.find(b.tasks, {tid: a.tid});
                        c && (c.pos = a.pos)
                    })
                }, null, function () {
                    d()
                }) : d()
            }, Y = function () {
                F.new_task.temp_name = "", F.new_task.members = [], F.new_task.labels = [], F.new_task.expire_date = null
            }, Z = function (b, c, d) {
                if (!_.isUndefined(b) && !_.isUndefined(b.temp_name) && !_.isEmpty(b.temp_name)) {
                    a.is_task_adding = !0;
                    var e = c.entry_id, g = [], h = [], i = function () {
                        var b = $("#entry_scroll_" + c.entry_id);
                        d === !0 ? l.scrollTo(b, "top") : f(function () {
                            l.scrollTo(b, "bottom")
                        }), a.is_task_adding = !1
                    };
                    _.isEmpty(b.members) || (g = _.map(b.members, "uid")), _.isEmpty(b.labels) || (h = _.map(b.labels, "name"));
                    var k = kzi.helper.split_line(b.temp_name), m = d ? "top" : "bottom";
                    wt.data.task.batch_add(F.pid, e, m, k, g, h, b.expire_date, 0, function (a) {
                        200 === a.code && j.cache.task.batch_add(a.data)
                    }, null, function () {
                        i()
                    }), Y()
                }
            }, aa = function (a, b) {
                b ? F.tasks = j.cache.task.archive(a.tid) : F.tasks = j.cache.task.del(a.tid)
            }, ba = function (a, b) {
                b.tasks = _.reject(b.tasks, function (b) {
                    return _.contains(a, b.tid)
                }), kzi.console.log("remove batch task ")
            }, ca = function (a, b) {
                _.each(a.tasks, function (a, c) {
                    1 === a.completed && _.includes(b, a.tid) && j.cache.task.archive(a.tid)
                }), a.tasks = _.reject(a.tasks, function (a) {
                    return 1 === a.completed && _.includes(b, a.tid)
                }), F.tasks = _.reject(F.tasks, function (c) {
                    return c.completed && c.entry_id === a.entry_id && _.includes(b, c.tid)
                })
            }, da = function (a) {
                var b = _.find(F.entries, {entry_id: a.entry_id});
                if (b) {
                    var d = _.find(b.tasks, {tid: a.tid});
                    d || b.tasks.push(a), R(a, c.global.me), b.tasks = _.sortBy(b.tasks, function (a) {
                        return a.pos
                    })
                }
                _.find(F.tasks, {tid: a.tid}) || F.tasks.push(a)
            }, ea = function (a) {
                F.entries = j.cache.entry.del(F.pid, a.entry_id)
            };
            a.$on("socket_message_entry_list", function (a, b) {
                v(j.project)
            }), a.$on(kzi.constant.event_names.on_task_move, function (a, b) {
                v(j.project)
            }), a.$on(kzi.constant.event_names.on_task_add, function (a, b) {
                da(b.task)
            }), a.$on("socket_message_project_member_remove", function (a, b) {
                _.each(F.entries, function (a) {
                    a.tasks && a.tasks.length > 0 && _.each(a.tasks, function (a) {
                        a.members && a.members.length > 0 && (a.members = _.reject(a.members, function (a) {
                            return a.uid == b.uid
                        }))
                    })
                })
            });
            var fa = function () {
                if (!_.isEmpty(F.entries)) {
                    F.entryIndex = 0;
                    for (var a = 0; a < F.entries.length; a++)if (!_.isEmpty(F.entries[a].tasks)) {
                        F.entryIndex = a, F.currentEntry = F.entries[a], F.currentTask = F.currentEntry.tasks[0], F.taskIndex = 0, F.currentTask.selected = !0;
                        break
                    }
                }
            }, ga = function (a) {
                _.isEmpty(F.currentEntry) || (F.currentEntry.selected = !1), F.currentEntry = a, F.currentEntry.selected = !0
            }, ha = function (a) {
                _.isEmpty(F.currentTask) || (F.currentTask.selected = !1), F.currentTask = a, F.currentTask.selected = !0
            }, ia = function () {
                _.isEmpty(F.currentEntry) || (F.currentEntry.selected = !1, F.entryIndex = 0, F.currentEntry = null), _.isEmpty(F.currentTask) || (F.currentTask.selected = !1, F.taskIndex = 0, F.currentTask = null)
            }, ja = function (a) {
                if (F.entries.length > a + 1) {
                    var b = F.entries[a + 1];
                    _.isEmpty(b.tasks) ? ja(a + 1) : (F.entryIndex = a + 1, ga(b), F.taskIndex = 0, ha(b.tasks[0]), O(), N())
                }
            }, ka = function (a, b) {
                if (a > 0) {
                    var c = F.entries[a - 1];
                    _.isEmpty(c.tasks) ? ka(a - 1) : (F.entryIndex = a - 1, ga(c), b === !0 ? F.taskIndex = c.tasks.length - 1 : F.taskIndex = 0, ha(c.tasks[F.taskIndex]), O(), N())
                }
            }, la = function (a) {
                if (null != a) {
                    var b = 0;
                    F.currentEntry && F.currentEntry.entry_id === a.entry_id || _.each(F.entries, function (c) {
                        c.entry_id === a.entry_id && (ga(c), F.entryIndex = b), b++
                    }), null != F.currentEntry && (b = 0, _.each(F.currentEntry.tasks, function (c) {
                        c.tid === a.tid && (ha(c), F.taskIndex = b), b++
                    }))
                }
            };
            a.$on(kzi.constant.event_names.shortcut_key_to_task, function (b, d) {
                if (c.global.prj_module.crud & a.project.permission) {
                    K = !0;
                    var e = [kzi.constant.keyASCIIs.A, kzi.constant.keyASCIIs.L, kzi.constant.keyASCIIs.D, kzi.constant.keyASCIIs.W, kzi.constant.keyASCIIs.M];
                    if (!(H === !0 && $.inArray(d, e) < 0))switch (d) {
                        case kzi.constant.keyASCIIs.VK_DOWN:
                        case kzi.constant.keyASCIIs.J:
                            _.isEmpty(F.currentTask) ? fa() : F.currentEntry.tasks.length > F.taskIndex + 1 ? (F.taskIndex++, ha(F.currentEntry.tasks[F.taskIndex]), N()) : _.isEmpty(F.currentEntry) ? fa() : ja(F.entryIndex);
                            break;
                        case kzi.constant.keyASCIIs.VK_UP:
                        case kzi.constant.keyASCIIs.K:
                            _.isEmpty(F.currentTask) ? fa() : F.taskIndex > 0 ? (F.taskIndex--, ha(F.currentEntry.tasks[F.taskIndex]), N()) : _.isEmpty(F.currentEntry) ? fa() : ka(F.entryIndex, !0);
                            break;
                        case kzi.constant.keyASCIIs.VK_LEFT:
                            _.isEmpty(F.currentEntry) ? fa() : ka(F.entryIndex, !1);
                            break;
                        case kzi.constant.keyASCIIs.VK_RIGHT:
                            _.isEmpty(F.currentEntry) ? fa() : ja(F.entryIndex);
                            break;
                        case kzi.constant.keyASCIIs.ENTER:
                            _.isEmpty(F.currentTask) || k.openTask(F.pid, F.currentTask.tid);
                            break;
                        case kzi.constant.keyASCIIs.I:
                            $("#btn_new_task").click();
                            break;
                        case kzi.constant.keyASCIIs.M:
                            if (!_.isEmpty(F.currentTask)) {
                                var f = "icon_action_task_" + F.currentTask.tid;
                                F.task_menu_default_step = 1, $("#" + f).click()
                            }
                            break;
                        case kzi.constant.keyASCIIs.L:
                            if (!_.isEmpty(F.currentTask)) {
                                var f = "icon_action_task_" + F.currentTask.tid;
                                F.task_menu_default_step = 2, $("#" + f).click()
                            }
                            break;
                        case kzi.constant.keyASCIIs.D:
                            if (!_.isEmpty(F.currentTask)) {
                                var f = "icon_action_task_" + F.currentTask.tid;
                                F.task_menu_default_step = 3, $("#" + f).click()
                            }
                            break;
                        case kzi.constant.keyASCIIs.W:
                            if (!_.isEmpty(F.currentTask)) {
                                var f = "icon_action_task_" + F.currentTask.tid;
                                F.task_menu_default_step = 4, $("#" + f).click()
                            }
                            break;
                        case kzi.constant.keyASCIIs.A:
                            if (!_.isEmpty(F.currentTask)) {
                                var f = "icon_action_task_" + F.currentTask.tid;
                                F.task_menu_default_step = 40, $("#" + f).click()
                            }
                            break;
                        case kzi.constant.keyASCIIs.C:
                            if (F.checkEntityPermission(F.currentTask) && !_.isEmpty(F.currentTask)) {
                                var f = "task_check_" + F.currentTask.tid;
                                $("#" + f).click()
                            }
                            break;
                        case kzi.constant.keyASCIIs.VK_SPACE:
                            if (F.checkEntityPermission(F.currentTask) && !_.isEmpty(F.currentTask)) {
                                var g = _.find(F.currentTask.members, {uid: c.global.me.uid});
                                g ? (g.assigned = 1, wt.bus.member.set_task_member_toggle(F.pid, F.currentTask, g)) : wt.bus.member.set_task_member_toggle(F.pid, F.currentTask, _.clone(c.global.me))
                            }
                            break;
                        case kzi.constant.keyASCIIs.VK_LessThan:
                            if (!_.isEmpty(F.currentEntry) && !_.isEmpty(F.currentTask) && F.checkEntityPermission(F.currentTask) && F.entryIndex > 0) {
                                var h = F.entries[F.entryIndex - 1], i = kzi.config.default_pos;
                                _.isEmpty(h.tasks) || (i = _.max(h.tasks, function (a) {
                                        return a.pos
                                    }).pos + kzi.config.default_pos + 1), delete F.currentTask.$$hashKey, t(F.pid, F.currentTask, F.currentEntry, h, i, function () {
                                    F.entryIndex = F.entryIndex - 1, ga(h), F.taskIndex = h.tasks.length - 1, O(), N()
                                })
                            }
                            break;
                        case kzi.constant.keyASCIIs.VK_GreaterThan:
                            if (!_.isEmpty(F.currentEntry) && !_.isEmpty(F.currentTask) && F.checkEntityPermission(F.currentTask) && F.entries.length > F.entryIndex + 1) {
                                var h = F.entries[F.entryIndex + 1], i = kzi.config.default_pos;
                                _.isEmpty(h.tasks) || (i = _.max(h.tasks, function (a) {
                                        return a.pos
                                    }).pos + kzi.config.default_pos + 1), delete F.currentTask.$$hashKey, t(F.pid, F.currentTask, F.currentEntry, h, i, function () {
                                    F.entryIndex = F.entryIndex + 1, ga(h), F.taskIndex = h.tasks.length - 1, O(), N()
                                })
                            }
                    }
                }
            }), F.js_mouseover_entries_panel = function (a) {
                if (K !== !0 && !H) {
                    var b = $(a.target), c = "";
                    if (b.length > 0 && (c = b.attr("task-id"), _.isEmpty(c) && (b = b.parents(".task_style"), c = b.attr("task-id")), !_.isEmpty(c))) {
                        var d = _.find(F.tasks, {tid: c});
                        la(d)
                    }
                }
            }, F.js_mousemove_entries_panel = function (a) {
                K === !0 && (K = !1)
            }, F.js_mouseleave_task = function (a, b, c) {
                if (!_.isEmpty(F.currentTask) && F.currentTask.tid === b.tid) {
                    if (H)return;
                    ia()
                }
            }, F.js_add_entry_pop = function (b) {
                d.popbox({
                    target: b,
                    templateUrl: "/tpl/project/task/pop_add_entry.html",
                    controller: ["$scope", "popbox", "pop_data", function (a, b, c) {
                        a.popbox = b;
                        var d = a.vm = {pid: c.scope.vm.pid, is_save_ing: !1};
                        d.js_add_entry = function (a, e) {
                            if (d.is_save_ing !== !0) {
                                d.is_save_ing = !0;
                                var g = wt.bus.entry.calculate_entry_pos(c.entries, !0);
                                wt.data.entry.add(d.pid, e, g, function (a) {
                                    a.data.tasks = [], a.data.maxheight = c.scope.vm.entry_maxheight, a.data.countComplateTask = 0, c.entries.unshift(a.data), b.close(), f(function () {
                                        M(a.data.entry_id)
                                    }, 100)
                                }, null, function () {
                                    d.is_save_ing = !1
                                })
                            }
                        }, d.js_close = function () {
                            b.close()
                        }
                    }],
                    resolve: {
                        pop_data: function () {
                            return {scope: a, entries: a.vm.entries}
                        }
                    }
                }).open()
            }, F.js_add_entry = function (a) {
                if (!_.isEmpty(a) && F.is_adding_entry !== !0) {
                    F.is_adding_entry = !0;
                    var b = wt.bus.entry.calculate_entry_pos(F.entries, !1);
                    wt.data.entry.add(F.pid, a, b, function (a) {
                        _.isEmpty(F.entries) && (F.entries = []), a.data.tasks = [], a.data.maxheight = F.entry_maxheight, a.data.countComplateTask = 0, F.entries.push(a.data), F.entry_name = "", f(function () {
                            l.scrollTo($(".entries_panel"), "right")
                        }, 100), j.cache.entry.add(a.data)
                    }, null, function () {
                        F.is_adding_entry = !1, F.entry_input_focus = !0
                    })
                }
            }, F.js_add_task = function (a, b, c, d) {
                Z(b, c, d)
            }, F.js_batch_select_all = function (a, b) {
                var c = [];
                _.each(b.tasks, function (a) {
                    void 0 === a.is_filter && (a.is_filter = !1), 0 == a.is_filter && F.checkEntityPermission(a) && (a.selected_batch = !0, c.push(a.tid))
                }), b.selected_tasks = c
            }, F.js_batch_close_action = function (a, b) {
                b.maxheight -= 60, b.batch_action_flag = !1, b.selected_tasks = [], _.each(b.tasks, function (a) {
                    a.selected_batch = !1
                }), D()
            }, F.js_batch_select_reverse = function (a, b) {
                var c = [], d = [];
                _.each(b.tasks, function (a) {
                    0 == a.is_filter && F.checkEntityPermission(a) && (a.selected_batch && d.push(a.tid), c.push(a.tid), a.selected_batch = !a.selected_batch)
                }), b.selected_tasks = _.difference(c, d)
            }, F.js_batch_set_expiredate = function (b, c, e, f) {
                d.popbox({
                    target: b,
                    top: e,
                    left: f,
                    templateUrl: "/ycjs/directive/datepicker/pop_batch_set_expiredate.html",
                    controller: ["$rootScope", "$scope", "popbox", "pop_data", function (a, b, d, e) {
                        b.popbox = d;
                        var f = b.vm = {
                            expire_date: moment().format("YYYY-MM-DD") + " 23:59",
                            has_set_expire_task: !1
                        }, g = e.scope.vm;
                        _.each(c.selected_tasks, function (a) {
                            f.has_set_expire_task || 0 !== _.find(c.tasks, {tid: a}).expire_date && (f.has_set_expire_task = !0)
                        }), f.js_close = function () {
                            d.close()
                        }, f.js_set_expire = function (a) {
                            var b = 0;
                            b = "00:00" === moment(a).format("HH:mm") ? moment(a).endOf("day").valueOf() : moment(a).valueOf(), wt.data.entry.batch_set_expire(g.pid, c.entry_id, c.selected_tasks, b, function (a) {
                                _.each(c.tasks, function (a) {
                                    var d = _.any(c.selected_tasks, function (b) {
                                        return b === a.tid
                                    });
                                    d && (a.expire_date = b)
                                })
                            }), f.js_close()
                        }, f.js_set_expire_date = function (a) {
                            switch (a) {
                                case"today":
                                    f.expire_date = moment().format("YYYY-MM-DD");
                                    break;
                                case"tomorrow":
                                    f.expire_date = moment().add(1, "days").format("YYYY-MM-DD");
                                    break;
                                case"week":
                                    f.expire_date = moment().endOf("week").format("YYYY-MM-DD");
                                    break;
                                case"next_week":
                                    f.expire_date = moment().add(7, "days").endOf("week").format("YYYY-MM-DD");
                                    break;
                                case"month":
                                    f.expire_date = moment().endOf("month").format("YYYY-MM-DD")
                            }
                            f.js_set_expire(f.expire_date)
                        }, f.js_cancel_expire = function () {
                            var a = 0;
                            wt.data.entry.batch_set_expire(g.pid, c.entry_id, c.selected_tasks, a, function (b) {
                                _.each(c.tasks, function (b) {
                                    var d = _.any(c.selected_tasks, function (a) {
                                        return a === b.tid
                                    });
                                    d && (b.expire_date = a)
                                })
                            }), d.close()
                        }
                    }],
                    resolve: {
                        pop_data: function () {
                            return {scope: a}
                        }
                    }
                }).open()
            }, F.js_batch_move_task = function (b, c, e, f) {
                c.entry_id;
                d.popbox({
                    target: b,
                    top: e,
                    left: f,
                    templateUrl: "/tpl/project/task/pop_move_task.html",
                    controller: ["$rootScope", "$scope", "popbox", "pop_data", function (a, b, d, e) {
                        b.popbox = d, b.project = e.scope.project, b.entry_name = c.name, b.entry = c, b.pid = F.pid, b.task_move = {}, b.task_move.move_to_prj = "", b.entries = e.scope.vm.entries, F.js_close = function () {
                            d.close()
                        }, b.is_task_moving = !1, b.task_move.projects = j.getPacketProjects(), b.task_move.move_to_prj = _.find(b.task_move.projects, function (a) {
                            return a.pid === F.pid
                        });
                        var f = !0;
                        b.$watch("task_move.move_to_prj", function (a, d) {
                            a && wt.data.entry.get_list(a.pid, !0, function (a) {
                                b.task_move.entries = a.data.entries, f ? (f = !1, b.task_move.move_to_entry = _.find(b.task_move.entries, function (a) {
                                    return a.entry_id === c.entry_id
                                })) : b.task_move.move_to_entry = b.task_move.entries[0]
                            }, null, null, "project-task-js_batch_move_task")
                        }), b.move_task = function () {
                            if (_.each(e.entry.tasks, function (a) {
                                    a.selected_batch = !1
                                }), b.task_move.move_to_prj.pid === F.pid) {
                                if (b.task_move.move_to_entry.entry_id === _.find(e.entry.tasks, {tid: c.selected_tasks[0]}).entry_id)return void F.js_close();
                                var a = _.find(b.entries, {entry_id: b.task_move.move_to_entry.entry_id}).tasks, d = kzi.config.default_pos;
                                a && (d = _.max(a, function (a) {
                                        return a.pos
                                    }).pos + kzi.config.default_pos + 1);
                                var f = _.find(b.entries, function (a) {
                                    return a.entry_id === b.task_move.move_to_entry.entry_id
                                });
                                u(F.pid, c.selected_tasks, c, f, d, function (a) {
                                    c.selected_tasks = [], F.js_close()
                                })
                            } else b.is_task_moving = !0, wt.data.task.batch_move(F.pid, b.entry.selected_tasks, b.task_move.move_to_prj.pid, b.task_move.move_to_entry.entry_id, function () {
                                ba(b.entry.selected_tasks, b.entry)
                            }, function () {
                                kzi.msg.error(n.instant("task.move_fail"))
                            }, function () {
                                b.is_task_moving = !1, F.js_close()
                            })
                        }
                    }],
                    resolve: {
                        pop_data: function () {
                            return {scope: a, entries: a.vm.entries, entry: c}
                        }
                    }
                }).open()
            }, F.js_batch_set_assignee = function (b, c, e, f) {
                c.entry_id;
                d.popbox({
                    target: b,
                    top: e,
                    left: f,
                    templateUrl: "/tpl/project/task/pop_batch_assignee.html",
                    controller: ["$rootScope", "$scope", "popbox", "pop_data", function (a, b, d, e) {
                        var f = b.pm = {selected_member_intersection: null};
                        b.project = e.scope.project, b.popbox = d, b.entry_name = c.name, b.entry = c, _.each(c.selected_tasks, function (a) {
                            null === f.selected_member_intersection ? f.selected_member_intersection = _.map(_.find(c.tasks, {tid: a}).members, "uid") : f.selected_member_intersection = _.intersection(f.selected_member_intersection, _.map(_.find(c.tasks, {tid: a}).members, "uid"))
                        }), b.task = {
                            members: _.map(f.selected_member_intersection, function (a) {
                                return {uid: a}
                            })
                        }, F.js_close = function () {
                            d.close()
                        }, b.js_toggle_member = function (a) {
                            wt.bus.entry.batch_toggle_member(F.pid, c, a)
                        };
                        var g = function () {
                            var a = wt.bus.member.get_normal_members(b.project.members);
                            _.each(a, function (a) {
                                _.indexOf(f.selected_member_intersection, a.uid) !== -1 ? a.assigned_all = 1 : a.assigned_all = 0
                            }), b.members = a
                        };
                        g()
                    }],
                    resolve: {
                        pop_data: function () {
                            return {scope: a, entries: a.vm.entries, entry: c}
                        }
                    }
                }).open()
            }, F.js_batch_set_labels = function (b, c) {
                var e = a;
                d.popbox({
                    target: b,
                    template: '<wt-set-task-labels task="task" batchsetlabelfn="set_label" project="project"></wt-set-task-labels>',
                    controller: ["$scope", "popbox", function (a, b) {
                        var d = a.pm = {batch_assigned_labe: [], selected_labels_intersection: null};
                        a.popbox = b, a.project = e.project, _.each(c.selected_tasks, function (a) {
                            null === d.selected_labels_intersection ? d.selected_labels_intersection = _.map(_.find(c.tasks, {tid: a}).labels, "name") : d.selected_labels_intersection = _.intersection(d.selected_labels_intersection, _.map(_.find(c.tasks, {tid: a}).labels, "name"))
                        }), a.task = {
                            labels: _.map(d.selected_labels_intersection, function (a) {
                                return {name: a}
                            })
                        }, a.set_label = function (a) {
                            _.isEmpty(c.selected_tasks) || wt.bus.entry.batch_toggle_label(F.pid, c, c.selected_tasks, a)
                        }
                    }]
                }).open()
            }, F.js_show_entry_menu = function (b, c, e, f) {
                var g = c.entry_id;
                d.popbox({
                    target: b,
                    top: e,
                    left: f,
                    templateUrl: "/tpl/project/task/pop_entry_menu.html",
                    controller: ["$rootScope", "$scope", "popbox", "pop_data", function (a, b, d, e) {
                        var f = b.vm = {pid: e.scope.project.pid};
                        b.project = e.scope.project, b.popbox = d, b.entry_name = c.name, b.entry = c, b.step = 0, b.entry_move = {}, b.entry_move.dest_project = {},
                            f.js_step = function (a) {
                                b.step = a
                            }, f.js_close = function () {
                            d.close()
                        }, f.js_show_batch_action = function () {
                            c.maxheight += 60, c.batch_action_flag = 1, d.close(), E()
                        }, f.js_change_name = function (a, c) {
                            b.is_save_ing = !0, wt.data.entry.update(f.pid, g, c, function (a) {
                                e.entry.name = c
                            }, null, function () {
                                b.is_save_ing = !1, d.close()
                            })
                        }, f.js_archive_entry = function () {
                            wt.data.entry.archive(f.pid, g, function () {
                                ea(c)
                            }), d.close()
                        }, f.js_del_entry = function () {
                            wt.data.entry.trash(f.pid, g, function (a) {
                                ea(c)
                            }), d.close()
                        }, f.js_archived_all = function () {
                            wt.data.task.archived_all(f.pid, g, function (a) {
                                ca(c, a.data)
                            }), d.close()
                        }, f.js_top_open_add_task_composer = function (a) {
                            c.task_top_enabled = !0, d.close()
                        }, f.js_set_sort = function (a, b) {
                            c.vmSortType = a, c.tasks = _.sortByOrder(c.tasks, [a], [b]), d.close()
                        }, f.js_watcher_entry_toggle = function () {
                            c.watched ? wt.data.entry.unwatch_entry(f.pid, c.entry_id, function (a) {
                            }) : wt.data.entry.watch_entry(f.pid, c.entry_id, function (a) {
                            }), c.watched = !c.watched
                        }, f.js_to_copy_entry = function () {
                            b.new_entry = {name: c.name, entry_id: c.entry_id, pos: c.pos}, f.js_step(12)
                        }, f.js_to_move_entry = function () {
                            b.entry_move_to_prjs = j.getPacketProjects(), b.entry_move.dest_project = _.find(b.entry_move_to_prjs, function (a) {
                                return a.pid === f.pid
                            }), f.js_step(13)
                        }, f.js_move_entry = function () {
                            return f.pid === b.entry_move.dest_project.pid ? void f.js_close() : void wt.data.entry.move(f.pid, c.entry_id, b.entry_move.dest_project.pid, function () {
                                j.cache.entry.del(f.pid, c.entry_id), e.scope.vm.entries = _.reject(e.scope.vm.entries, function (a) {
                                    return a.entry_id === c.entry_id
                                })
                            }, function () {
                                kzi.msg.error(n.instant("task.move_entry_fail"))
                            }, function () {
                                f.js_close()
                            })
                        }, f.js_move_entry_cancel = function () {
                            f.js_close()
                        }, f.js_copy_entry = function (a) {
                            if (!_.isEmpty(a.name)) {
                                var c = wt.bus.entry.calculate_copy_entry_pos(e.entries, a);
                                b.is_copying = !0, wt.data.entry.copy_entry(f.pid, a.entry_id, a.name, c, function (a) {
                                    e.entries.push(a.data), j.reloadEntriesAndTasks(f.pid, function (a) {
                                        v(a)
                                    }), f.js_close()
                                }, null, function () {
                                    b.is_copying = !1
                                })
                            }
                        }
                    }],
                    resolve: {
                        pop_data: function () {
                            return {scope: a, entries: a.vm.entries, entry: c}
                        }
                    }
                }).open()
            }, F.js_show_task_menu = function (b, e, f, g, h) {
                if (!(1 == e.batch_action_flag || f.is_locked && m(f, c.global.me))) {
                    if (b.stopPropagation(), H && f.tid === I)return void J.close();
                    f.tid && la(f), J = d.popbox({
                        target: b,
                        top: g,
                        left: h,
                        autoAdapt: !0,
                        templateUrl: "/tpl/project/task/pop_task_menu.html",
                        controller: ["$scope", "popbox", "pop_data", "$rootScope", "$wtUploadFile", "bus", "timingtaskService", function (a, b, c, d, g, h, i) {
                            a.popbox = b;
                            var l = a.vm = {
                                new_task: null,
                                team_id: c.scope.vm.team_id,
                                pid: c.scope.vm.pid,
                                permission: c.scope.vm.permission,
                                step: c.scope.vm.task_menu_default_step
                            };
                            a.task = f, a.project = c.scope.project, a.entries = c.entries, H = !0, I = f.tid, a.prj_files_loading = !1, a.task_move = {}, a.task_move.move_to_prj = "", l.js_step = function (a) {
                                l.step = a
                            }, l.js_close = function () {
                                b.close()
                            };
                            var m = !1;
                            _.isEmpty(f.tid) && (m = !0), d.global.me.watched = _.map(f.watchers, "uid").indexOf(d.global.me.uid) >= 0, a.is_add_task = m, l.js_toggle_member = function (a, b, c) {
                                wt.bus.member.set_task_member_toggle(l.pid, c, b, function () {
                                    c.update_date = Date.now(), d.$broadcast(kzi.constant.event_names.on_task_update, c)
                                })
                            }, l.js_toggle_watch = function (a, b, c) {
                                wt.bus.watch.set_watcher_toggle(l.pid, c, kzi.constant.xtype.task, c.tid, b, function () {
                                    c.update_date = Date.now()
                                })
                            }, l.js_watch_all = function (a, c, d, e) {
                                wt.bus.watch.watch_all(l.pid, d, kzi.constant.xtype.task, d.tid, c, function () {
                                    d.update_date = Date.now()
                                }, null, e), b.close()
                            }, f.expire_date ? f.expire_date_temp = moment(f.expire_date).format("YYYY-MM-DD HH:mm") : f.expire_date_temp = moment().format("YYYY-MM-DD") + " 23:59", l.js_today = function () {
                                f.expire_date = moment().format("YYYY-MM-DD"), l.set_expire(f.expire_date)
                            }, l.js_tomorrow = function () {
                                f.expire_date = moment().add(1, "days").format("YYYY-MM-DD"), l.set_expire(f.expire_date)
                            }, l.js_week = function () {
                                f.expire_date = moment().endOf("week").format("YYYY-MM-DD"), l.set_expire(f.expire_date)
                            }, l.js_next_week = function () {
                                f.expire_date = moment().add(7, "days").endOf("week").format("YYYY-MM-DD"), l.set_expire(f.expire_date)
                            }, l.js_month = function () {
                                f.expire_date = moment().endOf("month").format("YYYY-MM-DD"), l.set_expire(f.expire_date)
                            }, l.js_set_expire = function (a) {
                                l.set_expire(a)
                            }, l.js_cancel_expire = function () {
                                m ? (f.expire_date = null, f.expire_date_temp = null) : (f.expire_date_temp = null, f.expire_date = 0, f.badges.expire_date = 0, wt.data.task.set_expire(l.pid, f.tid, 0, function (a) {
                                    f.update_date = Date.now()
                                })), b.close()
                            }, l.set_expire = function (a) {
                                var c = 0;
                                c = "00:00" === moment(a).format("HH:mm") ? moment(a).endOf("day").valueOf() : moment(a).valueOf(), m ? (f.expire_date = c, l.js_step(0)) : (wt.data.task.set_expire(l.pid, f.tid, c, function (a) {
                                    f.update_date = Date.now()
                                }), f.badges.expire_date = c, f.expire_date = c, 0 !== l.task_menu_default_step ? b.close() : l.js_step(0))
                            }, l.js_show_task_move = function () {
                                l.js_step(5), a.task_move.projects = j.getPacketProjects(), a.task_move.project = _.find(a.task_move.projects, function (a) {
                                    return a.pid === l.pid
                                }), l.js_change_project()
                            }, l.move_task = function () {
                                if (a.task_move.project.pid === l.pid) {
                                    if (a.task_move.entry.entry_id === f.entry_id)return;
                                    var b = kzi.config.default_pos;
                                    a.task_move.entry.tasks.length > 0 && (b = _.max(a.task_move.entry.tasks, function (a) {
                                            return a.pos
                                        }).pos + kzi.config.default_pos + 1);
                                    var c = _.find(a.task_move.entries, function (b) {
                                        return b.entry_id === a.task_move.entry.entry_id
                                    });
                                    t(l.pid, f, e, c, b, function () {
                                        l.js_close()
                                    })
                                } else a.is_task_moving = !0, wt.data.task.move(l.pid, f.tid, a.task_move.project.pid, a.task_move.entry.entry_id, function () {
                                    aa(f)
                                }, function () {
                                    kzi.msg.error(n.instant("task.move_fail"))
                                }, function () {
                                    a.is_task_moving = !1, l.js_close()
                                })
                            }, l.js_change_project = function () {
                                j.loadEntries(a.task_move.project.pid, function (b) {
                                    if (b && 0 !== b.length) {
                                        a.task_move.entries = b;
                                        var c = _.find(b, {entry_id: f.entry_id});
                                        a.task_move.entry = c ? c : a.task_move.entries[0]
                                    }
                                })
                            }, l.js_del_task = function () {
                                wt.data.task.trash(l.pid, f.tid, function (a) {
                                    aa(f), k.isOpened && k.xid === f.tid && k.close()
                                }), b.close()
                            }, l.js_archive_task = function () {
                                wt.data.task.archive(l.pid, f.tid, function () {
                                    d.$broadcast(kzi.constant.event_names.on_task_archive, f.tid)
                                }), b.close()
                            }, l.js_to_copy_task = function () {
                                l.new_task = wt.bus.task.get_copy_task(f), l.js_step(31)
                            }, l.js_copy_task = function (b, c) {
                                if (!_.isEmpty(c.name)) {
                                    a.is_copying = !0;
                                    var d = q(c.entry_id), e = wt.bus.task.calculate_copy_task_pos(d, c);
                                    wt.data.task.copy_task(l.pid, c.tid, c.name, e, c.keep_comments, c.keep_members, c.keep_labels, c.keep_attachments, c.keep_todos, c.keep_watchers, function (a) {
                                        l.js_close(), da(a.data)
                                    }, null, function () {
                                        a.is_copying = !1
                                    })
                                }
                            }, l.file_upload_option = {
                                url: [kzi.config.box_url(), "?pid=" + f.pid, "&token=" + kzi.get_cookie("sid")].join(""),
                                formData: {target: "prj", type: "task", pid: f.pid, tid: f.tid},
                                addCallback: function () {
                                    f.update_date = Date.now(), l.js_close()
                                }
                            }, l.uploadlink_option = {
                                url: [kzi.config.box_url(), "uploadbylink", "?pid=" + f.pid, "&token=" + kzi.get_cookie("sid")].join(""),
                                formData: l.file_upload_option.formData
                            }, l.js_uploadbylink_uploading = !1, l.js_uploadbylink = function (a) {
                                if (_.isEmpty(l.uploadlink_url) || !kzi.validator.isUrl(l.uploadlink_url))return kzi.msg.warn(n.instant("common.uploadbylink_err_link_valid")), void $(a.target).prev().focus();
                                l.js_uploadbylink_uploading = !0;
                                var b = _.extend({link: escape(l.uploadlink_url)}, l.uploadlink_option.formData);
                                wt.data.file.uploadlink(l.uploadlink_option.url, b, function (a) {
                                    8100 === a.code && kzi.msg.warn(n.instant("common.uploadbylink_err_file_too_large")), 200 === a.code && h.file.new_upload(a, function (a) {
                                        f.update_date = Date.now(), f.files ? f.files.push(a.data) : f.files = [a.data], f.badges.file_count = f.files.length, kzi.msg.info(n.instant("common.uploadbylink_success")), l.uploadlink_url = "", l.js_uploadbylink_uploading = !1, l.js_close()
                                    })
                                }, function () {
                                    kzi.msg.warn(n.instant("common.uploadbylink_fail"))
                                }, function () {
                                    l.js_uploadbylink_uploading = !1
                                })
                            }, l.js_files_select = function (a) {
                                if (0 !== a.length) {
                                    l.js_close();
                                    var b = [];
                                    _.forEach(a, function (a) {
                                        b.push({
                                            original: a,
                                            data: {target: "prj", type: "task", pid: f.pid, tid: f.tid}
                                        })
                                    }), g.addFiles(f.pid, b, function (a, b) {
                                        b && b.file && "task" === b.type && (f.update_date = Date.now(), _.isArray(f.files) ? f.files.push(b.file) : f.files = [b.file], f.badges.file_count = f.files.length)
                                    })
                                }
                            }, l.add_timingtask = function (a) {
                                i.showAddEdit(null, a, c.entries), b.close()
                            }
                        }],
                        resolve: {
                            pop_data: function () {
                                return {scope: a, entries: F.entries, entry: e}
                            }
                        }
                    }), J.open().then(function () {
                        F.task_menu_default_step = 0, H = !1, I = null
                    })
                }
            }, F.js_delegate_task_click = function (a, b) {
                var c = $(a.target);
                if (c.hasClass("task_style"))c = c.scope().task; else {
                    if (!c.parents(".task_style").eq(0).length)return;
                    c = c.parents(".task_style").eq(0).scope().task
                }
                if (b.batch_action_flag) {
                    if (F.checkEntityPermission(c)) {
                        c.selected_batch = !c.selected_batch;
                        for (var d = -1, f = 0, g = 0; f < b.selected_tasks.length; f++)b.selected_tasks[f] != c.tid ? b.selected_tasks[g++] = b.selected_tasks[f] : d = f;
                        d != -1 ? b.selected_tasks.length -= 1 : b.selected_tasks.push(c.tid)
                    }
                } else e.path("/project/" + c.pid + "/task/" + c.tid)
            }, F.task_loop_done = function (a) {
                F.loop_entries_count++, f(function () {
                    X(a, function () {
                        a.task_loop_done = !0
                    })
                }, 0), F.loop_entries_count === F.entries.length - 1
            }, i.$on("addTaskSuccessEvent", function (a) {
                da(a), L(a.tid), M(a.entry_id)
            }, a), i.$on("showAddEntryPopEvent", function (a) {
                F.js_add_entry_pop(a)
            }, a), i.$on("filterTasksAssignMeEvent", function (b) {
                V(), "assign_me" === a.task_filters.type ? (S(null), a.task_filters.turn_on = !1, a.task_filters.type = null) : (a.task_filters.type = "assign_me", a.task_filters.turn_on = !0, S(c.global.me))
            }, a), i.$on("filterTasksMyWatchEvent", function (b) {
                V(), "my_watch" === a.task_filters.type ? (T(null), a.task_filters.turn_on = !1, a.task_filters.type = null) : (a.task_filters.type = "my_watch", a.task_filters.turn_on = !0, T(c.global.me))
            }, a), i.$on("filterTasksMyCreateEvent", function (b) {
                V(), "my_create" === a.task_filters.type ? (U(null), a.task_filters.turn_on = !1, a.task_filters.type = null) : (a.task_filters.type = "my_create", a.task_filters.turn_on = !0, U(c.global.me))
            }, a), i.$on("showTasksFilterDetailEvent", function (b) {
                a.task_filters.turn_on && (V(), a.task_filters.type = ""), a.sidebar.change_status("filter_tasks")
            }, a), F.js_open_add_task_composer = function (a, b) {
                this.task_name = "", b.task_bottom_enabled = !0, b.maxheight -= 34
            }, F.js_cancel_composer = function (a, b, c) {
                b.task_bottom_enabled && (b.maxheight += 34), b.task_bottom_enabled = !1, b.task_top_enabled = !1, c && Y()
            }, F.js_complete_task = function (b, d, e) {
                if (1 != d.batch_action_flag && c.global.prj_module.crud & a.project.permission && F.checkEntityPermission(e)) {
                    b.stopPropagation();
                    var f = e.tid;
                    e.update_date = Date.now(), e.completed ? (e.completed = 0, wt.data.task.uncomplete(F.pid, f, function () {
                        c.$broadcast(kzi.constant.event_names.on_task_complete, e)
                    })) : (e.completed = 1, wt.data.task.complete(F.pid, f, function () {
                        c.$broadcast(kzi.constant.event_names.on_task_complete, e)
                    }))
                }
            }, F.checkEntityPermission = function (a) {
                var b = !0;
                return a && a.is_locked && m(a, c.global.me) && (b = !1), b
            }, a.$on(kzi.constant.event_names.on_task_complete, function (a, b) {
                if (b.pid === F.pid) {
                    j.cache.task.complete(b.tid, b.completed);
                    var c = _.find(F.entries, {entry_id: b.entry_id});
                    c && (0 === b.completed ? c.countComplateTask-- : c.countComplateTask++)
                }
            }), a.$on(kzi.constant.event_names.on_task_trash, function (a, b) {
                b && aa(b)
            }), a.$on(kzi.constant.event_names.on_task_archive, function (a, b) {
                if (b) {
                    var c = _.find(F.tasks, {tid: b});
                    c && aa(c, !0)
                }
            }), a.$on(kzi.constant.event_names.on_right_menu, function (b, d) {
                if (c.global.prj_module.watch & a.project.permission) {
                    var e = kzi.helper.mouse_position(d), f = null, g = null;
                    if ($(d.target).hasClass("task") ? f = $(d.target).attr("task-id") : $(d.target).parents(".task").length > 0 ? f = $(d.target).parents(".task").attr("task-id") : $(d.target).parents(".entry").length > 0 && (g = $(d.target).parents(".entry").attr("entry-id")), f) {
                        var h = _.find(F.tasks, {tid: f}), g = h.entry_id, i = _.find(F.entries, {entry_id: g});
                        F.js_show_task_menu(d, i, h, e.y, e.x)
                    } else {
                        var i = _.find(F.entries, {entry_id: g});
                        F.js_show_entry_menu(d, i, e.y, e.x)
                    }
                }
            });
            var ma, na = null;
            W()
        }
    }

    function b(a, b, c, d) {
        var e = b.tid;
        d.openTask(b.pid, e), a.$on(kzi.constant.event_names.on_slide_hide, function () {
            c.path("/project/" + b.pid + "/task")
        })
    }

    function c(a, b, c) {
        var d = a.vm = {};
        d.add_tasks_success = function (a) {
            _.each(a, function (a) {
                b.$execute("addTaskSuccessEvent", a)
            })
        }, d.js_add_task = function (a) {
            c.showAdd(!0)
        }, d.show_add_entry_pop = function (a) {
            b.$execute("showAddEntryPopEvent", a)
        }, d.filter_tasks_assign_me = function (a) {
            b.$execute("filterTasksAssignMeEvent", a)
        }, d.filter_tasks_my_watch = function (a) {
            b.$execute("filterTasksMyWatchEvent", a)
        }, d.filter_tasks_my_create = function (a) {
            b.$execute("filterTasksMyCreateEvent", a)
        }, d.show_tasks_filter_detail = function (a) {
            b.$execute("showTasksFilterDetailEvent", a)
        }
    }

    function d(a, b, c, d, e, f) {
        e.global.loading_done = !0, e.global.title = [f.instant("task.title_name_archive"), " | ", a.project.name].join("");
        var g = a.vm = {
            pid: b.pid,
            entries: [],
            tasks: [],
            page: 1,
            archived_view: "task",
            part_loading_done: !1,
            last_date: "0000-00-00"
        }, h = function () {
            _.isEmpty(g.entries) && (g.part_loading_done = !1, wt.data.entry.get_archived_list(g.pid, function (a) {
                g.entries = a.data
            }, null, function () {
                g.part_loading_done = !0
            }))
        }, i = function () {
            g.part_loading_done = !1, wt.data.task.get_archived_list(g.pid, g.page, kzi.config.default_count, function (b) {
                g.last_date = wt.bus.task.set_is_show_data(b.data, g.last_date), _.isEmpty(b.data) || (g.page = g.page + 1, _.isEmpty(g.tasks) ? g.tasks = b.data : g.tasks = g.tasks.concat(b.data)), b.data.length < kzi.config.default_count && (a.has_no_more = !0)
            }, null, function () {
                g.part_loading_done = !0
            })
        }, j = function () {
            "task" !== g.archived_view && h()
        };
        g.js_archive_view_toggle = function (a) {
            g.archived_view = a, j()
        }, g.load_archived_tasks_more = function () {
            i()
        }, a.$on(kzi.constant.event_names.on_task_unarchived, function (a, b) {
            var c = _.find(g.tasks, {tid: b.tid});
            g.tasks = _.reject(g.tasks, function (a) {
                return a.tid === c.tid
            }), c.is_show_date && (g.last_date = wt.bus.task.set_is_show_data(g.tasks, g.last_date))
        }), g.js_show_entry_menu = function (b, d) {
            b.stopPropagation(), c.popbox({
                target: b,
                templateUrl: "/tpl/project/task/pop_unarchive_task.html",
                controller: "popUnarchiveTaskCtrl",
                resolve: {
                    pop_data: function () {
                        return {
                            scope: a, task: d, fnSuccess: function (a) {
                                g.tasks = _.reject(g.tasks, function (b) {
                                    return b.tid === a.tid
                                }), a.is_show_date && (g.last_date = wt.bus.task.set_is_show_data(g.tasks, g.last_date))
                            }
                        }
                    }
                }
            }).open()
        }, i()
    }

    function e(a, b, c, d) {
        a.popbox = b;
        var e = a.vm = {part_loading_done: !1, pid: c.scope.vm.pid, entries: []};
        e.js_close = function () {
            b.close()
        }, d.loadEntries(e.pid, function (a) {
            e.part_loading_done = !0, e.entries = a, _.each(e.entries, function (a) {
                a.selected = 0
            })
        }), e.js_unarchive_task = function (a) {
            _.each(e.entries, function (a) {
                a.selected = 0
            }), a.selected = 1, wt.data.task.unarchive(e.pid, c.task.tid, a.entry_id, function (a) {
                d.clearEntries(), _.isFunction(c.fnSuccess) && c.fnSuccess(c.task)
            }), b.close()
        }
    }

    angular.module("wt.project.ctrl").controller("projectTasksCtrl", a).controller("projectTaskDetailCtrl", b).controller("projectTasksToolbarCtrl", c).controller("projectArchiveTasksCtrl", d).controller("popUnarchiveTaskCtrl", e), a.$inject = ["$scope", "$stateParams", "$rootScope", "$popbox", "$location", "$timeout", "$interval", "permissionFilter", "bus", "globalDataContext", "locator", "wtScrollService", "taskLockPermissionFilter", "$translate", "fastProject", "ycTrack"], b.$inject = ["$scope", "$stateParams", "$location", "locator"], c.$inject = ["$scope", "bus", "taskService"], d.$inject = ["$scope", "$stateParams", "$popbox", "globalDataContext", "$rootScope", "$translate"], e.$inject = ["$scope", "popbox", "pop_data", "globalDataContext"]
}(), function () {
    "use strict";
    function a() {
        this.calendar_view = "", this.filter_type = 0, this.init = function () {
            this.calendar_view = "month";
            var a = kzi.localData.get("events_filter_type");
            a && (this.filter_type = parseInt(a, 10))
        }, this.set_filter_type = function (a) {
            this.filter_type !== a && (this.filter_type = a, kzi.localData.set("events_filter_type", a))
        }
    }

    function b(a, b, c, d, e, f) {
        var g = a.vm = {pid: c.pid, events_filter: d};
        d.init(), g.js_add_event = function () {
            e.showAdd(!0)
        }, g.js_add_task = function () {
            f.showAdd(!1, !0)
        }, a.add_tasks_success = function (a) {
            _.each(a, function (a) {
                b.$execute("addTaskSuccessEvent", a)
            })
        }, a.js_new_event_success = function (a) {
            b.$execute("addEventSuccessEvent", a)
        }, g.set_filter_type = function (a) {
            d.set_filter_type(a), b.$execute("setEventsFilterTypeEvent", null)
        }
    }

    function c(a, b, c, d, e, f, g, h, i, j, k, l, m) {
        function n() {
            var a = g.calendars.myCalendar.fullCalendar("getView");
            $("#calendar_title").html(a.title);
            var b = new Date(a.start).getTime(), c = new Date(a.end).getTime(), d = (new Date).getTime();
            d < b || d > c ? $("#calendar_today").css("visibility", "visible") : $("#calendar_today").css("visibility", "hidden")
        }

        function o() {
            0 !== $("#calendar").find(".fc-agendaWeek-view").size() && ($("#calendar").find(".fc-agendaWeek-view tbody td:eq(0)").css({
                height: kzi.util.winHeight() - p.header_height - 40,
                overflow: "auto",
                display: "block"
            }), $("#calendar").find(".fc-agendaWeek-view tbody td:eq(0)").find(".fc-time-grid-container").css({
                height: "",
                overflow: "auto"
            }))
        }

        var p = a.vm = {part_loading_done: !1, events: [], header_height: 118, events_filter: h, pid: b.pid};
        a.member_id = "all", a.myCalendar = {};
        var q = "", r = function () {
            g.calendars.myCalendar.fullCalendar("refetchEvents")
        }, s = function () {
            g.calendars.myCalendar.fullCalendar("removeEvents"), q = ""
        }, t = function (b, c, d, e) {
            var f = [];
            0 !== h.filter_type && 2 !== h.filter_type || k.loadEntriesAndTasks(b, function (b) {
                var g = _.filter(b.tasks, function (a) {
                    return a.expire_date = kzi.util.dateToTimestamp(a.expire_date), a.expire_date >= c && a.expire_date <= d
                }), h = !1;
                _.each(g, function (b) {
                    if ("all" !== a.member_id) {
                        var c = _.find(b.members, {uid: a.member_id});
                        h = !!c
                    } else h = !0;
                    if (h) {
                        var d = {
                            id: b.tid,
                            title: b.name,
                            allDay: "23:59" === moment(b.expire_date).format("HH:mm"),
                            start: b.expire_date,
                            url: "",
                            editable: !0,
                            durationEditable: !1,
                            textColor: "#333",
                            extend: {
                                expire_date: b.expire_date,
                                badges: b.badges,
                                pid: b.pid,
                                xtype: kzi.constant.xtype.task
                            }
                        };
                        d.allDay === !1 && (d.start = moment(b.expire_date).format(), d.end = moment(b.expire_date).add(40, "minutes").format()), 1 === b.completed ? (d.className = "cal_task cal_task_completed slide-trigger", 1 === a.project.show_completed && f.push(d)) : (d.className = "cal_task cal_task_uncompleted slide-trigger", f.push(d))
                    }
                }), _.isFunction(e) && e(f)
            })
        };
        c.global.title = [m.instant("event.title_name"), " | ", a.project.name].join(""), a.calendarEventSources = [{
            events: function (a, b, c, d) {
                var e = moment(a.format()).unix() + "000", f = moment(b.format()).unix() + "000";
                p.events = [], 0 === h.filter_type && t(p.pid, e, f, function (a) {
                    k.loadCalEvents(p.pid, e, f, function (b) {
                        p.events = a.concat(b), d(p.events)
                    })
                }), 1 === h.filter_type && k.loadCalEvents(p.pid, e, f, function (a) {
                    p.events = a, d(p.events)
                }), 2 === h.filter_type && t(p.pid, e, f, function (a) {
                    p.events = a, d(p.events)
                })
            }
        }], a.calendarConfig = {
            header: !1,
            height: kzi.util.winHeight() - p.header_height,
            editiable: !0,
            droppable: !0,
            nextDayThreshold: "00:00:00",
            firstDay: 0,
            weekMode: "liquid",
            axisFormat: "HH:mm",
            timeFormat: "",
            defaultView: "month",
            dayClick: function (b, c, d) {
                kzi.constant.prj_module.crud & a.project.permission && a.onDayClick(b, c, d)
            },
            loading: function (b) {
                a.myCalendar = g.calendars.myCalendar, n(), b ? p.part_loading_done = !1 : p.part_loading_done = !0, o()
            },
            eventClick: function (b, c, d) {
                a.onEventClick(b, c, d)
            },
            eventDrop: function (a, b, c, d, e, f) {
                if (a.extend.xtype === kzi.constant.xtype.task && a.allDay === !1)return a.allDay = !0, void c();
                if (a.extend.xtype === kzi.constant.xtype.event && a.allDay === !0)return a.allDay = !1, void c();
                var g = _.findIndex(_.valuesIn(b._data), function (a) {
                    return 0 !== a
                });
                if (g !== -1) {
                    var h = a.extend.pid;
                    if (a.extend.xtype === kzi.constant.xtype.task && a.allDay === !0) {
                        var i = a.id, j = a.extend.expire_date, l = moment(j).add(b._data.days, "days").endOf("day").valueOf();
                        wt.data.task.set_expire(h, i, l, function (b) {
                            a.extend.expire_date = l, a.extend.badges.expire_date = l, k.cache.task.set_expire(i, l)
                        })
                    }
                    if (a.extend.xtype === kzi.constant.xtype.event && a.allDay === !1) {
                        var m = moment(a.start), n = moment(a.end || a.start);
                        k.cache.event.update_date(h, a.id, m.format("YYYY-MM-DD"), m.format("HH:mm"), n.format("YYYY-MM-DD"), n.format("HH:mm"), function () {
                            a.extend.end = n.valueOf()
                        })
                    }
                }
            },
            eventResize: function (a, b, c) {
                if ("month" === h.calendar_view) {
                    var d = moment(a.start._i).format("HH"), e = moment(a.start._i).format("mm");
                    a.extend.end = a.end.valueOf();
                    var f = moment(a.end._i).format("HH"), g = moment(a.end._i).format("mm");
                    k.cache.event.update_date(p.pid, a.id, a.start.format("YYYY-MM-DD"), d + ":" + e, a.end.format("YYYY-MM-DD"), f + ":" + g, function () {
                        angular.noop()
                    })
                }
                if ("agendaWeek" === h.calendar_view) {
                    var d = a.start.format("HH"), e = a.start.format("mm");
                    a.extend.end = a.end.valueOf();
                    var f = a.end.format("HH"), g = a.end.format("mm");
                    k.cache.event.update_date(p.pid, a.id, a.start.format("YYYY-MM-DD"), d + ":" + e, a.end.format("YYYY-MM-DD"), f + ":" + g, function () {
                        angular.noop()
                    })
                }
            },
            windowResize: function (a) {
                $(this).fullCalendar("option", "height", kzi.util.winHeight() - p.header_height), o()
            },
            eventRender: function (a, b) {
                b.attr("title", b.find(".fc-title").text())
            },
            views: {agendaWeek: {axisFormat: "Ah"}}
        }, a.onEventClick = function (a, b, c) {
            b.preventDefault(), b.stopPropagation(), a.extend.xtype === kzi.constant.xtype.task ? j.openTask(a.extend.pid, a.id) : a.extend.xtype === kzi.constant.xtype.event && e(function () {
                f.path("/project/" + a.extend.pid + "/event/" + a.id)
            })
        }, a.onDayClick = function (b, c, e) {
            if (p.part_loading_done) {
                var f = kzi.helper.mouse_position(c);
                $(c.currentTarget).attr("data-placement", "right"), $(c.currentTarget).attr("data-align", "bottom"), $(c.currentTarget).addClass("js-popbox"), $(c.currentTarget).attr("data-auto-adapt", "true"), d.popbox({
                    target: c,
                    templateUrl: "/ycjs/directive/event/pop_add_event.html",
                    controller: "newEventCtrl",
                    top: f.y,
                    left: f.x,
                    resolve: {
                        pop_data: function () {
                            return {
                                save_success: function (b) {
                                    a.js_new_event_success(b)
                                }, start_date: b
                            }
                        }
                    }
                }).open()
            }
        }, i.$on("eventsCalendarViewChangeEvent", function () {
            g.calendars.myCalendar.fullCalendar("changeView", p.events_filter.calendar_view), n(), s(), r()
        }, a), i.$on("addTaskSuccessEvent", function (a) {
            s(), r()
        }, a), i.$on("addEventSuccessEvent", function (b) {
            a.js_new_event_success(b)
        }, a), i.$on("setEventsFilterTypeEvent", function () {
            s(), r()
        }, a), p.prev = function () {
            g.calendars.myCalendar.fullCalendar("prev"), n()
        }, p.next = function () {
            g.calendars.myCalendar.fullCalendar("next"), n()
        }, p.today = function () {
            g.calendars.myCalendar.fullCalendar("today"), n()
        }, p.set_calendar_view = function (a) {
            p.events_filter.calendar_view !== a && (p.events_filter.calendar_view = a, i.$execute("eventsCalendarViewChangeEvent"))
        }, a.$on(kzi.constant.event_names.on_task_update, function (a, b) {
            s(), r(), k.cache.task.update_full(b)
        }), a.$on(kzi.constant.event_names.on_task_add, function () {
            s(), r()
        }), a.$on(kzi.constant.event_names.on_task_trash, function () {
            s(), r()
        }), a.$on(kzi.constant.event_names.on_task_complete, function () {
            s(), r()
        }), a.$on(kzi.constant.event_names.on_task_archive, function () {
            s(), r()
        }), a.$on(kzi.constant.event_names.shortcut_key_to_task, function (b, d) {
            if (c.global.prj_module.crud & a.project.permission)switch (d) {
                case kzi.constant.keyASCIIs.I:
                case kzi.constant.keyASCIIs.N:
                    $("#btn_new_event").click()
            }
        }), a.$on(kzi.constant.event_names.on_event_add, function (b, c) {
            a.js_new_event_success(c), s(), r()
        }), a.$on(kzi.constant.event_names.on_event_update, function (a, b, c, d) {
            k.cache.event.update(b, c, d), s(), r()
        }), a.$on(kzi.constant.event_names.on_event_trash, function (a, b, c) {
            k.cache.event.trash(b, c), e(function () {
                s(), r()
            }, 1e3)
        }), a.js_new_event_success = function (a) {
            a.forEach(function (a) {
                if (a.end.date >= k.project.cal_events_start && a.start.date <= k.project.cal_events_end) {
                    var b = _.find(k.projects, {pid: a.pid});
                    if (b) {
                        var c = wt.bus.event.event_to_calEvent(a, b.bg);
                        k.project.cal_events && (k.project.cal_events.push(c), s(), r()), b.is_calendar || (b.is_calendar = 1)
                    } else k.project.cal_events = [], s(), r()
                }
            })
        }
    }

    function d(a, b, c, d) {
        d.openEvent(b.pid, b.event_id), a.$on(kzi.constant.event_names.on_slide_hide, function () {
            c.path("/project/" + b.pid + "/event")
        })
    }

    angular.module("wt.project.ctrl").service("eventsFilterData", a).controller("projectEventsToolbarCtrl", b).controller("projectEventsCtrl", c).controller("eventDetailCtrl", d), b.$inject = ["$scope", "bus", "$stateParams", "eventsFilterData", "eventService", "taskService"], c.$inject = ["$scope", "$stateParams", "$rootScope", "$popbox", "$timeout", "$location", "uiCalendarConfig", "eventsFilterData", "bus", "locator", "globalDataContext", "$q", "$translate"], d.$inject = ["$scope", "$stateParams", "$location", "locator"]
}(), function () {
    "use strict";
    function a() {
    }

    function b(a, b, c, d, e, f, g, h) {
        function i(a) {
            function b() {
                $(window).trigger("resize")
            }

            var a = a ? a : 50;
            e(b, a)
        }

        function j() {
            c.global.title = [f.instant("graph.title_name"), " | ", a.project.name].join(""), c.global.loading_done = !0, "-1" !== a.project.team_id ? 1 === parseInt(a.project.archived) ? a.permission = kzi.constant.permission.project_archived : a.permission = kzi.constant.permission.ok : 1 === parseInt(a.project.archived) ? a.permission = kzi.constant.permission.project_archived : a.permission = kzi.constant.permission.ok, k.part_loading_done = !1, wt.data.graph.overview(k.pid, function (a) {
                if (200 === a.code) {
                    if (k.overview = a.data.overview, k.overview_project_schedule = (k.overview.completed - k.overview.archived) / (k.overview.completed - k.overview.archived + k.overview.uncompleted) * 100, k.overview_delay_rate = k.overview.expired / k.overview.uncompleted * 100, k.overview_completed = k.overview.completed - k.overview.archived, k.overview_all = k.overview.uncompleted + k.overview.completed, k.columnConfig.xAxis.categories = [], k.columnConfig.series[0].data = [], k.columnConfig.series[1].data = [], !_.isEmpty(a.data.entries)) {
                        var b = a.data.entries;
                        b = _.sortBy(b, function (a) {
                            return a.completed + a.uncompleted
                        }), b = Array.prototype.slice.call(b).reverse(), b.forEach(function (a, b) {
                            k.columnConfig.xAxis.categories.push(a.name), k.columnConfig.series[0].data.push(a.uncompleted), k.columnConfig.series[1].data.push(a.completed)
                        })
                    }
                    a.data.labels && _.each(a.data.labels, function (a) {
                        var b = _.find(kzi.constant.labels_list, {name: a.label_name});
                        void 0 === b ? (a.label_desc = f.instant("graph.unknow_label"), b = "#d9dde4") : b = b.color, k.labels.push({
                            name: g([a.label_desc || "", 10]),
                            y: a.total,
                            color: b
                        })
                    }), k.members = _.sortBy(a.data.members, function (a) {
                        return a.completed
                    }), k.members = Array.prototype.slice.call(k.members).reverse(), k.members.length < 13 && (k.barConfig.chart.height = 250);
                    for (var c = 0; c < k.members.length; c++)k.barConfig.xAxis.categories.push(k.members[c].display_name), k.barConfig.series[0].data.push(parseInt(k.members[c].uncompleted)), k.barConfig.series[1].data.push(parseInt(k.members[c].completed));
                    k.today = a.data.today
                }
            }, null, function () {
                k.part_loading_done = !0, a.js_to_pulse()
            })
        }

        h.track("project_graph", "visit");
        var k = a.vm = {
            part_loading_done: !1,
            pid: b.pid,
            overview: null,
            overview_project_schedule: 0,
            overview_delay_rate: 0,
            labels: [],
            today: null,
            columnConfig: {
                chart: {height: 250},
                xAxis: {categories: []},
                series: [{data: [], name: f.instant("graph.uncompleted"), stacking: "normal"}, {
                    data: [],
                    name: f.instant("graph.completed"),
                    stacking: "normal"
                }]
            },
            barConfig: {
                chart: {},
                xAxis: {categories: []},
                series: [{data: [], name: f.instant("graph.uncompleted"), stacking: "normal"}, {
                    data: [],
                    name: f.instant("graph.completed"),
                    stacking: "normal"
                }]
            },
            pulse_graph_date: "0000.00.00 - 00.00",
            disable_pulse_next: !0
        };
        moment.locale(kzi.config.lang);
        var l = function (a) {
            var b = [f.instant("common.week_s7"), f.instant("common.week_s1"), f.instant("common.week_s2"), f.instant("common.week_s3"), f.instant("common.week_s4"), f.instant("common.week_s5"), f.instant("common.week_s6")], c = [], d = [];
            a.forEach(function (a, b) {
                c.push(a.completed), d.push(a.created)
            });
            var e = "#e1e1e1", g = "#fbfbfb";
            g = _.max(c) > 0 || _.max(d) > 0 ? "#e1e1e1" : "#fbfbfb";
            var h = {
                chart: {renderTo: "pulse_weekly_graph", type: "line", backgroundColor: "#ffffff", height: 250},
                legend: {align: "right", verticalAlign: "bottom"},
                credits: {enabled: !1},
                title: {text: ""},
                xAxis: [{title: {text: ""}, categories: b, lineColor: e, tickColor: e}, {
                    title: {text: ""},
                    opposite: !0,
                    categories: b,
                    lineColor: e,
                    tickColor: e
                }],
                plotOptions: {line: {enabled: !0}},
                yAxis: [{
                    title: {text: ""},
                    lineWidth: 0,
                    minTickInterval: 1,
                    lineColor: e,
                    gridLineColor: g,
                    minRange: 4,
                    min: 0,
                    floor: 0
                }, {
                    title: {text: ""},
                    lineWidth: 0,
                    minTickInterval: 1,
                    opposite: !0,
                    lineColor: e,
                    gridLineColor: g,
                    minRange: 4,
                    min: 0,
                    floor: 0
                }],
                series: [{data: c, name: f.instant("graph.pulse_completed"), animation: !1}, {
                    data: d,
                    name: f.instant("graph.pulse_newly"),
                    animation: !1
                }],
                colors: [kzi.constant.graph_color.done, kzi.constant.graph_color.addnew]
            };
            0 != $("#pulse_weekly_graph").length && (new Highcharts.Chart(h), i())
        }, m = function () {
            a.pulse_end > moment() ? k.disable_pulse_next = !0 : k.disable_pulse_next = !1, k.pulse_graph_date = a.pulse_start.format("YYYY.MM.DD") + " - " + a.pulse_end.format("MM.DD"), wt.data.graph.get_pulse(k.pid, a.pulse_start.valueOf(), a.pulse_end.valueOf(), function (b) {
                a.weekly_overview = b.data.overview, l(b.data.weekly)
            })
        };
        a.js_to_pulse = function () {
            a.pulse_start = moment().startOf("week").add(-1, "day"), a.pulse_end = moment().endOf("week").add(-1, "day"), m()
        }, k.to_pulse_next_week = function () {
            a.pulse_end > moment() || k.part_loading_done && (a.pulse_start = a.pulse_start.add(7, "days"), a.pulse_end = a.pulse_end.add(7, "days"), m())
        }, k.to_pulse_prev_week = function () {
            k.part_loading_done && (a.pulse_start = a.pulse_start.add(-7, "days"), a.pulse_end = a.pulse_end.add(-7, "days"), m())
        }, d.$on("changeGraphTypeEvent", function () {
            j()
        }, a), j(), a.$on(kzi.constant.event_names.on_task_update, function (a, b) {
        }), a.$on(kzi.constant.event_names.on_task_trash, function (a, b) {
        }), a.$on(kzi.constant.event_names.on_task_complete, function (a, b) {
        }), a.$on(kzi.constant.event_names.show_project_sidebar, function (a) {
            i(200)
        })
    }

    angular.module("wt.project.ctrl").controller("projectGraphToolbarCtrl", a).controller("projectGraphCtrl", b), a.$injecto = [], b.$inject = ["$scope", "$stateParams", "$rootScope", "bus", "$timeout", "$translate", "cutstrFilter", "ycTrack"]
}(), function () {
    "use strict";
    function a() {
        var a = this;
        this.view_type = "", this.sort = "", this.filter_type = 0, this.set_view_type = function (a) {
            this.view_type = a, kzi.localData.set("files_view_type", a)
        }, this.set_sort = function (a) {
            this.sort !== a && (this.sort = a, kzi.localData.set("files_sort_type", a))
        }, this.init = function () {
            this.filter_type = 0;
            var b = kzi.localData.get("files_view_type");
            "list" === b ? a.view_type = "list" : a.view_type = "icon";
            var c = kzi.localData.get("files_sort_type");
            c ? a.sort = c : a.sort = "default"
        }
    }

    function b(a, b, c, d, e, f, g, h, i) {
        i.track("project_file", "visit");
        var j = a.vm = {
            part_loading_done: !1,
            has_more: !1,
            pid: b.pid,
            folder_id: b.folder_id || "",
            page: 1,
            folders: [],
            files: [],
            files_filter: g
        }, k = {default: 0, name: 1, create_date: 2, update_date: 3, undefined: 0};
        a.files_filter = g, c.global.loading_done = !0, c.global.title = [h.instant("file.title_name"), " | ", a.project.name].join("");
        var l = function () {
            j.part_loading_done = !1, wt.data.file.get_list(j.pid, j.folder_id, j.page, k[g.sort], g.filter_type, function (a) {
                j.folders = a.data.folders, j.folders.length > 0 && (c.global.title = [h.instant("file.title_name"), " | ", j.folders[j.folders.length - 1].name].join("")), _.each(a.data.files, function (a) {
                    a.icon = kzi.helper.build_file_icon(a)
                }), j.has_more = !1, a.data.files.length >= kzi.config.default_count && (j.has_more = !0), _.isEmpty(j.files) ? j.files = a.data.files : j.files = j.files.concat(a.data.files), j.part_loading_done = !0
            })
        }, m = function (a, b) {
            wt.data.file.move(j.pid, a.fid, a.folder_id, b.fid, function () {
                a.folder_id = b.fid, j.files = _.reject(j.files, function (b) {
                    return b.fid === a.fid
                })
            })
        }, n = function (a) {
            j.files = _.reject(j.files, function (b) {
                return b.fid === a.fid || b.folder_id === a.fid
            })
        };
        l(), j.js_files_select = function (b) {
            var c = [];
            _.forEach(b, function (b) {
                c.push({
                    original: b,
                    data: {target: "prj", type: "project", pid: a.project.pid, folder_id: j.folder_id}
                })
            }), d.addFiles(a.project.pid, c, function (a, b) {
                b && b.file && (i.track("add_file", "done", "-"), j.files.unshift(b.file))
            })
        }, e.$on("setFilesFilterTypeEvent", function () {
            j.page = 1, j.files = [], l()
        }, a), e.$on("setFilesSortTypeEvent", function () {
            j.page = 1, j.files = [], l()
        }, a), e.$on("selectFileUploadEvent", function (a) {
            j.js_files_select(a)
        }, a), e.$on("showAddFolderPopEvent", function (b) {
            f.popbox({
                target: b,
                templateUrl: "/tpl/project/file/pop_add_folder.html",
                controller: ["$scope", "popbox", "pop_data", function (a, b, c) {
                    a.popbox = b;
                    var d = a.vm = {
                        pid: c.scope.vm.pid,
                        folder_id: c.scope.vm.folder_id,
                        folder_icons: kzi.constant.get_folder_icons,
                        name: "",
                        ext: 0,
                        dropmenu_isopen: !1,
                        is_save_ing: !1
                    };
                    d.js_close = function () {
                        b.close()
                    }, d.js_add_folder = function (a, e, f) {
                        _.isEmpty(e) || (d.save_ing = !0, wt.data.file.add_folder(d.pid, e, f, d.folder_id, function (a) {
                            i.track("add_folder", "done", ""), a.data.icon = kzi.helper.build_file_icon(a.data), c.scope.vm.files.unshift(a.data), b.close()
                        }, function () {
                            kzi.msg.error(h.instant("file.add_folder_fail"))
                        }, function () {
                            d.save_ing = !1
                        }))
                    }, d.js_set_folder_icon = function (a) {
                        d.ext = a.ext, d.dropmenu_isopen = !1
                    }
                }],
                resolve: {
                    pop_data: function () {
                        return {scope: a}
                    }
                }
            }).open()
        }, a), j.load_more_files = function () {
            j.page++, l()
        }, j.js_show_menu = function (b, c, e, g) {
            b.stopPropagation(),
                1 === c.type ? f.popbox({
                    target: b,
                    top: e,
                    left: g,
                    templateUrl: "/tpl/project/file/pop_folder_menu.html",
                    controller: ["$scope", "popbox", "pop_data", "$translate", function (a, b, d, e) {
                        var f = a.vm = {pid: d.scope.project.pid};
                        a.project = d.scope.project, a.popbox = b, a.folder = c, a.folder_name = c.name, a.folder_icons = kzi.constant.get_folder_icons, a.data = {}, a.data.selected_move_to_node = "", wt.data.file.get_folders(f.pid, function (b) {
                            a.folder_structure = {}, a.folder_structure.name = e.instant("file.rootdir"), a.folder_structure.fid = "", a.folder_structure.children = b.data
                        }, function () {
                            kzi.msg.error(e.instant("file.read_dir_err"))
                        }, function () {
                        }), f.js_step = function (b) {
                            a.step = b
                        }, f.js_close = function () {
                            b.close()
                        }, f.js_change_name = function (d, e) {
                            wt.data.file.update(f.pid, c.fid, e, "", function () {
                            }, null, function () {
                                a.is_save_ing = !1
                            }), c.name = e, b.close()
                        }, f.js_set_folder_icon = function (b) {
                            wt.data.file.update_ext(f.pid, c.fid, b.ext, function () {
                            }), a.folder.ext = b.ext, a.folder.icon = b.path
                        }, f.js_del_folder = function () {
                            d.remove_file_and_refresh(c), wt.data.file.trash(f.pid, c.fid, function () {
                            }), b.close()
                        }, f.js_move = function () {
                            return _.isEmpty(a.data.selected_move_to_node) ? void b.close() : c.folder_id === a.data.selected_move_to_node.fid ? void b.close() : (m(c, a.data.selected_move_to_node), void b.close())
                        }
                    }],
                    resolve: {
                        pop_data: function () {
                            return {scope: a, remove_file_and_refresh: n}
                        }
                    }
                }).open() : f.popbox({
                    target: b,
                    top: e,
                    left: g,
                    templateUrl: "/tpl/project/file/pop_file_menu.html",
                    controller: ["$scope", "popbox", "pop_data", function (a, b, e) {
                        var f = a.vm = {team_id: e.scope.project.team_id, pid: e.scope.vm.pid, file: c};
                        a.project = e.scope.project, a.popbox = b, a.data = {}, a.data.selected_move_to_node = "", wt.data.file.get_folders(a.project.pid, function (b) {
                            a.folder_structure = {}, a.folder_structure.name = h.instant("file.rootdir"), a.folder_structure.fid = "", a.folder_structure.children = b.data
                        }, function () {
                            kzi.msg.error(h.instant("file.read_dir_err"))
                        }, function () {
                        }), f.js_step = function (b) {
                            a.step = b
                        }, f.js_close = function () {
                            b.close()
                        }, f.js_del_file_success_done = function (b) {
                            e.remove_file_and_refresh(b), a.js_close()
                        }, f.js_files_select = function (b) {
                            var e = [];
                            _.forEach(b, function (a) {
                                e.push({
                                    original: a,
                                    data: {target: "prj", type: "file", pid: f.file.pid, fid: f.file.fid}
                                })
                            }), d.addFiles(a.project.pid, e, function (a, b) {
                                b && b.file && "file" === b.type && c.fid === b.file.formData.fid && (c.icon = b.file.icon, c.path = b.file.path, c.size = b.file.size, c.update_date = b.file.update_date, c.update_user = b.file.update_user, c.dt = (new Date).getTime())
                            }), a.js_close()
                        }, f.js_toggle_watch = function (a, b, c) {
                            wt.bus.watch.set_watcher_toggle(f.pid, c, kzi.constant.xtype.file, c.fid, b)
                        }, f.js_watch_all = function (a, c, d) {
                            wt.bus.watch.watch_all(f.pid, d, kzi.constant.xtype.file, d.fid, c, null, null, function () {
                            }), b.close()
                        }, f.js_move = function () {
                            return _.isEmpty(a.data.selected_move_to_node) ? void b.close() : c.folder_id === a.data.selected_move_to_node.fid ? void b.close() : (m(c, a.data.selected_move_to_node), void b.close())
                        }
                    }],
                    resolve: {
                        pop_data: function () {
                            return {scope: a, remove_file_and_refresh: n}
                        }
                    }
                }).open()
        }, j.set_view_type = function (a) {
            g.set_view_type(a)
        }, j.set_sort = function (a) {
            g.set_sort(a), e.$execute("setFilesSortTypeEvent", null)
        }, a.file_draggable_options = {
            accept: ".js-dragdropable",
            hoverClass: "file-state-on-draggable",
            containment: ".centerpanel",
            helper: "clone",
            opacity: .85,
            zIndex: 2e3,
            delay: 300,
            start: function (a, b) {
                b.helper.addClass("file-state-on-draggable")
            },
            stop: function (a, b) {
            },
            drag: function (a, b) {
            }
        }, a.folder_droppable_options = {
            accept: ".js-dragdropable", over: function (a, b) {
                var c = $(a.target).attr("file-type");
                "1" !== c || $(a.target).hasClass("folder-state-file-over") || $(a.target).addClass("folder-state-file-over")
            }, out: function (a, b) {
                $(a.target).removeClass("folder-state-file-over")
            }, drop: function (b, c) {
                var d = $(b.target).attr("file-type");
                c.draggable.attr("file-type"), $(b.target).attr("file-id"), c.draggable.attr("file-id");
                if ("0" !== d) {
                    var e = $(b.target).attr("file-id"), f = c.helper.attr("file-id");
                    _.isEmpty(e) || _.isEmpty(f) || (a.$apply(function () {
                        var a = _.find(j.files, {fid: f}), b = _.find(j.files, {fid: e});
                        m(a, b)
                    }), $(b.target).removeClass("folder-state-file-over"))
                }
            }
        }, a.$on(kzi.constant.event_names.on_pastefile_to_folder, function (a, b) {
            j.js_files_select(b)
        }), a.$on(kzi.constant.event_names.on_file_trash, function (a, b) {
            b && (j.files = _.reject(j.files, function (a) {
                return a.fid === b.fid
            }))
        }), a.$on(kzi.constant.event_names.on_file_move, function (a, b) {
            b && (j.files = _.reject(j.files, function (a) {
                return a.fid === b.fid
            }))
        }), a.$on(kzi.constant.event_names.on_file_update, function (a, b) {
            if (b) {
                var c = _.find(j.files, {fid: b.fid});
                c.name = b.name, c.desc = b.desc
            }
        }), a.$on(kzi.constant.event_names.on_right_menu, function (b, d) {
            var e = kzi.helper.mouse_position(d), f = null, g = "file-item-mark";
            if ($(d.target).hasClass(g))f = $(d.target).attr("file-id"); else {
                if (!($(d.target).parents("." + g).length > 0))return;
                f = $(d.target).parents("." + g).attr("file-id")
            }
            if (f) {
                var h = _.find(j.files, {fid: f});
                h && (h.type === kzi.constant.file_type.file && c.global.prj_module.watch & a.project.permission ? j.js_show_menu(d, h, e.y, e.x) : c.global.prj_module.crud & a.project.permission && j.js_show_menu(d, h, e.y, e.x))
            }
        }), a.$on(kzi.constant.event_names.on_uploadfile_add, function (a, b) {
            j.files.push(b.file)
        })
    }

    function c(a, b, c, d) {
        var e = b.folder_id, f = b.fid;
        d.openFile(b.pid, f), a.$on(kzi.constant.event_names.on_slide_hide, function () {
            e ? c.path("/project/" + b.pid + "/folder/" + e) : c.path("/project/" + b.pid + "/file")
        })
    }

    function d(a, b, c, d) {
        var e = a.vm = {files_filter: c};
        e.set_filter_type = function (a) {
            c.filter_type = a, b.$execute("setFilesFilterTypeEvent", null)
        }, e.show_add_folder_pop = function (a) {
            b.$execute("showAddFolderPopEvent", a)
        }, e.file_select = function (a) {
            b.$execute("selectFileUploadEvent", a)
        }, e.js_add_file = function () {
            d.showAdd()
        }, e.js_trigger_upload = function (a) {
            $(a.target).parents(".btn-group").eq(0).find(".btn--fancy").eq(0).click()
        }, c.init()
    }

    angular.module("wt.file.ctrl", []).service("filesFilterData", a).controller("projectFilesCtrl", b).controller("projectFileDetailCtrl", c).controller("projectFilesToolbarCtrl", d), b.$inject = ["$scope", "$stateParams", "$rootScope", "$wtUploadFile", "bus", "$popbox", "filesFilterData", "$translate", "ycTrack"], c.$inject = ["$scope", "$stateParams", "$location", "locator"], d.$inject = ["$scope", "bus", "filesFilterData", "fileService"]
}(), function () {
    "use strict";
    function a() {
        var a = this;
        this.view_type = "", this.sort = "", this.filter_type = 0, this.set_view_type = function (a) {
            this.view_type = a, kzi.localData.set("pages_view_type", a)
        }, this.set_sort = function (a) {
            this.sort !== a && (this.sort = a, kzi.localData.set("pages_sort_type", a))
        }, this.init = function () {
            this.filter_type = 0;
            var b = kzi.localData.get("pages_view_type");
            b ? a.view_type = b : a.view_type = "tree";
            var c = kzi.localData.get("pages_sort_type");
            c ? a.sort = c : a.sort = "default"
        }
    }

    function b(a, b) {
        var c = a.vm = {cached_pages: []};
        c.load_all_pages = function (a, b, d, e) {
            return _.isEmpty(c.cached_pages) ? void wt.data.page.get_all(a, function (a) {
                c.cached_pages = a.data, b()
            }, d, e) : (b(), void(e && e()))
        }, a.$on(kzi.constant.event_names.on_page_trash, function (a, b) {
            _.isEmpty(b) || (c.cached_pages = _.reject(c.cached_pages, function (a) {
                return a.page_id === b.page_id
            }))
        }), a.$on(kzi.constant.event_names.on_page_update, function (a, b) {
            _.isEmpty(b) || _.each(c.cached_pages, function (a) {
                if (a.page_id == b.page.page_id)return _.assign(a, b.page), !0
            })
        }), a.$on(kzi.constant.event_names.page_updated_by_editor, function (a, b) {
            _.isEmpty(b) || _.each(c.cached_pages, function (a) {
                if (a.page_id == b.page.page_id)return _.assign(a, b.page), !0
            })
        }), a.$on(kzi.constant.event_names.page_created_by_editor, function (a, b) {
            c.cached_pages.push(b)
        })
    }

    function c(a, b, c, d) {
        d.openPage(b.pid, b.page_id), a.$on(kzi.constant.event_names.on_slide_hide, function () {
            c.path("/project/" + b.pid + "/page")
        })
    }

    function d(a, b, c, d) {
        var e = a.vm = {pages_filter: b};
        b.init(), e.set_filter_type = function (a) {
            b.filter_type !== a && (b.filter_type = a, c.$execute("pagesFilterTypeChangeEvent"))
        }, e.show_add_subpage_pop = function (a) {
            c.$execute("pagesShowAddSubPagePopEvent", a)
        }, e.js_add_shimo_modal = function (a) {
            d.showAdd()
        }
    }

    function e(a, b, c, d, e, f, g, h) {
        function i(a) {
            wt.data.page.del_shimo_file(j.pid, a.page_id, function (a) {
                m(a.data.page_id)
            })
        }

        h.track("project_page", "visit");
        var j = a.vm = {
            pages: [],
            pages_filter: e,
            pid: b.pid,
            part_loading_done: !1
        }, k = a.parent_vm = a.$parent.vm, l = function () {
            "tree" === e.view_type ? (j.pages = _.where(k.cached_pages, {parent_id: ""}), _.each(j.pages, function (a) {
                var b = [], c = _.where(k.cached_pages, {parent_id: a.page_id});
                _.each(c, function (a) {
                    b.push(a)
                }), a.sub_pages = _.sortBy(b, function (a) {
                    return a.create_date
                })
            })) : j.pages = k.cached_pages, "default" === e.sort ? (_.each(j.pages, function (a) {
                a.sub_pages && a.sub_pages.length > 1 && (a.sub_pages = _.sortBy(a.sub_pages, "name"))
            }), j.pages = _.sortBy(j.pages, "name")) : "create_date" === e.sort ? (_.each(j.pages, function (a) {
                a.sub_pages && a.sub_pages.length > 1 && (a.sub_pages = _.sortBy(a.sub_pages, "create_date").reverse())
            }), j.pages = _.sortBy(j.pages, "create_date").reverse()) : "update_date" === e.sort && (_.each(j.pages, function (a) {
                a.sub_pages && a.sub_pages.length > 1 && (a.sub_pages = _.sortBy(a.sub_pages, "update_date").reverse())
            }), j.pages = _.sortBy(j.pages, "update_date").reverse())
        }, m = function (a) {
            k.cached_pages = _.reject(k.cached_pages, function (b) {
                return b.page_id === a
            }), l()
        }, n = function () {
            j.part_loading_done = !1, c.global.title = [g.instant("page.title_name"), " | ", a.project.name].join(""), k.load_all_pages(j.pid, function () {
                l()
            }, null, function () {
                j.part_loading_done = !0
            })
        };
        f.$on("pagesViewTypeChangeEvent", function () {
            l()
        }, a), f.$on("pagesFilterTypeChangeEvent", function () {
            switch (e.filter_type) {
                case 0:
                    _.each(k.cached_pages, function (a) {
                        a.is_hide = !1
                    });
                    break;
                case 1:
                    _.each(k.cached_pages, function (a) {
                        a.owner.uid === c.global.me.uid ? a.is_hide = !1 : a.is_hide = !0
                    });
                    break;
                case 2:
                    _.each(k.cached_pages, function (a) {
                        var b = _.find(a.watchers, {uid: c.global.me.uid});
                        b ? a.is_hide = !1 : a.is_hide = !0
                    })
            }
        }, a), f.$on("setPagesSortTypeEvent", function () {
            j.pages = [], l()
        }, a), f.$on("pagesShowAddSubPagePopEvent", function (b) {
            b.stopPropagation(), d.popbox({
                target: b,
                templateUrl: "/tpl/project/page/pop_parents_page.html",
                controller: ["$scope", "popbox", "pop_data", function (a, b, c) {
                    a.popbox = b;
                    var d = a.vm = {
                        pid: c.scope.vm.pid,
                        pages: _.where(c.scope.parent_vm.cached_pages, {parent_id: ""})
                    };
                    d.js_close = function () {
                        b.close()
                    }
                }],
                resolve: {
                    pop_data: function () {
                        return {scope: a}
                    }
                }
            }).open()
        }, a), j.js_show_menu = function (b, c, e, f) {
            b.stopPropagation(), d.popbox({
                target: b,
                top: e,
                left: f,
                templateUrl: "/tpl/project/page/pop_page_action.html",
                controller: ["$scope", "popbox", "pop_data", "$rootScope", function (a, b, d, e) {
                    function f() {
                        a.popbox = b, a.project = d.scope.project, a.step = 0, "worktile" === g.page_type && (g.edit_url = "/project/" + g.pid + "/page/" + c.page_id + "/edit"), "shimo" === g.page_type && (g.edit_url = c.join_url)
                    }

                    var g = a.vm = {
                        pid: d.scope.vm.pid,
                        page_type: c.join_type == kzi.constant.page_extend.shimo ? "shimo" : "worktile",
                        show_sub_menu: !1,
                        edit_url: ""
                    };
                    f(), g.js_step = a.js_step = function (b) {
                        a.step = b
                    }, a.page = c, "" === c.parent_id && (g.show_sub_menu = !0), g.js_delete_page = function (b) {
                        "shimo" === g.page_type ? (i(b), g.js_close()) : (a.is_deleting = !0, wt.data.page.trash(g.pid, b.page_id, function (c) {
                            a.is_deleting = !1, e.$broadcast(kzi.constant.event_names.autosave_cancel, {key: "autosave:page:uid_" + e.global.me.uid + ":xid_" + b.page_id}), g.js_close(), m(b.page_id)
                        }))
                    }, g.js_toggle_watch = function (a, b, c) {
                        wt.bus.watch.set_watcher_toggle(g.pid, c, kzi.constant.xtype.page, c.page_id, b)
                    }, g.js_watch_all = function (a, c, d) {
                        wt.bus.watch.watch_all(g.pid, d, kzi.constant.xtype.page, d.page_id, c, null, null, function () {
                        }), b.close()
                    }, g.js_close = a.js_close = function () {
                        b.close()
                    }
                }],
                resolve: {
                    pop_data: function () {
                        return {scope: a}
                    }
                }
            }).open()
        }, j.set_view_type = function (a) {
            e.view_type !== a && (e.set_view_type(a), f.$execute("pagesViewTypeChangeEvent"))
        }, j.set_sort = function (a) {
            e.set_sort(a), f.$execute("setPagesSortTypeEvent", null)
        }, a.$on(kzi.constant.event_names.on_page_trash, function (a, b) {
            _.isEmpty(b) || m(b)
        }), a.$on(kzi.constant.event_names.on_right_menu, function (b, d) {
            if (c.global.prj_module.watch & a.project.permission) {
                var e = kzi.helper.mouse_position(d), f = null, g = "page-item-mark";
                if ($(d.target).hasClass(g))f = $(d.target).attr("page-id"); else {
                    if (!($(d.target).parents("." + g).length > 0))return;
                    f = $(d.target).parents("." + g).attr("page-id")
                }
                if (f) {
                    var h = _.find(k.cached_pages, {page_id: f});
                    h && j.js_show_menu(d, h, e.y, e.x)
                }
            }
        }), a.$on(kzi.constant.event_names.on_page_add, function (a, b) {
            k.cached_pages.push(b), l()
        }), n()
    }

    angular.module("wt.page.ctrl", []).service("pagesFilterData", a).controller("projectPagesHomeCtrl", b).controller("pagesDetailCtrl", c).controller("projectPagesToolbarCtrl", d).controller("projectPagesCtrl", e), a.$inject = [], b.$inject = ["$scope", "ycTrack"], c.$inject = ["$scope", "$stateParams", "$location", "locator"], d.$inject = ["$scope", "pagesFilterData", "bus", "shimoService"], e.$inject = ["$scope", "$stateParams", "$rootScope", "$popbox", "pagesFilterData", "bus", "$translate", "ycTrack"]
}(), function () {
    "use strict";
    function a() {
        var a = this;
        this.sort = "", this.filter_type = 0, this.set_sort = function (a) {
            this.sort !== a && (this.sort = a, kzi.localData.set("posts_sort_type", a))
        };
        var b = function () {
            a.filter_type = 0;
            var b = kzi.localData.get("posts_sort_type");
            b ? a.sort = b : a.sort = "last_reply_date"
        };
        this.init = b
    }

    function b(a, b, c) {
        var d = a.vm = {posts_filter: b};
        b.init(), d.set_sort = function (a) {
            b.set_sort(a), c.$execute("postsSortOrFilterChangeEvent")
        }, d.set_filter_type = function (a) {
            b.filter_type = a, c.$execute("postsSortOrFilterChangeEvent")
        }, d.show_add_post = function () {
            c.$execute("postsShowAddPostEvent")
        }
    }

    function c(a, b, c, d, e, f, g, h, i, j, k) {
        function l(a) {
            n.part_loading_done = !1, b.set_pop_watcher_options(), wt.data.post.get_list(n.pid, o, kzi.config.default_count, g.sort, 1, g.filter_type, function (b) {
                b.data.length > 0 && (o = b.data[b.data.length - 1][g.sort]), _.isEmpty(n.posts) ? n.posts = b.data : n.posts = n.posts.concat(b.data), _.each(n.posts, function (a) {
                    null == a.last_reply_user && (a.last_reply_date = 0)
                }), n.posts = _.sortByOrder(n.posts, ["is_top", g.sort], ["desc", "desc"]), b.data.length === kzi.config.default_count ? n.has_more = !0 : n.has_more = !1, angular.isFunction(a) && a(b.data)
            }, null, function () {
                n.part_loading_done = !0
            })
        }

        k.track("project_post", "visit");
        var m = _.clone(a.global.me);
        m.watched = !0;
        var n = b.vm = {
            posts_filter: g,
            pid: c.pid,
            part_loading_done: !1,
            show_add_post: !1,
            is_saving: !1,
            edit_post: {name: "", content: "", watchers: [m]},
            posts: []
        }, o = 0;
        a.global.loading_done = !0, h.$on("postsShowAddPostEvent", function () {
            n.show_add_post = !n.show_add_post, n.edit_post.post_id = ""
        }, b), h.$on("postsSortOrFilterChangeEvent", function () {
            o = 0, n.posts = [], l()
        }, b), n.set_sort = function (a) {
            g.set_sort(a), h.$execute("postsSortOrFilterChangeEvent")
        }, n.js_cancel_edit_post = function () {
            n.show_add_post = !1, n.edit_post.name = "", n.edit_post.content = "", n.edit_post.watchers = [m]
        }, n.js_remove_watcher = function (a, b) {
            n.edit_post.watchers = _.reject(n.edit_post.watchers, function (a) {
                return a.uid === b.uid
            })
        }, n.js_save_post = function (a) {
            if (n.edit_post.name = n.edit_post.name.trim(), _.isEmpty(n.edit_post.name))return void kzi.msg.error(j.instant("post.err_name_require"));
            n.is_saving = !0;
            var b = _.map(n.edit_post.watchers, "uid");
            wt.data.post.add(n.pid, n.edit_post.name, n.edit_post.content, b, function (a) {
                k.track("add_post", "done"), n.is_saving = !1, n.posts.unshift(a.data), n.js_cancel_edit_post()
            }, function (a) {
                switch (1 * a.code) {
                    case 9011:
                        kzi.msg.error(j.instant("post.name_too_large"));
                        break;
                    case 9012:
                        kzi.msg.error(j.instant("post.content_too_large"));
                        break;
                    default:
                        kzi.msg.error(j.instant("post.add_fail"))
                }
            }, function () {
                n.is_saving = !1
            })
        }, b.js_show_post_menu = function (c, e, f, g) {
            c.stopPropagation(), d.popbox({
                target: c,
                top: f,
                left: g,
                templateUrl: "/tpl/project/post/pop_post_action.html",
                controller: ["$scope", "popbox", "pop_data", function (b, c, d) {
                    var f = b.vm = {step: 0, is_deleting: !1, edit_post: e};
                    b.popbox = c, b.project = d.scope.project, f.js_step = function (a) {
                        f.step = a
                    }, a.global.me.watched = _.map(f.edit_post.watchers, "uid").indexOf(a.global.me.uid) >= 0, f.js_toggle_top = function (b) {
                        wt.data.post.toggle_top(b.pid, b.post_id, function (c) {
                            b.is_top = c.data.is_top, b.update_date = c.data.update_date, d.parent_vm.posts = _.sortByOrder(d.parent_vm.posts, ["is_top", "update_date"], ["desc", "asc"]), a.$broadcast(kzi.constant.event_names.on_post_toggle_top, {
                                post_id: b.post_id,
                                is_top: b.is_top,
                                update_date: b.update_date
                            }), f.js_close()
                        })
                    }, f.js_toggle_watch = function (a, b, c) {
                        wt.bus.watch.set_watcher_toggle(c.pid, c, kzi.constant.xtype.post, c.post_id, b)
                    }, f.js_watch_all = function (a, b, d, e) {
                        wt.bus.watch.watch_all(d.pid, d, kzi.constant.xtype.post, d.post_id, b, null, null, e), c.close()
                    }, f.js_delete_post = function (a) {
                        f.is_deleting = !0, wt.data.post.trash(a.pid, a.post_id, function (b) {
                            f.is_deleting = !1, f.js_close(), d.parent_vm.posts = _.reject(d.parent_vm.posts, function (b) {
                                return b.post_id === a.post_id
                            })
                        })
                    }, f.js_close = function () {
                        c.close()
                    }
                }],
                resolve: {
                    pop_data: function () {
                        return {scope: b, parent_vm: n}
                    }
                }
            }).open()
        }, b.set_pop_watcher_options = function () {
            a.global.prj_module.watch & b.project.permission && (b.pop_watcher_options = {
                name: j.instant("post.unwatch"),
                ongoing: j.instant("post.unwatching"),
                click: function (a, b, c, d) {
                    c.watched = !0, wt.bus.watch.set_watcher_toggle(n.pid, n.edit_post, kzi.constant.xtype.post, null, c), d()
                }
            })
        }, n.js_toggle_watch = function (a, b, c) {
            wt.bus.watch.set_watcher_toggle(n.pid, c, kzi.constant.xtype.post, null, b)
        }, n.js_watch_all = function (a, b, c, d) {
            wt.bus.watch.watch_all(n.pid, c, kzi.constant.xtype.post, null, b, null, null, d)
        }, a.global.title = [j.instant("post.title_name"), " | ", b.project.name].join(""), b.js_load_more = function () {
            l()
        }, b.show_post_entity = function (a, b) {
            f.path("/project/" + a + "/post/" + b)
        }, l(), b.$on(kzi.constant.event_names.on_post_comment, function (a, b) {
            if (!_.isEmpty(b)) {
                var c = _.find(n.posts, {post_id: b.post_id});
                c && (c.comment_count++, c.last_reply_user = b.last_reply_user, c.last_reply_date = b.last_reply_date)
            }
        }), b.$on(kzi.constant.event_names.on_post_trash, function (a, b) {
            _.isEmpty(b) || (n.posts = _.reject(n.posts, function (a) {
                return a.post_id === b.post_id
            }))
        }), b.$on(kzi.constant.event_names.on_post_toggle_top, function (a, b) {
            if (!_.isEmpty(b)) {
                var c = _.find(n.posts, {post_id: b.post_id});
                c.is_top = b.is_top, c.update_date = b.update_date, n.posts = _.sortByOrder(n.posts, ["is_top", "update_date"], ["desc", "asc"])
            }
        }), b.$on(kzi.constant.event_names.on_post_update, function (a, b) {
            if (!_.isEmpty(b)) {
                var c = _.find(n.posts, {post_id: b.post_id});
                c && (c.name = b.name, c.summary = kzi.helper.substr(b.content, 60))
            }
        }), b.$on(kzi.constant.event_names.on_right_menu, function (c, d) {
            if (a.global.prj_module.watch & b.project.permission) {
                var e = kzi.helper.mouse_position(d), f = null, g = "post-item";
                if ($(d.target).hasClass(g))f = $(d.target).attr("post-id"); else {
                    if (!($(d.target).parents("." + g).length > 0))return;
                    f = $(d.target).parents("." + g).attr("post-id")
                }
                if (f) {
                    var h = _.find(n.posts, {post_id: f});
                    h && b.js_show_post_menu(d, h, e.y, e.x)
                }
            }
        }), b.$on(kzi.constant.event_names.shortcut_key_to_cancel, function () {
            /\/project\/.*\/post$/.test(location.pathname) && !i.isOpened && !wt.bus.mkEditor.checkClose()
        }), b.$on(kzi.constant.event_names.post_created_by_editor, function (a, b) {
            n.posts.unshift(b)
        }), b.$on(kzi.constant.event_names.post_updated_by_editor, function (a, b) {
            var c = _.find(n.posts, function (a) {
                return a.post_id === b.post_id
            });
            c && (c.name = b.name, c.content = b.content)
        }), b.$on(kzi.constant.event_names.on_file_add, function (a, b) {
            if (b && "post" === b.type && n.pid === b.file.pid) {
                var c = _.find(n.posts, {post_id: b.ext.post_id});
                c && c.post_id === b.ext.post_id && (_.isArray(c.files) ? c.files.push(b.file) : c.files = [b.file], c.attachments_count = c.files.length)
            }
        }), b.$on(kzi.constant.event_names.on_uploadfile_add_to_post, function (a, b) {
            var c = b.post_id, d = b.files || [1], e = _.find(n.posts, {post_id: c});
            e.attachments_count ? e.attachments_count = 1 * e.attachments_count + 1 * d.length : e.attachments_count = d.length
        }), b.$on(kzi.constant.event_names.on_uploadfile_del_to_post, function (a, b) {
            var c = b.post_id, d = _.find(n.posts, {post_id: c});
            d.attachments_count || 1 * d.attachments_count > 1 ? d.attachments_count = d.attachments_count - 1 : d.attachments_count = 0
        })
    }

    function d(a, b, c, d) {
        d.openPost(b.pid, b.post_id), a.$on(kzi.constant.event_names.on_slide_hide, function () {
            c.path("/project/" + b.pid + "/post")
        })
    }

    angular.module("wt.project.ctrl").service("postsFilterData", a).controller("projectPostsCtrl", c).controller("projectPostsToolbarCtrl", b).controller("projectPostDetailCtrl", d), b.$inject = ["$scope", "postsFilterData", "bus"], c.$inject = ["$rootScope", "$scope", "$stateParams", "$popbox", "$timeout", "$location", "postsFilterData", "bus", "locator", "$translate", "ycTrack"], d.$inject = ["$scope", "$stateParams", "$location", "locator"]
}(), function () {
    "use strict";
    function a(a, b, c, d, e, f, g) {
        var h = a.vm = {pid: b.pid, wtobjs: [], cached_wtobjs: []};
        a.filter_type = 0, a.filter_type_text = g.instant("project_trash.filter_all"), a.part_loading_done = !1, a.filter_is_open = !0;
        var i = function () {
            return c.global.prj_module.crud & a.project.permission ? void wt.data.project.get_trash(h.pid, function (b) {
                c.global.title = g.instant("project_trash.title_name"), c.global.loading_done = !0, h.wtobjs = b.data, h.cached_wtobjs = b.data, a.part_loading_done = !0
            }) : void e.path("/project/" + a.project.pid)
        };
        i(), h.js_filter = function (b) {
            0 === b ? (h.wtobjs = h.cached_wtobjs, a.filter_type = 0, a.filter_type_text = g.instant("project_trash.filter_all")) : 1 === b ? (h.wtobjs = _.filter(h.cached_wtobjs, function (a) {
                return "task" === a.entity.etype || "entry" === a.entity.etype
            }), a.filter_type = 1, a.filter_type_text = g.instant("project_trash.filter_task")) : 2 === b ? (h.wtobjs = _.filter(h.cached_wtobjs, function (a) {
                return "post" === a.entity.etype
            }), a.filter_type = 2, a.filter_type_text = g.instant("project_trash.filter_post")) : 3 === b ? (h.wtobjs = _.filter(h.cached_wtobjs, function (a) {
                return "file" === a.entity.etype || "folder" === a.entity.etype
            }), a.filter_type = 3, a.filter_type_text = g.instant("project_trash.filter_file")) : 4 === b && (h.wtobjs = _.filter(h.cached_wtobjs, function (a) {
                return "page" === a.entity.etype
            }), a.filter_type = 4, a.filter_type_text = g.instant("project_trash.filter_page"))
        }, h.js_show_trash_menu = function (b, c, e, g) {
            d.popbox({
                target: b,
                top: e,
                left: g,
                placement: "bottom",
                templateUrl: "/tpl/project/trash/pop_trash_menu.html",
                controller: ["$scope", "popbox", "pop_data", function (a, b, d) {
                    var e = a.pm = {};
                    a.popbox = b, a.entity = c.entity, a.project = d.scope.project, a.permission = d.scope.permission, a.step = 0, e.js_step = function (b) {
                        a.step = b
                    }, e.js_close = function () {
                        b.close()
                    }, f.loadEntries(h.pid, function (b) {
                        a.entries = b, _.each(a.entries, function (a) {
                            a.selected = 0
                        })
                    }), e.js_restore = function () {
                        if ("entry" === c.entity.etype) {
                            var a = c.entity.eid;
                            wt.data.entry.untrash(h.pid, a, function (b) {
                                f.clearEntries(), d.scope.vm.wtobjs = _.reject(d.scope.vm.wtobjs, function (b) {
                                    return b.entity.eid === a
                                })
                            })
                        } else if ("folder" === c.entity.etype || "file" === c.entity.etype) {
                            var e = c.entity.eid;
                            wt.data.file.untrash(h.pid, e, function (a) {
                                d.scope.vm.wtobjs = _.reject(d.scope.vm.wtobjs, function (a) {
                                    return a.entity.eid === e
                                })
                            })
                        } else if ("post" === c.entity.etype) {
                            var g = c.entity.eid;
                            wt.data.post.untrash(h.pid, g, function (a) {
                                d.scope.vm.wtobjs = _.reject(d.scope.vm.wtobjs, function (a) {
                                    return a.entity.eid === g
                                })
                            })
                        } else if ("page" === c.entity.etype) {
                            var i = c.entity.eid;
                            wt.data.page.untrash(h.pid, i, function (a) {
                                d.scope.vm.wtobjs = _.reject(d.scope.vm.wtobjs, function (a) {
                                    return a.entity.eid === i
                                })
                            })
                        } else if ("event" === c.entity.etype) {
                            var j = c.entity.eid;
                            wt.data.event.untrash(h.pid, j, function (a) {
                                d.scope.vm.wtobjs = _.reject(d.scope.vm.wtobjs, function (a) {
                                    return a.entity.eid === j
                                })
                            })
                        }
                        b.close()
                    }, e.js_restore_task = function (e) {
                        if (_.each(a.entries, function (a) {
                                a.selected = 0
                            }), e.selected = 1, e) {
                            var g = c.entity.eid;
                            wt.data.task.untrash(h.pid, e.entry_id, g, function (a) {
                                f.clearEntries(), d.scope.vm.wtobjs = _.reject(d.scope.vm.wtobjs, function (a) {
                                    return a.entity.eid === g
                                }), h.cached_wtobjs = d.scope.vm.wtobjs
                            }), b.close()
                        }
                    }, e.js_destory = function () {
                        if ("task" === c.entity.etype) {
                            var a = c.entity.eid;
                            wt.data.task.del(h.pid, a, function (b) {
                                d.scope.vm.wtobjs = _.reject(d.scope.vm.wtobjs, function (b) {
                                    return b.entity.eid === a
                                }), h.cached_wtobjs = d.scope.vm.wtobjs
                            })
                        } else if ("entry" === c.entity.etype) {
                            var e = c.entity.eid;
                            wt.data.entry.del(h.pid, e, function (a) {
                                d.scope.vm.wtobjs = _.reject(d.scope.vm.wtobjs, function (a) {
                                    return a.entity.eid === e
                                }), h.cached_wtobjs = d.scope.vm.wtobjs
                            })
                        } else if ("folder" === c.entity.etype || "file" === c.entity.etype) {
                            var f = c.entity.eid;
                            wt.data.file.del(h.pid, f, function (a) {
                                d.scope.vm.wtobjs = _.reject(d.scope.vm.wtobjs, function (a) {
                                    return a.entity.eid == f
                                }), h.cached_wtobjs = d.scope.vm.wtobjs
                            })
                        } else if ("post" === c.entity.etype) {
                            var g = c.entity.eid;
                            wt.data.post.del(h.pid, g, function (a) {
                                d.scope.vm.wtobjs = _.reject(d.scope.vm.wtobjs, function (a) {
                                    return a.entity.eid === g
                                }), h.cached_wtobjs = d.scope.vm.wtobjs
                            })
                        } else if ("page" === c.entity.etype) {
                            var i = c.entity.eid;
                            wt.data.page.del(h.pid, i, function (a) {
                                d.scope.vm.wtobjs = _.reject(d.scope.vm.wtobjs, function (a) {
                                    return a.entity.eid === i
                                }), h.cached_wtobjs = d.scope.vm.wtobjs
                            })
                        } else if ("event" === c.entity.etype) {
                            var j = c.entity.eid;
                            wt.data.event.del(h.pid, j, function (a) {
                                d.scope.vm.wtobjs = _.reject(d.scope.vm.wtobjs, function (a) {
                                    return a.entity.eid === j
                                }), h.cached_wtobjs = d.scope.vm.wtobjs
                            })
                        }
                        b.close()
                    }
                }],
                resolve: {
                    pop_data: function () {
                        return {scope: a}
                    }
                }
            }).open()
        }, h.js_clear_trash = function (b) {
            d.popbox({
                target: b,
                templateUrl: "/tpl/project/trash/pop_empty_trash.html",
                controller: ["$scope", "popbox", "pop_data", function (a, b, d) {
                    a.popbox = b;
                    var e = a.pm = {};
                    e.js_close = function () {
                        b.close()
                    }, e.js_empty_trash = function () {
                        c.global.loading_done = !1, wt.data.project.clear_trash(h.pid, function (a) {
                            c.global.loading_done = !0, d.scope.vm.wtobjs = [], h.cached_wtobjs = []
                        }), b.close()
                    }
                }],
                resolve: {
                    pop_data: function () {
                        return {scope: a}
                    }
                }
            }).open()
        }, a.$on(kzi.constant.event_names.on_right_menu, function (a, b) {
            var c = kzi.helper.mouse_position(b), d = "x-item-mark", e = null;
            if ($(b.target).hasClass(d))e = $(b.target).attr("x-id"); else {
                if (!($(b.target).parents("." + d).length > 0))return;
                e = $(b.target).parents("." + d).attr("x-id")
            }
            if (e) {
                var f = _.find(h.wtobjs, {entity: {eid: e}});
                h.js_show_trash_menu(b, f, c.y, c.x)
            }
        })
    }

    angular.module("wt.project.ctrl").controller("projectTrashCtrl", a), a.$inject = ["$scope", "$stateParams", "$rootScope", "$popbox", "$location", "globalDataContext", "$translate"]
}(), function () {
    "use strict";
    function a() {
        this.detail = {}
    }

    function b(a, b, c, d, e) {
        var f = a.page = c;
        a.deletePageSuccess = function () {
            b.$broadcast(kzi.constant.event_names.on_page_trash, f.detail), d.path("/project/" + f.detail.pid + "/page")
        }
    }

    function c(a, b, c, d, e, f, g) {
        function h() {
            i.autosave_init_done = !1, _.isEmpty(i.page_id) ? (i.page.has_children = !1, i.original_page = angular.copy(i.page), e.detail = i.page, i.autosave_key = "autosave:page:uid_" + a.global.me.uid, i.autosave_init_done = !0) : (i.is_add = !1, wt.data.page.get(i.pid, i.page_id, function (d) {
                i.page = d.data, i.page.has_parent = i.page.parent_id ? 1 : 0, void 0 !== i.page.sub_pages && i.page.sub_pages.length > 0 ? i.page.has_children = !0 : i.page.has_children = !1, e.detail = i.page, i.page.placeholder = f.instant("page_detail.edit_placeholder"), i.page.message = "", i.original_page = angular.copy(i.page), a.global.loading_done = !0, a.global.title = [f.instant("page_detail.title_name_edit"), " | ", i.page.name].join(""), wt.data.page.locked(i.pid, i.page_id), i.autosave_key = "autosave:page:uid_" + a.global.me.uid + ":xid_" + i.page_id, i.autosave_init_done = !0, b.$on(kzi.constant.event_names.shortcut_key_to_cancel, function () {
                    var a = "/project/" + i.pid + "/page";
                    wt.bus.mkEditor.checkClose() || c.path(a)
                })
            })), j.load_all_pages(i.pid, function () {
                i.root_pages = _.filter(j.cached_pages, function (a) {
                    return "" === a.parent_id && a.page_id !== i.page_id
                })
            })
        }

        var i = b.vm = {
            pid: d.pid,
            page_id: d.page_id,
            parent_page_id: d.parent_page_id ? d.parent_page_id : "",
            root_pages: [],
            is_saving: !1,
            is_add: !d.page_id,
            has_children: !0,
            original_page: null,
            autosave_init_done: !1,
            autosave_key: "",
            page: {
                name: "",
                content: "",
                message: "",
                page_type: "worktile",
                parent_id: d.parent_page_id ? d.parent_page_id : "",
                watchers: [a.global.me],
                has_parent: d.parent_page_id ? 1 : 0,
                has_children: !0,
                placeholder: f.instant("page_detail.new_placeholder")
            }
        }, j = b.$parent.vm;
        a.global.loading_done = !1, h(), i.js_toggle_watch = function (a, b, c) {
            wt.bus.watch.set_watcher_toggle(i.pid, c, kzi.constant.xtype.page, c.page_id, b)
        }, i.js_watch_all = function (a, b, c, d) {
            wt.bus.watch.watch_all(i.pid, c, kzi.constant.xtype.page, c.page_id, b, null, null, d)
        }, b.$on("$stateChangeStart", function (a) {
            if (i.save_success !== !0) {
                _.isEmpty(i.page.name) && (i.page.name = ""), _.isEmpty(i.page.content) && (i.page.content = ""), _.isEmpty(i.page.message) && (i.page.message = "");
                var b = !1;
                i.original_page.name === i.page.name && i.original_page.content === i.page.content && i.original_page.message === i.page.message || (b = !0), b && (window.confirm(f.instant("page_detail.confirm_quit")) || a.preventDefault()), wt.data.page.unlocked(i.pid, i.page_id)
            }
        }), i.js_save_page = function (b, d) {
            if (i.page.name = i.page.name.trim(), _.isEmpty(i.page.name))return void kzi.msg.error(f.instant("page_detail.err_name_require"));
            if (!_.isEmpty(i.page) && !b.$invalid) {
                i.page.parent_id = i.page.parent_id ? i.page.parent_id : "", i.is_saving = !0;
                var e = _.map(i.page.watchers, "uid");
                if (i.is_add)i.page.parent_id = null != i.page.parent_id ? i.page.parent_id : "", wt.data.page.add(i.pid, i.page.name, i.page.content, i.page.message, i.page.parent_id, e, function (b) {
                    g.track("add_page", "done", ""), b.data.page_type = "worktile", j.cached_pages.unshift(b.data), kzi.msg.success(f.instant("page_detail.add_success")), a.$broadcast(kzi.constant.event_names.autosave_cancel, {key: i.autosave_key}), d ? (i.is_add = !1, i.page = b.data, i.page.placeholder = f.instant("page_detail.edit_placeholder"), i.page.message = "", i.original_page = angular.copy(i.page), a.global.title = [f.instant("page_detail.title_name_edit"), " | ", i.page.name].join("")) : (i.save_success = !0, c.path("/project/" + i.pid + "/page"))
                }, function (a) {
                    switch (1 * a.code) {
                        case 10012:
                            kzi.msg.error(f.instant("page_detail.name_too_large"));
                            break;
                        case 10013:
                            kzi.msg.error(f.instant("page_detail.content_too_large"));
                            break;
                        default:
                            kzi.msg.error(f.instant("page_detail.add_fail"))
                    }
                }, function () {
                    i.is_saving = !1
                }); else {
                    _.isUndefined(i.page.is_notify) && (i.page.is_notify = !1);
                    var h = 1;
                    d && (h = 0), wt.data.page.update(i.pid, i.page.page_id, i.page.name, i.page.content, i.page.message, i.page.parent_id, i.page.is_notify, h, function (b) {
                        g.track("update_page", "done", ""), _.assign(i.page, b.data), a.$broadcast(kzi.constant.event_names.on_page_update, {page: i.page}), a.$broadcast(kzi.constant.event_names.autosave_cancel, {key: i.autosave_key}), kzi.msg.success(f.instant("page_detail.update_success")), d ? (i.page.message = "", i.original_page = angular.copy(i.page), a.global.title = [f.instant("page_detail.title_name_edit"), " | ", i.page.name].join("")) : (i.save_success = !0, c.path("/project/" + i.pid + "/page"))
                    }, function (a) {
                        switch (1 * a.code) {
                            case 10012:
                                kzi.msg.error(f.instant("page_detail.name_too_large"));
                                break;
                            case 10013:
                                kzi.msg.error(f.instant("page_detail.content_too_large"));
                                break;
                            default:
                                kzi.msg.error(f.instant("page_detail.save_fail"))
                        }
                    }, function () {
                        i.is_saving = !1
                    })
                }
            }
        }, i.js_cancel_edit = function () {
            a.$broadcast(kzi.constant.event_names.autosave_cancel, {key: i.autosave_key}), i.is_add ? history.go(-1) : c.path("/project/" + i.pid + "/page")
        }, i.is_add && (a.global.loading_done = !0, a.global.title = [f.instant("page_detail.title_name_add"), " | ", b.project.name].join("")), b.$on(kzi.constant.event_names.shortcut_key_to_cancel, function () {
            if (/\/project\/.*\/page\/add/.test(location.pathname)) {
                var a = "/project/" + i.pid + "/page";
                wt.bus.mkEditor.checkClose() || c.path(a)
            }
        }), b.$on(kzi.constant.event_names.page_created_by_editor, function (a, b) {
            i.is_add = !1, i.page_id = b.page_id, i.parent_page_id = b.parent_page_id, i.original_page = angular.copy(b), i.original_page.message = b.message ? b.message : ""
        }), b.$on(kzi.constant.event_names.page_updated_by_editor, function (a, b) {
            i.original_page = angular.copy(b)
        })
    }

    function d(a, b, c, d, e, f, g) {
        var h = a.vm = {
            pid: c.pid,
            page_id: c.page_id,
            page_vers: [],
            show_compare_result: !1,
            current_page: {},
            breadcrumbs: [],
            checked_versions: []
        };
        b.global.loading_done = !1, a.diff_result_html = "", b.global.title = [g.instant("page_detail.title_name_diff"), " | ", a.project.name].join(""), wt.data.page.get_versions(h.pid, h.page_id, function (a) {
            h.page_vers = a.data, wt.data.page.get(h.pid, h.page_id, function (a) {
                h.current_page = a.data, h.breadcrumbs.push(d.trustAsHtml('<a href="javascript:;" data-click="vm.goto_page()">' + d.getTrustedHtml(h.current_page.name) + "</a>")), h.breadcrumbs.push(g.instant("page_detail.breadcrumbs_name"))
            }, function () {
                kzi.msg.error(g.instant("page_detail.get_page_fail"))
            }, function () {
                b.global.loading_done = !0
            })
        }, function () {
            kzi.msg.error(g.instant("page_detail.get_versions_fail"))
        }, function () {
        }), h.show_diff = function () {
            b.global.loading_done = !1, wt.data.page.get_version_page(h.pid, h.page_id, h.checked_versions[0], h.checked_versions[1], function (b) {
                var c = difflib.stringAsLines(_.find(b.data, {version: h.checked_versions[0]}).content), e = difflib.stringAsLines(_.find(b.data, {
                    version: h.checked_versions[1]
                }).content), f = new difflib.SequenceMatcher(c, e), g = f.get_opcodes();
                a.diff_result_html = d.trustAsHtml(diffview.buildView({
                    baseTextLines: c,
                    newTextLines: e,
                    opcodes: g,
                    baseTextName: "# " + h.checked_versions[0],
                    newTextName: "# " + h.checked_versions[1],
                    contextSize: null,
                    viewType: 0
                }).outerHTML)
            }, function () {
            }, function () {
                b.global.loading_done = !0;
                var a = ['<a href="javascript:;" data-click="hide_diff()">', g.instant("page_detail.breadcrumbs_name"), "</a>"].join("");
                h.breadcrumbs.pop(), h.breadcrumbs.push(d.trustAsHtml(a)), h.breadcrumbs.push(g.instant("page_detail.breadcrumbs_name_result")), h.show_compare_result = !0
            })
        }, h.goto_page = function () {
            f.openPage(h.pid, h.page_id)
        }, a.hide_diff = function () {
            h.breadcrumbs.pop(), h.breadcrumbs.pop(), h.breadcrumbs.push(g.instant("page_detail.breadcrumbs_name")), h.show_compare_result = !1
        }, h.child_event_handler = function (b) {
            var c = $(b.currentTarget.innerHTML).data("click");
            c && a.$eval(c)
        }, h.toggle_sel_version = function (a, b) {
            var c = $(a.target).parents(".page-version-row").find(":checkbox");
            if (b.selected)b.selected = !1, h.checked_versions = _.without(h.checked_versions, b.version); else {
                if (2 === h.checked_versions.length)return;
                b.selected = !0, h.checked_versions.push(b.version)
            }
            e(function () {
                c.prop("checked", b.selected)
            }, 30)
        }, h.preventDefault = function (a) {
            a.preventDefault()
        }
    }

    angular.module("wt.page.ctrl").service("pageDetailData", a).controller("projectPageAddToolbarCtrl", b).controller("projectPageAddEditCtrl", c).controller("projectPageVerDiffCtrl", d), b.$inject = ["$scope", "$rootScope", "pageDetailData", "$location", "$translate"], c.$inject = ["$rootScope", "$scope", "$location", "$stateParams", "pageDetailData", "$translate", "ycTrack"], d.$inject = ["$scope", "$rootScope", "$stateParams", "$sce", "$timeout", "locator", "$translate"]
}(), function () {
    "use strict";
    function a(a, b, c, d, e) {
        a.global.title = e.instant("calendar_subscribe.subscribe_title"), a.global.loading_done = !0;
        var f = b.vm = {qrcode: "", suburl: ""}, g = function (a) {
            f.suburl = ["webcal://", c.$$host, "80" == c.$$port || "443" == c.$$port ? "" : ":" + c.$$port, "/api/calendar/subscribe/", a].join(""), wt.data.utils.get_qrcode(f.suburl, 6, null, function (a) {
                f.qrcode = a
            })
        };
        wt.data.user.caltoken(a.global.me.uid, function (a) {
            200 === a.code && g(a.data)
        }), b.reset_token = function (a) {
            d.popbox({
                target: a,
                templateUrl: "/tpl/common/pop_delete_confirm.html",
                controller: ["$rootScope", "$scope", "popbox", "$translate", function (a, b, c, d) {
                    b.popbox = c, b.js_close = function () {
                        c.close()
                    }, b.delete_title = d.instant("calendar_subscribe.reset_title"), b.delete_message = d.instant("calendar_subscribe.reset_info"), b.delete_button = d.instant("calendar_subscribe.reset_btn"), b.js_sure_delete = function () {
                        b.is_deleting = !0, wt.data.user.caltoken_reset(a.global.me.uid, function (a) {
                            200 === a.code && (g(a.data), kzi.msg.info(d.instant("calendar_subscribe.reset_success")), b.js_close())
                        }, null, function () {
                            b.is_deleting = !1
                        })
                    }
                }]
            }).open()
        }
    }

    angular.module("wt.calendar.ctrl", ["ui.calendar"]).controller("calendarSubscribeCtrl", a), a.$inject = ["$rootScope", "$scope", "$location", "$popbox", "$translate"]
}(), function () {
    "use strict";
    function a(a, b) {
        var c = null, d = null;
        b.tpl_prefix = "item_";
        var e = 0, f = function () {
            b.loading_activity = !0, wt.data.activity.get_for_item(d, c, e, kzi.config.default_count, function (a) {
                a.data.length > 0 && (e = a.data[a.data.length - 1].published);
                var c = [];
                c = _.isEmpty(b.activities) ? a.data : b.activities.concat(a.data), b.has_more = a.data.length === kzi.config.default_count, wt.bus.activity.set_activities_show_date(c), b.activities = c
            }, null, function () {
                b.loading_activity = !1
            })
        };
        b.js_load_more = function () {
            f()
        }, b.$on(kzi.constant.event_names.reload_item_activities, function (a, g) {
            e = 0, d = g.xtype, c = g.xid, b.activities = null, f()
        }), b.$on(kzi.constant.event_names.clear_item_activities, function () {
            e = 0, b.activities = []
        })
    }

    function b(a, b, c, d, e) {
        var f = b.pid;
        a.pid = f, a.tpl_prefix = "project_";
        var g = 0, h = "all", i = function () {
            a.loading_activity = !0, wt.data.activity.get_for_project(f, h, g, kzi.config.default_count, function (b) {
                b.data.length > 0 && (g = b.data[b.data.length - 1].published);
                var c = [];
                c = _.isEmpty(a.activities) ? b.data : a.activities.concat(b.data), a.has_more = b.data.length === kzi.config.default_count, wt.bus.activity.set_activities_show_date(c), a.activities = c
            }, null, function () {
                a.loading_activity = !1
            })
        };
        a.js_to_graph = function (a) {
            kzi.localData.set("prj_graph_view_type", a), d.path("/project/" + f + "/graph")
        }, c.global.title = [e.instant("activity.title_name"), " | ", a.project.name].join(""), c.global.loading_done = !0, i(), a.js_load_more = function (b) {
            a.eventTarget = b.target, i()
        }, a.$on(kzi.constant.event_names.filter_activity_by_type, function (b, c) {
            h = c.data, g = 0, a.activities = null, i()
        })
    }

    function c(a, b, c) {
        b.filter_is_open = !0, b.filter_items = [{
            type: "all",
            display_name: c.instant("activity.filter_all"),
            selected: !0
        }, {type: "task", display_name: c.instant("activity.filter_task")}, {
            type: "post",
            display_name: c.instant("activity.filter_post")
        }, {type: "file", display_name: c.instant("activity.filter_file")}, {
            type: "page",
            display_name: c.instant("activity.filter_page")
        }, {
            type: "event",
            display_name: c.instant("activity.filter_event")
        }], b.selected_item = b.filter_items[0], b.js_select_filter_item = function (a) {
            a.type !== b.selected_item.type && (b.selected_item.selected = !1, a.selected = !0, b.selected_item = a, b.$emit(kzi.constant.event_names.emit_filter_activity_by_type, b.selected_item.type))
        }
    }

    angular.module("wt.activity.ctrl", []).controller("itemActivityCtrl", a).controller("projectActivityCtrl", b).controller("filterActivityCtrl", c), a.$inject = ["$rootScope", "$scope"], b.$inject = ["$scope", "$stateParams", "$rootScope", "$location", "$translate"], c.$inject = ["$rootScope", "$scope", "$translate"]
}(), function () {
    "use strict";
    function a(a, b, c, d, e) {
        b.vm = {header_nav_menu: c.current.header_nav_menu};
        b.account = e, a.global.me.desc = e.desc, a.global.loading_done = !0, "account" === c.current.name && d.path("/account/settings")
    }

    function b(a, b, c, d, e, f, g, h, i, j, k, l, m) {
        function n() {
            for (var a in kzi.constant.moment_timezone_meta.zones) {
                var c = kzi.constant.moment_timezone_meta.zones[a], d = c.name.split("/");
                c.show_name = d[2] || d[1], c.GMT = moment().tz(c.name).format("Z").trim(), q.time_zone_all.push(c)
            }
            b.base_info.title = r.title, b.base_info.department = r.department, b.time_zone = _.find(r.prefs, function (a) {
                return "time_zone" === a.key
            }).value
        }

        function o() {
            q.send_phone_code = !0, q.new_phone_text = l.instant("common.resend_phone_code", {second: 180}), q.waiting_for_phone_code = !0, q.timerInterval = j(function () {
                q.new_phone_text = parseInt(q.new_phone_text.match("([0-9]{1,3})")[0], 10), 1 === q.new_phone_text ? p() : (q.new_phone_text--, q.new_phone_text = l.instant("common.resend_phone_code", {second: q.new_phone_text}))
            }, 1e3)
        }

        function p() {
            q.send_phone_code = !1, q.new_phone_text = l.instant("common.get_phone_code"), q.waiting_for_phone_code = !1, j.cancel(q.timerInterval)
        }

        a.global.title = l.instant("account.baseinfo_name"), m.track("account_profile", "visit");
        var q = b.vm = {
            part_loading_done: !0,
            is_bind_weixin: 1 * a.global.me.is_bind_weixin,
            weixin_nick_name: a.global.me.weixin_nick_name || null,
            pop_weixin: null,
            pop_worktile_weixin: null,
            new_phone: "",
            phone_code: "",
            phone_step: 1,
            new_phone_text: l.instant("common.get_phone_code"),
            waiting_for_phone_code: !1,
            is_sending_phone: !1,
            send_phonecode_success: !1,
            mew_email: "",
            email_step: 1,
            is_sending_email: !1,
            send_email_success: !1,
            time_zone_all: []
        };
        b.sending_email = !1, b.avatar = {
            selection: [100, 100, 200, 200, 100, 100],
            thumbnail: !0
        }, b.base_info = {name: a.global.me.display_name, desc: a.global.me.desc}, b.password = {};
        var r = k;
        n(), q.js_user_change_phone = function (b, c) {
            return c === a.global.me.phone ? void b.$errors.unshift(l.instant("err_info.same_change_phone")) : (q.is_sending_phone = !0, void wt.data.user.reset_phone(c, q.phone_code, function () {
                q.send_phonecode_success = !0, a.global.me.phone = c, p(), q.phone_step = 1, kzi.msg.success(l.instant("account.phone_bind_success"))
            }, function (a) {
                2040 === a.code && (b.$errors.unshift(l.instant("err_info.phone_code_authfail")), p()), a.code === kzi.statuses.user_error.phone_has_exist.code && b.$errors.unshift(l.instant("err_info.duplicate_phone"))
            }, function () {
                q.is_sending_phone = !1
            }))
        }, q.js_get_phone_code = function (a) {
            wt.data.get_phone_code(q.new_phone, 3, function () {
                o()
            }, function (b) {
                2041 === b.code ? (a.$errors.unshift(l.instant("err_info.duplicate_phone")), $('input[name="new_phone"]').addClass("error"), p()) : a.$errors.unshift(l.instant("err_info.get_phone_code_fail"))
            })
        }, q.js_change_phone = function () {
            p()
        }, b.$on("$destroy", function () {
            j.cancel(q.timerInterval)
        }), q.js_change_phone_step = function (a) {
            q.phone_step = a
        }, q.js_user_change_email = function (b, c) {
            return c === a.global.me.email ? void b.$errors.unshift(l.instant("account.email_same_self")) : (q.is_sending_email = !0, void wt.data.user.email_change_apply(c, function () {
                q.send_email_success = !0
            }, function (a) {
                a.code === kzi.statuses.user_error.email_has_exist.code && b.$errors.unshift(l.instant("err_info.duplicate_email"))
            }, function () {
                q.is_sending_email = !1
            }))
        }, b.js_change_email_step = function (a) {
            q.email_step = a
        }, b.js_file_select = function (a) {
            if (0 !== a.length) {
                var c = a[0], d = new FileReader;
                d.onload = function (a) {
                    g(function () {
                        b.avatar.file = c, b.avatar.src = a.target.result
                    })
                }, d.readAsDataURL(c)
            }
        }, b.js_save_avatar = function () {
            var c = ($(".ng-jcrop-image")[0], b.avatar.selection[4] + "x" + b.avatar.selection[5] + "+" + b.avatar.selection[0] + "+" + b.avatar.selection[1]);
            b.avatar.uploading = !0, h.uploadAvatar({
                original: b.avatar.file,
                data: {target: "avatar", type: "avatar", cropArgs: c}
            }, function (c, d) {
                !c && d ? wt.data.user.set_avatar(d.url, function () {
                    a.global.me.avatar = d.url, q.cancel_upload_avatar(), b.avatar.uploading = !1, e.cache.user.avatar(a.global.me.uid, d.url)
                }) : (b.avatar.uploading = !1, kzi.msg.error(l.instant("account.upload_avatar_fail")))
            })
        }, q.js_clear_avatar = function () {
            wt.data.user.set_avatar("default_avatar.png", function () {
                a.global.me.avatar = "default_avatar.png"
            })
        }, q.cancel_upload_avatar = function () {
            b.avatar.src = "", b.avatar.file = null, b.avatar.selection = [100, 100, 200, 200, 100, 100]
        }, q.js_user_update = function () {
            var c = b.base_info;
            c.name !== a.global.me.display_name || c.desc != a.global.me.desc || c.title !== r.title || c.department !== r.department ? (c.updating = !0, void 0 !== c.desc && null !== c.desc || (c.desc = ""), wt.data.user.update(c.name, c.title, c.department, c.desc, function () {
                e.cache.user.update(a.global.me.uid, c.name, c.desc), r.title = c.title, kzi.msg.success(l.instant("account.change_account_success")), c.is_edit = !1
            }, function (a) {
                kzi.msg.error(l.instant("account.change_account_fail"))
            }, function () {
                c.updating = !1
            })) : c.is_edit = !1
        }, q.js_cancel_base_info_edit = function () {
            b.base_info = {
                name: a.global.me.display_name,
                desc: a.global.me.desc,
                department: r.department,
                title: r.title
            }
        }, q.js_user_change_pwd = function () {
            b.password.updating = !0, wt.data.user.change_pwd(b.password.old, b.password.new, function (a) {
                b.password.is_edit = !1, kzi.msg.success(l.instant("account.change_pwd_success"))
            }, function () {
                form.$errors.unshift(l.instant("account.original_pwd_err"))
            }, function () {
                b.password.updating = !1
            })
        }, q.js_cancel_pwd_edit = function () {
            b.password = {}
        }, q.js_time_zone_change = function () {
            wt.data.user.set_user_prefs(a.global.me.uid, "time_zone", b.time_zone, function (a) {
                kzi.msg.success(l.instant("account.set_timezone_sucess"))
            })
        }, q.js_bind_weixin = function (a) {
            q.pop_weixin = i.popbox({
                target: a,
                popboxClass: "popbox min-w50",
                placement: "top",
                align: "left",
                templateUrl: "/tpl/account/pop_weixin_qrcode.html",
                controller: ["$scope", "popbox", function (a, b) {
                    var c = a.vm = {feed_bind_success: 0};
                    a.popbox = b, a.$on(kzi.constant.event_names.on_weixin_bind, function (a, b) {
                        c.feed_bind_success = b.data
                    }), a.js_close = function () {
                        b.close()
                    }
                }]
            }), q.pop_weixin.open()
        }, q.js_unbind_weixin = function (a) {
            i.popbox({
                target: a,
                templateUrl: "/tpl/account/pop_weixin_unbind_confirm.html",
                controller: ["$rootScope", "$scope", "popbox", "pop_data", "$translate", function (a, b, c, d, e) {
                    b.popbox = c, b.js_close = function () {
                        c.close()
                    }, b.js_ok = function () {
                        b.is_doing = !0, wt.data.user.weixin_unbind(function (b) {
                            kzi.msg.success(e.instant("account.weixin_unbind_success")), d.target_scope.vm.is_bind_weixin = 0, a.global.me.is_bind_weixin = 0
                        }, function (a) {
                            kzi.msg.error(e.instant("account.weixin_unbind_err"))
                        }, function () {
                            c.close(), b.is_doing = !1
                        })
                    }
                }],
                resolve: {
                    pop_data: function () {
                        return {target_scope: b}
                    }
                }
            }).open()
        }, q.js_show_worktile_weixin = function (a) {
            q.pop_worktile_weixin = i.popbox({
                target: a,
                placement: "right",
                popboxClass: "popbox min-w50",
                templateUrl: "/tpl/common/pop_weixin_qrcode.html",
                controller: ["$scope", "popbox", function (a, b) {
                    a.popbox = b, a.js_close = function () {
                        b.close()
                    }
                }]
            }), q.pop_worktile_weixin.open()
        }, q.js_close_worktile_weixin = function () {
            q.pop_worktile_weixin.close()
        }, b.$on(kzi.constant.event_names.on_weixin_bind, function (a, b) {
            q.is_bind_weixin = b.data
        })
    }

    function c(a, b, c, d, e, f, g, h, i) {
        function j() {
            k.bg_image = f.bg_image, k.comment_auto_watch = _.find(f.prefs, function (a) {
                return "comment_auto_watch" === a.key
            }).value, k.create_task_assign_me = _.find(f.prefs, function (a) {
                return "create_task_assign_me" === a.key
            }).value, k.show_background_image = _.find(f.prefs, function (a) {
                return "show_background_image" === a.key
            }).value
        }

        i.track("account_preferences", "visit");
        var k = b.vm = {
            part_loading_done: !0,
            locale: "" == a.global.me.locale ? "zh-cn" : a.global.me.locale,
            locales: [],
            comment_auto_watch: "1",
            create_task_assign_me: "0",
            show_background_image: a.global.me.show_background_image,
            backgorundfile_model: null,
            bg_image: "",
            background_image_uploading: !1
        };
        a.global.title = g.instant("account.individuation_name"), b.current_menu = "individuation", a.global.loading_done = !0, k.js_set_account_locale = function () {
            wt.data.user.change_locale(k.locale, function () {
                h.location.href = h.location.href
            })
        }, k.js_toggle_comment_auto_watch = function () {
            k.comment_auto_watch = "1" === k.comment_auto_watch ? "0" : "1", wt.data.user.set_user_prefs(a.global.me.uid, "comment_auto_watch", k.comment_auto_watch, function (a) {
                kzi.msg.success(g.instant("account.toggle_comment_auto_watch_success"))
            })
        }, k.js_toggle_create_task_assign_me = function () {
            k.create_task_assign_me = "1" === k.create_task_assign_me ? "0" : "1", wt.data.user.set_user_prefs(a.global.me.uid, "create_task_assign_me", k.create_task_assign_me, function (a) {
                kzi.msg.success(g.instant("account.toggle_create_assign_self_success"))
            })
        }, k.js_toggle_show_background_image = function () {
            k.show_background_image = "1" === k.show_background_image ? "0" : "1", wt.data.user.set_user_prefs(a.global.me.uid, "show_background_image", k.show_background_image, function (b) {
                a.global.me.show_background_image = k.show_background_image, kzi.msg.success(g.instant("account.toggle_show_background_success"))
            })
        }, k.background_file_select = function (a, b) {
            if (null != k.backgorundfile_model)if (b.select_file_btn.$valid && !k.backgorundfile_model.$error) {
                if (!a || 0 === a.length)return;
                k.background_image_uploading = !0, c.uploadBackgroundImage({
                    original: a[0],
                    data: {target: "special", type: "background"}
                }, function (a, b) {
                    !a && b ? wt.data.account.set_background_image("upload", b.url, function () {
                        k.bg_image = b.url
                    }, function () {
                        kzi.msg.error(g.instant("account.save_background_fail"))
                    }, function () {
                        k.background_image_uploading = !1
                    }) : (k.background_image_uploading = !1, kzi.msg.error(g.instant("account.upload_background_fail")))
                })
            } else"pattern" === k.backgorundfile_model.$error && kzi.msg.error(g.instant("account.upload_background_format_err")), "maxSize" === k.backgorundfile_model.$error && kzi.msg.error(g.instant("account.upload_background_too_large"))
        }, k.set_background = function (b) {
            a.global.me.background_image !== b && wt.data.account.set_background_image("setting", b, function () {
                a.global.me.background_image = b, kzi.msg.success(g.instant("account.set_background_success"))
            }, function () {
                kzi.msg.error(g.instant("account.set_background_fail"))
            })
        }, j()
    }

    function d(a, b, c, d, e, f, g, h, i, j) {
        function k() {
            l.notice_by_email = _.find(i.prefs, function (a) {
                return "notice_by_email" === a.key
            }).value, l.notice_by_weixin = _.find(i.prefs, function (a) {
                return "notice_for_weixin" === a.key
            }).value, l.notice_by_mobile = _.find(i.prefs, function (a) {
                return "notice_for_client" === a.key
            }).value, l.notice_for_smart = _.find(i.prefs, function (a) {
                return "notice_for_smart" === a.key
            }).value, l.notice_for_express = _.find(i.prefs, function (a) {
                return "notice_for_express" === a.key
            }).value, l.notice_for_daily_mail = _.find(i.prefs, function (a) {
                return "notice_for_daily_mail" === a.key
            }).value, l.notice_for_weekly_mail = _.find(i.prefs, function (a) {
                return "notice_for_weekly_mail" === a.key
            }).value, wt.data.webhook.get_person_webhooks(function (a) {
                200 === a.code && (l.webhook_list = a.data)
            }, null, function () {
                l.part_loading_done = !0, "express" === d.$$hash && c(function () {
                    g.scrollTo(h.parents(".wt-scroll").eq(0), "bottom")
                }, 300)
            })
        }

        var l = b.vm = {
            part_loading_done: !1,
            notice_by_email: "1",
            notice_by_weixin: "1",
            notice_by_mobile: "1",
            notice_for_smart: "1",
            notice_for_express: "1",
            notice_for_daily_mail: "1",
            notice_for_weekly_mail: "1",
            desk_notice: a.global.me.notice_for_desktop,
            webhook_list: [],
            is_notify_not_set: f.notSetPermission,
            is_notify_enabled: !f.needsPermission,
            is_setting_notify: !1,
            is_setting_notice_by_email: !1,
            is_setting_notice_by_weixin: !1,
            is_setting_notice_by_mobile: !1,
            is_setting_notice_by_email_onload: !1,
            is_setting_notice_by_weixin_onload: !1,
            is_setting_notice_by_mobile_onload: !1,
            check_list_notice_by_email: {},
            check_list_notice_by_weixin: {},
            check_list_notice_by_mobile: {}
        };
        a.global.title = j.instant("account.message_name"), b.current_menu = "message", a.global.loading_done = !0, b.js_toggle_email_notice = function () {
            l.notice_by_email = "1" === l.notice_by_email ? "0" : "1", wt.data.user.set_user_prefs(a.global.me.uid, "notice_by_email", l.notice_by_email, function (a) {
                kzi.msg.success(j.instant("account.toggle_email_notice_success"))
            })
        }, l.js_set_notice_by_email_open = function () {
            l.is_setting_notice_by_email = !0, wt.data.account.get_notice_settings(function (a) {
                var b = a.data;
                l.check_list_notice_by_email = {
                    is_check_task: b.email_notice.assign_task,
                    is_check_at: b.email_notice.at_metion,
                    is_check_calendar: b.email_notice.attendee_event,
                    is_check_watcher: b.email_notice.follows,
                    is_check_comment: b.email_notice.comments,
                    is_check_other: b.email_notice.others
                }, l.is_setting_notice_by_email_onload = !0
            }, function () {
                kzi.msg.error(j.instant("account.get_notice_setting_fail")), l.js_set_notice_by_email_close()
            })
        }, l.js_set_notice_by_email_close = function () {
            l.is_setting_notice_by_email = !1, l.is_setting_notice_by_email_onload = !1
        }, l.js_save_notice_by_email = function () {
            var a = {
                assign_task: 1 * l.check_list_notice_by_email.is_check_task,
                at_metion: 1 * l.check_list_notice_by_email.is_check_at,
                attendee_event: 1 * l.check_list_notice_by_email.is_check_calendar,
                follows: 1 * l.check_list_notice_by_email.is_check_watcher,
                comments: 1 * l.check_list_notice_by_email.is_check_comment,
                others: 1 * l.check_list_notice_by_email.is_check_other
            };
            wt.data.account.update_email_notice(a, function (a) {
                kzi.msg.success(j.instant("account.set_email_notice_success"))
            }, function (a) {
                kzi.msg.error(j.instant("account.set_email_notice_fail"))
            }), l.js_set_notice_by_email_close()
        }, l.js_toggle_weixin_notice = function () {
            l.notice_by_weixin = "1" === l.notice_by_weixin ? "0" : "1", wt.data.user.set_user_prefs(a.global.me.uid, "notice_for_weixin", l.notice_by_weixin, function (a) {
                kzi.msg.success(j.instant("account.toggle_wexin_notice_success"))
            })
        }, l.js_set_notice_by_weixin_open = function () {
            l.is_setting_notice_by_weixin = !0, wt.data.account.get_notice_settings(function (a) {
                var b = a.data;
                l.check_list_notice_by_weixin = {
                    is_check_task: b.weixin_notice.assign_task,
                    is_check_at: b.weixin_notice.at_metion,
                    is_check_calendar: b.weixin_notice.attendee_event,
                    is_check_watcher: b.weixin_notice.follows,
                    is_check_comment: b.weixin_notice.comments,
                    is_check_other: b.weixin_notice.others
                }, l.is_setting_notice_by_weixin_onload = !0
            }, function () {
                kzi.msg.error(j.instant("account.get_notice_setting_fail")), l.js_set_notice_by_weixin_close()
            })
        }, l.js_set_notice_by_weixin_close = function () {
            l.is_setting_notice_by_weixin = !1
        }, l.js_save_notice_by_weixin = function () {
            var a = {
                assign_task: 1 * l.check_list_notice_by_weixin.is_check_task,
                at_metion: 1 * l.check_list_notice_by_weixin.is_check_at,
                attendee_event: 1 * l.check_list_notice_by_weixin.is_check_calendar,
                follows: 1 * l.check_list_notice_by_weixin.is_check_watcher,
                comments: 1 * l.check_list_notice_by_weixin.is_check_comment,
                others: 1 * l.check_list_notice_by_weixin.is_check_other
            };
            wt.data.account.update_weixin_notice(a, function (a) {
                kzi.msg.success(j.instant("account.set_weixin_notice_type_success"))
            }, function (a) {
                kzi.msg.error(j.instant("account.set_weixin_notice_type_fail"))
            }), l.js_set_notice_by_weixin_close()
        }, l.js_toggle_mobile_notice = function () {
            l.notice_by_mobile = "1" === l.notice_by_mobile ? "0" : "1", wt.data.user.set_user_prefs(a.global.me.uid, "notice_for_client", l.notice_by_mobile, function (a) {
                kzi.msg.success(j.instant("account.toggle_mobile_notice_success"))
            })
        }, l.js_set_notice_by_mobile_open = function () {
            l.is_setting_notice_by_mobile = !0, wt.data.account.get_notice_settings(function (a) {
                var b = a.data;
                l.check_list_notice_by_mobile = {
                    is_check_task: b.client_notice.assign_task,
                    is_check_at: b.client_notice.at_metion,
                    is_check_calendar: b.client_notice.attendee_event,
                    is_check_watcher: b.client_notice.follows,
                    is_check_comment: b.client_notice.comments,
                    is_check_other: b.client_notice.others
                }, l.is_setting_notice_by_mobile_onload = !0
            }, function () {
                kzi.msg.error(j.instant("account.get_notice_setting_fail")), l.is_setting_notice_by_weixin = !1
            })
        }, l.js_set_notice_by_mobile_close = function () {
            l.is_setting_notice_by_mobile = !1
        }, l.js_save_notice_by_mobile = function () {
            var a = {
                assign_task: 1 * l.check_list_notice_by_mobile.is_check_task,
                at_metion: 1 * l.check_list_notice_by_mobile.is_check_at,
                attendee_event: 1 * l.check_list_notice_by_mobile.is_check_calendar,
                follows: 1 * l.check_list_notice_by_mobile.is_check_watcher,
                comments: 1 * l.check_list_notice_by_mobile.is_check_comment,
                others: 1 * l.check_list_notice_by_mobile.is_check_other
            };
            wt.data.account.update_mobile_notice(a, function (a) {
                kzi.msg.success(j.instant("account.set_mobile_notice_type_success"))
            }, function (a) {
                kzi.msg.error(j.instant("account.set_mobile_notice_type_fail"))
            }), l.js_set_notice_by_mobile_close()
        }, l.js_toggle_desk_notice = function () {
            l.desk_notice = "1" === l.desk_notice ? "0" : "1", wt.data.user.set_user_prefs(a.global.me.uid, "notice_for_desktop", l.desk_notice, function () {
                a.global.me.notice_for_desktop = l.desk_notice, kzi.msg.success(j.instant("account.toggle_desktop_notice_success")), "1" === l.desk_notice ? f.notify({
                    title: j.instant("account.desktop_notify_title"),
                    body: j.instant("account.desktop_notify_open")
                }) : f.notify({
                    title: j.instant("account.notify_title"),
                    body: j.instant("account.desktop_notify_close")
                })
            })
        }, l.js_enabled_notify = function () {
            l.is_notify_not_set = !1, l.is_setting_notify = !0, f.checkPermission(function () {
                b.$apply(function () {
                    l.is_notify_enabled = !0, l.is_setting_notify = !1
                })
            }, function () {
                b.$apply(function () {
                    l.is_notify_enabled = !1, l.is_setting_notify = !1
                })
            })
        }, l.sendNotifyTest = function () {
            f.notify({
                title: j.instant("account.desktop_notify_test_title"),
                body: j.instant("account.desktop_notify_test_info")
            })
        }, b.js_toggle_smart_notice = function () {
            l.notice_for_smart = "1" === l.notice_for_smart ? "0" : "1", wt.data.user.set_user_prefs(a.global.me.uid, "notice_for_smart", l.notice_for_smart, function (a) {
                kzi.msg.success(j.instant("account.toggle_smart_notice_success"))
            })
        }, b.js_toggle_change_express = function () {
            l.notice_for_express = "1" === l.notice_for_express ? "0" : "1", wt.data.user.set_user_prefs(a.global.me.uid, "notice_for_express", l.notice_for_express, function (a) {
                kzi.msg.success(j.instant("account.toggle_change_express_success"))
            })
        }, b.js_toggle_daily_email = function () {
            l.notice_for_daily_mail = "1" === l.notice_for_daily_mail ? "0" : "1", wt.data.user.set_user_prefs(a.global.me.uid, "notice_for_daily_mail", l.notice_for_daily_mail, function (a) {
                kzi.msg.success(j.instant("account.toggle_daily_email_success"))
            })
        }, b.js_toggle_weekly_email = function () {
            l.notice_for_weekly_mail = "1" === l.notice_for_weekly_mail ? "0" : "1", wt.data.user.set_user_prefs(a.global.me.uid, "notice_for_weekly_mail", l.notice_for_weekly_mail, function (a) {
                kzi.msg.success(j.instant("account.toggle_weekly_email_success"))
            })
        }, b.js_add_webhook = function (a, c, d, f, g) {
            var h = {wid: c, name: d, web_hook_url: f, secret: g};
            e.popbox({
                target: a,
                templateUrl: "/tpl/account/pop_webhook.html",
                controller: ["$scope", "popbox", "pop_data", function (a, b, c) {
                    a.popbox = b;
                    var d = a.vm = {
                        step: 0,
                        webHookList: c.webhookList,
                        currentWebHook: c.currentWebHook,
                        isEdit: !1,
                        webhook: {name: "", web_hook_url: "", secret: "", type: 1}
                    };
                    d.currentWebHook.wid && (d.isEdit = !0, d.webhook = d.currentWebHook), d.js_save_webhook = function () {
                        d.isEdit ? wt.data.webhook.update_person_webhook(d.webhook, function (a) {
                            var c = _.findIndex(d.webHookList, function (a) {
                                return a.wid === d.webhook.wid
                            });
                            d.webHookList.splice(c, 1, d.webhook), b.close()
                        }, null, null) : wt.data.webhook.add_person_webhook(d.webhook, function (a) {
                            200 === a.code && (d.webHookList.push(a.data), b.close())
                        }, null, null)
                    }, d.js_del_webhook = function () {
                        wt.data.webhook.delete_person_webhook(d.webhook.wid, function (a) {
                            200 === a.code && (_.remove(d.webHookList, function (a) {
                                return a.wid === d.webhook.wid
                            }), b.close())
                        }, null, null)
                    }, d.js_step = function (a) {
                        d.step = a
                    }, d.js_close = function () {
                        b.close()
                    }
                }],
                resolve: {
                    pop_data: function () {
                        return {$scope: b, webhookList: l.webhook_list, currentWebHook: h}
                    }
                }
            }).open()
        }, k()
    }

    function e(a, b, c) {
        var d = b.vm = {
            part_loading_done: !1,
            account_show_recovery_code: !1,
            recovery_codes: null,
            two_step: 0,
            account_histories: [],
            clear_session_step: 0
        };
        a.global.title = c.instant("account.security_name"), a.global.loading_done = !0, b.current_menu = "security", b.input = {};
        var e = function (a) {
            d.account_histories = [], d.part_loading_done = !1, wt.data.account.get_security(a, function (c) {
                d.account_histories = c.data.histories, 1 !== a && "1" !== a || (b.totalCount = c.data.totalCount, b.security_pagination_opts = {
                    totalCount: c.data.total_count,
                    opts: {
                        callback: function (a) {
                            e(a + 1)
                        }
                    }
                })
            }, null, function () {
                d.part_loading_done = !0
            })
        }, f = function () {
            d.recovery_codes = null, wt.data.account.get_recovery_codes(function (a) {
                d.recovery_codes = a.data
            })
        };
        d.js_two_step = function (a) {
            d.two_step !== a && (d.two_step = a, 3 === a && (b.twofactor_secret || (b.twofactor_secret = null, b.qrcode_html = null, b.loading_twofactor_secret_done = !1, wt.data.account.get_twofactor_secret(function (a) {
                b.twofactor_secret = a.data
            }, null, function () {
                b.loading_twofactor_secret_done = !0
            }))))
        }, d.js_enable_twofactor = function () {
            return _.isEmpty(b.input.factor) ? void(b.input.enable_twofactor_errors = c.instant("account.enable_twofactor_fail_factor_empty")) : (b.is_enable_twofactoring = !0, void wt.data.account.enable_twofactor(b.input.factor, function (a) {
                b.account.twofactor_enabled = 1, f(), d.js_two_step(0), b.twofactor_secret = null, b.input.enable_twofactor_errors = ""
            }, function (a) {
                a.code === kzi.statuses.user_error.twofactor_match_error.code ? b.input.enable_twofactor_errors = c.instant("account.enable_twofactor_fail_factor_err") : b.input.enable_twofactor_errors = c.instant("account.enable_twofactor_fail")
            }, function () {
                b.is_enable_twofactoring = !1
            }))
        }, b.js_twofactor_focus = function () {
            b.input.enable_twofactor_errors = ""
        }, b.js_disable_twofactor = function () {
            b.is_disable_twofactoring = !0, wt.data.account.disable_twofactor(function () {
                b.account.twofactor_enabled = 0
            }, function () {
                b.input.enable_twofactor_errors = c.instant("account.disable_twofactor_fail")
            }, function () {
                b.is_disable_twofactoring = !1
            })
        }, d.js_clear_session_step = function (a) {
            d.clear_session_step = a
        }, d.js_clear_session = function () {
            wt.data.user.remove_other_session(function () {
                kzi.msg.success(c.instant("account.clear_session_success"))
            }, function () {
                kzi.msg.error(c.instant("account.clear_session_fail"))
            }, function () {
                d.js_clear_session_step(0)
            })
        }, f(), e(1)
    }

    function f(a, b, c, d) {
        var e = b.vm = {part_loading_done: !1};
        a.global.title = d.instant("account.apps_name"), b.current_menu = "apps", a.global.loading_done = !0, wt.data.account.get_apps(function (a) {
            b.account_apps = a.data
        }, null, function () {
            e.part_loading_done = !0
        });
        var f = function (a) {
            b.account_apps = _.reject(b.account_apps, function (b) {
                return b.app_id === a.app_id
            })
        };
        b.js_pop_decommissioning = function (a, b) {
            c.popbox({
                target: a,
                templateUrl: "/tpl/account/pop_decommissioning_confirm.html",
                controller: ["$rootScope", "$scope", "popbox", function (a, c, d) {
                    c.popbox = d, c.js_close = function () {
                        d.close()
                    }, c.js_decommissioning = function () {
                        c.is_decommissioning = !0, wt.data.account.decommissioning_app(b, function () {
                            f(b), d.close()
                        }, null, function () {
                            c.is_decommissioning = !1
                        })
                    }
                }]
            }).open()
        }
    }

    function g(a, b, c, d, e, f) {
        function g() {
            wt.data.account.get_thirdparty(function (a) {
                _.each(a.data, function (a) {
                    "" !== a.create_date && (a.create_date = c(a.create_date)), a.expire_date !== f.instant("account.thirdparty_expire_date_forever") && "" !== a.expire_date && (a.expire_date = c(a.expire_date))
                }), h.thirdparty = a.data
            }, null, function () {
                h.part_loading_done = !0
            })
        }

        var h = b.vm = {part_loading_done: !1, thirdparty: []};
        a.global.title = f.instant("account.thirdparty_name"), b.current_menu = "thirdparty", a.global.loading_done = !0, h.add_thirdparty = function (a, b) {
            d.path(b.auth_url)
        }, h.del_thirdparty = function (a, b) {
            e.popbox({
                target: a,
                templateUrl: "/tpl/account/pop_thirdparty_confirm.html",
                controller: ["$rootScope", "$scope", "popbox", function (a, c, d) {
                    var e = c.vm = {is_deling: !1};
                    c.popbox = d, e.js_close = function () {
                        d.close()
                    }, e.js_del_confirm = function () {
                        e.is_deling = !0, wt.data.account.del_thirdparty(b.type, function (a) {
                            b.is_auth = !1, b.create_date = "", b.expire_date = "", kzi.msg.success(f.instant("account.thirdparty_del_success")), d.close()
                        }, null, function () {
                            e.is_deling = !1
                        })
                    }
                }]
            }).open()
        }, g()
    }

    function h(a, b, c, d, e, f, g, h, i, j, k, l) {
        var m = b.vm = {is_binding: !1, bind_email: "", bind_password: "", bind_error: !1};
        wt.data.user.check_bind(function (a) {
            200 === a.code && (kzi.msg.success(l.instant("account.userbind_dont_repeat")), d.path("/account/settings"))
        }, function (a) {
        }), m.js_user_bind = function () {
            m.is_binding = !0, wt.data.user.bind(m.bind_email, m.bind_password, function (a) {
                kzi.msg.success(l.instant("account.userbind_success")), d.path("/account/settings")
            }, function (a) {
                m.bind_error = !0
            }, function () {
                m.is_binding = !1
            })
        }
    }

    function i(a, b, c, d, e, f, g, h, i, j, k, l) {
        var m = b.vm = {mew_email: "", email_step: 1, is_sending_email: !1, send_email_success: !1};
        m.js_user_change_email = function (b, c) {
            return c === a.global.me.email ? void b.$errors.unshift(l.instant("account.email_same_self")) : (m.is_sending_email = !0, void wt.data.user.email_change_apply(c, function () {
                m.send_email_success = !0
            }, function (a) {
                a.code === kzi.statuses.user_error.email_has_exist.code && b.$errors.unshift(l.instant("form_valid.email_duplicate"))
            }, function () {
                m.is_sending_email = !1
            }))
        }, b.js_change_email_step = function (a) {
            m.email_step = a
        }
    }

    function j(a, b, c, d, e, f, g, h, i, j, k, l) {
        function m() {
            o.send_phone_code = !0, o.new_phone_text = o.new_phone_text = l.instant("common.resend_phone_code", {second: 180}), o.waiting_for_phone_code = !0, o.timerInterval = j(function () {
                o.new_phone_text = parseInt(o.new_phone_text.match("([0-9]{1,3})")[0], 10), 1 === o.new_phone_text ? n() : (o.new_phone_text--, o.new_phone_text = o.new_phone_text = l.instant("common.resend_phone_code", {second: o.new_phone_text}))
            }, 1e3)
        }

        function n() {
            o.send_phone_code = !1, o.new_phone_text = l.instant("common.get_phone_code"), o.waiting_for_phone_code = !1, j.cancel(o.timerInterval)
        }

        var o = b.vm = {
            new_phone: "",
            phone_code: "",
            phone_step: 1,
            new_phone_text: l.instant("common.get_phone_code"),
            waiting_for_phone_code: !1,
            is_sending_phone: !1,
            send_phonecode_success: !1
        };
        a.global.title = l.instant("account.change_phone_title"), b.current_menu = "", o.js_user_change_phone = function (b, c) {
            return c === a.global.me.phone ? void b.$errors.unshift(l.instant("account.phone_same_self")) : (o.is_sending_phone = !0, void wt.data.user.reset_phone(c, o.phone_code, function () {
                o.send_phonecode_success = !0, a.global.me.phone = c, n(), o.phone_step = 1, kzi.msg.success(l.instant("account.phone_bind_success"))
            }, function (a) {
                2040 === a.code && (b.$errors.unshift(l.instant("err_info.phone_code_authfail")), n()), a.code === kzi.statuses.user_error.phone_has_exist.code && b.$errors.unshift(l.instant("err_info.duplicate_phone"))
            }, function () {
                o.is_sending_phone = !1
            }))
        }, o.js_get_phone_code = function (a) {
            wt.data.get_phone_code(o.new_phone, 3, function () {
                m()
            }, function (b) {
                2041 === b.code ? (a.$errors.unshift(l.instant("err_info.duplicate_phone")), $('input[name="new_phone"]').addClass("error"), n()) : a.$errors.unshift(l.instant("err_info.get_phone_code_fail"))
            })
        }, o.js_change_phone = function () {
            n()
        }, b.$on("$destroy", function () {
            j.cancel(o.timerInterval)
        }), o.js_change_phone_step = function (a) {
            o.phone_step = a
        }
    }

    angular.module("wt.account.ctrl", []).controller("accountSettingsCtrl", a).controller("accountProfileCtrl", b).controller("accountProfileBindDingtalkCtrl", h).controller("accountProfileChangeEmailCtrl", i).controller("accountProfileChangePhoneCtrl", j).controller("accountIndividuationCtrl", c).controller("accountMessageCtrl", d).controller("accountSecurityCtrl", e).controller("accountAppsCtrl", f).controller("accountThirdpartyCtrl", g), a.$inject = ["$rootScope", "$scope", "$state", "$location", "account"],
        b.$inject = ["$rootScope", "$scope", "$stateParams", "$location", "globalDataContext", "$sce", "$timeout", "$wtUploadFile", "$popbox", "$interval", "account", "$translate", "ycTrack"], c.$inject = ["$rootScope", "$scope", "$wtUploadFile", "privilegeService", "privilegeConstant", "account", "$translate", "$window", "ycTrack"], d.$inject = ["$rootScope", "$scope", "$timeout", "$location", "$popbox", "$wtNotify", "wtScrollService", "$element", "account", "$translate"], e.$inject = ["$rootScope", "$scope", "$translate"], f.$inject = ["$rootScope", "$scope", "$popbox", "$translate"], g.$inject = ["$rootScope", "$scope", "timeFullFormatZHCNFilter", "$location", "$popbox", "$translate"], h.$inject = ["$rootScope", "$scope", "$stateParams", "$location", "globalDataContext", "$sce", "$timeout", "$wtUploadFile", "$popbox", "$interval", "account", "$translate"], i.$inject = ["$rootScope", "$scope", "$stateParams", "$location", "globalDataContext", "$sce", "$timeout", "$wtUploadFile", "$popbox", "$interval", "account", "$translate"], j.$inject = ["$rootScope", "$scope", "$stateParams", "$location", "globalDataContext", "$sce", "$timeout", "$wtUploadFile", "$popbox", "$interval", "account", "$translate"]
}(), function () {
    "use strict";
    function a(a, b, c, d) {
        var e = b.vm = {
            my_referrals: [],
            recommend_url: [c.$$protocol + "://", c.$$host, 80 === c.$$port || 443 === c.$$port ? "" : ":" + c.$$port, "/" + a.global.me.name + "/recommend"].join(""),
            qrcode: "",
            show_send_email: !1
        };
        a.global.title = d.instant("share.title_name"), b.qrcode = "", wt.data.utils.get_qrcode(e.recommend_url, 6, null, function (a) {
            e.qrcode = a
        }), wt.data.referrals(function (a) {
            200 === a.code && (e.my_referrals = _.filter(a.data, function (a) {
                return 1 === a.status || 3 === a.status
            }))
        }), _.isEmpty(a.global.me.name) ? b.share_link = kzi.config.root_url : b.share_link = kzi.config.root_url + "?by=" + a.global.me.name, b.share_desc = d.instant("share.worktile_desc"), b.js_show_send_email = function () {
            e.show_send_email = !e.show_send_email
        }, b.js_cancel_send_email = function () {
            e.show_send_email = !1
        }, b.js_send_share_email = function (a) {
            b.is_sending = !0, wt.data.share.recommand(b.share_email, b.share_desc, function (a) {
                b.share_email = "", b.share_desc = d.instant("share.worktile_desc"), kzi.msg.success(d.instant("share.send_email_success"))
            }, null, function () {
                b.is_sending = !1
            })
        }
    }

    angular.module("wt.share.ctrl", []).controller("shareCtrl", a), a.$inject = ["$rootScope", "$scope", "$location", "$translate"]
}(), function () {
    "use strict";
    function a(a, b, c) {
        b.global.loading_init = !0, b.global.title = "404";
        c.vm = {type: a.type}
    }

    angular.module("wt.not_found.ctrl", []).controller("notFoundCtrl", a), a.$inject = ["$stateParams", "$rootScope", "$scope"]
}(), function () {
    "use strict";
    function a(a) {
        var b = {default: 0, members: 1, filter_tasks: 4}, c = a.vm = {
            step: 0,
            mail_domain: kzi.constant.mail.domain,
            prj_permission_admin: kzi.constant.prj_permission.admin,
            prj_permission_member: kzi.constant.prj_permission.member,
            prj_permission_guest: kzi.constant.prj_permission.guest
        };
        a.steps = b, "members" === a.sidebar.status && (c.step = b.members), a.$on(kzi.constant.event_names.show_project_sidebar, function (a, d) {
            "members" === d.status ? c.step = b.members : "filter_tasks" === d.status ? c.step = b.filter_tasks : "setting" === d.status ? d.sub_status ? "base_info" === d.sub_status ? c.step = b.setting_base_info : "labels" === d.sub_status && (c.step = b.setting_label) : c.step = b.setting : "timing_tasks" === d.status ? c.step = b.setting_timing_tasks : "project_copy" === d.status ? c.step = b.project_copy : "export_data" === d.status ? c.step = b.export_data : "create_by_mail" === d.status ? c.step = b.create_by_mail : "setting_webhook" === d.status ? c.step = b.setting_webhook : "setting_transfer" === d.status ? c.step = b.setting_transfer : "setting_quit" === d.status ? c.step = b.setting_quit : c.step = b.default
        }), c.to_members = function () {
            c.step = b.members, a.sidebar.status = "members", a.sidebar.sub_status = ""
        }, a.to_step = function (d) {
            switch (d) {
                case b.setting:
                    a.sidebar.sub_status = "";
                    break;
                case b.setting_base_info:
                    a.sidebar.sub_status = "base_info";
                    break;
                default:
                    a.sidebar.sub_status = d
            }
            c.step = d
        }
    }

    angular.module("wt.project.ctrl").controller("prjSidebarCtrl", a), a.$inject = ["$scope"]
}(), function () {
    "use strict";
    function a(a, b) {
        var c = b.vm = {}, d = b.task_filters, e = function () {
            b.labels = b.project.labels, _.isArray(b.task_filters.texts) ? b.task_filter_text = b.task_filters.texts.join(" ") : b.task_filter_text = "";
            var a = wt.bus.member.get_normal_members(b.project.members);
            a = _.clone(a), a.push({uid: -1}), b.members = a
        };
        e(), c.js_filter_text = function () {
            if (_.isEmpty(b.task_filter_text))d.texts = "", a.$broadcast(kzi.constant.event_names.on_project_tasks_filter); else {
                var c = b.task_filter_text.toLowerCase().replace("", ",").replace("", ",").replace(" ", ",").replace("  ", ",");
                d.texts = c.split(","), a.$broadcast(kzi.constant.event_names.on_project_tasks_filter)
            }
        }, c.clear_text = function () {
            b.task_filter_text = "", d.texts = [], a.$broadcast(kzi.constant.event_names.on_project_tasks_filter)
        }, c.js_filter_member = function (b) {
            d.members.indexOf(b.uid) < 0 ? (b.uid == -1 ? d.members = [b.uid] : (d.members.indexOf("-1") >= 0 && d.members.splice(d.members.indexOf("-1"), 1), d.members.push(b.uid)), b.filter = !0) : (d.members.splice(d.members.indexOf(b.uid), 1), b.filter = !1), a.$broadcast(kzi.constant.event_names.on_project_tasks_filter, {})
        }, c.member_is_filter = function (a) {
            if (d.members.indexOf(a) >= 0)return !0
        }, c.js_filter_label = function (b) {
            var c = d.labels.indexOf(b.name);
            c < 0 ? (d.labels.push(b.name), b.filter = !0) : (b.filter = !1, d.labels.splice(c, 1)), a.$broadcast(kzi.constant.event_names.on_project_tasks_filter)
        }, c.label_is_filter = function (a) {
            if (d.labels.indexOf(a) >= 0)return !0
        }, c.toggle_hide_completed = function () {
            b.task_filters.hide_completed = !b.task_filters.hide_completed, a.$broadcast(kzi.constant.event_names.on_project_tasks_filter)
        }, c.js_filter_date = function (b) {
            d.date === b ? d.date = "" : d.date = b, a.$broadcast(kzi.constant.event_names.on_project_tasks_filter, {})
        }, c.clear_task_filters = function () {
            b.task_filter_text = "", a.$broadcast(kzi.constant.event_names.project_clear_task_filter, null)
        }, c.close_sidebar = function () {
            c.clear_task_filters(), b.sidebar.close()
        }
    }

    angular.module("wt.project.ctrl").controller("sidebarFilterTasksCtrl", a), a.$inject = ["$rootScope", "$scope"]
}(), function () {
    "use strict";
    function a(a, b, c, d, e) {
        var f = a.vm = {}, g = b.pid;
        f.draggable_options = {
            appendTo: $("#main"), helper: "clone", zIndex: 2e3, delay: 300, start: function (a, b) {
                b.helper.find("span.avatar-name").remove(), b.helper.find(".avatar-face > i").remove(), b.helper.addClass("member-state-on-drag")
            }, stop: function (a, b) {
            }, drag: function (a, b) {
            }
        }, f.isMemberFilter = function () {
            return function (a) {
                return a.status === kzi.constant.status.ok && (a.role === kzi.constant.role.admin || a.role === kzi.constant.role.member)
            }
        }, f.isGuestFilter = function () {
            return function (a) {
                return a.status === kzi.constant.status.ok && a.role === kzi.constant.role.guest
            }
        }, f.isOnlineFilter = function () {
            return function (a) {
                return a.status === kzi.constant.status.ok && (1 === a.online || "1" == a.online)
            }
        }, f.isStatusPendingFilter = function () {
            return function (a) {
                return a.status === kzi.constant.status.pending
            }
        }, f.close_sidebar = function () {
            a.sidebar.close()
        }, f.to_add_member = function () {
            e.showAddMember(a.project)
        }, a.$on(kzi.constant.event_names.project_add_member, function (b, c) {
            c.pid === g && (_.find(a.project.members, {uid: c.member.uid}) || a.project.members.push(c.member))
        })
    }

    function b(a, b) {
        function c() {
            if (a.project.link_join_code && (a.link_to_join = window.location.origin + "/project/link/join?code=" + a.project.link_join_code), a.project.team_id != -1) {
                var b = [], c = [];
                a.loading_team_members = !0, wt.data.team.get_team_members(a.project.team_id, function (d) {
                    d.data.members = _.reject(d.data.members, {status: kzi.constant.status.pending}), _.each(d.data.members, function (a) {
                        e.indexOf(a.uid) < 0 && (a.role === kzi.constant.role.guest ? b.push(a) : c.push(a))
                    }), a.unassigned_team_visitors = b, a.unassigned_team_members = c
                }, null, function () {
                    a.loading_team_members = !1
                })
            }
        }

        var d = a.project.pid, e = _.map(a.project.members, "uid");
        c(), a.js_add_prj_member = function (c, e) {
            e || (e = kzi.constant.role.member), wt.data.project.add_member(d, c.uid, e, function (d) {
                kzi.msg.success(b.instant("project_members.add_success")), a.project.members.push(d.data), a.unassigned_team_members = _.reject(a.unassigned_team_members, function (a) {
                    return a.uid === c.uid
                }), a.unassigned_team_visitors = _.reject(a.unassigned_team_visitors, function (a) {
                    return a.uid === c.uid
                })
            })
        }, a.js_add_user_as_member = function (b) {
            a.js_add_prj_member(b, kzi.constant.role.member)
        }, a.js_invite_member = function (c) {
            _.isEmpty(c) || a.member_inviting || (a.member_inviting = !0, wt.data.project.invite_member(d, c, function (c) {
                _.find(a.project.members, {uid: c.data.uid}) || a.project.members.push(c.data), a.invite_email = "", c.data.status === kzi.constant.status.ok && (a.unassigned_team_members = _.reject(a.unassigned_team_members, function (a) {
                    return a.uid === c.data.uid
                })), kzi.msg.success(b.instant("project_members.add_success"))
            }, null, function () {
                a.member_inviting = !1
            }))
        }, a.toggle_join_project_link = function () {
            a.project.link_join_code ? wt.data.project.join_link_close(d, function (b) {
                a.project.link_join_code = ""
            }, function () {
                kzi.msg.error(b.instant("project_members.close_join_link_fail"))
            }) : wt.data.project.join_link_open(d, function (b) {
                a.project.link_join_code = b.data, a.link_to_join = window.location.origin + "/project/link/join?code=" + a.project.link_join_code
            }, function () {
                kzi.msg.error(b.instant("project_members.open_join_link_fail"))
            }, function () {
            })
        }
    }

    angular.module("wt.project.ctrl").controller("sidebarAddMemberCtrl", b).controller("sidebarMembersCtrl", a), a.$inject = ["$scope", "$stateParams", "globalDataContext", "$translate", "projectService"], b.$inject = ["$scope", "$translate"]
}(), function () {
    "use strict";
    function a(a) {
        a.vm = {pid: a.project.pid, export_type: "json"}
    }

    angular.module("wt.project.ctrl").controller("sidebarExportDataCtrl", a), a.$inject = ["$scope"]
}(), function () {
    "use strict";
    angular.module("wt.project.ctrl")
}(), function () {
    "use strict";
    angular.module("wt.dashboard.ctrl", [])
}(), function () {
    "use strict";
    function a(a, b, c, d, e, f) {
        function g() {
            a.global.title = [e.instant("dashboard.title_name_email"), " | ", e.instant("dashboard.title_name")].join(""), b.loadingDone = !1, wt.data.mail.get_list(b.emailData.currentPage, "all", function (a) {
                _.isEmpty(a.data) ? b.emailData.emails = b.emailData.emails || [] : (b.emailData.currentPage++, _.isEmpty(b.emailData.emails) ? b.emailData.emails = a.data : b.emailData.emails = b.emailData.emails.concat(a.data)), a.data.length < kzi.config.default_count ? b.emailData.hasMore = !1 : b.emailData.hasMore = !0
            }, null, function () {
                b.loadingDone = !0
            })
        }

        f.track("dashboard_email", "visit"), b.loadingDone = !0, b.emailData = {}, b.emailData.currentPage = 1, b.emailData.emails = [], b.emailData.hasMore = !0, g(), b.loadMoreEmails = function () {
            g()
        }, b.js_pop_showhelp = function (a) {
            d.popbox({
                target: a,
                templateUrl: "/tpl/dashboard/pop_dashboard_mailhelp.html",
                controller: ["$scope", "popbox", "pop_data", function (a, b, c) {
                    a.popbox = b;
                    a.pm = {};
                    a.js_close = function () {
                        b.close()
                    }
                }],
                resolve: {
                    pop_data: function () {
                        return {$scope: b}
                    }
                }
            }).open()
        }, b.showEmailDetail = function (a) {
            c.openMail(a.mail_id), wt.data.mail.set_read(a.mail_id, function () {
                a.is_read = !0
            })
        }, b.$on(kzi.constant.event_names.on_mail_trash, function (a, c) {
            b.emailData.emails && (b.emailData.emails = _.reject(b.emailData.emails, function (a) {
                return a.mail_id === c.mail_id
            }))
        })
    }

    angular.module("wt.dashboard.ctrl").controller("dashboardEmailCtrl", a), a.$inject = ["$rootScope", "$scope", "locator", "$popbox", "$translate", "ycTrack"]
}(), function () {
    "use strict";
    function a(a, b, c, d, e, f, g, h, i, j) {
        function k() {
            var a = m.myCalendar.fullCalendar("getView");
            $("#calendar_title").html(a.title);
            var b = new Date(a.start).getTime(), c = new Date(a.end).getTime(), d = (new Date).getTime();
            d < b || d > c ? $("#calendar_today").css("visibility", "visible") : $("#calendar_today").css("visibility", "hidden")
        }

        function l() {
            0 != $("#calendar").find(".fc-agendaWeek-view").size() && ($("#calendar").find(".fc-agendaWeek-view tbody td:eq(0)").css({
                height: kzi.util.winHeight() - m.header_height - 40,
                overflow: "auto",
                display: "block"
            }), $("#calendar").find(".fc-agendaWeek-view tbody td:eq(0)").find(".fc-time-grid-container").css({
                height: "",
                overflow: "auto"
            }))
        }

        j.track("dashboard_calendar", "visit");
        var m = b.vm = {
            myCalendar: {},
            header_height: 150,
            calendar_view: "month",
            show_my_task: !0,
            show_all_events: 1,
            calendar_project_filter_status: null,
            cache_calendar_events: null
        };
        m.js_toggle_filter = function () {
            "setting" === m.calendar_project_filter_status ? m.calendar_project_filter_status = null : m.calendar_project_filter_status = "setting"
        }, a.global.title = [i.instant("dashboard.title_name_calendar"), " | ", i.instant("dashboard.title_name")].join(""), b.project_ids = [], b.filter_type = "all", b.show_task_uid = a.global.me.uid, b.show_task_team_id = null, b.current_team = {}, b.show_completed_tasks = 1, b.filterColumnFold = !0;
        var n, o, p = null, q = null, r = function () {
            b.show_completed_tasks = 0 === kzi.localData.get("cale_show_completed_tasks") ? 0 : 1, m.show_all_events = 0 === kzi.localData.get("cale_show_all_events") ? 0 : 1;
            var a = kzi.localData.get("calendar_checked_project_ids");
            null != a ? "none" === a ? b.project_ids = [] : b.project_ids = a.split(",") : b.project_ids = null, kzi.localData.get("calendar_view") ? m.calendar_view = kzi.localData.get("calendar_view") : kzi.localData.set("calendar_view", m.calendar_view), kzi.localData.get("calendar_sidebar_view") ? b.calendar_sidebar_view = kzi.localData.get("calendar_sidebar_view") : b.calendar_sidebar_view = "event", b.calendar_sidebar_view = "event"
        }, s = function () {
            var a = _.filter(b.projects, function (a) {
                return a.is_checked
            }), c = _.map(a, "pid");
            b.project_ids = c, _.isEmpty(c) ? kzi.localData.set("calendar_checked_project_ids", "none") : kzi.localData.set("calendar_checked_project_ids", b.project_ids)
        };
        r();
        var t = function () {
            m.myCalendar.fullCalendar("refetchEvents")
        }, u = function () {
            m.myCalendar.fullCalendar("removeEvents")
        }, v = function (a, c, d, e, f) {
            if (_.isEmpty(p) || n !== a || o !== c) {
                var g = _.map(b.projects, "pid");
                wt.data.calendar.get_list(g, 1, a, c, function (a) {
                    if (p = a.data, _.isFunction(d))if (m.show_all_events)d(p); else {
                        var b = [];
                        _.each(p, function (a) {
                            a.extend.i_attended && b.push(a)
                        }), d(b)
                    }
                }, e, f)
            } else {
                if (_.isFunction(d))if (m.show_all_events)d(p); else {
                    var h = [];
                    _.each(p, function (a) {
                        a.extend.i_attended && h.push(a)
                    }), d(h)
                }
                _.isFunction(f) && f()
            }
        };
        b.js_new_event_success = function (c) {
            c.forEach(function (c) {
                if (c.end.date >= n && c.start.date <= o) {
                    var d = _.find(b.projects, {pid: c.pid});
                    if (d) {
                        var e = wt.bus.event.event_to_calEvent(c, d.bg);
                        c.attendees && c.attendees.indexOf(a.global.me.uid) >= 0 ? e.extend.i_attended = 1 : e.extend.i_attended = 0, d.is_calendar || (d.is_calendar = 1, _.defaults(d, {is_checked: !0}), b.calendar_projects.push(d), b.calendar_projects = _.sortBy(b.calendar_projects, function (a) {
                            return a.pos
                        })), p && (p.push(e), u(), t())
                    } else p = null, u(), t()
                }
            })
        }, b.onEventClick = function (a, b, c) {
            b.preventDefault(), b.stopPropagation(), a.extend && a.extend.xtype === kzi.constant.xtype.event ? g.openEvent(a.extend.pid, a.id) : g.openTask(a.extend.pid, a.id)
        }, b.onDayClick = function (c, e, f) {
            if (a.global.loading_done) {
                var g = kzi.helper.mouse_position(e);
                $(e.currentTarget).attr("data-placement", "right"), $(e.currentTarget).attr("data-align", "top"), $(e.currentTarget).addClass("js-popbox"), $(e.currentTarget).attr("data-auto-adapt", "true"), d.popbox({
                    target: e,
                    templateUrl: "/ycjs/directive/event/pop_add_event.html",
                    controller: "newEventCtrl",
                    top: g.y,
                    left: g.x,
                    resolve: {
                        pop_data: function () {
                            return {
                                save_success: function (a) {
                                    b.js_new_event_success(a)
                                }, start_date: c
                            }
                        }
                    }
                }).open()
            }
        }, b.calendarEventSources = [{
            events: function (a, b, c, d) {
                function e(a) {
                    var b = a.data.events, c = a.data.tasks;
                    _.each(b, function (a) {
                        a.extend.recurrence_id && (a.editable = !1), a.start.length < 25 && (a.start = moment.unix(a.start).format(), a.end = moment.unix(a.end).format())
                    }), _.each(c, function (a) {
                        var b = _.find(f.projects, {pid: a.extend.pid});
                        b && (a.borderColor = b.bg), 1 === a.extend.completed ? a.className = "cal_task cal_task_completed slide-trigger" : a.className = "cal_task cal_task_uncompleted slide-trigger", a.start.length < 25 && (a.start = moment.unix(a.start).startOf("day").format()), "agendaWeek" === m.myCalendar.fullCalendar("getView").name && (a.editable = !1, a.allDay = !0)
                    }), m.cache_calendar_events = b.concat(c)
                }

                var g = moment(a.format()).unix() + "000", h = moment(b.format()).unix() + "000";
                null == m.cache_calendar_events ? wt.data.calendar.get_events_and_tasks(g, h, function (a) {
                    e(a), d(m.cache_calendar_events), n = g, o = h
                }, null, null) : (d(m.cache_calendar_events), wt.data.calendar.get_events_and_tasks(g, h, function (a) {
                    e(a), m.myCalendar.fullCalendar("removeEvents"), m.myCalendar.fullCalendar("addEventSource", m.cache_calendar_events), n = g, o = h
                }, null, null))
            }
        }], b.calendarConfig = {
            header: !1,
            height: kzi.util.winHeight() - m.header_height,
            editable: !0,
            droppable: !0,
            nextDayThreshold: "00:00:00",
            firstDay: 0,
            weekMode: "liquid",
            axisFormat: "HH:mm",
            timeFormat: "",
            defaultView: m.calendar_view,
            dayClick: b.onDayClick,
            loading: function (b) {
                m.myCalendar = e.calendars.myCalendar, k(), b ? a.global.loading_done = !1 : a.global.loading_done = !0, l()
            },
            eventClick: function (a, c, d) {
                b.onEventClick(a, c, d)
            },
            eventDrop: function (a, b, c, d, e, g) {
                if (a.extend.xtype === kzi.constant.xtype.task && a.allDay === !1)return a.allDay = !0, void c();
                if (a.extend.xtype === kzi.constant.xtype.event && a.allDay === !0)return a.allDay = !1, void c();
                if (0 !== b) {
                    var h = a.extend.pid;
                    if (a.extend.xtype === kzi.constant.xtype.task) {
                        var i = a.id, j = a.extend.expire_date, k = moment(j).add(b, "days").endOf("day").valueOf();
                        wt.data.task.set_expire(h, i, k, function () {
                            a.extend.expire_date = k, a.extend.badges.expire_date = k, f.cache.task.set_expire(i, k)
                        })
                    } else if (a.extend.xtype === kzi.constant.xtype.event) {
                        var l = moment(a.start), m = moment(a.end || a.start);
                        f.cache.event.update_date(h, a.id, l.format("YYYY-MM-DD"), l.format("HH:mm"), m.format("YYYY-MM-DD"), m.format("HH:mm"), function () {
                            a.extend.end = m.valueOf()
                        })
                    }
                }
            },
            eventResize: function (a, b, c) {
                if ("month" === m.calendar_view) {
                    var d = moment(a.start._i).format("HH"), e = moment(a.start._i).format("mm");
                    a.extend.end = a.end.valueOf();
                    var g = moment(a.end._i).format("HH"), h = moment(a.end._i).format("mm");
                    f.cache.event.update_date(a.extend.pid, a.id, a.start.format("YYYY-MM-DD"), d + ":" + e, a.end.format("YYYY-MM-DD"), g + ":" + h, function () {
                        angular.noop()
                    })
                }
                if ("agendaWeek" === m.calendar_view) {
                    var d = a.start.format("HH"), e = a.start.format("mm");
                    a.extend.end = a.end.valueOf();
                    var g = a.end.format("HH"), h = a.end.format("mm");
                    f.cache.event.update_date(a.extend.pid, a.id, a.start.format("YYYY-MM-DD"), d + ":" + e, a.end.format("YYYY-MM-DD"), g + ":" + h, function () {
                        angular.noop()
                    })
                }
            },
            windowResize: function () {
                $(this).fullCalendar("option", "height", kzi.util.winHeight() - m.header_height), l()
            },
            eventRender: function (a, b) {
                b.attr("title", b.find(".fc-title").text())
            },
            views: {agendaWeek: {axisFormat: "Ah"}}
        }, b.changeView = function (a) {
            m.myCalendar.fullCalendar("changeView", a), m.calendar_view = a, kzi.localData.set("calendar_view", a), k(), u(), t()
        }, b.prev = function () {
            m.myCalendar.fullCalendar("prev"), k()
        }, b.next = function () {
            m.myCalendar.fullCalendar("next"), k()
        }, b.today = function () {
            m.myCalendar.fullCalendar("today"), k()
        }, b.js_filter_calendar_toggle = function (a) {
            a.is_checked ? a.is_checked = !1 : a.is_checked = !0, s(), u(), t()
        }, b.js_toggle_showall = function () {
            1 == m.show_all_events ? m.show_all_events = 0 : m.show_all_events = 1, kzi.localData.set("cale_show_all_events", m.show_all_events), u(), t()
        }, b.js_team_members_toggle = function (a) {
            b.current_team.team_id === a.team_id ? b.current_team.expand = !b.current_team.expand : (b.current_team.expand = !1, b.current_team = a, b.current_team.expand = !0, _.isEmpty(a.members) && (b.members_loading_done = !1, wt.data.team.get_team_members(a.team_id, function (b) {
                a.members = wt.bus.member.get_normal_members(b.data.members), _.each(a.members, function (b) {
                    b.team_id = a.team_id
                })
            }, null, function () {
                b.members_loading_done = !0
            })))
        }, b.js_view_member_tasks = function (a, c) {
            b.show_task_uid = a.uid, b.show_task_team_id = c.team_id, m.show_my_task = !1, q = null, u(), t()
        }, b.js_view_my_tasks = function () {
            b.show_task_uid = a.global.me.uid, m.show_my_task = !0, b.show_task_team_id = null, q = null, u(), t()
        }, b.js_show_completed_tasks = function () {
            b.show_completed_tasks = b.show_completed_tasks ? 0 : 1, kzi.localData.set("cale_show_completed_tasks", b.show_completed_tasks), u(), t()
        }, b.js_toggle_right = function () {
            b.filterColumnFold = !b.filterColumnFold, c(function () {
                $("#calendar").fullCalendar("render")
            }, 320)
        }, b.js_change_calendar_siderview = function (a) {
            b.calendar_sidebar_view !== a && (b.calendar_sidebar_view = a, kzi.localData.set("calendar_sidebar_view", b.calendar_sidebar_view), u(), t())
        }, m.js_add_event = function () {
            h.showAdd(!1)
        }, b.$on(kzi.constant.event_names.on_task_update, function (a, b) {
            var c = _.find(q, {id: b.tid});
            c && (c.title = b.name, c.start = b.expire_date.toString().substring(0, 10)), u(), t()
        }), b.$on(kzi.constant.event_names.on_event_add, function (a, b) {
            u(), t()
        }), b.$on(kzi.constant.event_names.on_task_trash, function (a, b) {
            var c = _.find(q, {id: b.tid});
            c && (q = _.reject(q, function (a) {
                return a.id === b.tid
            })), u(), t()
        }), b.$on(kzi.constant.event_names.on_task_complete, function (a, b) {
            var c = _.find(q, {id: b.tid});
            c && (b.completed ? (c.className = "cal_task cal_task_completed slide-trigger", c.extend.completed = 1) : (c.className = "cal_task cal_task_uncompleted slide-trigger", c.extend.completed = 0)), u(), t()
        }), b.$on(kzi.constant.event_names.on_event_update, function (b, c, d, e) {
            if (p) {
                var f = _.find(p, {id: c.event_id});
                if (d === kzi.constant.event_update_type.one && f && (f.title = c.name, f.start = moment(c.start.date).valueOf().toString().substring(0, 10), f.end = moment(c.end.date).valueOf().toString().substring(0, 10), _.find(c.attendees, {uid: a.global.me.uid}) ? f.extend.i_attended = 1 : f.extend.i_attended = 0, u(), t()), d === kzi.constant.event_update_type.follow_up) {
                    var g = new Date(c.start.date) - new Date(f.start), h = new Date(c.end.date) - new Date(c.start.date), i = new Date(f.start);
                    g > 0 ? (p.forEach(function (a) {
                        var b = new Date(a.start);
                        a.extend.recurrence_id === c.recurrence_id && b >= i && (a.start = moment(a.start).add(g, "milliseconds"), a.end = moment(a.start).add(h, "milliseconds"), a.start = a.start.valueOf().toString().substring(0, 10), a.end = a.end.valueOf().toString().substring(0, 10), e && (a.extend.recurrence_id = e))
                    }), u(), t()) : (p = [], v(n, o, function () {
                        u(), t()
                    }, null, function () {
                    }))
                }
            }
            u(), t()
        }), b.$on(kzi.constant.event_names.on_event_trash, function (a, c, d) {
            if (p) {
                var e = parseInt(d);
                switch (e) {
                    case kzi.constant.event_trash_type.one:
                        p = _.reject(p, function (a) {
                            return a.id === c.event_id
                        });
                        break;
                    case kzi.constant.event_trash_type.follow_up:
                        p = _.reject(p, function (a) {
                            var b = new Date(a.start).getTime();
                            return b >= c.start.date && a.extend.recurrence_id === c.recurrence_id
                        });
                        break;
                    case kzi.constant.event_trash_type.all:
                        p = _.reject(p, function (a) {
                            return a.extend.recurrence_id === c.recurrence_id
                        })
                }
            }
            b.calendar_projects = _.filter(b.projects, function (a) {
                return 1 === a.is_calendar
            }), u(), t()
        })
    }

    angular.module("wt.dashboard.ctrl").controller("dashboardCalendarCtrl", a), a.$inject = ["$rootScope", "$scope", "$timeout", "$popbox", "uiCalendarConfig", "globalDataContext", "locator", "eventService", "$translate", "ycTrack"]
}(), function () {
    "use strict";
    function a(a, b, c, d) {
        function e() {
            a.global.title = [c.instant("dashboard.title_name_feed"), " | ", c.instant("dashboard.title_name")].join(""), f.loadingDone = !1, wt.data.activity.get_feeds("all", 0, f.feedData.currentPage, kzi.config.default_count, function (a) {
                _.isEmpty(a.data) ? f.feedData.feeds = f.feedData.feeds || [] : (f.feedData.currentPage++, _.isEmpty(f.feedData.feeds) ? f.feedData.feeds = a.data : f.feedData.feeds = f.feedData.feeds.concat(a.data)), a.data.length < kzi.config.default_count ? f.feedData.hasMore = !1 : f.feedData.hasMore = !0
            }, null, function () {
                f.loadingDone = !0
            })
        }

        d.track("dashboard_feed", "visit");
        var f = b.vm = {loadingDone: !0, feedData: {currentPage: 1, feeds: [], hasMore: !0}};
        e(), f.js_loadMoreActivityFeeds = function () {
            e()
        }, f.js_refresh_feed = function () {
            f.feedData.feeds = [], f.feedData.currentPage = 1, e()
        }
    }

    angular.module("wt.dashboard.ctrl").controller("dashboardActivityFeedCtrl", a), a.$inject = ["$rootScope", "$scope", "$translate", "ycTrack"]
}(), function () {
    "use strict";
    function a(a, b, c, d, e, f, g, h, i, j) {
        function k() {
            p.part_loading_done = !1, wt.data.task.get_dashboard_task(function (a) {
                q(a.data)
            }, null, function () {
                p.loaded = !0, p.part_loading_done = !0, p.isBoarded = !0
            })
        }

        function l() {
            _.isEmpty(p.uncompleted_tasks) && (p.part_loading_done = !1, wt.data.task.get_for_uncompleted(function (a) {
                r(a.data)
            }, null, function () {
                p.loaded = !0, p.part_loading_done = !0, p.isListed = !0
            }))
        }

        function m() {
            p.part_loading_done = !1, wt.data.task.get_for_completed(p.page, function (a) {
                p.page++, _.isEmpty(a.data) || (_.isEmpty(p.completed_tasks) ? p.completed_tasks = a.data : p.completed_tasks = p.completed_tasks.concat(a.data)), a.data.length < kzi.config.default_count && (p.has_more_completed_tasks = !1)
            }, null, function () {
                p.loaded = !0, p.part_loading_done = !0, p.isListed = !0
            })
        }

        function n(a) {
            var b = null;
            switch (p.mytaskViewStatus) {
                case"all_tasks":
                    b = 0;
                    break;
                case"my_watcher":
                    b = 2;
                    break;
                case"my_create":
                    b = 1;
                    break;
                case"update":
                    b = 4
            }
            null !== b && (a && (p.part_loading_done = !1), wt.data.task.get_all_list(b, p.page, function (a) {
                p.page++, _.isEmpty(a.data) || (_.isEmpty(p.tasks) ? p.tasks = a.data : p.tasks = p.tasks.concat(a.data)), a.data.length < kzi.config.default_count && (p.has_more_tasks = !1)
            }, null, function () {
                p.loaded = !0, p.part_loading_done = !0, p.isListed = !0
            }))
        }

        function o() {
            "gtd" === p.mytaskViewStatus && k(), "time" === p.mytaskViewStatus && l(), "completed" === p.mytaskViewStatus && (p.page = 1, p.has_more_completed_tasks = !0, p.completed_tasks = [], m()), "update" !== p.mytaskViewStatus && "my_watcher" !== p.mytaskViewStatus && "my_create" !== p.mytaskViewStatus && "all_tasks" !== p.mytaskViewStatus || (p.page = 1, p.has_more_completed_tasks = !0, p.completed_tasks = [], n(!0))
        }

        j.track("dashboard_task", "visit");
        var p = b.vm = {
            loaded: !1,
            taskAll: [],
            taskArrays: [[], [], [], []],
            currentTask: {},
            mytaskViewStatus: null !== kzi.localData.get("mytaskViewStatus") ? kzi.localData.get("mytaskViewStatus") : "gtd",
            isBoarded: !1,
            isListed: !1,
            page: 1,
            has_more_completed_tasks: !0,
            tasks: [],
            has_more_tasks: !0,
            group_tasks: [],
            uncompleted_tasks: [],
            completed_tasks: [],
            pop_member_options: "onlyinfo"
        };
        a.global.title = [h.instant("dashboard.title_name_my_tasks"), " | ", h.instant("dashboard.title_name")].join("");
        var q = function (a) {
            if (p.taskAll = a.sort(wt.bus.task.compare_task), p.taskArrays = [[], [], [], []], $(p.taskAll).each(function (a, b) {
                    var c = b.mark;
                    c > 0 && p.taskArrays[c - 1].push(b)
                }), p.taskArrays[0].length > 0) {
                p.sortArray = g.task.group_tasks_by_date(p.taskArrays[0]);
                var b = [];
                p.sortArray.length > 0 && ($(p.sortArray).each(function (a, c) {
                    $(c.tasks).each(function (a, c) {
                        b.push(c)
                    })
                }), p.taskArrays.splice(0, 1, b))
            }
        }, r = function (a) {
            p.uncompleted_tasks = a.sort(wt.bus.task.compare_task), p.group_tasks = g.task.group_tasks_by_date(p.uncompleted_tasks)
        }, s = function (a, b) {
            a.name = b.name, a.desc = b.desc, a.pos = b.pos, a.completed = b.completed, a.is_expire = b.is_expire, a.expire_date = b.expire_date, a.badges = b.badges, a.labels = b.labels, a.members = b.members, a.watchers = b.watchers, a.todos = b.todos
        };
        p.remove_task = function (a) {
            if (a) {
                var b, c = a.tid;
                if ($(p.taskAll).each(function (c, d) {
                        d.tid === a.tid && (b = d)
                    }), !_.isUndefined(b)) {
                    var d = b.mark;
                    _.remove(p.taskArrays[d - 1], function (a) {
                        return a.tid === c
                    })
                }
                _.remove(p.taskAll, function (a) {
                    return a.tid === c
                })
            }
            if (a) {
                var c = a.tid;
                _.each(p.group_tasks, function (a) {
                    a.tasks = _.filter(a.tasks, function (a) {
                        return a.tid !== c
                    })
                })
            }
        }, p.tasks_sort_options = {
            appendTo: ".layout_content_main:last",
            helper: "clone",
            revert: 10,
            containment: ".layout_content_main",
            connectWith: ".entry-tasks",
            placeholder: "wt-task-placeholder",
            tolerance: "pointer",
            dropOnEmpty: !0,
            delay: "75",
            over: function (a, b) {
            },
            start: function (a, b) {
                $(".wt-task-placeholder").css({height: b.item.outerHeight()}), b.item.addClass("picked-up");
                var c = b.item.attr("task-id");
                p.currentTask = _.find(p.taskAll, {tid: c})
            },
            stop: function (a, c) {
                b.$apply(function () {
                    var a = c.item, b = parseInt(a.parent().attr("mark")), d = p.currentTask.mark, e = c.item.prev().attr("task-id"), f = c.item.next().attr("task-id");
                    if (_.isEmpty(e) && _.isEmpty(f))p.currentTask.pos = kzi.config.default_pos; else if (_.isEmpty(e)) {
                        var g = parseFloat(c.item.next().attr("task-pos"));
                        p.currentTask.pos = g / 2
                    } else if (_.isEmpty(f)) {
                        var h = parseFloat(c.item.prev().attr("task-pos"));
                        p.currentTask.pos = h + kzi.config.default_pos
                    } else {
                        var h = parseFloat(c.item.prev().attr("task-pos")), g = parseFloat(c.item.next().attr("task-pos"));
                        p.currentTask.pos = (g + h) / 2
                    }
                    if (p.currentTask.mark = b, _.remove(p.taskArrays[d - 1], function (a) {
                            return a.tid === p.currentTask.tid
                        }), b === d) {
                        var i = c.item.next().attr("task-id");
                        if (i) {
                            var j = _.findIndex(p.taskArrays[b - 1], function (a) {
                                return a.tid === i
                            });
                            p.taskArrays[b - 1].splice(j, 0, p.currentTask)
                        } else p.taskArrays[b - 1].push(p.currentTask)
                    } else {
                        var k = a.parent().find(".task");
                        k.length > 0 && (p.taskArrays[b - 1] = [], $(k).each(function (a, c) {
                            var d = $(c).attr("task-id"), e = _.find(p.taskAll, {tid: d});
                            p.taskArrays[b - 1].push(e)
                        }))
                    }
                    wt.data.task.drop_dashboard_task(p.currentTask.pid, p.currentTask.tid, b, f, function (a) {
                        200 === a.code && (p.currentTask.pos = a.data)
                    }, null, null)
                }), c.item.removeClass("picked-up")
            },
            update: function (a, b) {
            }
        }, p.js_open_task_detail = function (a, b) {
            d.openTask(b.pid, b.tid, null)
        }, p.js_complete_task = function (b, c, d) {
            if (a.global.prj_module.crud) {
                b.stopPropagation();
                var e = d.tid, g = d.pid;
                0 === d.completed && wt.data.task.complete(g, e, function (a) {
                    200 === a.code && (d.completed = 1, f(function () {
                        p.remove_task(d)
                    }, 300))
                })
            }
        }, p.js_toggle_viewstatus = function (a) {
            p.mytaskViewStatus = a, kzi.localData.set("mytaskViewStatus", a), "gtd" === p.mytaskViewStatus && (p.isBoarded || k()), "time" === p.mytaskViewStatus && p.isBoarded && l(), "completed" === p.mytaskViewStatus && (p.page = 1, p.has_more_completed_tasks = !0, p.completed_tasks = [], m()), "update" !== p.mytaskViewStatus && "my_watcher" !== p.mytaskViewStatus && "my_create" !== p.mytaskViewStatus && "all_tasks" !== p.mytaskViewStatus || (p.page = 1, p.has_more_tasks = !0, p.tasks = [], n(!0))
        }, p.js_add_task = function (a, b) {
            i.showAdd(!1, !1, !0)
        }, p.load_more_tasks = function () {
            n(!1)
        }, p.load_more_completed_tasks = function () {
            m()
        }, b.$on(kzi.constant.event_names.on_task_trash, function (a, b) {
            p.remove_task(b)
        }), b.$on(kzi.constant.event_names.on_task_complete, function (a, b, c) {
            b.completed && p.remove_task(b)
        }), b.$on(kzi.constant.event_names.on_task_move, function (a, b) {
        }), b.$on(kzi.constant.event_names.on_task_update, function (b, c, d) {
            var e = _.find(c.members, {uid: a.global.me.uid});
            if ("gtd" === p.mytaskViewStatus) {
                var f = _.find(p.taskAll, {tid: c.tid});
                f && !e ? (_.remove(p.taskAll, {tid: c.tid}), q(p.taskAll)) : !f && e ? (c.mark = 1, p.taskAll.push(c), q(p.taskAll)) : f && e && s(f, c)
            }
            if ("time" === p.mytaskViewStatus) {
                var f = _.find(p.uncompleted_tasks, {tid: c.tid});
                f && !e ? (_.remove(p.uncompleted_tasks, {tid: c.tid}), r(p.uncompleted_tasks)) : !f && e ? (c.mark = 1, p.uncompleted_tasks.push(c), r(p.uncompleted_tasks)) : f && e && s(f, c)
            }
        }), b.$on(kzi.constant.event_names.on_task_assign, function (a, b) {
            "gtd" === p.mytaskViewStatus && (_.find(p.taskArrays[0], {tid: b.tid}) || p.taskArrays[0].push(b)), "time" === p.mytaskViewStatus && (_.find(p.uncompleted_tasks, {tid: b.tid}) || (p.uncompleted_tasks.push(b), p.group_tasks = g.task.group_tasks_by_date(p.uncompleted_tasks)))
        }), o()
    }

    angular.module("wt.dashboard.ctrl").controller("dashboardTaskCtrl", a), a.$inject = ["$rootScope", "$scope", "$location", "locator", "globalDataContext", "$timeout", "bus", "$translate", "taskService", "ycTrack"]
}(), function () {
    "use strict";
    function a(a, b, c, d, e, f, g, h, i, j) {
        function k() {
            wt.data.project.get_all("archive", function (a) {
                200 === a.code && (l.archived_projects = a.data)
            }, angular.noop, function () {
                l.part_loading_done = !0, "archive" === h.$$hash && (l.isArchive = !0, i(function () {
                    d.scrollTo($(".layout_content_main >.wt-scroll").eq(0), "#archive_div")
                }, 300))
            }), wt.data.project.get_favorite(function (a) {
                200 === a.code && (l.fav_projects = a.data)
            }, angular.noop, function () {
                l.part_loading_done = !0, "favorite" === h.$$hash && (l.isFav = !0)
            })
        }

        j.track("projects", "visit");
        var l = b.vm = {
            teams: c.teams,
            projects: c.projects,
            archived_projects: [],
            fav_projects: [],
            isFav: !1,
            isArchive: !1,
            part_loading_done: !1
        };
        a.global.title = [g.instant("projects.title_name")].join(""), a.global.loading_done = !0, k();
        var m = function (a, b, d, e, g) {
            var h = [];
            if ("star" === a)h = f(l.projects, {is_star: 1}); else if ("team" === a) {
                var i = _.find(l.teams, {team_id: g});
                if (!i)return;
                h = i.projects
            }
            var j = null, k = null;
            if (_.isEmpty(e) || (j = _.find(h, {pid: e})), _.isEmpty(d) || (k = _.find(h, {pid: d})), j || k) {
                var m = 0;
                "star" === a && (m = wt.bus.project.calculate_prj_star_pos(k, j)), "team" === a && (m = wt.bus.project.calculate_prj_pos(k, j));
                var n = _.find(h, {pid: b});
                "star" === a && wt.data.project.prj_star_position(b, m, function (a) {
                    n.star_pos = m
                }), "team" === a && wt.data.project.prj_position(b, m, function (a) {
                    n.pos = m, l.projects = _.sortBy(l.projects, function (a) {
                        return a.pos
                    }), c.resortProjects()
                })
            }
        };
        b.project_sort_options = {
            containment: ".projects-panel",
            placeholder: "project-placeholder",
            helper: "clone",
            revert: 10,
            dropOnEmpty: !0,
            tolerance: "pointer",
            distance: "4",
            delay: "75",
            accept: ".project-item",
            start: function (a, b) {
                b.helper.addClass("project-picked-up"), $(".project-placeholder").css({
                    height: b.item.css("height"),
                    width: b.item.css("width")
                })
            },
            stop: function (a, b) {
                var c = b.item.attr("pid"), d = b.item.attr("tid"), e = b.item.attr("type"), f = b.item.prev().attr("pid"), g = b.item.next().attr("pid");
                m(e, c, f, g, d)
            }
        }, b.toogleFaver = function (a, b) {
            l.isFav = a
        }, b.toogleArchive = function (a, b) {
            l.isArchive = a, setTimeout(function () {
                a && d.scrollTo($(".wt-scroll"), "bottom")
            }, 50)
        }
    }

    angular.module("wt.dashboard.ctrl").controller("dashboardProjectsCtrl", a), a.$inject = ["$rootScope", "$scope", "globalDataContext", "wtScrollService", "$q", "filterFilter", "$translate", "$location", "$timeout", "ycTrack"]
}(), function () {
    "use strict";
    function a(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o) {
        function p() {
            return b.global.prj_module.crud & a.root_vm.entityExt.permission ? void(a.pop_member_options = {
                name: o.instant("task.member_remove"),
                ongoing: o.instant("task.member_removing"),
                click: function (a, c, d, e) {
                    d.assigned = !0, s.task.update_date = Date.now(), wt.bus.member.set_task_member_toggle(s.pid, s.task, d, function () {
                        d.setting_toggle_member = !1, b.$broadcast(kzi.constant.event_names.on_task_update, s.task), d.assigned = !1
                    }, null, e)
                }
            }) : void(a.pop_member_options = null)
        }

        function q() {
            s.checkEntityPermission() ? a.pop_watcher_options = {
                name: o.instant("task.unwatch"),
                ongoing: o.instant("task.unwatching"),
                click: function (a, b, c, d) {
                    s.task.update_date = Date.now(), wt.bus.watch.unwatch(s.pid, s.task, kzi.constant.xtype.task, s.task.tid, c, function () {
                    }, null, d)
                }
            } : a.pop_watcher_options = null
        }

        var r, s = a.vm = {
            team_id: "",
            pid: "",
            task: {},
            task_expireDateStyle: "",
            temp: {},
            new_todo: {temp_name: "", is_saving: !1},
            todo_atwho_members: [],
            uploadlink_url: "",
            uploadlink_option: {
                url: function () {
                    return [kzi.config.box_url(), "uploadbylink", "?pid=" + s.pid, "&token=" + kzi.get_cookie("sid")].join("")
                }
            },
            is_fullscreen: !1
        };
        a.$wtUpload = j;
        var t, u = function (c) {
            s.task = {}, a.entity_not_found_msg = "", r = c.xid, s.pid = c.pid, g.loadTask(s.pid, c.xid, function (c) {
                return s.task = c, a.root_vm.entityExt.loading_done = !0, c ? ($(".slide-content > :visible").find("a").blur(), i.task.tid === c.tid ? s.temp = i.task : s.temp = i.task = {
                    tid: s.task.tid,
                    name: s.task.name,
                    desc: s.task.desc,
                    is_edit: !1
                }, a.project && (s.todo_atwho_members = _.filter(a.project.members, function (a) {
                    return 1 === a.status
                })), void(null != a.project && (a.root_vm.entityExt.permission = a.project.permission, b.global.prj_module.view & a.root_vm.entityExt.permission && (c.archived || c.is_deleted) && (a.root_vm.entityExt.permission = kzi.constant.prj_permission.viewer), kzi.constant.prj_module.crud & a.root_vm.entityExt.permission && z(), kzi.constant.prj_module.crud & a.root_vm.entityExt.permission && z(), q(), p(), b.global.me.watched = _.map(s.task.watchers, "uid").indexOf(b.global.me.uid) >= 0, e(function () {
                    s.task = w(s.task), y(), a.$broadcast(kzi.constant.event_names.select_comment_tab)
                }), e(function () {
                    $(document.body).on("mousedown", ".atwho-container", function (a) {
                        a.stopPropagation(), a.preventDefault()
                    })
                }), wt.data.file.get_attach_list(s.pid, "tasks", s.task.tid, function (a) {
                    a.data && a.data.length > 0 && (_.each(a.data, function (a) {
                        a.icon = kzi.helper.build_file_icon(a)
                    }), s.task.files = a.data)
                })))) : void(a.root_vm.entityExt.permission = kzi.constant.prj_permission.deny)
            }, function (b) {
                b.code === kzi.statuses.task_error.not_found.code ? (a.root_vm.entityExt.permission = kzi.constant.prj_permission.deny, a.root_vm.entityExt.not_found_msg = o.instant("task.not_found_msg")) : a.root_vm.entityExt.permission = kzi.constant.prj_permission.deny
            }, function () {
            })
        };
        s.checkProjectPermission = function () {
            var c = !1;
            return b.global.prj_module.crud & a.root_vm.entityExt.permission && (c = !0), c
        }, s.checkLockEntityPermission = function () {
            var c = !1;
            return b.global.prj_module.crud & a.root_vm.entityExt.permission && (m(s.task, b.global.me) || (c = !0)), c
        }, s.checkEntityPermission = function () {
            var c = !1;
            return b.global.prj_module.crud & a.root_vm.entityExt.permission && (s.task.is_locked ? m(s.task, b.global.me) || (c = !0) : c = !0), c
        }, s.checkGuestPermission = function (c, d) {
            var e = !1;
            return c.is_deleted || n(b.global.prj_module.view, a.root_vm.entityExt.permission) && !n(b.global.prj_module.crud, a.root_vm.entityExt.permission) && (e = !0), e
        }, a.$on("$destroy", function () {
            $(document.body).off("mousedown", ".atwho-container")
        });
        var v = function (a, c, d) {
            var e = 0;
            _.isEmpty(a.todos) || (e = _.max(a.todos, function (a) {
                return a.pos
            }).pos);
            var f = c.temp_name.split(/\n/), g = 0;
            f.forEach(function (c) {
                e += kzi.config.default_pos, "" !== c && (a.update_date = Date.now(), wt.data.task.add_todo(s.pid, r, c, e, function (b) {
                    a.todos.push(b.data), a.todos = _.sortBy(a.todos, function (a) {
                        return a.pos
                    })
                }, null, function () {
                    g++, g === f.length && _.isFunction(d) && (a = w(a), b.$broadcast(kzi.constant.event_names.on_task_update, a), d())
                }))
            }), c.temp_name = ""
        }, w = function (a) {
            a.todos || (a.todos = []);
            var b = _.size(a.todos), c = _.size(_.where(a.todos, {checked: 1}));
            return b > 0 ? (a.percentage = parseInt(c / b * 100, 10), a.status = c + "/" + b) : a.percentage = 0, 0 !== a.expire_date && (s.task_expireDateStyle = x(a)), a.badges || (a.badges = {}), a.badges.todo_checked_count = c, a.badges.todo_count = b, a
        }, x = function (a) {
            var b = 0;
            if (a.completed)b = 0; else {
                var c = moment().valueOf(), d = 1e3 * moment(a.expire_date).format("X");
                b = d < c ? "expire-text-due" : d > c && d < moment().add(1, "days").valueOf() ? "expire-text-soon" : ""
            }
            return b
        }, y = function () {
            _.isEmpty(s.task.todos) || (s.task.todos = _.sortBy(s.task.todos, function (a) {
                return a.pos
            }))
        }, z = function () {
            a.todo_sort_options = {
                containment: ".task-todos",
                placeholder: "todo-placeholder",
                helper: "clone",
                revert: 10,
                dropOnEmpty: !0,
                tolerance: "pointer",
                distance: "4",
                delay: "75",
                disabled: !1,
                start: function (a, b) {
                    $(".todo-placeholder").css({height: b.item.outerHeight() + 10})
                },
                stop: function (a, b) {
                    var c = b.item.attr("todo-id"), d = _.find(s.task.todos, {todo_id: c}), e = b.item.prev().attr("todo-id"), f = b.item.next().attr("todo-id"), g = 0;
                    if (_.isEmpty(e)) {
                        var h = _.find(s.task.todos, {todo_id: f});
                        g = h.pos / 2 + 1
                    } else if (_.isEmpty(f)) {
                        var i = _.find(s.task.todos, {todo_id: e});
                        g = i.pos + kzi.config.default_pos + 1
                    } else {
                        var h = _.find(s.task.todos, {todo_id: f}), i = _.find(s.task.todos, {todo_id: e});
                        g = (h.pos + i.pos) / 2 + 1
                    }
                    d.pos !== g && (d.pos = g, wt.data.task.update_todo_pos(s.pid, s.task.tid, d.todo_id, g, function (a) {
                        y()
                    }))
                }
            }
        };
        s.show_task_move_dialog = function (a, c) {
            d.popbox({
                target: a,
                templateUrl: "/tpl/project/task/pop_move_task.html",
                controller: ["$scope", "popbox", "task", "globalDataContext", function (a, c, d, e) {
                    a.popbox = c, a.task_move = {}, a.task_move.move_to_prj = {}, a.task_move.from_entry = {}, a.is_task_moving = !1, a.task_move.projects = e.getPacketProjects(), a.task_move.move_to_prj = _.find(a.task_move.projects, function (a) {
                        return a.pid === s.pid
                    }), a.handle_move_to_prj_change = function () {
                        e.loadEntries(a.task_move.move_to_prj.pid, function (b) {
                            a.task_move.entries = b, a.task_move.move_to_prj.pid == d.pid ? (a.task_move.move_to_entry = _.find(a.task_move.entries, function (a) {
                                return a.entry_id === d.entry_id
                            }), a.task_move.from_entry = _.find(a.task_move.entries, function (a) {
                                return a.entry_id === d.entry_id
                            })) : a.task_move.move_to_entry = a.task_move.entries[0]
                        })
                    }, a.handle_move_to_prj_change(), a.js_close = function () {
                        c.close()
                    }, a.move_task = function () {
                        if (a.task_move.move_to_prj.pid === s.pid) {
                            if (a.task_move.move_to_entry.entry_id == a.task_move.from_entry.entry_id)return;
                            a.is_task_moving = !0;
                            var c = 0;
                            a.task_move.move_to_entry.tasks && a.task_move.move_to_entry.tasks.length > 0 && (c = _.max(a.task_move.move_to_entry.tasks, function (a) {
                                    return a.pos
                                }).pos + kzi.config.default_pos + 1), wt.data.task.change_entry(s.pid, d.tid, a.task_move.from_entry.entry_id, a.task_move.move_to_entry.entry_id, c, function () {
                                a.is_task_moving = !1, d.entry_id = a.task_move.move_to_entry.entry_id, d.entry_name = a.task_move.move_to_entry.name, b.$broadcast(kzi.constant.event_names.on_task_move, {
                                    task: d,
                                    from_entry_id: a.task_move.from_entry.entry_id
                                }), a.js_close()
                            })
                        } else {
                            if (a.is_task_moving = !0, _.isEmpty(a.task_move.move_to_entry))return void(a.is_task_moving = !1);
                            wt.data.task.move(s.pid, d.tid, a.task_move.move_to_prj.pid, a.task_move.move_to_entry.entry_id, function () {
                                e.cache.task.del(d.tid), b.$broadcast(kzi.constant.event_names.on_task_trash, d), h.close()
                            }, function () {
                                kzi.msg.error(o.instant("task.move_fail"))
                            }, function () {
                                a.is_task_moving = !1, a.js_close()
                            })
                        }
                    }
                }],
                resolve: {
                    task: function () {
                        return c
                    }
                }
            }).open()
        }, s.js_lock_toggle = function (a, b) {
            wt.data.task.toggle_lock(b.pid, b.tid, function (a) {
                200 === a.code && (b.update_date = Date.now(), b.is_locked = a.data)
            })
        }, s.js_timingtask = function (a, b) {
            g.loadEntries(b.pid, function (a) {
                s.entries = a, l.showAddEdit(null, b, s.entries)
            })
        }, s.js_show_copy = function (a, c) {
            d.popbox({
                target: a,
                templateUrl: "/tpl/project/task/pop_copy_task.html",
                controller: ["$scope", "popbox", function (a, d) {
                    a.popbox = d, a.new_task = wt.bus.task.get_copy_task(c), a.js_copy_task = function (c) {
                        _.isEmpty(c.name) || (a.is_copying = !0, wt.data.task.copy_task(s.pid, c.tid, c.name, 0, c.keep_comments, c.keep_members, c.keep_labels, c.keep_attachments, c.keep_todos, c.keep_watchers, function (c) {
                            a.js_close(), g.cache.task.add(c.data), b.$broadcast(kzi.constant.event_names.on_task_add, {task: c.data})
                        }, null, function () {
                            a.is_copying = !1
                        }))
                    }, a.js_close = function () {
                        d.close()
                    }
                }]
            }).open()
        }, s.js_trash = function (a, c) {
            d.popbox({
                target: a,
                templateUrl: "/tpl/project/task/pop_delete_task.html",
                controller: ["$scope", "popbox", function (a, d) {
                    a.popbox = d, a.js_close = function () {
                        d.close()
                    }, a.js_delete_task = function () {
                        wt.data.task.trash(s.pid, r, function () {
                            c.is_deleted = 1, g.cache.task.del(c.tid), b.$broadcast(kzi.constant.event_names.on_task_trash, c), h.close(), d.close()
                        })
                    }
                }]
            }).open()
        }, s.js_archive = function () {
            wt.data.task.archive(s.pid, r, function () {
                g.cache.task.archive(r), b.$broadcast(kzi.constant.event_names.on_task_archive, r), h.close()
            })
        }, s.js_complete_task = function (a) {
            s.checkEntityPermission() && (a.update_date = Date.now(), a.completed ? (a.completed = 0, wt.data.task.uncomplete(s.pid, r, function () {
                b.$broadcast(kzi.constant.event_names.on_task_complete, a)
            })) : (a.completed = 1, wt.data.task.complete(s.pid, r, function () {
                b.$broadcast(kzi.constant.event_names.on_task_complete, a)
            })))
        }, a.$on(kzi.constant.event_names.load_entity_task, function (a, b) {
            u(b)
        }), a.$on(kzi.constant.event_names.on_task_complete, function (a, b) {
            b.tid === s.task.tid && (s.task.completed = b.completed, w(s.task))
        }), a.$on(kzi.constant.event_names.on_task_archive, function (b, c) {
            c == r && (s.task.archived = 1, a.root_vm.entityExt.permission = kzi.constant.prj_permission.viewer)
        }), a.$on(kzi.constant.event_names.on_task_trash, function (b, c) {
            c.tid === s.task.tid && (s.task.is_deleted = 1, a.root_vm.entityExt.permission = kzi.constant.prj_permission.viewer)
        }), a.$on(kzi.constant.event_names.on_task_comment, function (a, c) {
            c.tid === s.task.tid && (s.task.badges.comment_count += 1, b.$broadcast(kzi.constant.event_names.on_task_update, s.task))
        }), a.$on(kzi.constant.event_names.on_task_badges_file, function (a, b) {
            s.task.tid === b.file.formData.tid && (_.isArray(s.task.files) ? s.task.files.push(b.file) : s.task.files = [b.file], _.isArray(s.task.files) && (s.task.badges.file_count = s.task.files.length))
        }), a.$on(kzi.constant.event_names.on_task_expire_date, function (a, b) {
            s.task && b.tid === s.task.tid && w(s.task)
        }), a.$on(kzi.constant.event_names.on_task_badges_check, function (a, b) {
            s.task && b.tid === s.task.tid && w(s.task)
        }), a.$on(kzi.constant.event_names.shortcut_key_to_edit, function (a) {
            _.isEmpty(s.task) || s.js_show_editor(s.task)
        }), a.$on(kzi.constant.event_names.shortcut_key_to_cancel, function (a) {
            s.temp.is_edit ? s.js_cancel_editor(s.task) : h.isOpened && h.close()
        }), s.js_show_editor = function (a) {
            s.checkEntityPermission() && (s.temp.is_edit = !0, _.isEmpty(s.temp.name) && (s.temp.name = a.name), _.isEmpty(s.temp.desc) && (s.temp.desc = a.desc))
        }, s.js_cancel_editor = function (a) {
            s.temp.is_edit = !1, a.shouldBeOpen = !1, s.temp.name = "", s.temp.desc = ""
        }, s.js_set_update = function (a, c) {
            if (c.is_saving !== !0) {
                if (_.isEmpty(s.temp.name))return void(s.temp.name = c.name);
                if (c.name === s.temp.name && c.desc === s.temp.desc)return void(s.temp.is_edit = !1);
                c.is_saving = !0, wt.data.task.update(s.pid, r, s.temp.name, s.temp.desc, function () {
                    s.temp.is_edit = !1, c.name = s.temp.name, c.desc = s.temp.desc, s.temp.name = "", s.temp.desc = "", c.update_date = Date.now(), b.$broadcast(kzi.constant.event_names.on_task_update, c)
                }, function (a) {
                    switch (1 * a.code) {
                        case 7045:
                            kzi.msg.error(o.instant("task.name_too_large"));
                            break;
                        case 7046:
                            kzi.msg.error(o.instant("task.desc_too_large"));
                            break;
                        default:
                            kzi.msg.error(o.instant("task.save_fail"))
                    }
                }, function () {
                    c.is_saving = !1
                })
            }
        }, s.js_show_datepicker = function (c, e) {
            a.project && 1 === a.project.archived || 1 !== e.archived && d.popbox({
                target: c,
                templateUrl: "/ycjs/directive/datepicker/pop_task_datepicker.html",
                controller: ["$scope", "popbox", function (a, c) {
                    a.popbox = c, e.expire_date ? e.expire_date_temp = moment(e.expire_date).format("YYYY-MM-DD HH:mm") : e.expire_date_temp = moment().format("YYYY-MM-DD") + " 23:59", a.task = e, a.js_close = function () {
                        c.close()
                    }, a.js_today = function () {
                        var b = moment().format("YYYY-MM-DD");
                        a.set_expire(b)
                    }, a.js_tomorrow = function () {
                        var b = moment().add(1, "days").format("YYYY-MM-DD");
                        a.set_expire(b)
                    }, a.js_week = function () {
                        var b = moment().endOf("week").format("YYYY-MM-DD");
                        a.set_expire(b)
                    }, a.js_next_week = function () {
                        var b = moment().add(7, "days").endOf("week").format("YYYY-MM-DD");
                        a.set_expire(b)
                    }, a.js_month = function () {
                        var b = moment().endOf("month").format("YYYY-MM-DD");
                        a.set_expire(b)
                    }, a.js_set_expire = function (b) {
                        a.set_expire(b)
                    }, a.js_cancel_expire = function () {
                        e.expire_date = 0, e.badges.expire_date = 0, wt.data.task.set_expire(s.pid, r, 0, function (a) {
                            e.update_date = Date.now(), b.$broadcast(kzi.constant.event_names.on_task_expire_date, e), b.$broadcast(kzi.constant.event_names.on_task_update, e), c.close()
                        }, function () {
                            kzi.msg.error(o.instant("task.expire_cancel_fail"))
                        })
                    }, a.set_expire = function (a) {
                        var d = 0;
                        d = "00:00" === moment(a).format("HH:mm") ? moment(a).endOf("day").valueOf() : moment(a).valueOf(), wt.data.task.set_expire(s.pid, r, d, function (a) {
                            e.expire_date = d, e.update_date = Date.now(), b.$broadcast(kzi.constant.event_names.on_task_expire_date, e), b.$broadcast(kzi.constant.event_names.on_task_update, e), c.close()
                        }, function () {
                            kzi.msg.error(o.instant("task.expire_set_fail"))
                        })
                    }
                }]
            }).open()
        }, s.js_show_todo = function (a) {
            a.is_todo_edit = !0, a.is_add_todo_edit = !0
        }, s.js_cancel_todo_editor = function (a) {
            a.is_todo_edit = !1
        }, s.js_show_todo_editor = function (a) {
            s.checkEntityPermission() && (a.is_todo_edit = !0, t = a.name)
        }, s.js_show_add_todo_editor = function (a) {
            a.is_add_todo_edit = !0
        }, s.js_cancel_add_todo_editor = function (a) {
            a.is_todo_edit = !1, a.is_add_todo_edit = !1
        }, s.js_add_todo = function (a, b) {
            return _.isUndefined(b) || _.isUndefined(b.temp_name) || _.isEmpty(b.temp_name) ? void(a.is_add_todo_edit = !1) : (b.is_saving = !0, void v(a, b, function () {
                $(".new-todo-control").find("textarea").focus(), b.is_saving = !1
            }))
        }, s.js_save_todo = function (a, b) {
            return _.isEmpty(b.name) ? (b.is_todo_edit = !1, void(b.name = t)) : t === b.name ? void(b.is_todo_edit = !1) : (b.is_saving = !0, s.task.update_date = Date.now(), void wt.data.task.update_todo(s.pid, r, b.todo_id, b.name, b.pos, function (a) {
                b.name = a.data.name
            }, null, function () {
                b.is_saving = !1, b.is_todo_edit = !1
            }))
        }, s.js_keydown_edit_todo = function (a, b, c) {
            if (!a.isPropagationStopped()) {
                var d = a.which || a.keyCode;
                d === kzi.constant.keyASCIIs.ESC ? (s.js_cancel_todo_editor(c), a.stopPropagation()) : d === kzi.constant.keyASCIIs.ENTER && s.js_save_todo(a, c), a.preventDefault()
            }
        }, s.js_keydown_add_todo = function (a, b, c) {
            if (!a.isPropagationStopped()) {
                var d = a.which || a.keyCode;
                d === kzi.constant.keyASCIIs.ESC ? (s.js_cancel_add_todo_editor(b), a.stopPropagation()) : d === kzi.constant.keyASCIIs.ENTER && s.js_add_todo(b, c), a.preventDefault()
            }
        }, s.js_remove_label = function (a) {
            s.task.labels = _.reject(s.task.labels, function (b) {
                return b.name === a.name
            }), s.task.update_date = Date.now(), wt.data.task.del_labels(s.pid, r, a.name, function () {
            })
        }, s.js_del_todo = function (a, c) {
            a.todos = _.reject(a.todos, function (a) {
                return a.todo_id === c.todo_id
            }), a.update_date = Date.now(), wt.data.task.del_todo(s.pid, r, c.todo_id, function (a) {
            }), a = w(a), 0 === a.todos.length && (a.is_todo_edit = !1), c.is_todo_edit = !1, 0 === a.todos.length && (a.is_todo_edit = !1), b.$broadcast(kzi.constant.event_names.on_task_update, a)
        }, s.js_complete_todo = function (a, c) {
            if (s.checkEntityPermission()) {
                var d = c.todo_id;
                a.update_date = Date.now(), c.checked ? (c.checked = 0, wt.data.task.uncomplete_todo(s.pid, r, d, function (a) {
                })) : (c.checked = 1, wt.data.task.complete_todo(s.pid, r, d, function (a) {
                })), a = w(a), b.$broadcast(kzi.constant.event_names.on_task_update, a)
            }
        }, s.js_toggle_watch = function (a, b, c) {
            c.update_date = Date.now(), wt.bus.watch.set_watcher_toggle(s.pid, c, kzi.constant.xtype.task, c.tid, b)
        }, s.js_watch_all = function (a, b, c, d) {
            c.update_date = Date.now(), wt.bus.watch.watch_all(s.pid, c, kzi.constant.xtype.task, c.tid, b, null, null, d)
        }, s.js_toggle_member = function (a, c, d) {
            d.update_date = Date.now(), wt.bus.member.set_task_member_toggle(s.pid, d, c, function () {
                b.$broadcast(kzi.constant.event_names.on_task_update, d)
            })
        }, s.js_remove_member = function (a, b, c) {
            c.update_date = Date.now(), wt.data.task.unassign(s.pid, c.tid, b.uid, function () {
                c.members = _.reject(c.members, function (a) {
                    return a.uid === b.uid
                })
            })
        }, s.js_remove_watcher = function (a, b, c) {
            c.update_date = Date.now(), wt.data.unwatch(s.pid, kzi.constant.xtype.task, c.tid, b.uid, function () {
                c.watchers = _.reject(c.watchers, function (a) {
                    return a.uid === b.uid
                })
            })
        }, s.js_assign_label = function (b, c) {
            var e = a;
            d.popbox({
                target: b,
                template: '<wt-set-task-labels task="task" project="project"></wt-set-task-labels>',
                controller: ["$scope", "popbox", function (a, b) {
                    a.popbox = b, a.task = c, a.project = e.project
                }]
            }).open()
        }, s.js_show_entry_menu = function (c, e) {
            c.stopPropagation(), d.popbox({
                target: c,
                templateUrl: "/tpl/project/task/pop_unarchive_task.html",
                controller: "popUnarchiveTaskCtrl",
                resolve: {
                    pop_data: function () {
                        return {
                            scope: a, task: e, fnSuccess: function (a) {
                                b.$broadcast(kzi.constant.event_names.on_task_unarchived, a), h.close()
                            }
                        }
                    }
                }
            }).open()
        }, a.$on(kzi.constant.event_names.on_pastefile_to_task, function (a, b) {
            s.js_files_select(b)
        }), a.$on(kzi.constant.event_names.on_file_add, function (a, b) {
            b && "task" === b.type && b.ext.tid === s.task.tid && (_.isArray(s.task.files) ? s.task.files.push(b.file) : s.task.files = [b.file], s.task.badges.file_count = s.task.files.length)
        }), s.js_uploadbylink_uploading = !1, s.js_uploadbylink = function (a) {
            if (_.isEmpty(s.uploadlink_url) || !kzi.validator.isUrl(s.uploadlink_url))return kzi.msg.warn(o.instant("common.uploadbylink_err_link_valid")), void $(a.target).prev().focus();
            s.js_uploadbylink_uploading = !0;
            var b = _.extend({link: escape(s.uploadlink_url)}, {
                target: "prj",
                type: "task",
                pid: s.pid,
                tid: s.task.tid
            });
            wt.data.file.uploadlink(s.uploadlink_option.url(), b, function (b) {
                8100 === b.code && kzi.msg.warn(o.instant("common.uploadbylink_err_file_too_large")), 200 === b.code && (s.task.update_date = Date.now(), f.file.new_upload(b, function () {
                    s.uploadlink_url = "", $(a.target).parents(".open").removeClass("open"), kzi.msg.info(o.instant("common.uploadbylink_success"))
                }))
            }, function () {
                kzi.msg.warn(o.instant("common.uploadbylink_fail"))
            }, function () {
                s.js_uploadbylink_uploading = !1
            })
        }, s.js_go_to_file = function (a, b) {
            h.openFile(a, b)
        }, s.js_del_attachment = function (a, c) {
            wt.data.file.detach(s.pid, "tasks", r, c.fid, function (a) {
                s.task.update_date = Date.now(), s.task.badges.file_count--;
                var d = _.find(s.task.files, {fid: c.fid});
                d && (s.task.files = _.reject(s.task.files, function (a) {
                    return a.fid === c.fid
                })), b.$broadcast(kzi.constant.event_names.on_task_update, s.task)
            })
        }, s.js_go_to_tasks = function () {
            b.global.leftmenu_current_expand = "", h.close(), c.path("/project/" + s.pid + "/task", {reload: !0})
        }, s.js_files_select = function (b) {
            if (0 !== b.length) {
                var c = [];
                _.forEach(b, function (b) {
                    c.push({original: b, data: {target: "prj", type: "task", pid: a.project.pid, tid: s.task.tid}})
                }), j.addFiles(a.project.pid, c, function (a, b) {
                    b && b.file && "task" === b.type && (_.isArray(s.task.files) ? s.task.files.push(b.file) : s.task.files = [b.file], s.task.update_date = Date.now(), s.task.badges.file_count = s.task.files.length)
                })
            }
        }, s.js_toggle_fullscreen = function (a) {
            s.is_fullscreen = !s.is_fullscreen, k.parents(".slide-content").data("skipLoadOnce", !0), s.is_fullscreen ? k.parents(".slide-content").addClass("none") : k.parents(".slide-content").removeClass("none"), e(function () {
                if (a) {
                    var b = "I" === a.target.tagName ? $(a.target).parent() : $(a.target);
                    b.blur()
                }
            }, 40)
        }, a.$on(kzi.constant.event_names.page_go_full_screen, function (a) {
            s.js_toggle_fullscreen()
        })
    }

    angular.module("wt.task.ctrl", []).controller("entityTaskCtrl", a), a.$inject = ["$scope", "$rootScope", "$location", "$popbox", "$timeout", "bus", "globalDataContext", "locator", "tempData", "$wtUploadFile", "$element", "timingtaskService", "taskLockPermissionFilter", "permissionFilter", "$translate"]
}(), function () {
    "use strict";
    function a(a, b, c, d, e, f, g, h, i, j) {
        var k = a.vm = {
            pid: "",
            event_id: "",
            event: {},
            temp_event: {},
            eventTitleInputFocus: !1,
            repeat_intervals: kzi.constant.event_repeat_intervals,
            update: {
                options_for_recurring_event: [{
                    key: kzi.constant.event_update_type.one,
                    desc: j.instant("event.update_type_one")
                }, {key: kzi.constant.event_update_type.follow_up, desc: j.instant("event.update_type_followup")}]
            },
            uploadlink_url: "",
            uploadlink_option: {
                url: function () {
                    return [kzi.config.box_url(), "uploadbylink", "?pid=" + k.pid, "&token=" + kzi.get_cookie("sid")].join("")
                }
            }
        };
        _.each(k.repeat_intervals, function (a) {
            a.desc = j.instant(a.desc)
        }), a.$wtUpload = g, k.update.option = k.update.options_for_recurring_event[0];
        var l = function () {
            k.tempEvent.start_date = moment(k.event.start.date).format("YYYY-MM-DD"), k.tempEvent.end_date = moment(k.event.end.date).format("YYYY-MM-DD"), k.tempEvent.start_hour = moment(k.event.start.date).format("HH"), k.tempEvent.start_minute = moment(k.event.start.date).format("mm"), k.tempEvent.end_hour = moment(k.event.end.date).format("HH"), k.tempEvent.end_minute = moment(k.event.end.date).format("mm")
        };
        k.js_files_select = function (b) {
            if (b && 0 !== b.length) {
                var c = [];
                _.forEach(b, function (a) {
                    c.push({original: a, data: {target: "prj", type: "event", pid: k.pid, event_id: k.event.event_id}})
                }), g.addFiles(a.project.pid, c, function (a, b) {
                    b && b.file && "event" === b.type && (_.isArray(k.event.files) ? k.event.files.push(b.file) : k.event.files = [b.file])
                })
            }
        };
        var m = function () {
            k.tempEvent = angular.copy(e.event)
        }, n = function () {
            k.event.show_start_date = k.event.start.date, k.event.show_end_date = k.event.end.date
        };
        a.$on(kzi.constant.event_names.on_event_update_date, function (a, b) {
            k.event.show_start_date = b.start_date, k.event.show_end_date = b.end_date
        }), a.$on(kzi.constant.event_names.on_slide_hide, function () {
            b.locator.type === kzi.constant.entity_type.event && (a.$broadcast(kzi.constant.event_names.clear_comment_activity, {
                pid: k.pid,
                xid: k.event_id,
                xtype: kzi.constant.xtype.event
            }), k.event.is_edit ? k.event = {is_edit: k.event.is_edit, event_id: k.event.event_id} : k.event = {})
        }), a.$on(kzi.constant.event_names.load_entity_event, function (c, d) {
            _.isEmpty(d.pid) || _.isEmpty(d.xid) || (k.pid = d.pid, k.event_id = d.xid, k.temp_event.event_id !== d.event_id && (k.temp_event.name = ""), h.loadEvent(k.pid, k.event_id, function (c) {
                k.event = c, e.event.event_id === c.event_id ? (k.tempEvent = e.event, l()) : (k.tempEvent = e.event = angular.copy(c), l()), k.new_repeat_interval = _.find(k.repeat_intervals, {key: k.tempEvent.recurrence}), a.part_loading_done = !0, null != a.project && (a.root_vm.entityExt.permission = a.project.permission, b.global.prj_module.view & a.root_vm.entityExt.permission && k.tempEvent.is_deleted && (a.root_vm.entityExt.permission = kzi.constant.prj_permission.viewer), n(), k.set_pop_attendee_options(), k.start_date_options = {
                    default_date: moment(k.tempEvent.start_date).format("YYYY-MM-DD"),
                    set_date: function (a) {
                        k.tempEvent.start_date = moment(a).format("YYYY-MM-DD"), k.start_date_options.default_date = k.tempEvent.start_date, k.end_date_options.min_date = moment(k.tempEvent.start_date).format("YYYY-MM-DD")
                    }
                }, k.end_date_options = {
                    default_date: moment(k.tempEvent.end_date).format("YYYY-MM-DD"),
                    min_date: moment(k.tempEvent.start_date).format("YYYY-MM-DD"),
                    set_date: function (a) {
                        k.tempEvent.end_date = moment(a).format("YYYY-MM-DD"), k.end_date_options.default_date = k.tempEvent.end_date, o()
                    }
                }, a.$broadcast(kzi.constant.event_names.select_comment_tab), k.event.is_edit === !0 && (k.eventTitleInputFocus = !0))
            }, function (b) {
                b.code === kzi.statuses.event_error.not_found.code ? (a.root_vm.entityExt.not_found_msg = j.instant("event.not_found_msg"), a.root_vm.entityExt.permission = kzi.constant.prj_permission.deny) : a.root_vm.entityExt.permission = kzi.constant.prj_permission.deny
            }, function () {
                a.root_vm.entityExt.loading_done = !0
            }))
        }), a.$on(kzi.constant.event_names.shortcut_key_to_edit, function (a) {
            f.xtype !== kzi.constant.xtype.event || _.isEmpty(k.event) || k.js_show_editor()
        }), a.$on(kzi.constant.event_names.shortcut_key_to_cancel, function (a) {
            f.xtype === kzi.constant.xtype.event && (k.tempEvent && k.tempEvent.is_edit === !0 ? k.js_cancel_editor() : f.isOpened && f.close())
        }), k.js_show_trash = function (a, d) {
            c.popbox({
                target: a,
                templateUrl: "/tpl/project/event/pop_delete_event.html",
                controller: ["$scope", "popbox", function (a, c) {
                    a.popbox = c, a.is_repeat_event = 0 !== d.recurrence, a.del = {}, a.del.del_option = 1, a.js_close = function () {
                        c.close()
                    }, a.js_delete_event = function () {
                        a.is_deleting = !0, wt.data.event.trash(k.pid, d.event_id, a.del.del_option, function (e) {
                            f.close(), d.is_deleted = 1;
                            var g = _.find(h.projects, {pid: d.pid});
                            g && (g.is_calendar = e.data.is_calendar), b.$broadcast(kzi.constant.event_names.on_event_trash, d, a.del.del_option), c.close()
                        }, null, function () {
                            a.is_deleting = !1
                        })
                    }
                }]
            }).open()
        };
        var o = function () {
            var a = k.tempEvent.start_date, b = k.tempEvent.start_minute, c = k.tempEvent.start_hour;
            k.tempEvent.end_date <= a ? (k.tempEvent.end_date = k.tempEvent.start_date, k.tempEvent.start_hour >= k.tempEvent.end_hour ? (k.tempEvent.end_hour = k.tempEvent.start_hour, k.tempEvent.end_minute <= k.tempEvent.start_minute && (k.tempEvent.end_minute = k.tempEvent.start_minute), k.end_minute_sections = _.filter(kzi.constant.all_minute_sections, function (a) {
                return a >= b
            }), k.end_hour_sections = _.filter(kzi.constant.all_hour_sections, function (a) {
                return a >= c
            })) : (k.end_hour_sections = _.filter(kzi.constant.all_hour_sections, function (a) {
                return a >= c
            }), k.end_minute_sections = kzi.constant.all_minute_sections)) : (k.end_hour_sections = kzi.constant.all_hour_sections, k.end_minute_sections = kzi.constant.all_minute_sections)
        };
        k.start_hour_sections = kzi.constant.all_hour_sections, k.start_minute_sections = kzi.constant.all_minute_sections, a.$watch("[vm.tempEvent.start_date, vm.tempEvent.start_hour, vm.tempEvent.start_minute]", function (a) {
            _.isEmpty(k.tempEvent) || (o(), k.start_date_options.default_date = moment(k.tempEvent.start_date).format("YYYY-MM-DD"), k.end_date_options.default_date = moment(k.tempEvent.end_date).format("YYYY-MM-DD"), k.end_date_options.min_date = moment(k.tempEvent.start_date).format("YYYY-MM-DD"))
        }, !0), a.$watch("vm.tempEvent.end_hour", function (a) {
            _.isEmpty(k.tempEvent) || o()
        }, !0), k.js_show_editor = function () {
            b.global.prj_module.crud & a.root_vm.entityExt.permission && (k.tempEvent.is_edit = !0, k.eventTitleInputFocus = !0)
        }, k.js_cancel_editor = function (a) {
            k.tempEvent.is_edit = !1, m(), l()
        }, k.js_set_update = function (a, c, d) {
            if (c.is_saving !== !0) {
                if (_.isEmpty(d.name))return void(d.name = c.name);
                c.is_saving = !0, wt.data.event.update(k.pid, c.event_id, d.name, d.summary, d.location, d.start_date, d.start_hour + ":" + d.start_minute, d.end_date, d.end_hour + ":" + d.end_minute, k.update.option.key, function (a) {
                    d.is_edit = !1, c.name = d.name, c.summary = d.summary, c.location = d.location, c.start.date = d.start_date + " " + d.start_hour + ":" + d.start_minute, c.end.date = d.end_date + " " + d.end_hour + ":" + d.end_minute, c.recurrence_id && k.update.option.key === kzi.constant.event_update_type.one && (c.recurrence_id = "", c.recurrence = 0, k.new_repeat_interval = _.find(k.repeat_intervals, {key: c.recurrence})), m(), l();
                    var e = a.data && a.data.recurrence_id ? a.data.recurrence_id : null;
                    b.$broadcast(kzi.constant.event_names.on_event_update, c, k.update.option.key, e), n()
                }, function (a) {
                    switch (1 * a.code) {
                        case 13012:
                            kzi.msg.error(j.instant("event.name_too_large"));
                            break;
                        case 13013:
                            kzi.msg.error(j.instant("event.location_too_large"));
                            break;
                        case 13014:
                            kzi.msg.error(j.instant("event.desc_too_large"));
                            break;
                        default:
                            kzi.msg.error(j.instant("event.save_fail"))
                    }
                }, function () {
                    c.is_saving = !1
                })
            }
        }, k.js_toggle_member = function (a, b, c) {
            b.setting_toggle_member !== !0 && (b.setting_toggle_member = !0, wt.bus.member.set_event_attendees_toggle(k.pid, c, b, function () {
            }, null, function () {
                b.setting_toggle_member = !1
            }))
        }, k.js_remove_attendee = function (a, b, c) {
            wt.data.event.attendee_remove(k.pid, c.event_id, b.uid, function (a) {
                c.attendees = _.reject(c.attendees, function (a) {
                    return a.uid === b.uid
                })
            })
        }, k.js_attendee_all = function (a, b, c, d) {
            wt.bus.member.event_attend_all(k.pid, c, b, null, null, d)
        }, k.set_pop_attendee_options = function () {
            b.global.prj_module.crud & a.root_vm.entityExt.permission ? k.pop_attendee_options = {
                name: j.instant("common.txt_remove"),
                ongoing: j.instant("common.removing"),
                click: function (a, b, c, d) {
                    c.assigned = !0, wt.bus.member.set_event_attendees_toggle(k.pid, k.event, c, function () {
                        c.assigned = !1
                    }, null, function () {
                        c.setting_toggle_member = !1, d()
                    })
                }
            } : k.pop_attenmy_tasksdee_options = null
        }, a.$on(kzi.constant.event_names.on_pastefile_to_event, function (a, b) {
            k.js_files_select(b)
        }), k.js_uploadbylink_uploading = !1, k.js_uploadbylink = function (a) {
            if (_.isEmpty(k.uploadlink_url) || !kzi.validator.isUrl(k.uploadlink_url))return kzi.msg.warn(j.instant("common.uploadbylink_err_link_valid")), void $(a.target).prev().focus();
            k.js_uploadbylink_uploading = !0;
            var b = _.extend({link: escape(k.uploadlink_url)}, {
                target: "prj",
                type: "event",
                pid: k.pid,
                event_id: k.event.event_id
            });
            wt.data.file.uploadlink(k.uploadlink_option.url(), b, function (b) {
                8100 === b.code && kzi.msg.warn(j.instant("common.uploadbylink_err_file_too_large")), 200 === b.code && d.file.new_upload(b, function () {
                    k.uploadlink_url = "", $(a.target).parents(".open").removeClass("open"), kzi.msg.info(j.instant("common.uploadbylink_success"))
                })
            }, function () {
                kzi.msg.warn(j.instant("common.uploadbylink_fail"))
            }, function () {
                k.js_uploadbylink_uploading = !1
            })
        }, a.$on(kzi.constant.event_names.on_file_add, function (a, b) {
            b && "event" === b.type && b.ext.event_id === k.event.event_id && (_.isArray(k.event.files) ? k.event.files.push(b.file) : k.event.files = [b.file])
        }), k.js_go_to_file = function (a, b) {
            i.path("/project/" + a + "/event"), f.openFile(a, b)
        }, k.js_del_attachment = function (a, b) {
            var c = _.find(k.event.files, {fid: b.fid});
            c && (k.event.files = _.reject(k.event.files, function (a) {
                return a.fid === b.fid
            })), wt.data.file.detach(k.pid, kzi.constant.xtype.event, k.event.event_id, b.fid)
        }
    }

    angular.module("wt.event.ctrl", []).controller("entityEventCtrl", a), a.$inject = ["$scope", "$rootScope", "$popbox", "bus", "tempData", "locator", "$wtUploadFile", "globalDataContext", "$location", "$translate"]
}(), function () {
    "use strict";
    function a(a, b, c, d, e, f, g, h, i) {
        var j = a.vm = {
            pid: "",
            post_id: "",
            token: kzi.get_cookie("sid"),
            post: {},
            temp: {},
            entity_not_found_msg: "",
            postEditFocus: !1,
            uploadlink_url: "",
            uploadlink_option: {
                url: function () {
                    return [kzi.config.box_url(), "uploadbylink", "?pid=" + j.pid, "&token=" + kzi.get_cookie("sid")].join("")
                }
            }
        };
        a.$wtUpload = h;
        var k = function (c) {
            _.isEmpty(c.pid) || _.isEmpty(c.xid) || (j.pid = c.pid, j.post_id = g.xid, j.entity_not_found_msg = "", j.post = {}, wt.data.post.get(j.pid, j.post_id, function (c) {
                j.post = c.data, f.post.post_id === j.post_id ? j.temp = f.post : j.temp = f.post = {
                    post_id: j.post.post_id,
                    name: j.post.name,
                    content: j.post.content,
                    is_edit: !1
                }, b.global.me.watched = _.map(j.post.watchers, "uid").indexOf(b.global.me.uid) >= 0, j.post.is_edit === !0 && (j.postEditFocus = !0), null != a.project && (a.root_vm.entityExt.permission = a.project.permission, b.global.prj_module.view & a.root_vm.entityExt.permission && j.post.is_deleted && (a.root_vm.entityExt.permission = kzi.constant.prj_permission.viewer), a.$broadcast(kzi.constant.event_names.select_comment_tab), j.set_pop_watcher_options())
            }, function (b) {
                b.code === kzi.statuses.post_error.not_found.code ? (a.root_vm.entityExt.permission = kzi.constant.prj_permission.deny, a.root_vm.entityExt.not_found_msg = i.instant("post.not_found_msg")) : a.root_vm.entityExt.permission = kzi.constant.prj_permission.deny
            }, function () {
                a.root_vm.entityExt.loading_done = !0
            }))
        };
        a.$on(kzi.constant.event_names.load_entity_post, function (a, b) {
            k(b)
        }), a.$on(kzi.constant.event_names.on_slide_hide, function () {
            a.locator.xtype === kzi.constant.xtype.post && a.$broadcast(kzi.constant.event_names.clear_comment_activity)
        }), j.js_show_editor = function () {
            b.global.prj_module.crud & a.root_vm.entityExt.permission && (j.temp.is_edit = !0, j.postEditFocus = !0, _.isEmpty(j.temp.name) && (j.temp.name = j.post.name), _.isEmpty(j.temp.content) && (j.temp.content = j.post.content))
        }, j.js_cancel_editor = function (a) {
            j.temp.is_edit = !1, j.temp.name = "", j.temp.content = ""
        }, j.js_update_post = function (a) {
            j.is_setting_content = !0, _.isEmpty(j.temp.name) && (j.temp.name = a.name), wt.data.post.update(j.pid, a.post_id, j.temp.name, j.temp.content, function (b) {
                a.name = j.temp.name, a.content = j.temp.content, j.temp.is_edit = !1
            }, function (a) {
                switch (1 * a.code) {
                    case 9011:
                        kzi.msg.error(i.instant("post.name_too_largr"));
                        break;
                    case 9012:
                        kzi.msg.error(i.instant("post.content_too_largr"));
                        break;
                    default:
                        kzi.msg.error(i.instant("post.save_fail"));
                }
            }, function () {
                j.is_setting_content = !1, b.$broadcast(kzi.constant.event_names.on_post_update, a)
            })
        }, j.js_trash = function (a, c) {
            d.popbox({
                target: a,
                templateUrl: "/tpl/project/post/pop_delete_post.html",
                controller: ["$scope", "popbox", function (a, d) {
                    a.popbox = d, a.post = c, a.js_close = function () {
                        d.close()
                    }, a.js_del_post = function () {
                        wt.data.post.trash(j.pid, c.post_id, function (d) {
                            a.js_close(), g.close(), b.$broadcast(kzi.constant.event_names.on_post_trash, {post_id: c.post_id})
                        })
                    }
                }]
            }).open()
        }, j.set_pop_watcher_options = function () {
            return b.global.prj_module.watch & a.root_vm.entityExt.permission ? void(j.pop_watcher_options = {
                name: i.instant("post.unwatch"),
                ongoing: i.instant("post.unwatching"),
                click: function (a, b, c, d) {
                    wt.bus.watch.unwatch(j.pid, j.post, kzi.constant.xtype.post, j.post.post_id, c, function () {
                    }, null, d)
                }
            }) : void(j.pop_watcher_options = null)
        }, j.js_toggle_watch = function (a, b, c) {
            wt.bus.watch.set_watcher_toggle(j.pid, c, kzi.constant.xtype.post, c.post_id, b)
        }, j.js_remove_watcher = function (a, b, c) {
            wt.data.unwatch(j.pid, kzi.constant.xtype.post, c.post_id, b.uid, function () {
                c.watchers = _.reject(c.watchers, function (a) {
                    return a.uid === b.uid
                })
            })
        }, j.js_watch_all = function (a, b, c, d) {
            wt.bus.watch.watch_all(j.pid, c, kzi.constant.xtype.post, c.post_id, b, null, null, d)
        }, a.$on(kzi.constant.event_names.on_pastefile_to_post, function (a, b) {
            j.js_files_select(b)
        }), a.$on(kzi.constant.event_names.on_post_comment, function (a, b) {
            _.isEmpty(b) || b.post_id === j.post.post_id && j.post.comment_count++
        }), a.$on(kzi.constant.event_names.shortcut_key_to_edit, function () {
            g.xtype !== kzi.constant.xtype.post || _.isEmpty(j.post) || j.js_show_editor(j.post)
        }), a.$on(kzi.constant.event_names.shortcut_key_to_cancel, function () {
            g.xtype === kzi.constant.xtype.post && (_.isEmpty(j.post) || j.temp.is_edit !== !0 ? g.isOpened && g.close() : wt.bus.mkEditor.checkClose() || j.js_cancel_editor(j.post))
        }), a.$on(kzi.constant.event_names.post_updated_by_editor, function (a, b) {
            j.post.content = b.content, j.post.name = b.name
        }), j.js_uploadbylink_uploading = !1, j.js_uploadbylink = function (a) {
            if (_.isEmpty(j.uploadlink_url) || !kzi.validator.isUrl(j.uploadlink_url))return kzi.msg.warn(i.instant("common.uploadbylink_err_link_valid")), void $(a.target).prev().focus();
            j.js_uploadbylink_uploading = !0;
            var b = _.extend({link: escape(j.uploadlink_url)}, {
                target: "prj",
                type: "post",
                pid: j.pid,
                post_id: j.post.post_id
            });
            wt.data.file.uploadlink(j.uploadlink_option.url(), b, function (b) {
                8100 === b.code && kzi.msg.warn(i.instant("common.uploadbylink_err_file_too_large")), 200 === b.code && e.file.new_upload(b, function () {
                    j.uploadlink_url = "", $(a.target).parents(".open").removeClass("open"), kzi.msg.info(i.instant("common.uploadbylink_success"))
                })
            }, function () {
                kzi.msg.warn(i.instant("common.uploadbylink_fail"))
            }, function () {
                j.js_uploadbylink_uploading = !1
            })
        }, a.$on(kzi.constant.event_names.on_file_add, function (a, b) {
            b && "post" === b.type && b.ext.post_id === j.post.post_id && (_.isArray(j.post.files) ? j.post.files.push(b.file) : j.post.files = [b.file], j.post.attachments_count = j.post.files.length)
        }), j.js_go_to_posts = function () {
            g.close(), c.path("/project/" + j.pid + "/post", {reload: !0})
        }, j.js_go_to_file = function (a, b) {
            c.path("/project/" + a + "/post"), g.openFile(a, b)
        }, j.js_del_attachment = function (a, c) {
            var d = _.find(j.post.files, {fid: c.fid});
            d && (j.post.files = _.reject(j.post.files, function (a) {
                return a.fid === c.fid
            })), wt.data.file.detach(j.pid, "posts", j.post_id, c.fid), b.$broadcast(kzi.constant.event_names.on_uploadfile_del_to_post, {
                post_id: j.post_id,
                file: c
            })
        }, j.js_files_select = function (c) {
            var d = [];
            _.forEach(c, function (a) {
                d.push({original: a, data: {target: "prj", type: "post", pid: j.post.pid, post_id: j.post.post_id}})
            }), h.addFiles(a.project.pid, d, function (a, b) {
                b && b.file && "post" === b.type && (_.isArray(j.post.files) ? j.post.files.push(b.file) : j.post.files = [b.file])
            }), b.$broadcast(kzi.constant.event_names.on_uploadfile_add_to_post, {post_id: j.post_id, files: d})
        }, j.js_toggle_top = function (a) {
            wt.data.post.toggle_top(a.pid, a.post_id, function (c) {
                a.is_top = c.data.is_top, a.update_date = c.data.update_date, b.$broadcast(kzi.constant.event_names.on_post_toggle_top, {
                    post_id: a.post_id,
                    is_top: a.is_top,
                    update_date: a.update_date
                })
            })
        }, a.$on(kzi.constant.event_names.on_post_toggle_top, function (a, b) {
            _.isEmpty(b) || (j.post.is_top = b.is_top, j.post.update_date = b.update_date)
        })
    }

    angular.module("wt.post.ctrl", []).controller("entityPostCtrl", a), a.$inject = ["$scope", "$rootScope", "$location", "$popbox", "bus", "tempData", "locator", "$wtUploadFile", "$translate"]
}(), function () {
    "use strict";
    function a(a, b, c, d, e, f, g, h) {
        var i = a.vm = {
            pid: "",
            fid: "",
            tokein: kzi.get_cookie("sid"),
            version_loading_done: !0,
            fileNameInputFocus: !1,
            file: {},
            tmpFile: {},
            pop_watcher_options: null,
            is_saving: !1
        };
        i.to_project = function (a) {
            c.path("/project/" + a + "/file"), e.close()
        }, a.$on(kzi.constant.event_names.on_slide_hide, function () {
            e.xtype === kzi.constant.xtype.file && a.$broadcast(kzi.constant.event_names.clear_comment_activity, {
                pid: i.pid,
                xid: i.fid,
                xtype: kzi.constant.xtype.file
            }), i.file = {}
        }), a.$on(kzi.constant.event_names.load_entity_file, function (c, d) {
            if (!_.isEmpty(d.pid) && !_.isEmpty(d.xid)) {
                i.pid = d.pid, i.fid = d.xid, i.tmpFile = g.checkout("file", i.fid) || {}, i.is_show_version = !1, i.entity_not_found_msg = "";
                var e = function (c) {
                    wt.data.file.get(i.pid, i.fid, function (d) {
                        var e = d.data;
                        e.in_edit = !1, e.icon = kzi.helper.build_file_icon(e), e.is_img = "-1" === kzi.constant.get_file_icon(e), i.file = e, null != a.project && (a.root_vm.entityExt.permission = a.project.permission, kzi.constant.prj_module.view & a.root_vm.entityExt.permission && e.is_deleted && (a.root_vm.entityExt.permission = kzi.constant.prj_permission.viewer), a.$broadcast(kzi.constant.event_names.select_comment_tab), i.set_pop_watcher_options(), b.global.me.watched = _.map(e.watchers, "uid").indexOf(b.global.me.uid) >= 0, wt.data.file.get_target(i.pid, i.fid, function (a) {
                            i.file.link_count = 0, _.isEmpty(a.data.tasks) || (i.file.link_count = a.data.tasks.length), _.isEmpty(a.data.posts) || (i.file.link_count += a.data.posts.length), _.isEmpty(a.data.events) || (i.file.link_count += a.data.events.length), i.file.tasks = a.data.tasks, i.file.posts = a.data.posts, i.file.events = a.data.events, i.file.in_edit === !0 && (i.fileNameInputFocus = !0)
                        }, null, function () {
                            c()
                        }))
                    }, function (b) {
                        b.code === kzi.statuses.file_error.not_found.code ? (a.root_vm.entityExt.permission = kzi.constant.prj_permission.deny, a.root_vm.entityExt.not_found_msg = h.instant("file.not_found_msg")) : a.root_vm.entityExt.permission = kzi.constant.prj_permission.deny
                    }, function () {
                        a.root_vm.entityExt.loading_done = !0
                    })
                };
                e(function () {
                    _.isEmpty(i.tmpFile) || !i.tmpFile.in_edit ? (g.purge("file", i.fid), i.tmpFile = {}) : i.file.in_edit = !0
                })
            }
        }), i.js_files_select = function (b) {
            var c = [];
            _.forEach(b, function (a) {
                c.push({original: a, data: {target: "prj", type: "file", pid: i.file.pid, fid: i.file.fid}})
            }), f.addFiles(a.project.pid, c, function (a, b) {
                b && b.file && "file" === b.type && i.file.fid === b.file.formData.fid && (i.file.icon = b.file.icon, i.file.path = b.file.path, i.file.size = b.file.size, i.file.update_date = b.file.update_date, i.file.update_user = b.file.update_user, i.file.dt = (new Date).getTime())
            })
        }, a.$on(kzi.constant.event_names.on_pastefile_to_file, function (a, b) {
            i.js_files_select(b)
        }), i.js_toggle_watch = function (a, b, c) {
            wt.bus.watch.set_watcher_toggle(i.pid, c, kzi.constant.xtype.file, c.fid, b)
        }, i.js_remove_watcher = function (a, b, c) {
            wt.data.unwatch(i.pid, kzi.constant.xtype.file, c.fid, b.uid, function () {
                c.watchers = _.reject(c.watchers, function (a) {
                    return a.uid === b.uid
                })
            })
        }, i.js_watch_all = function (a, b, c, d) {
            wt.bus.watch.watch_all(i.pid, c, kzi.constant.xtype.file, c.fid, b, null, null, d)
        }, i.set_pop_watcher_options = function () {
            b.global.prj_module.watch & a.root_vm.entityExt.permission ? i.pop_watcher_options = {
                name: h.instant("file.unwatch"),
                ongoing: h.instant("file.unwatching"),
                click: function (a, b, c, d) {
                    wt.bus.watch.unwatch(i.pid, i.file, kzi.constant.xtype.file, i.file.fid, c, function () {
                    }, null, d)
                }
            } : i.pop_watcher_options = null
        }, i.js_show_move_to_dialog = function (a, c) {
            d.popbox({
                target: a,
                templateUrl: "/tpl/project/file/pop_move_file.html",
                controller: ["$scope", "popbox", function (a, d) {
                    a.popbox = d, a.file = c, a.pid = c.pid;
                    var e = function (a, c) {
                        wt.data.file.move(i.pid, a.fid, a.folder_id, c.fid, function () {
                            a.folder_id = c.fid, b.$broadcast(kzi.constant.event_names.on_file_move, a)
                        })
                    };
                    a.folder_structure_loading = !0, a.data = {}, a.data.selected_move_to_node = "", wt.data.file.get_folders(i.pid, function (b) {
                        a.folder_structure = {}, a.folder_structure.name = h.instant("file.rootdir"), a.folder_structure.fid = "", a.folder_structure.children = b.data
                    }, function () {
                        kzi.msg.error(h.instant("file.read_dir_err"))
                    }, function () {
                        a.folder_structure_loading = !1
                    }), a.move = function () {
                        return _.isEmpty(a.data.selected_move_to_node) ? void d.close() : c.folder_id === a.data.selected_move_to_node.fid ? void d.close() : (e(c, a.data.selected_move_to_node), void d.close())
                    }, a.js_close = function () {
                        d.close()
                    }
                }]
            }).open()
        }, i.js_show_trash_dialog = function (a, b) {
            d.popbox({
                target: a,
                templateUrl: "/tpl/project/file/pop_delete_file.html",
                controller: ["$scope", "popbox", function (a, c) {
                    var d = a.vm = {file: b};
                    a.popbox = c, d.js_close = function () {
                        c.close()
                    }, d.js_success_done = function () {
                        e.close(), c.close()
                    }
                }]
            }).open()
        }, i.js_show_versions = function (a, b) {
            d.popbox({
                target: a,
                templateUrl: "/tpl/project/file/pop_show_versions.html",
                controller: ["$scope", "popbox", function (a, c) {
                    a.popbox = c, a.file = b, a.js_close = function () {
                        c.close()
                    }, a.file_version_loaded = !1, wt.data.file.get_versions(b.pid, b.fid, function (b) {
                        _.each(b.data, function (a) {
                            a.icon = kzi.helper.build_file_icon(a), a.fid = i.fid, a.pid = i.pid
                        }), b.data.reverse(), a.file_version_loaded = !0, a.versions = b.data
                    })
                }]
            }).open()
        }, a.$on(kzi.constant.event_names.shortcut_key_to_edit, function (a) {
            e.xtype !== kzi.constant.xtype.file || _.isEmpty(i.file) || i.js_show_editor(i.file)
        }), a.$on(kzi.constant.event_names.shortcut_key_to_cancel, function (a) {
            e.xtype === kzi.constant.xtype.file && (_.isEmpty(i.file) || i.file.in_edit !== !0 ? e.isOpened === !0 && e.close() : i.js_cancel_editor(i.file))
        }), i.js_show_editor = function (c) {
            i.file.in_edit !== !0 && b.global.prj_module.crud & a.root_vm.entityExt.permission && (i.file.in_edit = !0, i.tmpFile = g.ensure("file", c.fid, _.pick(i.file, ["name", "desc", "fid", "in_edit"])), i.fileNameInputFocus = !0)
        }, i.js_cancel_editor = function (a) {
            i.file.in_edit = !1, g.purge("file", i.file.fid)
        }, i.js_set_update = function (a, c) {
            _.isEmpty(i.tmpFile.name) || wt.data.file.update(i.pid, i.fid, i.tmpFile.name, i.tmpFile.desc, function (a) {
                i.file.name = i.tmpFile.name, i.file.desc = i.tmpFile.desc, g.purge("file", i.fid), b.$broadcast(kzi.constant.event_names.on_file_update, i.file), i.file.in_edit = !1
            }, function (a) {
                switch (1 * a.code) {
                    case 8310:
                        kzi.msg.error(h.instant("file.name_too_large"));
                        break;
                    case 8311:
                        kzi.msg.error(h.instant("file.desc_too_large"));
                        break;
                    default:
                        kzi.msg.error(h.instant("file.save_fail"))
                }
            }, function () {
                i.is_saving = !1
            })
        }
    }

    angular.module("wt.file.ctrl").controller("entityFileCtrl", a), a.$inject = ["$scope", "$rootScope", "$location", "$popbox", "locator", "$wtUploadFile", "tempData", "$translate"]
}(), function () {
    "use strict";
    function a(a, b, c, d, e, f, g, h, i) {
        function j() {
            wtScrollService.scrollTo($(".entity-well--pages").find(".wt-scroll"), "-=100")
        }

        function k() {
            wtScrollService.scrollTo($(".entity-well--pages").find(".wt-scroll"), "+=100")
        }

        var l = a.vm = {pid: void 0, page_id: void 0, token: kzi.get_cookie("sid"), is_saving: !1, is_fullscreen: !1};
        a.page = {}, a.$on(kzi.constant.event_names.on_slide_hide, function () {
            e.xtype === kzi.constant.xtype.page && (a.$broadcast(kzi.constant.event_names.clear_comment_activity, {
                pid: l.pid,
                xid: l.page_id,
                xtype: kzi.constant.xtype.page
            }), a.page = {})
        }), a.$on(kzi.constant.event_names.load_entity_page, function (c, d) {
            if (!_.isEmpty(d.pid) && !_.isEmpty(d.xid)) {
                m = 0, l.pid = d.pid, l.page_id = d.xid;
                var e = function () {
                    wt.data.page.get(l.pid, l.page_id, function (c) {
                        a.page = c.data, a.page.in_edit = !1, null != a.project && (a.root_vm.entityExt.permission = a.project.permission, b.global.prj_module.view & a.root_vm.entityExt.permission && a.page.is_deleted && (a.root_vm.entityExt.permission = kzi.constant.prj_permission.viewer), a.$broadcast(kzi.constant.event_names.select_comment_tab), a.set_pop_watcher_options(), b.global.me.watched = _.map(a.page.watchers, "uid").indexOf(b.global.me.uid) >= 0)
                    }, function (b) {
                        b.code === kzi.statuses.page_error.not_found.code ? (a.root_vm.entityExt.permission = kzi.constant.prj_permission.deny, a.root_vm.entityExt.not_found_msg = i.instant("page.not_found_msg")) : a.root_vm.entityExt.permission = kzi.constant.prj_permission.deny
                    }, function () {
                        a.root_vm.entityExt.loading_done = !0
                    })
                };
                a.page = f.checkout("page", l.page_id), !_.isEmpty(a.page) && a.page.in_edit || e()
            }
        }), a.set_pop_watcher_options = function () {
            kzi.constant.prj_module.watch & a.root_vm.entityExt.permission ? a.pop_watcher_options = {
                name: i.instant("page.unwatch"),
                ongoing: i.instant("page.unwatching"),
                click: function (b, c, d, e) {
                    wt.bus.watch.unwatch(l.pid, a.page, kzi.constant.xtype.page, a.page.page_id, d, function () {
                    }, null, e)
                }
            } : a.pop_watcher_options = null
        }, l.js_toggle_watch = function (a, b, c) {
            wt.bus.watch.set_watcher_toggle(l.pid, c, kzi.constant.xtype.page, c.page_id, b)
        }, l.js_remove_watcher = function (a, b, c) {
            wt.data.unwatch(l.pid, kzi.constant.xtype.page, c.page_id, b.uid, function () {
                c.watchers = _.reject(c.watchers, function (a) {
                    return a.uid === b.uid
                })
            })
        }, l.js_watch_all = function (a, b, c, d) {
            wt.bus.watch.watch_all(l.pid, c, kzi.constant.xtype.page, c.page_id, b, null, null, d)
        }, l.js_go_to_pages = function () {
            e.close(), c.path("/project/" + l.pid + "/page", {reload: !0})
        }, l.js_show_trash = function (b) {
            var e = a.page;
            d.popbox({
                target: b,
                templateUrl: "/ycjs/directive/page/pop_delete_page.html",
                controller: ["$scope", "popbox", "pop_data", "$rootScope", "locator", function (a, b, d, f, g) {
                    a.popbox = b, a.js_close = function () {
                        b.close()
                    }, a.js_delete = function () {
                        wt.data.page.trash(l.pid, e.page_id, function (b) {
                            a.js_close(), g.close(), f.$broadcast(kzi.constant.event_names.on_page_trash, {page_id: e.page_id}), f.$broadcast(kzi.constant.event_names.autosave_cancel, {key: "autosave:page:uid_" + f.global.me.uid + ":xid_" + e.page_id})
                        }), c.path("/project/" + l.pid + "/page")
                    }
                }],
                resolve: {
                    pop_data: function () {
                        return {scope: a}
                    }
                }
            }).open()
        }, a.$on(kzi.constant.event_names.shortcut_key_to_edit, function (d) {
            if (b.global.prj_module.crud & a.root_vm.entityExt.permission && b.locator.type === kzi.constant.entity_type.page) {
                var e = "/project/" + l.pid + "/page/" + l.page_id + "/edit";
                c.path(e)
            }
        }), a.$on(kzi.constant.event_names.shortcut_key_to_cancel, function (a) {
            b.locator.type === kzi.constant.entity_type.page && b.locator.show_slide === !0 && b.locator.hide_slide()
        });
        var m = 0;
        a.$on(kzi.constant.event_names.scroll_down, function (a) {
            j()
        }), a.$on(kzi.constant.event_names.scroll_page_down, function (a) {
            j()
        }), a.$on(kzi.constant.event_names.scroll_up, function (a) {
            k()
        }), a.$on(kzi.constant.event_names.scroll_page_up, function (a) {
            k()
        }), a.$on(kzi.constant.event_names.page_go_full_screen, function (a) {
            l.js_toggle_fullscreen()
        }), a.$on(kzi.constant.event_names.shortcut_key_to_cancel, function (a) {
            l.is_fullscreen ? l.is_fullscreen = !1 : e.close()
        }), a.js_got_page_ver_diff = function () {
            var a = "/project/" + l.pid + "/pages/" + l.page_id + "/versions";
            c.path(a)
        }, l.js_toggle_fullscreen = function (a) {
            l.is_fullscreen = !l.is_fullscreen, h.parents(".slide-content").data("skipLoadOnce", !0), l.is_fullscreen ? h.parents(".slide-content").addClass("none") : h.parents(".slide-content").removeClass("none"), g(function () {
                if (a) {
                    var b = "I" === a.target.tagName ? $(a.target).parent() : $(a.target);
                    b.blur()
                }
            }, 40)
        }
    }

    angular.module("wt.page.ctrl").controller("entityPageCtrl", a), a.$inject = ["$scope", "$rootScope", "$location", "$popbox", "locator", "tempData", "$timeout", "$element", "$translate"]
}(), function () {
    "use strict";
    function a(a, b, c, d, e) {
        var f, g, h = a.vm = {mail: {}};
        a.part_loading_done = !0, a.$on(kzi.constant.event_names.load_entity_mail, function (b, c) {
            a.upload_enabled = !0, _.isEmpty(c.xid) || (g = c.xid, wt.data.mail.get(g, function (a) {
                h.mail = a.data
            }, null, function () {
                a.root_vm.entityExt.loading_done = !0
            }))
        }), a.$on(kzi.constant.event_names.shortcut_key_to_cancel, function (a) {
            d.xtype === kzi.constant.xtype.email && d.isOpened && d.close()
        }), h.js_pop_trash = function (a, f) {
            c.popbox({
                target: a,
                templateUrl: "/tpl/common/pop_delete_confirm.html",
                controller: ["$scope", "popbox", function (a, c) {
                    a.popbox = c, a.mail = f, a.delete_message = e.instant("mail.del_confirm_info"), a.js_close = function () {
                        c.close()
                    }, a.js_sure_delete = function () {
                        a.is_deleting = !0, wt.data.mail.trash(f.mail_id, function () {
                            b.$broadcast(kzi.constant.event_names.on_mail_trash, {mail_id: f.mail_id}), a.js_close(), d.close()
                        }, null, function () {
                            a.is_deleting = !1
                        })
                    }
                }]
            }).open()
        }, h.js_pop_move = function (a, d) {
            c.popbox({
                target: a,
                templateUrl: "/tpl/mail/pop_convert_to_post.html",
                controller: ["$scope", "popbox", "globalDataContext", function (a, c, e) {
                    a.popbox = c, a.mail = d, a.step = 0, a.new_post = {watchers: [b.global.me]}, a.js_step = function (b) {
                        a.step = b
                    }, a.js_to_watchers = function () {
                        a.members = [], a.loading_members = !0, wt.data.project.get_members(a.new_post.pid, function (b) {
                            a.members = wt.bus.watch.get_scope_watcher_members(b.data, a.new_post.watchers), a.loading_members = !1
                        }, function () {
                            a.loading_members = !1
                        }), a.js_step(1)
                    }, a.js_change_project = function () {
                        a.new_post.pid !== a.new_post.original_pid && (a.new_post.watchers = [b.global.me], a.new_post.original_pid = a.new_post.pid)
                    }, a.js_toggle_member = function (b) {
                        b.setting_toggle_member !== !0 && (b.setting_toggle_member = !0, wt.bus.watch.mail_convert_post_watch_toggle(f, a.new_post, b, function () {
                        }, null, function () {
                            b.setting_toggle_member = !1
                        }))
                    }, a.js_add_all = function () {
                        _.each(a.members, function (b) {
                            b.watched = !0, _.find(a.new_post.watchers, {uid: b.uid}) || a.new_post.watchers.push(b)
                        }), a.js_step(0)
                    }, a.selected_projects = e.getPacketProjects(), _.isEmpty(a.selected_projects) || (a.new_post.pid = a.selected_projects[0].pid, a.new_post.original_pid = a.new_post.pid), a.js_close = function () {
                        c.close()
                    }, a.js_convert_to_post = function (b, c) {
                        var e = _.map(c.watchers, "uid");
                        c.is_saving = !0, wt.data.mail.convert(c.pid, d.mail_id, "post", e, function () {
                            a.convert_success = !0
                        }, null, function () {
                            c.is_saving = !1
                        })
                    }
                }]
            }).open()
        }
    }

    angular.module("wt.mail.ctrl", []).controller("entityMailCtrl", a), a.$inject = ["$scope", "$rootScope", "$popbox", "locator", "$translate"]
}(), function () {
    "use strict";
    var a = window.wt || {};
    a.version = "2.0", angular.module("wt.tpls", []), angular.module("wtApp", ["pascalprecht.translate", "ngSanitize", "ngAnimate", "ui.bootstrap", "ui.router", "ui.event", "ui.keypress", "ui.calendar", "ui.select", "sf.treeRepeat", "pasvaz.bindonce", "monospaced.elastic", "w5c.validator", "ng-key-selection", "ngFileUpload", "ngJcrop", "ycTemplate", "ycTrack", "ycLogger", "ycConstantXSSWhiteList", "shared.config", "shared.w5cvalidator", "app.config", "app.constant", "wt.tpls", "wt.activity.ctrl", "wt.project.ctrl", "wt.team.ctrl", "wt.team.admin.ctrl", "wt.calendar.ctrl", "wt.dashboard.ctrl", "wt.account.ctrl", "wt.task.ctrl", "wt.event.ctrl", "wt.post.ctrl", "wt.file.ctrl", "wt.page.ctrl", "wt.share.ctrl", "wt.mail.ctrl", "wt.not_found.ctrl", "wt.globalDataContext", "wt.feed", "wt.service.data", "wt.locator", "wt.service.project", "wt.service.profile", "wt.service.team", "wt.service.task", "wt.service.timingtask", "wt.service.event", "wt.service.file", "wt.service.linkentity", "wt.service.quickSwitch", "wt.service.shortcutKey", "wt.service.privilege", "wt.temp_data", "wt.bus", "wt.directive", "wt.directive.comment", "wt.directive.avatar", "wt.directive.task", "wt.directive.attachment", "wt.directive.markdown", "wt.directive.notice", "wt.directive.leftmenu", "wt.directive.dropwindow", "wt.directive.datepicker", "wt.directive.atwho", "wt.directive.height", "wt.directive.scroll", "wt.directive.activityFeed", "wt.directive.uploadfile", "wt.directive.activity", "wt.directive.dragfile", "wt.directive.pastefile", "wt.directive.event", "wt.directive.graph", "wt.directive.post_item", "wt.directive.page", "wt.directive.page_item", "wt.directive.file_item", "wt.directive.slide", "wt.directive.project", "wt.directive.archiveentry_item", "wt.directive.member_control", "wt.directive.notice_panel", "wt.directive.search_panel", "wt.directive.broadcast", "wt.directive.complete_account", "wt.directive.feedback", "wt.filter", "ui.bootstrap.popbox", "ui.sortable", "wt.directive.file", "wt.genius", "wt.new.editor", "wt.autosave", "wt.service.shimo"])
}(), function () {
    "use strict";
    function a(a, b, c, d, e, f, g, h, i) {
        delete a.defaults.headers.common["X-Requested-With"], g.classNameFilter(/wt-animate/), b.options({appendToBody: !0}), f.setJcropConfig({
            bgColor: "black",
            bgOpacity: .4,
            aspectRatio: 1,
            maxHeight: 299.9
        }), c.resourceUrlWhitelist([kzi.config.box_url_regex(), kzi.config.wtbox_url, "self"]), d.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|file|webcal):/);
        var j = wt.me && "" !== wt.me.locale ? wt.me.locale : "zh-cn";
        i.useStaticFilesLoader({
            prefix: "/shared/i18n/",
            suffix: ".json?v=" + wt.appConfig.version
        }).preferredLanguage(j).useSanitizeValueStrategy("escapeParameters"), h.config({
            title: "Worktile",
            icon: kzi.config.cdnpath + "images/wt-logo.png"
        })
    }

    angular.module("app.config", ["w5c.validator", "ui.bootstrap", "wt.genius"]).config(a), a.$inject = ["$httpProvider", "$uibTooltipProvider", "$sceDelegateProvider", "$compileProvider", "w5cValidatorProvider", "ngJcropConfigProvider", "$animateProvider", "$wtNotifyProvider", "$translateProvider"]
}(), function () {
    "use strict";
    function a(a, b, c) {
        b.otherwise(function (a, b) {
            return "/dashboard"
        }), a.state("home", {
            url: "",
            template: "<ui-view></ui-view>",
            controller: ["$rootScope", "global", function (a, b) {
                a.global.loading_init = !0
            }],
            resolve: {
                global: ["globalDataContext", function (a) {
                    return a.loadAll()
                }]
            }
        }).state("share", {
            url: "/share",
            templateUrl: "/tpl/single_page/share.html",
            controller: "shareCtrl",
            header_menu: "",
            parent: "home",
            need_load: !1
        }).state("dashboard", {
            url: "/dashboard",
            template: "<ui-view></ui-view>",
            header_menu: "dashboard",
            need_load: !0,
            abstract: !0,
            parent: "home"
        }).state("email", {
            url: "/email",
            templateUrl: "/tpl/dashboard/dashboardEmail.html",
            controller: "dashboardEmailCtrl",
            header_menu: "dashboard",
            parent: "home",
            need_load: "true"
        }).state("calendar", {
            url: "/calendar",
            templateUrl: "/tpl/dashboard/dashboardCalendar.html",
            controller: "dashboardCalendarCtrl",
            header_menu: "dashboard",
            parent: "home",
            need_load: "true"
        }).state("feed", {
            url: "/feed",
            templateUrl: "/tpl/dashboard/dashboardActivityFeed.html",
            controller: "dashboardActivityFeedCtrl",
            header_menu: "dashboard",
            parent: "home",
            need_load: "true"
        }).state("dashboard.default", {
            url: "",
            templateUrl: "/tpl/dashboard/dashboardTask.html",
            controller: "dashboardTaskCtrl",
            header_menu: "dashboard",
            need_load: "true"
        }).state("calendar_subscribe", {
            url: "/calendar/subscribe",
            templateUrl: "/tpl/calendar/calendar_subscribe.html",
            controller: "calendarSubscribeCtrl",
            header_menu: "dashboard",
            parent: "home",
            need_load: !0
        }).state("search", {
            url: "/search?{keywords:string}&{team_id:string}&{qpattern:string}&{noquery:string}",
            templateUrl: "/ycjs/directive/search/search_panel.html",
            controller: "wtSearchPanelCtl",
            header_menu: "search",
            parent: "home",
            need_load: !1
        }).state("projects", {
            url: "/projects",
            templateUrl: "/tpl/dashboard/projects.html",
            controller: "dashboardProjectsCtrl",
            header_menu: "",
            parent: "home",
            need_load: !0
        }).state("project_not_found", {
            url: "/project/:pid/notfound",
            templateUrl: "/tpl/project/prj_not_found.html",
            controller: "projectNotfoundCtrl",
            header_menu: "project",
            parent: "home",
            need_load: !1
        }).state("project", {
            url: "/project/:pid",
            templateUrl: "/tpl/project/project.html",
            controller: "projectHomeCtrl",
            resolve: {
                fastProject: ["$stateParams", "globalDataContext", function (a, b) {
                    return b.getProject(a.pid).then(function (c) {
                        return c ? (c._is_full = !1, c) : b.loadFullProject(a.pid, !0)
                    })
                }]
            },
            header_menu: "project",
            project_iconmenu: "task",
            need_load: !0,
            parent: "home"
        }).state("project.task", {
            url: "/task",
            header_menu: "project",
            project_iconmenu: "task",
            need_load: !1,
            views: {
                "": {templateUrl: "/tpl/project/task/tasks.html", controller: "projectTasksCtrl"},
                toolbar: {templateUrl: "/tpl/project/task/toolbar.html", controller: "projectTasksToolbarCtrl"}
            }
        }).state("project.task.detail", {
            url: "/:tid",
            header_menu: "project",
            project_iconmenu: "task",
            need_load: !1,
            template: "",
            controller: "projectTaskDetailCtrl"
        }).state("project.post", {
            url: "/post",
            header_menu: "project",
            project_iconmenu: "post",
            need_load: !1,
            views: {
                toolbar: {templateUrl: "/tpl/project/post/toolbar.html", controller: "projectPostsToolbarCtrl"},
                "": {templateUrl: "/tpl/project/post/posts.html", controller: "projectPostsCtrl"}
            }
        }).state("project.post.detail", {
            url: "/:post_id",
            header_menu: "project",
            project_iconmenu: "post",
            need_load: !1,
            template: "",
            controller: "projectPostDetailCtrl"
        }).state("project.file", {
            url: "/file",
            header_menu: "project",
            project_iconmenu: "file",
            need_load: !1,
            views: {
                toolbar: {templateUrl: "/tpl/project/file/toolbar.html", controller: "projectFilesToolbarCtrl"},
                "": {templateUrl: "/tpl/project/file/files.html", controller: "projectFilesCtrl"}
            }
        }).state("project.file.detail", {
            url: "/:fid",
            header_menu: "project",
            project_iconmenu: "file",
            need_load: !1,
            template: "",
            controller: "projectFileDetailCtrl"
        }).state("project.folder", {
            url: "/folder/:folder_id",
            header_menu: "project",
            project_iconmenu: "file",
            need_load: !1,
            views: {
                "": {templateUrl: "/tpl/project/file/files.html", controller: "projectFilesCtrl"},
                toolbar: {templateUrl: "/tpl/project/file/toolbar.html", controller: "projectFilesToolbarCtrl"}
            }
        }).state("project.folder.fileDetail", {
            url: "/:fid",
            header_menu: "project",
            project_iconmenu: "file",
            need_load: !1,
            template: "",
            controller: "projectFileDetailCtrl"
        }).state("project.page", {
            url: "/page",
            header_menu: "project",
            project_iconmenu: "page",
            views: {
                toolbar: {template: '<ui-view name="toolbar"></ui-view>'},
                "": {template: "<ui-view></ui-view>", controller: "projectPagesHomeCtrl"}
            },
            need_load: !1,
            abstract: !0
        }).state("project.page.list", {
            url: "",
            header_menu: "project",
            project_iconmenu: "page",
            need_load: !1,
            views: {
                toolbar: {templateUrl: "/tpl/project/page/toolbar.html", controller: "projectPagesToolbarCtrl"},
                "": {templateUrl: "/tpl/project/page/pages.html", controller: "projectPagesCtrl"}
            }
        }).state("project.page.add", {
            url: "/add",
            header_menu: "project",
            project_iconmenu: "page",
            need_load: !1,
            views: {
                toolbar: {
                    templateUrl: "/tpl/project/page/add_toolbar.html",
                    controller: "projectPageAddToolbarCtrl"
                }, "": {templateUrl: "/tpl/project/page/add_or_edit_page.html", controller: "projectPageAddEditCtrl"}
            }
        }).state("project.page.children_add", {
            url: "/add/:parent_page_id",
            header_menu: "project",
            project_iconmenu: "page",
            need_load: !1,
            views: {
                toolbar: {
                    templateUrl: "/tpl/project/page/add_toolbar.html",
                    controller: "projectPageAddToolbarCtrl"
                }, "": {templateUrl: "/tpl/project/page/add_or_edit_page.html", controller: "projectPageAddEditCtrl"}
            }
        }).state("project.page.list.detail", {
            url: "/:page_id",
            header_menu: "project",
            project_iconmenu: "page",
            need_load: !1,
            controller: "pagesDetailCtrl",
            template: ""
        }).state("project.page.edit", {
            url: "/:page_id/edit",
            header_menu: "project",
            project_iconmenu: "page",
            need_load: !0,
            views: {
                toolbar: {
                    templateUrl: "/tpl/project/page/add_toolbar.html",
                    controller: "projectPageAddToolbarCtrl"
                }, "": {templateUrl: "/tpl/project/page/add_or_edit_page.html", controller: "projectPageAddEditCtrl"}
            }
        }).state("project.page.diff", {
            url: "/:page_id/versions",
            templateUrl: "/tpl/project/page/version_diff.html",
            controller: "projectPageVerDiffCtrl",
            header_menu: "project",
            project_iconmenu: "page",
            need_load: !0
        }).state("project.event", {
            url: "/event",
            header_menu: "project",
            project_iconmenu: "event",
            need_load: !1,
            views: {
                "": {templateUrl: "/tpl/project/event/events.html", controller: "projectEventsCtrl"},
                toolbar: {templateUrl: "/tpl/project/event/toolbar.html", controller: "projectEventsToolbarCtrl"}
            }
        }).state("project.event.detail", {
            url: "/:event_id",
            header_menu: "project",
            project_iconmenu: "event",
            need_load: !1,
            template: "",
            controller: "eventDetailCtrl"
        }).state("project.graph", {
            url: "/graph",
            header_menu: "project",
            project_iconmenu: "graph",
            need_load: !1,
            views: {
                toolbar: {templateUrl: "/tpl/project/graph/toolbar.html", controller: "projectGraphToolbarCtrl"},
                "": {templateUrl: "/tpl/project/graph/graphs.html", controller: "projectGraphCtrl"}
            }
        }).state("project.activity", {
            url: "/activity",
            templateUrl: "/tpl/activity/project_activities.html",
            controller: "projectActivityCtrl",
            header_menu: "project",
            project_iconmenu: "activity",
            need_load: !0
        }).state("project.trash", {
            url: "/trash",
            templateUrl: "/tpl/project/trash/project_trash.html",
            controller: "projectTrashCtrl",
            header_menu: "project",
            project_iconmenu: "trash",
            need_load: !0
        }).state("project.archive", {
            url: "/archive",
            templateUrl: "/tpl/project/task/project_archive_tasks.html",
            controller: "projectArchiveTasksCtrl",
            header_menu: "project",
            project_iconmenu: "task_archive",
            need_load: !1
        }).state("team", {
            url: "/teams/:team_id",
            templateUrl: "/tpl/team/team.html",
            abstract: !0,
            header_menu: "team",
            parent: "home",
            need_load: !0,
            controller: "teamCtrl",
            resolve: {
                team: ["$stateParams", function (a) {
                    return wt.data.team.get_basic(a.team_id, function () {
                    }, function (a) {
                    }).then(function (a) {
                        return a.data.data
                    }, function (a) {
                        return null
                    })
                }]
            }
        }).state("team.projects", {
            url: "",
            templateUrl: "/tpl/team/team_projects.html",
            controller: "team_projects_ctrl",
            header_menu: "team",
            need_load: !0
        }).state("team.members", {
            url: "/members",
            templateUrl: "/tpl/team/team_members.html",
            controller: "teamMembersCtrl",
            header_menu: "team",
            need_load: !0
        }).state("team.tasks", {
            url: "/tasks",
            templateUrl: "/tpl/team/team_tasks.html",
            controller: "team_tasks_ctrl",
            header_menu: "team",
            parent: "team",
            need_load: !0
        }).state("team.graphs", {
            url: "/graphs",
            templateUrl: "/tpl/team/team_graphs.html",
            controller: "team_graphs_ctrl",
            header_menu: "team",
            parent: "team",
            need_load: !0
        }).state("team.calendar", {
            url: "/calendar",
            header_menu: "team",
            parent: "team",
            need_load: !0,
            views: {
                "": {templateUrl: "/tpl/team/team_calendar.html", controller: "teamCalendarCtrl"},
                sidebar: {templateUrl: "/tpl/team/team_calendar_sidebar.html", controller: "teamCalendarSidebarCtrl"}
            }
        }).state("team.setting", {
            url: "/setting",
            templateUrl: "/tpl/team/team_setting.html",
            controller: "teamSettingCtrl",
            header_menu: "team",
            need_load: !0
        }).state("team.admin", {
            url: "/admin",
            templateUrl: "/tpl/team/team_admin.html",
            header_menu: "team",
            parent: "team",
            need_load: !0,
            controller: "teamAdminHomeCtrl"
        }).state("team.admin.custom", {
            url: "/custom",
            templateUrl: "/tpl/team/team_admin_custom.html",
            controller: "teamAdminCustomCtrl",
            header_menu: "team",
            need_load: !0
        }).state("team.admin.basic", {
            url: "/basic",
            templateUrl: "/tpl/team/team_admin_basic.html",
            controller: "teamAdminBasicCtrl",
            header_menu: "team",
            need_load: !0
        }).state("team.admin.members", {
            url: "/members",
            templateUrl: "/tpl/team/team_admin_members.html",
            controller: "teamAdminMembersCtrl",
            header_menu: "team",
            need_load: !0
        }).state("team.admin.projects", {
            url: "/projects",
            templateUrl: "/tpl/team/team_admin_projects.html",
            controller: "teamAdminProjectsCtrl",
            header_menu: "team",
            need_load: !0
        }).state("team.admin.security", {
            url: "/security",
            templateUrl: "/tpl/team/team_admin_security.html",
            controller: "teamAdminSecurityCtrl",
            header_menu: "team",
            need_load: !0
        }).state("team.create", {
            url: "/security",
            templateUrl: "/tpl/team/pop_team_create.html",
            controller: "team_create_ctrl",
            header_menu: "team",
            need_load: !0
        }).state("team.join", {
            url: "/security",
            templateUrl: "/tpl/team/team_join.html",
            controller: "team_join_ctrl",
            header_menu: "team",
            need_load: !0
        }).state("account", {
            url: "/account",
            templateUrl: "/tpl/account/account_settings.html",
            controller: "accountSettingsCtrl",
            header_menu: "",
            parent: "home",
            need_load: !1,
            resolve: {
                account: [function () {
                    return wt.data.account.get_basic().then(function (a) {
                        return a.data.data
                    }, function () {
                        return null
                    })
                }]
            }
        }).state("account.settings", {
            url: "/settings",
            templateUrl: "/tpl/account/account_profile.html",
            controller: "accountProfileCtrl",
            header_menu: "",
            need_load: !1
        }).state("account.change_email", {
            url: "/change_email",
            templateUrl: "/tpl/account/account_profile_change_email.html",
            controller: "accountProfileChangeEmailCtrl",
            header_menu: "",
            header_nav_menu: "account_baseinfo",
            need_load: !1
        }).state("account.change_phone", {
            url: "/change_phone",
            templateUrl: "/tpl/account/account_profile_change_phone.html",
            controller: "accountProfileChangePhoneCtrl",
            header_menu: "",
            header_nav_menu: "account_baseinfo",
            need_load: !1
        }).state("account.individuation", {
            url: "/individuation",
            templateUrl: "/tpl/account/account_individuation.html",
            controller: "accountIndividuationCtrl",
            header_menu: "",
            need_load: !1
        }).state("account.message", {
            url: "/message",
            templateUrl: "/tpl/account/account_message.html",
            controller: "accountMessageCtrl",
            header_menu: "",
            need_load: !0
        }).state("account.security", {
            url: "/security",
            templateUrl: "/tpl/account/account_security.html",
            controller: "accountSecurityCtrl",
            header_menu: "",
            need_load: !0
        }).state("account.apps", {
            url: "/apps",
            templateUrl: "/tpl/account/account_apps.html",
            controller: "accountAppsCtrl",
            header_menu: "",
            need_load: !0
        }).state("account.thirdparty", {
            url: "/thirdparty",
            templateUrl: "/tpl/account/account_thirdparty.html",
            controller: "accountThirdpartyCtrl",
            header_menu: "",
            need_load: !0
        }).state("profile", {
            url: "/user/:username",
            templateUrl: "/app/js/service/profile/profile.html",
            controller: "profileCtrl",
            abstract: !0,
            header_menu: "",
            parent: "home",
            need_load: !0,
            resolve: {
                profile: ["$stateParams", "$state", function (a, b) {
                    return wt.data.profile.get_basic(a.username, function () {
                    }, function () {
                    }).then(function (a) {
                        return a.data.data
                    }, function (a) {
                        b.go("not_found", {type: "profile"})
                    })
                }], teams: ["profile", function (a) {
                    return wt.data.profile.get_teams(a.uid, function () {
                    }, function () {
                    }).then(function (a) {
                        return a.data.data
                    }, function (a) {
                        return []
                    })
                }]
            }
        }).state("profile.info", {
            url: "",
            templateUrl: "/app/js/service/profile/profile_info.html",
            controller: "profileInfoCtrl",
            header_menu: "",
            need_load: !1
        }).state("profile.tasks", {
            url: "/tasks",
            templateUrl: "/app/js/service/profile/profile_tasks.html",
            controller: "profileTasksCtrl",
            header_menu: "",
            need_load: !1
        }).state("profile.graph", {
            url: "/graph",
            templateUrl: "/app/js/service/profile/profile_graph.html",
            controller: "profileGraphCtrl",
            header_menu: "",
            need_load: !1
        }).state("not_found", {
            url: "/not_found/:type",
            templateUrl: "/tpl/404.html",
            need_load: !1,
            header_menu: "index",
            controller: "notFoundCtrl",
            parent: "home",
            is_outter: !0
        }), c.html5Mode(!0)
    }

    angular.module("wtApp").config(a), a.$inject = ["$stateProvider", "$urlRouterProvider", "$locationProvider"]
}(), function () {
    "use strict";
    function a(a, b, c, d, e, f, g) {
        wt.log = e, wt.data = b, wt.bus = c, wt.cache = d("wtApp"), a.global = {
            constant: g,
            config: kzi.config,
            title: "",
            me: wt.me,
            is_login: !_.isUndefined(wt.me) && !_.isEmpty(wt.me.uid),
            loading_init: !1,
            i18n_loading_done: !1,
            loading_done: !1,
            header_menu: "index",
            current_pid: "",
            leftmenu_current_expand: "",
            is_first_landing: wt.me && "1" === wt.me.is_new,
            is_outter: !1,
            show_msg: !1,
            project_iconmenu: "",
            project_sidebar_status: kzi.localData.get("project_sidebar_status") ? kzi.localData.get("project_sidebar_status") : "",
            project_sidebar_view: "member",
            project_sidebar_foldview: "member",
            team_module: kzi.constant.team_module,
            prj_module: kzi.constant.prj_module,
            unread_count: 0,
            dragfile_elements: [],
            is_scroll_comment: !0
        }, f.init()
    }

    angular.module("wtApp").run(a), a.$inject = ["$rootScope", "data", "bus", "$cacheFactory", "$log", "wtAutosaveService", "constant"]
}(), function () {
    "use strict";
    function a(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o) {
        a.locator = i, a.returnToSignin = function () {
            a.global.is_login = !1, i.close(), e.location.href = "/signin?return_url=" + e.location.pathname
        }, a.login = function (b, d, e, f, h, i) {
            wt.data.signin(b, d, function (b) {
                a.global.me = b.data.session, a.global.is_login = !0, kzi.config.feed_turn_on && g.connect(), null !== e && c.path(e), angular.isFunction(f) && f(b)
            }, h, i)
        }, a.logout = function (b) {
            g.close(), delete a.global.me, a.global.is_login = !1, wt.data.signout(function (a) {
                if (!b) {
                    e.location.href = "/";
                    var c = kzi.localData.get("broadcast_show_id"), d = kzi.localData.get("project_sidebar_status");
                    kzi.localData.clear(), kzi.localData.set("broadcast_show_id", c), kzi.localData.set("project_sidebar_status", d)
                }
            })
        }, a.auth = function (b, c) {
            wt.data.auth(function (d) {
                200 === d.code ? (a.global.me = d.data.session, a.global.me.role = "1", a.global.is_login = !0, null !== b && "function" == typeof b && b()) : (delete a.global.me, a.global.is_login = !1, null !== c && "function" == typeof c && c())
            })
        }, a.$on(kzi.constant.event_names.emit_filter_activity_by_type, function (b, c) {
            a.$broadcast(kzi.constant.event_names.filter_activity_by_type, {data: c})
        }), a.$on(kzi.constant.event_names.emit_filter_watch_by_type, function (b, c) {
            a.$broadcast(kzi.constant.event_names.filter_watch_by_type, {data: c})
        }), a.$on("$stateChangeStart", function (b, c, d, e, f) {
            null == c.need_load || c.need_load === !0 ? a.global.loading_done = !1 : a.global.loading_done = !0, a.global.is_outter = !!c.is_outter
        }), a.$on("$stateChangeSuccess", function (b, d, f, g, h) {
            f.pid && (a.global.current_pid = f.pid), a.global.header_menu = d.header_menu, d.project_iconmenu && (a.global.project_iconmenu = d.project_iconmenu), a.global.is_login || d.is_outter === !0 ? d.is_outter === !0 && angular.noop() : /^\/signin/g.test(c.$$path) || (e.location.href = "/signin?return_url=" + c.$$path)
        }), a.$on("$stateChangeError", function (a, b, c, d, e, g) {
            f.debug(g)
        }), a.$on("$locationChangeSuccess", function (b, d, e, f, g) {
            a.actualLocation = c.path()
        });
        var p = {
            notice_new: function (b) {
                if (a.global.unread_count++, a.$broadcast(kzi.constant.event_names.notice_new, b.notice), "1" === a.global.me.notice_for_desktop && b && b.notice) {
                    var c = b.notice;
                    "task_assign" === c.template ? k.notify({
                        title: l.instant("desktop_notify.new_task_title"),
                        body: l.instant("desktop_notify.new_task_info", {
                            sender: c.sender.display_name,
                            task_name: c.data.entity.name
                        }),
                        notifyClick: function () {
                            i.openTask(c.filter.prj, c.data.entity.eid)
                        }
                    }) : "task_complete" === c.template ? k.notify({
                        title: l.instant("desktop_notify.task_complete_title"),
                        body: l.instant("desktop_notify.task_complete_info", {
                            sender: c.sender.display_name,
                            task_name: c.data.entity.name
                        }),
                        notifyClick: function () {
                            i.openTask(c.filter.prj, c.data.entity.eid)
                        }
                    }) : "metion_at_comment" === c.template && ("task" === c.data.target.etype ? k.notify({
                        title: l.instant("desktop_notify.mention_you_title"),
                        body: l.instant("desktop_notify.mention_you_info", {
                            sender: c.sender.display_name,
                            entity_title: l.instant("task.entity_name"),
                            entity_name: c.data.target.name,
                            content: c.data.entity.name
                        }),
                        notifyClick: function () {
                            i.openTask(c.filter.prj, c.data.target.eid)
                        }
                    }) : "file" === c.data.target.etype ? k.notify({
                        title: l.instant("desktop_notify.mention_you_title"),
                        body: l.instant("desktop_notify.mention_you_info", {
                            sender: c.sender.display_name,
                            entity_title: l.instant("file.entity_name"),
                            entity_name: c.data.target.name,
                            content: c.data.entity.name
                        }),
                        notifyClick: function () {
                            i.openFile(c.filter.prj, c.data.target.eid)
                        }
                    }) : "post" === c.data.target.etype ? k.notify({
                        title: l.instant("desktop_notify.mention_you_title"),
                        body: l.instant("desktop_notify.mention_you_info", {
                            sender: c.sender.display_name,
                            entity_title: l.instant("post.entity_name"),
                            entity_name: c.data.target.name,
                            content: c.data.entity.name
                        }),
                        notifyClick: function () {
                            i.openPost(c.filter.prj, c.data.target.eid, !1)
                        }
                    }) : "page" === c.data.target.etype ? k.notify({
                        title: l.instant("desktop_notify.mention_you_title"),
                        body: l.instant("desktop_notify.mention_you_info", {
                            sender: c.sender.display_name,
                            entity_title: l.instant("page.entity_name"),
                            entity_name: c.data.target.name,
                            content: c.data.entity.name
                        }),
                        notifyClick: function () {
                            i.openPage(c.filter.prj, c.data.target.eid, !1)
                        }
                    }) : "event" === c.data.target.etype && k.notify({
                        title: l.instant("desktop_notify.mention_you_title"),
                        body: l.instant("desktop_notify.mention_you_info", {
                            sender: c.sender.display_name,
                            entity_title: l.instant("event.entity_name"),
                            entity_name: c.data.target.name,
                            content: c.data.entity.name
                        }),
                        notifyClick: function () {
                            i.openEvent(c.filter.prj, c.data.target.eid, !1)
                        }
                    }))
                }
            }, project_list: function (b) {
                b.uid !== a.global.me.uid && (b.owner === a.global.me.uid && "remove_member" === b.action || "delete_project" === b.action ? (h.cache.project.remove(b.pid), h.project.info && h.project.pid === b.pid && c.path("/projects")) : (h.project.info && b.pid === h.project.pid && "archive_project" === b.action && (h.project.info.permission = kzi.constant.prj_module.view, h.project.info.archived = 1, a.$broadcast(kzi.constant.event_names.project_permission_change, b)), h.project.info && b.pid === h.project.pid && "unarchive_project" === b.action && (h.project.info.archived = 0, h.loadFullProject(b.pid, !0, function (a) {
                    h.project.info.permission = a.permission
                }), a.$broadcast(kzi.constant.event_names.project_permission_change, b)), h.reloadProjects(function (a) {
                    if (h.project.info) {
                        var c = _.find(a, {pid: b.pid});
                        c && (h.project.info.permission = c.permission, h.project.info.archived = c.archived)
                    }
                })))
            }, project_single: function (b) {
                var c = _.find(h.projects, {pid: b.pid});
                c && b.uid !== a.global.me.uid && wt.data.project.get(b.pid, function (a) {
                    h.project && a.pid === h.project.info.pid, h.cache.project.updateFull(a.data.info)
                })
            }, team_list: function (b) {
                if (b.owner === a.global.me.uid && b.uid !== a.global.me.uid) {
                    var e = _.find(h.teams, {team_id: b.team_id});
                    if (e && "remove_member" === b.action) {
                        h.cache.team.leave(b.team_id);
                        var f = d.team_id;
                        f && f === b.team_id && (kzi.constant.team_module.view_base & b.team_permission ? a.$broadcast(kzi.constant.event_names.team_member_role_change, b) : c.path("/projects"))
                    } else h.reloadTeams(function () {
                    })
                }
            }, team_member_remove: function (a) {
            }, team_member_leave: function (a) {
                _.find(h.teams, {team_id: a.team_id})
            }, project_members: function (b) {
                h.project.info && b.pid === h.project.info.pid && b.uid !== a.global.me.uid && wt.data.project.get_members(b.pid, function (a) {
                    h.project.info.members = a.data
                })
            }, project_member_remove: function (b) {
                b.uid === a.global.me.uid && b.owner === a.global.me.uid || (b.owner === a.global.me.uid ? (h.cache.project.remove(b.pid), b.pid === h.project.pid && c.path("/dashboard")) : h.cache.project.member_remove(b.pid, b.owner))
            }, project_member_role: function (b) {
                h.project.info && b.pid === h.project.info.pid && b.owner === a.global.me.uid && (h.project.info.permission = b.permission, d.pid !== b.pid || kzi.constant.prj_module.view & b.permission || c.path("/projects"), a.$broadcast(kzi.constant.event_names.project_permission_change, b));
                var e = _.find(h.projects, {pid: b.pid});
                e && b.owner === a.global.me.uid && (e.permission = b.permission, a.$broadcast(kzi.constant.event_names.project_permission_change, b))
            }, entry_list: function (b) {
                h.project && null != b && b.pid === h.project.info.pid && b.uid !== a.global.me.uid && h.reloadEntriesAndTasks(b.pid, function () {
                    a.$broadcast("socket_message_entry_list")
                })
            }, task_single: function (b) {
                if (h.project && h.project.info && b.pid === h.project.info.pid)var c = _.find(h.project.tasks, {tid: b.tid});
                wt.data.task.get(b.pid, b.tid, function (d) {
                    if (a.$broadcast(kzi.constant.event_names.on_task_update, d.data), c) {
                        if (h.cache.task.update_full(d.data), a.$broadcast(kzi.constant.event_names.on_task_badges_check, {tid: c.tid}), b.moved) {
                            var e = c.entry_id;
                            c.entry_id = d.data.entry_id, a.$broadcast(kzi.constant.event_names.on_task_move, {
                                task: d.data,
                                from_entry_id: e
                            })
                        }
                    } else h.cache.task.add(d.data), a.$broadcast(kzi.constant.event_names.on_task_add, {task: d.data})
                })
            }, task_lock: function (b) {
                h.project && h.project.pid === b.pid && h.cache.task.lock(b.tid, b.lock), b.uid !== a.global.me.uid && a.$broadcast(kzi.constant.event_names.on_task_lock, {
                    tid: b.tid,
                    lock: b.lock
                })
            }, task_delete: function (b) {
                h.project && h.project.pid === b.pid && h.cache.task.del(b.tid), b.uid !== a.global.me.uid && a.$broadcast(kzi.constant.event_names.on_task_trash, {tid: b.tid})
            }, task_complete: function (b) {
                h.project && h.project.pid === b.pid && h.cache.task.complete(b.tid, b.completed), b.uid !== a.global.me.uid && a.$broadcast(kzi.constant.event_names.on_task_complete, b)
            }, task_archive: function (b) {
                h.project && h.project.pid === b.pid && h.cache.task.archive(b.tid), b.uid !== a.global.me.uid && a.$broadcast(kzi.constant.event_names.on_task_archive, b.tid)
            }, team_member_role: function (b) {
                if (b.owner === a.global.me.uid) {
                    var c = _.find(h.teams, {team_id: b.team_id});
                    c && kzi.constant.team_module.view & b.team_permission ? (c.permission = b.team_permission, a.$broadcast(kzi.constant.event_names.team_member_role_change, b)) : c && (h.cache.team.leave(b.team_id), a.$broadcast(kzi.constant.event_names.team_member_role_change, b))
                }
            }, comment_new: function (b) {
                a.global.me.uid !== b.uid && a.$broadcast(kzi.constant.event_names.on_comment_new, b)
            }, notice_read: function (b) {
                b.owner === a.global.me.uid && ("all" === b.nid ? a.global.unread_count = 0 : a.global.unread_count = a.global.unread_count > 0 ? a.global.unread_count - 1 : 0)
            }, weixin_bind: function (b) {
                b.owner !== a.global.me.uid || b.error ? kzi.msg.error(l.instant("err_info.weixin_bind_err")) : (a.global.me.is_bind_weixin = !0, a.$broadcast(kzi.constant.event_names.on_weixin_bind, {data: !0}))
            }
        };
        a.global.me && ("1" === wt.me.is_new && (a.global.is_first_landing = !0, j(function () {
            b.showAdd()
        }, 2e3), wt.data.user.set_user_old(function (b) {
            a.global.is_first_landing = !1
        })), g.onMessage(function (b) {
            return p[b.args] && a.$apply(function () {
                p[b.args](b.data)
            }), !0
        }), g.onPresence(function (b, c) {
            return a.$apply(function () {
                h.cache.user.change_state(b, c)
            }), !0
        }), kzi.config.feed_turn_on && g.connect(a.global.me.uid, a.global.me.sid));
        var q = wt.me && "" !== wt.me.locale ? wt.me.locale : "zh-cn";
        l.use(q).then(function () {
            a.global.i18n_loading_done = !0, "undefined" != typeof Heyoffline && new Heyoffline({
                text: {
                    title: l.instant("err_info.offline_title"),
                    content: l.instant("err_info.offline_info"),
                    button: l.instant("err_info.offline_btns")
                }
            }), n.init()
        }), o.check()
    }

    angular.module("wtApp").run(a), a.$inject = ["$rootScope", "teamService", "$location", "$stateParams", "$window", "$log", "feed", "globalDataContext", "locator", "$timeout", "$wtNotify", "$translate", "w5cValidator", "commonW5cValidator", "wtBroadcastService"]
}(), function () {
    function a(a, b) {
        this.init = function () {
            a.setRules({
                new_phone: {
                    w5cuniquecheck: b.instant("form_valid.phone_duplicate"),
                    required: b.instant("form_valid.phone_require"),
                    pattern: b.instant("form_valid.phone_error")
                },
                phone_code: {required: b.instant("form_valid.phone_verifycode_require")},
                new_email: {
                    required: b.instant("form_valid.email_require"),
                    w5cuniquecheck: b.instant("form_valid.email_duplicate")
                },
                feedback_type: {required: b.instant("form_valid.feedback_type_require")},
                feedback_desc: {required: b.instant("form_valid.feedback_desc_require")},
                projectName: {required: b.instant("form_valid.project_name_require")},
                login_name: {required: b.instant("form_valid.username_email_require")},
                login_password: {
                    required: b.instant("form_valid.pwd_login_require"),
                    maxlength: b.instant("form_valid.pwd_too_large"),
                    minlength: b.instant("form_valid.pwd_too_small")
                },
                signup_team_name: {
                    required: b.instant("form_valid.teamname_require"),
                    maxlength: b.instant("form_valid.teamname_too_large")
                },
                apply_email: {
                    required: b.instant("form_valid.email_require"),
                    w5cuniquecheck: b.instant("form_valid.email_duplication"),
                    maxlength: b.instant("form_valid.email_too_large")
                },
                team_name: {
                    required: b.instant("form_valid.teamname_require"),
                    maxlength: b.instant("form_valid.teamname_too_large")
                },
                team_industry: {required: b.instant("form_valid.industry_require")},
                forget_email: {
                    required: b.instant("form_valid.email_require"),
                    w5cuniquecheck: b.instant("form_valid.email_not_exist"),
                    maxlength: b.instant("form_valid.email_too_large")
                },
                feedback_username: {required: b.instant("form_valid.feedback_name_require")},
                feedback_email: {required: b.instant("form_valid.feedback_email_require")},
                display_name: {required: b.instant("form_valid.realname_require")},
                password: {
                    required: b.instant("form_valid.pwd_require"),
                    minlength: b.instant("form_valid.pwd_too_small")
                },
                pwd_old: {
                    required: b.instant("form_valid.old_pwd_require"),
                    minlength: b.instant("form_valid.old_pwd_too_small")
                },
                pwd_new: {
                    required: b.instant("form_valid.new_pwd_require"),
                    minlength: b.instant("form_valid.new_pwd_too_small")
                },
                prj_name: {required: b.instant("form_valid.project_name_require")},
                task_name: {required: b.instant("form_valid.task_name_require")},
                entry_select: {required: b.instant("form_valid.task_target_entry_require")},
                share_email: {required: b.instant("form_valid.email_require")},
                share_desc: {required: b.instant("form_valid.share_desc_require")},
                selected_team: {required: b.instant("form_valid.team_require")},
                confirm_password: {required: b.instant("form_valid.confirm_pwd_require")},
                factor: {required: b.instant("form_valid.factor_require")},
                recovery_code: {required: b.instant("form_valid.recovery_code_require")},
                signup_phone: {
                    required: b.instant("form_valid.phone_require"),
                    w5cuniquecheck: b.instant("form_valid.phone_duplicate"),
                    pattern: b.instant("form_valid.phone_error")
                },
                user_name: {
                    required: b.instant("form_valid.username_require"),
                    maxlength: b.instant("form_valid.username_too_large"),
                    w5cuniquecheck: b.instant("form_valid.username_duplcation"),
                    pattern: b.instant("form_valid.username_format")
                },
                signup_name: {
                    required: b.instant("form_valid.username_require"),
                    maxlength: b.instant("form_valid.username_too_large"),
                    w5cuniquecheck: b.instant("form_valid.username_duplcation"),
                    pattern: b.instant("form_valid.username_format")
                },
                signup_password: {
                    required: b.instant("form_valid.pwd_require"),
                    maxlength: b.instant("form_valid.pwd_too_large"),
                    minlength: b.instant("form_valid.pwd_too_small")
                },
                signup_email: {
                    required: b.instant("form_valid.email_require"),
                    w5cuniquecheck: b.instant("form_valid.email_duplication")
                },
                forget_phone: {
                    required: b.instant("form_valid.phone_require"),
                    w5cuniquecheck: b.instant("form_valid.phone_not_exist"),
                    pattern: b.instant("form_valid.phone_error")
                },
                forget_phone_code: {required: b.instant("form_valid.phone_verifycode_require")}
            })
        }
    }

    angular.module("shared.w5cvalidator", ["w5c.validator"]).service("commonW5cValidator", a), a.$inject = ["w5cValidator", "$translate"]
}(), function () {
    "use strict";
    function a(a, b, c, d, e, f, g, h, i, j, k, l, m) {
        var n = null;
        e.onblur = function () {
            n || (n = setTimeout(function () {
                a.global.me.online = kzi.constant.state.leave, g.leave(), clearTimeout(n), n = null
            }, 9e5))
        }, e.onfocus = function () {
            parseInt(a.global.me.online, 10) !== kzi.constant.state.online && g.online(), j.cache.user.change_state(a.global.me.uid, kzi.constant.state.online), clearTimeout(n), n = null
        }, l.init(), e.onbeforeunload = function () {
            return k.uploadQueueFiles && k.uploadQueueFiles.length > 0 ? m.instant("warn_info.uploading_tip") : void(g && g.close())
        }, $(document.body).bind("drop dragover", function (a) {
            a.preventDefault()
        }), $(document.body).bind("blur.dragfile", function () {
            $(".dragfile-hover").removeClass("dragfile-hover")
        });
        var o = ["right_click_trigger", "entry_header"];
        document.oncontextmenu = function (b) {
            b = b || window.event;
            var c = !0;
            return _.each(o, function (d) {
                ($(b.target).hasClass(d) || $(b.target).parents("." + d).length > 0) && (a.$broadcast(kzi.constant.event_names.on_right_menu, b), c = !1)
            }), c
        }, $(document.body).bind("selectstart", function (a) {
            var b = !0;
            return _.each(o, function (c) {
                ($(a.target).hasClass(c) || $(a.target).parents("." + c).length > 0) && (b = !1)
            }), b
        })
    }

    angular.module("wtApp").run(a), a.$inject = ["$rootScope", "$location", "$stateParams", "$uibModal", "$window", "$timeout", "feed", "locator", "wtScrollService", "globalDataContext", "$wtUploadFile", "shortcutKey", "$translate"]
}(), !function (a, b) {
    "use strict";
    "function" == typeof define && define.amd ? define(["moment"], b) : "object" == typeof module && module.exports ? module.exports = b(require("moment")) : b(a.moment)
}(this, function (a) {
    "use strict";
    function b(a) {
        return a > 96 ? a - 87 : a > 64 ? a - 29 : a - 48
    }

    function c(a) {
        var c, d = 0, e = a.split("."), f = e[0], g = e[1] || "", h = 1, i = 0, j = 1;
        for (45 === a.charCodeAt(0) && (d = 1, j = -1), d; d < f.length; d++)c = b(f.charCodeAt(d)), i = 60 * i + c;
        for (d = 0; d < g.length; d++)h /= 60, c = b(g.charCodeAt(d)), i += c * h;
        return i * j
    }

    function d(a) {
        for (var b = 0; b < a.length; b++)a[b] = c(a[b])
    }

    function e(a, b) {
        for (var c = 0; b > c; c++)a[c] = Math.round((a[c - 1] || 0) + 6e4 * a[c]);
        a[b - 1] = 1 / 0
    }

    function f(a, b) {
        var c, d = [];
        for (c = 0; c < b.length; c++)d[c] = a[b[c]];
        return d
    }

    function g(a) {
        var b = a.split("|"), c = b[2].split(" "), g = b[3].split(""), h = b[4].split(" ");
        return d(c), d(g), d(h), e(h, g.length), {
            name: b[0],
            abbrs: f(b[1].split(" "), g),
            offsets: f(c, g),
            untils: h,
            population: 0 | b[5]
        }
    }

    function h(a) {
        a && this._set(g(a))
    }

    function i(a) {
        var b = a.toTimeString(), c = b.match(/\([a-z ]+\)/i);
        c && c[0] ? (c = c[0].match(/[A-Z]/g), c = c ? c.join("") : void 0) : (c = b.match(/[A-Z]{3,5}/g), c = c ? c[0] : void 0), "GMT" === c && (c = void 0), this.at = +a, this.abbr = c, this.offset = a.getTimezoneOffset()
    }

    function j(a) {
        this.zone = a, this.offsetScore = 0, this.abbrScore = 0
    }

    function k(a, b) {
        for (var c, d; d = 6e4 * ((b.at - a.at) / 12e4 | 0);)c = new i(new Date(a.at + d)), c.offset === a.offset ? a = c : b = c;
        return a
    }

    function l() {
        var a, b, c, d = (new Date).getFullYear() - 2, e = new i(new Date(d, 0, 1)), f = [e];
        for (c = 1; 48 > c; c++)b = new i(new Date(d, c, 1)), b.offset !== e.offset && (a = k(e, b), f.push(a), f.push(new i(new Date(a.at + 6e4)))), e = b;
        for (c = 0; 4 > c; c++)f.push(new i(new Date(d + c, 0, 1))), f.push(new i(new Date(d + c, 6, 1)));
        return f
    }

    function m(a, b) {
        return a.offsetScore !== b.offsetScore ? a.offsetScore - b.offsetScore : a.abbrScore !== b.abbrScore ? a.abbrScore - b.abbrScore : b.zone.population - a.zone.population
    }

    function n(a, b) {
        var c, e;
        for (d(b), c = 0; c < b.length; c++)e = b[c], I[e] = I[e] || {}, I[e][a] = !0
    }

    function o(a) {
        var b, c, d, e = a.length, f = {}, g = [];
        for (b = 0; e > b; b++) {
            d = I[a[b].offset] || {};
            for (c in d)d.hasOwnProperty(c) && (f[c] = !0)
        }
        for (b in f)f.hasOwnProperty(b) && g.push(H[b]);
        return g
    }

    function p() {
        try {
            var a = Intl.DateTimeFormat().resolvedOptions().timeZone;
            if (a) {
                var b = H[r(a)];
                if (b)return b;
                z("Moment Timezone found " + a + " from the Intl api, but did not have that data loaded.")
            }
        } catch (a) {
        }
        var c, d, e, f = l(), g = f.length, h = o(f), i = [];
        for (d = 0; d < h.length; d++) {
            for (c = new j(t(h[d]), g), e = 0; g > e; e++)c.scoreOffsetAt(f[e]);
            i.push(c)
        }
        return i.sort(m), i.length > 0 ? i[0].zone.name : void 0
    }

    function q(a) {
        return D && !a || (D = p()), D
    }

    function r(a) {
        return (a || "").toLowerCase().replace(/\//g, "_")
    }

    function s(a) {
        var b, c, d, e;
        for ("string" == typeof a && (a = [a]), b = 0; b < a.length; b++)d = a[b].split("|"), c = d[0], e = r(c), F[e] = a[b], H[e] = c, d[5] && n(e, d[2].split(" "))
    }

    function t(a, b) {
        a = r(a);
        var c, d = F[a];
        return d instanceof h ? d : "string" == typeof d ? (d = new h(d), F[a] = d, d) : G[a] && b !== t && (c = t(G[a], t)) ? (d = F[a] = new h, d._set(c), d.name = H[a], d) : null
    }

    function u() {
        var a, b = [];
        for (a in H)H.hasOwnProperty(a) && (F[a] || F[G[a]]) && H[a] && b.push(H[a]);
        return b.sort()
    }

    function v(a) {
        var b, c, d, e;
        for ("string" == typeof a && (a = [a]), b = 0; b < a.length; b++)c = a[b].split("|"), d = r(c[0]), e = r(c[1]), G[d] = e, H[d] = c[0], G[e] = d, H[e] = c[1]
    }

    function w(a) {
        s(a.zones), v(a.links), A.dataVersion = a.version
    }

    function x(a) {
        return x.didShowError || (x.didShowError = !0, z("moment.tz.zoneExists('" + a + "') has been deprecated in favor of !moment.tz.zone('" + a + "')")), !!t(a)
    }

    function y(a) {
        return !(!a._a || void 0 !== a._tzm)
    }

    function z(a) {
        "undefined" != typeof console && "function" == typeof console.error && console.error(a)
    }

    function A(b) {
        var c = Array.prototype.slice.call(arguments, 0, -1), d = arguments[arguments.length - 1], e = t(d), f = a.utc.apply(null, c);
        return e && !a.isMoment(b) && y(f) && f.add(e.parse(f), "minutes"), f.tz(d), f
    }

    function B(a) {
        return function () {
            return this._z ? this._z.abbr(this) : a.call(this)
        }
    }

    function C(a) {
        return function () {
            return this._z = null, a.apply(this, arguments)
        }
    }

    if (void 0 !== a.tz)return z("Moment Timezone " + a.tz.version + " was already loaded " + (a.tz.dataVersion ? "with data from " : "without any data") + a.tz.dataVersion), a;
    var D, E = "0.5.4", F = {}, G = {}, H = {}, I = {}, J = a.version.split("."), K = +J[0], L = +J[1];
    (2 > K || 2 === K && 6 > L) && z("Moment Timezone requires Moment.js >= 2.6.0. You are using Moment.js " + a.version + ". See momentjs.com"), h.prototype = {
        _set: function (a) {
            this.name = a.name, this.abbrs = a.abbrs, this.untils = a.untils, this.offsets = a.offsets, this.population = a.population
        }, _index: function (a) {
            var b, c = +a, d = this.untils;
            for (b = 0; b < d.length; b++)if (c < d[b])return b
        }, parse: function (a) {
            var b, c, d, e, f = +a, g = this.offsets, h = this.untils, i = h.length - 1;
            for (e = 0; i > e; e++)if (b = g[e], c = g[e + 1], d = g[e ? e - 1 : e], c > b && A.moveAmbiguousForward ? b = c : b > d && A.moveInvalidForward && (b = d), f < h[e] - 6e4 * b)return g[e];
            return g[i]
        }, abbr: function (a) {
            return this.abbrs[this._index(a)]
        }, offset: function (a) {
            return this.offsets[this._index(a)]
        }
    }, j.prototype.scoreOffsetAt = function (a) {
        this.offsetScore += Math.abs(this.zone.offset(a.at) - a.offset), this.zone.abbr(a.at).replace(/[^A-Z]/g, "") !== a.abbr && this.abbrScore++
    }, A.version = E, A.dataVersion = "", A._zones = F, A._links = G, A._names = H, A.add = s, A.link = v, A.load = w, A.zone = t, A.zoneExists = x, A.guess = q, A.names = u, A.Zone = h, A.unpack = g, A.unpackBase60 = c, A.needsOffset = y, A.moveInvalidForward = !0, A.moveAmbiguousForward = !1;
    var M = a.fn;
    a.tz = A, a.defaultZone = null, a.updateOffset = function (b, c) {
        var d, e = a.defaultZone;
        void 0 === b._z && (e && y(b) && !b._isUTC && (b._d = a.utc(b._a)._d, b.utc().add(e.parse(b), "minutes")), b._z = e), b._z && (d = b._z.offset(b), Math.abs(d) < 16 && (d /= 60), void 0 !== b.utcOffset ? b.utcOffset(-d, c) : b.zone(d, c))
    }, M.tz = function (b) {
        return b ? (this._z = t(b), this._z ? a.updateOffset(this) : z("Moment Timezone has no data for " + b + ". See http://momentjs.com/timezone/docs/#/data-loading/."), this) : this._z ? this._z.name : void 0
    }, M.zoneName = B(M.zoneName), M.zoneAbbr = B(M.zoneAbbr), M.utc = C(M.utc), a.tz.setDefault = function (b) {
        return (2 > K || 2 === K && 9 > L) && z("Moment Timezone setDefault() requires Moment.js >= 2.9.0. You are using Moment.js " + a.version + "."), a.defaultZone = b ? t(b) : null, a
    };
    var N = a.momentProperties;
    return "[object Array]" === Object.prototype.toString.call(N) ? (N.push("_z"), N.push("_a")) : N && (N._z = null), w({
        version: "2016d",
        zones: ["Africa/Abidjan|GMT|0|0||48e5", "Africa/Khartoum|EAT|-30|0||51e5", "Africa/Algiers|CET|-10|0||26e5", "Africa/Lagos|WAT|-10|0||17e6", "Africa/Maputo|CAT|-20|0||26e5", "Africa/Cairo|EET EEST|-20 -30|010101010|1Cby0 Fb0 c10 8n0 8Nd0 gL0 e10 mn0|15e6", "Africa/Casablanca|WET WEST|0 -10|01010101010101010101010101010101010101010|1Cco0 Db0 1zd0 Lz0 1Nf0 wM0 co0 go0 1o00 s00 dA0 vc0 11A0 A00 e00 y00 11A0 uM0 e00 Dc0 11A0 s00 e00 IM0 WM0 mo0 gM0 LA0 WM0 jA0 e00 Rc0 11A0 e00 e00 U00 11A0 8o0 e00 11A0|32e5", "Europe/Paris|CET CEST|-10 -20|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|11e6", "Africa/Johannesburg|SAST|-20|0||84e5", "Africa/Tripoli|EET CET CEST|-20 -10 -20|0120|1IlA0 TA0 1o00|11e5", "Africa/Windhoek|WAST WAT|-20 -10|01010101010101010101010|1C1c0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0|32e4", "America/Adak|HST HDT|a0 90|01010101010101010101010|1BR00 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|326", "America/Anchorage|AKST AKDT|90 80|01010101010101010101010|1BQX0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|30e4", "America/Santo_Domingo|AST|40|0||29e5", "America/Araguaina|BRT BRST|30 20|010|1IdD0 Lz0|14e4", "America/Argentina/Buenos_Aires|ART|30|0|", "America/Asuncion|PYST PYT|30 40|01010101010101010101010|1C430 1a10 1fz0 1a10 1fz0 1cN0 17b0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0|28e5", "America/Panama|EST|50|0||15e5", "America/Bahia|BRT BRST|30 20|010|1FJf0 Rb0|27e5", "America/Bahia_Banderas|MST CDT CST|70 50 60|01212121212121212121212|1C1l0 1nW0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0|84e3", "America/Fortaleza|BRT|30|0||34e5", "America/Managua|CST|60|0||22e5", "America/Manaus|AMT|40|0||19e5", "America/Bogota|COT|50|0||90e5", "America/Denver|MST MDT|70 60|01010101010101010101010|1BQV0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|26e5", "America/Campo_Grande|AMST AMT|30 40|01010101010101010101010|1BIr0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10|77e4", "America/Cancun|CST CDT EST|60 50 50|010101010102|1C1k0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 Dd0|63e4", "America/Caracas|VET VET|4u 40|01|1QMT0|29e5", "America/Cayenne|GFT|30|0||58e3", "America/Chicago|CST CDT|60 50|01010101010101010101010|1BQU0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|92e5", "America/Chihuahua|MST MDT|70 60|01010101010101010101010|1C1l0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0|81e4", "America/Phoenix|MST|70|0||42e5", "America/Los_Angeles|PST PDT|80 70|01010101010101010101010|1BQW0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|15e6", "America/New_York|EST EDT|50 40|01010101010101010101010|1BQT0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|21e6", "America/Rio_Branco|AMT ACT|40 50|01|1KLE0|31e4", "America/Fort_Nelson|PST PDT MST|80 70 70|010101010102|1BQW0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0|39e2", "America/Halifax|AST ADT|40 30|01010101010101010101010|1BQS0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|39e4", "America/Godthab|WGT WGST|30 20|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|17e3", "America/Goose_Bay|AST ADT|40 30|01010101010101010101010|1BQQ1 1zb0 Op0 1zcX Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|76e2", "America/Grand_Turk|EST EDT AST|50 40 40|0101010101012|1BQT0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|37e2", "America/Guayaquil|ECT|50|0||27e5", "America/Guyana|GYT|40|0||80e4", "America/Havana|CST CDT|50 40|01010101010101010101010|1BQR0 1wo0 U00 1zc0 U00 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0|21e5", "America/La_Paz|BOT|40|0||19e5", "America/Lima|PET|50|0||11e6", "America/Mexico_City|CST CDT|60 50|01010101010101010101010|1C1k0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0|20e6", "America/Metlakatla|PST AKST AKDT|80 90 80|012121212121|1PAa0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|14e2", "America/Miquelon|PMST PMDT|30 20|01010101010101010101010|1BQR0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|61e2", "America/Montevideo|UYST UYT|20 30|010101010101|1BQQ0 1ld0 14n0 1ld0 14n0 1o10 11z0 1o10 11z0 1o10 11z0|17e5", "America/Noronha|FNT|20|0||30e2", "America/North_Dakota/Beulah|MST MDT CST CDT|70 60 60 50|01232323232323232323232|1BQV0 1zb0 Oo0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0", "America/Paramaribo|SRT|30|0||24e4", "America/Port-au-Prince|EST EDT|50 40|010101010|1GI70 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|23e5", "America/Santiago|CLST CLT|30 40|010101010101010101010|1C1f0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0|62e5", "America/Sao_Paulo|BRST BRT|20 30|01010101010101010101010|1BIq0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10|20e6", "America/Scoresbysund|EGT EGST|10 0|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|452", "America/St_Johns|NST NDT|3u 2u|01010101010101010101010|1BQPv 1zb0 Op0 1zcX Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|11e4", "Antarctica/Casey|CAST AWST|-b0 -80|0101|1BN30 40P0 KL0|10", "Antarctica/Davis|DAVT DAVT|-50 -70|0101|1BPw0 3Wn0 KN0|70", "Antarctica/DumontDUrville|DDUT|-a0|0||80", "Antarctica/Macquarie|AEDT MIST|-b0 -b0|01|1C140|1", "Antarctica/Mawson|MAWT|-50|0||60", "Pacific/Auckland|NZDT NZST|-d0 -c0|01010101010101010101010|1C120 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00|14e5", "Antarctica/Rothera|ROTT|30|0||130", "Antarctica/Syowa|SYOT|-30|0||20", "Antarctica/Troll|UTC CEST|0 -20|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|40", "Antarctica/Vostok|VOST|-60|0||25", "Asia/Baghdad|AST|-30|0||66e5", "Asia/Almaty|+06|-60|0||15e5", "Asia/Amman|EET EEST|-20 -30|010101010101010101010|1BVy0 1qM0 11A0 1o00 11A0 4bX0 Dd0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0|25e5", "Asia/Anadyr|ANAT ANAST ANAT|-c0 -c0 -b0|0120|1BWe0 1qN0 WM0|13e3", "Asia/Aqtobe|+05|-50|0||27e4", "Asia/Ashgabat|TMT|-50|0||41e4", "Asia/Baku|AZT AZST|-40 -50|0101010101010|1BWo0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00|27e5", "Asia/Bangkok|ICT|-70|0||15e6", "Asia/Barnaul|+06 +07|-60 -70|010101|1BWk0 1qM0 WM0 8Hz0 3rd0", "Asia/Beirut|EET EEST|-20 -30|01010101010101010101010|1BWm0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0|22e5", "Asia/Bishkek|KGT|-60|0||87e4", "Asia/Brunei|BNT|-80|0||42e4", "Asia/Kolkata|IST|-5u|0||15e6", "Asia/Chita|YAKT YAKST YAKT IRKT|-90 -a0 -a0 -80|010230|1BWh0 1qM0 WM0 8Hz0 3re0|33e4", "Asia/Choibalsan|CHOT CHOST|-80 -90|0101010101010|1O8G0 1cJ0 1cP0 1cJ0 1cP0 1fx0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0|38e3", "Asia/Shanghai|CST|-80|0||23e6", "Asia/Dhaka|BDT|-60|0||16e6", "Asia/Damascus|EET EEST|-20 -30|01010101010101010101010|1C0m0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0|26e5", "Asia/Dili|TLT|-90|0||19e4", "Asia/Dubai|GST|-40|0||39e5", "Asia/Dushanbe|TJT|-50|0||76e4", "Asia/Gaza|EET EEST|-20 -30|01010101010101010101010|1BVW1 SKX 1xd1 MKX 1AN0 1a00 1fA0 1cL0 1cN0 1nX0 1210 1nz0 1220 1ny0 1220 1qm0 1220 1ny0 1220 1ny0 1220 1ny0|18e5", "Asia/Hebron|EET EEST|-20 -30|0101010101010101010101010|1BVy0 Tb0 1xd1 MKX bB0 cn0 1cN0 1a00 1fA0 1cL0 1cN0 1nX0 1210 1nz0 1220 1ny0 1220 1qm0 1220 1ny0 1220 1ny0 1220 1ny0|25e4", "Asia/Hong_Kong|HKT|-80|0||73e5", "Asia/Hovd|HOVT HOVST|-70 -80|0101010101010|1O8H0 1cJ0 1cP0 1cJ0 1cP0 1fx0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0|81e3", "Asia/Irkutsk|IRKT IRKST IRKT|-80 -90 -90|01020|1BWi0 1qM0 WM0 8Hz0|60e4", "Europe/Istanbul|EET EEST|-20 -30|01010101010101010101010|1BWp0 1qM0 Xc0 1qo0 WM0 1qM0 11A0 1o00 1200 1nA0 11A0 1tA0 U00 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|13e6", "Asia/Jakarta|WIB|-70|0||31e6", "Asia/Jayapura|WIT|-90|0||26e4", "Asia/Jerusalem|IST IDT|-20 -30|01010101010101010101010|1BVA0 17X0 1kp0 1dz0 1c10 1aL0 1eN0 1oL0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0|81e4", "Asia/Kabul|AFT|-4u|0||46e5", "Asia/Kamchatka|PETT PETST PETT|-c0 -c0 -b0|0120|1BWe0 1qN0 WM0|18e4", "Asia/Karachi|PKT|-50|0||24e6", "Asia/Urumqi|XJT|-60|0||32e5", "Asia/Kathmandu|NPT|-5J|0||12e5", "Asia/Khandyga|VLAT VLAST VLAT YAKT YAKT|-a0 -b0 -b0 -a0 -90|010234|1BWg0 1qM0 WM0 17V0 7zD0|66e2", "Asia/Krasnoyarsk|KRAT KRAST KRAT|-70 -80 -80|01020|1BWj0 1qM0 WM0 8Hz0|10e5", "Asia/Kuala_Lumpur|MYT|-80|0||71e5", "Asia/Magadan|MAGT MAGST MAGT MAGT|-b0 -c0 -c0 -a0|010230|1BWf0 1qM0 WM0 8Hz0 3Cq0|95e3", "Asia/Makassar|WITA|-80|0||15e5", "Asia/Manila|PHT|-80|0||24e6", "Europe/Athens|EET EEST|-20 -30|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|35e5", "Asia/Novokuznetsk|KRAT NOVST NOVT NOVT|-70 -70 -60 -70|01230|1BWj0 1qN0 WM0 8Hz0|55e4", "Asia/Novosibirsk|NOVT NOVST NOVT|-60 -70 -70|01020|1BWk0 1qM0 WM0 8Hz0|15e5", "Asia/Omsk|OMST OMSST OMST|-60 -70 -70|01020|1BWk0 1qM0 WM0 8Hz0|12e5", "Asia/Pyongyang|KST KST|-90 -8u|01|1P4D0|29e5", "Asia/Rangoon|MMT|-6u|0||48e5", "Asia/Sakhalin|SAKT SAKST SAKT|-a0 -b0 -b0|010202|1BWg0 1qM0 WM0 8Hz0 3rd0|58e4", "Asia/Tashkent|UZT|-50|0||23e5", "Asia/Seoul|KST|-90|0||23e6", "Asia/Singapore|SGT|-80|0||56e5", "Asia/Srednekolymsk|MAGT MAGST MAGT SRET|-b0 -c0 -c0 -b0|01023|1BWf0 1qM0 WM0 8Hz0|35e2", "Asia/Tbilisi|GET|-40|0||11e5", "Asia/Tehran|IRST IRDT|-3u -4u|01010101010101010101010|1BTUu 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0|14e6", "Asia/Thimphu|BTT|-60|0||79e3", "Asia/Tokyo|JST|-90|0||38e6", "Asia/Tomsk|+06 +07|-60 -70|010101|1BWk0 1qM0 WM0 8Hz0 3Qp0|10e5", "Asia/Ulaanbaatar|ULAT ULAST|-80 -90|0101010101010|1O8G0 1cJ0 1cP0 1cJ0 1cP0 1fx0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0|12e5", "Asia/Ust-Nera|MAGT MAGST MAGT VLAT VLAT|-b0 -c0 -c0 -b0 -a0|010234|1BWf0 1qM0 WM0 17V0 7zD0|65e2", "Asia/Vladivostok|VLAT VLAST VLAT|-a0 -b0 -b0|01020|1BWg0 1qM0 WM0 8Hz0|60e4", "Asia/Yakutsk|YAKT YAKST YAKT|-90 -a0 -a0|01020|1BWh0 1qM0 WM0 8Hz0|28e4", "Asia/Yekaterinburg|YEKT YEKST YEKT|-50 -60 -60|01020|1BWl0 1qM0 WM0 8Hz0|14e5", "Asia/Yerevan|AMT AMST|-40 -50|01010|1BWm0 1qM0 WM0 1qM0|13e5", "Atlantic/Azores|AZOT AZOST|10 0|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|25e4", "Europe/Lisbon|WET WEST|0 -10|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|27e5", "Atlantic/Cape_Verde|CVT|10|0||50e4", "Atlantic/South_Georgia|GST|20|0||30", "Atlantic/Stanley|FKST FKT|30 40|010|1C6R0 U10|21e2", "Australia/Sydney|AEDT AEST|-b0 -a0|01010101010101010101010|1C140 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0|40e5", "Australia/Adelaide|ACDT ACST|-au -9u|01010101010101010101010|1C14u 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0|11e5", "Australia/Brisbane|AEST|-a0|0||20e5", "Australia/Darwin|ACST|-9u|0||12e4", "Australia/Eucla|ACWST|-8J|0||368", "Australia/Lord_Howe|LHDT LHST|-b0 -au|01010101010101010101010|1C130 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu|347", "Australia/Perth|AWST|-80|0||18e5", "Pacific/Easter|EASST EAST|50 60|010101010101010101010|1C1f0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0|30e2", "Europe/Dublin|GMT IST|0 -10|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|12e5", "Etc/GMT+1|GMT+1|10|0|", "Etc/GMT+10|GMT+10|a0|0|", "Etc/GMT+11|GMT+11|b0|0|", "Etc/GMT+12|GMT+12|c0|0|", "Etc/GMT+2|GMT+2|20|0|", "Etc/GMT+3|GMT+3|30|0|", "Etc/GMT+4|GMT+4|40|0|", "Etc/GMT+5|GMT+5|50|0|", "Etc/GMT+6|GMT+6|60|0|", "Etc/GMT+7|GMT+7|70|0|", "Etc/GMT+8|GMT+8|80|0|", "Etc/GMT+9|GMT+9|90|0|", "Etc/GMT-1|GMT-1|-10|0|", "Etc/GMT-10|GMT-10|-a0|0|", "Etc/GMT-11|GMT-11|-b0|0|", "Etc/GMT-12|GMT-12|-c0|0|", "Etc/GMT-13|GMT-13|-d0|0|", "Etc/GMT-14|GMT-14|-e0|0|", "Etc/GMT-2|GMT-2|-20|0|", "Etc/GMT-3|GMT-3|-30|0|", "Etc/GMT-4|GMT-4|-40|0|", "Etc/GMT-5|GMT-5|-50|0|", "Etc/GMT-6|GMT-6|-60|0|", "Etc/GMT-7|GMT-7|-70|0|", "Etc/GMT-8|GMT-8|-80|0|", "Etc/GMT-9|GMT-9|-90|0|", "Etc/UCT|UCT|0|0|", "Etc/UTC|UTC|0|0|", "Europe/Astrakhan|+03 +04|-30 -40|010101|1BWn0 1qM0 WM0 8Hz0 3rd0", "Europe/London|GMT BST|0 -10|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|10e6", "Europe/Chisinau|EET EEST|-20 -30|01010101010101010101010|1BWo0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|67e4", "Europe/Kaliningrad|EET EEST FET|-20 -30 -30|01020|1BWo0 1qM0 WM0 8Hz0|44e4", "Europe/Kirov|+03 +04|-30 -40|01010|1BWn0 1qM0 WM0 8Hz0|48e4", "Europe/Minsk|EET EEST FET MSK|-20 -30 -30 -30|01023|1BWo0 1qM0 WM0 8Hy0|19e5", "Europe/Moscow|MSK MSD MSK|-30 -40 -40|01020|1BWn0 1qM0 WM0 8Hz0|16e6", "Europe/Samara|SAMT SAMST SAMT|-40 -40 -30|0120|1BWm0 1qN0 WM0|12e5", "Europe/Simferopol|EET EEST MSK MSK|-20 -30 -40 -30|01010101023|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11z0 1nW0|33e4", "Pacific/Honolulu|HST|a0|0||37e4", "Indian/Chagos|IOT|-60|0||30e2", "Indian/Christmas|CXT|-70|0||21e2", "Indian/Cocos|CCT|-6u|0||596", "Indian/Kerguelen|TFT|-50|0||130", "Indian/Mahe|SCT|-40|0||79e3", "Indian/Maldives|MVT|-50|0||35e4", "Indian/Mauritius|MUT|-40|0||15e4", "Indian/Reunion|RET|-40|0||84e4", "Pacific/Majuro|MHT|-c0|0||28e3", "MET|MET MEST|-10 -20|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00", "Pacific/Chatham|CHADT CHAST|-dJ -cJ|01010101010101010101010|1C120 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00|600", "Pacific/Apia|SST SDT WSDT WSST|b0 a0 -e0 -d0|01012323232323232323232|1Dbn0 1ff0 1a00 CI0 AQ0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00|37e3", "Pacific/Bougainville|PGT BST|-a0 -b0|01|1NwE0|18e4", "Pacific/Chuuk|CHUT|-a0|0||49e3", "Pacific/Efate|VUT|-b0|0||66e3", "Pacific/Enderbury|PHOT|-d0|0||1", "Pacific/Fakaofo|TKT TKT|b0 -d0|01|1Gfn0|483", "Pacific/Fiji|FJST FJT|-d0 -c0|01010101010101010101010|1BWe0 1o00 Rc0 1wo0 Ao0 1Nc0 Ao0 1Q00 xz0 1SN0 uM0 1SM0 uM0 1VA0 s00 1VA0 uM0 1SM0 uM0 1SM0 uM0 1SM0|88e4", "Pacific/Funafuti|TVT|-c0|0||45e2", "Pacific/Galapagos|GALT|60|0||25e3", "Pacific/Gambier|GAMT|90|0||125", "Pacific/Guadalcanal|SBT|-b0|0||11e4", "Pacific/Guam|ChST|-a0|0||17e4", "Pacific/Kiritimati|LINT|-e0|0||51e2", "Pacific/Kosrae|KOST|-b0|0||66e2", "Pacific/Marquesas|MART|9u|0||86e2", "Pacific/Pago_Pago|SST|b0|0||37e2", "Pacific/Nauru|NRT|-c0|0||10e3", "Pacific/Niue|NUT|b0|0||12e2", "Pacific/Norfolk|NFT NFT|-bu -b0|01|1PoCu|25e4", "Pacific/Noumea|NCT|-b0|0||98e3", "Pacific/Palau|PWT|-90|0||21e3", "Pacific/Pitcairn|PST|80|0||56", "Pacific/Pohnpei|PONT|-b0|0||34e3", "Pacific/Port_Moresby|PGT|-a0|0||25e4", "Pacific/Rarotonga|CKT|a0|0||13e3", "Pacific/Tahiti|TAHT|a0|0||18e4", "Pacific/Tarawa|GILT|-c0|0||29e3", "Pacific/Tongatapu|TOT|-d0|0||75e3", "Pacific/Wake|WAKT|-c0|0||16e3", "Pacific/Wallis|WFT|-c0|0||94"],
        links: ["Africa/Abidjan|Africa/Accra", "Africa/Abidjan|Africa/Bamako", "Africa/Abidjan|Africa/Banjul", "Africa/Abidjan|Africa/Bissau", "Africa/Abidjan|Africa/Conakry", "Africa/Abidjan|Africa/Dakar", "Africa/Abidjan|Africa/Freetown", "Africa/Abidjan|Africa/Lome", "Africa/Abidjan|Africa/Monrovia", "Africa/Abidjan|Africa/Nouakchott", "Africa/Abidjan|Africa/Ouagadougou", "Africa/Abidjan|Africa/Sao_Tome", "Africa/Abidjan|Africa/Timbuktu", "Africa/Abidjan|America/Danmarkshavn", "Africa/Abidjan|Atlantic/Reykjavik", "Africa/Abidjan|Atlantic/St_Helena", "Africa/Abidjan|Etc/GMT", "Africa/Abidjan|Etc/GMT+0", "Africa/Abidjan|Etc/GMT-0", "Africa/Abidjan|Etc/GMT0", "Africa/Abidjan|Etc/Greenwich", "Africa/Abidjan|GMT", "Africa/Abidjan|GMT+0", "Africa/Abidjan|GMT-0", "Africa/Abidjan|GMT0", "Africa/Abidjan|Greenwich", "Africa/Abidjan|Iceland", "Africa/Algiers|Africa/Tunis", "Africa/Cairo|Egypt", "Africa/Casablanca|Africa/El_Aaiun", "Africa/Johannesburg|Africa/Maseru", "Africa/Johannesburg|Africa/Mbabane", "Africa/Khartoum|Africa/Addis_Ababa", "Africa/Khartoum|Africa/Asmara", "Africa/Khartoum|Africa/Asmera", "Africa/Khartoum|Africa/Dar_es_Salaam", "Africa/Khartoum|Africa/Djibouti", "Africa/Khartoum|Africa/Juba", "Africa/Khartoum|Africa/Kampala", "Africa/Khartoum|Africa/Mogadishu", "Africa/Khartoum|Africa/Nairobi", "Africa/Khartoum|Indian/Antananarivo", "Africa/Khartoum|Indian/Comoro", "Africa/Khartoum|Indian/Mayotte", "Africa/Lagos|Africa/Bangui", "Africa/Lagos|Africa/Brazzaville", "Africa/Lagos|Africa/Douala", "Africa/Lagos|Africa/Kinshasa", "Africa/Lagos|Africa/Libreville", "Africa/Lagos|Africa/Luanda", "Africa/Lagos|Africa/Malabo", "Africa/Lagos|Africa/Ndjamena", "Africa/Lagos|Africa/Niamey", "Africa/Lagos|Africa/Porto-Novo", "Africa/Maputo|Africa/Blantyre", "Africa/Maputo|Africa/Bujumbura", "Africa/Maputo|Africa/Gaborone", "Africa/Maputo|Africa/Harare", "Africa/Maputo|Africa/Kigali", "Africa/Maputo|Africa/Lubumbashi", "Africa/Maputo|Africa/Lusaka", "Africa/Tripoli|Libya", "America/Adak|America/Atka", "America/Adak|US/Aleutian", "America/Anchorage|America/Juneau", "America/Anchorage|America/Nome", "America/Anchorage|America/Sitka", "America/Anchorage|America/Yakutat", "America/Anchorage|US/Alaska", "America/Argentina/Buenos_Aires|America/Argentina/Catamarca", "America/Argentina/Buenos_Aires|America/Argentina/ComodRivadavia", "America/Argentina/Buenos_Aires|America/Argentina/Cordoba", "America/Argentina/Buenos_Aires|America/Argentina/Jujuy", "America/Argentina/Buenos_Aires|America/Argentina/La_Rioja", "America/Argentina/Buenos_Aires|America/Argentina/Mendoza", "America/Argentina/Buenos_Aires|America/Argentina/Rio_Gallegos", "America/Argentina/Buenos_Aires|America/Argentina/Salta", "America/Argentina/Buenos_Aires|America/Argentina/San_Juan", "America/Argentina/Buenos_Aires|America/Argentina/San_Luis", "America/Argentina/Buenos_Aires|America/Argentina/Tucuman", "America/Argentina/Buenos_Aires|America/Argentina/Ushuaia", "America/Argentina/Buenos_Aires|America/Buenos_Aires", "America/Argentina/Buenos_Aires|America/Catamarca", "America/Argentina/Buenos_Aires|America/Cordoba", "America/Argentina/Buenos_Aires|America/Jujuy", "America/Argentina/Buenos_Aires|America/Mendoza", "America/Argentina/Buenos_Aires|America/Rosario", "America/Campo_Grande|America/Cuiaba", "America/Chicago|America/Indiana/Knox", "America/Chicago|America/Indiana/Tell_City", "America/Chicago|America/Knox_IN", "America/Chicago|America/Matamoros", "America/Chicago|America/Menominee", "America/Chicago|America/North_Dakota/Center", "America/Chicago|America/North_Dakota/New_Salem", "America/Chicago|America/Rainy_River", "America/Chicago|America/Rankin_Inlet", "America/Chicago|America/Resolute", "America/Chicago|America/Winnipeg", "America/Chicago|CST6CDT", "America/Chicago|Canada/Central", "America/Chicago|US/Central", "America/Chicago|US/Indiana-Starke", "America/Chihuahua|America/Mazatlan", "America/Chihuahua|Mexico/BajaSur", "America/Denver|America/Boise", "America/Denver|America/Cambridge_Bay", "America/Denver|America/Edmonton", "America/Denver|America/Inuvik", "America/Denver|America/Ojinaga", "America/Denver|America/Shiprock", "America/Denver|America/Yellowknife", "America/Denver|Canada/Mountain", "America/Denver|MST7MDT", "America/Denver|Navajo", "America/Denver|US/Mountain", "America/Fortaleza|America/Belem", "America/Fortaleza|America/Maceio", "America/Fortaleza|America/Recife", "America/Fortaleza|America/Santarem", "America/Halifax|America/Glace_Bay", "America/Halifax|America/Moncton", "America/Halifax|America/Thule", "America/Halifax|Atlantic/Bermuda", "America/Halifax|Canada/Atlantic", "America/Havana|Cuba", "America/Los_Angeles|America/Dawson", "America/Los_Angeles|America/Ensenada", "America/Los_Angeles|America/Santa_Isabel", "America/Los_Angeles|America/Tijuana", "America/Los_Angeles|America/Vancouver", "America/Los_Angeles|America/Whitehorse", "America/Los_Angeles|Canada/Pacific", "America/Los_Angeles|Canada/Yukon", "America/Los_Angeles|Mexico/BajaNorte", "America/Los_Angeles|PST8PDT", "America/Los_Angeles|US/Pacific", "America/Los_Angeles|US/Pacific-New", "America/Managua|America/Belize", "America/Managua|America/Costa_Rica", "America/Managua|America/El_Salvador", "America/Managua|America/Guatemala", "America/Managua|America/Regina", "America/Managua|America/Swift_Current", "America/Managua|America/Tegucigalpa", "America/Managua|Canada/East-Saskatchewan", "America/Managua|Canada/Saskatchewan", "America/Manaus|America/Boa_Vista", "America/Manaus|America/Porto_Velho", "America/Manaus|Brazil/West", "America/Mexico_City|America/Merida", "America/Mexico_City|America/Monterrey", "America/Mexico_City|Mexico/General", "America/New_York|America/Detroit", "America/New_York|America/Fort_Wayne", "America/New_York|America/Indiana/Indianapolis", "America/New_York|America/Indiana/Marengo", "America/New_York|America/Indiana/Petersburg", "America/New_York|America/Indiana/Vevay", "America/New_York|America/Indiana/Vincennes", "America/New_York|America/Indiana/Winamac", "America/New_York|America/Indianapolis", "America/New_York|America/Iqaluit", "America/New_York|America/Kentucky/Louisville", "America/New_York|America/Kentucky/Monticello", "America/New_York|America/Louisville", "America/New_York|America/Montreal", "America/New_York|America/Nassau", "America/New_York|America/Nipigon", "America/New_York|America/Pangnirtung", "America/New_York|America/Thunder_Bay", "America/New_York|America/Toronto", "America/New_York|Canada/Eastern", "America/New_York|EST5EDT", "America/New_York|US/East-Indiana", "America/New_York|US/Eastern", "America/New_York|US/Michigan", "America/Noronha|Brazil/DeNoronha", "America/Panama|America/Atikokan", "America/Panama|America/Cayman", "America/Panama|America/Coral_Harbour", "America/Panama|America/Jamaica", "America/Panama|EST", "America/Panama|Jamaica", "America/Phoenix|America/Creston", "America/Phoenix|America/Dawson_Creek", "America/Phoenix|America/Hermosillo", "America/Phoenix|MST", "America/Phoenix|US/Arizona", "America/Rio_Branco|America/Eirunepe", "America/Rio_Branco|America/Porto_Acre", "America/Rio_Branco|Brazil/Acre", "America/Santiago|Antarctica/Palmer", "America/Santiago|Chile/Continental", "America/Santo_Domingo|America/Anguilla", "America/Santo_Domingo|America/Antigua", "America/Santo_Domingo|America/Aruba", "America/Santo_Domingo|America/Barbados", "America/Santo_Domingo|America/Blanc-Sablon", "America/Santo_Domingo|America/Curacao", "America/Santo_Domingo|America/Dominica", "America/Santo_Domingo|America/Grenada", "America/Santo_Domingo|America/Guadeloupe", "America/Santo_Domingo|America/Kralendijk", "America/Santo_Domingo|America/Lower_Princes", "America/Santo_Domingo|America/Marigot", "America/Santo_Domingo|America/Martinique", "America/Santo_Domingo|America/Montserrat", "America/Santo_Domingo|America/Port_of_Spain", "America/Santo_Domingo|America/Puerto_Rico", "America/Santo_Domingo|America/St_Barthelemy", "America/Santo_Domingo|America/St_Kitts", "America/Santo_Domingo|America/St_Lucia", "America/Santo_Domingo|America/St_Thomas", "America/Santo_Domingo|America/St_Vincent", "America/Santo_Domingo|America/Tortola", "America/Santo_Domingo|America/Virgin", "America/Sao_Paulo|Brazil/East", "America/St_Johns|Canada/Newfoundland", "Asia/Almaty|Asia/Qyzylorda", "Asia/Aqtobe|Asia/Aqtau", "Asia/Aqtobe|Asia/Oral", "Asia/Ashgabat|Asia/Ashkhabad", "Asia/Baghdad|Asia/Aden", "Asia/Baghdad|Asia/Bahrain", "Asia/Baghdad|Asia/Kuwait", "Asia/Baghdad|Asia/Qatar", "Asia/Baghdad|Asia/Riyadh", "Asia/Bangkok|Asia/Ho_Chi_Minh", "Asia/Bangkok|Asia/Phnom_Penh", "Asia/Bangkok|Asia/Saigon", "Asia/Bangkok|Asia/Vientiane", "Asia/Dhaka|Asia/Dacca", "Asia/Dubai|Asia/Muscat", "Asia/Hong_Kong|Hongkong", "Asia/Jakarta|Asia/Pontianak", "Asia/Jerusalem|Asia/Tel_Aviv", "Asia/Jerusalem|Israel", "Asia/Kathmandu|Asia/Katmandu", "Asia/Kolkata|Asia/Calcutta", "Asia/Kolkata|Asia/Colombo", "Asia/Kuala_Lumpur|Asia/Kuching", "Asia/Makassar|Asia/Ujung_Pandang", "Asia/Seoul|ROK", "Asia/Shanghai|Asia/Chongqing", "Asia/Shanghai|Asia/Chungking", "Asia/Shanghai|Asia/Harbin", "Asia/Shanghai|Asia/Macao", "Asia/Shanghai|Asia/Macau", "Asia/Shanghai|Asia/Taipei", "Asia/Shanghai|PRC", "Asia/Shanghai|ROC", "Asia/Singapore|Singapore", "Asia/Tashkent|Asia/Samarkand", "Asia/Tehran|Iran", "Asia/Thimphu|Asia/Thimbu", "Asia/Tokyo|Japan", "Asia/Ulaanbaatar|Asia/Ulan_Bator", "Asia/Urumqi|Asia/Kashgar", "Australia/Adelaide|Australia/Broken_Hill", "Australia/Adelaide|Australia/South", "Australia/Adelaide|Australia/Yancowinna", "Australia/Brisbane|Australia/Lindeman", "Australia/Brisbane|Australia/Queensland", "Australia/Darwin|Australia/North", "Australia/Lord_Howe|Australia/LHI", "Australia/Perth|Australia/West", "Australia/Sydney|Australia/ACT", "Australia/Sydney|Australia/Canberra", "Australia/Sydney|Australia/Currie", "Australia/Sydney|Australia/Hobart", "Australia/Sydney|Australia/Melbourne", "Australia/Sydney|Australia/NSW", "Australia/Sydney|Australia/Tasmania", "Australia/Sydney|Australia/Victoria", "Etc/UCT|UCT", "Etc/UTC|Etc/Universal", "Etc/UTC|Etc/Zulu", "Etc/UTC|UTC", "Etc/UTC|Universal", "Etc/UTC|Zulu", "Europe/Astrakhan|Europe/Ulyanovsk", "Europe/Athens|Asia/Nicosia", "Europe/Athens|EET", "Europe/Athens|Europe/Bucharest", "Europe/Athens|Europe/Helsinki", "Europe/Athens|Europe/Kiev", "Europe/Athens|Europe/Mariehamn", "Europe/Athens|Europe/Nicosia", "Europe/Athens|Europe/Riga", "Europe/Athens|Europe/Sofia", "Europe/Athens|Europe/Tallinn", "Europe/Athens|Europe/Uzhgorod", "Europe/Athens|Europe/Vilnius", "Europe/Athens|Europe/Zaporozhye", "Europe/Chisinau|Europe/Tiraspol", "Europe/Dublin|Eire", "Europe/Istanbul|Asia/Istanbul", "Europe/Istanbul|Turkey", "Europe/Lisbon|Atlantic/Canary", "Europe/Lisbon|Atlantic/Faeroe", "Europe/Lisbon|Atlantic/Faroe", "Europe/Lisbon|Atlantic/Madeira", "Europe/Lisbon|Portugal", "Europe/Lisbon|WET", "Europe/London|Europe/Belfast", "Europe/London|Europe/Guernsey", "Europe/London|Europe/Isle_of_Man", "Europe/London|Europe/Jersey", "Europe/London|GB", "Europe/London|GB-Eire", "Europe/Moscow|Europe/Volgograd", "Europe/Moscow|W-SU", "Europe/Paris|Africa/Ceuta", "Europe/Paris|Arctic/Longyearbyen", "Europe/Paris|Atlantic/Jan_Mayen", "Europe/Paris|CET", "Europe/Paris|Europe/Amsterdam", "Europe/Paris|Europe/Andorra", "Europe/Paris|Europe/Belgrade", "Europe/Paris|Europe/Berlin", "Europe/Paris|Europe/Bratislava", "Europe/Paris|Europe/Brussels", "Europe/Paris|Europe/Budapest", "Europe/Paris|Europe/Busingen", "Europe/Paris|Europe/Copenhagen", "Europe/Paris|Europe/Gibraltar", "Europe/Paris|Europe/Ljubljana", "Europe/Paris|Europe/Luxembourg", "Europe/Paris|Europe/Madrid", "Europe/Paris|Europe/Malta", "Europe/Paris|Europe/Monaco", "Europe/Paris|Europe/Oslo", "Europe/Paris|Europe/Podgorica", "Europe/Paris|Europe/Prague", "Europe/Paris|Europe/Rome", "Europe/Paris|Europe/San_Marino", "Europe/Paris|Europe/Sarajevo", "Europe/Paris|Europe/Skopje", "Europe/Paris|Europe/Stockholm", "Europe/Paris|Europe/Tirane", "Europe/Paris|Europe/Vaduz", "Europe/Paris|Europe/Vatican", "Europe/Paris|Europe/Vienna", "Europe/Paris|Europe/Warsaw", "Europe/Paris|Europe/Zagreb", "Europe/Paris|Europe/Zurich", "Europe/Paris|Poland", "Pacific/Auckland|Antarctica/McMurdo", "Pacific/Auckland|Antarctica/South_Pole", "Pacific/Auckland|NZ", "Pacific/Chatham|NZ-CHAT", "Pacific/Chuuk|Pacific/Truk", "Pacific/Chuuk|Pacific/Yap", "Pacific/Easter|Chile/EasterIsland", "Pacific/Guam|Pacific/Saipan", "Pacific/Honolulu|HST", "Pacific/Honolulu|Pacific/Johnston", "Pacific/Honolulu|US/Hawaii", "Pacific/Majuro|Kwajalein", "Pacific/Majuro|Pacific/Kwajalein", "Pacific/Pago_Pago|Pacific/Midway", "Pacific/Pago_Pago|Pacific/Samoa", "Pacific/Pago_Pago|US/Samoa", "Pacific/Pohnpei|Pacific/Ponape"]
    }), a
}), function () {
    "use strict";
    kzi.constant = kzi.constant || {}, kzi.constant.moment_timezone_meta = {
        countries: {
            AD: {name: "Andorra", abbr: "AD", zones: ["Europe/Andorra"]},
            AE: {name: "United Arab Emirates", abbr: "AE", zones: ["Asia/Dubai"]},
            AF: {name: "Afghanistan", abbr: "AF", zones: ["Asia/Kabul"]},
            AG: {name: "Antigua & Barbuda", abbr: "AG", zones: ["America/Port_of_Spain"]},
            AI: {name: "Anguilla", abbr: "AI", zones: ["America/Port_of_Spain"]},
            AL: {name: "Albania", abbr: "AL", zones: ["Europe/Tirane"]},
            AM: {name: "Armenia", abbr: "AM", zones: ["Asia/Yerevan"]},
            AO: {name: "Angola", abbr: "AO", zones: ["Africa/Lagos"]},
            AQ: {
                name: "Antarctica",
                abbr: "AQ",
                zones: ["Antarctica/Rothera", "Antarctica/Palmer", "Antarctica/Mawson", "Antarctica/Davis", "Antarctica/Casey", "Antarctica/Vostok", "Antarctica/DumontDUrville", "Antarctica/Syowa", "Antarctica/Troll", "Pacific/Auckland"]
            },
            AR: {
                name: "Argentina",
                abbr: "AR",
                zones: ["America/Argentina/Buenos_Aires", "America/Argentina/Cordoba", "America/Argentina/Salta", "America/Argentina/Jujuy", "America/Argentina/Tucuman", "America/Argentina/Catamarca", "America/Argentina/La_Rioja", "America/Argentina/San_Juan", "America/Argentina/Mendoza", "America/Argentina/San_Luis", "America/Argentina/Rio_Gallegos", "America/Argentina/Ushuaia"]
            },
            AS: {name: "Samoa (American)", abbr: "AS", zones: ["Pacific/Pago_Pago"]},
            AT: {name: "Austria", abbr: "AT", zones: ["Europe/Vienna"]},
            AU: {
                name: "Australia",
                abbr: "AU",
                zones: ["Australia/Lord_Howe", "Antarctica/Macquarie", "Australia/Hobart", "Australia/Currie", "Australia/Melbourne", "Australia/Sydney", "Australia/Broken_Hill", "Australia/Brisbane", "Australia/Lindeman", "Australia/Adelaide", "Australia/Darwin", "Australia/Perth", "Australia/Eucla"]
            },
            AW: {name: "Aruba", abbr: "AW", zones: ["America/Curacao"]},
            AX: {name: "Aaland Islands", abbr: "AX", zones: ["Europe/Helsinki"]},
            AZ: {name: "Azerbaijan", abbr: "AZ", zones: ["Asia/Baku"]},
            BA: {name: "Bosnia & Herzegovina", abbr: "BA", zones: ["Europe/Belgrade"]},
            BB: {name: "Barbados", abbr: "BB", zones: ["America/Barbados"]},
            BD: {name: "Bangladesh", abbr: "BD", zones: ["Asia/Dhaka"]},
            BE: {name: "Belgium", abbr: "BE", zones: ["Europe/Brussels"]},
            BF: {name: "Burkina Faso", abbr: "BF", zones: ["Africa/Abidjan"]},
            BG: {name: "Bulgaria", abbr: "BG", zones: ["Europe/Sofia"]},
            BH: {name: "Bahrain", abbr: "BH", zones: ["Asia/Qatar"]},
            BI: {name: "Burundi", abbr: "BI", zones: ["Africa/Maputo"]},
            BJ: {name: "Benin", abbr: "BJ", zones: ["Africa/Lagos"]},
            BL: {name: "St Barthelemy", abbr: "BL", zones: ["America/Port_of_Spain"]},
            BM: {name: "Bermuda", abbr: "BM", zones: ["Atlantic/Bermuda"]},
            BN: {name: "Brunei", abbr: "BN", zones: ["Asia/Brunei"]},
            BO: {name: "Bolivia", abbr: "BO", zones: ["America/La_Paz"]},
            BQ: {name: "Caribbean Netherlands", abbr: "BQ", zones: ["America/Curacao"]},
            BR: {
                name: "Brazil",
                abbr: "BR",
                zones: ["America/Noronha", "America/Belem", "America/Fortaleza", "America/Recife", "America/Araguaina", "America/Maceio", "America/Bahia", "America/Sao_Paulo", "America/Campo_Grande", "America/Cuiaba", "America/Santarem", "America/Porto_Velho", "America/Boa_Vista", "America/Manaus", "America/Eirunepe", "America/Rio_Branco"]
            },
            BS: {name: "Bahamas", abbr: "BS", zones: ["America/Nassau"]},
            BT: {name: "Bhutan", abbr: "BT", zones: ["Asia/Thimphu"]},
            BW: {name: "Botswana", abbr: "BW", zones: ["Africa/Maputo"]},
            BY: {name: "Belarus", abbr: "BY", zones: ["Europe/Minsk"]},
            BZ: {name: "Belize", abbr: "BZ", zones: ["America/Belize"]},
            CA: {
                name: "Canada",
                abbr: "CA",
                zones: ["America/St_Johns", "America/Halifax", "America/Glace_Bay", "America/Moncton", "America/Goose_Bay", "America/Blanc-Sablon", "America/Toronto", "America/Nipigon", "America/Thunder_Bay", "America/Iqaluit", "America/Pangnirtung", "America/Resolute", "America/Atikokan", "America/Rankin_Inlet", "America/Winnipeg", "America/Rainy_River", "America/Regina", "America/Swift_Current", "America/Edmonton", "America/Cambridge_Bay", "America/Yellowknife", "America/Inuvik", "America/Creston", "America/Dawson_Creek", "America/Vancouver", "America/Whitehorse", "America/Dawson"]
            },
            CC: {name: "Cocos (Keeling) Islands", abbr: "CC", zones: ["Indian/Cocos"]},
            CD: {name: "Congo (Dem. Rep.)", abbr: "CD", zones: ["Africa/Maputo", "Africa/Lagos"]},
            CF: {name: "Central African Rep.", abbr: "CF", zones: ["Africa/Lagos"]},
            CG: {name: "Congo (Rep.)", abbr: "CG", zones: ["Africa/Lagos"]},
            CH: {name: "Switzerland", abbr: "CH", zones: ["Europe/Zurich"]},
            CI: {name: "Cote d'Ivoire", abbr: "CI", zones: ["Africa/Abidjan"]},
            CK: {name: "Cook Islands", abbr: "CK", zones: ["Pacific/Rarotonga"]},
            CL: {name: "Chile", abbr: "CL", zones: ["America/Santiago", "Pacific/Easter"]},
            CM: {name: "Cameroon", abbr: "CM", zones: ["Africa/Lagos"]},
            CN: {name: "China", abbr: "CN", zones: ["Asia/Shanghai", "Asia/Urumqi"]},
            CO: {name: "Colombia", abbr: "CO", zones: ["America/Bogota"]},
            CR: {name: "Costa Rica", abbr: "CR", zones: ["America/Costa_Rica"]},
            CU: {name: "Cuba", abbr: "CU", zones: ["America/Havana"]},
            CV: {name: "Cape Verde", abbr: "CV", zones: ["Atlantic/Cape_Verde"]},
            CW: {name: "Curacao", abbr: "CW", zones: ["America/Curacao"]},
            CX: {name: "Christmas Island", abbr: "CX", zones: ["Indian/Christmas"]},
            CY: {name: "Cyprus", abbr: "CY", zones: ["Asia/Nicosia"]},
            CZ: {name: "Czech Republic", abbr: "CZ", zones: ["Europe/Prague"]},
            DE: {name: "Germany", abbr: "DE", zones: ["Europe/Zurich", "Europe/Berlin"]},
            DJ: {name: "Djibouti", abbr: "DJ", zones: ["Africa/Nairobi"]},
            DK: {name: "Denmark", abbr: "DK", zones: ["Europe/Copenhagen"]},
            DM: {name: "Dominica", abbr: "DM", zones: ["America/Port_of_Spain"]},
            DO: {name: "Dominican Republic", abbr: "DO", zones: ["America/Santo_Domingo"]},
            DZ: {name: "Algeria", abbr: "DZ", zones: ["Africa/Algiers"]},
            EC: {name: "Ecuador", abbr: "EC", zones: ["America/Guayaquil", "Pacific/Galapagos"]},
            EE: {name: "Estonia", abbr: "EE", zones: ["Europe/Tallinn"]},
            EG: {name: "Egypt", abbr: "EG", zones: ["Africa/Cairo"]},
            EH: {name: "Western Sahara", abbr: "EH", zones: ["Africa/El_Aaiun"]},
            ER: {name: "Eritrea", abbr: "ER", zones: ["Africa/Nairobi"]},
            ES: {name: "Spain", abbr: "ES", zones: ["Europe/Madrid", "Africa/Ceuta", "Atlantic/Canary"]},
            ET: {name: "Ethiopia", abbr: "ET", zones: ["Africa/Nairobi"]},
            FI: {name: "Finland", abbr: "FI", zones: ["Europe/Helsinki"]},
            FJ: {name: "Fiji", abbr: "FJ", zones: ["Pacific/Fiji"]},
            FK: {name: "Falkland Islands", abbr: "FK", zones: ["Atlantic/Stanley"]},
            FM: {name: "Micronesia", abbr: "FM", zones: ["Pacific/Chuuk", "Pacific/Pohnpei", "Pacific/Kosrae"]},
            FO: {name: "Faroe Islands", abbr: "FO", zones: ["Atlantic/Faroe"]},
            FR: {name: "France", abbr: "FR", zones: ["Europe/Paris"]},
            GA: {name: "Gabon", abbr: "GA", zones: ["Africa/Lagos"]},
            GB: {name: "Britain (UK)", abbr: "GB", zones: ["Europe/London"]},
            GD: {name: "Grenada", abbr: "GD", zones: ["America/Port_of_Spain"]},
            GE: {name: "Georgia", abbr: "GE", zones: ["Asia/Tbilisi"]},
            GF: {name: "French Guiana", abbr: "GF", zones: ["America/Cayenne"]},
            GG: {name: "Guernsey", abbr: "GG", zones: ["Europe/London"]},
            GH: {name: "Ghana", abbr: "GH", zones: ["Africa/Accra"]},
            GI: {name: "Gibraltar", abbr: "GI", zones: ["Europe/Gibraltar"]},
            GL: {
                name: "Greenland",
                abbr: "GL",
                zones: ["America/Godthab", "America/Danmarkshavn", "America/Scoresbysund", "America/Thule"]
            },
            GM: {name: "Gambia", abbr: "GM", zones: ["Africa/Abidjan"]},
            GN: {name: "Guinea", abbr: "GN", zones: ["Africa/Abidjan"]},
            GP: {name: "Guadeloupe", abbr: "GP", zones: ["America/Port_of_Spain"]},
            GQ: {name: "Equatorial Guinea", abbr: "GQ", zones: ["Africa/Lagos"]},
            GR: {name: "Greece", abbr: "GR", zones: ["Europe/Athens"]},
            GS: {name: "South Georgia & the South Sandwich Islands", abbr: "GS", zones: ["Atlantic/South_Georgia"]},
            GT: {name: "Guatemala", abbr: "GT", zones: ["America/Guatemala"]},
            GU: {name: "Guam", abbr: "GU", zones: ["Pacific/Guam"]},
            GW: {name: "Guinea-Bissau", abbr: "GW", zones: ["Africa/Bissau"]},
            GY: {name: "Guyana", abbr: "GY", zones: ["America/Guyana"]},
            HK: {name: "Hong Kong", abbr: "HK", zones: ["Asia/Hong_Kong"]},
            HN: {name: "Honduras", abbr: "HN", zones: ["America/Tegucigalpa"]},
            HR: {name: "Croatia", abbr: "HR", zones: ["Europe/Belgrade"]},
            HT: {name: "Haiti", abbr: "HT", zones: ["America/Port-au-Prince"]},
            HU: {name: "Hungary", abbr: "HU", zones: ["Europe/Budapest"]},
            ID: {
                name: "Indonesia",
                abbr: "ID",
                zones: ["Asia/Jakarta", "Asia/Pontianak", "Asia/Makassar", "Asia/Jayapura"]
            },
            IE: {name: "Ireland", abbr: "IE", zones: ["Europe/Dublin"]},
            IL: {name: "Israel", abbr: "IL", zones: ["Asia/Jerusalem"]},
            IM: {name: "Isle of Man", abbr: "IM", zones: ["Europe/London"]},
            IN: {name: "India", abbr: "IN", zones: ["Asia/Kolkata"]},
            IO: {name: "British Indian Ocean Territory", abbr: "IO", zones: ["Indian/Chagos"]},
            IQ: {name: "Iraq", abbr: "IQ", zones: ["Asia/Baghdad"]},
            IR: {name: "Iran", abbr: "IR", zones: ["Asia/Tehran"]},
            IS: {name: "Iceland", abbr: "IS", zones: ["Atlantic/Reykjavik"]},
            IT: {name: "Italy", abbr: "IT", zones: ["Europe/Rome"]},
            JE: {name: "Jersey", abbr: "JE", zones: ["Europe/London"]},
            JM: {name: "Jamaica", abbr: "JM", zones: ["America/Jamaica"]},
            JO: {name: "Jordan", abbr: "JO", zones: ["Asia/Amman"]},
            JP: {name: "Japan", abbr: "JP", zones: ["Asia/Tokyo"]},
            KE: {name: "Kenya", abbr: "KE", zones: ["Africa/Nairobi"]},
            KG: {name: "Kyrgyzstan", abbr: "KG", zones: ["Asia/Bishkek"]},
            KH: {name: "Cambodia", abbr: "KH", zones: ["Asia/Bangkok"]},
            KI: {name: "Kiribati", abbr: "KI", zones: ["Pacific/Tarawa", "Pacific/Enderbury", "Pacific/Kiritimati"]},
            KM: {name: "Comoros", abbr: "KM", zones: ["Africa/Nairobi"]},
            KN: {name: "St Kitts & Nevis", abbr: "KN", zones: ["America/Port_of_Spain"]},
            KP: {name: "Korea (North)", abbr: "KP", zones: ["Asia/Pyongyang"]},
            KR: {name: "Korea (South)", abbr: "KR", zones: ["Asia/Seoul"]},
            KW: {name: "Kuwait", abbr: "KW", zones: ["Asia/Riyadh"]},
            KY: {name: "Cayman Islands", abbr: "KY", zones: ["America/Panama"]},
            KZ: {
                name: "Kazakhstan",
                abbr: "KZ",
                zones: ["Asia/Almaty", "Asia/Qyzylorda", "Asia/Aqtobe", "Asia/Aqtau", "Asia/Oral"]
            },
            LA: {name: "Laos", abbr: "LA", zones: ["Asia/Bangkok"]},
            LB: {name: "Lebanon", abbr: "LB", zones: ["Asia/Beirut"]},
            LC: {name: "St Lucia", abbr: "LC", zones: ["America/Port_of_Spain"]},
            LI: {name: "Liechtenstein", abbr: "LI", zones: ["Europe/Zurich"]},
            LK: {name: "Sri Lanka", abbr: "LK", zones: ["Asia/Colombo"]},
            LR: {name: "Liberia", abbr: "LR", zones: ["Africa/Monrovia"]},
            LS: {name: "Lesotho", abbr: "LS", zones: ["Africa/Johannesburg"]},
            LT: {name: "Lithuania", abbr: "LT", zones: ["Europe/Vilnius"]},
            LU: {name: "Luxembourg", abbr: "LU", zones: ["Europe/Luxembourg"]},
            LV: {name: "Latvia", abbr: "LV", zones: ["Europe/Riga"]},
            LY: {name: "Libya", abbr: "LY", zones: ["Africa/Tripoli"]},
            MA: {name: "Morocco", abbr: "MA", zones: ["Africa/Casablanca"]},
            MC: {name: "Monaco", abbr: "MC", zones: ["Europe/Monaco"]},
            MD: {name: "Moldova", abbr: "MD", zones: ["Europe/Chisinau"]},
            ME: {name: "Montenegro", abbr: "ME", zones: ["Europe/Belgrade"]},
            MF: {name: "St Martin (French part)", abbr: "MF", zones: ["America/Port_of_Spain"]},
            MG: {name: "Madagascar", abbr: "MG", zones: ["Africa/Nairobi"]},
            MH: {name: "Marshall Islands", abbr: "MH", zones: ["Pacific/Majuro", "Pacific/Kwajalein"]},
            MK: {name: "Macedonia", abbr: "MK", zones: ["Europe/Belgrade"]},
            ML: {name: "Mali", abbr: "ML", zones: ["Africa/Abidjan"]},
            MM: {name: "Myanmar (Burma)", abbr: "MM", zones: ["Asia/Rangoon"]},
            MN: {name: "Mongolia", abbr: "MN", zones: ["Asia/Ulaanbaatar", "Asia/Hovd", "Asia/Choibalsan"]},
            MO: {name: "Macau", abbr: "MO", zones: ["Asia/Macau"]},
            MP: {name: "Northern Mariana Islands", abbr: "MP", zones: ["Pacific/Guam"]},
            MQ: {name: "Martinique", abbr: "MQ", zones: ["America/Martinique"]},
            MR: {name: "Mauritania", abbr: "MR", zones: ["Africa/Abidjan"]},
            MS: {name: "Montserrat", abbr: "MS", zones: ["America/Port_of_Spain"]},
            MT: {name: "Malta", abbr: "MT", zones: ["Europe/Malta"]},
            MU: {name: "Mauritius", abbr: "MU", zones: ["Indian/Mauritius"]},
            MV: {name: "Maldives", abbr: "MV", zones: ["Indian/Maldives"]},
            MW: {name: "Malawi", abbr: "MW", zones: ["Africa/Maputo"]},
            MX: {
                name: "Mexico",
                abbr: "MX",
                zones: ["America/Mexico_City", "America/Cancun", "America/Merida", "America/Monterrey", "America/Matamoros", "America/Mazatlan", "America/Chihuahua", "America/Ojinaga", "America/Hermosillo", "America/Tijuana", "America/Santa_Isabel", "America/Bahia_Banderas"]
            },
            MY: {name: "Malaysia", abbr: "MY", zones: ["Asia/Kuala_Lumpur", "Asia/Kuching"]},
            MZ: {name: "Mozambique", abbr: "MZ", zones: ["Africa/Maputo"]},
            NA: {name: "Namibia", abbr: "NA", zones: ["Africa/Windhoek"]},
            NC: {name: "New Caledonia", abbr: "NC", zones: ["Pacific/Noumea"]},
            NE: {name: "Niger", abbr: "NE", zones: ["Africa/Lagos"]},
            NF: {name: "Norfolk Island", abbr: "NF", zones: ["Pacific/Norfolk"]},
            NG: {name: "Nigeria", abbr: "NG", zones: ["Africa/Lagos"]},
            NI: {name: "Nicaragua", abbr: "NI", zones: ["America/Managua"]},
            NL: {name: "Netherlands", abbr: "NL", zones: ["Europe/Amsterdam"]},
            NO: {name: "Norway", abbr: "NO", zones: ["Europe/Oslo"]},
            NP: {name: "Nepal", abbr: "NP", zones: ["Asia/Kathmandu"]},
            NR: {name: "Nauru", abbr: "NR", zones: ["Pacific/Nauru"]},
            NU: {name: "Niue", abbr: "NU", zones: ["Pacific/Niue"]},
            NZ: {name: "New Zealand", abbr: "NZ", zones: ["Pacific/Auckland", "Pacific/Chatham"]},
            OM: {name: "Oman", abbr: "OM", zones: ["Asia/Dubai"]},
            PA: {name: "Panama", abbr: "PA", zones: ["America/Panama"]},
            PE: {name: "Peru", abbr: "PE", zones: ["America/Lima"]},
            PF: {
                name: "French Polynesia",
                abbr: "PF",
                zones: ["Pacific/Tahiti", "Pacific/Marquesas", "Pacific/Gambier"]
            },
            PG: {name: "Papua New Guinea", abbr: "PG", zones: ["Pacific/Port_Moresby", "Pacific/Bougainville"]},
            PH: {name: "Philippines", abbr: "PH", zones: ["Asia/Manila"]},
            PK: {name: "Pakistan", abbr: "PK", zones: ["Asia/Karachi"]},
            PL: {name: "Poland", abbr: "PL", zones: ["Europe/Warsaw"]},
            PM: {name: "St Pierre & Miquelon", abbr: "PM", zones: ["America/Miquelon"]},
            PN: {name: "Pitcairn", abbr: "PN", zones: ["Pacific/Pitcairn"]},
            PR: {name: "Puerto Rico", abbr: "PR", zones: ["America/Puerto_Rico"]},
            PS: {name: "Palestine", abbr: "PS", zones: ["Asia/Gaza", "Asia/Hebron"]},
            PT: {name: "Portugal", abbr: "PT", zones: ["Europe/Lisbon", "Atlantic/Madeira", "Atlantic/Azores"]},
            PW: {name: "Palau", abbr: "PW", zones: ["Pacific/Palau"]},
            PY: {name: "Paraguay", abbr: "PY", zones: ["America/Asuncion"]},
            QA: {name: "Qatar", abbr: "QA", zones: ["Asia/Qatar"]},
            RE: {name: "Reunion", abbr: "RE", zones: ["Indian/Reunion"]},
            RO: {name: "Romania", abbr: "RO", zones: ["Europe/Bucharest"]},
            RS: {name: "Serbia", abbr: "RS", zones: ["Europe/Belgrade"]},
            RU: {
                name: "Russia",
                abbr: "RU",
                zones: ["Europe/Kaliningrad", "Europe/Moscow", "Europe/Simferopol", "Europe/Volgograd", "Europe/Samara", "Asia/Yekaterinburg", "Asia/Omsk", "Asia/Novosibirsk", "Asia/Novokuznetsk", "Asia/Krasnoyarsk", "Asia/Irkutsk", "Asia/Chita", "Asia/Yakutsk", "Asia/Khandyga", "Asia/Vladivostok", "Asia/Sakhalin", "Asia/Ust-Nera", "Asia/Magadan", "Asia/Srednekolymsk", "Asia/Kamchatka", "Asia/Anadyr"]
            },
            RW: {name: "Rwanda", abbr: "RW", zones: ["Africa/Maputo"]},
            SA: {name: "Saudi Arabia", abbr: "SA", zones: ["Asia/Riyadh"]},
            SB: {name: "Solomon Islands", abbr: "SB", zones: ["Pacific/Guadalcanal"]},
            SC: {name: "Seychelles", abbr: "SC", zones: ["Indian/Mahe"]},
            SD: {name: "Sudan", abbr: "SD", zones: ["Africa/Khartoum"]},
            SE: {name: "Sweden", abbr: "SE", zones: ["Europe/Stockholm"]},
            SG: {name: "Singapore", abbr: "SG", zones: ["Asia/Singapore"]},
            SH: {name: "St Helena", abbr: "SH", zones: ["Africa/Abidjan"]},
            SI: {name: "Slovenia", abbr: "SI", zones: ["Europe/Belgrade"]},
            SJ: {name: "Svalbard & Jan Mayen", abbr: "SJ", zones: ["Europe/Oslo"]},
            SK: {name: "Slovakia", abbr: "SK", zones: ["Europe/Prague"]},
            SL: {name: "Sierra Leone", abbr: "SL", zones: ["Africa/Abidjan"]},
            SM: {name: "San Marino", abbr: "SM", zones: ["Europe/Rome"]},
            SN: {name: "Senegal", abbr: "SN", zones: ["Africa/Abidjan"]},
            SO: {name: "Somalia", abbr: "SO", zones: ["Africa/Nairobi"]},
            SR: {name: "Suriname", abbr: "SR", zones: ["America/Paramaribo"]},
            SS: {name: "South Sudan", abbr: "SS", zones: ["Africa/Khartoum"]},
            ST: {name: "Sao Tome & Principe", abbr: "ST", zones: ["Africa/Abidjan"]},
            SV: {name: "El Salvador", abbr: "SV", zones: ["America/El_Salvador"]},
            SX: {name: "St Maarten (Dutch part)", abbr: "SX", zones: ["America/Curacao"]},
            SY: {name: "Syria", abbr: "SY", zones: ["Asia/Damascus"]},
            SZ: {name: "Swaziland", abbr: "SZ", zones: ["Africa/Johannesburg"]},
            TC: {name: "Turks & Caicos Is", abbr: "TC", zones: ["America/Grand_Turk"]},
            TD: {name: "Chad", abbr: "TD", zones: ["Africa/Ndjamena"]},
            TF: {name: "French Southern & Antarctic Lands", abbr: "TF", zones: ["Indian/Reunion", "Indian/Kerguelen"]},
            TG: {name: "Togo", abbr: "TG", zones: ["Africa/Abidjan"]},
            TH: {name: "Thailand", abbr: "TH", zones: ["Asia/Bangkok"]},
            TJ: {name: "Tajikistan", abbr: "TJ", zones: ["Asia/Dushanbe"]},
            TK: {name: "Tokelau", abbr: "TK", zones: ["Pacific/Fakaofo"]},
            TL: {name: "East Timor", abbr: "TL", zones: ["Asia/Dili"]},
            TM: {name: "Turkmenistan", abbr: "TM", zones: ["Asia/Ashgabat"]},
            TN: {name: "Tunisia", abbr: "TN", zones: ["Africa/Tunis"]},
            TO: {name: "Tonga", abbr: "TO", zones: ["Pacific/Tongatapu"]},
            TR: {name: "Turkey", abbr: "TR", zones: ["Europe/Istanbul"]},
            TT: {name: "Trinidad & Tobago", abbr: "TT", zones: ["America/Port_of_Spain"]},
            TV: {name: "Tuvalu", abbr: "TV", zones: ["Pacific/Funafuti"]},
            TW: {name: "Taiwan", abbr: "TW", zones: ["Asia/Taipei"]},
            TZ: {name: "Tanzania", abbr: "TZ", zones: ["Africa/Nairobi"]},
            UA: {name: "Ukraine", abbr: "UA", zones: ["Europe/Kiev", "Europe/Uzhgorod", "Europe/Zaporozhye"]},
            UG: {name: "Uganda", abbr: "UG", zones: ["Africa/Nairobi"]},
            UM: {
                name: "US minor outlying islands",
                abbr: "UM",
                zones: ["Pacific/Pago_Pago", "Pacific/Wake", "Pacific/Honolulu"]
            },
            US: {
                name: "United States",
                abbr: "US",
                zones: ["America/New_York", "America/Detroit", "America/Kentucky/Louisville", "America/Kentucky/Monticello", "America/Indiana/Indianapolis", "America/Indiana/Vincennes", "America/Indiana/Winamac", "America/Indiana/Marengo", "America/Indiana/Petersburg", "America/Indiana/Vevay", "America/Chicago", "America/Indiana/Tell_City", "America/Indiana/Knox", "America/Menominee", "America/North_Dakota/Center", "America/North_Dakota/New_Salem", "America/North_Dakota/Beulah", "America/Denver", "America/Boise", "America/Phoenix", "America/Los_Angeles", "America/Metlakatla", "America/Anchorage", "America/Juneau", "America/Sitka", "America/Yakutat", "America/Nome", "America/Adak", "Pacific/Honolulu"]
            },
            UY: {name: "Uruguay", abbr: "UY", zones: ["America/Montevideo"]},
            UZ: {name: "Uzbekistan", abbr: "UZ", zones: ["Asia/Samarkand", "Asia/Tashkent"]},
            VA: {name: "Vatican City", abbr: "VA", zones: ["Europe/Rome"]},
            VC: {name: "St Vincent", abbr: "VC", zones: ["America/Port_of_Spain"]},
            VE: {name: "Venezuela", abbr: "VE", zones: ["America/Caracas"]},
            VG: {name: "Virgin Islands (UK)", abbr: "VG", zones: ["America/Port_of_Spain"]},
            VI: {name: "Virgin Islands (US)", abbr: "VI", zones: ["America/Port_of_Spain"]},
            VN: {name: "Vietnam", abbr: "VN", zones: ["Asia/Bangkok", "Asia/Ho_Chi_Minh"]},
            VU: {name: "Vanuatu", abbr: "VU", zones: ["Pacific/Efate"]},
            WF: {name: "Wallis & Futuna", abbr: "WF", zones: ["Pacific/Wallis"]},
            WS: {name: "Samoa (western)", abbr: "WS", zones: ["Pacific/Apia"]},
            YE: {name: "Yemen", abbr: "YE", zones: ["Asia/Riyadh"]},
            YT: {name: "Mayotte", abbr: "YT", zones: ["Africa/Nairobi"]},
            ZA: {name: "South Africa", abbr: "ZA", zones: ["Africa/Johannesburg"]},
            ZM: {name: "Zambia", abbr: "ZM", zones: ["Africa/Maputo"]},
            ZW: {name: "Zimbabwe", abbr: "ZW", zones: ["Africa/Maputo"]}
        }, zones: {
            "Europe/Andorra": {name: "Europe/Andorra", lat: 42.5, long: 1.5167, countries: ["AD"], comments: ""},
            "Asia/Dubai": {name: "Asia/Dubai", lat: 25.3, long: 55.3, countries: ["AE", "OM"], comments: ""},
            "Asia/Kabul": {name: "Asia/Kabul", lat: 34.5167, long: 69.2, countries: ["AF"], comments: ""},
            "Europe/Tirane": {name: "Europe/Tirane", lat: 41.3333, long: 19.8333, countries: ["AL"], comments: ""},
            "Asia/Yerevan": {name: "Asia/Yerevan", lat: 40.1833, long: 44.5, countries: ["AM"], comments: ""},
            "Antarctica/Rothera": {
                name: "Antarctica/Rothera",
                lat: -66.4333,
                long: -67.8667,
                countries: ["AQ"],
                comments: "Rothera Station, Adelaide Island"
            },
            "Antarctica/Palmer": {
                name: "Antarctica/Palmer",
                lat: -63.2,
                long: -63.9,
                countries: ["AQ"],
                comments: "Palmer Station, Anvers Island"
            },
            "Antarctica/Mawson": {
                name: "Antarctica/Mawson",
                lat: -66.4,
                long: 62.8833,
                countries: ["AQ"],
                comments: "Mawson Station, Holme Bay"
            },
            "Antarctica/Davis": {
                name: "Antarctica/Davis",
                lat: -67.4167,
                long: 77.9667,
                countries: ["AQ"],
                comments: "Davis Station, Vestfold Hills"
            },
            "Antarctica/Casey": {
                name: "Antarctica/Casey",
                lat: -65.7167,
                long: 110.5167,
                countries: ["AQ"],
                comments: "Casey Station, Bailey Peninsula"
            },
            "Antarctica/Vostok": {
                name: "Antarctica/Vostok",
                lat: -77.6,
                long: 106.9,
                countries: ["AQ"],
                comments: "Vostok Station, Lake Vostok"
            },
            "Antarctica/DumontDUrville": {
                name: "Antarctica/DumontDUrville",
                lat: -65.3333,
                long: 140.0167,
                countries: ["AQ"],
                comments: "Dumont-d'Urville Station, Adlie Land"
            },
            "Antarctica/Syowa": {
                name: "Antarctica/Syowa",
                lat: -68.9939,
                long: 39.59,
                countries: ["AQ"],
                comments: "Syowa Station, E Ongul I"
            },
            "Antarctica/Troll": {
                name: "Antarctica/Troll",
                lat: -71.9886,
                long: 2.535,
                countries: ["AQ"],
                comments: "Troll Station, Queen Maud Land"
            },
            "America/Argentina/Buenos_Aires": {
                name: "America/Argentina/Buenos_Aires",
                lat: -33.4,
                long: -57.55,
                countries: ["AR"],
                comments: "Buenos Aires (BA, CF)"
            },
            "America/Argentina/Cordoba": {
                name: "America/Argentina/Cordoba",
                lat: -30.6,
                long: -63.8167,
                countries: ["AR"],
                comments: "most locations (CB, CC, CN, ER, FM, MN, SE, SF)"
            },
            "America/Argentina/Salta": {
                name: "America/Argentina/Salta",
                lat: -23.2167,
                long: -64.5833,
                countries: ["AR"],
                comments: "(SA, LP, NQ, RN)"
            },
            "America/Argentina/Jujuy": {
                name: "America/Argentina/Jujuy",
                lat: -23.8167,
                long: -64.7,
                countries: ["AR"],
                comments: "Jujuy (JY)"
            },
            "America/Argentina/Tucuman": {
                name: "America/Argentina/Tucuman",
                lat: -25.1833,
                long: -64.7833,
                countries: ["AR"],
                comments: "Tucumn (TM)"
            },
            "America/Argentina/Catamarca": {
                name: "America/Argentina/Catamarca",
                lat: -27.5333,
                long: -64.2167,
                countries: ["AR"],
                comments: "Catamarca (CT), Chubut (CH)"
            },
            "America/Argentina/La_Rioja": {
                name: "America/Argentina/La_Rioja",
                lat: -28.5667,
                long: -65.15,
                countries: ["AR"],
                comments: "La Rioja (LR)"
            },
            "America/Argentina/San_Juan": {
                name: "America/Argentina/San_Juan",
                lat: -30.4667,
                long: -67.4833,
                countries: ["AR"],
                comments: "San Juan (SJ)"
            },
            "America/Argentina/Mendoza": {
                name: "America/Argentina/Mendoza",
                lat: -31.1167,
                long: -67.1833,
                countries: ["AR"],
                comments: "Mendoza (MZ)"
            },
            "America/Argentina/San_Luis": {
                name: "America/Argentina/San_Luis",
                lat: -32.6833,
                long: -65.65,
                countries: ["AR"],
                comments: "San Luis (SL)"
            },
            "America/Argentina/Rio_Gallegos": {
                name: "America/Argentina/Rio_Gallegos",
                lat: -50.3667,
                long: -68.7833,
                countries: ["AR"],
                comments: "Santa Cruz (SC)"
            },
            "America/Argentina/Ushuaia": {
                name: "America/Argentina/Ushuaia",
                lat: -53.2,
                long: -67.7,
                countries: ["AR"],
                comments: "Tierra del Fuego (TF)"
            },
            "Pacific/Pago_Pago": {
                name: "Pacific/Pago_Pago",
                lat: -13.7333,
                long: -169.3,
                countries: ["AS", "UM"],
                comments: "Samoa, Midway"
            },
            "Europe/Vienna": {name: "Europe/Vienna", lat: 48.2167, long: 16.3333, countries: ["AT"], comments: ""},
            "Australia/Lord_Howe": {
                name: "Australia/Lord_Howe",
                lat: -30.45,
                long: 159.0833,
                countries: ["AU"],
                comments: "Lord Howe Island"
            },
            "Antarctica/Macquarie": {
                name: "Antarctica/Macquarie",
                lat: -53.5,
                long: 158.95,
                countries: ["AU"],
                comments: "Macquarie Island"
            },
            "Australia/Hobart": {
                name: "Australia/Hobart",
                lat: -41.1167,
                long: 147.3167,
                countries: ["AU"],
                comments: "Tasmania - most locations"
            },
            "Australia/Currie": {
                name: "Australia/Currie",
                lat: -38.0667,
                long: 143.8667,
                countries: ["AU"],
                comments: "Tasmania - King Island"
            },
            "Australia/Melbourne": {
                name: "Australia/Melbourne",
                lat: -36.1833,
                long: 144.9667,
                countries: ["AU"],
                comments: "Victoria"
            },
            "Australia/Sydney": {
                name: "Australia/Sydney",
                lat: -32.1333,
                long: 151.2167,
                countries: ["AU"],
                comments: "New South Wales - most locations"
            },
            "Australia/Broken_Hill": {
                name: "Australia/Broken_Hill",
                lat: -30.05,
                long: 141.45,
                countries: ["AU"],
                comments: "New South Wales - Yancowinna"
            },
            "Australia/Brisbane": {
                name: "Australia/Brisbane",
                lat: -26.5333,
                long: 153.0333,
                countries: ["AU"],
                comments: "Queensland - most locations"
            },
            "Australia/Lindeman": {
                name: "Australia/Lindeman",
                lat: -19.7333,
                long: 149,
                countries: ["AU"],
                comments: "Queensland - Holiday Islands"
            },
            "Australia/Adelaide": {
                name: "Australia/Adelaide",
                lat: -33.0833,
                long: 138.5833,
                countries: ["AU"],
                comments: "South Australia"
            },
            "Australia/Darwin": {
                name: "Australia/Darwin",
                lat: -11.5333,
                long: 130.8333,
                countries: ["AU"],
                comments: "Northern Territory"
            },
            "Australia/Perth": {
                name: "Australia/Perth",
                lat: -30.05,
                long: 115.85,
                countries: ["AU"],
                comments: "Western Australia - most locations"
            },
            "Australia/Eucla": {
                name: "Australia/Eucla",
                lat: -30.2833,
                long: 128.8667,
                countries: ["AU"],
                comments: "Western Australia - Eucla area"
            },
            "Asia/Baku": {name: "Asia/Baku", lat: 40.3833, long: 49.85, countries: ["AZ"], comments: ""},
            "America/Barbados": {name: "America/Barbados", lat: 13.1, long: -58.3833, countries: ["BB"], comments: ""},
            "Asia/Dhaka": {name: "Asia/Dhaka", lat: 23.7167, long: 90.4167, countries: ["BD"], comments: ""},
            "Europe/Brussels": {name: "Europe/Brussels", lat: 50.8333, long: 4.3333, countries: ["BE"], comments: ""},
            "Europe/Sofia": {name: "Europe/Sofia", lat: 42.6833, long: 23.3167, countries: ["BG"], comments: ""},
            "Atlantic/Bermuda": {
                name: "Atlantic/Bermuda",
                lat: 32.2833,
                long: -63.2333,
                countries: ["BM"],
                comments: ""
            },
            "Asia/Brunei": {name: "Asia/Brunei", lat: 4.9333, long: 114.9167, countries: ["BN"], comments: ""},
            "America/La_Paz": {name: "America/La_Paz", lat: -15.5, long: -67.85, countries: ["BO"], comments: ""},
            "America/Noronha": {
                name: "America/Noronha",
                lat: -2.15,
                long: -31.5833,
                countries: ["BR"],
                comments: "Atlantic islands"
            },
            "America/Belem": {
                name: "America/Belem",
                lat: -.55,
                long: -47.5167,
                countries: ["BR"],
                comments: "Amap, E Par"
            },
            "America/Fortaleza": {
                name: "America/Fortaleza",
                lat: -2.2833,
                long: -37.5,
                countries: ["BR"],
                comments: "NE Brazil (MA, PI, CE, RN, PB)"
            },
            "America/Recife": {
                name: "America/Recife",
                lat: -7.95,
                long: -33.1,
                countries: ["BR"],
                comments: "Pernambuco"
            },
            "America/Araguaina": {
                name: "America/Araguaina",
                lat: -6.8,
                long: -47.8,
                countries: ["BR"],
                comments: "Tocantins"
            },
            "America/Maceio": {
                name: "America/Maceio",
                lat: -8.3333,
                long: -34.2833,
                countries: ["BR"],
                comments: "Alagoas, Sergipe"
            },
            "America/Bahia": {
                name: "America/Bahia",
                lat: -11.0167,
                long: -37.4833,
                countries: ["BR"],
                comments: "Bahia"
            },
            "America/Sao_Paulo": {
                name: "America/Sao_Paulo",
                lat: -22.4667,
                long: -45.3833,
                countries: ["BR"],
                comments: "S & SE Brazil (GO, DF, MG, ES, RJ, SP, PR, SC, RS)"
            },
            "America/Campo_Grande": {
                name: "America/Campo_Grande",
                lat: -19.55,
                long: -53.3833,
                countries: ["BR"],
                comments: "Mato Grosso do Sul"
            },
            "America/Cuiaba": {
                name: "America/Cuiaba",
                lat: -14.4167,
                long: -55.9167,
                countries: ["BR"],
                comments: "Mato Grosso"
            },
            "America/Santarem": {
                name: "America/Santarem",
                lat: -1.5667,
                long: -53.1333,
                countries: ["BR"],
                comments: "W Par"
            },
            "America/Porto_Velho": {
                name: "America/Porto_Velho",
                lat: -7.2333,
                long: -62.1,
                countries: ["BR"],
                comments: "Rondnia"
            },
            "America/Boa_Vista": {
                name: "America/Boa_Vista",
                lat: 2.8167,
                long: -59.3333,
                countries: ["BR"],
                comments: "Roraima"
            },
            "America/Manaus": {
                name: "America/Manaus",
                lat: -2.8667,
                long: -59.9833,
                countries: ["BR"],
                comments: "E Amazonas"
            },
            "America/Eirunepe": {
                name: "America/Eirunepe",
                lat: -5.3333,
                long: -68.1333,
                countries: ["BR"],
                comments: "W Amazonas"
            },
            "America/Rio_Branco": {
                name: "America/Rio_Branco",
                lat: -8.0333,
                long: -66.2,
                countries: ["BR"],
                comments: "Acre"
            },
            "America/Nassau": {name: "America/Nassau", lat: 25.0833, long: -76.65, countries: ["BS"], comments: ""},
            "Asia/Thimphu": {name: "Asia/Thimphu", lat: 27.4667, long: 89.65, countries: ["BT"], comments: ""},
            "Europe/Minsk": {name: "Europe/Minsk", lat: 53.9, long: 27.5667, countries: ["BY"], comments: ""},
            "America/Belize": {name: "America/Belize", lat: 17.5, long: -87.8, countries: ["BZ"], comments: ""},
            "America/St_Johns": {
                name: "America/St_Johns",
                lat: 47.5667,
                long: -51.2833,
                countries: ["CA"],
                comments: "Newfoundland Time, including SE Labrador"
            },
            "America/Halifax": {
                name: "America/Halifax",
                lat: 44.65,
                long: -62.4,
                countries: ["CA"],
                comments: "Atlantic Time - Nova Scotia (most places), PEI"
            },
            "America/Glace_Bay": {
                name: "America/Glace_Bay",
                lat: 46.2,
                long: -58.05,
                countries: ["CA"],
                comments: "Atlantic Time - Nova Scotia - places that did not observe DST 1966-1971"
            },
            "America/Moncton": {
                name: "America/Moncton",
                lat: 46.1,
                long: -63.2167,
                countries: ["CA"],
                comments: "Atlantic Time - New Brunswick"
            },
            "America/Goose_Bay": {
                name: "America/Goose_Bay",
                lat: 53.3333,
                long: -59.5833,
                countries: ["CA"],
                comments: "Atlantic Time - Labrador - most locations"
            },
            "America/Blanc-Sablon": {
                name: "America/Blanc-Sablon",
                lat: 51.4167,
                long: -56.8833,
                countries: ["CA"],
                comments: "Atlantic Standard Time - Quebec - Lower North Shore"
            },
            "America/Toronto": {
                name: "America/Toronto",
                lat: 43.65,
                long: -78.6167,
                countries: ["CA"],
                comments: "Eastern Time - Ontario & Quebec - most locations"
            },
            "America/Nipigon": {
                name: "America/Nipigon",
                lat: 49.0167,
                long: -87.7333,
                countries: ["CA"],
                comments: "Eastern Time - Ontario & Quebec - places that did not observe DST 1967-1973"
            },
            "America/Thunder_Bay": {
                name: "America/Thunder_Bay",
                lat: 48.3833,
                long: -88.75,
                countries: ["CA"],
                comments: "Eastern Time - Thunder Bay, Ontario"
            },
            "America/Iqaluit": {
                name: "America/Iqaluit",
                lat: 63.7333,
                long: -67.5333,
                countries: ["CA"],
                comments: "Eastern Time - east Nunavut - most locations"
            },
            "America/Pangnirtung": {
                name: "America/Pangnirtung",
                lat: 66.1333,
                long: -64.2667,
                countries: ["CA"],
                comments: "Eastern Time - Pangnirtung, Nunavut"
            },
            "America/Resolute": {
                name: "America/Resolute",
                lat: 74.6956,
                long: -93.1708,
                countries: ["CA"],
                comments: "Central Time - Resolute, Nunavut"
            },
            "America/Atikokan": {
                name: "America/Atikokan",
                lat: 48.7586,
                long: -90.3783,
                countries: ["CA"],
                comments: "Eastern Standard Time - Atikokan, Ontario and Southampton I, Nunavut"
            },
            "America/Rankin_Inlet": {
                name: "America/Rankin_Inlet",
                lat: 62.8167,
                long: -91.9169,
                countries: ["CA"],
                comments: "Central Time - central Nunavut"
            },
            "America/Winnipeg": {
                name: "America/Winnipeg",
                lat: 49.8833,
                long: -96.85,
                countries: ["CA"],
                comments: "Central Time - Manitoba & west Ontario"
            },
            "America/Rainy_River": {
                name: "America/Rainy_River",
                lat: 48.7167,
                long: -93.4333,
                countries: ["CA"],
                comments: "Central Time - Rainy River & Fort Frances, Ontario"
            },
            "America/Regina": {
                name: "America/Regina",
                lat: 50.4,
                long: -103.35,
                countries: ["CA"],
                comments: "Central Standard Time - Saskatchewan - most locations"
            },
            "America/Swift_Current": {
                name: "America/Swift_Current",
                lat: 50.2833,
                long: -106.1667,
                countries: ["CA"],
                comments: "Central Standard Time - Saskatchewan - midwest"
            },
            "America/Edmonton": {
                name: "America/Edmonton",
                lat: 53.55,
                long: -112.5333,
                countries: ["CA"],
                comments: "Mountain Time - Alberta, east British Columbia & west Saskatchewan"
            },
            "America/Cambridge_Bay": {
                name: "America/Cambridge_Bay",
                lat: 69.1139,
                long: -104.9472,
                countries: ["CA"],
                comments: "Mountain Time - west Nunavut"
            },
            "America/Yellowknife": {
                name: "America/Yellowknife",
                lat: 62.45,
                long: -113.65,
                countries: ["CA"],
                comments: "Mountain Time - central Northwest Territories"
            },
            "America/Inuvik": {
                name: "America/Inuvik",
                lat: 68.3497,
                long: -132.2833,
                countries: ["CA"],
                comments: "Mountain Time - west Northwest Territories"
            },
            "America/Creston": {
                name: "America/Creston",
                lat: 49.1,
                long: -115.4833,
                countries: ["CA"],
                comments: "Mountain Standard Time - Creston, British Columbia"
            },
            "America/Dawson_Creek": {
                name: "America/Dawson_Creek",
                lat: 59.7667,
                long: -119.7667,
                countries: ["CA"],
                comments: "Mountain Standard Time - Dawson Creek & Fort Saint John, British Columbia"
            },
            "America/Vancouver": {
                name: "America/Vancouver",
                lat: 49.2667,
                long: -122.8833,
                countries: ["CA"],
                comments: "Pacific Time - west British Columbia"
            },
            "America/Whitehorse": {
                name: "America/Whitehorse",
                lat: 60.7167,
                long: -134.95,
                countries: ["CA"],
                comments: "Pacific Time - south Yukon"
            },
            "America/Dawson": {
                name: "America/Dawson",
                lat: 64.0667,
                long: -138.5833,
                countries: ["CA"],
                comments: "Pacific Time - north Yukon"
            },
            "Indian/Cocos": {name: "Indian/Cocos", lat: -11.8333, long: 96.9167, countries: ["CC"], comments: ""},
            "Europe/Zurich": {
                name: "Europe/Zurich",
                lat: 47.3833,
                long: 8.5333,
                countries: ["CH", "DE", "LI"],
                comments: "Swiss time"
            },
            "Africa/Abidjan": {
                name: "Africa/Abidjan",
                lat: 5.3167,
                long: -3.9667,
                countries: ["CI", "BF", "GM", "GN", "ML", "MR", "SH", "SL", "SN", "ST", "TG"],
                comments: ""
            },
            "Pacific/Rarotonga": {
                name: "Pacific/Rarotonga",
                lat: -20.7667,
                long: -158.2333,
                countries: ["CK"],
                comments: ""
            },
            "America/Santiago": {
                name: "America/Santiago",
                lat: -32.55,
                long: -69.3333,
                countries: ["CL"],
                comments: "most locations"
            },
            "Pacific/Easter": {
                name: "Pacific/Easter",
                lat: -26.85,
                long: -108.5667,
                countries: ["CL"],
                comments: "Easter Island"
            },
            "Asia/Shanghai": {
                name: "Asia/Shanghai",
                lat: 31.2333,
                long: 121.4667,
                countries: ["CN"],
                comments: "Beijing Time"
            },
            "Asia/Urumqi": {
                name: "Asia/Urumqi",
                lat: 43.8,
                long: 87.5833,
                countries: ["CN"],
                comments: "Xinjiang Time"
            },
            "America/Bogota": {name: "America/Bogota", lat: 4.6, long: -73.9167, countries: ["CO"], comments: ""},
            "America/Costa_Rica": {
                name: "America/Costa_Rica",
                lat: 9.9333,
                long: -83.9167,
                countries: ["CR"],
                comments: ""
            },
            "America/Havana": {name: "America/Havana", lat: 23.1333, long: -81.6333, countries: ["CU"], comments: ""},
            "Atlantic/Cape_Verde": {
                name: "Atlantic/Cape_Verde",
                lat: 14.9167,
                long: -22.4833,
                countries: ["CV"],
                comments: ""
            },
            "America/Curacao": {
                name: "America/Curacao",
                lat: 12.1833,
                long: -69,
                countries: ["CW", "AW", "BQ", "SX"],
                comments: ""
            },
            "Indian/Christmas": {
                name: "Indian/Christmas",
                lat: -9.5833,
                long: 105.7167,
                countries: ["CX"],
                comments: ""
            },
            "Asia/Nicosia": {name: "Asia/Nicosia", lat: 35.1667, long: 33.3667, countries: ["CY"], comments: ""},
            "Europe/Prague": {
                name: "Europe/Prague",
                lat: 50.0833,
                long: 14.4333,
                countries: ["CZ", "SK"],
                comments: ""
            },
            "Europe/Berlin": {
                name: "Europe/Berlin",
                lat: 52.5,
                long: 13.3667,
                countries: ["DE"],
                comments: "Berlin time"
            },
            "Europe/Copenhagen": {
                name: "Europe/Copenhagen",
                lat: 55.6667,
                long: 12.5833,
                countries: ["DK"],
                comments: ""
            },
            "America/Santo_Domingo": {
                name: "America/Santo_Domingo",
                lat: 18.4667,
                long: -68.1,
                countries: ["DO"],
                comments: ""
            },
            "Africa/Algiers": {name: "Africa/Algiers", lat: 36.7833, long: 3.05, countries: ["DZ"], comments: ""},
            "America/Guayaquil": {
                name: "America/Guayaquil",
                lat: -1.8333,
                long: -78.1667,
                countries: ["EC"],
                comments: "mainland"
            },
            "Pacific/Galapagos": {
                name: "Pacific/Galapagos",
                lat: .9,
                long: -88.4,
                countries: ["EC"],
                comments: "Galpagos Islands"
            },
            "Europe/Tallinn": {name: "Europe/Tallinn", lat: 59.4167, long: 24.75, countries: ["EE"], comments: ""},
            "Africa/Cairo": {name: "Africa/Cairo", lat: 30.05, long: 31.25, countries: ["EG"], comments: ""},
            "Africa/El_Aaiun": {name: "Africa/El_Aaiun", lat: 27.15, long: -12.8, countries: ["EH"], comments: ""},
            "Europe/Madrid": {name: "Europe/Madrid", lat: 40.4, long: -2.3167, countries: ["ES"], comments: "mainland"},
            "Africa/Ceuta": {
                name: "Africa/Ceuta",
                lat: 35.8833,
                long: -4.6833,
                countries: ["ES"],
                comments: "Ceuta & Melilla"
            },
            "Atlantic/Canary": {
                name: "Atlantic/Canary",
                lat: 28.1,
                long: -14.6,
                countries: ["ES"],
                comments: "Canary Islands"
            },
            "Europe/Helsinki": {
                name: "Europe/Helsinki",
                lat: 60.1667,
                long: 24.9667,
                countries: ["FI", "AX"],
                comments: ""
            },
            "Pacific/Fiji": {name: "Pacific/Fiji", lat: -17.8667, long: 178.4167, countries: ["FJ"], comments: ""},
            "Atlantic/Stanley": {name: "Atlantic/Stanley", lat: -50.3, long: -56.15, countries: ["FK"], comments: ""},
            "Pacific/Chuuk": {
                name: "Pacific/Chuuk",
                lat: 7.4167,
                long: 151.7833,
                countries: ["FM"],
                comments: "Chuuk (Truk) and Yap"
            },
            "Pacific/Pohnpei": {
                name: "Pacific/Pohnpei",
                lat: 6.9667,
                long: 158.2167,
                countries: ["FM"],
                comments: "Pohnpei (Ponape)"
            },
            "Pacific/Kosrae": {
                name: "Pacific/Kosrae",
                lat: 5.3167,
                long: 162.9833,
                countries: ["FM"],
                comments: "Kosrae"
            },
            "Atlantic/Faroe": {name: "Atlantic/Faroe", lat: 62.0167, long: -5.2333, countries: ["FO"], comments: ""},
            "Europe/Paris": {name: "Europe/Paris", lat: 48.8667, long: 2.3333, countries: ["FR"], comments: ""},
            "Europe/London": {
                name: "Europe/London",
                lat: 51.5083,
                long: .1253,
                countries: ["GB", "GG", "IM", "JE"],
                comments: ""
            },
            "Asia/Tbilisi": {name: "Asia/Tbilisi", lat: 41.7167, long: 44.8167, countries: ["GE"], comments: ""},
            "America/Cayenne": {name: "America/Cayenne", lat: 4.9333, long: -51.6667, countries: ["GF"], comments: ""},
            "Africa/Accra": {name: "Africa/Accra", lat: 5.55, long: .2167, countries: ["GH"], comments: ""},
            "Europe/Gibraltar": {name: "Europe/Gibraltar", lat: 36.1333, long: -4.65, countries: ["GI"], comments: ""},
            "America/Godthab": {
                name: "America/Godthab",
                lat: 64.1833,
                long: -50.2667,
                countries: ["GL"],
                comments: "most locations"
            },
            "America/Danmarkshavn": {
                name: "America/Danmarkshavn",
                lat: 76.7667,
                long: -17.3333,
                countries: ["GL"],
                comments: "east coast, north of Scoresbysund"
            },
            "America/Scoresbysund": {
                name: "America/Scoresbysund",
                lat: 70.4833,
                long: -20.0333,
                countries: ["GL"],
                comments: "Scoresbysund / Ittoqqortoormiit"
            },
            "America/Thule": {
                name: "America/Thule",
                lat: 76.5667,
                long: -67.2167,
                countries: ["GL"],
                comments: "Thule / Pituffik"
            },
            "Europe/Athens": {name: "Europe/Athens", lat: 37.9667, long: 23.7167, countries: ["GR"], comments: ""},
            "Atlantic/South_Georgia": {
                name: "Atlantic/South_Georgia",
                lat: -53.7333,
                long: -35.4667,
                countries: ["GS"],
                comments: ""
            },
            "America/Guatemala": {
                name: "America/Guatemala",
                lat: 14.6333,
                long: -89.4833,
                countries: ["GT"],
                comments: ""
            },
            "Pacific/Guam": {name: "Pacific/Guam", lat: 13.4667, long: 144.75, countries: ["GU", "MP"], comments: ""},
            "Africa/Bissau": {name: "Africa/Bissau", lat: 11.85, long: -14.4167, countries: ["GW"], comments: ""},
            "America/Guyana": {name: "America/Guyana", lat: 6.8, long: -57.8333, countries: ["GY"], comments: ""},
            "Asia/Hong_Kong": {name: "Asia/Hong_Kong", lat: 22.2833, long: 114.15, countries: ["HK"], comments: ""},
            "America/Tegucigalpa": {
                name: "America/Tegucigalpa",
                lat: 14.1,
                long: -86.7833,
                countries: ["HN"],
                comments: ""
            },
            "America/Port-au-Prince": {
                name: "America/Port-au-Prince",
                lat: 18.5333,
                long: -71.6667,
                countries: ["HT"],
                comments: ""
            },
            "Europe/Budapest": {name: "Europe/Budapest", lat: 47.5, long: 19.0833, countries: ["HU"], comments: ""},
            "Asia/Jakarta": {
                name: "Asia/Jakarta",
                lat: -5.8333,
                long: 106.8,
                countries: ["ID"],
                comments: "Java & Sumatra"
            },
            "Asia/Pontianak": {
                name: "Asia/Pontianak",
                lat: .0333,
                long: 109.3333,
                countries: ["ID"],
                comments: "west & central Borneo"
            },
            "Asia/Makassar": {
                name: "Asia/Makassar",
                lat: -4.8833,
                long: 119.4,
                countries: ["ID"],
                comments: "east & south Borneo, Sulawesi (Celebes), Bali, Nusa Tengarra, west Timor"
            },
            "Asia/Jayapura": {
                name: "Asia/Jayapura",
                lat: -1.4667,
                long: 140.7,
                countries: ["ID"],
                comments: "west New Guinea (Irian Jaya) & Malukus (Moluccas)"
            },
            "Europe/Dublin": {name: "Europe/Dublin", lat: 53.3333, long: -5.75, countries: ["IE"], comments: ""},
            "Asia/Jerusalem": {name: "Asia/Jerusalem", lat: 31.7806, long: 35.2239, countries: ["IL"], comments: ""},
            "Asia/Kolkata": {name: "Asia/Kolkata", lat: 22.5333, long: 88.3667, countries: ["IN"], comments: ""},
            "Indian/Chagos": {name: "Indian/Chagos", lat: -6.6667, long: 72.4167, countries: ["IO"], comments: ""},
            "Asia/Baghdad": {name: "Asia/Baghdad", lat: 33.35, long: 44.4167, countries: ["IQ"], comments: ""},
            "Asia/Tehran": {name: "Asia/Tehran", lat: 35.6667, long: 51.4333, countries: ["IR"], comments: ""},
            "Atlantic/Reykjavik": {
                name: "Atlantic/Reykjavik",
                lat: 64.15,
                long: -20.15,
                countries: ["IS"],
                comments: ""
            },
            "Europe/Rome": {name: "Europe/Rome", lat: 41.9, long: 12.4833, countries: ["IT", "SM", "VA"], comments: ""},
            "America/Jamaica": {name: "America/Jamaica", lat: 17.9681, long: -75.2067, countries: ["JM"], comments: ""},
            "Asia/Amman": {name: "Asia/Amman", lat: 31.95, long: 35.9333, countries: ["JO"], comments: ""},
            "Asia/Tokyo": {name: "Asia/Tokyo", lat: 35.6544, long: 139.7447, countries: ["JP"], comments: ""},
            "Africa/Nairobi": {
                name: "Africa/Nairobi",
                lat: -.7167,
                long: 36.8167,
                countries: ["KE", "DJ", "ER", "ET", "KM", "MG", "SO", "TZ", "UG", "YT"],
                comments: ""
            },
            "Asia/Bishkek": {name: "Asia/Bishkek", lat: 42.9, long: 74.6, countries: ["KG"], comments: ""},
            "Pacific/Tarawa": {
                name: "Pacific/Tarawa",
                lat: 1.4167,
                long: 173,
                countries: ["KI"],
                comments: "Gilbert Islands"
            },
            "Pacific/Enderbury": {
                name: "Pacific/Enderbury",
                lat: -2.8667,
                long: -170.9167,
                countries: ["KI"],
                comments: "Phoenix Islands"
            },
            "Pacific/Kiritimati": {
                name: "Pacific/Kiritimati",
                lat: 1.8667,
                long: -156.6667,
                countries: ["KI"],
                comments: "Line Islands"
            },
            "Asia/Pyongyang": {name: "Asia/Pyongyang", lat: 39.0167, long: 125.75, countries: ["KP"], comments: ""},
            "Asia/Seoul": {name: "Asia/Seoul", lat: 37.55, long: 126.9667, countries: ["KR"], comments: ""},
            "Asia/Almaty": {
                name: "Asia/Almaty",
                lat: 43.25,
                long: 76.95,
                countries: ["KZ"],
                comments: "most locations"
            },
            "Asia/Qyzylorda": {
                name: "Asia/Qyzylorda",
                lat: 44.8,
                long: 65.4667,
                countries: ["KZ"],
                comments: "Qyzylorda (Kyzylorda, Kzyl-Orda)"
            },
            "Asia/Aqtobe": {
                name: "Asia/Aqtobe",
                lat: 50.2833,
                long: 57.1667,
                countries: ["KZ"],
                comments: "Aqtobe (Aktobe)"
            },
            "Asia/Aqtau": {
                name: "Asia/Aqtau",
                lat: 44.5167,
                long: 50.2667,
                countries: ["KZ"],
                comments: "Atyrau (Atirau, Gur'yev), Mangghystau (Mankistau)"
            },
            "Asia/Oral": {name: "Asia/Oral", lat: 51.2167, long: 51.35, countries: ["KZ"], comments: "West Kazakhstan"},
            "Asia/Beirut": {name: "Asia/Beirut", lat: 33.8833, long: 35.5, countries: ["LB"], comments: ""},
            "Asia/Colombo": {name: "Asia/Colombo", lat: 6.9333, long: 79.85, countries: ["LK"], comments: ""},
            "Africa/Monrovia": {name: "Africa/Monrovia", lat: 6.3, long: -9.2167, countries: ["LR"], comments: ""},
            "Europe/Vilnius": {name: "Europe/Vilnius", lat: 54.6833, long: 25.3167, countries: ["LT"], comments: ""},
            "Europe/Luxembourg": {name: "Europe/Luxembourg", lat: 49.6, long: 6.15, countries: ["LU"], comments: ""},
            "Europe/Riga": {name: "Europe/Riga", lat: 56.95, long: 24.1, countries: ["LV"], comments: ""},
            "Africa/Tripoli": {name: "Africa/Tripoli", lat: 32.9, long: 13.1833, countries: ["LY"], comments: ""},
            "Africa/Casablanca": {
                name: "Africa/Casablanca",
                lat: 33.65,
                long: -6.4167,
                countries: ["MA"],
                comments: ""
            },
            "Europe/Monaco": {name: "Europe/Monaco", lat: 43.7, long: 7.3833, countries: ["MC"], comments: ""},
            "Europe/Chisinau": {name: "Europe/Chisinau", lat: 47, long: 28.8333, countries: ["MD"], comments: ""},
            "Pacific/Majuro": {
                name: "Pacific/Majuro",
                lat: 7.15,
                long: 171.2,
                countries: ["MH"],
                comments: "most locations"
            },
            "Pacific/Kwajalein": {
                name: "Pacific/Kwajalein",
                lat: 9.0833,
                long: 167.3333,
                countries: ["MH"],
                comments: "Kwajalein"
            },
            "Asia/Rangoon": {name: "Asia/Rangoon", lat: 16.7833, long: 96.1667, countries: ["MM"], comments: ""},
            "Asia/Ulaanbaatar": {
                name: "Asia/Ulaanbaatar",
                lat: 47.9167,
                long: 106.8833,
                countries: ["MN"],
                comments: "most locations"
            },
            "Asia/Hovd": {
                name: "Asia/Hovd",
                lat: 48.0167,
                long: 91.65,
                countries: ["MN"],
                comments: "Bayan-lgii, Govi-Altai, Hovd, Uvs, Zavkhan"
            },
            "Asia/Choibalsan": {
                name: "Asia/Choibalsan",
                lat: 48.0667,
                long: 114.5,
                countries: ["MN"],
                comments: "Dornod, Skhbaatar"
            },
            "Asia/Macau": {name: "Asia/Macau", lat: 22.2333, long: 113.5833, countries: ["MO"], comments: ""},
            "America/Martinique": {
                name: "America/Martinique",
                lat: 14.6,
                long: -60.9167,
                countries: ["MQ"],
                comments: ""
            },
            "Europe/Malta": {name: "Europe/Malta", lat: 35.9, long: 14.5167, countries: ["MT"], comments: ""},
            "Indian/Mauritius": {name: "Indian/Mauritius", lat: -19.8333, long: 57.5, countries: ["MU"], comments: ""},
            "Indian/Maldives": {name: "Indian/Maldives", lat: 4.1667, long: 73.5, countries: ["MV"], comments: ""},
            "America/Mexico_City": {
                name: "America/Mexico_City",
                lat: 19.4,
                long: -98.85,
                countries: ["MX"],
                comments: "Central Time - most locations"
            },
            "America/Cancun": {
                name: "America/Cancun",
                lat: 21.0833,
                long: -85.2333,
                countries: ["MX"],
                comments: "Eastern Standard Time - Quintana Roo"
            },
            "America/Merida": {
                name: "America/Merida",
                lat: 20.9667,
                long: -88.3833,
                countries: ["MX"],
                comments: "Central Time - Campeche, Yucatn"
            },
            "America/Monterrey": {
                name: "America/Monterrey",
                lat: 25.6667,
                long: -99.6833,
                countries: ["MX"],
                comments: "Mexican Central Time - Coahuila, Durango, Nuevo Len, Tamaulipas away from US border"
            },
            "America/Matamoros": {
                name: "America/Matamoros",
                lat: 25.8333,
                long: -96.5,
                countries: ["MX"],
                comments: "US Central Time - Coahuila, Durango, Nuevo Len, Tamaulipas near US border"
            },
            "America/Mazatlan": {
                name: "America/Mazatlan",
                lat: 23.2167,
                long: -105.5833,
                countries: ["MX"],
                comments: "Mountain Time - S Baja, Nayarit, Sinaloa"
            },
            "America/Chihuahua": {
                name: "America/Chihuahua",
                lat: 28.6333,
                long: -105.9167,
                countries: ["MX"],
                comments: "Mexican Mountain Time - Chihuahua away from US border"
            },
            "America/Ojinaga": {
                name: "America/Ojinaga",
                lat: 29.5667,
                long: -103.5833,
                countries: ["MX"],
                comments: "US Mountain Time - Chihuahua near US border"
            },
            "America/Hermosillo": {
                name: "America/Hermosillo",
                lat: 29.0667,
                long: -109.0333,
                countries: ["MX"],
                comments: "Mountain Standard Time - Sonora"
            },
            "America/Tijuana": {
                name: "America/Tijuana",
                lat: 32.5333,
                long: -116.9833,
                countries: ["MX"],
                comments: "US Pacific Time - Baja California near US border"
            },
            "America/Santa_Isabel": {
                name: "America/Santa_Isabel",
                lat: 30.3,
                long: -113.1333,
                countries: ["MX"],
                comments: "Mexican Pacific Time - Baja California away from US border"
            },
            "America/Bahia_Banderas": {
                name: "America/Bahia_Banderas",
                lat: 20.8,
                long: -104.75,
                countries: ["MX"],
                comments: "Mexican Central Time - Baha de Banderas"
            },
            "Asia/Kuala_Lumpur": {
                name: "Asia/Kuala_Lumpur",
                lat: 3.1667,
                long: 101.7,
                countries: ["MY"],
                comments: "peninsular Malaysia"
            },
            "Asia/Kuching": {
                name: "Asia/Kuching",
                lat: 1.55,
                long: 110.3333,
                countries: ["MY"],
                comments: "Sabah & Sarawak"
            },
            "Africa/Maputo": {
                name: "Africa/Maputo",
                lat: -24.0333,
                long: 32.5833,
                countries: ["MZ", "BI", "BW", "CD", "MW", "RW", "ZM", "ZW"],
                comments: "Central Africa Time (UTC+2)"
            },
            "Africa/Windhoek": {name: "Africa/Windhoek", lat: -21.4333, long: 17.1, countries: ["NA"], comments: ""},
            "Pacific/Noumea": {name: "Pacific/Noumea", lat: -21.7333, long: 166.45, countries: ["NC"], comments: ""},
            "Pacific/Norfolk": {name: "Pacific/Norfolk", lat: -28.95, long: 167.9667, countries: ["NF"], comments: ""},
            "Africa/Lagos": {
                name: "Africa/Lagos",
                lat: 6.45,
                long: 3.4,
                countries: ["NG", "AO", "BJ", "CD", "CF", "CG", "CM", "GA", "GQ", "NE"],
                comments: "West Africa Time (UTC+1)"
            },
            "America/Managua": {name: "America/Managua", lat: 12.15, long: -85.7167, countries: ["NI"], comments: ""},
            "Europe/Amsterdam": {name: "Europe/Amsterdam", lat: 52.3667, long: 4.9, countries: ["NL"], comments: ""},
            "Europe/Oslo": {name: "Europe/Oslo", lat: 59.9167, long: 10.75, countries: ["NO", "SJ"], comments: ""},
            "Asia/Kathmandu": {name: "Asia/Kathmandu", lat: 27.7167, long: 85.3167, countries: ["NP"], comments: ""},
            "Pacific/Nauru": {name: "Pacific/Nauru", lat: .5167, long: 166.9167, countries: ["NR"], comments: ""},
            "Pacific/Niue": {name: "Pacific/Niue", lat: -18.9833, long: -168.0833, countries: ["NU"], comments: ""},
            "Pacific/Auckland": {
                name: "Pacific/Auckland",
                lat: -35.1333,
                long: 174.7667,
                countries: ["NZ", "AQ"],
                comments: "New Zealand time"
            },
            "Pacific/Chatham": {
                name: "Pacific/Chatham",
                lat: -42.05,
                long: -175.45,
                countries: ["NZ"],
                comments: "Chatham Islands"
            },
            "America/Panama": {
                name: "America/Panama",
                lat: 8.9667,
                long: -78.4667,
                countries: ["PA", "KY"],
                comments: ""
            },
            "America/Lima": {name: "America/Lima", lat: -11.95, long: -76.95, countries: ["PE"], comments: ""},
            "Pacific/Tahiti": {
                name: "Pacific/Tahiti",
                lat: -16.4667,
                long: -148.4333,
                countries: ["PF"],
                comments: "Society Islands"
            },
            "Pacific/Marquesas": {
                name: "Pacific/Marquesas",
                lat: -9,
                long: -138.5,
                countries: ["PF"],
                comments: "Marquesas Islands"
            },
            "Pacific/Gambier": {
                name: "Pacific/Gambier",
                lat: -22.8667,
                long: -133.05,
                countries: ["PF"],
                comments: "Gambier Islands"
            },
            "Pacific/Port_Moresby": {
                name: "Pacific/Port_Moresby",
                lat: -8.5,
                long: 147.1667,
                countries: ["PG"],
                comments: "most locations"
            },
            "Pacific/Bougainville": {
                name: "Pacific/Bougainville",
                lat: -5.7833,
                long: 155.5667,
                countries: ["PG"],
                comments: "Bougainville"
            },
            "Asia/Manila": {name: "Asia/Manila", lat: 14.5833, long: 121, countries: ["PH"], comments: ""},
            "Asia/Karachi": {name: "Asia/Karachi", lat: 24.8667, long: 67.05, countries: ["PK"], comments: ""},
            "Europe/Warsaw": {name: "Europe/Warsaw", lat: 52.25, long: 21, countries: ["PL"], comments: ""},
            "America/Miquelon": {name: "America/Miquelon", lat: 47.05, long: -55.6667, countries: ["PM"], comments: ""},
            "Pacific/Pitcairn": {
                name: "Pacific/Pitcairn",
                lat: -24.9333,
                long: -129.9167,
                countries: ["PN"],
                comments: ""
            },
            "America/Puerto_Rico": {
                name: "America/Puerto_Rico",
                lat: 18.4683,
                long: -65.8939,
                countries: ["PR"],
                comments: ""
            },
            "Asia/Gaza": {name: "Asia/Gaza", lat: 31.5, long: 34.4667, countries: ["PS"], comments: "Gaza Strip"},
            "Asia/Hebron": {name: "Asia/Hebron", lat: 31.5333, long: 35.095, countries: ["PS"], comments: "West Bank"},
            "Europe/Lisbon": {
                name: "Europe/Lisbon",
                lat: 38.7167,
                long: -8.8667,
                countries: ["PT"],
                comments: "mainland"
            },
            "Atlantic/Madeira": {
                name: "Atlantic/Madeira",
                lat: 32.6333,
                long: -15.1,
                countries: ["PT"],
                comments: "Madeira Islands"
            },
            "Atlantic/Azores": {
                name: "Atlantic/Azores",
                lat: 37.7333,
                long: -24.3333,
                countries: ["PT"],
                comments: "Azores"
            },
            "Pacific/Palau": {name: "Pacific/Palau", lat: 7.3333, long: 134.4833, countries: ["PW"], comments: ""},
            "America/Asuncion": {
                name: "America/Asuncion",
                lat: -24.7333,
                long: -56.3333,
                countries: ["PY"],
                comments: ""
            },
            "Asia/Qatar": {name: "Asia/Qatar", lat: 25.2833, long: 51.5333, countries: ["QA", "BH"], comments: ""},
            "Indian/Reunion": {
                name: "Indian/Reunion",
                lat: -19.1333,
                long: 55.4667,
                countries: ["RE", "TF"],
                comments: "Runion, Crozet Is, Scattered Is"
            },
            "Europe/Bucharest": {name: "Europe/Bucharest", lat: 44.4333, long: 26.1, countries: ["RO"], comments: ""},
            "Europe/Belgrade": {
                name: "Europe/Belgrade",
                lat: 44.8333,
                long: 20.5,
                countries: ["RS", "BA", "HR", "ME", "MK", "SI"],
                comments: ""
            },
            "Europe/Kaliningrad": {
                name: "Europe/Kaliningrad",
                lat: 54.7167,
                long: 20.5,
                countries: ["RU"],
                comments: "Moscow-01 - Kaliningrad"
            },
            "Europe/Moscow": {
                name: "Europe/Moscow",
                lat: 55.7558,
                long: 37.6178,
                countries: ["RU"],
                comments: "Moscow+00 - west Russia"
            },
            "Europe/Simferopol": {
                name: "Europe/Simferopol",
                lat: 44.95,
                long: 34.1,
                countries: ["RU"],
                comments: "Moscow+00 - Crimea"
            },
            "Europe/Volgograd": {
                name: "Europe/Volgograd",
                lat: 48.7333,
                long: 44.4167,
                countries: ["RU"],
                comments: "Moscow+00 - Caspian Sea"
            },
            "Europe/Samara": {
                name: "Europe/Samara",
                lat: 53.2,
                long: 50.15,
                countries: ["RU"],
                comments: "Moscow+00 (Moscow+01 after 2014-10-26) - Samara, Udmurtia"
            },
            "Asia/Yekaterinburg": {
                name: "Asia/Yekaterinburg",
                lat: 56.85,
                long: 60.6,
                countries: ["RU"],
                comments: "Moscow+02 - Urals"
            },
            "Asia/Omsk": {
                name: "Asia/Omsk",
                lat: 55,
                long: 73.4,
                countries: ["RU"],
                comments: "Moscow+03 - west Siberia"
            },
            "Asia/Novosibirsk": {
                name: "Asia/Novosibirsk",
                lat: 55.0333,
                long: 82.9167,
                countries: ["RU"],
                comments: "Moscow+03 - Novosibirsk"
            },
            "Asia/Novokuznetsk": {
                name: "Asia/Novokuznetsk",
                lat: 53.75,
                long: 87.1167,
                countries: ["RU"],
                comments: "Moscow+03 (Moscow+04 after 2014-10-26) - Kemerovo"
            },
            "Asia/Krasnoyarsk": {
                name: "Asia/Krasnoyarsk",
                lat: 56.0167,
                long: 92.8333,
                countries: ["RU"],
                comments: "Moscow+04 - Yenisei River"
            },
            "Asia/Irkutsk": {
                name: "Asia/Irkutsk",
                lat: 52.2667,
                long: 104.3333,
                countries: ["RU"],
                comments: "Moscow+05 - Lake Baikal"
            },
            "Asia/Chita": {
                name: "Asia/Chita",
                lat: 52.05,
                long: 113.4667,
                countries: ["RU"],
                comments: "Moscow+06 (Moscow+05 after 2014-10-26) - Zabaykalsky"
            },
            "Asia/Yakutsk": {
                name: "Asia/Yakutsk",
                lat: 62,
                long: 129.6667,
                countries: ["RU"],
                comments: "Moscow+06 - Lena River"
            },
            "Asia/Khandyga": {
                name: "Asia/Khandyga",
                lat: 62.6564,
                long: 135.5539,
                countries: ["RU"],
                comments: "Moscow+06 - Tomponsky, Ust-Maysky"
            },
            "Asia/Vladivostok": {
                name: "Asia/Vladivostok",
                lat: 43.1667,
                long: 131.9333,
                countries: ["RU"],
                comments: "Moscow+07 - Amur River"
            },
            "Asia/Sakhalin": {
                name: "Asia/Sakhalin",
                lat: 46.9667,
                long: 142.7,
                countries: ["RU"],
                comments: "Moscow+07 - Sakhalin Island"
            },
            "Asia/Ust-Nera": {
                name: "Asia/Ust-Nera",
                lat: 64.5603,
                long: 143.2267,
                countries: ["RU"],
                comments: "Moscow+07 - Oymyakonsky"
            },
            "Asia/Magadan": {
                name: "Asia/Magadan",
                lat: 59.5667,
                long: 150.8,
                countries: ["RU"],
                comments: "Moscow+08 (Moscow+07 after 2014-10-26) - Magadan"
            },
            "Asia/Srednekolymsk": {
                name: "Asia/Srednekolymsk",
                lat: 67.4667,
                long: 153.7167,
                countries: ["RU"],
                comments: "Moscow+08 - E Sakha, N Kuril Is"
            },
            "Asia/Kamchatka": {
                name: "Asia/Kamchatka",
                lat: 53.0167,
                long: 158.65,
                countries: ["RU"],
                comments: "Moscow+08 (Moscow+09 after 2014-10-26) - Kamchatka"
            },
            "Asia/Anadyr": {
                name: "Asia/Anadyr",
                lat: 64.75,
                long: 177.4833,
                countries: ["RU"],
                comments: "Moscow+08 (Moscow+09 after 2014-10-26) - Bering Sea"
            },
            "Asia/Riyadh": {
                name: "Asia/Riyadh",
                lat: 24.6333,
                long: 46.7167,
                countries: ["SA", "KW", "YE"],
                comments: ""
            },
            "Pacific/Guadalcanal": {
                name: "Pacific/Guadalcanal",
                lat: -8.4667,
                long: 160.2,
                countries: ["SB"],
                comments: ""
            },
            "Indian/Mahe": {name: "Indian/Mahe", lat: -3.3333, long: 55.4667, countries: ["SC"], comments: ""},
            "Africa/Khartoum": {
                name: "Africa/Khartoum",
                lat: 15.6,
                long: 32.5333,
                countries: ["SD", "SS"],
                comments: ""
            },
            "Europe/Stockholm": {name: "Europe/Stockholm", lat: 59.3333, long: 18.05, countries: ["SE"], comments: ""},
            "Asia/Singapore": {name: "Asia/Singapore", lat: 1.2833, long: 103.85, countries: ["SG"], comments: ""},
            "America/Paramaribo": {
                name: "America/Paramaribo",
                lat: 5.8333,
                long: -54.8333,
                countries: ["SR"],
                comments: ""
            },
            "America/El_Salvador": {
                name: "America/El_Salvador",
                lat: 13.7,
                long: -88.8,
                countries: ["SV"],
                comments: ""
            },
            "Asia/Damascus": {name: "Asia/Damascus", lat: 33.5, long: 36.3, countries: ["SY"], comments: ""},
            "America/Grand_Turk": {
                name: "America/Grand_Turk",
                lat: 21.4667,
                long: -70.8667,
                countries: ["TC"],
                comments: ""
            },
            "Africa/Ndjamena": {name: "Africa/Ndjamena", lat: 12.1167, long: 15.05, countries: ["TD"], comments: ""},
            "Indian/Kerguelen": {
                name: "Indian/Kerguelen",
                lat: -48.6472,
                long: 70.2175,
                countries: ["TF"],
                comments: "Kerguelen, St Paul I, Amsterdam I"
            },
            "Asia/Bangkok": {
                name: "Asia/Bangkok",
                lat: 13.75,
                long: 100.5167,
                countries: ["TH", "KH", "LA", "VN"],
                comments: "most of Indochina"
            },
            "Asia/Dushanbe": {name: "Asia/Dushanbe", lat: 38.5833, long: 68.8, countries: ["TJ"], comments: ""},
            "Pacific/Fakaofo": {
                name: "Pacific/Fakaofo",
                lat: -8.6333,
                long: -170.7667,
                countries: ["TK"],
                comments: ""
            },
            "Asia/Dili": {name: "Asia/Dili", lat: -7.45, long: 125.5833, countries: ["TL"], comments: ""},
            "Asia/Ashgabat": {name: "Asia/Ashgabat", lat: 37.95, long: 58.3833, countries: ["TM"], comments: ""},
            "Africa/Tunis": {name: "Africa/Tunis", lat: 36.8, long: 10.1833, countries: ["TN"], comments: ""},
            "Pacific/Tongatapu": {
                name: "Pacific/Tongatapu",
                lat: -20.8333,
                long: -174.8333,
                countries: ["TO"],
                comments: ""
            },
            "Europe/Istanbul": {name: "Europe/Istanbul", lat: 41.0167, long: 28.9667, countries: ["TR"], comments: ""},
            "America/Port_of_Spain": {
                name: "America/Port_of_Spain",
                lat: 10.65,
                long: -60.4833,
                countries: ["TT", "AG", "AI", "BL", "DM", "GD", "GP", "KN", "LC", "MF", "MS", "VC", "VG", "VI"],
                comments: ""
            },
            "Pacific/Funafuti": {
                name: "Pacific/Funafuti",
                lat: -7.4833,
                long: 179.2167,
                countries: ["TV"],
                comments: ""
            },
            "Asia/Taipei": {name: "Asia/Taipei", lat: 25.05, long: 121.5, countries: ["TW"], comments: ""},
            "Europe/Kiev": {
                name: "Europe/Kiev",
                lat: 50.4333,
                long: 30.5167,
                countries: ["UA"],
                comments: "most locations"
            },
            "Europe/Uzhgorod": {
                name: "Europe/Uzhgorod",
                lat: 48.6167,
                long: 22.3,
                countries: ["UA"],
                comments: "Ruthenia"
            },
            "Europe/Zaporozhye": {
                name: "Europe/Zaporozhye",
                lat: 47.8333,
                long: 35.1667,
                countries: ["UA"],
                comments: "Zaporozh'ye, E Lugansk / Zaporizhia, E Luhansk"
            },
            "Pacific/Wake": {
                name: "Pacific/Wake",
                lat: 19.2833,
                long: 166.6167,
                countries: ["UM"],
                comments: "Wake Island"
            },
            "America/New_York": {
                name: "America/New_York", lat: 40.7142,
                long: -73.9936, countries: ["US"], comments: "Eastern Time"
            },
            "America/Detroit": {
                name: "America/Detroit",
                lat: 42.3314,
                long: -82.9542,
                countries: ["US"],
                comments: "Eastern Time - Michigan - most locations"
            },
            "America/Kentucky/Louisville": {
                name: "America/Kentucky/Louisville",
                lat: 38.2542,
                long: -84.2406,
                countries: ["US"],
                comments: "Eastern Time - Kentucky - Louisville area"
            },
            "America/Kentucky/Monticello": {
                name: "America/Kentucky/Monticello",
                lat: 36.8297,
                long: -83.1508,
                countries: ["US"],
                comments: "Eastern Time - Kentucky - Wayne County"
            },
            "America/Indiana/Indianapolis": {
                name: "America/Indiana/Indianapolis",
                lat: 39.7683,
                long: -85.8419,
                countries: ["US"],
                comments: "Eastern Time - Indiana - most locations"
            },
            "America/Indiana/Vincennes": {
                name: "America/Indiana/Vincennes",
                lat: 38.6772,
                long: -86.4714,
                countries: ["US"],
                comments: "Eastern Time - Indiana - Daviess, Dubois, Knox & Martin Counties"
            },
            "America/Indiana/Winamac": {
                name: "America/Indiana/Winamac",
                lat: 41.0514,
                long: -85.3969,
                countries: ["US"],
                comments: "Eastern Time - Indiana - Pulaski County"
            },
            "America/Indiana/Marengo": {
                name: "America/Indiana/Marengo",
                lat: 38.3756,
                long: -85.6553,
                countries: ["US"],
                comments: "Eastern Time - Indiana - Crawford County"
            },
            "America/Indiana/Petersburg": {
                name: "America/Indiana/Petersburg",
                lat: 38.4919,
                long: -86.7214,
                countries: ["US"],
                comments: "Eastern Time - Indiana - Pike County"
            },
            "America/Indiana/Vevay": {
                name: "America/Indiana/Vevay",
                lat: 38.7478,
                long: -84.9328,
                countries: ["US"],
                comments: "Eastern Time - Indiana - Switzerland County"
            },
            "America/Chicago": {
                name: "America/Chicago",
                lat: 41.85,
                long: -86.35,
                countries: ["US"],
                comments: "Central Time"
            },
            "America/Indiana/Tell_City": {
                name: "America/Indiana/Tell_City",
                lat: 37.9531,
                long: -85.2386,
                countries: ["US"],
                comments: "Central Time - Indiana - Perry County"
            },
            "America/Indiana/Knox": {
                name: "America/Indiana/Knox",
                lat: 41.2958,
                long: -85.375,
                countries: ["US"],
                comments: "Central Time - Indiana - Starke County"
            },
            "America/Menominee": {
                name: "America/Menominee",
                lat: 45.1078,
                long: -86.3858,
                countries: ["US"],
                comments: "Central Time - Michigan - Dickinson, Gogebic, Iron & Menominee Counties"
            },
            "America/North_Dakota/Center": {
                name: "America/North_Dakota/Center",
                lat: 47.1164,
                long: -100.7008,
                countries: ["US"],
                comments: "Central Time - North Dakota - Oliver County"
            },
            "America/North_Dakota/New_Salem": {
                name: "America/North_Dakota/New_Salem",
                lat: 46.845,
                long: -100.5892,
                countries: ["US"],
                comments: "Central Time - North Dakota - Morton County (except Mandan area)"
            },
            "America/North_Dakota/Beulah": {
                name: "America/North_Dakota/Beulah",
                lat: 47.2642,
                long: -100.2222,
                countries: ["US"],
                comments: "Central Time - North Dakota - Mercer County"
            },
            "America/Denver": {
                name: "America/Denver",
                lat: 39.7392,
                long: -103.0158,
                countries: ["US"],
                comments: "Mountain Time"
            },
            "America/Boise": {
                name: "America/Boise",
                lat: 43.6136,
                long: -115.7975,
                countries: ["US"],
                comments: "Mountain Time - south Idaho & east Oregon"
            },
            "America/Phoenix": {
                name: "America/Phoenix",
                lat: 33.4483,
                long: -111.9267,
                countries: ["US"],
                comments: "Mountain Standard Time - Arizona (except Navajo)"
            },
            "America/Los_Angeles": {
                name: "America/Los_Angeles",
                lat: 34.0522,
                long: -117.7572,
                countries: ["US"],
                comments: "Pacific Time"
            },
            "America/Metlakatla": {
                name: "America/Metlakatla",
                lat: 55.1269,
                long: -130.4236,
                countries: ["US"],
                comments: "Pacific Standard Time - Annette Island, Alaska"
            },
            "America/Anchorage": {
                name: "America/Anchorage",
                lat: 61.2181,
                long: -148.0997,
                countries: ["US"],
                comments: "Alaska Time"
            },
            "America/Juneau": {
                name: "America/Juneau",
                lat: 58.3019,
                long: -133.5803,
                countries: ["US"],
                comments: "Alaska Time - Alaska panhandle"
            },
            "America/Sitka": {
                name: "America/Sitka",
                lat: 57.1764,
                long: -134.6981,
                countries: ["US"],
                comments: "Alaska Time - southeast Alaska panhandle"
            },
            "America/Yakutat": {
                name: "America/Yakutat",
                lat: 59.5469,
                long: -138.2728,
                countries: ["US"],
                comments: "Alaska Time - Alaska panhandle neck"
            },
            "America/Nome": {
                name: "America/Nome",
                lat: 64.5011,
                long: -164.5936,
                countries: ["US"],
                comments: "Alaska Time - west Alaska"
            },
            "America/Adak": {
                name: "America/Adak",
                lat: 51.88,
                long: -175.3419,
                countries: ["US"],
                comments: "Aleutian Islands"
            },
            "Pacific/Honolulu": {
                name: "Pacific/Honolulu",
                lat: 21.3069,
                long: -156.1417,
                countries: ["US", "UM"],
                comments: "Hawaii time"
            },
            "America/Montevideo": {
                name: "America/Montevideo",
                lat: -33.1167,
                long: -55.8167,
                countries: ["UY"],
                comments: ""
            },
            "Asia/Samarkand": {
                name: "Asia/Samarkand",
                lat: 39.6667,
                long: 66.8,
                countries: ["UZ"],
                comments: "west Uzbekistan"
            },
            "Asia/Tashkent": {
                name: "Asia/Tashkent",
                lat: 41.3333,
                long: 69.3,
                countries: ["UZ"],
                comments: "east Uzbekistan"
            },
            "America/Caracas": {name: "America/Caracas", lat: 10.5, long: -65.0667, countries: ["VE"], comments: ""},
            "Asia/Ho_Chi_Minh": {
                name: "Asia/Ho_Chi_Minh",
                lat: 10.75,
                long: 106.6667,
                countries: ["VN"],
                comments: "south Vietnam"
            },
            "Pacific/Efate": {name: "Pacific/Efate", lat: -16.3333, long: 168.4167, countries: ["VU"], comments: ""},
            "Pacific/Wallis": {name: "Pacific/Wallis", lat: -12.7, long: -175.8333, countries: ["WF"], comments: ""},
            "Pacific/Apia": {name: "Pacific/Apia", lat: -12.1667, long: -170.2667, countries: ["WS"], comments: ""},
            "Africa/Johannesburg": {
                name: "Africa/Johannesburg",
                lat: -25.75,
                long: 28,
                countries: ["ZA", "LS", "SZ"],
                comments: ""
            }
        }
    }
}(), angular.module("wt.tpls").run(["$templateCache", function (a) {
    "use strict";
    a.put("/tpl/404.html", "<div class=layout_content><div class=layout_content_main ng-switch=vm.type><dl class=frame wt-minheight=28 ng-switch-when=team><dt><span class=title>{{'404.title_name'|translate}}</span></dt><dd><div class=error-panel><i class=\"wtfont wtf-team\"></i><br><span>{{'404.team'|translate}}</span><br></div></dd></dl><dl class=frame wt-minheight=28 ng-switch-when=project><dt><span class=title>{{'404.title_name'|translate}}</span></dt><dd><div class=error-panel><i class=\"fa fa-inbox\"></i><br><span>{{'404.project'|translate}}</span><br></div></dd></dl><dl class=frame wt-minheight=28 ng-switch-when=profile><dt><span class=title>{{'404.title_name'|translate}}</span></dt><dd><div class=error-panel><i class=\"fa fa-inbox\"></i><br><span>{{'404.user'|translate}}</span><br></div></dd></dl><dl class=frame wt-minheight=90 ng-switch-default><dt><span class=title>{{'404.title_name'|translate}}</span></dt><dd><div class=\"mt_180 w_50p mlr-auto\"><div class=\"alert alert-danger\">{{'404.not_found'|translate}}<br><p ng-hide=global.is_login>{{'404.not_found_content'|translate}} <a class=js-real-link href=/signin>{{'404.btn_goto_signin'|translate}}</a><br></p></div></div></dd></dl></div></div>"), a.put("/tpl/account/account_apps.html", "<dd class=frame-dd><div ng-hide=vm.part_loading_done class=\"part-loading mt_20\"></div><div ng-show=vm.part_loading_done class=table-list><a href=https://open.worktile.com/apps target=_blank class=pull-right>{{'account_apps.link_more_apps'|translate}} <i class=\"fa fa-angle-double-right\"></i></a><p class=color-text-grayer>{{'account_apps.title_show_allow_apps'|translate}}</p><table class=\"table table--fancy\"><thead><tr><th>{{'account_apps.col_app_name'|translate}}</th><th>{{'account_apps.col_allow_datetime'|translate}}</th><th>{{'account_apps.col_allow_expire_datetime'|translate}}</th><th>{{'account_apps.col_setting'|translate}}</th></tr></thead><tbody><tr ng-repeat=\"app in account_apps\"><td>&nbsp;&nbsp;{{app|appClientName}} <span class=\"edition ng-binding edition-free\" ng-class=\"{1:'edition-free', 2:'edition-business', 3:'edition-nonprofit'}[team.edition]\">{{app|GetClientEdition}}</span></td><td>{{app.create_date|timeFullFormatZHCN}}</td><td>{{'account_apps.content_never_expire'|translate}}</td><td><a href=javascript:; class=btn data-placement=bottom ng-click=js_pop_decommissioning($event,app)>{{'account_apps.btn_remove_app'|translate}}</a></td></tr><tr><td colspan=4 ng-show=\"account_apps.length == 0\"><span class=color-text-light>&nbsp;&nbsp; {{'account_apps.warn_empty_allow_apps'|translate}}</span></td></tr></tbody></table></div></dd>"), a.put("/tpl/account/account_individuation.html", "<dd class=frame-dd><div ng-hide=vm.part_loading_done class=\"part-loading mt_20\"></div><div ng-show=vm.part_loading_done><dl class=dl-form><dt>{{'account_individuation.form_title_language'|translate}} <span class=dl-form-desc>{{'account_individuation.language_desc'|translate}}</span></dt><dd><form name=locales_form class=\"form-horizontal wt-form w_660\"><div class=form-group><div class=col-xs-10><select class=form-control ng-model=vm.locale ng-options=\"v.value as v.name for v in $root.global.constant.locales_name\" ng-change=vm.js_set_account_locale()><options value=\"\" selected=selected disabled=disabled>{{'account_individuation.language_placeholder'|translate}}</options></select></div></div></form></dd></dl><dl class=dl-form><dt>{{'account_individuation.form_title_autowatch'|translate}} <span class=dl-form-desc>{{'account_individuation.autowatch_desc'|translate}}</span></dt><dd><div class=radio--fancy><a href=javascript:; class=fa ng-click=vm.js_toggle_comment_auto_watch() ng-class=\"{1:'fa-toggle-on', 0:'fa-toggle-off' }[vm.comment_auto_watch]\"></a> <span>{{'account_individuation.autowatch_tips'|translate}}</span><br><ins ng-class=\"{1:'on',0:'off'}[vm.comment_auto_watch]\" ng-bind=\"{1:'account_individuation.autowatch_toggle_open',0:'account_individuation.autowatch_toggle_close'}[vm.comment_auto_watch]|translate\"></ins></div></dd></dl><dl class=dl-form><dt>{{'account_individuation.form_title_autoassign'|translate}} <span class=dl-form-desc>{{'account_individuation.autoassign_desc'|translate}}</span></dt><dd><div class=radio--fancy><a href=javascript:; class=fa ng-click=vm.js_toggle_create_task_assign_me() ng-class=\"{1:'fa-toggle-on', 0:'fa-toggle-off' }[vm.create_task_assign_me]\"></a> <span>{{'account_individuation.autoassign_tips'|translate}}</span><br><ins ng-class=\"{1:'on',0:'off'}[vm.create_task_assign_me]\" ng-bind=\"{1:'account_individuation.autoassign_toggle_open',0:'account_individuation.autoassign_toggle_close'}[vm.create_task_assign_me]|translate\"></ins></div></dd></dl><dl class=dl-form><dt>{{'account_individuation.form_title_background'|translate}} <span class=dl-form-desc>{{'account_individuation.background_desc'|translate}}</span></dt><dd><div class=radio--fancy><a href=javascript:; class=fa ng-click=vm.js_toggle_show_background_image() ng-class=\"{1:'fa-toggle-on', 0:'fa-toggle-off' }[vm.show_background_image]\"></a> <span>{{'account_individuation.background_tips'|translate}}</span><br><ins ng-class=\"{1:'on',0:'off'}[vm.show_background_image]\" ng-bind=\"{1:'account_individuation.background_toggle_open',0:'account_individuation.background_toggle_close'}[vm.show_background_image]|translate\"></ins></div><div class=background-image-list ng-if=\"vm.show_background_image==1\"><ul><li ng-repeat=\"color in $root.global.constant.default_bg_colors\" ng-class=\"{'selected':color===$root.global.me.background_image}\" ng-style=\"{'background-color':color}\" ng-click=vm.set_background(color)><i class=\"fa fa-check-circle-o\" ng-if=\"color===$root.global.me.background_image\"></i></li><li ng-repeat=\"img in $root.global.constant.default_bg_images\" ng-class=\"{'selected':img===$root.global.me.background_image}\" ng-style=\"{'background-image':'url('+$root.global.config.wtbackgorund_url+img+')'}\" ng-click=vm.set_background(img)><i class=\"fa fa-check-circle-o\" ng-if=\"img===$root.global.me.background_image\"></i></li><li ng-if=\"vm.bg_image!=''\" ng-class=\"{'selected':$root.global.me.background_image===vm.bg_image}\" ng-style=\"{'background-image':'url('+$root.global.config.wtbackgorund_url+vm.bg_image+')'}\" ng-click=vm.set_background(vm.bg_image)><i class=\"fa fa-check-circle-o\" ng-if=\"$root.global.me.background_image===vm.bg_image\"></i></li></ul><form name=form_upload_backgorund novalidate><button name=select_file_btn ng-model=vm.backgorundfile_model ngf-multiple=false ngf-pattern=\"'.png,.jpeg,.jpg'\" accept=image/png,image/jpeg ngf-max-size=2MB ngf-select ng-disabled=vm.background_image_uploading ngf-change=vm.background_file_select($files,form_upload_backgorund)><span class=btn-inner><i class=\"wtfont wtf-add\" ng-if=!vm.background_image_uploading></i> <i class=\"fa fa-spinner fa-pulse\" ng-if=vm.background_image_uploading></i><br>{{'account_individuation.btn_upload_background'|translate}}</span></button></form></div></dd></dl></div></dd>"), a.put("/tpl/account/account_level.html", ""), a.put("/tpl/account/account_message.html", "<dd class=frame-dd><div ng-hide=vm.part_loading_done class=\"part-loading mt_20\"></div><div ng-show=vm.part_loading_done><dl class=dl-form><dt>{{'account_message.form_title_excuse'|translate}} <span class=dl-form-desc>{{'account_message.desc_excuse'|translate}}</span></dt><dd><div class=radio--fancy><a href=javascript:; class=fa ng-click=js_toggle_smart_notice() ng-class=\"{1:'fa-toggle-on', 0:'fa-toggle-off' }[vm.notice_for_smart]\"></a> <span>{{'account_message.toggle_no_excuse'|translate}}</span><br><ins ng-class=\"{1:'on',0:'off'}[vm.notice_for_smart]\" ng-bind=\"{1:'account_message.opened',0:'account_message.closed'}[vm.notice_for_smart]|translate\"></ins></div></dd></dl><dl class=dl-form><dt>{{'account_message.form_title_email_notify'|translate}} <span class=dl-form-desc>{{'account_message.desc_email_notify'|translate}}</span></dt><dd ng-if=!vm.is_setting_notice_by_email><div class=radio--fancy><a href=javascript:; class=fa ng-click=js_toggle_email_notice() ng-class=\"{1:'fa-toggle-on', 0:'fa-toggle-off' }[vm.notice_by_email]\"></a> <span>{{'account_message.toggle_email_notify'|translate}}</span><br><ins ng-class=\"{1:'on',0:'off'}[vm.notice_by_email]\" ng-bind=\"{1:'account_message.opened',0:'account_message.closed'}[vm.notice_by_email]|translate\"></ins></div><div ng-if=vm.notice_by_email><button class=btn ng-click=vm.js_set_notice_by_email_open()>{{'account_message.btn_set_email_notify_type'|translate}}</button></div></dd><dd ng-if=vm.is_setting_notice_by_email><wt-notice-panel ng-if=vm.is_setting_notice_by_email_onload checklist=vm.check_list_notice_by_email onsave=vm.js_save_notice_by_email() oncancel=vm.js_set_notice_by_email_close()></wt-notice-panel></dd></dl><dl class=dl-form><dt>{{'account_message.form_title_wechat_notify'|translate}} <span class=dl-form-desc>{{'account_message.desc_wechat_notify'|translate}}</span></dt><dd ng-if=!vm.is_setting_notice_by_weixin><div class=\"alert alert-info w-400\" ng-if=\"$root.global.me.is_bind_weixin==0\"><i class=\"fa fa-info-circle mr-5\"></i> <span translate=account_message.tips_wechat_notify_bind></span></div><div ng-if=\"$root.global.me.is_bind_weixin==1\"><div class=radio--fancy><a href=javascript:; class=fa ng-click=vm.js_toggle_weixin_notice() ng-class=\"{1:'fa-toggle-on', 0:'fa-toggle-off' }[vm.notice_by_weixin]\"></a> <span>{{'account_message.toggle_wechat_notify'|translate}}</span><br><ins ng-class=\"{1:'on',0:'off'}[vm.notice_by_weixin]\" ng-bind=\"{1:'account_message.opened',0:'account_message.closed'}[vm.notice_by_weixin]|translate\"></ins></div><div ng-if=vm.notice_by_weixin><button class=btn ng-click=vm.js_set_notice_by_weixin_open()>{{'account_message.btn_set_wechat_notify_type'|translate}}</button></div></div></dd><dd ng-if=vm.is_setting_notice_by_weixin><wt-notice-panel ng-if=vm.is_setting_notice_by_weixin_onload checklist=vm.check_list_notice_by_weixin onsave=vm.js_save_notice_by_weixin() oncancel=vm.js_set_notice_by_weixin_close()></wt-notice-panel></dd></dl><dl class=dl-form><dt>{{'account_message.form_title_mobile_notify'|translate}} <span class=dl-form-desc>{{'account_message.desc_mobile_notify'|translate}}</span></dt><dd ng-if=!vm.is_setting_notice_by_mobile><div class=radio--fancy><a href=javascript:; class=fa ng-click=vm.js_toggle_mobile_notice() ng-class=\"{1:'fa-toggle-on', 0:'fa-toggle-off' }[vm.notice_by_mobile]\"></a> <span>{{'account_message.toggle_mobile_notify'|translate}}</span><br><ins ng-class=\"{1:'on',0:'off'}[vm.notice_by_mobile]\" ng-bind=\"{1:'account_message.opened',0:'account_message.closed'}[vm.notice_by_mobile]|translate\"></ins></div><div ng-if=vm.notice_by_mobile><button class=btn ng-click=vm.js_set_notice_by_mobile_open()>{{'account_message.btn_set_mobile_notify_type'|translate}}</button></div></dd><dd ng-if=vm.is_setting_notice_by_mobile><wt-notice-panel ng-if=vm.is_setting_notice_by_mobile_onload checklist=vm.check_list_notice_by_mobile onsave=vm.js_save_notice_by_mobile() oncancel=vm.js_set_notice_by_mobile_close()></wt-notice-panel></dd></dl><dl class=dl-form><dt>{{'account_message.form_title_desktop_notify'|translate}} <span class=dl-form-desc>{{'account_message.desc_desktop_notify'|translate}}</span></dt><dd><div ng-if=vm.is_notify_not_set><button class=\"btn btn-success\" ng-click=vm.js_enabled_notify()>{{'account_message.toggle_desktop_notify'|translate}}</button></div><div ng-if=!vm.is_notify_not_set><div class=w_550 ng-if=!vm.is_notify_enabled><div class=\"alert alert-warning\" ng-if=vm.is_setting_notify translate=account_message.tips_desktop_notify></div><div class=\"alert alert-danger\" ng-if=!vm.is_setting_notify translate=account_message.warn_desktop_notify></div></div><div class=radio--fancy ng-if=vm.is_notify_enabled><a href=javascript:; class=fa ng-click=vm.js_toggle_desk_notice() ng-class=\"{1:'fa-toggle-on', 0:'fa-toggle-off' }[vm.desk_notice]\"></a> <span>{{'account_message.toggle_desktop_notify'|translate}} <a href=javascript:; class=color_link_text ng-click=vm.sendNotifyTest()>{{'account_message.test_desktop_notify'|translate}}</a></span><br><ins ng-class=\"{1:'on',0:'off'}[vm.desk_notice]\" ng-bind=\"{1:'account_message.opened',0:'account_message.closed'}[vm.desk_notice]|translate\"></ins></div></div></dd></dl><dl class=dl-form><dt>{{'account_message.form_title_express'|translate}} <span class=dl-form-desc>{{'account_message.desc_express'|translate}}</span></dt><dd><div class=radio--fancy><a href=javascript:; class=fa ng-click=js_toggle_change_express() ng-class=\"{1:'fa-toggle-on', 0:'fa-toggle-off' }[vm.notice_for_express]\"></a> <span>{{'account_message.toggle_express'|translate}}</span><br><ins ng-class=\"{1:'on',0:'off'}[vm.notice_for_express]\" ng-bind=\"{1:'account_message.opened',0:'account_message.closed'}[vm.notice_for_express]|translate\"></ins></div></dd></dl><dl class=dl-form><dt>{{'account_message.form_title_dailymail_notify'|translate}} <span class=dl-form-desc>{{'account_message.desc_dailymail_notify'|translate}}</span></dt><dd><div class=radio--fancy><a href=javascript:; class=fa ng-click=js_toggle_daily_email() ng-class=\"{1:'fa-toggle-on', 0:'fa-toggle-off' }[vm.notice_for_daily_mail]\"></a> <span>{{'account_message.toggle_dailymail_notify'|translate}}</span><br><ins ng-class=\"{1:'on',0:'off'}[vm.notice_for_daily_mail]\" ng-bind=\"{1:'account_message.opened',0:'account_message.closed'}[vm.notice_for_daily_mail]|translate\"></ins></div></dd></dl><dl class=dl-form><dt>{{'account_message.form_title_weekmail_notify'|translate}} <span class=dl-form-desc>{{'account_message.desc_weekmail_notify'|translate}}</span></dt><dd><div class=radio--fancy><a href=javascript:; class=fa ng-click=js_toggle_weekly_email() ng-class=\"{1:'fa-toggle-on', 0:'fa-toggle-off' }[vm.notice_for_weekly_mail]\"></a> <span>{{'account_message.toggle_weekmail_notify'|translate}}</span><br><ins ng-class=\"{1:'on',0:'off'}[vm.notice_for_weekly_mail]\" ng-bind=\"{1:'account_message.opened',0:'account_message.closed'}[vm.notice_for_weekly_mail]|translate\"></ins></div></dd></dl><dl class=dl-form><dt>{{'account_message.form_title_webhook'|translate}} <span class=dl-form-desc>{{'account_message.desc_webhook'|translate}}</span></dt><dd><table class=\"table table--fancy\"><thead><tr><th>{{'account_message.col_webhook_name'|translate}}</th><th>{{'account_message.col_webhook_url'|translate}}</th><th>{{'account_message.col_webhook_secret'|translate}}</th><th></th></tr></thead><tbody><tr ng-repeat=\"webhook in vm.webhook_list\"><td>&nbsp;&nbsp;{{webhook.name}}</td><td>&nbsp;&nbsp;{{webhook.web_hook_url}}</td><td>&nbsp;&nbsp;{{webhook.secret}} <span ng-if=!webhook.secret class=color-text-light>{{'account_message.col_secret_empty'|translate}}</span></td><td><a data-placement=bottom data-align=right href=javascript: class=js-popbox ng-click=js_add_webhook($event,webhook.wid,webhook.name,webhook.web_hook_url,webhook.secret)><i class=\"fa fa-pencil\"></i></a></td></tr><tr><td colspan=4 class=text-gray ng-show=\"vm.webhook_list.length == 0\"><span class=color-text-light>&nbsp;&nbsp;{{'account_message.warn_webhook_empty'|translate}}</span></td></tr></tbody></table><div><button class=\"btn js-popbox\" data-placement=bottom data-align=left ng-click=js_add_webhook($event,null,null,null,null)>{{'common.btn_add'|translate}}</button></div></dd></dl></div></dd>"), a.put("/tpl/account/account_profile.html", '<dd class=frame-dd><div ng-hide=vm.part_loading_done class="part-loading mt_20"></div><div ng-show=vm.part_loading_done><dl class=dl-form><dt>{{\'account_profile.form_title_avatar\'|translate}} <span class=dl-form-desc translate=account_profile.desc_avatar></span></dt><dd><div ng-if=!avatar.src><wt-avatar member=global.me size=80 wt-disable-drag wt-disable-pop class=mr_15></wt-avatar><button ngf-multiple=false ngf-select ngf-change=js_file_select($files) ngf-accept="\'.png,.jpg\'" class="btn btn-local-upload mt_28">{{\'account_profile.btn_set_avatar\'|translate}}</button> &nbsp; &nbsp; &nbsp; <a class="btn mt_28" ng-if="$root.global.me.avatar!=\'default_avatar.png\'" ng-click=vm.js_clear_avatar()>{{\'account_profile.remove_avatar\'|translate}}</a></div><div ng-if=avatar.src><div class="avatar-ngjcrop min-h150" ng-jcrop=avatar.src selection=avatar.selection thumbnail=avatar.thumbnail></div><div class=mt_28><button class="btn btn-default mr_14" ng-disabled=avatar.uploading ngf-multiple=false ngf-select ngf-change=js_file_select($files) ng-accept="\'.png,.jpg\'">{{\'account_profile.rechoose_avatar_file\'|translate}}</button> <button class="btn btn-success mr_14" wt-loading-status=avatar.uploading data-loading-text="{{\'account_profile.avatar_uploading\'|translate}}" ng-click=js_save_avatar()>{{\'common.btn_save\'|translate}}</button> <button class="btn btn-link btn-cancel mr_14" ng-disabled=avatar.uploading ng-click=vm.cancel_upload_avatar()>{{\'common.btn_cancel\'|translate}}</button></div></div></dd></dl><dl class=dl-form><dt>{{\'account_profile.form_title\'|translate}}</dt><dd><div ng-if=!base_info.is_edit><ul class=dl-form-ul><li><span class=dl-form-li-title>{{\'account_profile.realname\'|translate}} </span>{{base_info.name}}</li><li><span class=dl-form-li-title>{{\'account_profile.position_title\'|translate}} </span>{{base_info.title||(\'account_profile.form_content_empty\'|translate)}}</li><li><span class=dl-form-li-title>{{\'account_profile.department_title\'|translate}} </span>{{base_info.department||(\'account_profile.form_content_empty\'|translate)}}</li><li><span class=dl-form-li-title>{{\'account_profile.personal_slogon\'|translate}} </span><span ng-bind="base_info.desc||(\'account_profile.form_content_empty\'|translate)"></span></li></ul><button class="btn btn-default mt_28" ng-click="base_info.is_edit = true">{{\'account_profile.btn_edit_userinfo\'|translate}}</button></div><div ng-if=base_info.is_edit><form name=user_update_form w5c-form-validate="" class="form-horizontal wt-form w_660" novalidate><div class=form-group><label class=sr-only>{{\'account_profile.realname\'|translate}}</label><div class=col-xs-4><input wt-autofocus="" name=display_name type=text class=form-control ng-model=base_info.name placeholder="{{\'account_profile.realname\'|translate}}" required ng-pattern=$root.global.constant.regex.display_name></div></div><div class=form-group><label class=sr-only>{{\'account_profile.position_title\'|translate}}</label><div class=col-xs-4><input name=user_title type=text class=form-control ng-model=base_info.title placeholder="{{\'account_profile.position_title\'|translate}}" ng-pattern=$root.global.constant.regex.user_title></div></div><div class=form-group><label class=sr-only>{{\'account_profile.department_title\'|translate}}</label><div class=col-xs-4><input name=user_department type=text class=form-control ng-model=base_info.department placeholder="{{\'account_profile.department_title\'|translate}}" ng-pattern=$root.global.constant.regex.user_department></div></div><div class=form-group><label class="sr-only control-label p_0">{{\'account_profile.personal_slogon\'|translate}}</label><div class=col-xs-10><textarea class=form-control rows=2 ng-model=base_info.desc placeholder="{{\'account_profile.personal_slogon\'|translate}}"></textarea></div></div><div class=form-group><div class=col-xs-10><button w5c-form-submit=vm.js_user_update() class="btn btn-success mr_14 mt_13" wt-loading-status=base_info.updating data-loading-text="{{\'common.saving\'|translate}}">{{\'common.btn_save\'|translate}}</button> <button ng-click=vm.js_cancel_base_info_edit() class="btn mt_13 btn-link btn-cancel">{{\'common.btn_cancel\'|translate}}</button></div></div></form></div></dd></dl><dl class=dl-form><dt>{{\'account_profile.form_title_bind_wechat\'|translate}} <span class=dl-form-desc>{{\'account_profile.desc_bind_wechat\'|translate}}</span></dt><dd><ul class=dl-form-ul><li><span class=dl-form-li-title>{{\'account_profile.show_bind_wechat_status\'|translate}} </span><span ng-if=!vm.is_bind_weixin>{{\'account_profile.bind_wechat_unbind\'|translate}} </span><span ng-if=vm.is_bind_weixin ng-class="{true:\'color-text-act-green\'}[vm.weixin_nick_name!=null]">{{\'account_profile.bind_wechat_binded\'|translate}} <span ng-if="vm.weixin_nick_name!=null">: {{vm.weixin_nick_name}}</span> <a href=javascript:; class=pl-30 ng-mouseenter=vm.js_show_worktile_weixin($event) ng-mouseleave=vm.js_close_worktile_weixin()><i class="fa fa-qrcode"></i> {{\'account_profile.tips_pic_alt\'|translate}}</a></span></li></ul><div class=mt_28><button ng-if=!vm.is_bind_weixin class=btn ng-click=vm.js_bind_weixin($event)>{{\'account_profile.btn_bind_wechat\'|translate}}</button> <button ng-if=vm.is_bind_weixin class=btn ng-click=vm.js_unbind_weixin($event)>{{\'account_profile.btn_unbind_wechat\'|translate}}</button></div></dd></dl><dl class="dl-form account_password_wrap"><dt>{{\'account_profile.form_title_password\'|translate}} <span class=dl-form-desc>{{\'account_profile.desc_password\'|translate}}</span></dt><dd><button ng-if=!password.is_edit class=btn ng-click="password.is_edit = true" wt-scroll-foucs=.account_password_wrap>{{\'account_profile.btn_set_password\'|translate}}</button><div ng-if=password.is_edit><form name=user_pwd_form w5c-form-validate="" class="form-horizontal wt-form w_660" novalidate><div class=form-group><label class=sr-only>{{\'account_profile.old_password\'|translate}}</label><div class=col-xs-10><input name=pwd_old autofocus="" type=password class=form-control ng-model=password.old placeholder="{{\'account_profile.old_password\'|translate}}" required></div></div><div class=form-group><label class=sr-only>{{\'account_profile.new_password\'|translate}}</label><div class=col-xs-10><input name=pwd_new type=password class=form-control ng-model=password.new placeholder="{{\'account_profile.new_password\'|translate}}" ng-minlength=6 required></div></div><div class=form-group><label class=sr-only>{{\'account_profile.reply_new_password\'|translate}}</label><div class=col-xs-10><input name=pwd_again type=password class=form-control ng-model=password.repeat wt-repeat-password=pwd_new placeholder="{{\'account_profile.reply_new_password_placeholder\'|translate}}"></div></div><div class=form-group ng-show="user_pwd_form.$errors.length > 0"><div class=col-xs-10><div class="alert alert-danger mb_0"><i class="fa fa-times-circle"></i> {{user_pwd_form.$errors[0]}}</div></div></div><div class=form-group><div class=col-xs-10><button w5c-form-submit=vm.js_user_change_pwd() class="btn btn-success mr_14 mt_13" data-loading-text="{{\'common.saving\'|translate}}" wt-loading-status=password.updating>{{\'account_profile.btn_confirm_update\'|translate}}</button> <button ng-click=vm.js_cancel_pwd_edit() class="btn btn-link btn-cancel mt_13">{{\'common.btn_cancel\'|translate}}</button></div></div></form></div></dd></dl><dl class="dl-form account_phone_wrap"><dt>{{\'account_profile.form_title_phone\'|translate}} <span class=dl-form-desc>{{\'account_profile.desc_phone\'|translate}}</span></dt><dd><div ng-if="vm.phone_step == 1"><div><span class="mr_10 color-text-grayer">{{\'account_profile.tips_phone_current\'|translate}} </span>{{global.me.phone||(\'account_profile.warn_phone_empty\'|translate)}}</div><button class="btn mt_28" ng-click=vm.js_change_phone_step(2) wt-scroll-foucs=.account_phone_wrap>{{\'account_profile.btn_set_phone\'|translate}}</button></div><div ng-if="vm.phone_step == 2"><wt-confirm-password class=w_360 confirm-cancel=vm.js_change_phone_step(1) confirm-success=vm.js_change_phone_step(3)></wt-confirm-password></div><div ng-if="vm.phone_step == 3"><form name=user_new_phone_form w5c-form-validate="" class="wt-form w_660" novalidate><p ng-if=global.me.phone>{{\'account_profile.tips_phone_current\'|translate}} {{global.me.phone}}</p><div class=form-group><div class=input-group><input name=new_phone autofocus="" type=text class=form-control ng-model=vm.new_phone placeholder="{{\'account_profile.placeholder_new_phone\'|translate}}" ng-change=vm.js_change_phone() required ng-pattern=$root.global.constant.regex.mobile wt-remote-unique-check="{url:\'/api/user/phone/check?phone=\'+(vm.new_phone|encodeURIComponent)}"> <span class=input-group-btn><button class="btn btn-success fs_17" type=button ng-click=vm.js_get_phone_code(user_new_phone_form) ng-disabled=!user_new_phone_form.new_phone.$valid||vm.waiting_for_phone_code ng-bind=vm.new_phone_text></button></span></div></div><div class=form-group><input class=form-control type=text placeholder="{{\'account_profile.placeholder_verify_code\'|translate}}" name=phone_code ng-model=vm.phone_code required></div><div class="alert alert-danger mt_10" ng-show="user_new_phone_form.$errors.length > 0"><i class="fa fa-times-circle"></i> {{user_new_phone_form.$errors[0]}}</div><div class=mt_5><button w5c-form-submit="vm.js_user_change_phone(user_new_phone_form, vm.new_phone)" class="btn btn-success mr_15" data-loading-text="{{\'common.sending\'|translate}}" wt-loading-status=vm.is_sending_phone>{{\'account_profile.btn_bind_phone\'|translate}}</button> <button type=button ng-click=vm.js_change_phone_step(1) class="btn btn-link btn-cancel mr_15">{{\'common.btn_cancel\'|translate}}</button></div></form></div></dd></dl><dl class="dl-form account_email_wrap"><dt>{{\'account_profile.form_title_email\'|translate}} <span class=dl-form-desc>{{\'account_profile.desc_email\'|translate}}</span></dt><dd><div ng-if="vm.email_step == 1"><div><span class="mr_10 color-text-grayer">{{\'account_profile.tips_current_email\'|translate}} </span>{{global.me.email||(\'account_profile.warn_email_empty\'|translate)}}</div><button class="btn mt_28" ng-click=js_change_email_step(2) wt-scroll-foucs=.account_email_wrap>{{\'account_profile.btn_update_email\'|translate}}</button></div><div ng-if="vm.email_step == 2"><wt-confirm-password class=w_360 confirm-cancel=js_change_email_step(1) confirm-success=js_change_email_step(3)></wt-confirm-password></div><div ng-if="vm.email_step == 3"><form name=user_new_email_form w5c-form-validate="" class="wt-form w_660" novalidate><p ng-if=global.me.email>{{\'account_profile.tips_current_email\'|translate}} {{global.me.email}}</p><input name=new_email autofocus="" type=email class=form-control ng-model=vm.new_email placeholder="{{\'account_profile.placeholder_new_email\'|translate}}" required wt-remote-unique-check="{url:\'/api/user/email/check?email=\'+(vm.new_email|encodeURIComponent)}"><div class="alert alert-danger mt_10" ng-show="user_new_email_form.$errors.length > 0"><i class="fa fa-times-circle"></i> {{user_new_email_form.$errors[0]}}</div><div class="alert alert-info mt_20" ng-hide=vm.send_email_success><i class="fa fa-info-circle mr_5"></i> {{\'account_profile.tips_email_send_before\'|translate}}</div><div class="alert alert-success mt_20" ng-show=vm.send_email_success><i class="fa fa-check mr_5"></i> {{\'account_profile.tips_email_send_after\'|translate}}</div><div class=mt_5><button w5c-form-submit="vm.js_user_change_email(user_new_email_form, vm.new_email)" class="btn btn-success mr_15" data-loading-text="{{\'common.sending\'|translate}}" wt-loading-status=vm.is_sending_email>{{\'account_profile.btn_send_verify_email\'|translate}}</button> <button type=button ng-click=js_change_email_step(1) class="btn btn-link btn-cancel mr_15">{{\'common.btn_cancel\'|translate}}</button></div></form></div></dd></dl></div></dd>'),
        a.put("/tpl/account/account_profile_change_email.html", '<dd class="frame-dd frame-dd--change-email"><div ng-if="vm.email_step == 1" class=step-1><h4><span class="mr_10 color-text-grayer">{{\'account_profile_change_email.tips_email_current\'|translate}} </span>{{global.me.email||(\'account_profile_change_email.warn_email_empty\'|translate)}}</h4><button class="btn mt_28" ng-click=js_change_email_step(2) wt-scroll-foucs=.account_email_wrap>{{\'account_profile_change_email.btn_change_email\'|translate}}</button></div><div ng-if="vm.email_step == 2" class=step-2><wt-confirm-password class=w_360 confirm-cancel=js_change_email_step(1) confirm-success=js_change_email_step(3)></wt-confirm-password></div><div ng-if="vm.email_step == 3" class=step-3><form name=user_new_email_form w5c-form-validate="" class="wt-form w_550" novalidate><h4 ng-if=global.me.email>{{\'account_profile_change_email.tips_email_current\'|translate}} {{global.me.email}}</h4><br><br><input name=new_email autofocus="" type=email class=form-control ng-model=vm.new_email placeholder="{{\'account_profile_change_email.placeholder_new_email\'|translate}}" required wt-remote-unique-check="{url:\'/api/user/email/check?email=\'+(vm.new_email|encodeURIComponent)}"><div class="alert alert-danger mt_10" ng-show="user_new_email_form.$errors.length > 0"><i class="fa fa-times-circle"></i> {{user_new_email_form.$errors[0]}}</div><div class="alert alert-info mt_20" ng-hide=vm.send_email_success><i class="fa fa-info-circle mr_5"></i> {{\'account_profile_change_email.tips_email_send_before\'|translate}}</div><div class="alert alert-success mt_20" ng-show=vm.send_email_success><i class="fa fa-check mr_5"></i> {{\'account_profile_change_email.tips_email_send_after\'|translate}}</div><div class=mt_5><button w5c-form-submit="vm.js_user_change_email(user_new_email_form, vm.new_email)" class="btn btn-success mr_15" data-loading-text="{{\'common.sending\'|translate}}" wt-loading-status=vm.is_sending_email>{{\'account_profile_change_email.btn_send_verify_email\'|translate}}</button> <button type=button ng-click=js_change_email_step(1) class="btn btn-link btn-cancel mr_15">{{\'common.btn_cancel\'|translate}}</button></div></form></div></dd>'), a.put("/tpl/account/account_profile_change_phone.html", '<dd class="frame-dd frame-dd--change-phone"><div ng-if="vm.phone_step == 1" class=step-1><h4><span class="mr_10 color-text-grayer">{{\'account_profile_change_phone.tips_phone_current\'|translate}} </span>{{global.me.phone||(\'account_profile_change_phone.warn_phone_empty\'|translate)}}</h4><button class="btn mt_28" ng-click=vm.js_change_phone_step(2) wt-scroll-foucs=.account_phone_wrap>{{\'account_profile_change_phone.btn_change_phone\'|translate}}</button></div><div ng-if="vm.phone_step == 2" class=step-2><wt-confirm-password class=w_360 confirm-cancel=vm.js_change_phone_step(1) confirm-success=vm.js_change_phone_step(3)></wt-confirm-password></div><div ng-if="vm.phone_step == 3" class=step-3><form name=user_new_phone_form w5c-form-validate="" class="wt-form w_550" novalidate><p ng-if=global.me.phone>{{\'account_profile_change_phone.tips_phone_current\'|translate}} {{global.me.phone}}</p><div class=form-group><div class=input-group><input name=new_phone autofocus="" type=text class=form-control ng-model=vm.new_phone placeholder="{{\'account_profile_change_phone.placeholder_new_phone\'|translate}}" ng-change=vm.js_change_phone() required ng-pattern=$root.global.constant.regex.mobile wt-remote-unique-check="{url:\'/api/user/phone/check?phone=\'+(vm.new_phone|encodeURIComponent)}"> <span class=input-group-btn><button class="btn btn-success fs_17" type=button ng-click=vm.js_get_phone_code(user_new_phone_form) ng-disabled=!user_new_phone_form.new_phone.$valid||vm.waiting_for_phone_code ng-bind=vm.new_phone_text></button></span></div></div><div class=form-group><input class=form-control type=text placeholder="{{\'account_profile_change_phone.placeholder_phone_verify_code\'|translate}}" name=phone_code ng-model=vm.phone_code required></div><div class="alert alert-danger mt_10" ng-show="user_new_phone_form.$errors.length > 0"><i class="fa fa-times-circle"></i> {{user_new_phone_form.$errors[0]}}</div><div class=mt_5><button w5c-form-submit="vm.js_user_change_phone(user_new_phone_form, vm.new_phone)" class="btn btn-success mr_15" data-loading-text="{{\'common.sending\'|translate}}" wt-loading-status=vm.is_sending_phone>{{\'account_profile_change_phone.btn_bind_phone\'|translate}}</button> <button type=button ng-click=vm.js_change_phone_step(1) class="btn btn-link btn-cancel mr_15">{{\'common.btn_cancel\'|translate}}</button></div></form></div></dd>'), a.put("/tpl/account/account_security.html", '<dd class=frame-dd><dl class="dl-form account_twofactor_warp"><dt>{{\'account_security.form_title_twofactory\'|translate}} <span class=dl-form-desc><span ng-hide="account.twofactor_enabled == 1" translate=account_security.desc_twofactory></span> <span ng-show="account.twofactor_enabled == 1" translate=account_security.tips_twofactory></span></span></dt><dd><div class=navigate-step ng-show="vm.two_step > 1"><div class=line><div ng-class="{true:\'active\'}[vm.two_step >= 3]"></div><div ng-class="{true:\'active\'}[vm.two_step >= 4]"></div></div><ol><li ng-class="{true:\'active\'}[vm.two_step >= 2]"><span class=step-title>{{\'account_security.step_1_install_twofactory_app\'|translate}}</span><br><span class=number>1</span></li><li ng-class="{true:\'active\'}[vm.two_step >= 3]"><span class=step-title>{{\'account_security.step_2_add_account\'|translate}}</span><br><span class=number>2</span></li><li ng-class="{true:\'active\'}[vm.two_step >= 4]"><span class=step-title>{{\'account_security.step_3_verify_open\'|translate}}</span><br><span class=number>3</span></li></ol></div><div ng-switch=vm.two_step><div ng-switch-when=0><div class=form-group><div class=account_status ng-class="{1:\'on\',0:\'off\'}[account.twofactor_enabled]">{{\'account_security.tips_current_status\'|translate}} <b ng-class="{1:\'color-text-act-green\',0:\'color-text-act-red\'}[account.twofactor_enabled]" ng-bind="{1:\'common.txt_enable\',0:\'common.txt_close\'}[account.twofactor_enabled]|translate"></b></div><dl class=recovery_code ng-show="account.twofactor_enabled == 1"><dt><a href=javascript:; ng-click="vm.account_show_recovery_code=!vm.account_show_recovery_code"><i class="fa fa-ticket"></i> {{\'account_security.btn_show_safe_code\'|translate}}</a></dt><dd ng-if=vm.account_show_recovery_code><ul><li ng-repeat="recovery_code in vm.recovery_codes">{{recovery_code}}</li></ul></dd></dl></div><div class=form-group><button class="btn btn-default mt_13" ng-show="account.twofactor_enabled == 0" ng-click=vm.js_two_step(1) wt-scroll-foucs=.account_twofactor_warp>{{\'account_security.btn_open_twofactory\'|translate}}</button> <button class="btn btn-default mt_13" data-loading-text="{{\'account_security.closeing_twofactory\'|translate}}" wt-loading-status=is_disable_twofactoring ng-show="account.twofactor_enabled == 1" ng-click=js_disable_twofactor()>{{\'account_security.btn_close_twofactory\'|translate}}</button></div></div><div class=text-center ng-switch-when=1><wt-confirm-password confirm-cancel=vm.js_two_step(0) confirm-success=vm.js_two_step(2)></wt-confirm-password></div><div class="col-xs-10 text-center" ng-switch-when=2><div class=clearfix><div class="col-xs-5 pull-left"><img src=/img/inner/account/install.png></div><div class="col-xs-7 text-left pull-right"><h5>{{\'account_security.text_install_app\'|translate}}</h5><p>{{\'account_security.text_install_app2\'|translate}}</p><div class=account-marketplace translate=account_security.text_install_app3></div><div class=account-marketplace translate=account_security.text_install_app4></div><div translate=account_security.text_install_app5></div></div></div><div class="form-group col-xs-10 p_20"><button class="btn float_left mr_45" ng-click=vm.js_two_step(1)><i class="fa fa-caret-left"></i> {{\'common.btn_prev_step\'|translate}}</button> <button class="btn btn-success" ng-click=vm.js_two_step(3)>{{\'common.btn_next_step\'|translate}} <i class="fa fa-caret-right"></i></button></div></div><div class="col-xs-10 text-center" ng-switch-when=3><div class=clearfix><div class="col-xs-5 pull-left"><img src=/img/inner/account/account-qrcode.png></div><div class="col-xs-7 text-left pull-right"><h5>{{\'account_security.add_account_to_app\'|translate}}</h5><p>{{\'account_security.open_app_scan_qrcode\'|translate}}</p><div class="part-loading mt_60" wt-loading-done=loading_twofactor_secret_done></div><div ng-show=loading_twofactor_secret_done><p ng-bind-html=twofactor_secret.qrcode></p><p class="alert alert-info col-xs-8"><i class="fa fa-info-circle mr_5"></i> {{\'account_security.manual_add_account\'|translate}}<br><b>{{\'account_security.account\'|translate}} </b>{{twofactor_secret.name}}<br><b>{{\'account_security.key\'|translate}} </b>{{twofactor_secret.secret}}</p></div></div></div><div class="form-group col-xs-10 p_20"><button class="btn mr_45" ng-click=vm.js_two_step(2)><i class="fa fa-caret-left"></i> {{\'common.btn_prev_step\'|translate}}</button> <button class="btn btn-success" ng-click=vm.js_two_step(4)>{{\'common.btn_next_step\'|translate}} <i class="fa fa-caret-right"></i></button></div></div><div class="col-xs-10 text-center" ng-switch-when=4><div class=clearfix><div class="col-xs-5 pull-left"><img src=/img/inner/account/account-code.png></div><div class="col-xs-7 text-left pull-right"><h5>{{\'account_security.text_open_dynamic_verify\'|translate}}</h5><p>{{\'account_security.tips_enter_dynamic_code\'|translate}}</p><div class="input-group w_300"><input type=text class=form-control wt-enter=vm.js_enable_twofactor() ui-event="{ focus : \'js_twofactor_focus()\' }" ng-model=input.factor> <span class=input-group-btn><button class="btn btn-success" type=button data-loading-text="{{\'account_security.opening\'|translate}}" wt-loading-status=is_enable_twofactoring ng-click=vm.js_enable_twofactor()>{{\'account_security.verify_and_open\'|translate}}</button></span></div><div class="form-group w_300 mt_12" ng-show="input.enable_twofactor_errors.length > 0"><div class="alert alert-danger"><i class="fa fa-times-circle"></i> {{input.enable_twofactor_errors}}</div></div></div></div><div class="form-group col-xs-10 p_20"><button class=btn ng-click=vm.js_two_step(3)><i class="fa fa-caret-left"></i> {{\'common.btn_prev_step\'|translate}}</button></div></div></div></dd></dl><dl class=dl-form><dt>{{\'account_security.title_quit_session\'|translate}} <span class=dl-form-desc>{{\'account_security.desc_quit_session\'|translate}}</span></dt><dd><div ng-switch=vm.clear_session_step><div ng-switch-when=0><button class=btn type=button ng-click=vm.js_clear_session_step(1)>{{\'account_security.btn_quit_session\'|translate}}</button></div><div ng-switch-when=1><wt-confirm-password confirm-cancel=vm.js_clear_session_step(0) confirm-success=vm.js_clear_session()></wt-confirm-password></div></div></dd></dl><dl class=dl-form><dt>{{\'account_security.form_title_access_log\'|translate}}</dt><dd><div ng-hide=vm.part_loading_done class="part-loading mt_20"></div><div class=table-list ng-show=vm.part_loading_done><table class="table table-hover table--fancy"><thead><tr><th>&nbsp; {{\'account_security.col_app\'|translate}} &nbsp;</th><th>{{\'account_security.col_visitor_date\'|translate}}</th><th>{{\'account_security.col_ip_address\'|translate}}</th></tr></thead><tbody><tr ng-repeat="history in vm.account_histories"><td>&nbsp; &nbsp;{{history.source|clientName}}</td><td><span class=mr_15>{{history.create_date|timeFormatZHCN}}</span></td><td>{{history.location + \'\'+ history.ipaddress + \'\'}}</td></tr><tr><td colspan=4 ng-show="vm.account_histories.length == 0">{{\'account_security.warn_empty_visitor\'|translate}}</td></tr></tbody></table><div class=pull-right wt-pagination=security_pagination_opts></div></div></dd></dl></dd>'), a.put("/tpl/account/account_settings.html", "<div class=layout_content><div class=layout_content_main><div class=mod-navbar><div class=main><div class=title><h3><i class=\"wtfont wtf-user\"></i>{{'account.title_name'|translate}}</h3></div></div><div class=sub><ul class=mod_subnav><li><a class=\"{{{true:'active'}[vm.header_nav_menu=='account_baseinfo']}}\" ui-sref-active=active ui-sref=account.settings>{{'account.baseinfo_name'|translate}}</a></li><li><a ui-sref-active=active href ui-sref=account.individuation>{{'account.individuation_name'|translate}}</a></li><li><a ui-sref-active=active href ui-sref=account.security>{{'account.security_name'|translate}}</a></li><li><a ui-sref-active=active href ui-sref=account.message>{{'account.message_name'|translate}}</a></li><li><a ui-sref-active=active href ui-sref=account.apps>{{'account.apps_name'|translate}}</a></li><li><a ui-sref-active=active href ui-sref=account.thirdparty>{{'account.thirdparty_name'|translate}}</a></li></ul></div></div><div class=height-nonav wt-scroll><dl class=\"frame frame--account-setting\" wt-minheight=112 ng-show=global.loading_done><ui-view></ui-view></dl></div></div></div>"), a.put("/tpl/account/account_thirdparty.html", "<dd class=frame-dd><div ng-hide=vm.part_loading_done class=\"part-loading mt_20\"></div><div ng-show=vm.part_loading_done class=table-list><p class=color-text-grayer>{{'account_thirdparty.tips_accept_thirdparty'|translate}}</p><table class=\"table table--fancy\"><thead><tr><th>{{'account_thirdparty.col_service_name'|translate}}</th><th>{{'account_thirdparty.col_accept_datetime'|translate}}</th><th>{{'account_thirdparty.col_expire_datetime'|translate}}</th><th>{{'account_thirdparty.col_setting'|translate}}</th></tr></thead><tbody><tr ng-repeat=\"app in vm.thirdparty track by app.type\"><td><img ng-src={{app.logo}} class=\"ml_5 mr_10\" align=left> <span class=fs-16>{{app.name}}</span><div class=color-text-gray>{{app.desc}}</div></td><td>{{app.create_date}}</td><td>{{app.expire_date}}</td><td><a ng-if=!app.is_auth class=btn data-placement=bottom ng-href={{app.auth_url}}>{{'account_thirdparty.btn_accept'|translate}} </a><a ng-if=app.is_auth href=javascript:; class=btn data-placement=bottom ng-click=vm.del_thirdparty($event,app)>{{'account_thirdparty.btn_unaccept'|translate}}</a></td></tr></tbody></table></div></dd>"), a.put("/tpl/account/pop_decommissioning_confirm.html", "<div class=popbox-header><button class=\"cancel fa fa-remove\" ng-click=js_close()></button><h3>{{'pop_decommissioning_confirm.btn_unaccept'|translate}}</h3></div><div class=\"popbox-body w_300\"><span>{{'pop_decommissioning_confirm.desc_unaccept'|translate}}</span></div><div class=popbox-footer><button ng-click=js_decommissioning() data-loading-text=\"{{'pop_decommissioning_confirm.unaccpeting'|translate}}\" wt-loading-status=is_decommissioning class=\"btn btn-danger mr_15\">{{'pop_decommissioning_confirm.btn_confirm_unaccept'|translate}}</button> <a ng-click=js_close() class=\"btn btn-link btn-cancel\">{{'common.txt_cancel'|translate}}</a></div>"), a.put("/tpl/account/pop_thirdparty_confirm.html", "<div class=popbox-header><button class=\"cancel fa fa-remove\" ng-click=vm.js_close()></button><h3>{{'pop_thirdparty_confirm.title_name'|translate}}</h3></div><div class=\"popbox-body w_300\"><span>{{'pop_thirdparty_confirm.desc'|translate}}</span></div><div class=popbox-footer><button ng-click=vm.js_del_confirm() data-loading-text=\"{{'pop_thirdparty_confirm.unaccpeting'|translate}}\" wt-loading-status=vm.is_deling class=\"btn btn-danger mr_15\">{{'pop_thirdparty_confirm.btn_confirm_unaccept'|translate}}</button> <a ng-click=vm.js_close() class=\"btn btn-link btn-cancel\">{{'common.txt_cancel'|translate}}</a></div>"), a.put("/tpl/account/pop_webhook.html", "<div class=label-setter><ul class=popbox-step ng-switch on=vm.step><li ng-switch-default class=popbox-step-li><div class=popbox-header><button class=\"cancel fa fa-remove\" ng-click=vm.js_close()></button><h3 ng-if=!vm.isEdit>{{'pop_webhook.title_add'|translate}}</h3><h3 ng-if=vm.isEdit>{{'pop_webhook.title_edit'|translate}}</h3></div><form w5c-form-validate=\"\" name=webhookform class=wt-form novalidate role=form><div class=popbox-body><div class=form-group><label>{{'pop_webhook.webhook_name'|translate}}</label><input type=text ng-model=vm.webhook.name name=name wt-autofocus=\"\" class=form-control placeholder=\"{{'pop_webhook.webhook_name'|translate}}\"></div><div class=form-group><label>{{'pop_webhook.webhook_url'|translate}}</label><input type=url required=\"\" name=url ng-model=vm.webhook.web_hook_url class=form-control placeholder=https://example.com></div><div class=form-group><label>{{'pop_webhook.webhook_secret'|translate}}</label><input type=text name=secret ng-model=vm.webhook.secret class=form-control placeholder=\"{{'pop_webhook.placeholder_option_item'|translate}}\"></div></div><div class=popbox-footer><button type=submit w5c-form-submit=vm.js_save_webhook() class=\"btn btn-success mr_10\" data-loading-text=\"{{'common.saving'|translate}}\" wt-loading-status=is_saving>{{'common.btn_save'|translate}}</button> <a ng-if=!vm.isEdit ng-click=vm.js_close() class=\"btn btn-link btn-cancel\">{{'common.btn_cancel'|translate}} </a><button ng-if=vm.isEdit ng-click=vm.js_step(1) class=btn>{{'common.btn_del'|translate}}</button></div></form></li><li ng-switch-when=1><div class=popbox-header><button class=\"back fa fa-chevron-left\" ng-click=vm.js_step(0)></button> <button class=\"cancel fa fa-remove\" ng-click=vm.js_close()></button><h3>{{'pop_webhook.btn_del_webhook'|translate}}</h3></div><div class=popbox-body><span>{{'pop_webhook.message_del_webhook'|translate}}</span></div><div class=popbox-footer><button ng-click=vm.js_del_webhook() class=\"btn btn-danger\">{{'common.btn_confirm_del'|translate}}</button></div></li></ul></div>"), a.put("/tpl/account/pop_weixin_qrcode.html", "<div class=popbox-header ng-mousedown=vm.js_mousedown($event)><button class=\"cancel fa fa-remove\" ng-click=js_close()></button><h3>{{'pop_weixin_qrcode.title_name'|translate}}</h3></div><div class=popbox-bodywrapper wt-scroll ng-mousedown=vm.js_mousedown($event)><div class=popbox-body><div class=text-center ng-if=!vm.feed_bind_success><img width=200 src=\"/api/weixin/qrcode{{global.me.uid?'?uid=' + global.me.uid:''}}\"><div class=text-center>{{'pop_weixin_qrcode.tips_use_wechat_scan'|translate}}</div></div><div class=w_300 ng-if=vm.feed_bind_success><div class=text-center><i class=\"fa fa-check-circle fs-28 color-text-act-green\"></i> <span class=fs-18>{{'pop_weixin_qrcode.info_success_bind'|translate}}</span></div><div class=mt-20>{{'pop_weixin_qrcode.info_bind_after'|translate}}</div><div class=\"mt-30 text-center color-text-gray\" translate=pop_weixin_qrcode.info_bind_tips></div></div></div></div>"), a.put("/tpl/account/pop_weixin_unbind_confirm.html", '<div class=popbox-header><button class="cancel fa fa-remove" ng-click=js_close()></button><h3>{{\'pop_weixin_unbind_confirm.title_name\'|translate}}</h3></div><div class="popbox-body w_350"><div class="alert alert-info"><div><i class="fa fa-info-circle mr_5"></i> {{\'pop_weixin_unbind_confirm.tips_unbind_wechat\'|translate}}</div><div><span class="pl-20 pr-10"></span> {{\'pop_weixin_unbind_confirm.can_not_login\'|translate}}</div><div><span class="pl-20 pr-10"></span> {{\'pop_weixin_unbind_confirm.can_not_get_notify\'|translate}}</div></div><div class=mt-20>{{\'pop_weixin_unbind_confirm.mssage_unbind_wechat\'|translate}}</div></div><div class=popbox-footer><button ng-click=js_ok() data-loading-text="{{\'pop_weixin_unbind_confirm.unbinding\'|translate}}" wt-loading-status=is_doing class="btn btn-danger mr_15">{{\'pop_weixin_unbind_confirm.btn_confirm_unbind\'|translate}}</button> <button class="btn btn-link btn-cancel ml-10" ng-click=js_close()>{{\'common.btn_cancel\'|translate}}</button></div>'), a.put("/tpl/activity/activity_feed_template.html", '<script type=text/ng-template id=task_create><div class="feed-item-inner slide-trigger">\n    <div class="feed-item-header">\n      <wt-avatar member="feed.actor" name="true" size="30"></wt-avatar>\n      <span class="actor">\n        {{\'activity_feed_template.actor_create_task\'|translate}}\n      </span>\n    </div>\n    <div class="feed-item-body">\n      <i class="fa fa-square-o"></i>\n      <span class="entity">\n          {{feed.data.entity.name}}\n      </span>\n      <br/>\n    </div>\n    <span class="datetime">{{feed.published|fromNow}}</span>\n  </div></script><script type=text/ng-template id=task_complete><div class="feed-item-inner slide-trigger">\n    <div class="feed-item-header">\n      <wt-avatar member="feed.actor" name="true" size="30"></wt-avatar>\n      <span class="actor">\n        {{\'activity_feed_template.actor_complete_task\'|translate}}\n      </span>\n\n    </div>\n    <div class="feed-item-body">\n      <i class="fa fa-check-square"></i>\n            <span class="entity">\n                {{feed.data.entity.name}}\n            </span>\n      <br/>\n    </div>\n    <span class="datetime">{{feed.published|fromNow}}</span>\n  </div></script><script type=text/ng-template id=task_comment_add><div class="feed-item-inner slide-trigger">\n    <div class="feed-item-header">\n      <wt-avatar member="feed.actor" name="true" size="30"></wt-avatar>\n      <span class="actor">\n        {{\'activity_feed_template.actor_comment_task\'|translate}}\n      </span>\n\n    </div>\n    <div class="feed-item-body">\n      <i class="fa fa-comment-o"></i>\n      <span class="comment">\n          {{feed.data.entity.name}}\n      </span>\n      <br/>\n      <span class="entity">\n          {{feed.data.target.name}}\n      </span>\n    </div>\n    <span class="datetime">{{feed.published|fromNow}}</span>\n  </div></script>'), a.put("/tpl/activity/activity_filter.html", '<div class=btn-group ng-controller=filterActivityCtrl><button class=btn>{{selected_item.display_name}}</button> <a class="btn dropdown-toggle" data-toggle=dropdown href=javascript:;><i class="fa fa-caret-down"></i></a><ul class="dropdown-menu pull-right"><li ng-class="{true:\'divider\',false:\'\'}[item.type==\'divider\']" ng-repeat="item in filter_items"><a href=javascript:; ng-show="type.type!=\'divider\'" ng-click=js_select_filter_item(item)><i ng-class="{true:\'fa-check\',false:\'icon-xx\'}[item.selected == true]" class="color_gray fa"></i> {{item.display_name}}</a></li></ul></div>'), a.put("/tpl/activity/activity_list.html", '<div class=empty-panel ng-show="activities != null && activities.length == 0"><i class="fa fa-clock-o"></i><br><span>{{\'activity_list.warn_activity_empty\'|translate}}</span></div><div class="activity-list m_15" ng-if="activities && activities.length > 0" ng-cloak><ul class=activities><wt-activity ng-repeat="activity in activities"></wt-activity></ul></div><div class=loading-more-panel><div class=part-loading ng-show=loading_activity></div><button class=btn ng-show="has_more && ($root.global.loading_done && loading_activity != true)" ng-click=js_load_more($event);>{{\'common.btn_loading\'|translate}}</button></div>'), a.put("/tpl/activity/pop_filter_activity.html", "<div class=popbox-header><button class=\"cancel fa fa-remove\" ng-click=js_close()></button><h3>{{'pop_filter_activity.title_name'|translate}}</h3></div><div class=popbox-body><ul class=popbox-menu><li><a href=javascript:; ng-click=\"js_select_type('all')\"><i ng-class=\"{false: 'icon-xx', true: 'fa-check'}[selected_type=='all']\" class=\"color_gray fa\"></i> {{'common.txt_all'|translate}}</a></li><li class=divider></li><li ng-repeat=\"filter_type in filter_types\"><a href=javascript:; ng-click=js_select_type(filter_type)><span class=\"color_gray fa\" ng-class=\"{true:'fa-check',false:'icon-xx'}[filter_type.name == selected_type]\"></span> {{filter_type.display_name}}</a></li></ul></div>"), a.put("/tpl/activity/project_activities.html", '<div class="height-nonav height-nonav--notab" wt-scroll><dl wt-minheight=84 class="frame activity-panel"><dt class="frame-dt frame-dt--margin-lr-right"><span class=title>{{\'project_activities.title_name\'|translate}}</span></dt><dd class=frame-dd><div class=frame-lr-right><ng-include src="\'/tpl/activity/project_activity_filter.html\'"></ng-include></div><div class=frame-lr-left><section ng-include="\'/tpl/activity/activity_list.html\'"></section></div></dd></dl></div>'), a.put("/tpl/activity/project_activity_filter.html", "<dl class=dl-filter><dt><span class=title>{{'project_activity_filter.title_name'|translate}}</span></dt><dd><ul class=checkable ng-controller=filterActivityCtrl><li ng-class=\"{true: 'selected'}[item.selected]\" ng-repeat=\"item in filter_items\" ng-click=js_select_filter_item(item)><a href=javascript:;>{{item.display_name}}</a></li></ul></dd></dl>"), a.put("/tpl/calendar/calendar_project_filter.html", '<dl class="prj_sidebar h_100p" wt-sidebar-toggle=vm.calendar_project_filter_status><dd><div class=sidebar_header><a href=javascript:; ng-click=vm.js_toggle_filter()><button class="cancel wtfont wtf-close"></button><h3>{{\'calendar_project_filter.title_name\'|translate}}</h3></a></div><div class=sidebar_body_scroll wt-scroll><div class=sidebar_body><h3 class=sidebar_body_header>{{\'calendar_project_filter.filter_by_project\'|translate}}</h3><br><ul class=project-list-container><li class="project-item clickable" ng-class="{false: \'unchecked\', true: \'checked\'}[project.is_checked]" ng-repeat="project in calendar_projects" ng-click=js_filter_calendar_toggle(project)><div class=project-check><i class=fa ng-class="{false:\'fa-square-o\',true:\'fa-check-square\'}[project.is_checked]" ng-style="{true:{\'color\':project.bg}}[project.is_checked]"></i></div><a href=javascript:;><span class="project-icon {{project.pic}}" ng-style="{\'color\':project.bg}"></span> {{project.name}}</a></li></ul></div></div></dd></dl>'), a.put("/tpl/calendar/calendar_subscribe.html", '<div class=layout_content id=calendar-rss><div class=mod-navbar><div class="main main-clickable" wt-go-to=/calendar><div class=title><h3><i class="wtfont wtf-calendar"></i> {{\'calendar_subscribe.title_name\'|translate}}</h3></div><div class=main_toolbar><span class=main-clickable>{{\'calendar_subscribe.btn_back\'|translate}}</span></div></div></div><div class="height-nonav height-nonav--notab" wt-scroll><dl class=frame wt-minheight=112><dd class=frame-dd><div class="row mt_20"><div class="col-md-5 col-md-offset-1 p_20"><h3><strong>{{\'calendar_subscribe.tips_iphone_ipad\'|translate}}</strong></h3><div><br><p class="fs-16 color-text-gray">{{\'calendar_subscribe.scan_subscribe\'|translate}}</p><br></div><div class=help-inlineblock><p id=qrcode_wrap ng-bind-html=vm.qrcode></p></div></div><div class="col-md-4 col-md-offset-1 p_20"><h3><strong>{{\'calendar_subscribe.other_app_subscribe\'|translate}}</strong></h3><div><br><p class="fs-16 color-text-gray">{{\'calendar_subscribe.click_link_subscribe\'|translate}}</p><br></div><div><p class="alert alert-info text-break p_20"><a href={{vm.suburl}} class="color-text-dark fs_15" target=_blank>{{vm.suburl}}</a></p></div><div class=text-left><button class="btn ml_15 js-popbox" data-align=right ng-click=reset_token($event)>{{\'calendar_subscribe.btn_restart_subscribe\'|translate}}</button></div></div></div><p class="color-text-light pl_15 mt_20"><br>{{\'calendar_subscribe.info_subscribe\'|translate}}</p></dd></dl></div></div>'), a.put("/tpl/common/pop_add_image.html", '<ul class=popbox-step ng-switch on=step><li ng-switch-default class=popbox-step-li><div class=popbox-header><button class="cancel fa fa-remove" ng-click=js_close()></button><h3>{{\'pop_add_image.insert_picture\'|translate}}</h3></div><div class=popbox-body><ul class=popbox-menu><li><a ng-click=js_show_images()><i class=mr_5></i> {{\'pop_add_image.select_exist_picture\'|translate}}</a></li><li><a ngf-select accept=image/* ngf-change=js_files_select($files)><i class=mr_5></i> {{{true:"pop_add_image.uploading",false:"pop_add_image.local_upload"}[!!uploading_file]|translate}}</a></li><li ng-show="error_msg.length > 0"><div class="alert alert-danger">{{error_msg}}</div></li></ul></div></li><li ng-switch-when=1 class=popbox-step-li><div class=popbox-header><button class="back fa fa-chevron-left" ng-click=js_step(0)></button> <button class="cancel fa fa-remove" ng-click=js_close()></button><h3>{{\'pop_add_image.select_exist_picture\'|translate}}</h3></div><div class="popbox-bodywrapper max-h300 w_300" wt-scroll><div class=popbox-body><ul class=popbox-menu><div class="part-loading mt_12" wt-loading-done=images_loading_done></div><li ng-repeat="image in images" ng-click=js_select_image(image) class=ng-scope><a class="file-item-li-menu file-picfile ellipsis" href=javascript:;><img ng-src={{image.path|wtBox}} alt={{image.name}}> <span class="file-name ng-binding">{{image.name}}</span></a></li><li class=empty-menu ng-show="images.length == 0">{{\'pop_add_image.warn_local_empty\'|translate}}</li></ul></div></div></li></ul>'), a.put("/tpl/common/pop_add_image2.html", '<ul class=popbox-step ng-switch on=step><li ng-switch-when=1 class=popbox-step-li><div class=popbox-header><button class="back fa fa-chevron-left" ng-click=js_step(0)></button> <button class="cancel fa fa-remove" ng-click=js_close()></button><h3>{{\'pop_add_image2.select_exist_picture\'|translate}}</h3></div><div class="popbox-bodywrapper max-h300 w_300" wt-scroll><div class=popbox-body><ul class=popbox-menu><div class="part-loading mt_12" wt-loading-done=images_loading_done></div><li ng-repeat="image in images" ng-click=js_select_image(image) class=ng-scope><a class="file-item-li-menu file-picfile ellipsis" href=javascript:;><img ng-src={{image.path|wtBox}} alt={{image.name}}> <span class="file-name ng-binding">{{image.name}}</span></a></li><li class=empty-menu ng-show="images.length == 0">{{\'pop_add_image2.warn_local_empty\'|translate}}</li></ul></div></div></li><li ng-switch-default class=popbox-step-li><div class=popbox-body><ul class=popbox-menu><li><a ng-click=js_show_images()><i class=mr_5></i> {{\'pop_add_image2.select_exist_picture\'|translate}}</a></li><li><a href=javascript:; ngf-accept="\'image/*\'" ngf-select ngf-change=js_upload_image($files)><i class=mr_5></i> {{\'pop_add_image2.local_upload\'|translate}}</a></li><li ng-show="error_msg.length > 0"><div class="alert alert-danger">{{error_msg}}</div></li></ul></div></li></ul>'), a.put("/tpl/common/pop_add_link.html", '<div class=popbox-header><button class="cancel fa fa-remove" ng-click=js_close()></button><h3>{{\'pop_add_link.insert_link\'|translate}}</h3></div><div class="popbox-body w_300"><form class=wt-form w5c-form-validate="" name=insert_link_form role=form novalidate><div class=form-group><label class=control-label>{{\'pop_add_link.text\'|translate}}</label><input type=text wt-focus="" autofocus="" class=form-control name=link_text ng-model=link_text placeholder="{{\'pop_add_link.placeholder_text\'|translate}}" required=""></div><div class=form-group><label class=control-label>{{\'pop_add_link.url\'|translate}}</label><input type=text class=form-control name=link_address ng-model=link_address placeholder="{{\'pop_add_link.placeholder_url\'|translate}}" required=""></div><div class=form-group><button w5c-form-submit=js_insert_link(insert_link_form) type=button class="btn btn-success">{{\'pop_add_link.btn_insert\'|translate}}</button></div></form></div>'), a.put("/tpl/common/pop_add_link_2.html", '<div class="form-group link-input-wrapper"><div class=input-group><input type=text class=form-control name=link_address ng-model=link_address placeholder="{{\'pop_add_link_2.placeholder_insert_link\'|translate}}" wt-enter=insert() wt-focus required> <span class=input-group-btn><a class="btn btn-default" ng-click=insert()>{{\'pop_add_link_2.btn_insert\'|translate}}</a></span></div></div>'), a.put("/tpl/common/pop_comment_delete.html", "<div class=popbox-header><button class=\"cancel fa fa-remove\" ng-click=vm.js_close()></button><h3>{{'pop_comment_delete.cofirm_del'|translate}}</h3></div><div class=\"popbox-body w_300\"><span>{{'pop_comment_delete.message_confirm_del'|translate}}</span></div><div class=popbox-footer><button ng-click=vm.js_sure_delete() data-loading-text=\"{{'common.deling'|translate}}\" wt-loading-status=is_deleting class=\"btn btn-danger mr_15\">{{'pop_comment_delete.cofirm_del'|translate}}</button> <button ng-click=vm.js_close() class=\"btn btn-link btn-cancel\">{{'common.btn_cancel'|translate}}</button></div>"),
        a.put("/tpl/common/pop_delete_confirm.html", '<div class=popbox-header><button class="cancel fa fa-remove" ng-click=js_close()></button><h3>{{delete_title||(\'pop_delete_confirm.cofirm_del\'|translate)}}</h3></div><div class="popbox-body w_300"><span ng-bind-html="delete_message||(\'pop_delete_confirm.message_confirm_del\'|translate)"></span></div><div class=popbox-footer><button ng-click=js_sure_delete() data-loading-text="{{\'common.deling\'|translate}}" wt-loading-status=is_deleting class="btn btn-danger mr_15" ng-bind-html="delete_button||(\'pop_delete_confirm.cofirm_del\'|translate)"></button></div>'), a.put("/tpl/common/pop_new_comment_emojis.html", '<div class="popbox-body emoji-box" ng-mousedown=vm.js_mousedown($event) style="max-height: 250px"><ul class=popbox-item><li ng-click=vm.js_insert_emoji(emoji) ng-repeat="emoji in vm.emojis"><a href=javascript:><img class=emoji ng-src={{global.config.cdnpath}}images/emoji/{{emoji}}.png></a></li></ul><ul class="pagination pagination-sm"><li ng-repeat="emoji_group in vm.emoji_groups" ng-class="{true:\'active\'}[vm.current_page == $index]"><a href=javascript:; ng-click=vm.js_to_page($index)>{{$index+1 }}</a></li></ul></div>'), a.put("/tpl/common/pop_new_comment_metion.html", '<div class=pop_new_comment_metion><div class=popbox-header ng-mousedown=vm.js_mousedown($event)><button class="cancel fa fa-remove" ng-click=vm.js_close()></button><h3>{{\'pop_new_comment_metion.send_notify\'|translate}}</h3></div><div class=popbox-bodywrapper wt-scroll ng-mousedown=vm.js_mousedown($event)><div class=popbox-body><a href=javascript:; class=link-add-all ng-click=vm.js_metion_all($event)><i class="fa fa-at"></i> {{\'pop_new_comment_metion.all_member\'|translate}} ({{vm.metion_members.length}}) </a><input type=text autofocus="" wt-focus="" ng-model=search_user_input placeholder="{{\'pop_new_comment_metion.search_member\'|translate}}" class="form-control help-block mt_0"><br><ul class=popbox-menu><li class=member-item ng-repeat="member in vm.metion_members|filterMembers:search_user_input"><wt-avatar member=member size=30 name=true atname=true faceclass=plr_5 ng-click=vm.js_metion_member($event,member)></wt-avatar></li></ul></div></div></div>'), a.put("/tpl/common/pop_weixin_qrcode.html", "<div><img width=200 src=\"/api/weixin/qrcode{{global.me.uid?'?uid=' + global.me.uid:''}}\"><div class=\"w_200 plr_10 pb_7\">{{'pop_weixin_qrcode.info'|translate}}</div></div>"), a.put("/tpl/common/watch_filter.html", '<ul class="nav nav-pills" ng-controller=filter_watch_ctrl><li ng-class="{true:\'active\'}[item.selected == true]" ng-repeat="item in filter_items"><a href=javascript:; ng-click=js_select_filter_item(item)>{{item.display_name}}</a></li></ul>'), a.put("/tpl/dashboard/dashboard.html", ""), a.put("/tpl/dashboard/dashboardActivityFeed.html", '<div class=layout_content><div class="layout_content_main dashboard"><div class=mod-navbar><div class=main><div class=title><h3><i class="wtfont wtf-dashboard"></i> {{\'dashboardActivityFeed.dashboard\'|translate}}</h3></div><div class=main_toolbar></div></div><div class=sub><ul class=mod_subnav><li><a href=/dashboard>{{\'dashboardActivityFeed.mytask\'|translate}}</a></li><li><a href=/calendar>{{\'dashboardActivityFeed.myevent\'|translate}}</a></li><li><a href=/feed class=active>{{\'dashboardActivityFeed.feed\'|translate}}</a></li><li><a href=/email>{{\'dashboardActivityFeed.myemail\'|translate}}</a></li></ul></div></div><div class="height-nonav dashboard-body" wt-scroll><dl class=frame wt-minheight=112><div class=right-fix-col><div class=button-container><button class=btn ng-click=vm.js_refresh_feed($event)><i class="fa fa-refresh"></i>&nbsp;&nbsp; {{\'dashboardActivityFeed.btn_new_feed\'|translate}}</button></div></div><div class=left-elastic-col><div class="empty-panel noborder" ng-show="vm.feedData.feeds.length == 0 && vm.loadingDone"><i class="fa fa-clock-o"></i><br><span>{{\'dashboardActivityFeed.warn_feed_empty\'|translate}}</span></div><ul class="activity-list-container feed-list"><wt-activity-feed ng-repeat="feed in vm.feedData.feeds"></wt-activity-feed><div class=loading-more-panel><div class=part-loading ng-hide=vm.loadingDone></div><button class="btn more-btn" ng-if="vm.feedData.hasMore && vm.loadingDone" data-loading-text="{{\'common.loading\'|translate}}" wt-loading-status=!vm.loadingDone ng-click=vm.js_loadMoreActivityFeeds();>{{\'common.btn_loading\'|translate}}</button></div></ul></div></dl></div></div></div>'), a.put("/tpl/dashboard/dashboardCalendar.html", "<div class=layout_content><div class=\"layout_content_main calendar\"><div class=mod-navbar><div class=main><div class=title><h3><i class=\"wtfont wtf-dashboard\"></i> {{'dashboard.title_name'|translate}}</h3></div><div class=main_toolbar></div></div><div class=sub><ul class=mod_subnav><li><a href=/dashboard>{{'dashboard.title_name_my_tasks'|translate}}</a></li><li><a href=/calendar class=active>{{'dashboard.title_name_calendar'|translate}}</a></li><li><a href=/feed>{{'dashboard.title_name_feed'|translate}}</a></li><li><a href=/email>{{'dashboard.title_name_email'|translate}}</a></li></ul><div class=sub_toolbar><div href=javascript:; class=\"btn-group js-popbox mr_5\"><a class=\"btn btn-success btn--fancy\" ng-click=vm.js_add_event()>{{'dashboardCalendar.btn_new_event'|translate}}</a></div><a href=javascript:; class=\"btn btn--fancy\" wt-go-to=/calendar/subscribe>{{'dashboardCalendar.btn_subscribe'|translate}}</a></div></div></div><div class=calendar-body><div class=margin_inner><div class=calendar-command-panel><div class=command-penal><div id=calendar-range-wrapper><a href=javascript:; ng-click=prev()><i class=\"fa fa-angle-left\"></i></a><h4 id=calendar_title class=range-text></h4><a href=javascript:; ng-click=next()><i class=\"fa fa-angle-right\"></i> </a><button id=calendar_today class=\"btn btn-today\" ng-click=today()>{{'common.today'|translate}}</button></div><div class=\"btn-group month-week-wrapper\"><button class=\"btn month-btn\" ng-class=\"{true: 'active'}[vm.calendar_view=='month']\" ng-click=\"changeView('month')\">{{'common.month'|translate}}</button> <button class=\"btn week-btn\" ng-class=\"{true: 'active'}[vm.calendar_view=='agendaWeek']\" ng-click=\"changeView('agendaWeek')\">{{'common.week'|translate}}</button></div></div><div class=calendar-panel ng-class=\"{'agendaWeek': 'week'}[vm.calendar_view]\"><div id=calendar calendar=myCalendar ui-calendar=calendarConfig ng-model=calendarEventSources></div></div></div></div></div></div><div class=\"layout_right_sidebar layout_right_sidebar--calender\"><ng-include src=\"'/tpl/calendar/calendar_project_filter.html'\"></ng-include></div></div><ui-view></ui-view>"), a.put("/tpl/dashboard/dashboardEmail.html", '<div class="layout_content dashboard"><div class=layout_content_main><div class=mod-navbar><div class=main><div class=title><h3><i class="wtfont wtf-dashboard"></i> {{\'dashboard.title_name\'|translate}}</h3></div><div class=main_toolbar></div></div><div class=sub><ul class=mod_subnav><li><a href=/dashboard>{{\'dashboard.title_name_my_tasks\'|translate}}</a></li><li><a href=/calendar>{{\'dashboard.title_name_calendar\'|translate}}</a></li><li><a href=/feed>{{\'dashboard.title_name_feed\'|translate}}</a></li><li><a href=/email class=active>{{\'dashboard.title_name_email\'|translate}}</a></li></ul><div class=sub_toolbar><div class="btn-group mr_5"><a href=javascript:; class="js-popbox openpop" data-placement=bottom data-align=right ng-click=js_pop_showhelp($event);><i class="fa fa-info-circle"></i></a></div></div></div></div><div class=height-nonav wt-scroll><dl class="frame dashboard-body" wt-minheight=112><dt class="frame-dt frame--dt" ng-if="emailData.emails.length != 0 && loadingDone"><span class="title title--breadcrumb"><a ng-href=/dashboard/email>{{\'dashboard.title_name_email\'|translate}}</a></span></dt><div class="empty-panel noborder empty-panel-mt-10" ng-if="emailData.emails == 0 && loadingDone"><i class="fa fa-envelope-o"></i><br><br><p class=fs_17>{{\'dashboardEmail.info_email\'|translate}} <strong class=color_main>{{global.me.name}}@inbox.worktile.com</strong><br>{{\'dashboardEmail.tips_email\'|translate}}</p></div><ul class=email-list-container><li class="email-item slide-trigger" ng-repeat="email in emailData.emails" ng-click=showEmailDetail(email)><div class="column right"><div class=date>{{email.create_date|dateFormatZHCN}}</div></div><div class="column center"><div class=subject ng-class="{bold: !email.is_read, pale:email.is_read }">{{email.subject}}</div></div><div class="column left"><div class=icon ng-class="{bold: !email.is_read, pale:email.is_read }"><a href=javascript:; ng-click="js_set_mail_read($event, email)" ng-class="{\'yellow\': !email.is_read, \'gray\':email.is_read}"><i class=fa-envelope></i></a></div><div class=from title={{email.from}} ng-class="{bold: !email.is_read, pale:email.is_read }">{{email.from}}</div></div></li><div class=loading-more-panel><div class=part-loading ng-hide=loadingDone></div><button class=btn ng-show="emailData.hasMore && loadingDone" data-loading-text="{{\'common.loading\'|translate}}" wt-loading-status=!loadingDone ng-click=loadMoreEmails();>{{\'common.btn_loading\'|translate}}</button></div></ul></dl></div></div></div>'), a.put("/tpl/dashboard/dashboardTask.html", '<div class=layout_content><div class="layout_content_main dashboardTask"><div class=mod-navbar><div class=main><div class=title><h3><i class="wtfont wtf-dashboard"></i> {{\'dashboard.title_name\'|translate}}</h3></div><div class=main_toolbar></div></div><div class=sub><ul class=mod_subnav><li><a href=/dashboard class=active>{{\'dashboard.title_name_my_tasks\'|translate}}</a></li><li><a href=/calendar>{{\'dashboard.title_name_calendar\'|translate}}</a></li><li><a href=/feed>{{\'dashboard.title_name_feed\'|translate}}</a></li><li><a href=/email>{{\'dashboard.title_name_email\'|translate}}</a></li></ul><ng-include src="\'/tpl/dashboard/toolbar_task.html\'"></ng-include></div></div><div ng-if="vm.mytaskViewStatus==\'gtd\'" class=height-nonav><div class=part-loading ng-if=!vm.part_loading_done></div><div ng-show=vm.loaded class="h_100p entries_panel js-sortable" wt-scroll=\'{"dir":"x"}\'><div class=entries_panel_sortarea><div id=entry_main_{{$index+1}} class=entry ng-repeat="taskarry in vm.taskArrays"><div class="entry_header entry_header--dashboard clearfix"><div class="entry_header_title pull-left"><h2 ng-if="$index === 0">{{\'dashboardTask.inbox\'|translate}}</h2><h2 ng-if="$index === 1">{{\'dashboardTask.today_done\'|translate}}</h2><h2 ng-if="$index === 2">{{\'dashboardTask.next_step_done\'|translate}}</h2><h2 ng-if="$index === 3">{{\'dashboardTask.later_done\'|translate}}</h2></div><div class="entry_header_title entry_header_title--dashboard pull-right"><h2 ng-if="taskarry.length>0">{{taskarry.length}}</h2></div></div><div class=entry-task-panel wt-scroll="" wt-maxheight=200><div class="entry-tasks js-sortable min-h20" sortable=vm.tasks_sort_options mark={{$index+1}}><div class=entry-task-empty-dashboard wt-disable-drag ng-if=!taskarry.length><span ng-if="$index === 0">{{\'dashboardTask.assign_your_show\'|translate}} </span><span ng-if="$index === 1">{{\'dashboardTask.today_done_show\'|translate}} </span><span ng-if="$index === 2">{{\'dashboardTask.next_done_show\'|translate}} </span><span ng-if="$index === 3">{{\'dashboardTask.later_show\'|translate}}</span></div><wt-task ng-repeat="task in taskarry|orderBy: \'pos\' track by task.tid" task=task class="right_click_trigger slide-trigger js-popbox task--dashboard" ng-hide=task.is_filter arg-show-project=true arg-fn-check=vm.js_complete_task($event,entry,task) task-pos={{task.pos}} ng-click=vm.js_open_task_detail($event,task)></wt-task></div></div><div class=entry-task-footer><a href=javascript:; class=js-add-task-composer ng-click="vm.js_add_task($event, $index)"><i class="fa fa-plus-circle"></i> {{\'tasks.btn_add_task\'|translate}}</a></div></div><div ng-hide=vm.loaded class="part-loading mt_20"></div><ui-view></ui-view></div></div></div><div ng-if="vm.mytaskViewStatus==\'time\'" class="height-nonav dashboard-body" wt-scroll><dl class=frame wt-minheight=112 ng-if=vm.loaded><dt class="frame-dt frame--dt"><span class="title title--breadcrumb"><div class=help-inlineblock><a ng-href=/dashboard>{{\'dashboardTask.todo_task\'|translate}}</a></div></span></dt><hr class=m-0><div ng-show=vm.part_loading_done><div class=empty-panel ng-if="vm.group_tasks.length == 0"><i class="fa fa-check-square-o"></i><br><span>{{\'dashboardTask.uncompleted_task\'|translate}}</span></div><div class="widget widget-mytask"><div class="body expired no-min-height no-border" ng-if="vm.group_tasks.length > 0"><div class="line-item-container slide-trigger" ng-repeat="group in vm.group_tasks"><div class=task-header ng-click="group.collapse = !group.collapse"><div class=text>{{group.phase}}</div><span class=number>{{group.tasks.length}}</span><div class=toggle-handle><a href=javascript:;><i class="fa fa-chevron-down" ng-if=group.collapse></i> <i class="fa fa-chevron-up" ng-if=!group.collapse></i></a></div></div><div ng-init="group.collapse = false" uib-collapse=group.collapse><wt-task task=task arg-view-type=item arg-show-project=true arg-disable-check=true ng-repeat="task in group.tasks track by task.tid" ng-click="locator.openTask(task.pid, task.tid)"></wt-task></div></div></div></div></div><div class="part-loading mt_20" ng-if=!vm.part_loading_done></div></dl></div><div ng-if="vm.mytaskViewStatus==\'completed\'" class="height-nonav dashboard-body" wt-scroll><dl class=frame wt-minheight=112 ng-if=vm.loaded><dt class="frame-dt frame--dt"><span class="title title--breadcrumb"><div class=help-inlineblock><a ng-href=/dashboard>{{\'dashboardTask.completed_task\'|translate}}</a></div></span></dt><hr class=m-0><div ng-show=vm.part_loading_done><div class="empty-panel noborder" ng-if="vm.completed_tasks.length == 0 && vm.part_loading_done"><i class="fa fa-check-square-o"></i><br><span>{{\'dashboardTask.warn_empty_completed\'|translate}}</span></div><div class="widget widget-mytask"><div class="body completed no-min-height no-border" ng-if="vm.completed_tasks.length > 0"><div class="line-item-container slide-trigger"><wt-task task=task arg-view-type=item ng-repeat="task in vm.completed_tasks track by task.tid" ng-click="locator.openTask(task.pid, task.tid)"></wt-task></div><div class=loading-more-panel ng-if="vm.part_loading_done && vm.has_more_completed_tasks"><button class=btn ng-click=vm.load_more_completed_tasks();>{{\'common.btn_loading\'|translate}}</button></div></div></div></div><div class="part-loading mt_20" ng-if=!vm.part_loading_done></div></dl></div><div ng-if="vm.mytaskViewStatus==\'update\'||vm.mytaskViewStatus==\'my_watcher\'||vm.mytaskViewStatus==\'my_create\'||vm.mytaskViewStatus==\'all_tasks\'" class="height-nonav dashboard-body" wt-scroll><dl class=frame wt-minheight=112 ng-if=vm.loaded><dt class="frame-dt frame--dt"><span class="title title--breadcrumb"><div class=help-inlineblock><a ng-href=/dashboard>{{ {\'update\':\'dashboardTask.sort_by_update\', \'my_watcher\':\'dashboardTask.my_watcher\', \'my_create\':\'dashboardTask.my_create\', \'all_tasks\':\'dashboardTask.all_tasks\'}[vm.mytaskViewStatus]|translate }}</a></div></span></dt><hr class=m-0><div ng-show=vm.part_loading_done><div class="empty-panel noborder" ng-if="vm.tasks.length==0 && vm.part_loading_done"><i class=fa ng-class="{\'update\':\'fa-clock-o\',\'my_watcher\':\'fa-eye\',\'my_create\':\'fa-pencil-square-o\',\'all_tasks\':\'fa-check-square-o\'}[vm.mytaskViewStatus]"></i><br><span>{{\'dashboardTask.warn_empty_tasks\'|translate}}</span></div><div class="widget widget-mytask"><div class="body completed no-min-height no-border" ng-if="vm.tasks.length > 0"><div class="line-item-container slide-trigger"><wt-task task=task arg-view-type=item ng-repeat="task in vm.tasks track by task.tid" ng-click="locator.openTask(task.pid, task.tid)"></wt-task></div><div class=loading-more-panel ng-if="vm.part_loading_done && vm.has_more_tasks"><button class=btn ng-click=vm.load_more_tasks();>{{\'common.btn_loading\'|translate}}</button></div></div></div></div><div class="part-loading mt_20" ng-if=!vm.part_loading_done></div></dl></div><wt-feedback></wt-feedback></div></div>'), a.put("/tpl/dashboard/pop_dashboard_mailhelp.html", "<ul class=\"pop_dashboard_mailhelp popbox-step w_300\" wt-stop-propagation><li class=popbox-step-li><div class=popbox-header><button class=\"cancel fa fa-remove\" ng-click=js_close()></button><h3>{{'pop_dashboard_mailhelp.title_name'|translate}}</h3></div><div class=popbox-body>{{'pop_dashboard_mailhelp.info'|translate}}<br><br><blockquote><strong class=\"color_main text-break\">{{global.me.name}}@inbox.worktile.com</strong></blockquote>{{'pop_dashboard_mailhelp.info2'|translate}}</div></li></ul>"), a.put("/tpl/dashboard/projects.html", '<div class=layout_content><div class=layout_content_main><div class=mod-navbar><div class=main><div class=title><h3><i class="fa fa-inbox"></i> {{\'common.txt_project\'|translate}}</h3></div><div class=main_toolbar></div></div></div><div class=height-nonav wt-scroll style=top:55px><div class="part-loading mt_20" ng-hide=vm.part_loading_done></div><div class=projects-panel ng-show=vm.part_loading_done><div class=project-grid-panel><div class=projects-panel-header ng-hide="(vm.projects|filter:{is_star:1}).length==0"><i class="fa fa-star"></i> {{\'projects.start_project\'|translate}} <span class="color-text-act-red ml_5 mr_5">{{(vm.projects|filter:{is_star:1}).length}}</span></div><div class="project-grid ui-sortable" sortable=project_sort_options ng-if="(vm.projects|filter:{is_star:1}).length!=0"><wt-project-grid-board-item ng-repeat="project in vm.projects|filter:{is_star:1}|orderBy:\'star_pos\' track by $index" project=project icon=star type=star></wt-project-grid-board-item></div><div ng-repeat="team in vm.teams"><div class=projects-panel-header><a ng-if="team.team_id && team.team_id != \'-1\'" href=/teams/{{team.team_id}}><i class="fa fa-sitemap"></i>&nbsp;&nbsp;{{team.name}} </a><span ng-if="team.team_id && team.team_id != \'-1\'" class="color-text-act-red ml_5">{{team.projects.length}}</span> <span ng-if="team.team_id && team.team_id == \'-1\'"><i class="fa fa-user mr_5"></i>&nbsp;&nbsp;{{team.name}} </span><span class="color-text-act-red ml_5" ng-if="team.team_id && team.team_id == \'-1\'">{{team.projects.length}}</span></div><div class=project-grid ng-class="{\'ui-sortable\':team.projects.length!=0}" sortable="{true:project_sort_options}[team.projects.length!=0]"><wt-project-grid-board-item ng-repeat="project in team.projects" project=project icon=star team=team type=team></wt-project-grid-board-item><div class="project-item projects-empty" ng-show="team.projects.length==0"><a class=center href=javascript:; wt-disable-drag><i class="fa fa-inbox"></i><h4>{{\'projects.warn_empty_project\'|translate}}</h4></a></div></div></div><div class=empty-panel ng-show="vm.projects.length == 0 && vm.teams.length == 0 && vm.part_loading_done" ng-cloak><i class="fa fa-inbox"></i><br><span>{{\'projects.warn_empty_project\'|translate}}</span></div><div class=projects-panel-header ng-class="{true:\'board-no\',false:\'\'}[!vm.isFav]" ng-hide="vm.fav_projects.length == 0"><i class="fa fa-heart fs-16"></i> {{\'projects.favs_project\'|translate}} <span class="color-text-act-red ml_5 mr_5">{{vm.fav_projects.length}}</span> <a href=javascript:; class="toggle_link ml-10" ng-if=!vm.isFav ng-click=toogleFaver(true,$event)>{{\'projects.show\'|translate}} </a><a href=javascript:; class="toggle_link ml-10" ng-if=vm.isFav ng-click=toogleFaver(false,$event)>{{\'projects.hide\'|translate}}</a></div><div id=fav_div class="project-grid ui-sortable" ng-hide="(!vm.isFav||vm.fav_projects.length === 0)"><wt-project-grid-board-item ng-repeat="project in vm.fav_projects" fprojects=vm.fav_projects project=project icon=heart></wt-project-grid-board-item></div><div id=archive_div class=projects-panel-header ng-class="{true:\'board-no\',false:\'\'}[!vm.isArchive]" ng-hide="vm.archived_projects.length == 0"><i class="fa fa-archive"></i> {{\'projects.archive_project\'|translate}} <span class="color-text-act-red ml_5 mr_5">{{vm.archived_projects.length}}</span> <a href=javascript:; class="toggle_link ml-10" ng-if=!vm.isArchive ng-click="toogleArchive(true, $even)">{{\'projects.show\'|translate}} </a><a href=javascript:; class="toggle_link ml-10" ng-if=vm.isArchive ng-click="toogleArchive(false, $even)">{{\'projects.hide\'|translate}}</a></div><div class="project-grid ui-sortable" ng-hide="(vm.archived_projects.length==0||!vm.isArchive)"><wt-project-grid-board-item ng-repeat="project in vm.archived_projects" project=project icon=star></wt-project-grid-board-item></div></div></div></div></div></div>'), a.put("/tpl/dashboard/toolbar_task.html", "<div class=sub_toolbar><div class=btn-group><button type=button class=\"btn btn-success btn--fancy\"><i class=fa ng-class=\"{\n         'gtd':'fa-th-large',\n         'time':'fa-list-ul',\n         'completed':'fa-check-square-o',\n\n         'update':'fa-clock-o',\n         'my_watcher':'fa-eye',\n         'my_create':'fa-pencil-square-o',\n         'all_tasks':'fa-check-square-o'\n         }[vm.mytaskViewStatus]\"></i></button> <button type=button class=\"btn dropdown-toggle mr_5 btn--fancy\" data-toggle=dropdown>&nbsp; {{ {'gtd':'dashboardTask.sort_by_order', 'time':'dashboardTask.sort_by_expire', 'completed':'dashboardTask.recent_completed', 'update':'dashboardTask.sort_by_update', 'my_watcher':'dashboardTask.my_watcher', 'my_create':'dashboardTask.my_create', 'all_tasks':'dashboardTask.all_tasks'}[vm.mytaskViewStatus]|translate }} &nbsp; <i class=\"fa fa-caret-down\"></i>&nbsp;</button><ul class=\"dropdown-menu pull-right\"><li><a href=javascript:; ng-click=\"vm.js_toggle_viewstatus('gtd')\"><i class=\"fa fa-fw fa-th-large\"></i> {{'dashboardTask.sort_by_order'|translate}}</a></li><li><a href=javascript:; ng-click=\"vm.js_toggle_viewstatus('time')\"><i class=\"fa fa-fw fa-list-ul\"></i> {{'dashboardTask.sort_by_expire'|translate}}</a></li><li><a href=javascript:; ng-click=\"vm.js_toggle_viewstatus('completed')\"><i class=\"fa fa-fw fa-check-square-o\"></i> {{'dashboardTask.recent_completed'|translate}}</a></li><li><a href=javascript:; ng-click=\"vm.js_toggle_viewstatus('update')\"><i class=\"fa fa-fw fa-clock-o\"></i> {{'dashboardTask.sort_by_update'|translate}}</a></li><li><a href=javascript:; ng-click=\"vm.js_toggle_viewstatus('my_watcher')\"><i class=\"fa fa-fw fa-eye\"></i> {{'dashboardTask.my_watcher'|translate}}</a></li><li><a href=javascript:; ng-click=\"vm.js_toggle_viewstatus('my_create')\"><i class=\"fa fa-fw fa-pencil-square-o\"></i> {{'dashboardTask.my_create'|translate}}</a></li><li><a href=javascript:; ng-click=\"vm.js_toggle_viewstatus('all_tasks')\"><i class=\"fa fa-fw fa-check-square-o\"></i> {{'dashboardTask.all_tasks'|translate}}</a></li></ul></div></div>"), a.put("/tpl/directive/add_pop_attachment_from_file.html", '<ul class=popbox-step wt-stop-propagation=""><li class=popbox-step-li><div class=popbox-header><button ng-if="folder_ids.length > 0" class="back fa fa-chevron-left" ng-click=go_back()></button> <button ng-if="folder_ids.length == 0 && has_go_further_back" class="back fa fa-chevron-left" ng-click=go_back_further()></button> <button class="cancel fa fa-remove" ng-click=js_close()></button><h3>{{\'add_pop_attachment_from_file.form_project_files\'|translate}}</h3></div><div class="popbox-bodywrapper w_300" wt-scroll><div class=popbox-body><ul class=popbox-menu><li ng-repeat="file in files_controls.files" ng-click=js_attach(file)><a class="file-item-li-menu ellipsis" ng-class="{0:\'file-picfile\', 1:\'file-picfolder\'}[file.type]" href=javascript:;><img ng-src={{file.icon|wtBox}} alt="{{ file.name }}"> <span>{{file.name}}</span></a></li><li ng-show="files_controls.files.length == 0 && files_controls.loading_done"><div class=empty-menu>{{\'add_pop_attachment_from_file.warn_empty_file\'|translate}}</div></li></ul></div><div class="popbox-footer top-divider" ng-show=files_controls.has_more_files><div class=loading-more-panel><div class=part-loading ng-hide=files_controls.loading_done></div><a class=action-item href=javascript:; ng-click=load_more(); data-loading-text="{{\'common.loading\'|translate}}" ng-show=files_controls.loading_done><span>{{\'common.btn_loading\'|translate}}</span></a></div></div></div></li></ul>'), a.put("/tpl/directive/confirm_password.html", '<div class=confirm-password><span class=caption>{{\'confirm_password.enter_password\'|translate}}</span><form class=wt-form w5c-form-validate="" name=confirm_password_form role=form novalidate><wt-avatar member=global.me name=true namebr=true atname=true size=80></wt-avatar><br><span class=text>{{\'confirm_password.info\'|translate}}</span><div class=form-group><input name=confirm_password ng-model=confirm_password class=form-control type=password autofocus=autofocus required="" placeholder="{{\'confirm_password.placeholder_password\'|translate}}"></div><div class="form-group text-left" ng-show="confirm_password_form.$errors.length > 0"><div class="alert alert-danger"><i class="fa fa-times-circle"></i> {{confirm_password_form.$errors[0]}}</div></div><div class=form-group><a class="btn btn-success btn-block" w5c-form-submit=js_confirm_password(confirm_password_form) data-loading-text="{{\'confirm_password.verifying\'|translate}}" wt-loading-status=confirming>{{\'confirm_password.btn_verify\'|translate}}</a></div><div class="form-group clearfix"><a ng-click=js_forgot_password() href=javascript:; class=pull-left>{{\'confirm_password.link_forgot_pwd\'|translate}} </a><a ng-click=js_cancel_option() href=javascript:; class=pull-right>{{\'common.txt_cancel\'|translate}}</a></div></form></div>'), a.put("/tpl/directive/editor.html", '<div class=gollum-editor-wrap><div class=gollum-editor><div class="gollum-editor-function-bar active"><div class=gollum-editor-function-buttons><div class="btn-group mr_10"><a class="btn btn-min function-button function-bold" title="{{\'directive_editor.bold\'|translate}}"><span>Bold</span></a> <a class="btn btn-min function-button function-italic" title="{{\'directive_editor.italic\'|translate}}"><span>Italic</span></a></div><div class="btn-group mr_10"><a class="btn btn-min function-button js-popbox function-link" data-placement=bottom title="{{\'directive_editor.link\'|translate}}"><span>Link</span></a> <a class="btn btn-min function-button js-popbox function-image" data-placement=bottom title="{{\'directive_editor.picture\'|translate}}"><span>Picture</span></a></div><div class=btn-group><a class="btn btn-min function-button function-ul" title="{{\'directive_editor.unorder_list\'|translate}}"><span>Unordered List</span></a> <a class="btn btn-min function-button function-ol" title="{{\'directive_editor.order_list\'|translate}}"><span>Ordered List</span></a> <a class="btn btn-min function-button function-blockquote" title="{{\'directive_editor.quote\'|translate}}"><span>Quote</span></a> <a class="btn btn-min function-button function-hr" title="{{\'directive_editor.horizontal_line\'|translate}}"><span>Horizontal Line</span></a></div><div class=btn-group><a class="btn btn-min function-button js-popbox function-linkentity" title="{{\'directive_editor.link_entity\'|translate}}" data-placement=bottom ng-click=$popInserLinkEntity($event)><span>Link Entity</span></a></div></div></div><div class=ng-transclude ng-transclude></div></div></div>'), a.put("/tpl/directive/entity_item_deny.html", "<div class=empty-panel ng-show=\"root_vm.entityExt.loading_done && !(global.prj_module.view|permission:root_vm.entityExt.permission) && (locator.xtype!='emails')\"><i class=\"fa fa-ban\"></i><br><span ng-if=!entity.not_found_msg>{{'entity_item_deny.warn_deny_access_project'|translate}}<br>{{'entity_item_deny.warn_project_empty'|translate}} </span><span ng-show=\"entity.not_found_msg.length > 0\">{{entity.not_found_msg}}</span></div>"), a.put("/tpl/directive/files_breadcrumb.html", '<div ng-if="folders.length>0" class=help-inlineblock ng-repeat="folder in folders"><i class="fa fa-angle-right ml-10 mr_10"></i> <a ng-href=/project/{{pid}}/folder/{{folder.fid}}>{{folder.name}}</a></div>'), a.put("/tpl/directive/item_comment_activity.html", "<uib-tabset class=tabbable><uib-tab heading=\"{{'item_comment_activity.tab_comment'|translate}}\" active=tab_active.comment select=select_tab_comment()><comment-list arg-type=argType arg-project=argProject arg-entity=argEntity arg-entity-ext=argEntityExt></comment-list></uib-tab><uib-tab heading=\"{{'item_comment_activity.tab_activity'|translate}}\" active=tab_active.activity select=select_tab_activity()><ng-include ng-controller=itemActivityCtrl src=\"'/tpl/activity/activity_list.html'\"></ng-include></uib-tab></uib-tabset>"), a.put("/tpl/directive/project_grid_board_item.html", '<div class=project-item pid="{{ project.pid }}" tid={{team.team_id}}><a href=javascript:; ng-if="icon==\'star\'" ng-class="{1: \'star star-started\', 0: \'star\'}[project.is_star]" ng-click=js_star_toggle($event,project) class=js-popbox uib-tooltip="{{{1:\'project_grid_board_item.tooltip_remove_star\',0:\'project_grid_board_item.tooltip_set_star\'}[project.is_star]|translate}}" tooltip-placement=right tooltip-animation=false data-placement=bottom ng-hide="project.archived == \'1\'"><i class=fa ng-class="{1: \'fa-star\', 0: \'fa-star-o\'}[project.is_star]"></i> </a><a href=javascript:; ng-click=js_favorite_toggle($event,project) ng-if="icon==\'heart\'" class="heart js-popbox" tooltip-placement=right tooltip-animation=false uib-tooltip="{{\'project_grid_board_item.tooltip_cancel_fav\'|translate}}" data-placement=bottom ng-hide="project.archived == \'1\'"><i class="fa color-text-act-red" ng-class="{1: \'fa-heart\', 0: \'fa-heart-o\'}[project.is_favorite]"></i> </a><a class="center team-link" href=/project/{{project.pid}}><i ng-class=project.pic ng-style={color:project.bg}></i><h4>{{[project.name,38]|cutstr}}</h4></a><a href=javascript:; class=members><i class="fa fa-user"></i> <span ng-bind=project.member_count></span></a></div>'), a.put("/tpl/directive/project_grid_item.html", '<li class="item flex_row"><a class="flex_se1 ml_20 color-text-dark" href=javascript:; ng-click=vm.go_project()><span class=project_icon><i ng-class=project.pic ng-style={color:project.bg}></i> </span><span ng-bind=[project.name,40]|cutstr></span> </a><span class="flex_row w_252 mr_20"><div class="project_status flex_row"><span class="pending {{project.overview.uncompleted==0?\'empty\':\'\'}} flex_se1" tooltip-placement=top uib-tooltip="{{\'project_grid_item.todo\'|translate}}">{{project.overview.uncompleted}}</span> <span class="expired {{project.overview.expired==0?\'empty\':\'\'}} flex_se1" tooltip-placement=top uib-tooltip="{{\'project_grid_item.expired\'|translate}}">{{project.overview.expired}}</span> <span class="complete {{project.overview.completed==0?\'empty\':\'\'}} flex_se1" tooltip-placement=top uib-tooltip="{{\'project_grid_item.done\'|translate}}">{{project.overview.completed}}</span></div></span></li>'), a.put("/tpl/directive/project_visibility_options.html", '<ul class=popbox-step wt-stop-propagation><li class=popbox-step-li><div class=popbox-header><button class="cancel fa fa-remove" ng-click=js_close()></button><h3>{{\'project_visibility_options.title_name\'|translate}}</h3></div><div class=popbox-body><ul class=popbox-menu><li><div class=p_5><i class="{{visibilityArr[0].icon}} mr_5"></i> {{visibilityArr[0].desc}}<br><span class=text-muted>{{visibilityArr[0].intro}}</span></div></li><li class=divider></li><li><div class=p_5><i class="{{visibilityArr[1].icon}} mr_5"></i> {{visibilityArr[1].desc}}<br><span class=text-muted>{{visibilityArr[1].intro}}</span></div></li><li class=divider></li><li><div class=p_5><i class="{{visibilityArr[2].icon}} mr_5"></i> {{visibilityArr[2].desc}}<br><span class=text-muted>{{visibilityArr[2].intro}}</span></div></li></ul></div></li></ul>'), a.put("/tpl/directive/task.html", '<div bindonce bo-id="\'task_main_\'+task.tid" bo-attr bo-attr-task-id=task.tid class="task task_style {{\'task-\'+dm.viewType}}"><div class=entry-task-main ng-class="{1:\'task-completed-style\'}[task.completed]"><a class=entry-task-check bo-id="\'task_check_\'+task.tid" ng-if=!argDisableCheck ng-click=dm.parse_fn_check($event,entry,task)><i class=fa ng-class="{0:\'fa-square-o\',1:\'fa-check-square\'}[task.completed]"></i> </a><a class="entry-task-check entry-task-check-noHover" bo-id="\'task_check_\'+task.tid" ng-if=argDisableCheck><i class=fa ng-class="{0:\'fa-square-o\',1:\'fa-check-square\'}[task.completed]"></i> </a><a class=entry-task-title href=javascript:; ng-bind=task.name></a> <a href=javascript:; bo-id="\'icon_action_task_\'+task.tid" class="js-popbox entry-task-menu" ng-if=argShowMore data-placement=right data-align=middle data-auto-adapt=true ng-click=dm.parse_fn_more($event,entry,task)><i class="fa fa-play-circle-o"></i></a></div><div class=task-badges></div><div class=entry-task-members><wt-avatar ng-repeat="member in dm.members_reverse track by member.uid" class="js-popbox member" wt-pop-member=argPopMemberOptions pop-member=member pop-extended-attr=task wt-stop-propagation="mousedown click" member=member size=28></wt-avatar></div></div>'),
        a.put("/tpl/directive/task_composer.html", '<div class=entry-task-composer><div class="composer-body composer-body-focus" ng-click=vm.focus_textarea($event)><div class=entry-task-labels><div ng-repeat="label in vm.new_task.labels" class="task-label {{label.name}}-label"></div></div><textarea class="form-control help-block mb_0" ng-model=vm.new_task.temp_name placeholder="{{\'task_composer.placeholder_task_name\'|translate}}" wt-enter="vm.parse_save($event, vm.new_task, vm.entry, 0)" wt-enter-not-shift></textarea><div class=composer-body-footer><div class=task-badges task=task><span ng-if="vm.new_task.expire_date !=null && vm.new_task.expire_date!=0" class="task-badge fa fa-clock-o" title="{{\'task_composer.expired\'|translate}}{{vm.new_task.expire_date|shortTimeFormat}}">{{vm.new_task.expire_date|shortTimeFormat}}</span></div><div class=entry-task-members ng-if="vm.new_task.members !=null && vm.new_task.members.length > 0"><wt-avatar ng-repeat="member in vm.new_task.members" class="js-popbox member" wt-disable-pop member=member size=30></wt-avatar></div></div></div><div class=composer-footer><button ng-click="vm.parse_save($event, vm.new_task);" class="btn btn-success btn--big confirm mr_10" data-loading-text="{{\'common.saving\'|translate}}" wt-loading-status=is_task_adding>{{\'common.btn_save\'|translate}}</button> <button ng-click=vm.parse_cancel($event,vm.new_task) class="btn btn-link btn-cancel">{{\'common.btn_cancel\'|translate}}</button> <a href=javascript:; class="js-popbox fa fa-play-circle-o action-icon" data-placement=right data-align=middle ng-click="vm.parse_show_task_menu($event, vm.entry, vm.new_task)"></a></div></div>'), a.put("/tpl/directive/team_visibility_options.html", '<ul class=popbox-step wt-stop-propagation=""><li class=popbox-step-li><div class=popbox-header><button class="cancel fa fa-remove" ng-click=js_close()></button><h3>{{\'team_visibility_options.title_name\'|translate}}</h3></div><div class=popbox-body><ul class=popbox-menu><li><div class=p_5><i class="{{visibilityArr[0].icon}} mr_5"></i> {{visibilityArr[0].desc}}<br><span class=text-muted>{{visibilityArr[0].intro}}</span></div></li><li class=divider></li><li><div class=p_5><i class="{{visibilityArr[1].icon}} mr_5"></i> {{visibilityArr[1].desc}}<br><span class=text-muted>{{visibilityArr[1].intro}}</span></div></li></ul></div></li></ul>'), a.put("/tpl/directive/wt-folder-tree.html", '<li sf-treepeat="node in children of folder_structure"><zippy><ul><li sf-treecurse>This should be replaced.</li></ul></zippy></li><li ng-show="folder_structure==0"><div class=empty-menu>{{\'wt-folder-tree.warn_empty_folder\'|translate}}</div></li>'), a.put("/tpl/directive/wt_new_editor.html", '<div class=wt-new-editor><div ng-transclude></div><div ng-show="!isFullscreen && !isMini"><div class=wne-title><input type=text class=wne-title-input placeholder="{{\'wt_new_editor.placeholder\'|translate}}" ng-model=title tabindex=1 wt-autofocus wt-autofocus-time=300><div class=title-seperator-line></div></div><div class="wne-toolbar js-popbox" role=toolbar><a class="fa fa-bold" ng-click="execEditorCmd($event, \'cmd-bold\')" ng-show=!inPreview href=javascript:;></a> <a class="fa fa-italic" ng-click="execEditorCmd($event, \'cmd-italic\')" ng-show=!inPreview href=javascript:;></a><a class="fa fa-quote-left" ng-click="execEditorCmd($event, \'cmd-blockquote\')" ng-show=!inPreview href=javascript:;></a> <a class="fa fa-list-ul" ng-click="execEditorCmd($event, \'cmd-unorder-list\')" ng-show=!inPreview href=javascript:;></a> <a class="fa fa-list-ol" ng-click="execEditorCmd($event, \'cmd-order-list\')" ng-show=!inPreview href=javascript:;></a><a class="fa fa-link" ng-click="execEditorCmd($event, \'cmd-insert-link\')" ng-show=!inPreview href=javascript:;></a> <a class="fa fa-picture-o" ng-click="execEditorCmd($event, \'cmd-insert-image\')" ng-show=!inPreview href=javascript:;></a><a class="fa fa-minus" ng-click="execEditorCmd($event, \'cmd-horizontal-line\')" ng-show=!inPreview href=javascript:;></a> <a></a> <a class="wtfont wtf-linkentity" ng-click="execEditorCmd($event, \'cmd-insert-linkentity\')" ng-show=!inPreview href=javascript:;></a> <a></a> <a class="fa fa-question-circle" href=https://worktile.com/blog/skills/markdown target=_blank></a> <a class=fa ng-class="{false:\'fa-eye\', true:\'fa-eye-slash\'}[inPreview]" ng-click=flipPreview() href=javascript:;></a> <a></a> <a class="fa fa-arrows-alt" ng-click=goFullscreen() href=javascript:;></a></div><div class=toolbar-content-container><div class=fullscreeen-btn-container><button class=fullscreen-btn ng-click=goFullscreen()><i class="fa fa-angle-double-left"></i></button></div><div class=flip-container><div class=flipper><div class="wnd-content front"><textarea class=wnd-content-textarea name="" ng-model=content tabindex=2>\n            </textarea></div><div class="wnd-content-html markdown back"><div ng-bind-html-unsafe=html class=back-background></div></div></div></div></div></div><div ng-show=isFullscreen><div class=fullscreen-editing><div class=wne-title><input type=text class=fullscreen-title-input placeholder="{{\'wt_new_editor.placeholder\'|translate}}" ng-model=title tabindex=1 wtautofocus><div class=title-seperator-line></div></div><div class=wne-toolbar><ul class="tool-btn-group js-popbox"><li ng-click=cancelFullscreen()><a>{{\'wt_new_editor.btn_back\'|translate}}</a></li></ul><ul class="tool-btn-group js-popbox"><li ng-click="execEditorCmd($event, \'cmd-h1\')"><a href=javascript:;>h1</a></li><li ng-click="execEditorCmd($event, \'cmd-h2\')"><a href=javascript:;>h2</a></li><li ng-click="execEditorCmd($event, \'cmd-h3\')"><a href=javascript:;>h3</a></li></ul><ul class="tool-btn-group js-popbox"><li ng-click="execEditorCmd($event, \'cmd-bold\')"><a class="fa fa-bold" href=javascript:;></a></li><li ng-click="execEditorCmd($event, \'cmd-italic\')"><a class="fa fa-italic" href=javascript:;></a></li><li ng-click="execEditorCmd($event, \'cmd-blockquote\')"><a class="fa fa-quote-left" href=javascript:;></a></li><li ng-click="execEditorCmd($event, \'cmd-code\')"><a href=javascript:;>{&nbsp }</a></li></ul><ul class="tool-btn-group js-popbox"><li ng-click="execEditorCmd($event, \'cmd-unorder-list\')"><a class="fa fa-list-ul" href=javascript:;></a></li><li ng-click="execEditorCmd($event, \'cmd-order-list\')"><a class="fa fa-list-ol" href=javascript:;></a></li><li ng-click="execEditorCmd($event, \'cmd-horizontal-line\')"><a class="fa fa-minus" href=javascript:;></a></li></ul><ul class="tool-btn-group js-popbox"><li ng-click="execEditorCmd($event, \'cmd-insert-link\')"><a class="fa fa-link" href=javascript:;></a></li><li ng-click="execEditorCmd($event, \'cmd-insert-image\')"><a class="fa fa-picture-o" href=javascript:;></a></li></ul><ul class="tool-btn-group js-popbox"><li><a class="fa fa-question-circle" href=https://worktile.com/blog/skills/markdown target=_blank></a></li></ul><ul class=tool-btn-group><li class=save-command><button class="btn btn-success" ng-click="execEditorCmd($event, \'cmd-save\')" data-loading-text="{{\'common.saving\'|translate}}" wt-loading-status=is_saving>{{\'common.txt_save\'|translate}}</button></li></ul></div><div class=left-right-container><div class=left-side><textarea ng-model=content tabindex=2 class=fullscreen-mk-content-textarea></textarea></div><div class=right-side><div class=html-box><div class="result markdown" ng-bind-html-unsafe=html></div></div></div></div></div></div></div>'), a.put("/tpl/directive/zippy.html", "<li ng-if=\"node.fid !== folder.fid\"><a href=javascript:; ng-click=toggleContent() ng-class=\"{'selected':data.selected_move_to_node==node}\"><i class=fa ng-class=\"{true:'fa-folder-open-o', false: 'fa-folder-o'}[isSubFolderVisible]\"></i> {{node.name}}</a><div ng-show=isSubFolderVisible ng-transclude></div></li>"), a.put("/tpl/mail/pop_convert_to_post.html", '<ul class=popbox-step ng-switch on=step><li ng-switch-default class=popbox-step-li><div class=popbox-header><button class="cancel fa fa-remove" ng-click=js_close()></button><h3>{{\'pop_convert_to_post.title_name\'|translate}}</h3></div><div class=popbox-body ng-if="selected_projects.length == 0"><div class="alert alert-warning">{{\'pop_convert_to_post.warn_project_empty\'|translate}}</div></div><div class=popbox-body ng-if=convert_success><div class="alert alert-success">{{\'pop_convert_to_post.success_info\'|translate}} <a href=/project/{{new_post.pid}}/post ng-click=locator.close()>{{\'pop_convert_to_post.project_link\'|translate}}</a></div></div><form ng-if="!convert_success && selected_projects.length > 0" name=convert_form w5c-form-validate="" class=wt-form novalidate role=form><div class="popbox-body pop-add-event"><div class=section-group><div class=row><div class=col-md-2><lable>{{\'pop_convert_to_post.label_title\'|translate}}</lable></div><div class=col-md-10><ui-select ng-change=js_change_project() ng-model=new_post.pid theme=select2 append-to-body=false><ui-select-match placeholder="{{\'pop_convert_to_post.placeholder_select_project\'|translate}}">{{$select.selected.name}}</ui-select-match><ui-select-choices group-by="\'team_name\'" repeat="project.pid as project in selected_projects|propsFilter: {name: $select.search}"><div class=text-overflow ng-bind-html=project.name|reHighlight:$select.search></div></ui-select-choices></ui-select></div></div></div><div class=section-group><div class=row><div class=col-md-2><lable>{{\'pop_convert_to_post.watch\'|translate}}</lable></div><div class=col-md-10><ul class=entity-members><li ng-repeat="member in new_post.watchers"><a href=javascript:;><wt-avatar member=member faceclass=plr_5 size=40></wt-avatar></a></li><li><a class="avatar-add js-popbox" href=javascript:; ng-click=js_to_watchers() data-placement=left><span class=o></span></a></li></ul></div></div></div><div class=section-group><button w5c-form-submit=js_convert_to_post(convert_form,new_post) data-loading-text="{{\'common.saving\'|translate}}" class="btn btn-success btn--big mr_15" wt-loading-status=new_post.is_saving>{{\'common.txt_ok\'|translate}}</button> <button ng-click=js_close() class="btn btn-link btn-cancel w_120">{{\'common.txt_cancel\'|translate}}</button></div></div></form></li><li ng-switch-when=1 class=popbox-step-li><div class=popbox-header><button class="back fa fa-chevron-left" ng-click=js_step(0)></button> <button class="cancel fa fa-remove" ng-click=js_close()></button><h3>{{\'pop_convert_to_post.watch\'|translate}}</h3></div><div class=popbox-bodywrapper wt-scroll><div class=popbox-body><input type=text ng-model=search_user_input placeholder="{{\'pop_convert_to_post.placeholder_search_member\'|translate}}" class="form-control help-block"><br><div class=part-loading ng-show=loading_members></div><ul class=popbox-menu ng-hide=loading_members><li class=member-item ng-repeat="member in members|filterMembers:search_user_input" ng-class="{\'selected\':member.watched==true}"><wt-avatar member=member tabindex=-1 ng-click=js_toggle_member(member) name=true faceclass=plr_5 atname=true size=30></wt-avatar></li></ul></div></div><div class=hr ng-show=!loading_members></div><div class="popbox-footer popbox-footer-splite" ng-show=!loading_members><a class="action-item popbox-footer-splite-left" href=javascript:; ng-click=js_add_all(0)><span>{{\'pop_convert_to_post.btn_all_watch\'|translate}}</span> </a><a class="action-item popbox-footer-splite-right" href=javascript:; ng-click=js_step(0)><span>{{\'common.txt_ok\'|translate}} </span>({{ new_post.watchers.length }}/{{ members.length }})</a></div></li></ul>'), a.put("/tpl/project/event/events.html", '<div class="margin_inner height-nonav height-nonav--notab"><div class=calendar-command-panel><div class=command-penal><div id=calendar-range-wrapper><a href=javascript:; ng-click=vm.prev()><i class="fa fa-chevron-left"></i></a><h4 id=calendar_title class=range-text></h4><a href=javascript:; ng-click=vm.next()><i class="fa fa-chevron-right"></i> </a><button id=calendar_today class="btn btn-today" ng-click=vm.today()>{{\'common.today\'|translate}}</button></div><div class="btn-group month-week-wrapper" role=group><button class="btn month-btn" ng-class="{\'active\':vm.events_filter.calendar_view==\'month\'}" ng-click="vm.set_calendar_view(\'month\')">{{\'common.month\'|translate}}</button> <button class="btn week-btn" ng-class="{\'active\':vm.events_filter.calendar_view==\'agendaWeek\'}" ng-click="vm.set_calendar_view(\'agendaWeek\')">{{\'common.week\'|translate}}</button></div></div><div class=event-panel><div id=calendar calendar=myCalendar ui-calendar=calendarConfig ng-model=calendarEventSources></div><ui-view></ui-view></div></div></div>'), a.put("/tpl/project/event/pop_delete_event.html", "<div class=popbox-header><button class=\"cancel fa fa-remove\" ng-click=js_close()></button><h3>{{'pop_delete_event.title_name'|translate}}</h3></div><div class=popbox-body ng-if=!is_repeat_event><span>{{'pop_delete_event.info'|translate}}</span></div><div class=popbox-body ng-if=is_repeat_event><span class=\"alert alert-info help-block mtb_10\">{{'pop_delete_event.info2'|translate}}</span><ul class=popbox-menu><li><label><input type=radio name=optionsRadios id=optionsRadios1 value=1 checked=checked ng-model=del.del_option> &nbsp; {{'pop_delete_event.select_current'|translate}}</label></li><li><label><input type=radio name=optionsRadios id=optionsRadios3 value=2 ng-model=del.del_option> &nbsp; {{'pop_delete_event.select_after_loop'|translate}}</label></li><li><label><input type=radio name=optionsRadios id=optionsRadios2 value=3 ng-model=del.del_option> &nbsp; {{'pop_delete_event.select_all_loop'|translate}}</label></li></ul></div><div class=popbox-footer><button ng-click=js_delete_event() data-loading-text=\"{{'common.deling'|translate}}\" wt-loading-status=is_deleting class=\"btn btn-danger\">{{'common.btn_confirm_del'|translate}}</button></div>"), a.put("/tpl/project/event/toolbar.html", "<div class=sub_toolbar><div class=\"btn-group mr_5 js-popbox\" data-placement=bottom data-align=right ng-if=global.prj_module.crud|permission:project.permission><button class=\"btn btn-success btn--fancy\" id=btn_new_event ng-click=vm.js_add_event()>{{'event_toolbar.btn_add_event'|translate}}</button> <a class=\"btn btn-success btn--fancy dropdown-toggle\" data-toggle=dropdown><i class=\"fa fa-caret-down\"></i></a><ul class=\"dropdown-menu pull-right\"><li><a href=javascript:; ng-click=vm.js_add_event()><i class=\"fa fa-fw\"></i> {{'event_toolbar.btn_add_event'|translate}}</a></li><li><a href=javascript:; ng-click=vm.js_add_task() expire-date=true pid=project.pid><i class=\"fa fa-fw\"></i> {{'event_toolbar.btn_add_task'|translate}}</a></li></ul></div><div class=btn-group><a href=javascript:; type=button class=\"btn btn--fancy dropdown-toggle\" data-toggle=dropdown><sapn class=plr_10>{{{0:'common.txt_all',1:'event_toolbar.only_event',2:'event_toolbar.only_task'}[vm.events_filter.filter_type]|translate}}</sapn><i class=\"fa fa-caret-down\"></i></a><ul class=\"dropdown-menu pull-right\"><li><a href=javascript:; ng-click=vm.set_filter_type(0)>{{'common.txt_all'|translate}}</a></li><li><a href=javascript:; ng-click=vm.set_filter_type(1)>{{'event_toolbar.only_event'|translate}}</a></li><li><a href=javascript:; ng-click=vm.set_filter_type(2)>{{'event_toolbar.only_task'|translate}}</a></li></ul></div><a class=prj_top_icon href=javascript:; ng-click=\"sidebar.change_status('members','')\" ng-class=\"{'active':sidebar.status == 'members'||sidebar.status == 'add_member'}\" tooltip-placement=bottom uib-tooltip=\"{{'common.txt_member'|translate}}\"><i class=\"wtfont wtf-userlist\"></i></a></div>"), a.put("/tpl/project/file/files.html", "<div class=\"height-nonav height-nonav--notab\" wt-scroll wt-dragfile=vm.js_files_select($files) wt-dragfile-enable=($root.global.prj_module.crud|permission:project.permission)><dl class=\"frame dragfile-hover-placeholder\"><i class=\"fa fa-upload mr_10\"></i> <span>{{'files.drag_upload_file'|translate}}</span></dl><dl class=frame wt-minheight=84 ng-show=$root.global.loading_done><dt class=frame-dt><span class=\"title title--breadcrumb\"><div class=help-inlineblock><a ng-href=/project/{{vm.pid}}/file>{{'common.txt_file'|translate}}</a></div><wt-files-breadcrumb pid={{project.pid}} folders=vm.folders></wt-files-breadcrumb></span><div class=pull-right><a href=javascript:; uib-tooltip=\"{{'files.icon_view'|translate}}\" tooltip-placement=bottom ng-click=\"vm.set_view_type('icon')\"><i class=\"fa fa-th-large\" ng-class=\"{'color-text-lightgray':vm.files_filter.view_type!='icon'}\"></i> </a>&nbsp; &nbsp; <a href=javascript:; uib-tooltip=\"{{'files.list_view'|translate}}\" tooltip-placement=bottom ng-click=\"vm.set_view_type('list')\"><i class=\"fa fa-list-ul\" ng-class=\"{'color-text-lightgray':vm.files_filter.view_type!='list'}\"></i> </a><span class=\"color-text-lightgray plr_10\">|</span><div class=\"btn-group btn-group-link\"><a href=javascript:; class=dropdown-toggle data-toggle=dropdown><span>{{ {'default':'files.sort_by_default','name':'files.sort_by_filename','create_date':'files.sort_by_create_time','update_date':'files.sort_by_update_time'}[vm.files_filter.sort]|translate }} </span>&nbsp;<i class=\"fa fa-caret-down\"></i></a><ul class=\"dropdown-menu pull-right\"><li><a href=javascript:; ng-click=\"vm.set_sort('default')\"><i class=\"{{ {true:'color_gray fa fa-check',false:'icon-xx'}[vm.files_filter.sort == 'default']}}\"></i> {{'files.sort_by_default'|translate}}</a></li><li><a href=javascript:; ng-click=\"vm.set_sort('name')\"><i class=\"{{ {true:'color_gray fa fa-check',false:'icon-xx'}[vm.files_filter.sort == 'name']}}\"></i> {{'files.sort_by_filename'|translate}}</a></li><li><a href=javascript:; ng-click=\"vm.set_sort('create_date')\"><i class=\"{{ {true:'color_gray fa fa-check',false:'icon-xx'}[vm.files_filter.sort == 'create_date']}}\"></i> {{'files.sort_by_create_time'|translate}}</a></li><li><a href=javascript:; ng-click=\"vm.set_sort('update_date')\"><i class=\"{{ {true:'color_gray fa fa-check',false:'icon-xx'}[vm.files_filter.sort == 'update_date']}}\"></i> {{'files.sort_by_update_time'|translate}}</a></li></ul></div></div></dt><dd class=frame-dd><div class=empty-panel ng-show=\"vm.files.length == 0 && vm.part_loading_done\"><i class=\"fa fa-file-o\"></i><br><span>{{'files.warn_empty_file'|translate}}</span></div><div class=file-panel ng-class=\"{'mt_21':(files_filter.view_type=='icon'),'mt_sub1':(files_filter.view_type=='list')}\"><upload-file-process pid=project.pid></upload-file-process><div class=file-list ng-if=\"vm.files.length > 0\"><wt-file-item route-change=true ng-repeat=\"file in vm.files track by file.fid\" view-type=files_filter.view_type></wt-file-item></div><div class=loading-more-panel><div class=part-loading ng-hide=vm.part_loading_done></div><button class=btn ng-show=\"vm.has_more && vm.part_loading_done\" data-loading-text=\"{{'common.loading'|translate}}\" ng-click=vm.load_more_files($event);>{{'common.btn_loading'|translate}}</button></div></div></dd></dl></div><ui-view></ui-view>"), a.put("/tpl/project/file/pop_add_folder.html", '<div class=popbox-header><button class="cancel fa fa-remove" ng-click=vm.js_close()></button><h3>{{\'pop_add_folder.title_name\'|translate}}</h3></div><form name=add_folder_form w5c-form-validate="" class=w5c-form novalidate><div class=popbox-body><div><input name=file_name wt-focus required ng-model=vm.name placeholder="{{\'pop_add_folder.folder_name\'|translate}}" class="form-control help-block" type=text></div><div class=form-group><label class=control-label>{{\'pop_add_folder.folder_color\'|translate}}</label><div><input type=hidden ng-model=vm.ext><div class=btn-group uib-dropdown is-open=vm.dropmenu_isopen><button type=button class="btn dropdown-toggle" uib-dropdown-toggle ng-repeat="folder_icon in vm.folder_icons" ng-if="folder_icon.ext == vm.ext"><img ng-src={{folder_icon.path|wtBox}} height=18> <span class=caret></span></button><ul class=dropdown-menu role=menu><li ng-repeat="folder_icon in vm.folder_icons" ng-click=vm.js_set_folder_icon(folder_icon)><a class=folder-item-li-menu href=javascript:;><img ng-src={{folder_icon.path|wtBox}}></a></li></ul></div></div></div></div><div class=popbox-footer><button w5c-form-submit="vm.js_add_folder(add_folder_form, vm.name,vm.ext)" data-loading-text="{{\'common.saving\'|translate}}" class="btn btn-success mr_15" wt-loading-status=vm.save_ing>{{\'common.btn_ok\'|translate}}</button> <button ng-click=vm.js_close(result) class="btn btn-link btn-cancel">{{\'common.btn_cancel\'|translate}}</button></div></form>'), a.put("/tpl/project/file/pop_attachment_menu.html", ""), a.put("/tpl/project/file/pop_delete_file.html", "<wt-file-delete close=vm.js_close() success-done=vm.js_success_done() file=vm.file></wt-file-delete>"), a.put("/tpl/project/file/pop_file_menu.html", '<ul class=popbox-step ng-switch on=step><li ng-switch-default class=popbox-step-li><div class=popbox-header><button class="cancel fa fa-remove" ng-click=vm.js_close()></button><h3>{{\'pop_file_menu.title_name\'|translate}}</h3></div><div class=popbox-body><ul class=popbox-menu ng-if=(global.prj_module.crud|permission:project.permission)><li><a href=javascript:; ng-click=vm.js_step(1)><i class="fa fa-eye"></i> {{\'pop_file_menu.add_watcher\'|translate}}</a></li><li><a ng-href={{vm.file|wtBoxDownload}}><i class="fa fa-download"></i> {{\'pop_file_menu.download\'|translate}}</a></li><li><a href=javascript:; ngf-multiple=false ngf-select ngf-change=vm.js_files_select($files)><i class="fa fa-refresh"></i> {{\'pop_file_menu.update\'|translate}}</a></li><li class=divider></li><li><a ng-click=vm.js_step(2) href=javascript:;><i class="fa fa-share"></i> {{\'pop_file_menu.more_move_to\'|translate}}</a></li><li><a ng-click=vm.js_step(3) href=javascript:;><i class="fa fa-trash-o"></i> {{\'pop_file_menu.more_del\'|translate}}</a></li></ul><ul class=popbox-menu ng-if=!(global.prj_module.crud|permission:project.permission)><li><a ng-click=vm.js_toggle_watch($event,global.me,vm.file) href=javascript:;><i class="fa fa-fw"></i> {{\'pop_file_menu.watcher\'|translate}} <span class="text-muted small-tip ng-scope" ng-if=global.me.watched><i class="color_gray fa fa-check"></i></span></a></li></ul></div></li><li ng-switch-when=1 class=popbox-step-li><wt-toggle-members type=watch team-id=project.team_id pid=vm.pid permission=project.permission entity=vm.file toggle-click="vm.js_toggle_watch($event, member, xEntity)" all-member-click="vm.js_watch_all($event, members, xEntity)" arg-fn-back=vm.js_step(0) arg-fn-close=vm.js_close()></li><li ng-switch-when=2 class=popbox-step-li><div class=popbox-header><button class="back fa fa-chevron-left" ng-click=vm.js_step(0)></button> <button class="cancel fa fa-remove" ng-click=vm.js_close()></button><h3>{{\'pop_file_menu.move_to\'|translate}}</h3></div><div class=popbox-bodywrapper wt-scroll><div class=popbox-body><ul class="popbox-menu checkable checkable--popboxmenu"><wt-folder-tree></wt-folder-tree></ul></div></div><div class="popbox-footer top-divider"><button ng-click=vm.js_move() class="btn btn-success mt_10">{{\'pop_file_menu.move_to_folder\'|translate}}</button></div></li><li ng-switch-when=3 class=popbox-step-li><wt-file-delete file=vm.file close=vm.js_close() back=vm.js_step(0) success-done=vm.js_del_file_success_done(vm.file)></wt-file-delete></li></ul>'), a.put("/tpl/project/file/pop_folder_menu.html", '<ul class=popbox-step ng-switch on=step><li ng-switch-default class=popbox-step-li><div class=popbox-header><button class="cancel fa fa-remove" ng-click=vm.js_close()></button><h3>{{\'pop_folder_menu.title_name\'|translate}}</h3></div><div class=popbox-body><ul class=popbox-menu><li><a href=javascript:; ng-click=vm.js_step(1)><i class="fa fa-fw"></i> {{\'pop_folder_menu.more_rename\'|translate}}</a></li><li><a href=javascript:; ng-click=vm.js_step(3)><i class="fa fa-fw"></i> {{\'pop_folder_menu.more_set_color\'|translate}}</a></li><li class=divider></li><li><a ng-href="{{$root.global.config.box_url()}}folder/{{folder.fid}}/zip/download?pid={{folder.pid}}&token={{$root.global.me.sid}}" target=_blank><i class="fa fa-folder-o"></i> {{\'pop_folder_menu.zip_download\'|translate}}</a></li><li class=divider></li><li><a href=javascript:; ng-click=vm.js_step(4)><i class="fa fa-share-square-o"></i> {{\'pop_folder_menu.more_move_to\'|translate}}</a></li><li><a ng-click=vm.js_step(2) href=javascript:;><i class="fa fa-trash-o"></i> {{\'pop_folder_menu.more_del\'|translate}}</a></li></ul></div></li><li ng-switch-when=1 class=popbox-step-li><div class=popbox-header><button class="back fa fa-chevron-left" ng-click=vm.js_step(0)></button> <button class="cancel fa fa-remove" ng-click=vm.js_close()></button><h3>{{\'pop_folder_menu.title_rename_folder\'|translate}}</h3></div><form name=edit_folder_form w5c-form-validate="" class=wt-form novalidate><div class=popbox-body><input name=folder_name type=text class="form-control help-block" ng-model=folder_name placeholder="{{\'pop_folder_menu.form_folder_name\'|translate}}" wt-focus required></div><div class=popbox-footer><button w5c-form-submit="vm.js_change_name(edit_folder_form, folder_name)" data-loading-text="{{\'common.saving\'|translate}}" class="btn btn-success mr_15" wt-loading-status=is_save_ing>{{\'common.btn_ok\'|translate}}</button> <button ng-click=vm.js_close(result) class="btn btn-link btn-cancel">{{\'common.btn_cancel\'|translate}}</button></div></form></li><li ng-switch-when=2 class=popbox-step-li><div class=popbox-header><button class="back fa fa-chevron-left" ng-click=vm.js_step(0)></button> <button class="cancel fa fa-remove" ng-click=vm.js_close()></button><h3>{{\'pop_folder_menu.title_del_folder\'|translate}}</h3></div><div class=popbox-body><span translate=pop_folder_menu.message_del_folder></span></div><div class=popbox-footer><button ng-click=vm.js_del_folder() class="btn btn-danger">{{\'common.btn_confirm_del\'|translate}}</button></div></li><li ng-switch-when=3 class=popbox-step-li><div class=popbox-header><button class="back fa fa-chevron-left" ng-click=vm.js_step(0)></button> <button class="cancel fa fa-remove" ng-click=vm.js_close()></button><h3>{{\'pop_folder_menu.title_set_color\'|translate}}</h3></div><div class=popbox-bodywrapper><div class=popbox-body><div class=part-loading ng-show=prj_files_loading></div><ul class=popbox-menu><li ng-repeat="folder_icon in folder_icons" ng-click=vm.js_set_folder_icon(folder_icon)><a class=folder-item-li-menu href=javascript:;><img ng-src={{folder_icon.path|wtBox}}> <span class="text-muted small-tip" ng-if="folder_icon.ext == folder.ext"><i class="color_gray fa fa-check"></i></span></a></li></ul></div></div></li><li ng-switch-when=4 class=popbox-step-li><div class=popbox-header><button class="back fa fa-chevron-left" ng-click=vm.js_step(0)></button> <button class="cancel fa fa-remove" ng-click=vm.js_close()></button><h3>{{\'pop_folder_menu.title_move_folder\'|translate}}</h3></div><div class=popbox-bodywrapper wt-scroll><div class=popbox-body><ul class="popbox-menu checkable checkable--popboxmenu"><wt-folder-tree></wt-folder-tree></ul></div></div><div class="popbox-footer top-divider"><button ng-click=vm.js_move() class="btn btn-success mt_10">{{\'pop_folder_menu.move_to_folter\'|translate}}</button></div></li></ul>'), a.put("/tpl/project/file/pop_move_file.html", '<ul class=popbox-step><li class=popbox-step-li><div class=popbox-header><button class="cancel fa fa-remove" ng-click=js_close()></button><h3>{{\'pop_move_file.title_name\'|translate}}</h3></div><div class=part-loading ng-show=folder_structure_loading></div><div class=popbox-bodywrapper wt-scroll><div class=popbox-body><ul class=popbox-menu><wt-folder-tree></wt-folder-tree></ul></div></div><div class="popbox-footer top-divider"><button class="btn btn-success mt_10 mb_sub10 w_120" ng-click=move()>{{\'common.btn_ok\'|translate}}</button></div></li></ul>'), a.put("/tpl/project/file/pop_show_versions.html", '<div class=popbox-header><button class="cancel fa fa-remove" ng-click=js_close()></button><h3>{{\'pop_show_versions.title_name\'|translate}}</h3></div><div class="popbox-bodywrapper w_300" wt-scroll><div class=popbox-body><div class=part-loading ng-hide=file_version_loaded></div><ul class=popbox-menu><li ng-repeat="version in versions" class=file-version-item><span class=file-item-version>#{{version.version}}</span> <span class=file-item-owner>{{version.owner.display_name}}</span> <span class=file-item-date><span class=color-text-grayer>{{\'pop_show_versions.create_by_time\'|translate}} </span>{{version.create_date|fromNow}} </span><a class="file-item-li-menu file-picfile ellipsis" ng-href={{version|wtBoxDownload}} target=_blank><img ng-src={{version.icon|wtBox}} alt="{{ version.name }}"> <span class=file-name>{{version.name}}</span></a><hr ng-if=!$last class="mt_10 mb_0"></li></ul></div></div>'), a.put("/tpl/project/file/pop_watch_file.html", ""), a.put("/tpl/project/file/toolbar.html", "<div class=sub_toolbar><div class=\"btn-group js-popbox\" ng-if=$root.global.prj_module.crud|permission:project.permission><button class=\"btn btn-success btn--fancy\" ngf-multiple=true ngf-select ngf-change=vm.file_select($files)>{{'file_toolbar.btn_add_file'|translate}}</button> <button type=button class=\"btn btn-success dropdown-toggle mr_5 btn--fancy\" data-toggle=dropdown><i class=\"fa fa-caret-down\"></i></button><ul class=\"dropdown-menu pull-right\"><li><a href=javascript:; ng-click=vm.js_trigger_upload($event)><i class=\"fa fa-fw\"></i> {{'file_toolbar.btn_local_upload'|translate}}</a></li><li><a href=javascript:; ng-click=vm.show_add_folder_pop($event)><i class=\"fa fa-fw\"></i> {{'file_toolbar.btn_add_folder'|translate}}</a></li></ul></div><div class=btn-group><a href=javascript:; class=\"btn btn--fancy dropdown-toggle\" data-toggle=dropdown><span class=plr_10>{{{0:'common.txt_all',1:'file_toolbar.my_upload',2:'file_toolbar.my_watch'}[vm.files_filter.filter_type]|translate }} </span><i class=\"fa fa-caret-down\"></i></a><ul class=\"dropdown-menu pull-right\"><li><a href=javascript:; ng-click=vm.set_filter_type(0)><i class=\"{{ {true:'color_gray fa fa-check',false:'icon-xx'}[vm.files_filter.filter_type == 0]}}\"></i> {{'common.txt_all'|translate}}</a></li><li><a href=javascript:; ng-click=vm.set_filter_type(1)><i class=\"{{ {true:'color_gray fa fa-check',false:'icon-xx'}[vm.files_filter.filter_type == 1]}}\"></i> {{'file_toolbar.my_upload'|translate}}</a></li><li><a href=javascript:; ng-click=vm.set_filter_type(2)><i class=\"{{ {true:'color_gray fa fa-check',false:'icon-xx'}[vm.files_filter.filter_type == 2]}}\"></i> {{'file_toolbar.my_watch'|translate}}</a></li></ul></div><a class=prj_top_icon href=javascript:; ng-click=\"sidebar.change_status('members','')\" ng-class=\"{'active':sidebar.status == 'members'||sidebar.status == 'add_member'}\" tooltip-placement=bottom uib-tooltip=\"{{'common.txt_member'|translate}}\"><i class=\"wtfont wtf-userlist\"></i></a></div>"), a.put("/tpl/project/graph/graphs.html", "<div class=\"graphs-panel-wrap height-nonav height-nonav--notab\" wt-scroll><div ng-if=!vm.part_loading_done class=part-loading></div><div class=graphs-panel ng-if=vm.part_loading_done><a class=link-for-pro href=\"//worktile.com/upgrade?utm_source=free_project_graphs\" target=_blank><i class=\"fa fa-info-circle\"></i> {{'graphs.link_try_pro'|translate}}</a><ul class=graphs-overview><li><wt-graph-gauge size=90 number=vm.overview_project_schedule color=#5DAC81 bgcolor=#FFB11B></wt-graph-gauge>{{'graphs.project_schedule'|translate}}</li><li><wt-graph-gauge size=90 number=vm.overview_delay_rate color=#DA4F4A bgcolor=#E8ECF4></wt-graph-gauge>{{'graphs.project_delay'|translate}}</li><li><div class=count title=\"{{'graphs.uncompleted_task'|translate}}:&#10;{{vm.overview.uncompleted}}\"><span class=\"fs-55 color-label-yellow\">{{vm.overview.uncompleted}}</span><br>{{'graphs.uncompleted_task'|translate}}</div></li><li><div class=count title=\"{{'graphs.completed_task'|translate}}:&#10;{{vm.overview_completed}}\"><span class=\"fs-55 color-label-green\">{{vm.overview_completed}}</span><br>{{'graphs.completed_task'|translate}}</div></li><li><div class=count title=\"{{'graphs.expired_task'|translate}}:&#10;{{vm.overview.expired}}\"><span class=\"fs-55 color-text-act-red\">{{vm.overview.expired}}</span><br>{{'graphs.expired_task'|translate}}</div></li><li><div class=count title=\"{{'graphs.total_task'|translate}}:&#10;{{vm.overview_all}}\"><span class=fs-55>{{vm.overview_all}}</span><br>{{'graphs.total_task'|translate}}</div></li></ul><ul class=graphs-chart><li><dl class=chart><dt>{{'graphs.task_stage'|translate}}</dt><dd><wt-graph-column ng-if=vm.part_loading_done config=vm.columnConfig></wt-graph-column></dd></dl></li><li><dl class=chart><dt>{{'graphs.task_labels'|translate}}</dt><dd><wt-graph-pie ng-if=vm.part_loading_done name=\"{{'graphs.task_number'|translate}}\" height=250 data=vm.labels></wt-graph-pie></dd></dl></li><li><dl class=chart><dt>{{'graphs.task_pulse'|translate}} <span class=\"pull-right text-nowrap mt_sub10\"><ul class=list-inline><li><a title=\"{{'graphs.prevweek'|translate}}\" href=javascript:; ng-click=vm.to_pulse_prev_week() class=help-inline>&nbsp;<i class=\"fa fa-angle-left\"></i>&nbsp;</a> <span class=help-inline>{{vm.pulse_graph_date}}</span> <a title=\"{{'graphs.nextweek'|translate}}\" href=javascript:; ng-disabled=vm.disable_pulse_next ng-click=vm.to_pulse_next_week() class=help-inline>&nbsp;<i class=\"fa fa-angle-right\"></i>&nbsp;</a></li></ul></span></dt><dd><div id=pulse_weekly_graph></div></dd></dl></li><li><dl class=chart><dt>{{'graphs.project_members'|translate}}</dt><dd class=\"max-h290 wt-scroll wt-scroll-y\"><wt-graph-bar ng-if=vm.part_loading_done config=vm.barConfig></wt-graph-bar></dd></dl></li></ul><dl class=graphs-today translate=graphs.today_overview translate-values={completed_tasks_count:vm.today.completed_tasks_count,created_tasks_count:vm.today.created_tasks_count,created_events_count:vm.today.created_events_count,created_posts_count:vm.today.created_posts_count,created_pages_count:vm.today.created_pages_count,created_files_count:vm.today.created_files_count}></dl></div></div>"),
        a.put("/tpl/project/graph/toolbar.html", "<div class=sub_toolbar><a class=prj_top_icon href=javascript:; ng-click=\"sidebar.change_status('members','')\" ng-class=\"{'active':sidebar.status == 'members'||sidebar.status == 'add_member'}\" tooltip-placement=bottom uib-tooltip=\"{{'common.txt_member'|translate}}\"><i class=\"wtfont wtf-userlist\"></i></a></div>"), a.put("/tpl/project/page/add_or_edit_page.html", '<dl class=frame wt-minheight=84 ng-if=!(global.prj_module.crud|permission:project.permission)><dd class=frame-dd><div class=error-panel><i class="fa fa-file-text-o"></i><br><span>{{\'add_or_edit_page.warn\'|translate}}</span><br><a class="btn btn-danger" href=/project/{{project.pid}}/page>{{\'add_or_edit_page.show_list\'|translate}}</a></div></dd></dl><div class="container-fluid height-nonav height-nonav--notab page-edit" wt-scroll=\'{"advanced":{"autoScrollOnFocus":false}}\' ng-if=global.prj_module.crud|permission:project.permission><dl class=frame wt-minheight=84><div class=page-edit-container ng-if=vm.page wt-minheight=420 wt-ctrl-enter=vm.js_save_page(page_form,true)><form name=page_form class=wt-form w5c-form-validate="" novalidate=""><wt-new-editor ng-class="{\'wt-new-ediror--haslock\':!vm.is_add&&vm.page.locked==1&&(vm.page.locked_by.uid!=global.me.uid)}" edit-title=vm.page.name edit-content=vm.page.content pid=vm.pid entity-id=vm.page.page_id entity-type=vm.page message=vm.page.message parent-id=vm.page.parent_id is-notify=vm.page.is_notify><wt-autosave ng-if=vm.autosave_init_done key=vm.autosave_key content=vm.page.content control=.wnd-content-textarea></wt-autosave></wt-new-editor><div class=edit-footer ng-if=vm.page><div class="alert alert-danger wt-alert" ng-if="!vm.is_add&&vm.page.locked==1&&(vm.page.locked_by.uid!=global.me.uid)"><i class="fa fa-info-circle"></i> {{\'add_or_edit_page.warn_who_lock\'|translate:{who:vm.page.locked_by.display_name} }}</div><div class=edit-footer-form><div class=edit-footer-left ng-if=!vm.page.has_children><select class="form-control select--fancy" ng-model=vm.page.parent_id name=page_parent_id ng-options="rootpage.page_id as rootpage.name for rootpage in vm.root_pages"><option value="">{{\'add_or_edit_page.form_select_parent_page\'|translate}}</option></select></div><div ng-class="{\'edit-footer-right\':!vm.page.has_children}"><input type=text name=page_message ng-model=vm.page.message class="form-control help-block input--fancy" placeholder={{vm.page.placeholder}}></div></div><div class="page-edit-action mt_10"><button class="btn btn-success mr_15" w5c-form-submit=vm.js_save_page(page_form,true) data-loading-text="{{\'common.saving\'|translate}}" wt-loading-status=vm.is_saving ng-disabled="vm.page.locked==1 && (vm.page.locked_by.uid != global.me.uid)">{{\'common.txt_save\'|translate}}</button> <button class="btn btn-default mr_15" w5c-form-submit=vm.js_save_page(page_form,false) data-loading-text="{{\'common.saving\'|translate}}" ng-hide=vm.is_saving ng-disabled="vm.page.locked==1 && (vm.page.locked_by.uid != global.me.uid)">{{\'add_or_edit_page.btn_save_and_quit\'|translate}}</button> <button class="btn btn-cancel btn-link" ng-show=global.loading_done ng-hide=vm.is_saving ng-click=vm.js_cancel_edit()>{{\'common.btn_cancel\'|translate}}</button></div></div></form></div></dl></div>'), a.put("/tpl/project/page/add_toolbar.html", "<div class=sub_toolbar><button ng-show=page.detail.page_id wt-page-delete=deletePageSuccess() pid={{project.pid}} page-id={{page.detail.page_id}} class=\"btn btn--fancy js-popbox\" data-placement=bottom data-align=right>{{'common.txt_del'|translate}}</button></div>"), a.put("/tpl/project/page/pages.html", "<div class=\"height-nonav height-nonav--notab\" wt-scroll><dl class=\"frame frame--pages\" wt-minheight=84 ng-show=global.loading_done><dt class=frame-dt><span class=\"title title--breadcrumb\"><div class=help-inlineblock><a ng-href=/project/{{vm.pid}}/page>{{'common.txt_page'|translate}}</a></div></span><div class=pull-right><a href=javascript:; uib-tooltip=\"{{'pages.show_level'|translate}}\" tooltip-placement=bottom ng-click=\"vm.set_view_type('tree')\"><i class=\"fa fa-indent\" ng-class=\"{'color-text-lightgray':vm.pages_filter.view_type!='tree'}\"></i> </a>&nbsp; &nbsp; <a href=javascript:; uib-tooltip=\"{{'pages.show_flatten'|translate}}\" tooltip-placement=bottom ng-click=\"vm.set_view_type('list')\"><i class=\"fa fa-list\" ng-class=\"{'color-text-lightgray':vm.pages_filter.view_type!='list'}\"></i> </a><span class=\"color-text-lightgray plr_10\">|</span><div class=\"btn-group btn-group-link\"><a href=javascript:; class=dropdown-toggle data-toggle=dropdown><span>{{ {'default':'pages.sort_by_name','create_date':'pages.sort_by_create','update_date':'pages.sort_by_update'}[vm.pages_filter.sort]|translate }} </span>&nbsp;<i class=\"fa fa-caret-down\"></i></a><ul class=\"dropdown-menu pull-right\"><li><a href=javascript:; ng-click=\"vm.set_sort('default')\"><i class=\"{{ {true:'color_gray fa fa-check',false:'icon-xx'}[vm.pages_filter.sort == 'default']}}\"></i> {{'pages.sort_by_name'|translate}}</a></li><li><a href=javascript:; ng-click=\"vm.set_sort('create_date')\"><i class=\"{{ {true:'color_gray fa fa-check',false:'icon-xx'}[vm.pages_filter.sort == 'create_date']}}\"></i> {{'pages.sort_by_create'|translate}}</a></li><li><a href=javascript:; ng-click=\"vm.set_sort('update_date')\"><i class=\"{{ {true:'color_gray fa fa-check',false:'icon-xx'}[vm.pages_filter.sort == 'update_date']}}\"></i> {{'pages.sort_by_update'|translate}}</a></li></ul></div></div></dt><dd class=frame-dd><div class=part-loading ng-hide=vm.part_loading_done></div><div class=empty-panel ng-if=\"vm.part_loading_done && (vm.pages.length == 0||(vm.pages|filter:{is_hide:'!true'}).length == 0)\"><i class=\"fa fa-file-text-o\"></i><br><span>{{'pages.warn'|translate}}</span></div><div><div class=\"page-list mt_sub1\" ng-if=\"vm.pages.length > 0\"><wt-page-item ng-repeat=\"page in vm.pages\" change-route=true view-type=vm.pages_filter.view_type></wt-page-item></div></div></dd><ui-view></ui-view></dl></div>"), a.put("/tpl/project/page/pop_page_action.html", '<ul class=popbox-step ng-switch on=step><li ng-switch-default class=popbox-step-li><div class=popbox-header><button class="cancel fa fa-remove" ng-click=vm.js_close()></button><h3>{{\'pop_page_action.title\'|translate}}</h3></div><div class=popbox-body><ul class=popbox-menu ng-if=(global.prj_module.crud|permission:project.permission)><div ng-if="vm.page_type==\'worktile\'"><li ng-show=vm.show_sub_menu><a href=/project/{{vm.pid}}/page/add/{{page.page_id}}><i class="fa fa-file-text-o"></i> {{\'pop_page_action.add_children\'|translate}}</a></li><li><a ng-click=vm.js_step(1) href=javascript:;><i class="fa fa-eye"></i> {{\'pop_page_action.add_watcher\'|translate}}</a></li><li class=divider></li><li><a ng-href={{vm.edit_url}}><i class="fa fa-pencil"></i> {{\'pop_page_action.edit\'|translate}}</a></li><li><a ng-click=vm.js_step(2) href=javascript:;><i class="fa fa-trash-o"></i> {{\'pop_page_action.more_del\'|translate}}</a></li></div><div ng-if="vm.page_type==\'shimo\'"><li><a ng-href={{vm.edit_url}} target=_blank ng-click=vm.js_close()><i class="fa fa-pencil"></i> {{\'pop_page_action.edit\'|translate}}</a></li><li><a ng-click=vm.js_step(3) href=javascript:;><i class="fa fa-trash-o"></i> {{\'pop_page_action.more_del\'|translate}}</a></li></div></ul><ul class=popbox-menu ng-if=!(global.prj_module.crud|permission:project.permission)><li><a ng-click=vm.js_toggle_watch($event,global.me,page) href=javascript:;><i class="fa fa-fw"></i> {{\'pop_page_action.watcher\'|translate}} <span class="text-muted small-tip ng-scope" ng-if=global.me.watched><i class="color_gray fa fa-check"></i></span></a></li></ul></div></li><li ng-switch-when=1 class=popbox-step-li><wt-toggle-members type=watch team-id=project.team_id pid=vm.pid permission=project.permission entity=page toggle-click="vm.js_toggle_watch($event, member, xEntity)" all-member-click="vm.js_watch_all($event, members, xEntity)" arg-fn-back=vm.js_step(0) arg-fn-close=vm.js_close()></li><li ng-switch-when=2 class=popbox-step-li><div class=popbox-header><button class="back fa fa-chevron-left" ng-click=vm.js_step(0)></button> <button class="cancel fa fa-remove" ng-click=vm.js_close()></button><h3>{{\'common.txt_del\'|translate}}</h3></div><div class=popbox-body><span translate=pop_page_action.message_del_page></span></div><div class=popbox-footer><button ng-click=vm.js_delete_page(page) class="btn btn-danger" data-loading-text="{{\'common.deling\'|translate}}" wt-loading-status=is_deleting>{{\'common.btn_confirm_del\'|translate}}</button></div></li><li ng-switch-when=3 class=popbox-step-li><div class=popbox-header><button class="back fa fa-chevron-left" ng-click=vm.js_step(0)></button> <button class="cancel fa fa-remove" ng-click=vm.js_close()></button><h3>{{\'common.txt_btn\'|translate}}</h3></div><div class=popbox-body><p class="alert alert-warning mb_0" translate=pop_page_action.info_warning></p></div><div class=popbox-footer><button ng-click=vm.js_delete_page(page) class="btn btn-danger" data-loading-text="{{\'common.deling\'|translate}}" wt-loading-status=is_deleting>{{\'common.btn_confirm_del\'|translate}}</button></div></li></ul>'), a.put("/tpl/project/page/pop_parents_page.html", '<div class=popbox-header><button class="cancel fa fa-remove" ng-click=vm.js_close()></button><h3>{{\'pop_parents_page.choose_parent_page\'|translate}}</h3></div><div class=popbox-bodywrapper wt-scroll><div class=popbox-body><ul class=popbox-menu><li ng-repeat="page in vm.pages"><a href="/project/{{ vm.pid }}/page/add/{{page.page_id}}"><i class="fa fa-file-text-o"></i> {{page.name}}</a></li></ul><div class="mt_20 pb_20 fs_12 color-text-gray" ng-if="vm.pages.length == 0">{{\'pop_parents_page.warn\'|translate}}</div></div></div>'), a.put("/tpl/project/page/toolbar.html", '<div class=sub_toolbar><div class="btn-group js-popbox mr_5" data-placement=bottom data-align=right ng-if=global.prj_module.crud|permission:project.permission><button class="btn btn-success btn--fancy" wt-go-to="/project/{{ project.pid }}/page/add">{{\'page_toolbar.btn_add_page\'|translate}}</button> <a class="btn btn-success btn--fancy dropdown-toggle" data-toggle=dropdown><i class="fa fa-caret-down"></i></a><ul class="dropdown-menu pull-right"><li><a href=javascript:; wt-go-to="/project/{{ project.pid }}/page/add"><i class="fa fa-fw"></i> {{\'page_toolbar.btn_add_page\'|translate}}</a></li><li><a href=javascript:; ng-click=vm.show_add_subpage_pop($event)><i class="fa fa-fw"></i> {{\'page_toolbar.btn_add_children\'|translate}}</a></li><li class=divider></li><li><a href=javascript:; ng-click=vm.js_add_shimo_modal($event)><i class="fa fa-fw"></i> {{\'page_toolbar.btn_add_shimo\'|translate}}</a></li></ul></div><div class=btn-group><a href=javascript:; type=button class="btn btn--fancy dropdown-toggle" data-toggle=dropdown><sapn class=plr_10>{{{0:\'common.txt_all\',1:\'page_toolbar.my_create\',2:\'page_toolbar.my_watch\'}[vm.pages_filter.filter_type]|translate}}</sapn><i class="fa fa-caret-down"></i></a><ul class="dropdown-menu pull-right"><li><a href=javascript:; ng-click=vm.set_filter_type(0)>{{\'common.txt_all\'|translate}}</a></li><li><a href=javascript:; ng-click=vm.set_filter_type(1)>{{\'page_toolbar.my_create\'|translate}}</a></li><li><a href=javascript:; ng-click=vm.set_filter_type(2)>{{\'page_toolbar.my_watch\'|translate}}</a></li></ul></div><a class=prj_top_icon href=javascript:; ng-click="sidebar.change_status(\'members\',\'\')" ng-class="{\'active\':sidebar.status == \'members\'||sidebar.status == \'add_member\'}" tooltip-placement=bottom uib-tooltip="{{\'common.txt_member\'|translate}}"><i class="wtfont wtf-userlist"></i></a></div>'), a.put("/tpl/project/page/version_diff.html", '<div class="height-nonav height-nonav--notab" wt-scroll><dl class=frame wt-minheight=84 ng-show=global.loading_done><dt class=frame-dt><span class="title title--breadcrumb"><div class=help-inlineblock><a href=/project/{{vm.pid}}/page>{{\'common.txt_page\'|translate}}</a></div><div class=help-inlineblock ng-repeat="bc in vm.breadcrumbs"><i class="fa fa-angle-right ml-10 mr_10"></i><div class=help-inlineblock ng-bind-html=bc ng-click=vm.child_event_handler($event)>{{bc}}</div></div></span><button class="btn ml_15 pull-right mb_sub10 mt_sub13" ng-click=vm.show_diff() ng-disabled="vm.checked_versions.length<2" ng-hide=vm.show_compare_result>{{\'version_diff.btn_diff\'|translate}}</button></dt><dd class=frame-dd><div class="page-panel mt_sub1"><div class=page-list ng-hide=vm.show_compare_result><div class="wt-row page-version-row" ng-repeat="version in vm.page_vers" page-id={{version.page_id}} ng-click=vm.toggle_sel_version($event,version) ng-class="{true:\'not-allowed\',false:\'clickable\'}[vm.checked_versions.length==2 && !version.selected]"><div class="column checkbox-version"><div class="checkbox ml_5"><label class=w-100p><input type=checkbox class=mr_10 ng-click=vm.preventDefault($event)> #{{version.version}}</label></div></div><div class="column message"><span>{{version.message}}</span></div><div class="column owner"><wt-avatar member=version.owner name=true size=30></wt-avatar></div><div class="column date"><span class=date>{{version.create_date|fromNow}}&nbsp;</span></div></div></div><div class=page-list ng-show=vm.show_compare_result><div id=diff_output_div ng-bind-html=diff_result_html></div></div></div></dd></dl></div>'), a.put("/tpl/project/pop_project_logo.html", '<div class="popbox-body pop-project-logo"><div class="title mb_10">{{\'pop_project_logo.title_color\'|translate}}</div><ul class=prj-colors><li ng-repeat="prj_color in vm.prj_colors"><span ng-click=vm.js_color_select(prj_color) class=prj_color ng-style={backgroundColor:prj_color}></span></li></ul><div class="hr mt_15 mb_15"></div><div class="title mb_10">{{\'pop_project_logo.title_icon\'|translate}}</div><ul class=prj-icons><li ng-repeat="prj_icon in vm.prj_icons" class=text-center><span ng-click=vm.js_icon_select(prj_icon) class=prj_icon ng-style={color:vm.project.bg}><i class={{prj_icon}}></i></span></li></ul></div>'), a.put("/tpl/project/pop_project_menu.html", '<ul class=popbox-step ng-switch on=vm.step><li ng-switch-default class=popbox-step-li><div class=popbox-body><ul class=popbox-menu><li ng-if="vm.project.is_star!=-1&&!vm.project.archived"><a href=javascript:; ng-click=vm.js_toggle_star()><i class="fa fa-fw" ng-class="{1:\'fa-star color-label-yellow\',0:\'fa-star-o color-text-graylight\'}[vm.project.is_star]"></i> {{{1:\'pop_project_menu.cancel_star\',0:\'pop_project_menu.set_star\'}[vm.project.is_star]|translate}}</a></li><li ng-if=$root.global.prj_module.setting|permission:vm.project.permission><a href=javascript:; ng-click=vm.js_project_setting(vm.project)><i class="fa fa-fw fa-cogs"></i> {{\'pop_project_menu.project_setting\'|translate}}</a></li><li ng-if="vm.project.curr_role == 4"><a href=javascript:; ng-click=vm.js_toggle_favorite()><i class="fa fa-fw" ng-class="{1:\'fa-heart color-text-act-red\',0:\'fa-heart-o color-text-graylight\'}[vm.project.is_favorite]"></i> {{{1:\'pop_project_menu.cancel_fav\',0:\'pop_project_menu.set_fav\'}[vm.project.is_favorite]|translate}}</a></li><li class=divider ng-if="(vm.project.curr_role==4)||($root.global.prj_module.setting|permission:vm.project.permission)||(vm.project.is_star!=-1&&!vm.project.archived)"></li><li ng-if=$root.global.prj_module.setting|permission:vm.project.permission><a href=javascript:; ng-click=vm.js_add_project_member(vm.project)><i class="fa fa-fw fa-user-plus"></i> {{\'pop_project_menu.add_member\'|translate}}</a></li><li ng-if=$root.global.prj_module.crud|permission:vm.project.permission><a href=javascript:; ng-click=vm.js_project_labels(vm.project)><i class="fa fa-fw fa-tags"></i> {{\'pop_project_menu.set_labels\'|translate}}</a></li><li ng-if=$root.global.prj_module.setting|permission:vm.project.permission><a href=javascript:; ng-click=vm.js_project_timingtasks(vm.project)><i class="fa fa-fw fa-repeat"></i> {{\'pop_project_menu.timingtask\'|translate}}</a></li><li class=divider ng-if=($root.global.prj_module.crud|permission:vm.project.permission)||($root.global.prj_module.setting|permission:vm.project.permission)></li><li><a href=javascript:; ng-click=vm.js_project_copy(vm.project)><i class="fa fa-fw"></i> {{\'pop_project_menu.copy_project\'|translate}}</a></li><li ng-if="vm.project.permission==vm.prj_permission_admin||vm.project.permission==vm.prj_permission_member||vm.project.permission==vm.prj_permission_guest"><a href=javascript:; ng-click=vm.js_project_quit(vm.project)><i class="fa fa-fw"></i> {{\'pop_project_menu.quit_project\'|translate}}</a></li><li ng-if="vm.project.curr_role==1&&vm.project.archived==1"><a href=javascript:; ng-click=vm.js_project_active(vm.project)><i class="fa fa-fw"></i> {{\'pop_project_menu.title_unarchive\'|translate}}</a></li><li><a href=javascript:; ng-click=vm.js_project_export(vm.project)><i class="fa fa-fw"></i> {{\'pop_project_menu.export_data\'|translate}}</a></li><li class=divider></li><li><a ng-href=/project/{{vm.project.pid}}/archive><i class="fa fa-fw"></i> {{\'pop_project_menu.archive_tasks\'|translate}}</a></li><li><a ng-href=/project/{{vm.project.pid}}/activity><i class="fa fa-fw"></i> {{\'pop_project_menu.activity\'|translate}}</a></li><li ng-if=$root.global.prj_module.crud|permission:vm.project.permission><a href=/project/{{vm.project.pid}}/trash><i class="fa fa-fw"></i> {{\'pop_project_menu.trash\'|translate}}</a></li></ul></div></li></ul>'), a.put("/tpl/project/post/add_or_edit_post.html", '<dl class=add_edit_panel><div class=post-edit-container><form name=post_form class=wt-form w5c-form-validate="" novalidate=""><div class=add-post-edit-inner wt-ctrl-enter=vm.js_save_post(post_form)><wt-new-editor edit-title=vm.edit_post.name edit-content=vm.edit_post.content pid=project.pid entity-type=vm.post entity-id=vm.edit_post.post_id watchers=vm.edit_post.watchers></wt-new-editor></div><div class=post_watch_bar><div class=post_watch_bar_addmember><h4>{{\'add_or_edit_post.btn_add_watcher\'|translate}}</h4><ul class=avatars><li ng-repeat="member in vm.edit_post.watchers"><a href=javascript:; class="fa fa-times-circle" ng-click="vm.js_remove_watcher($event, member, xEntity)"></a><wt-avatar member=member class=js-popbox size=42 wt-pop-member=pop_watcher_options pop-member=member></wt-avatar></li><li class=clickable><a class="avatar-add js-popbox" data-placement=top data-align=right type=watch team-id=project.team_id pid=vm.pid permission=project.permission entity=vm.edit_post wt-pop-toggle-members="vm.js_toggle_watch($event, member, xEntity)" all-member-click="vm.js_watch_all($event, members, xEntity)"><span class=o></span></a></li></ul></div><button class="btn btn-success mr_20" w5c-form-submit=vm.js_save_post(post_form) data-loading-text="{{\'common.saving\'|translate}}" wt-loading-status=vm.is_saving>{{\'common.btn_create\'|translate}}</button> <button class="btn btn-cancel btn-link" ng-click=vm.js_cancel_edit_post()>{{\'common.btn_cancel\'|translate}}</button></div></form></div></dl>'), a.put("/tpl/project/post/pop_delete_post.html", "<div class=popbox-header><button class=\"cancel fa fa-remove\" ng-click=js_close()></button><h3>{{'pop_delete_post.title'|translate}}</h3></div><div class=popbox-body><span translate=pop_delete_post.message_del_post></span></div><div class=popbox-footer><button ng-click=js_del_post() class=\"btn btn-danger\">{{'common.btn_confirm_del'|translate}}</button></div>"), a.put("/tpl/project/post/pop_post_action.html", '<ul class=popbox-step ng-switch on=vm.step><li ng-switch-default class=popbox-step-li><div class=popbox-header><button class="cancel fa fa-remove" ng-click=vm.js_close()></button><h3>{{\'pop_post_action.title\'|translate}}</h3></div><div class=popbox-body><ul class=popbox-menu><li ng-if="(global.prj_module.crud|permission:project.permission)&&vm.edit_post.is_top==0"><a ng-click=vm.js_toggle_top(vm.edit_post)><i class="wtfont wtf-top"></i> {{\'pop_post_action.top\'|translate}}</a></li><li ng-if="(global.prj_module.crud|permission:project.permission)&&vm.edit_post.is_top==1"><a ng-click=vm.js_toggle_top(vm.edit_post)><i class="wtfont wtf-untop"></i> {{\'pop_post_action.untop\'|translate}}</a></li><li ng-if=(global.prj_module.crud|permission:project.permission)><a ng-click=vm.js_step(1)><i class="fa fa-fw fa-eye"></i> {{\'pop_post_action.add_watcher\'|translate}}</a></li><li ng-if=(global.prj_module.crud|permission:project.permission)><a ng-click=vm.js_step(2)><i class="fa fa-fw fa-trash-o"></i> {{\'pop_post_action.more_del\'|translate}}</a></li><li ng-if=!(global.prj_module.crud|permission:project.permission)><a ng-click=vm.js_toggle_watch($event,global.me,vm.edit_post) href=javascript:;><i class="fa fa-fw"></i> {{\'pop_post_action.watcher\'|translate}} <span class="text-muted small-tip ng-scope" ng-if=global.me.watched><i class="color_gray fa fa-check"></i></span></a></li></ul></div></li><li ng-switch-when=1 class=popbox-step-li><wt-toggle-members type=watch team-id=project.team_id pid=vm.edit_post.pid permission=project.permission entity=vm.edit_post toggle-click="vm.js_toggle_watch($event, member, xEntity)" all-member-click="vm.js_watch_all($event, members, xEntity)" arg-fn-back=vm.js_step(0) arg-fn-close=vm.js_close()></li><li ng-switch-when=2 class=popbox-step-li><div class=popbox-header><button class="back fa fa-chevron-left" ng-click=vm.js_step(0)></button> <button class="cancel fa fa-remove" ng-click=vm.js_close()></button><h3>{{\'common.txt_del\'|translate}}</h3></div><div class=popbox-body><span translate=pop_post_action.message_del_post></span></div><div class=popbox-footer><button ng-click=vm.js_delete_post(vm.edit_post) class="btn btn-danger" data-loading-text="{{\'common.deling\'|translate}}" wt-loading-status=vm.is_deleting>{{\'common.btn_confirm_del\'|translate}}</button></div></li></ul>'), a.put("/tpl/project/post/posts.html", "<div class=\"height-nonav height-nonav--notab\" wt-scroll><dl class=\"frame frame--posts-add\" ng-if=vm.show_add_post><dd class=frame-dd><ng-include src=\"'/tpl/project/post/add_or_edit_post.html'\"></ng-include></dd></dl><dl class=\"frame frame--posts\" wt-minheight=84 ng-if=global.loading_done><dt class=frame-dt><span class=\"title title--breadcrumb\"><div class=help-inlineblock><a ng-href=/project/{{vm.pid}}/post>{{'common.txt_post'|translate}}</a></div></span><div class=pull-right><div class=\"btn-group btn-group-link\"><a href=javascript:; class=dropdown-toggle data-toggle=dropdown><span>{{ {'create_date':'posts.sort_by_create','last_reply_date':'posts.sort_by_reply'}[vm.posts_filter.sort]|translate }} </span>&nbsp;<i class=\"fa fa-caret-down\"></i></a><ul class=\"dropdown-menu pull-right\"><li><a href=javascript:; ng-click=\"vm.set_sort('create_date')\"><i class=\"{{ {true:'color_gray fa fa-check',false:'icon-xx'}[vm.posts_filter.sort == 'create_date']}}\"></i> {{'posts.sort_by_create'|translate}}</a></li><li><a href=javascript:; ng-click=\"vm.set_sort('last_reply_date')\"><i class=\"{{ {true:'color_gray fa fa-check',false:'icon-xx'}[vm.posts_filter.sort == 'last_reply_date']}}\"></i> {{'posts.sort_by_reply'|translate}}</a></li></ul></div></div></dt><dd class=frame-dd><div class=empty-panel ng-if=\"vm.part_loading_done && vm.posts != null && vm.posts.length == 0 && !show_add_post_empty\"><i class=\"fa fa-list-alt\"></i><br><span>{{'posts.warn'|translate}}</span></div><div><div class=\"post-list mt_sub1\"><wt-post-item ng-repeat=\"post in vm.posts\" ng-click=\"show_post_entity(post.pid, post.post_id, false)\"></wt-post-item></div><div class=loading-more-panel><div class=part-loading ng-hide=vm.part_loading_done></div><button class=btn ng-if=\"vm.has_more && vm.part_loading_done\" ng-click=js_load_more($event);>{{'posts.load_more'|translate}}</button></div></div></dd></dl></div><ui-view></ui-view>"), a.put("/tpl/project/post/toolbar.html", "<div class=sub_toolbar><button class=\"btn btn-success btn--fancy mr_5\" ng-click=vm.show_add_post() type=button ng-if=global.prj_module.crud|permission:project.permission>{{'post_toolbar.btn_add_post'|translate}}</button><div class=btn-group><a class=\"btn btn--fancy dropdown-toggle\" data-toggle=dropdown href=javascript:;><span class=plr_10>{{{0:'common.txt_all',1:'post_toolbar.my_create',2:'post_toolbar.my_watch'}[vm.posts_filter.filter_type]|translate}} </span><i class=\"fa fa-caret-down\"></i></a><ul class=\"dropdown-menu pull-right\"><li><a href=javascript:; ng-click=vm.set_filter_type(0)><i class=\"{{ {true:'color_gray fa fa-check',false:'icon-xx'}[vm.posts_filter.filter_type == 0]}}\"></i> {{'common.txt_all'|translate}}</a></li><li><a href=javascript:; ng-click=vm.set_filter_type(1)><i class=\"{{ {true:'color_gray fa fa-check',false:'icon-xx'}[vm.posts_filter.filter_type == 1]}}\"></i> {{'post_toolbar.my_create'|translate}}</a></li><li><a href=javascript:; ng-click=vm.set_filter_type(2)><i class=\"{{ {true:'color_gray fa fa-check',false:'icon-xx'}[vm.posts_filter.filter_type == 2]}}\"></i> {{'post_toolbar.my_watch'|translate}}</a></li></ul></div><a class=prj_top_icon href=javascript:; ng-click=\"sidebar.change_status('members','')\" ng-class=\"{'active':sidebar.status == 'members'||sidebar.status == 'add_member'}\" tooltip-placement=bottom uib-tooltip=\"{{'common.txt_member'|translate}}\"><i class=\"wtfont wtf-userlist\"></i></a></div>"), a.put("/tpl/project/prj_not_found.html", "<div class=layout_content><div class=\"layout_content_main no_sidebar\"><dl class=frame wt-minheight=28><dt><span class=title>{{'prj_not_found.title_name'|translate}}</span></dt><dd><div class=error-panel><i class=\"fa fa-inbox\"></i><br><span>{{'prj_not_found.warn_not_exist'|translate}}</span></div></dd></dl></div></div>"), a.put("/tpl/project/project.html", '<div class=layout_content><div class=layout_content_main><div class=mod-navbar><div class=main ng-controller=projectInfoCtrl><div class=title><h3><a href=javascript:; class="js-popbox prj_icon" ng-class="{\'prj_icon--nosetting\':!(global.prj_module.setting|permission:project.permission)}" data-placement=bottom data-align=left tooltip-placement=bottom uib-tooltip="{{ {true:\'project.set_logo\'}[!!(global.prj_module.setting|permission:project.permission)]|translate}}" ng-click=pm.js_pop_set_project_logo($event)><i class={{project.pic}} ng-style={color:project.bg}></i> </a><a href=javascript:; class="js-popbox prj_name" data-placement=bottom data-align=left ng-click=pm.js_pop_project_menu($event) ng-bind=project.name></a></h3><a href=javascript:; class="fa fa-cog color-text-graylight js-popbox" ng-click=pm.js_pop_project_menu($event) tooltip-placement=bottom data-align=left uib-tooltip="{{\'project.set\'|translate}}"></a></div><div class=main_toolbar><ui-view ng-show=$root.global.loading_done name=toolbar></ui-view></div><div class=center-menu><ul><li ng-repeat="nav in project.navigations track by nav.id" ng-hide="(pm.showNavMore&&$root.global.project_iconmenu!=nav.name)"><a ng-href=/project/{{project.pid}}/{{nav.name}} ng-class="{\'active\':$root.global.project_iconmenu==nav.name}" title="{{nav.title + nav.shortcuts}}" ng-bind=nav.title></a></li><li ng-if=pm.showNavMore><a href=javascript:; title="{{\'common.more_more\'|translate}}" class=dropdown-toggle data-toggle=dropdown><i class="fa fa-caret-down"></i></a><ul class=dropdown-menu><li ng-repeat="nav in project.navigations track by nav.id"><a ng-href=/project/{{project.pid}}/{{nav.name}}><i class=fa ng-class="{true:\'fa-check\',false:\'icon-xx\'}[$root.global.project_iconmenu==nav.name]"></i> {{nav.title}}</a></li></ul></li></ul></div></div></div><ui-view></ui-view></div><div class="layout_right_sidebar layout_right_sidebar--project"><ng-include src="\'/tpl/project/sidebar/sidebar.html\'"></ng-include></div></div><div class=stamp-project ng-cloak ng-if=project.archived></div>'), a.put("/tpl/project/sidebar/filter_tasks.html", "<div class=sidebar_main ng-controller=sidebarFilterTasksCtrl><div class=sidebar_header><a href=javascript:; ng-click=vm.close_sidebar()><button class=\"cancel wtfont wtf-close\"></button><h3>{{'filter_tasks.title'|translate}}</h3></a></div><div class=sidebar_body_scroll wt-scroll ng-class=\"{'sidebar_body_scroll--clearfilter':task_filters.turn_on}\"><div class=sidebar_body><form class=sidebar_search_form role=search><i class=\"fa fa-search\"></i> <input type=text class=form-control wt-autofocus=\"\" ng-model=task_filter_text ng-change=vm.js_filter_text() placeholder=\"{{'filter_tasks.placeholder_task_name'|translate}}\"> <a ng-if=task_filter_text class=clear title=\"{{'filter_tasks.btn_clear_find'|translate}}\" href=javascript:; ng-click=vm.clear_text()><i class=\"fa fa-times-circle-o\"></i></a></form><dl class=prj_sidebar_dl ng-if=\"labels.length > 0\"><dt>{{'filter_tasks.find_by_label'|translate}}</dt><dd><ul class=\"checkable checkable-taskfilter\"><li class=label-item ng-repeat=\"label in labels track by label.name\" ng-class=\"{'selected':vm.label_is_filter(label.name)}\"><a href=javascript:; class=js-toggle-label-filter ng-click=vm.js_filter_label(label)><span class=\"task-label {{label.name}}-label ml_15\"></span> <span class=\"label-name help-inline ml-10\">{{label.desc}}</span></a></li></ul></dd></dl><dl class=prj_sidebar_dl><dt>{{'filter_tasks.find_by_member'|translate}}</dt><dd><ul class=\"avatars checkable checkable-taskfilter\"><li ng-repeat=\"member in members track by member.uid\" ng-click=vm.js_filter_member(member) ng-class=\"{'checkable-taskfilter-userban':member.uid == -1,'selected':vm.member_is_filter(member.uid)}\"><wt-avatar member=member class=ml-10 size=30 ng-if=\"member.uid != -1\" wt-disable-pop name=[member.display_name,18]|cutstr nameclass=ml-10></wt-avatar><a class=\"avatar avatar-ban ml-10\" href=javascript:; ng-if=\"member.uid == -1\"><i class=\"wtfont wtf-ban\"></i> <span class=\"avatar-name ml-10\">{{'filter_tasks.unassign_task'|translate}}</span></a></li></ul></dd></dl><dl class=prj_sidebar_dl><dt>{{'filter_tasks.find_by_datetime'|translate}}</dt><dd><ul class=\"checkable checkable-taskfilter\"><li ng-class=\"{'selected':task_filters.date == 'today'}\"><a ng-click=\"vm.js_filter_date('today')\"><span class=ml_53>{{'common.today'|translate}}</span></a></li><li ng-class=\"{'selected':task_filters.date == 'tomorrow'}\"><a ng-click=\"vm.js_filter_date('tomorrow')\"><span class=ml_53>{{'common.tomorrow'|translate}}</span></a></li><li ng-class=\"{'selected':task_filters.date == 'week'}\"><a ng-click=\"vm.js_filter_date('week')\"><span class=ml_53>{{'common.thisweek'|translate}}</span></a></li><li ng-class=\"{'selected':task_filters.date == 'nextweek'}\"><a ng-click=\"vm.js_filter_date('nextweek')\"><span class=ml_53>{{'common.nextweek'|translate}}</span></a></li><li ng-class=\"{'selected':task_filters.date == 'month'}\"><a ng-click=\"vm.js_filter_date('month')\"><span class=ml_53>{{'common.thismonth'|translate}}</span></a></li><li ng-class=\"{'selected':task_filters.date == 'due'}\"><a ng-click=\"vm.js_filter_date('due')\"><span class=ml_53>{{'filter_tasks.find_expired'|translate}}</span></a></li><li ng-class=\"{'selected':task_filters.date == 'noset'}\"><a ng-click=\"vm.js_filter_date('noset')\"><span class=ml_53>{{'filter_tasks.find_unset_expire'|translate}}</span></a></li></ul></dd></dl><dl class=prj_sidebar_dl><dt>{{'filter_tasks.more_filter'|translate}}</dt><dd><ul class=\"checkable checkable-taskfilter\"><li ng-class=\"{'selected':task_filters.hide_completed}\"><a class=text-center ng-click=vm.toggle_hide_completed()><span>{{'filter_tasks.hide_completed'|translate}}</span></a></li></ul></dd></dl></div></div><div class=sidebar_footer_clearfilter ng-if=task_filters.turn_on><button class=\"btn btn-block\" ng-click=vm.clear_task_filters()>{{'filter_tasks.clearfilter'|translate}}</button></div></div>"), a.put("/tpl/project/sidebar/project_members.html", '<div class=sidebar_member ng-controller=sidebarMembersCtrl><div class=sidebar_header><a href=javascript:; ng-click=vm.close_sidebar()><button class="cancel wtfont wtf-close"></button><h3>{{\'project_members.title\'|translate}}</h3></a></div><div class=member_list wt-height=80 wt-scroll ng-show=project.members><ul class=avatars><li ng-if="$root.global.loading_done && ($root.global.prj_module.setting|permission:project.permission)"><div class="js-popbox member text-center" ng-click=vm.to_add_member() uib-tooltip="{{\'project_members.btn_add_member\'|translate}}" tooltip-placement=bottom><a class=avatar-add href=javascript:;><span class=o></span></a></div></li><li ng-repeat="member in project.members|filter:vm.isMemberFilter()"><div class="js-popbox member" data-placement=left ng-class="{true: \'member-pendding\'}[member.status==3]" title="{{{3:\'project_members.status_quit\'}[member.status]|translate}}"><wt-avatar member=member wt-member-control project=project status=true class=text-center namebr=true role=member.role drag="{true: vm.draggable_options,false:\'\'}[member.status==1 && member.role != 3 && project.curr_role!=3]"></wt-avatar></div></li></ul><div ng-if="((project.members|filter:vm.isGuestFilter()).length > 0)"><h4>{{\'common.txt_visitor\'|translate}}</h4><ul class=avatars><li ng-repeat="member in project.members|filter:vm.isGuestFilter()"><div class="js-popbox member" data-placement=left><wt-avatar member=member status=true wt-member-control project=project class=text-center namebr=true></wt-avatar></div></li></ul></div><div ng-if="((project.members|filter:{status:2}).length > 0)"><h4>{{\'project_members.status_pending\'|translate}}</h4><ul class=avatars><li ng-repeat="member in project.members|filter:vm.isStatusPendingFilter()"><div class="js-popbox member member-pendding" title="{{\'project_members.status_pending_title\'|translate}}" data-placement=left><wt-avatar member=member status=true wt-member-control project=project class=text-center namebr=true role=member.role></wt-avatar></div></li></ul></div></div><div class=sidebar_members_footer ng-if=project.members><i class="fa fa-user"></i> <strong>{{(project.members| filter:vm.isOnlineFilter()).length}}</strong>/{{project.members.length}}</div></div>'),
        a.put("/tpl/project/sidebar/setting_label.html", "<wt-set-project-labels type=project project=project closefn=sidebar.close() isheader=false islabelcheck=false></wt-set-project-labels>"), a.put("/tpl/project/sidebar/sidebar.html", "<dl class=\"prj_sidebar h_100p\" wt-sidebar-toggle=sidebar.status arg-hide-sidebar=\"sidebar.status=='filter_tasks'&&$root.global.project_iconmenu!='task'\" ng-controller=prjSidebarCtrl><dd ng-switch on=vm.step><div ng-switch-default></div><div ng-switch-when=1><ng-include src=\"'/tpl/project/sidebar/project_members.html'\"></ng-include></div><div ng-switch-when=2 type=setting><ng-include src=\"'/tpl/project/sidebar/project_setting_menu.html'\"></ng-include></div><div ng-switch-when=3 type=add_member><ng-include src=\"'/tpl/project/sidebar/add_member.html'\"></ng-include></div><div ng-switch-when=4 type=filter_tasks><ng-include src=\"'/tpl/project/sidebar/filter_tasks.html'\"></ng-include></div><div ng-switch-when=5 type=setting_base_info><ng-include src=\"'/tpl/project/sidebar/project_setting_baseinfo.html'\"></ng-include></div><div ng-switch-when=6 type=setting_preferences><ng-include src=\"'/tpl/project/sidebar/project_setting_preferences.html'\"></ng-include></div><div ng-switch-when=7 type=setting_webhook><ng-include src=\"'/tpl/project/sidebar/project_setting_webhook.html'\"></ng-include></div><div ng-switch-when=8 type=setting_notify><ng-include src=\"'/tpl/project/sidebar/project_setting_notify.html'\"></ng-include></div><div ng-switch-when=9 type=setting_archive><ng-include src=\"'/tpl/project/sidebar/project_setting_archive.html'\"></ng-include></div><div ng-switch-when=10 type=setting_activate><ng-include src=\"'/tpl/project/sidebar/project_setting_activate.html'\"></ng-include></div><div ng-switch-when=13 type=setting_transfer><ng-include src=\"'/tpl/project/sidebar/project_setting_transfer.html'\"></ng-include></div><div ng-switch-when=21 type=create_by_mail><ng-include src=\"'/tpl/project/sidebar/create_by_mail.html'\"></ng-include></div><div ng-switch-when=22 type=project_copy><ng-include src=\"'/tpl/project/sidebar/project_copy.html'\"></ng-include></div><div ng-switch-when=23 type=setting_timing_tasks><ng-include src=\"'/tpl/project/sidebar/project_setting_timing_tasks.html'\"></ng-include></div><div ng-switch-when=24 type=setting_label><ng-include src=\"'/tpl/project/sidebar/setting_label.html'\"></ng-include></div></dd></dl>"), a.put("/tpl/project/task/pop_add_entry.html", '<div class=popbox-header><button class="cancel fa fa-remove" ng-click=vm.js_close()></button><h3>{{\'pop_add_entry.title\'|translate}}</h3></div><form name=add_entry_form w5c-form-validate="" class=wt-form novalidate><div class="popbox-body w_300"><input name=entry_name ng-model=name placeholder="{{\'pop_add_entry.placeholder\'|translate}}" type=text class="form-control w_260" required wt-autofocus=""></div><div class=popbox-footer><button w5c-form-submit="vm.js_add_entry(add_entry_form, name)" data-loading-text="{{\'common.saving\'|translate}}" class="btn btn-success btn--big mr_15" wt-loading-status=is_save_ing>{{\'common.btn_save\'|translate}}</button> <button ng-click=vm.js_close(result) class="btn btn-link btn-cancel">{{\'common.btn_cancel\'|translate}}</button></div></form>'), a.put("/tpl/project/task/pop_add_task_entry.html", '<ul class=popbox-step ng-switch on=step><li ng-switch-default class=popbox-step-li><div class=popbox-header><button class="cancel fa fa-remove" ng-click=js_close()></button><h3>{{\'pop_add_task_entry.title\'|translate}}</h3></div><form name=add_task_form w5c-form-validate="" class=wt-form novalidate role=form><div class="popbox-body w_300 pb_0" ng-if="entries.length > 0"><div class=form-group><div><textarea class="js-task-name form-control ng-pristine ng-valid" placeholder="{{\'pop_add_task_entry.placeholder\'|translate}}" required name=task_name ng-model=new_task.name wt-enter="js_add_task(add_task_form, new_task)" wt-focus>\n              </textarea></div></div><div class=form-group><label>{{\'pop_add_task_entry.form_entry\'|translate}}</label><div><select class=form-control name=entry_select ng-model=new_task.entry required="" ng-options="entry as entry.name for entry in entries"></select></div></div><div class=form-group><label>{{\'pop_add_task_entry.form_expire\'|translate}}</label><div><input type=text class=form-control required="" ng-model=new_task.expire_date readonly=readonly ng-click=js_step(1)></div></div><div class=form-group ng-show="add_task_form.$errors.length > 0"><div><div class="alert alert-danger"><i class="fa fa-times-circle"></i> {{add_task_form.$errors[0]}}</div></div></div><div class=form-group><div><button w5c-form-submit="js_add_task(add_task_form, new_task)" data-loading-text="{{\'common.saving\'|translate}}" class="btn btn-success mr_15" wt-loading-status=is_saving_task>{{\'common.btn_save\'|translate}}</button> <button ng-click=js_close(result) class="btn btn-link btn-cancel">{{\'common.btn_cancel\'|translate}}</button></div></div></div><div class="popbox-body w_300 part-loading" ng-if=loading_entries></div><div class="popbox-body w_300 pb_0" ng-if="entries.length == 0"><div ng-show="entries.length == 0"><p class="alert alert-info">{{\'pop_add_task_entry.warn\'|translate}}</p></div></div></form></li><li ng-switch-when=1 class=popbox-step-li><div class=popbox-header><button class="back fa fa-chevron-left" ng-click=js_step(0)></button> <button class="cancel fa fa-remove" ng-click=js_close()></button><h3>{{\'pop_add_task_entry.title_expired\'|translate}}</h3></div><div class=popbox-body><ul class="list-inline text-center m-0"><li><a href=javascript:; ng-click="js_set_expire_date(\'today\')">{{\'common.today\'|translate}}</a></li><li>|</li><li><a href=javascript:; ng-click="js_set_expire_date(\'tomorrow\')">{{\'common.tomorrow\'|translate}}</a></li><li>|</li><li><a href=javascript:; ng-click="js_set_expire_date(\'week\')">{{\'common.thisweek\'|translate}}</a></li><li>|</li><li><a href=javascript:; ng-click="js_set_expire_date(\'next_week\')">{{\'common.nextweek\'|translate}}</a></li><li>|</li><li><a href=javascript:; ng-click="js_set_expire_date(\'month\')">{{\'common.thismonth\'|translate}}</a></li></ul><div wt-datepicker=new_task.expire_date select=js_step(0)></div></div></li></ul>'), a.put("/tpl/project/task/pop_assign_label.html", '<ul class=popbox-step ng-switch on=step><li ng-switch-default class=popbox-step-li><div class=popbox-header><button class="cancel fa fa-remove" ng-click=js_close()></button><h3>{{\'pop_assign_label.title\'|translate}}</h3></div><div class=popbox-body><ul class="popbox-menu checkable checkable--popboxmenu"><li class=label-item ng-repeat="label in labels" ng-class="{\'selected\':label.assigned}"><a href=javascript:; class=js-toggle-label-filter ng-click=js_toggle_label(label)><span class="task-label {{label.name}}-label text-center"></span> <span class="label-name pl-10" title={{label.desc}}>{{[label.desc,30 ]| cutstr}}</span></a></li><li ng-show="labels==0"><div class=empty-menu>{{\'pop_assign_label.warn\'|translate}}</div></li><li class=divider></li><li><a ng-click=js_step(1)><i class="fa fa-tags"></i> {{\'pop_assign_label.btn_set_label\'|translate}}</a></li></ul></div></li><li ng-switch-when=1 class=popbox-step-li><div class=popbox-header><button class="back fa fa-chevron-left" ng-click=js_step(2)></button> <button class="cancel fa fa-remove" ng-click=js_close()></button><h3>{{\'pop_assign_label.btn_set_label\'|translate}}</h3></div><wt-set-project-labels project=project success=set_labels_success()></wt-set-project-labels></li></ul>'), a.put("/tpl/project/task/pop_batch_assignee.html", '<ul class=popbox-step><li class=popbox-step-li><div class=popbox-header><button class="cancel fa fa-remove" ng-click=js_close()></button><h3>{{\'pop_batch_assignee.title\'|translate}}</h3></div><div class=popbox-bodywrapper wt-scroll><div class=popbox-body><input type=text autofocus ng-model=search_user_input placeholder="{{\'pop_batch_assignee.placeholder\'|translate}}" class="form-control help-block"><br><ul class="popbox-menu checkable checkable--popboxmenu"><li class=member-item ng-repeat="member in members|filterMembers:search_user_input" ng-class="{\'selected\':member.assigned_all==1}"><wt-avatar member=member tabindex=-1 ng-click=js_toggle_member(member) name=true atname=true faceclass=plr_5 size=30></wt-avatar></li></ul></div></div></li></ul>'), a.put("/tpl/project/task/pop_copy_task.html", '<div class=popbox-header><button class="cancel fa fa-remove" ng-click=js_close()></button><h3>{{\'pop_copy_task.title\'|translate}}</h3></div><form class=w5c-form role=form name=formPopCopyTask novalidate="" w5c-form-validate=""><div class="popbox-body w_300"><div class=form-group><div><textarea class="js-task-name form-control ng-pristine ng-valid" placeholder="{{\'pop_copy_task.placeholder\'|translate}}" required ng-model=new_task.name wt-enter="js_copy_task(add_task_form, new_task)"></textarea></div></div><div ng-if=new_task.show_keeps>{{\'pop_copy_task.form_title\'|translate}}<br></div><div class=checkbox ng-if="new_task.label_count > 0"><label><input type=checkbox ng-model=new_task.keep_labels> {{\'common.txt_label\'|translate}} ({{new_task.label_count}})</label></div><div class=checkbox ng-if="new_task.member_count > 0"><label><input type=checkbox ng-model=new_task.keep_members> {{\'common.txt_member\'|translate}} ({{new_task.member_count}})</label></div><div class=checkbox ng-if="new_task.watcher_count > 0"><label><input type=checkbox ng-model=new_task.keep_watchers> {{\'common.txt_watch\'|translate}}({{new_task.watcher_count}})</label></div><div class=checkbox ng-if="new_task.todo_count > 0"><label><input type=checkbox ng-model=new_task.keep_todos> {{\'common.txt_todo\'|translate}} ({{new_task.todo_count}})</label></div><div class=checkbox ng-if="new_task.file_count > 0"><label><input type=checkbox ng-model=new_task.keep_attachments> {{\'common.txt_attach\'|translate}} ({{new_task.file_count}})</label></div><div class=checkbox ng-if="new_task.comment_count > 0"><label><input type=checkbox ng-model=new_task.keep_comments> {{\'common.txt_comment\'|translate}} ({{new_task.comment_count}})</label></div></div><div class=popbox-footer><button w5c-form-submit=js_copy_task(new_task) data-loading-text="{{\'common.saving\'|translate}}" class="btn btn-success mr_15" wt-loading-status=is_copying>{{\'common.btn_save\'|translate}}</button> <button ng-click=js_close() class="btn btn-link btn-cancel">{{\'common.btn_cancel\'|translate}}</button></div></form>'), a.put("/tpl/project/task/pop_delete_task.html", "<div class=popbox-header><button class=\"cancel fa fa-remove\" ng-click=js_close()></button><h3>{{'pop_delete_task.title'|translate}}</h3></div><div class=popbox-body><span translate=pop_delete_task.desc></span></div><div class=popbox-footer><button ng-click=js_delete_task() class=\"btn btn-danger\">{{'common.btn_confirm_del'|translate}}</button></div>"), a.put("/tpl/project/task/pop_entry_menu.html", "<ul class=popbox-step ng-switch on=step><li ng-switch-default class=popbox-step-li><div class=popbox-header><button class=\"cancel fa fa-remove\" ng-click=vm.js_close()></button><h3>{{'pop_entry_menu.title'|translate}}</h3></div><div class=popbox-body><ul class=popbox-menu ng-if=(global.prj_module.crud|permission:project.permission)><li><a href=javascript:; ng-click=vm.js_top_open_add_task_composer($event)>{{'pop_entry_menu.add_task'|translate}}</a></li><li><a ng-click=vm.js_show_batch_action()>{{'pop_entry_menu.batch_mode'|translate}}</a></li><li><a ng-click=vm.js_archived_all()>{{'pop_entry_menu.archive_complete_task'|translate}}</a></li><li class=divider></li><li><a href=javascript:; ng-click=vm.js_step(1)>{{'pop_entry_menu.rename_entry'|translate}}</a></li><li><a ng-click=vm.js_watcher_entry_toggle() href=javascript:;>{{'common.txt_subscribe'|translate}} <span class=\"text-muted small-tip ng-scope\" ng-if=entry.watched><i class=\"color_gray fa fa-eye\"></i></span></a></li><li class=divider></li><li><a href=javascript:; ng-click=vm.js_step(14)>{{'pop_entry_menu.entry_sort'|translate}}</a></li><li class=divider></li><li><a href=javascript:; ng-click=vm.js_step(11)>{{'pop_entry_menu.more_action'|translate}}</a></li></ul><ul class=popbox-menu ng-if=!(global.prj_module.crud|permission:project.permission)><li><a ng-click=vm.js_watcher_entry_toggle() href=javascript:;>{{'common.txt_watch'|translate}} <span class=\"text-muted small-tip ng-scope\" ng-if=entry.watched><i class=\"color_gray fa fa-check\"></i></span></a></li></ul></div></li><li ng-switch-when=1 class=popbox-step-li><div class=popbox-header><button class=\"back fa fa-chevron-left\" ng-click=vm.js_step(0)></button> <button class=\"cancel fa fa-remove\" ng-click=vm.js_close()></button><h3>{{'pop_entry_menu.title_rename'|translate}}</h3></div><form name=edit_entry_form w5c-form-validate=\"\" class=wt-form novalidate><div class=popbox-body><input name=entry_name type=text ng-model=entry_name placeholder=\"{{'pop_entry_menu.placeholder_name'|translate}}\" class=\"w_260 form-control\" required wt-focus></div><div class=popbox-footer><button w5c-form-submit=\"vm.js_change_name(edit_entry_form, entry_name)\" data-loading-text=\"{{'common.saving'|translate}}\" class=\"btn btn-success mr_15\" wt-loading-status=is_save_ing>{{'common.btn_save'|translate}}</button> <button ng-click=vm.js_close(result) class=\"btn btn-link btn-cancel\">{{'common.btn_cancel'|translate}}</button></div></form></li><li ng-switch-when=4 class=popbox-step-li><div class=popbox-header><button class=\"back fa fa-chevron-left\" ng-click=vm.js_step(11)></button> <button class=\"cancel fa fa-remove\" ng-click=vm.js_close()></button><h3>{{'pop_entry_menu.title_archive_entry'|translate}}</h3></div><div class=popbox-body translate=pop_entry_menu.warn_archive_entry></div><div class=popbox-footer><button ng-click=vm.js_archive_entry() class=\"btn btn-success\">{{'pop_entry_menu.btn_confirm_archive'|translate}}</button></div></li><li ng-switch-when=5 class=popbox-step-li><div class=popbox-header><button class=\"back fa fa-chevron-left\" ng-click=vm.js_step(11)></button> <button class=\"cancel fa fa-remove\" ng-click=vm.js_close()></button><h3>{{'pop_entry_menu.title_del_entry'|translate}}</h3></div><div class=popbox-body translate=pop_entry_menu.message_del_entry></div><div class=popbox-footer><button ng-click=vm.js_del_entry() class=\"btn btn-danger\">{{'common.btn_confirm_del'|translate}}</button></div></li><li ng-switch-when=11 class=popbox-step-li><div class=popbox-header><button class=\"back fa fa-chevron-left\" ng-click=vm.js_step(0)></button> <button class=\"cancel fa fa-remove\" ng-click=vm.js_close()></button><h3>{{'pop_entry_menu.title_more_action'|translate}}</h3></div><div class=popbox-body><ul class=popbox-menu><li><a href=javascript:; ng-click=vm.js_to_move_entry()>{{'pop_entry_menu.more_to_other_project'|translate}}</a></li><li><a href=javascript:; ng-click=vm.js_to_copy_entry()>{{'pop_entry_menu.copy_entry'|translate}}</a></li><li class=divider></li><li><a href=javascript:; ng-click=vm.js_step(4)>{{'pop_entry_menu.archive_entry'|translate}}</a></li><li><a ng-click=vm.js_step(5) href=javascript:;>{{'pop_entry_menu.del_entry'|translate}}</a></li></ul></div></li><li ng-switch-when=13 class=\"popbox-step-li w_355\"><div class=popbox-header><button class=\"back fa fa-chevron-left\" ng-click=vm.js_step(11)></button> <button class=\"cancel fa fa-remove\" ng-click=vm.js_close()></button><h3>{{'pop_entry_menu.title_move_other_project'|translate}}</h3></div><div class=popbox-body><div class=form-group><label class=form-label>{{'pop_entry_menu.form_select_project'|translate}}</label><ui-select ng-model=entry_move.dest_project theme=select2 append-to-body=false><ui-select-match placeholder=\"{{'pop_entry_menu.placeholder_select_project'|translate}}\">{{$select.selected.name}}</ui-select-match><ui-select-choices group-by=\"'team_name'\" repeat=\"project in entry_move_to_prjs|propsFilter:{name: $select.search}\"><div class=text-overflow ng-bind-html=project.name|reHighlight:$select.search></div></ui-select-choices></ui-select></div><div class=form-group><button class=\"btn btn-success mr_15\" ng-click=vm.js_move_entry()>{{'common.btn_move'|translate}}</button> <button class=\"btn btn-link\" ng-click=vm.js_move_entry_cancel()>{{'common.btn_cancel'|translate}}</button></div></div></li><li ng-switch-when=12 class=popbox-step-li><div class=popbox-header><button class=\"back fa fa-chevron-left\" ng-click=vm.js_step(11)></button> <button class=\"cancel fa fa-remove\" ng-click=vm.js_close()></button><h3>{{'pop_entry_menu.title_copy_enty'|translate}}</h3></div><div class=\"popbox-body w_300\"><input name=entry_name wt-enter=vm.js_copy_entry(new_entry) ng-model=new_entry.name placeholder=\"{{'pop_entry_menu.form_entry_name'|translate}}\" type=text class=\"form-control w_260\" required autofocus></div><div class=popbox-footer><a class=\"btn btn-success mr_15\" ng-click=vm.js_copy_entry(new_entry) data-loading-text=\"{{'pop_entry_menu.creating'|translate}}\" wt-loading-status=is_copying>{{'common.btn_ok'|translate}} </a><a class=\"btn btn-link btn-cancel\" ng-click=vm.js_step(11)>{{'common.btn_cancel'|translate}}</a></div></li><li ng-switch-when=14 class=popbox-step-li><div class=popbox-header><button class=\"back fa fa-chevron-left\" ng-click=vm.js_step(0)></button> <button class=\"cancel fa fa-remove\" ng-click=vm.js_close()></button><h3>{{'pop_entry_menu.title_entry_sort'|translate}}</h3></div><div class=popbox-body><ul class=\"popbox-menu checkable checkable--popboxmenu\"><li ng-class=\"{'selected selected--right':entry.vmSortType==null||entry.vmSortType=='pos'}\"><a href=javascript:; ng-click=\"vm.js_set_sort('pos','asc')\">{{'pop_entry_menu.entry_sort_default'|translate}}</a></li><li ng-class=\"{'selected selected--right':entry.vmSortType=='create_date'}\"><a href=javascript:; ng-click=\"vm.js_set_sort('create_date','desc')\">{{'pop_entry_menu.entry_sort_create'|translate}}</a></li><li ng-class=\"{'selected selected--right':entry.vmSortType=='update_date'}\"><a href=javascript:; ng-click=\"vm.js_set_sort('update_date','desc')\">{{'pop_entry_menu.entry_sort_update'|translate}}</a></li><li ng-class=\"{'selected selected--right':entry.vmSortType=='completed_date'}\"><a href=javascript:; ng-click=\"vm.js_set_sort('completed_date','desc')\">{{'pop_entry_menu.entry_sort_completed'|translate}}</a></li><li ng-class=\"{'selected selected--right':entry.vmSortType=='members'}\"><a href=javascript:; ng-click=\"vm.js_set_sort('members','desc')\">{{'pop_entry_menu.entry_sort_assign'|translate}}</a></li><li ng-class=\"{'selected selected--right':entry.vmSortType=='expire_date'}\"><a href=javascript:; ng-click=\"vm.js_set_sort('expire_date','desc')\">{{'pop_entry_menu.entry_sort_expire'|translate}}</a></li></ul></div></li></ul>"), a.put("/tpl/project/task/pop_move_task.html", '<li class="popbox-step-li w_355"><div class=popbox-header><button class="cancel fa fa-remove" ng-click=js_close()></button><h3>{{\'pop_move_task.title\'|translate}}</h3></div><div class=popbox-body><form name=task_move_form w5c-form-validate="" class=wt-form role=form novalidate><div>{{\'pop_move_task.form_title_select_project\'|translate}}</div><div class=form-group><ui-select ng-change=handle_move_to_prj_change() ng-model=task_move.move_to_prj theme=select2 append-to-body=false><ui-select-match placeholder="{{\'pop_move_task.placeholder_select_project\'|translate}}">{{$select.selected.name}}</ui-select-match><ui-select-choices group-by="\'team_name\'" repeat="project in task_move.projects|propsFilter:{name: $select.search}"><div class=text-overflow ng-bind-html=project.name|reHighlight:$select.search></div></ui-select-choices></ui-select></div><div>{{\'pop_move_task.form_title_select_entry\'|translate}}</div><div class=form-group><select ng-model=task_move.move_to_entry class=form-control ng-options="entry.name for entry in task_move.entries" required></select></div><div class=form-group><button w5c-form-submit=move_task(task_move_form) data-loading-text="{{\'common.moving\'|translate}}" class="btn btn-success mr_15" wt-loading-status=is_task_moving>{{\'common.btn_move\'|translate}}</button> <button class="btn btn-link btn-cancel" ng-click=js_close()>{{\'common.btn_cancel\'|translate}}</button></div></form></div></li>'),a.put("/tpl/project/task/pop_task_menu.html", '<ul class=popbox-step ng-switch on=vm.step wt-stop-propagation="" ng-if=global.prj_module.crud|permission:project.permission><li ng-switch-default class=popbox-step-li><div class=popbox-header><button class="cancel fa fa-remove" ng-click=vm.js_close()></button><h3>{{\'pop_task_menu.title\'|translate}}</h3></div><div class=popbox-body><ul class=popbox-menu><li><a href=javascript:; ng-click=vm.js_step(2)>{{\'pop_task_menu.set_labels\'|translate}}</a></li><li><a href=javascript:; ng-click=vm.js_step(1)>{{\'pop_task_menu.set_assing\'|translate}}</a></li><li ng-hide=is_add_task><a href=javascript:; ng-click=vm.js_step(4)>{{\'pop_task_menu.set_watcher\'|translate}}</a></li><li><a ng-click=vm.js_step(3)>{{\'pop_task_menu.set_expire\'|translate}}</a></li><li ng-hide=is_add_task class=divider></li><li ng-hide=is_add_task><a ng-click=vm.js_step(40)>{{\'pop_task_menu.add_attachement\'|translate}}</a></li><li ng-hide=is_add_task ng-if=global.prj_module.setting|permission:project.permission><a ng-click=vm.add_timingtask(task)>{{\'pop_task_menu.set_timingtask\'|translate}}</a></li><li ng-hide=is_add_task class=divider></li><li ng-hide=is_add_task><a ng-click=vm.js_archive_task()>{{\'pop_task_menu.archive\'|translate}}</a></li><li ng-hide=is_add_task><a ng-click=vm.js_step(30)>{{\'pop_task_menu.more_action\'|translate}}</a></li></ul></div></li><li ng-switch-when=1 class=popbox-step-li><wt-toggle-members type=member team-id=vm.team_id pid=vm.pid permission=vm.permission toggle-click="vm.js_toggle_member($event, member, task)" entity=task arg-fn-back=vm.js_step(0) arg-fn-close=vm.js_close()></li><li ng-switch-when=2 class=popbox-step-li><wt-set-task-labels type=task task=task project=project backfn=vm.js_step(0)></wt-set-task-labels></li><li ng-switch-when=3 class=popbox-step-li><ng-include src="\'/ycjs/directive/datepicker/pop_task_menu.html\'"></ng-include></li><li ng-switch-when=4 class=popbox-step-li><wt-toggle-members type=watch team-id=vm.team_id pid=vm.pid permission=vm.permission entity=task toggle-click="vm.js_toggle_watch($event, member, xEntity)" all-member-click="vm.js_watch_all($event, members, xEntity)" arg-fn-back=vm.js_step(0) arg-fn-close=vm.js_close()></li><li ng-switch-when=5 class="popbox-step-li w_355"><div class=popbox-header><button class="back fa fa-chevron-left" ng-click=vm.js_step(30)></button> <button class="cancel fa fa-remove" ng-click=vm.js_close()></button><h3>{{\'pop_task_menu.move_to\'|translate}}</h3></div><div class=popbox-body><form name=task_move_form w5c-form-validate="" class=wt-form role=form novalidate><div>{{\'pop_task_menu.form_title_select_project\'|translate}}</div><div class=form-group><ui-select ng-change=vm.js_change_project() ng-model=task_move.project theme=select2 append-to-body=false><ui-select-match placeholder="{{\'pop_task_menu.placeholder_select_project\'|translate}}">{{$select.selected.name}}</ui-select-match><ui-select-choices group-by="\'team_name\'" repeat="project in task_move.projects|propsFilter:{name: $select.search}"><div class=text-overflow ng-bind-html=project.name|reHighlight:$select.search></div></ui-select-choices></ui-select></div><div>{{\'pop_task_menu.form_title_select_entry\'|translate}}</div><div class=form-group><select ng-model=task_move.entry class=form-control ng-options="entry.name for entry in task_move.entries" required></select></div><div class=form-group><button w5c-form-submit=vm.move_task(task_move_form) data-loading-text="{{\'common.moving\'|translate}}" class="btn btn-success mr_15" wt-loading-status=is_task_moving>{{\'common.btn_move\'|translate}}</button> <button class="btn btn-link btn-cancel" ng-click=vm.js_close()>{{\'common.btn_cancel\'|translate}}</button></div></form></div></li><li ng-switch-when=6 class=popbox-step-li><div class=popbox-header><button class="back fa fa-chevron-left" ng-click=vm.js_step(30)></button> <button class="cancel fa fa-remove" ng-click=vm.js_close()></button><h3>{{\'common.txt_del\'|translate}}</h3></div><div class=popbox-body><span translate=pop_task_menu.message_del_task></span></div><div class=popbox-footer><button ng-click=vm.js_del_task() class="btn btn-danger">{{\'common.btn_confirm_del\'|translate}}</button></div></li><li ng-switch-when=30 class=popbox-step-li><div class=popbox-header><button class="back fa fa-chevron-left" ng-click=vm.js_step(0)></button> <button class="cancel fa fa-remove" ng-click=vm.js_close()></button><h3>{{\'pop_task_menu.title_more_action\'|translate}}</h3></div><div class=popbox-body><ul class=popbox-menu><li ng-hide="is_add_task||((task.is_locked==1)&&(task|taskLockPermission:$root.global.me))"><a ng-click=vm.js_show_task_move()><i class="fa fa-fw fa-share-square-o"></i> {{\'common.txt_move\'|translate}}</a></li><li ng-hide=is_add_task><a ng-click=vm.js_to_copy_task()><i class="fa fa-fw"></i> {{\'common.txt_copy\'|translate}}</a></li><li ng-hide="is_add_task||((task.is_locked==1)&&(task|taskLockPermission:$root.global.me))"><a ng-click=vm.js_step(6) href=javascript:;><i class="fa fa-fw fa-trash-o"></i> {{\'common.txt_del\'|translate}}</a></li></ul></div></li><li ng-switch-when=31 class=popbox-step-li><div class=popbox-header><button class="back fa fa-chevron-left" ng-click=vm.js_step(30)></button> <button class="cancel fa fa-remove" ng-click=vm.js_close()></button><h3>{{\'pop_task_menu.copy_task\'|translate}}</h3></div><form name=copy_task_form w5c-form-validate="" class=wt-form novalidate role=form><div class="popbox-body w_300"><div class=form-group></div><div><textarea wt-autofocus="" class="js-task-name form-control ng-pristine ng-valid" placeholder="{{\'pop_task_menu.placeholder_task_name\'|translate}}" required ng-model=vm.new_task.name wt-enter="vm.js_copy_task(add_task_form, vm.new_task)"></textarea></div><div ng-if=vm.new_task.show_keeps class="pt_20 color-text-gray">{{\'pop_task_menu.desc_copy_task\'|translate}}</div><div class=checkbox ng-if="vm.new_task.label_count > 0"><label><input type=checkbox ng-model=vm.new_task.keep_labels> {{\'common.txt_label\'|translate}} ({{vm.new_task.label_count}})</label></div><div class=checkbox ng-if="vm.new_task.member_count > 0"><label><input type=checkbox ng-model=vm.new_task.keep_members> {{\'common.txt_member\'|translate}} ({{vm.new_task.member_count}})</label></div><div class=checkbox ng-if="vm.new_task.watcher_count > 0"><label><input type=checkbox ng-model=vm.new_task.keep_watchers> {{\'common.txt_watch\'|translate}} ({{vm.new_task.watcher_count}})</label></div><div class=checkbox ng-if="vm.new_task.todo_count > 0"><label><input type=checkbox ng-model=vm.new_task.keep_todos> {{\'common.txt_todo\'|translate}} ({{vm.new_task.todo_count}})</label></div><div class=checkbox ng-if="vm.new_task.file_count > 0"><label><input type=checkbox ng-model=vm.new_task.keep_attachments> {{\'common.txt_attach\'|translate}} ({{vm.new_task.file_count}})</label></div><div class=checkbox ng-if="vm.new_task.comment_count > 0"><label><input type=checkbox ng-model=vm.new_task.keep_comments> {{\'common.txt_comment\'|translate}} ({{vm.new_task.comment_count}})</label></div></div><div class=popbox-footer><button w5c-form-submit="vm.js_copy_task(copy_task_form, vm.new_task)" data-loading-text="{{\'common.saving\'|translate}}" class="btn btn-success mr_15" wt-loading-status=is_copying>{{\'common.btn_save\'|translate}}</button> <button ng-click=vm.js_close(result) class="btn btn-link btn-cancel">{{\'common.btn_cancel\'|translate}}</button></div></form></li><li ng-switch-when=40 class=popbox-step-li><div class=popbox-header><button class="back fa fa-chevron-left" ng-click=vm.js_step(0)></button> <button class="cancel fa fa-remove" ng-click=vm.js_close()></button><h3>{{\'pop_task_menu.add_attachement\'|translate}}</h3></div><div class=popbox-body><ul class=popbox-menu><li><a href=javascript:; ngf-multiple=true ngf-select ngf-change=vm.js_files_select($files)><i class="fa fa-desktop"></i> {{\'pop_task_menu.local_upload\'|translate}}</a></li><li><a href=javascript:; ng-click=vm.js_step(42)>{{\'pop_task_menu.form_project_files\'|translate}}</a></li><li class=divider></li><li><div class="part-loading mt_12" ng-if=vm.js_uploadbylink_uploading></div><form class="form-inline text-nowarp" role=form ng-show=!vm.js_uploadbylink_uploading><input type=text ng-model=$parent.$parent.vm.uploadlink_url class="form-control input-md" placeholder="{{\'pop_task_menu.btn_paste_downlink\'|translate}}" wt-autofocus> <button class="btn btn-default plr_10" type=button ng-click=vm.js_uploadbylink($event)>{{\'common.txt_add\'|translate}}</button></form></li></ul></div></li><li ng-switch-when=42 class=popbox-step-li><wt-add-attachment-from-file entity=task go-back-further=vm.js_step(40)></li></ul><div ng-if=!(global.prj_module.crud|permission:project.permission)><div class=popbox-header><button class="cancel fa fa-remove" ng-click=vm.js_close()></button><h3>{{\'pop_task_menu.title_task_option\'|translate}}</h3></div><div class=popbox-body><ul class=popbox-menu><li><a ng-click=vm.js_toggle_watch($event,global.me,task) href=javascript:;>{{\'common.txt_watch\'|translate}} <span class="text-muted small-tip ng-scope" ng-if=global.me.watched><i class="color_gray fa fa-check"></i></span></a></li></ul></div></div>'),a.put("/tpl/project/task/pop_unarchive_task.html", '<div class=popbox-header><button class="cancel fa fa-remove" ng-click=vm.js_close()></button><h3>{{\'pop_unarchive_task.title\'|translate}}</h3></div><div class=popbox-bodywrapper wt-scroll><div class="popbox-body w_260"><div class=part-loading ng-if="vm.part_loading_done==false"></div><ul class=popbox-menu ng-if=vm.part_loading_done><li class=empty-menu ng-if="vm.entries.length==0">{{\'pop_unarchive_task.warn\'|translate}}</li><li ng-repeat="entry in vm.entries"><a href=javascript:; ng-click=vm.js_unarchive_task(entry)><i ng-class="{true:\'fa-check\',false:\'icon-columns\'}[entry.selected == 1]" class="color_gray fa"></i> <span>{{entry.name}}</span></a></li></ul></div></div>'),a.put("/tpl/project/task/project_archive_tasks.html", '<div class="height-nonav height-nonav--notab archive-list--area" wt-scroll><dl class=frame wt-minheight=84><dt class="frame-dt text-center"><div class=btn-group role=group><button type=button class="btn btn-default" ng-class="{\'active\':vm.archived_view==\'task\'}" ng-click="vm.js_archive_view_toggle(\'task\')">{{\'project_archive_tasks.tab_archive_task\'|translate}}</button> <button type=button class="btn btn-default" ng-class="{true: \'active\'}[vm.archived_view==\'entry\']" ng-click="vm.js_archive_view_toggle(\'entry\')">{{\'project_archive_tasks.tab_archive_entry\'|translate}}</button></div></dt><dd class=frame-dd><div class=archived_entries_panel ng-if="vm.archived_view == \'entry\' && vm.entries.length > 0"><wt-archive-entry-item ng-repeat="entry in vm.entries" arg-project=project arg-entries=vm.entries arg-entry=entry arg-permission=global.prj_module.crud|permission:project.permission></wt-archive-entry-item></div><div class=task-list-panel ng-if="vm.archived_view == \'task\' && vm.tasks.length > 0"><div class=group-list ng-if="vm.tasks.length > 0"><div ng-repeat="task in vm.tasks track by task.tid" class="list_item clearfix"><a class="js-popbox active_button mt_7 btn btn-sm" href=javascript:; ng-click="vm.js_show_entry_menu($event, task)" data-placement=left ng-if=global.prj_module.crud|permission:project.permission>{{\'project_archive_tasks.unarchive\'|translate}}</a><wt-task task=task arg-view-type=item class="slide-trigger mr_55" ng-click="locator.openTask(task.pid, task.tid)"></wt-task></div></div><div class=part-loading ng-if=!vm.part_loading_done></div><div class=loading-more-panel><button ng-if="!has_no_more && vm.part_loading_done" class=btn ng-click=vm.load_archived_tasks_more() data-loading-text="{{\'common.loading\'|translate}}" wt-loading-status=loading_notice>{{\'common.btn_loading\'|translate}}</button></div></div><div class=empty-panel ng-if="vm.archived_view == \'task\' && vm.tasks.length == 0 && vm.part_loading_done"><i class="fa fa-check-square-o"></i><br><span>{{\'project_archive_tasks.warn_empty_archived\'|translate}}</span></div><div class=empty-panel ng-if="vm.archived_view == \'entry\' && vm.entries.length == 0 && vm.part_loading_done"><i class="fa fa-columns"></i><br><br><span>{{\'project_archive_tasks.warn_empty_archived_entry\'|translate}}</span></div></dd></dl></div>'),
    a.put("/tpl/project/task/tasks.html", '<div ng-if=vm.part_loading_done class="entries_panel js-sortable layout_content_main_tasks" wt-mousedown-move ng-mousemove=vm.js_mousemove_entries_panel($event) ng-mouseover=vm.js_mouseover_entries_panel($event) wt-scroll=\'{"dir":"x"}\'><div class=entries_panel_sortarea sortable=vm.entries_sort_options bindonce><div bo-id="\'entry_main_\'+entry.entry_id" class=entry ng-class="{\'entry-selected\':entry.selected == true}" ng-repeat="entry in vm.entries track by entry.entry_id" pos={{entry.pos}} bo-attr bo-attr-entry-id=entry.entry_id><div class=entry_header ng-class="{\'entry_header_archived\':vm.project_archived}"><i class="wtfont wtf-entryhover" ng-if=!vm.project_archived></i><div class=entry_header_title><h2><span ng-if=!entry.batch_action_flag title={{entry.name}} ng-bind=entry.name></span> <span ng-if=entry.batch_action_flag>{{\'tasks.title\'|translate}} </span><i ng-if=entry.watched class="fa fa-eye"></i></h2></div><a href=javascript:; class=entry_header_number ng-if="project.show_entry_number==1 && !entry.batch_action_flag">{{ entry.countComplateTask }} / {{entry.tasks.length}} </a><a href=javascript:; class="js-popbox entry_header_menu" ng-if="(global.prj_module.watch|permission:project.permission)&& (!entry.batch_action_flag)" ng-click=vm.js_show_entry_menu($event,entry) data-placement=top data-align=left><i class="fa fa-play-circle-o"></i> </a><a href=javascript:; class="js-popbox entry_header_menu no_rotate" ng-if=entry.batch_action_flag ng-click="vm.js_batch_close_action($event, entry)" data-placement=bottom data-align=left>{{\'common.txt_cancel\'|translate}}</a></div><div class=entry-batch-panel ng-if=entry.batch_action_flag><div class=entry-batch-paenl-info><a href=javascript:; ng-click="vm.js_batch_select_all($event, entry)">{{\'tasks.btn_checkall\'|translate}} </a>| <a href=javascript:; ng-click="vm.js_batch_select_reverse($event, entry)">{{\'tasks.btn_invert_checkall\'|translate}} </a><span translate=tasks.batch_select_count translate-values={count:entry.selected_tasks.length}></span></div><hr><ul class=list-col-4><li class="text-center p_5"><button class="btn btn-sm btn-block btn--batch js-popbox" ng-disabled="entry.selected_tasks.length==0" data-placement=bottom ng-click="vm.js_batch_set_expiredate($event, entry)">{{\'tasks.batch_datetime\'|translate}}</button></li><li class="text-center p_5"><button class="btn btn-sm btn-block btn--batch js-popbox" ng-disabled="entry.selected_tasks.length==0" data-placement=bottom ng-click="vm.js_batch_set_assignee($event, entry)">{{\'tasks.batch_assign\'|translate}}</button></li><li class="text-center p_5"><button class="btn btn-sm btn-block btn--batch js-popbox" ng-disabled="entry.selected_tasks.length==0" data-placement=bottom ng-click=vm.js_batch_set_labels($event,entry)>{{\'tasks.batch_labels\'|translate}}</button></li><li class="text-center p_5"><button class="btn btn-sm btn-block btn--batch js-popbox" ng-disabled="entry.selected_tasks.length==0" data-placement=bottom ng-click="vm.js_batch_move_task($event, entry)">{{\'tasks.batch_move\'|translate}}</button></li></ul></div><div ng-if="entry.task_loop_done==false" class="part-loading mt_20"></div><div class="entry-task-panel ng-hide" ng-hide="entry.task_loop_done==false" bo-id="\'entry_scroll_\'+entry.entry_id" wt-scroll="" wt-maxheight=entry.maxheight><wt-task-composer class=entry-add-top-composer entry=entry new_task=vm.new_task save="vm.js_add_task($event, new_task, entry, isTop);" cancel=vm.js_cancel_composer($event,entry,new_task) show-more=vm.js_show_task_menu($event,entry,new_task) position=top ng-if=entry.task_top_enabled></wt-task-composer><div class="entry-tasks js-sortable" sortable=vm.tasks_sort_options ng-click=vm.js_delegate_task_click($event,entry)><wt-task ng-repeat="task in entry.tasks track by task.tid" task=task entry=entry arg-fn-check=vm.js_complete_task($event,entry,task) arg-show-more=vm.checkEntityPermission(task) arg-fn-more=vm.js_show_task_menu($event,entry,task) arg-pop-member-options={true:vm.pop_member_options}[vm.checkEntityPermission(task)] wt-repeat-done=vm.task_loop_done(entry) wt-disable-drag=!vm.checkEntityPermission(task) ng-hide=task.is_filter class="right_click_trigger slide-trigger js-popbox {{project.show_task_aging&&(task.update_date|taskAgingLevel)}}" ng-class="{\'task-selected\':(task.selected||locator.xid==task.tid),\'task-selected--batch\':task.selected_batch,\'task-last-nocomposer\':($last&&!(global.prj_module.crud|permission:project.permission))}" droppable={true:vm.member_drop_options,false:null}[vm.checkEntityPermission(task)] ng-mouseleave=vm.js_mouseleave_task($event,task) task-entry-id={{task.entry_id}} task-pos={{task.pos}}></wt-task></div><wt-task-composer class=entry-add-bottom-composer bo-attr bo-attr-trigger-elm="\'#entry_\'+entry.entry_id+\'_scroll\'" entry=entry new_task=vm.new_task save="vm.js_add_task($event, new_task, entry, isTop);" cancel=vm.js_cancel_composer($event,entry,new_task) show-more=vm.js_show_task_menu($event,entry,new_task) position=bottom ng-if=entry.task_bottom_enabled></wt-task-composer></div><div class=entry-task-footer ng-if="entry.batch_action_flag!=1 && global.prj_module.crud|permission:project.permission" ng-show=!entry.task_bottom_enabled><a href=javascript:; class=js-add-task-composer ng-click="vm.js_open_add_task_composer($event, entry)" ng-if=!entry.task_bottom_enabled><i class="fa fa-plus-circle"></i> {{\'tasks.btn_add_task\'|translate}}</a></div></div></div><div class=entry-new ng-if="global.loading_done && (global.prj_module.crud|permission:project.permission)" ng-class="{true:\'entry-add\'}[vm.is_show_add_entry]"><a href=javascript:; ng-show=!vm.is_show_add_entry ng-click="vm.is_show_add_entry = !vm.is_show_add_entry" ng-class="{true:\'entry-add\'}[!vm.is_show_add_entry]"><i class="fa fa-plus-circle"></i> {{\'tasks.btn_add_entry\'|translate}}</a><div ng-show=vm.is_show_add_entry wt-show-edit=vm.is_show_add_entry><div class=form-group><input name=entry_name ng-model=vm.entry_name placeholder="{{\'tasks.placeholder_entry_name\'|translate}}" wt-enter=vm.js_add_entry(vm.entry_name) type=text class=form-control required wt-focus=vm.entry_input_focus></div><div class=form-group><button ng-click=vm.js_add_entry(vm.entry_name) data-loading-text="{{\'common.saving\'|translate}}" class="btn btn-success mr_15" wt-loading-status=vm.is_adding_entry>{{\'common.btn_save\'|translate}}</button> <button ng-click="vm.is_show_add_entry = false" class="btn btn-link btn-cancel">{{\'common.btn_cancel\'|translate}}</button></div></div></div></div><div ng-if=!vm.part_loading_done class="part-loading mt_20"></div><ui-view></ui-view>'),a.put("/tpl/project/task/toolbar.html", "<div class=sub_toolbar><div class=\"btn-group js-popbox mr_5\" data-placement=bottom data-align=right ng-if=global.prj_module.crud|permission:project.permission><button class=\"btn btn-success btn--fancy\" ng-click=vm.js_add_task()>{{'task_toolbar.btn_add_task'|translate}}</button> <a class=\"btn btn-success btn--fancy dropdown-toggle\" data-toggle=dropdown><i class=\"fa fa-caret-down\"></i></a><ul class=\"dropdown-menu pull-right\"><li><a href=javascript:; id=btn_new_task ng-click=vm.js_add_task()><i class=\"fa fa-fw\"></i> {{'task_toolbar.btn_add_task'|translate}}</a></li><li><a href=javascript:; wt-click=vm.show_add_entry_pop($event)><i class=\"fa fa-fw\"></i> {{'task_toolbar.btn_add_entry'|translate}}</a></li></ul></div><div class=\"btn-group js-popbox\"><a href=javascript:; class=\"btn btn--fancy\" ng-click=vm.show_tasks_filter_detail($event)><span class=color_main ng-if=task_filters.turn_on>{{'task_toolbar.btn_open'|translate}} </span><span ng-if=!task_filters.turn_on>{{'task_toolbar.btn_filter'|translate}} </span></a><a class=\"btn btn--fancy dropdown-toggle\" href=javascript:; data-toggle=dropdown><i class=\"fa fa-caret-down\"></i></a><ul class=\"dropdown-menu pull-right\"><li><a href=javascript:; ng-click=vm.filter_tasks_assign_me()><i class=fa ng-class=\"{true:'fa-check',false:'icon-xx'}[task_filters.type == 'assign_me']\"></i> {{'task_toolbar.assign_me'|translate}}</a></li><li><a href=javascript:; ng-click=vm.filter_tasks_my_watch()><i class=fa ng-class=\"{true:'fa-check',false:'icon-xx'}[task_filters.type == 'my_watch']\"></i> {{'task_toolbar.my_watch'|translate}}</a></li><li><a href=javascript:; ng-click=vm.filter_tasks_my_create()><i class=fa ng-class=\"{true:'fa-check',false:'icon-xx'}[task_filters.type == 'my_create']\"></i> {{'task_toolbar.my_create'|translate}}</a></li><li class=divider></li><li><a href=javascript:; ng-click=vm.show_tasks_filter_detail($event)><i class=\"fa fa-fw\"></i> {{'task_toolbar.task_filter'|translate}}</a></li></ul></div><a class=prj_top_icon href=javascript:; ng-click=\"sidebar.change_status('members','')\" ng-class=\"{'active':sidebar.status == 'members'||sidebar.status == 'add_member'}\" tooltip-placement=bottom uib-tooltip=\"{{'common.txt_member'|translate}}\"><i class=\"wtfont wtf-userlist\"></i></a></div>"),a.put("/tpl/project/trash/pop_empty_trash.html", "<div class=popbox-header><button class=\"cancel fa fa-remove\" ng-click=pm.js_close()></button><h3>{{'pop_empty_trash.title'|translate}}</h3></div><div class=popbox-body><span translate=pop_empty_trash.warn></span></div><div class=popbox-footer><button ng-click=pm.js_empty_trash() class=\"btn btn-danger\">{{'pop_empty_trash.btn_confirm_clear'|translate}}</button></div>"),a.put("/tpl/project/trash/pop_trash_menu.html", '<ul class=popbox-step ng-switch on=step><li ng-switch-default class=popbox-step-li><div class=popbox-header><button class="cancel fa fa-remove" ng-click=pm.js_close()></button><h3>{{\'pop_trash_menu.title\'|translate}}</h3></div><div class=popbox-body><ul class=popbox-menu><li><a href=javascript:; ng-click=pm.js_restore() ng-if="entity.etype != \'task\'"><i class="fa fa-undo"></i> {{\'pop_trash_menu.recover\'|translate}}</a></li><li><a href=javascript:; ng-click=pm.js_step(1) ng-if="entity.etype == \'task\'"><i class="fa fa-undo"></i> {{\'pop_trash_menu.recover\'|translate}}</a></li><li ng-if=global.prj_module.setting|permission:project.permission><a href=javascript:; ng-click=pm.js_destory()><i class="fa fa-trash"></i> {{\'pop_trash_menu.total_del\'|translate}}</a></li></ul></div></li><li ng-switch-when=1 class=popbox-step-li><div class=popbox-header><button class="back fa fa-chevron-left" ng-click=pm.js_step(0)></button> <button class="cancel fa fa-remove" ng-click=pm.js_close()></button><h3>{{\'pop_trash_menu.title_recover_to\'|translate}}</h3></div><div class=popbox-body><ul class=popbox-menu><li ng-repeat="entry in entries"><a href=javascript:; ng-click=pm.js_restore_task(entry)><span class=fa ng-class="{true:\'fa-check\',false:\'\'}[entry.selected == 1]"></span> <span>{{entry.name}}</span></a></li></ul></div></li></ul>'),a.put("/tpl/project/trash/project_trash.html", '<div class="height-nonav height-nonav--notab project_trash" wt-scroll><dl class=frame wt-minheight=84><dd class=frame-dd><div class=frame-lr-right ng-if="vm.cached_wtobjs.length > 0"><ng-include src="\'/tpl/project/trash/trash_filter.html\'"></ng-include></div><div class=frame-lr-left><div class=frame-dt><span class=title>{{\'project_trash.title\'|translate}}</span></div><div class="empty-panel ml_220" ng-if="vm.wtobjs != null && vm.wtobjs.length == 0 && part_loading_done"><i class="fa fa-trash-o"></i><br><span>{{\'project_trash.warn\'|translate}}</span></div><div class=trash-panel><div class=prj-trash ng-if="vm.wtobjs.length > 0"><div class="wt-row x-item-mark js-popbox right_click_trigger slide-trigger" ng-repeat="wtobj in vm.wtobjs" x-id={{wtobj.entity.eid}}><div class="column column-icon" ng-click="locator.openEntity(project.pid, wtobj.entity);"><i class=fa ng-class="{\'task\':\'fa-check-square-o\',\'entry\':\'fa-columns\',\'file\':\'fa-file\',\n                      \'folder\':\'fa-folder\',\'page\':\'fa-file-text\',\'event\':\'fa-calendar\',\n                      \'post\': \'fa-list-alt\'}[wtobj.entity.etype]"></i></div><div class="column column-name" ng-click="locator.openEntity(project.pid, wtobj.entity);"><span class=name>{{wtobj.entity.name}}</span></div><div class="column column-date" ng-click="locator.openEntity(project.pid, wtobj.entity);"><span translate=project_trash.info translate-values={who:wtobj.actor.name,when:(wtobj.delete_date|timeFormatZHCN)}></span></div><div class="column column-menu"><a href=javascript:; class="js-popbox trash-item-menu" ng-if=global.prj_module.crud|permission:project.permission ng-click="vm.js_show_trash_menu($event, wtobj)"><i class="fa fa-play-circle-o"></i></a></div></div></div></div></div></dd></dl></div>'),a.put("/tpl/project/trash/trash_filter.html", "<dl class=dl-filter><div class=plr_20 ng-if=global.prj_module.setting|permission:project.permission><button class=\"btn w-100p mt_20\" ng-click=vm.js_clear_trash($event)><i class=\"fa fa-recycle\"></i> {{'trash_filter.btn_clear'|translate}}</button><hr></div><dt><span class=title>{{'trash_filter.btn_filter'|translate}}</span></dt><dd><ul class=checkable><li ng-class=\"{true: 'selected'}[filter_type ==0]\" ng-click=vm.js_filter(0)><a href=javascript:;>{{'common.txt_all'|translate}}</a></li><li ng-class=\"{true: 'selected'}[filter_type ==1]\" ng-click=vm.js_filter(1)><a href=javascript:;>{{'common.txt_task'|translate}}</a></li><li ng-class=\"{true: 'selected'}[filter_type ==2]\" ng-click=vm.js_filter(2)><a href=javascript:;>{{'common.txt_post'|translate}}</a></li><li ng-class=\"{true: 'selected'}[filter_type ==3]\" ng-click=vm.js_filter(3)><a href=javascript:;>{{'common.txt_file'|translate}}</a></li><li ng-class=\"{true: 'selected'}[filter_type ==4]\" ng-click=vm.js_filter(4)><a href=javascript:;>{{'common.txt_page'|translate}}</a></li></ul></dd></dl>"),a.put("/tpl/single_page/share.html", '<div class=single-panel wt-scroll wt-maxheight=0><div class=share-panel><br><br><h3 class=mb_100 translate=single_page_share.title></h3><div id=share-wohoo></div><div class="share-section share-desc"><ol><li><span class=list-number>1</span>{{\'single_page_share.copy_link\'|translate}}<br><input class=recommend_url type=text ng-model=vm.recommend_url wt-click-select readonly=readonly></li><li><span class=list-number>2</span> {{\'single_page_share.step_1_copy\'|translate}}</li><li><span class=list-number>3</span> {{\'single_page_share.step_2_scan\'|translate}}</li></ol></div><div class="share-section share-result"><p ng-if="vm.my_referrals.length==0" class=text-center><i class="fa fa-info-circle"></i> &nbsp; {{\'single_page_share.info_none_friend\'|translate}}</p><fieldset ng-if="vm.my_referrals.length>0"><legend translate=single_page_share.count_friend translate-values={count:vm.my_referrals.length}></legend><wt-avatar member=user size=50 ng-repeat="user in vm.my_referrals"></wt-avatar></fieldset></div><div class="share-section weixin-share"><h4>{{\'single_page_share.wechat_share\'|translate}}</h4><div><p>{{\'single_page_share.use_wechat_scan\'|translate}}<br>{{\'single_page_share.send_friend\'|translate}}</p><p class=qrcode wt-disable-drag="" ng-bind-html=vm.qrcode></p></div></div><div class="share-section social-share"><h4>{{\'single_page_share.weibo_share\'|translate}}</h4><div><a target=_blank class="btn btn-danger btn-lg" href="http://v.t.sina.com.cn/share/share.php?appkey=worktile-appkey&title={{\'single_page_share.worktile_desc\'|translate}} {{vm.recommend_url}} @Worktile&pic=http://wt-all.oss-cn-hangzhou.aliyuncs.com/blog/worktile.jpg"><i class="fa fa-weibo"></i> {{\'single_page_share.btn_weibo\'|translate}} </a>&nbsp; &nbsp; <a target=_blank class="btn btn-primary btn-lg" href="http://share.v.t.qq.com/index.php?c=share&a=index&url=http://worktile.com&pic=http://wt-all.oss-cn-hangzhou.aliyuncs.com/blog/worktile.jpg&appkey=801421649&title={{\'single_page_share.worktile_desc\'|translate}} {{vm.recommend_url}}  @Worktile"><i class="fa fa-tencent-weibo"></i> {{\'single_page_share.btn_qqweibo\'|translate}}</a></div></div><div class="share-section mail-share"><h4>{{\'single_page_share.send_email\'|translate}}</h4><div class="pt_45 clearfix"><form class="form-horizontal wt-form" role=form name=share_friend_form novalidate w5c-form-validate="" wt-enter=js_invite_enter($event,invite_member_form)><div class=form-group><div class=col-xs-8><input type=email required="" class="form-control col-xs-3" placeholder="{{\'single_page_share.placeholder_email\'|translate}}" ng-model=share_email name=share_email type=email></div><div class=col-xs-4><button w5c-form-submit=js_send_share_email(share_friend_form) type=button class="btn btn-success mr_15" data-loading-text="{{\'common.sending\'|translate}}" wt-loading-status=is_sending>{{\'single_page_share.btn_send_invite_email\'|translate}}</button></div></div><dl><dt>{{\'single_page_share.email_preview\'|translate}}</dt><dd><div class="col-xs-8 pl_0"><textarea required="" class="message form-control help-block" rows=4 ng-model=share_desc name=share_desc>\n                </textarea></div></dd><dd><div class="col-xs-8 pl_0"><div class="alert alert-danger mt_12" ng-show="share_friend_form.$errors.length > 0"><i class="fa fa-times-circle"></i> <span ng-bind=share_friend_form.$errors[0]></span></div></div></dd></dl></form></div></div></div></div>'),a.put("/tpl/team/dialog_team_invite_contact.html", '<div class="dialog dialog-team-invite-contact"><header class=dialog-head><span class=dialog-close><i class="wtfont wtf-close" ng-click=js_close()></i></span><div class=dialog-title>{{\'dialog_team_invite_contact.title\'|translate}}</div></header><div class=dialog-body><div class=part-loading ng-hide=vm.part_loading_done></div><div ng-show=vm.part_loading_done><div class=contact_member_select_area><div class=contact_member_search><span><i class="wtfont wtf-search"></i> <input ng-model=search_user_input type=text placeholder="{{\'dialog_team_invite_contact.placeholder_name\'|translate}}"></span></div><div class=contact_member><ul class=clearfix ng-hide="contact_members_filtered_results.length==0"><li class=flex_row ng-class="{\'selected\':member.selected}" ng-repeat="member in contact_members_filtered_results = ( vm.contact_members|filterMembers:search_user_input)" ng-click=vm.js_contact_selected_toggle(member.uid)><wt-avatar member=member size=40 class=member_pic></wt-avatar><span class="member_name flex_se1">{{[member.display_name,10]|cutstr}}</span> <i class="fa fa-check-circle-o"></i></li></ul><div class="empty-panel pt_20 pb_20" ng-show="contact_members_filtered_results.length==0"><span>{{\'dialog_team_invite_contact.warn\'|translate}}</span></div></div></div><div class="mt_10 mb_10 color-text-gray">{{\'dialog_team_invite_contact.count_select\'|translate:{count:vm.contact_members_selected.length} }}</div><div class=text-center><button class="btn btn-success" ng-click=vm.js_send_invite() wt-loading-status=vm.saving data-loading-text="{{\'dialog_team_invite_contact.inviting\'|translate}}">{{\'dialog_team_invite_contact.btn_send_invite\'|translate}}</button> <button class="btn btn-link btn-cancel w_120" ng-click=js_close()>{{\'common.btn_cancel\'|translate}}</button></div></div></div></div>'),a.put("/tpl/team/pop_add_team_stats.html", '<div class=popbox-header><button class="cancel fa fa-remove" ng-click=vm.js_close()></button><h3>{{\'pop_add_team_stats.title\'|translate}}</h3></div><form name=add_project_form w5c-form-validate="" class=w5c-form novalidate="" role=form><div class="popbox-body w_300"><div class=form-group><label>{{\'pop_add_team_stats.form_title_select_project\'|translate}}</label><ui-select name=projectTeam ng-model=vm.project_select theme=select2 append-to-body=false ng-change=vm.js_select_project() ng-click=vm.js_select_click() class="{{vm.project_not_select?\'error\':\'\'}}"><ui-select-match placeholder="{{\'pop_add_team_stats.placeholder_project\'|translate}}">{{$select.selected.name}}</ui-select-match><ui-select-choices group-by="\'team_name\'" repeat="project.pid as project in vm.projects|propsFilter:{name: $select.search}"><div class=text-overflow ng-bind-html=project.name|reHighlight:$select.search></div></ui-select-choices></ui-select></div><div><label>{{\'pop_add_team_stats.form_title_stats\'|translate}}</label><ul class=checkable--box><li ng-repeat="stats_type in vm.stats_type" class=w_50p ng-class="{\'selected\':([vm.stats_type_select,$index+1]|indexOf),\'disable\':stats_type.disable}"><a href=javascript:; ng-click=vm.js_select_stats($event,$index+1)><i class=wtfont ng-class=stats_type.icon></i><br>{{stats_type.desc}}</a></li></ul></div></div><div class=popbox-footer ng-if="vm.projects.length > 0"><button class="btn btn-success btn-block" wt-loading-status=vm.pop_add_loading data-loading-text="{{\'pop_add_team_stats.adding\'|translate}}" w5c-form-submit=vm.js_add_stats()>{{\'common.btn_add\'|translate}}</button></div></form>'),a.put("/tpl/team/pop_team_info.html", '<div class=popbox-header><button class="cancel fa fa-remove" ng-click=vm.js_close()></button><h3>{{\'pop_team_info.title\'|translate}}</h3></div><div class=popbox-bodywrapper wt-scroll><div class="popbox-body w_300"><ul class=popbox-menu><li><a href=javascript:;><i class="fa fa-sitemap"></i> {{\'pop_team_info.industry\'|translate}}<br><span class="color_gray pl_20">{{team.industry|teamIndustries}}</span></a></li><li class=divider></li><li><a href=javascript:;><i class="fa fa-clock-o"></i> {{\'pop_team_info.create_time\'|translate}}<br><span class="color_gray pl_20">{{team.create_date|dateFormatZHCN}}</span></a></li><li class=divider></li><li><a href=javascript:;><i class="fa fa-info-circle"></i> {{\'pop_team_info.desc\'|translate}}<br><span class="color_gray pl_20" ng-show="team.desc==\'\'">{{\'pop_team_info.empty_desc\'|translate}} </span><span class="color_gray pl_20" ng-show="team.desc!=\'\'">{{team.desc}}</span></a></li></ul></div></div>'),a.put("/tpl/team/pop_team_invite_qr_code.html", '<div class="pop_team_invite_qr_code p_15"><img width=100 src={{url}} alt="{{\'pop_team_invite_qr_code.title\'|translate}}"></div>'),a.put("/tpl/team/pop_team_project_setting.html", '<ul class=popbox-step ng-switch on=vm.step><li ng-switch-default class=popbox-step-li><div class="popbox-header popbox-header--project"><button class="cancel fa fa-remove" ng-click=vm.js_close()></button><h3><i class={{vm.project.pic}} ng-style={color:vm.project.bg}></i> <span ng-bind=[vm.project.name,18]|cutstr></span> <i ng-class="{1:\'icon-private\',2:\'icon-protected\',3:\'icon-public\'}[vm.project.visibility]"></i></h3><p class=color_gray ng-show="vm.project.desc==\'\'">{{\'pop_team_project_setting.empty_desc\'|translate}}</p><p class=color_gray ng-show="vm.project.desc!=\'\'">{{vm.project.desc}}</p></div><div class=avatar-footer><ul class="ul-vertical ul-vertical--small"><li><a class=item href=javascript:; ng-click=vm.js_step(1)><i class="fa fa-wrench"></i> {{\'pop_team_project_setting.set_manager\'|translate}}</a><hr class=popbox-hr></li><li><a class=item href=javascript:; ng-click=vm.js_step(2);><i class="fa fa-user-plus"></i> {{\'pop_team_project_setting.add_member\'|translate}}</a></li></ul></div></li><li ng-switch-when=1><div class=popbox-header><button class="back fa fa-chevron-left" ng-click=vm.js_step(0)></button> <button class="cancel fa fa-remove" ng-click=vm.js_close()></button><h3>{{\'pop_team_project_setting.set_manager\'|translate}}</h3></div><div class=popbox-bodywrapper wt-scroll><div ng-if=!vm.loading_project_members_done class="part-loading mt_12"></div><div ng-if=vm.loading_project_members_done class=popbox-body><div class=empty-menu ng-if="vm.project_members.length==0">{{\'pop_team_project_setting.warn_project\'|translate}}</div><div ng-show="vm.project_members.length>0"><input type=text wt-focus=2500 name=search_user_input ng-model=search_user_input placeholder="{{\'pop_team_project_setting.search_member\'|translate}}" class="form-control help-block"><br></div><ul class="popbox-menu checkable checkable--popboxmenu" ng-if="vm.project_members.length>0"><li class=member-item ng-repeat="member in vm.project_members|filterMembers:search_user_input" ng-class="{\'selected\':(!!member.checked)}"><wt-avatar member=member name=[member.display_name,16]|cutstr faceclass=plr_5 ng-click=vm.js_toggle_project_member(member) atname=true size=28></wt-avatar></li></ul></div></div><div class=popbox-footer ng-if="vm.loading_project_members_done&&vm.project_members.length>0"><div class=pt_20><button class="btn btn-block" ng-click=vm.set_project_admin()>{{\'common.btn_add\'|translate}}</button></div></div></li><li ng-switch-when=2><div class=popbox-header><button class="back fa fa-chevron-left" ng-click=vm.js_step(0)></button> <button class="cancel fa fa-remove" ng-click=vm.js_close()></button><h3>{{\'pop_team_project_setting.add_member\'|translate}}</h3></div><div class=popbox-bodywrapper wt-scroll><div ng-if=!vm.loading_team_members_done class="part-loading mt_12"></div><div ng-if=vm.loading_team_members_done class=popbox-body><div class=empty-menu ng-if="vm.unassigned_team_members.length==0&&vm.unassigned_team_visitors.length==0">{{\'pop_team_project_setting.warn_team\'|translate}}</div><div ng-show="vm.unassigned_team_members.length>0||vm.unassigned_team_visitors.length>0"><input type=text wt-focus=2500 name=search_user_input ng-model=search_user_input placeholder="{{\'pop_team_project_setting.search_member\'|translate}}" class="form-control help-block"><br></div><ul class="popbox-menu checkable checkable--popboxmenu" ng-if="vm.unassigned_team_members.length>0||vm.unassigned_team_visitors.length>0"><li class=member-item ng-repeat="member in vm.unassigned_team_members|filterMembers:search_user_input" ng-class="{\'selected\':(!!member.checked)}"><wt-avatar member=member name=[member.display_name,16]|cutstr faceclass=plr_5 ng-click=vm.js_toggle_project_member(member) atname=true size=28></wt-avatar></li><li class=member-item ng-repeat="member in vm.unassigned_team_visitors|filterMembers:search_user_input" ng-class="{\'selected\':(!!member.checked)}"><wt-avatar member=member name=[member.display_name,16]|cutstr faceclass=plr_5 ng-click=vm.js_toggle_project_member(member) atname=true size=28></wt-avatar></li></ul></div></div><div class=popbox-footer ng-if="vm.unassigned_team_members.length>0||vm.unassigned_team_visitors.length>0"><div class=pt_20><button class="btn btn-block" ng-click=vm.add_project_members()>{{\'common.btn_add\'|translate}}</button></div></div></li></ul>'),a.put("/tpl/team/pop_transfer_team.html", '<ul class=popbox-step ng-switch on=step><li ng-switch-default class=popbox-step-li><div class=popbox-header><button class="cancel fa fa-remove" ng-click=js_close()></button><h3>{{\'pop_transfer_team.title\'|translate}}</h3></div><div class=popbox-body><input type=text autofocus="" ng-model=search_user_input placeholder="{{\'pop_transfer_team.search\'|translate}}" class="form-control help-block"><br><div class=part-loading wt-loading-done=members_loading_done></div><ul class="popbox-menu max-h300" wt-scroll=""><li class=member-item ng-repeat="member in team_members|filterMembers:search_user_input"><wt-avatar ng-click=js_to_transfer_confirm(member) tabindex=-1 member=member name=true atname=true size=30 faceclass=plr_5></wt-avatar></li><li class=empty-menu-nomin-h ng-show="members_loading_done && (team_members|isNullOrEmpty)">{{\'pop_transfer_team.warn\'|translate}}</li></ul></div></li></ul>'),a.put("/tpl/team/team.html", "<div class=layout_content><div class=layout_content_main><div class=mod-navbar ng-if=\"vm.public_team!=null\"><div class=main><div class=title><h3><i class=\"wtfont wtf-team\"></i> <span ng-bind=[vm.public_team.info.name,40]|cutstr></span></h3><a href=javascript:; class=ml_15 tooltip-placement=bottom uib-tooltip={{vm.public_team.info.visibility|teamVisibility}} show-team-visibility-options ng-click=show($event)><i ng-class=\"{'icon-private':vm.public_team.info.visibility==1,'icon-public':vm.public_team.info.visibility==2}\"></i></a></div></div></div><div class=mod-navbar ng-if=\"team!=null\"><div class=main><div class=title ng-if=!vm.display_team_setting><h3><i class=\"wtfont wtf-team\"></i> <a href=javascript:; class=\"js-popbox team_name\" data-placement=bottom data-align=left ng-click=vm.js_view_team_info($event); ng-bind=[team.name,40]|cutstr></a></h3><a href=javascript:; class=ml_15 tooltip-placement=bottom uib-tooltip={{team.visibility|teamVisibility}} show-team-visibility-options ng-click=show($event)><i ng-class=\"{'icon-private':team.visibility == 1,'icon-public':team.visibility == 2}\"></i></a></div><div class=title ng-if=vm.display_team_setting><h3><i class=\"wtfont wtf-team\"></i> {{'team_page.title'|translate}}</h3></div><div class=main_toolbar><a href=javascript:; ng-if=\"!vm.user_is_team_admin && !vm.display_team_setting\" ng-click=vm.js_toggle_filter(null) ui-sref=team.setting ui-sref-active=active><i class=\"fa fa-cog fs_18\"></i>&nbsp; <span class=fs-16>{{'common.btn_set'|translate}} </span></a><a href=javascript:; ng-if=\"vm.user_is_team_admin && !vm.display_team_setting\" ng-click=\"vm.js_toggle_filter(null);vm.display_team_setting = true\" ui-sref=team.admin ui-sref-active=active><i class=\"fa fa-cog fs_18\"></i>&nbsp; <span class=fs-16>{{'common.btn_set'|translate}} </span></a><a href=javascript:; class=fs-16 ng-if=vm.display_team_setting ng-click=\"vm.display_team_setting = false\" ui-sref=team.projects ui-sref-active=active>{{'team_page.link_return'|translate}}</a></div></div><div class=sub ng-if=!vm.display_team_setting><ul class=mod_subnav><li ng-if=global.team_module.view_base|permission:team.permission><a ui-sref=team.projects ui-sref-active=active ng-click=vm.js_toggle_filter(null)>{{'common.txt_project'|translate}}</a></li><li ng-if=global.team_module.view_base|permission:team.permission><a ui-sref=team.members ui-sref-active=active ng-click=vm.js_toggle_filter(null)>{{'common.txt_member'|translate}}</a></li><li ng-if=global.team_module.view|permission:team.permission><a ui-sref=team.tasks ui-sref-active=active ng-click=vm.js_toggle_filter(null)>{{'common.txt_task'|translate}}</a></li><li ng-if=global.team_module.view|permission:team.permission><a ui-sref=team.calendar ui-sref-active=active ng-click=vm.js_toggle_filter(null)>{{'common.txt_calendar'|translate}}</a></li><li ng-if=global.team_module.view_base|permission:team.permission><a ui-sref=team.graphs ui-sref-active=active ng-click=vm.js_toggle_filter(null)>{{'common.txt_graph'|translate}}</a></li></ul><div class=sub_toolbar><div class=mr_5><a href=javascript:; class=\"btn btn--fancy\" ng-if=\"vm.state.current.name=='team.calendar'\" ng-click=vm.js_toggle_team_filter()>{{'team_page.filter'|translate}}</a></div></div></div><div class=sub ng-if=\"vm.display_team_setting && vm.user_is_team_admin\"><ul class=mod_subnav><li ng-if=vm.user_is_team_owner><a ui-sref=team.admin.basic ui-sref-active=active>{{'team_page.baseinfo'|translate}}</a></li><li ng-if=vm.user_is_team_owner><a ui-sref=team.admin.custom ui-sref-active=active>{{'team_page.custom'|translate}}</a></li><li><a ui-sref=team.admin.members ui-sref-active=active>{{'team_page.member'|translate}}</a></li><li ng-if=vm.user_is_team_owner><a ui-sref=team.admin.projects ui-sref-active=active>{{'team_page.project'|translate}}</a></li><li ng-if=vm.user_is_team_owner><a ui-sref=team.admin.security ui-sref-active=active>{{'team_page.security'|translate}}</a></li><li ng-if=!vm.user_is_team_owner><a ui-sref=team.setting ui-sref-active=active>{{'team_page.quit'|translate}}</a></li></ul></div><div class=sub ng-if=\"vm.display_team_setting && !vm.user_is_team_admin\"><ul class=mod_subnav><li><a ui-sref=team.setting ui-sref-active=active>{{'team_page.quit'|translate}}</a></li></ul></div></div><div class=height-nonav ng-class=\"{'height-nonav--notab':vm.public_team}\" wt-scroll><ui-view></ui-view></div></div><ui-view name=sidebar wt-sidebar-toggle=vm.teamCalendarFilterData.team_calendar_filter_status></ui-view></div>"),a.put("/tpl/team/team_admin.html", "<dl class=frame wt-minheight=112><dd class=frame-dd><ui-view></ui-view></dd></dl>"),
    a.put("/tpl/team/team_admin_basic.html", "<div class=\"part-loading mt_20\" ng-hide=part_loading_done></div><div ng-show=part_loading_done><div class=pb_14><span class=fs_17>{{'team_admin_basic.baseinfo'|translate}}</span><div class=pull-right><a href=\"//worktile.com/upgrade?utm_source=free_team_setbasic\" target=_blank><i class=\"fa fa-info-circle\"></i> {{'team_admin_basic.link_try_pro'|translate}}</a></div></div><div><dl class=dl-form><dt>{{'team_admin_basic.team_info'|translate}} <span class=dl-form-desc>{{'team_admin_basic.desc_team_info'|translate}}</span></dt><dd><div class=settings><ul class=dl-form-ul ng-hide=editing_team_info><li><span class=dl-form-li-title>{{'team_admin_basic.team_name'|translate}} </span><span ng-bind=team.name></span></li><li><span class=dl-form-li-title>{{'team_admin_basic.industry'|translate}} </span><span ng-bind=\"(industries[team.industry]|translate)||('team_admin_basic.empty_input'|translate)\"></span></li><li><span class=dl-form-li-title>{{'team_admin_basic.phone'|translate}} </span><span ng-bind=\"team.phone||('team_admin_basic.empty_input'|translate)\"></span></li><li><span class=dl-form-li-title>{{'team_admin_basic.create_time'|translate}} </span><span ng-bind=team.create_date|dateFormatZHCN></span></li><li><span class=dl-form-li-title>{{'team_admin_basic.desc'|translate}} </span><span ng-bind=team.desc></span></li></ul><button ng-hide=editing_team_info class=\"btn mt_28\" ng-click=vm.js_toggle_edit_team_info()>{{'team_admin_basic.change_team_info'|translate}}</button><form name=team_set_form ng-if=editing_team_info w5c-form-validate=\"\" class=\"form wt-form form-horizontal w_660\" novalidate><div class=form-group><label class=sr-only>{{'team_admin_basic.team_name'|translate}}</label><div class=col-xs-10><input name=team_name type=text ng-model=vm.name placeholder=\"{{'team_admin_basic.team_name'|translate}}\" class=form-control required autofocus></div></div><div class=form-group><label for=team-industry class=sr-only>{{'team_admin_basic.industry'|translate}}</label><div class=col-xs-10><select class=form-control name=team_industry id=team-industry ng-model=vm.industry ng-options=\"key as industries[key] for key in industry_keys\" required=\"\"><option value=\"\" selected=selected disabled=disabled>{{'team_admin_basic.placeholder_industry'|translate}}</option></select></div></div><div class=form-group><label class=sr-only>{{'team_admin_basic.phone'|translate}}</label><div class=col-xs-10><input name=team_phone type=text ng-model=vm.phone placeholder=\"{{'team_admin_basic.placeholder_phone'|translate}}\" class=form-control required autofocus ng-pattern=$root.global.constant.regex.mobile></div></div><div class=form-group><label class=sr-only>{{'team_admin_basic.team_desc'|translate}}</label><div class=col-xs-10><textarea rows=4 ng-model=vm.desc class=form-control placeholder=\"{{'team_admin_basic.placeholder_team_desc'|translate}}\"></textarea></div></div><div class=mt_28><button data-loading-text=\"{{'common.saving'|translate}}\" w5c-form-submit=\"js_set_team(team_set_form, name, phone, desc, url)\" class=\"btn btn-success\" wt-loading-status=is_team_saveing>{{'common.btn_ok'|translate}}</button> <button class=\"btn btn-link btn-cancel\" ng-click=vm.js_toggle_edit_team_info()>{{'common.btn_cancel'|translate}}</button></div></form></div></dd></dl><dl class=dl-form><dt>{{'team_admin_basic.team_logo'|translate}} <span class=dl-form-desc translate=team_admin_basic.desc_team_logo></span></dt><dd><div ng-if=!vm.team_logo.src><wt-team-logo team=team size=100></wt-team-logo><button ngf-multiple=false ngf-select ngf-change=vm.js_file_select($files) ngf-accept=\"'.png,.jpg'\" class=\"btn btn-local-upload mt_28\">{{'team_admin_basic.set_logo'|translate}}</button></div><div ng-if=vm.team_logo.src><div class=min-h150 ng-jcrop=vm.team_logo.src selection=vm.team_logo.selection thumbnail=vm.team_logo.thumbnail></div><div class=mt_28><button class=\"btn btn-default mr_14\" ng-disabled=vm.team_logo.uploading ngf-multiple=false ngf-select ngf-change=vm.js_file_select($files) ng-accept=\"'.png,.jpg'\">{{'team_admin_basic.btn_reselect'|translate}}</button> <button class=\"btn btn-success mr_14\" wt-loading-status=vm.team_logo.uploading data-loading-text=\"{{'common.uploading'|translate}}\" ng-click=vm.js_save_logo()>{{'common.btn_save'|translate}}</button> <button class=\"btn btn-link btn-cancel mr_14\" ng-disabled=vm.team_logo.uploading ng-click=vm.cancel_upload_logo()>{{'common.btn_cancel'|translate}}</button></div></div></dd></dl><dl class=dl-form><dt>{{'team_admin_basic.team_visibility'|translate}} <span class=dl-form-desc translate=team_admin_basic.team_visibility_desc></span></dt><dd><ul class=dl-form-ul ng-hide=editing_visibility><li><span class=dl-form-li-title>{{'team_admin_basic.current_visibility'|translate}} </span><span class=text><span ng-bind=team.visibility|teamVisibility></span> <i ng-class=\"{'icon-private':team.visibility == 1,'icon-public':team.visibility == 2}\"></i></span></li></ul><button ng-hide=editing_visibility class=\"btn mt_28\" ng-click=vm.js_toggle_edit_visibility()>{{'team_admin_basic.edit_visibility'|translate}}</button><div ng-switch=visibility_step ng-if=editing_visibility><div ng-switch-when=1><div class=form-group><label class=sr-only for=team_visibility>{{'team_admin_basic.team_visibility'|translate}}</label><select id=team_visibility class=\"form-control ng-valid-required w_360\" ng-model=vm.visibility ng-options=\"p.value as p.description for p in visibilities\"></select></div><div class=mt_28><button class=\"btn btn-danger\" ng-click=vm.js_visibility_step(2)>{{'team_admin_basic.change'|translate}}</button> <button class=\"btn btn-link btn-cancel\" ng-click=vm.js_visibility_cancel()>{{'common.btn_cancel'|translate}}</button></div></div><div ng-switch-when=2><div class=title><h4>{{'team_admin_basic.entry_password'|translate}}</h4></div><wt-confirm-password class=w_360 confirm-cancel=vm.js_visibility_step(1) confirm-success=vm.js_visibility_step(3)></wt-confirm-password></div><div ng-switch-when=3><div class=title><h4>{{'team_admin_basic.confirm_team_visibility'|translate}}</h4></div><div class=\"alert alert-info w_660\"><span><i class=\"fa fa-info-circle mr_5\"></i> <span translate=team_admin_basic.confirm_team_visibility_info translate-values={visibility_type:(vm.visibility|teamVisibility)}></span></span></div><div class=mt_28><button class=\"btn btn-danger\" data-loading-text=\"{{'team_admin_basic.changing'|translate}}\" wt-loading-status=saving_visibility ng-click=js_update_visibility()>{{'common.btn_ok'|translate}}</button> <button class=\"btn btn-link btn-cancel\" ng-click=vm.js_visibility_step(1)>{{'common.btn_cancel'|translate}}</button></div></div></div></dd></dl><dl class=dl-form><dt>{{'team_admin_basic.transfer_team'|translate}} <span class=dl-form-desc>{{'team_admin_basic.desc_transfer_team'|translate}}</span></dt><dd><ul class=dl-form-ul ng-hide=\"transfer_step>1\"><li><span class=dl-form-li-title>{{'team_admin_basic.ower'|translate}}</span><wt-avatar member=team.owner name=true atname=true size=30 faceclass=plr_5></wt-avatar></li></ul><button ng-hide=\"transfer_step>1\" class=\"btn mt_28 js-popbox\" data-placement=right data-align=bottom ng-click=js_transfer_pop($event)>{{'team_admin_basic.transfer_team'|translate}}</button><div ng-switch=transfer_step ng-if=\"transfer_step>1\"><div ng-switch-when=2><div class=title><h4>{{'team_admin_basic.entry_password'|translate}}</h4></div><wt-confirm-password class=w_360 confirm-cancel=js_transfer_step(1) confirm-success=js_transfer_step(3)></wt-confirm-password></div><div ng-switch-when=3><div class=title><h4>{{'team_admin_basic.confirm_transfer_team'|translate}}</h4></div><div class=\"alert alert-info w_660\"><span><i class=\"fa fa-info-circle mr_5\"></i> {{'team_admin_basic.confirm_transfer_team_info'|translate:{who:selected_member.display_name} }}</span></div><div class=form-group><button class=\"btn btn-danger\" data-loading-text=\"{{'team_admin_basic.transfing'|translate}}\" wt-loading-status=is_transferring ng-click=js_transfer()>{{'team_admin_basic.btn_transfer_team'|translate}}</button> <button class=\"btn btn-link\" ng-click=js_transfer_step(1)>{{'common.txt_cancel'|translate}}</button></div></div></div></dd></dl><dl class=\"dl-form team_admin_dismiss_wrap\"><dt>{{'team_admin_basic.dismiss_team'|translate}} <span class=dl-form-desc>{{'team_admin_basic.warn_dismiss_team'|translate}}</span></dt><dd><button ng-hide=\"dismiss_step>1\" class=\"btn btn-danger\" data-placement=right data-align=top ng-click=js_dismiss_step(2) wt-scroll-foucs=.team_admin_dismiss_wrap>{{'team_admin_basic.btn_dismiss_team'|translate}}</button><div ng-if=\"dismiss_step>1\" ng-switch=dismiss_step><div class=panel-section ng-switch-when=2><div class=title><h4>{{'team_admin_basic.entry_password'|translate}}</h4></div><wt-confirm-password class=w_360 confirm-cancel=js_dismiss_step(1) confirm-success=js_dismiss_step(3)></wt-confirm-password></div><div class=panel-section ng-switch-when=3><div class=title><h4>{{'team_admin_basic.confirm_dismiss_team'|translate}}</h4></div><div class=\"alert alert-info w_660\"><span><i class=\"fa fa-info-circle mr_5\"></i> {{'team_admin_basic.confirm_dismiss_team_info'|translate}}</span></div><div class=form-group><button class=\"btn btn-danger\" data-loading-text=\"{{'team_admin_basic.dismissing'|translate}}\" wt-loading-status=is_dismissing ng-click=js_dismiss()>{{'team_admin_basic.btn_confirm_dismiss_team'|translate}}</button> <button class=\"btn btn-link\" ng-click=js_dismiss_step(1)>{{'common.txt_cancel'|translate}}</button></div></div></div></dd></dl></div></div>"),a.put("/tpl/team/team_admin_custom.html", '<div class="part-loading mt_20" ng-hide=vm.part_loading_done></div><div ng-show=vm.part_loading_done class=team_admin_custom_area><div ng-if=!vm.permission_owner><div class=error-panel><i class="wtfont wtf-team"></i><br><span>{{\'team_admin_custom.desc\'|translate}}</span><br></div></div><div ng-if=vm.permission_owner><div class="fs_17 pb_14">{{\'team_admin_custom.individuation\'|translate}}</div><dl class="dl-form custom_task_label_area"><dt><strong>{{\'team_admin_custom.default_labels\'|translate}} </strong><span class=dl-form-desc>{{\'team_admin_custom.desc_default_labels\'|translate}}</span></dt><dd><div class=settings><div class=custom-container><header ng-hide=is_set_team_tag><div ng-if="vm.labels.length>0">{{\'team_admin_custom.current_labels\'|translate}}<div class="clear_fix mt_10"><label ng-repeat="label in vm.labels"><span class=team_label ng-class="label.name+\'-label\'" ng-bind="label.desc||\'&nbsp;\'"></span></label></div></div><div ng-hide="vm.labels.length>0" class=color-text-light>{{\'team_admin_custom.warn_empty_setting\'|translate}}</div></header><button class="btn mt_28" ng-hide=is_set_team_tag ng-click=js_toggle_team_tag()>{{\'common.btn_set\'|translate}}</button><div class="form-group border-all" ng-if=is_set_team_tag><wt-team-labels type=team team=team isheader=false></wt-team-labels></div><footer class=footer-wrap ng-hide=!is_set_team_tag><button class="btn btn-success" ng-click="js_toggle_team_tag(\'save\')">{{\'common.btn_save\'|translate}}</button> <a href=javascript:; class="cancel btn btn-link btn-cancel ml_35" ng-click="js_toggle_team_tag(\'cancel\');is_set_team_tag=false">{{\'common.btn_cancel\'|translate}}</a></footer></div></div></dd></dl><dl class="dl-form custom_default_project_area"><dt><strong>{{\'team_admin_custom.title_member_auto\'|translate}} </strong><span class=dl-form-desc>{{\'team_admin_custom.desc_member_auto\'|translate}}</span></dt><dd><div class=settings><div class=custom-container><header ng-hide=is_set_team_project><div ng-if="vm.defaultProjects.length>0">{{\'team_admin_custom.auto_join_project\'|translate}}<div class="clear_fix mt_10"><label class=deft-project ng-repeat="pro in vm.defaultProjects"><i ng-class=pro.pic ng-style={color:pro.bg}></i>{{[pro.name,40]|cutstr}}</label></div></div><div ng-hide="vm.defaultProjects.length>0" class=color-text-light>{{\'team_admin_custom.warn_empty_setting\'|translate}}</div></header><button class="btn mt_28" ng-hide=is_set_team_project ng-click=js_toggle_team_project() wt-scroll-foucs=.custom_default_project_area>{{\'common.btn_set\'|translate}}</button><div class=form-group ng-if=is_set_team_project><ul class="deft-set-project m-0"><li class=label-list ng-repeat="pro in vm.projects"><label class=label-i><input type=checkbox class=label-check ng-model=pro.checked><i ng-class=pro.pic ng-style={color:pro.bg}></i>{{[pro.name,40]|cutstr}}</label><div class=line></div></li><li class="label-list list_botton"><a class="js-popbox btn btn-link form-control" data-placement=bottom data-align=right ng-click=js_toggle_team_project_create($event)>{{\'team_admin_custom.btn_add_project\'|translate}}</a></li></ul><footer class=footer-wrap><button class="btn btn-success" ng-click=save_project()>{{\'common.btn_save\'|translate}}</button> <a href=javascript:; class="cancel btn btn-link btn-cancel ml_35" ng-click=js_toggle_team_project()>{{\'common.btn_cancel\'|translate}}</a></footer></div></div></div></dd></dl><dl class="dl-form custom_task_list_area"><dt><strong>{{\'team_admin_custom.title_auto_entrys\'|translate}} </strong><span class=dl-form-desc>{{\'team_admin_custom.desc_auto_entrys\'|translate}}</span></dt><dd><div class=settings><header class=show_area ng-hide=is_set_team_template><div class=clear_fix ng-if=vm.defaultTpl.name>{{\'team_admin_custom.current_entrys\'|translate}}: <span class=ml-10>{{vm.defaultTpl.name}}</span><ul class=list_area><li ng-repeat="enty in vm.defaultTpl.entries"><span class=title>{{[enty.name, 16]|cutstr}}</span><div class=line></div></li></ul></div><div ng-hide=vm.defaultTpl.name class=color-text-light>{{\'team_admin_custom.warn_empty_setting\'|translate}}</div></header><div class="editor_area custom-container custom-width-auto clearfix"><button class="btn mt_28" ng-hide=is_set_team_template ng-click=js_toggle_team_template() wt-scroll-foucs=.custom_task_list_area>{{\'common.btn_set\'|translate}}</button><div class=form-group ng-if=is_set_team_template><ul class="deft-set-temp m-0"><li class=label-list ng-repeat="tpl in vm.templates"><label class=label-i><p class=flex-row><input type=radio ng-change=setDefaultTemplat() name=defaultTemplate ng-value=tpl.template_id ng-model=vm.defaultTplId class=label-check> <span class="flex-se1 label-name">{{tpl.name}}</span> <i ng-click=js_edit_team_template(tpl.template_id,$event) data-placement=bottom data-align=right class="js-popbox fa fa-pencil remove_tpl"></i></p><p class=tpl-entries><span class=tpl-name ng-repeat="ety in tpl.entries">{{ety.name}}&nbsp;<span class=default-tpl-lable-hr ng-if="tpl.entries.length > 1 && ($middle||$first)">-</span></span></p></label><div class=line></div></li><li class="label-list list_botton"><a class="js-popbox btn btn-link form-control" data-placement=bottom data-align=right ng-click=js_toggle_team_template_create($event)>{{\'team_admin_custom.btn_auto_entrys\'|translate}}</a></li></ul><footer class=footer-wrap><button class="btn btn-success" ng-click=save_templates()>{{\'common.btn_save\'|translate}}</button> <a href=javascript:; class="cancel btn btn-link btn-cancel ml_35" ng-click=js_toggle_team_template()>{{\'common.btn_cancel\'|translate}}</a></footer></div></div></div></dd></dl></div></div>'),a.put("/tpl/team/team_admin_custom_add_template.html", '<div class=popbox-header><button class="cancel fa fa-remove" ng-click=pm.js_close()></button><h3>{{\'team_admin_custom_add_template.title\'|translate}}</h3></div><div class="popbox-bodywrapper max-h400" wt-scroll><div class="popbox-body w_340"><div class=pop-custom><form name=add_template_form w5c-form-validate="" class=w5c-form novalidate="" role=form><div class=form-group><label>{{\'team_admin_custom_add_template.name\'|translate}}</label><input type=text ng-model=newTpl.name name=teplateName required wt-autofocus="" class="form-control pop-custom-input mt_10" placeholder="{{\'team_admin_custom_add_template.placeholder_name\'|translate}}"></div><div class=form-group><label class=mt_10>{{\'team_admin_custom_add_template.entry_name\'|translate}}</label><div class="clearfix mb_10" ng-repeat="tpl in newTpl.entries"><input type=text class="form-control pop-custom-input" required wt-validator-name="\'entry_name\'+$index" ng-model=tpl.name placeholder="{{\'team_admin_custom_add_template.placeholder_entry_name\'|translate}}"> <i class="fa fa-close pop-custom-input-remove" ng-if="newTpl.entries.length > 1" ng-click=js_remove_a_template($index)></i></div></div><div class=form-group><label><a ng-click=js_add_more_template()>+{{\'team_admin_custom_add_template.btn\'|translate}}</a></label></div><div class=form-group><label><input type=checkbox class=pop-custom-check ng-model=newTpl.is_default> {{\'team_admin_custom_add_template.check\'|translate}}</label></div><div class=form-group><button wt-loading-status=pm.is_loading data-loading-text="{{\'common.creating\'|translate}}" w5c-form-submit=js_do_new_template() href=javascript:; class="btn btn-success">{{\'common.btn_save\'|translate}}</button> <button ng-click=pm.js_close() href=javascript:; class="btn btn-link btn-cancel">{{\'common.btn_cancel\'|translate}}</button></div></form><div class=divider></div></div></div></div>'),a.put("/tpl/team/team_admin_custom_edite_template.html", '<div class=popbox-header><button class="cancel fa fa-remove" ng-click=pm.js_close()></button><h3>{{\'team_admin_custom_edite_template.title\'|translate}}</h3></div><div class="popbox-bodywrapper max-h400" wt-scroll><div class="popbox-body w_350"><div class=pop-custom><form name=edit_template_form w5c-form-validate="" class=w5c-form novalidate="" role=form><div class=form-group><label>{{\'team_admin_custom_edite_template.name\'|translate}}</label><input type=text name=teplateName ng-model=pm.tpl.name required wt-autofocus="" class="form-control pop-custom-input mt_10" placeholder="{{\'team_admin_custom_edite_template.placeholder_name\'|translate}}"></div><div class=form-group><label class=mt_10>{{\'team_admin_custom_edite_template.entry_name\'|translate}}</label><div class="clearfix mb_10" ng-repeat="enty in pm.tpl.entries"><input type=text class="form-control pop-custom-input" ng-model=enty.name wt-validator-name="\'entry_name\'+$index" required="" placeholder="{{\'team_admin_custom_edite_template.placeholder_entry_name\'|translate}}"> <i class="fa fa-close pop-custom-input-remove" ng-if="pm.tpl.entries.length > 1" ng-click=js_remove_a_template($index)></i></div></div><div class=form-group><label><a ng-click=js_add_more_template()>+{{\'team_admin_custom_edite_template.btn\'|translate}}</a></label></div><div class=form-group><button wt-loading-status=new.is_loading data-loading-text="{{\'common.creating\'|translate}}" w5c-form-submit=js_do_save_template() href=javascript:; class="btn btn-success">{{\'common.btn_save\'|translate}}</button> <button wt-loading-status=new.is_loading data-loading-text="{{\'common.creating\'|translate}}" w5c-form-submit=js_do_del_template() ng-if="pm.vm.templates.length>1" href=javascript:; class="btn btn-link btn-cancel">{{\'common.btn_del\'|translate}}</button></div></form><div class=divider></div></div></div></div>'),a.put("/tpl/team/team_admin_members.html", "<div class=\"part-loading mt_20\" ng-hide=part_loading_done></div><div ng-show=part_loading_done><div class=\"panel-section table-list\"><div class=fs_17>{{'team_admin_members.members_setting'|translate}}</div><hr><table class=\"table table--fancy\"><thead><tr><th>{{'common.txt_member'|translate}}</th><th>{{'team_admin_members.email'|translate}}/{{'team_admin_members.phone'|translate}}</th><th>{{'team_admin_members.join_date'|translate}}</th><th>{{'common.txt_role'|translate}}</th><th>{{'team_admin_members.status'|translate}}</th><th>{{'common.txt_set'|translate}}</th></tr></thead><tbody><tr ng-repeat=\"member in account_members\"><td><wt-avatar member=member name=true size=30></wt-avatar></td><td>{{member.email||member.phone}}</td><td>{{member.join_date|timeFormatZHCN}}</td><td><span ng-if=\"member.uid==current_team.owner.uid\">{{'team_admin_members.team_owner'|translate}} </span><span ng-if=\"member.uid!=current_team.owner.uid\">{{member.role|role}}</span></td><td>{{member.status|memberStatus}}</td><td><a class=\"js-popbox btn\" href=javascript:; data-placement=left data-align=middle wt-member-control member=member team=team show-team-setting=true>{{'common.btn_set'|translate}}</a></td></tr><tr ng-if=\"account_members.length == 0\"><td colspan=7>{{'team_admin_members.warn'|translate}}</td></tr><tr ng-show=!account_members><td colspan=7 align=center></td></tr></tbody></table></div></div>"),a.put("/tpl/team/team_admin_projects.html", "<div class=\"part-loading mt_20\" ng-hide=part_loading_done></div><div ng-show=part_loading_done><div class=\"panel-section table-list\"><div class=fs_17>{{'team_admin_projects.title'|translate}}</div><hr><table class=\"table table--fancy\"><thead><tr><th>{{'team_admin_projects.project_name'|translate}}</th><th>{{'team_admin_projects.manger'|translate}}</th><th>{{'team_admin_projects.count'|translate}}</th><th>{{'team_admin_projects.status'|translate}}</th><th>{{'team_admin_projects.create_time'|translate}}</th><th>{{'common.txt_set'|translate}}</th></tr></thead><tbody><tr ng-repeat=\"project in account_projects\"><td><a ng-href=/project/{{project.pid}} class=color-text-dark ng-bind=[project.name,40]|cutstr></a></td><td><wt-avatar ng-repeat=\"admin in project.admins\" member=admin name=true size=30 class=mr_15></wt-avatar></td><td>{{project.member_count}}</td><td>{{project.archived|projectStatus}}</td><td>{{project.create_date|timeFormatZHCN}}</td><td><a class=\"js-popbox btn\" href=javascript:; ng-if=project.is_teamOwnerHandler ng-click=vm.js_pop_project_setting($event,project) data-placement=left data-align=middle>{{'common.btn_set'|translate}}</a></td></tr><tr ng-if=\"account_projects.length == 0\"><td colspan=6>{{'team_admin_projects.warn'|translate}}</td></tr><tr ng-show=!account_projects><td colspan=6 align=center></td></tr></tbody></table></div></div>"),a.put("/tpl/team/team_admin_security.html", "<div class=\"part-loading mt_20\" ng-hide=\"part_loading_done && loading_histories_done\"></div><div class=\"panel-section inner\" ng-show=\"part_loading_done && loading_histories_done\"><div class=fs_17>{{'team_admin_security.title'|translate}}</div><hr><table class=\"table table--fancy\"><thead><tr><th>{{'team_admin_security.col_member'|translate}}</th><th>{{'team_admin_security.col_action'|translate}}</th><th>{{'team_admin_security.col_ip'|translate}}</th><th>{{'team_admin_security.col_time'|translate}}</th></tr></thead><tbody><tr ng-repeat=\"history in histories\"><td><wt-avatar member=history.actor name=true size=30></wt-avatar></td><td style=\"width: 40%\"><span ng-bind=history.verb_display></span><wt-avatar member=history.member name=true size=30></wt-avatar></td><td>{{history.location + ''+ history.ipaddress + ''}}</td><td>{{history.published|timeFormatZHCN}}</td></tr><tr ng-show=\"histories.length == 0\"><td colspan=4>{{'team_admin_security.warn'|translate}}</td></tr></tbody></table><div class=pull-right wt-pagination=security_pagination_opts></div></div>"),a.put("/tpl/team/team_admin_tabs.html", "<ul class=tabs><li><a ng-class=\"{true: 'active'}[current_menu == 'summary']\" href=/teams/{{team_id}}/admin/summary>{{'team_admin_tabs.desc'|translate}}</a></li><li><a ng-class=\"{true: 'active'}[current_menu == 'basic']\" href=/teams/{{team_id}}/admin/basic>{{'team_admin_tabs.baseinfo'|translate}}</a></li><li><a ng-class=\"{true: 'active'}[current_menu == 'members']\" href=/teams/{{team_id}}/admin/members>{{'team_admin_tabs.members_setting'|translate}}</a></li><li><a ng-class=\"{true: 'active'}[current_menu == 'projects']\" href=/teams/{{team_id}}/admin/projects>{{'team_admin_tabs.project_setting'|translate}}</a></li><li><a ng-class=\"{true: 'active'}[current_menu == 'security']\" href=/teams/{{team_id}}/admin/security>{{'team_admin_tabs.security_log'|translate}}</a></li></ul>"),a.put("/tpl/team/team_admin_task_stats_widget.html", '<div class="box-panel my-tasks-overview"><div ng-class="{true:\'box-panel-header\'}[!!(global.team_module.view|permission:current_team.permission)]" class=hello-body><div class="hello-right pb_10"><h4>{{current_team.name}}</h4><br ng-if="current_team.desc !=\'\'"><span>{{current_team.desc}}</span><br><span>{{\'team_admin_task_stats_widget.create_by_time\'|translate:{when:(current_team.create_date|dateFormatZHCN)} }}</span></div></div><div class=box-panel-body ng-if=global.team_module.view|permission:current_team.permission><ul><li class=tasks-uncompleted><a href=javascript:; ng-click="go_to_team_task_sub_tab(\'uncompleted\')"><span class=count ng-show=!loading_overview_done><i class="fa fa-refresh"></i> </span><span class=count ng-show=loading_overview_done>{{team_tasks_overview.uncompleted}}</span> <span class=text>{{\'team_admin_task_stats_widget.uncompleted_task\'|translate}}</span></a></li><li class=tasks-expired><a href=javascript:; ng-click="go_to_team_task_sub_tab(\'expired\')"><span class=count ng-show=!loading_overview_done><i class="fa fa-refresh"></i> </span><span class=count ng-show=loading_overview_done>{{team_tasks_overview.expired}}</span> <span class=text>{{\'team_admin_task_stats_widget.expired_task\'|translate}}</span></a></li><li class="tasks-completed noborder"><a href=javascript:; ng-click="go_to_team_task_sub_tab(\'completed\')"><span class=count ng-show=!loading_overview_done><i class="fa fa-refresh"></i> </span><span class=count ng-show=loading_overview_done>{{team_tasks_overview.completed}}</span> <span class=text>{{\'team_admin_task_stats_widget.completed_task\'|translate}}</span></a></li></ul></div></div>'),a.put("/tpl/team/team_calendar.html", "<dl class=margin_inner><div class=calendar-command-panel><div class=command-penal><div id=calendar-range-wrapper><a href=javascript:; ng-click=prev()><i class=\"fa fa-angle-left\"></i></a><h4 id=calendar_title class=range-text></h4><a href=javascript:; ng-click=next()><i class=\"fa fa-angle-right\"></i> </a><button id=calendar_today class=\"btn btn-today\" ng-click=today()>{{'common.today'|translate}}</button></div><div class=\"btn-group month-week-wrapper\"><button class=\"btn month-btn\" ng-class=\"{true: 'active'}[vm.calendar_view=='month']\" ng-click=\"changeView('month')\">{{'common.month'|translate}}</button> <button class=\"btn week-btn\" ng-class=\"{true: 'active'}[vm.calendar_view=='agendaWeek']\" ng-click=\"changeView('agendaWeek')\">{{'common.day'|translate}}</button></div><div class=about-me-wrapper></div></div><div class=calendar-panel ng-class=\"{'agendaWeek': 'week'}[vm.calendar_view]\"><div id=calendar calendar=myCalendar ui-calendar=vm.calendarConfig ng-model=vm.calendarEventSources></div></div></div></dl>"),a.put("/tpl/team/team_calendar_sidebar.html", "<div class=\"layout_right_sidebar layout_right_sidebar--team\"><dl class=\"prj_sidebar h_100p\"><dd><div class=sidebar_header><a href=javascript:; ng-click=vm.js_close_filter()><button class=\"cancel wtfont wtf-close\"></button><h3>{{'team_calendar_sidebar.filter_calendar'|translate}}</h3></a></div><div class=sidebar_body_scroll wt-scroll ng-mouseenter=\"vm.is_filter_action=true\" ng-mouseleave=\"vm.is_filter_action=false\"><div class=sidebar_body><h3 class=sidebar_body_header>{{'team_calendar_sidebar.filter_type'|translate}} <a href=javascript:; class=filter_clear_btn ng-show=vm.is_filter_action ng-click=vm.js_clear_filter()>{{'team_calendar_sidebar.clearfilter'|translate}}</a></h3><ul class=filter_type_list_area><li ng-click=vm.js_filter_type() ng-class=\"{'selected':vm.teamCalendarFilterData.filter_only_schedule==false&&vm.teamCalendarFilterData.filter_only_task==false}\">{{'common.txt_all'|translate}}</li><li ng-click=\"vm.js_filter_type('schedule')\" ng-class=\"{'selected':vm.teamCalendarFilterData.filter_only_schedule==true}\">{{'team_calendar_sidebar.only_event'|translate}}</li><li ng-click=\"vm.js_filter_type('task')\" ng-class=\"{'selected':vm.teamCalendarFilterData.filter_only_task==true}\">{{'team_calendar_sidebar.only_task'|translate}}</li></ul><hr><h3 class=sidebar_body_header>{{'team_calendar_sidebar.sort_by_project'|translate}}</h3><ul class=project_list_area><li class=item ng-repeat=\"project in vm.teamCalendarFilterData.team_all_projects\" ng-click=vm.js_calendar_filter_project_toggle(project)><div class=checkbox_area><i class=fa ng-class=\"{false:'fa-square-o',true:'fa-check-square'}[project.is_checked]\"></i></div><a href=javascript:;><span class=\"project-icon {{project.pic}} mr_14 fs_18\" ng-style=\"{'color':project.bg}\"></span> <span ng-bind=[project.name,15]|cutstr></span></a></li></ul><hr><h3 class=sidebar_body_header>{{'team_calendar_sidebar.sort_by_member'|translate}}</h3><ul class=\"member_list_area checkable\"><li ng-repeat=\"member in vm.teamCalendarFilterData.team_all_member\" ng-class=\"{'selected':member.is_checked}\" ng-click=vm.js_calendar_filter_member_toggle(member)><wt-avatar member=member size=30 name=[member.display_name,10]|cutstr></wt-avatar></li></ul></div></div></dd></dl></div>"),a.put("/tpl/team/team_graphs.html", '<div class=team-dashboard wt-minheight=112><div ng-if="team!=null"><wt-team-dashboard-overview team-id=team.team_id data=vm.overview></wt-team-dashboard-overview><ul class="portlet ui-sortable" sortable=vm.stats_sort_options><li ng-repeat="stats in vm.stats_list track by stats.type+stats.pid" class=portlet-item><wt-dashboard-stats stats=stats></wt-dashboard-stats></li><li></li></ul><a class="team-dashboard-add js-popbox" data-align=left data-placement=top ng-click=vm.js_pop_add_stats($event)><i class="wtfont wtf-add"></i><p>{{\'team_graphs.desc\'|translate}}</p></a></div></div>'),a.put("/tpl/team/team_members.html", '<dl class="frame team_members" wt-minheight=112><dd class=frame-dd><div class=frame-lr-right><dl class=dl-filter><div class=admin_btn_area ng-if=parent_vm.user_is_team_admin><button class="btn w-100p btn-success btn--fancy" ng-click=vm.js_add_team_member()>{{\'team_team_members.title\'|translate}}</button> <button class="btn w-100p mt_10" ng-click=vm.js_goto_team_admin()>{{\'team_team_members.title_member_setting\'|translate}}</button><hr></div><dt class=mt_10><span class=title>{{\'team_team_members.title_filter\'|translate}}</span></dt><dd><ul class=checkable><li ng-class="{\'selected\': vm.filter_type==\'normals\'}" ng-click="vm.js_reset_filter_type(\'normals\')"><a href=javascript:;>{{\'team_team_members.team_members\'|translate}}</a></li><li ng-class="{\'selected\': vm.filter_type==\'guests\'}" ng-click="vm.js_reset_filter_type(\'guests\')"><a href=javascript:;>{{\'team_team_members.team_visitor\'|translate}}</a></li></ul></dd><dd><a href="//worktile.com/upgrade?utm_source=free_team_members_list" target=_blank><i class="fa fa-info-circle"></i> {{\'team_team_members.link_try_pro\'|translate}}</a></dd></dl></div><div class=frame-lr-left><div class=empty-panel ng-if="vm.members.normals.length==0 && vm.members.inviteds.length==0 && vm.filter_type==\'normals\'"><i class="wtfont wtf-user"></i><br><span>{{\'team_team_members.warn_empty_team_member\'|translate}}</span></div><div class=empty-panel ng-if="vm.members.guests.length==0 && vm.filter_type==\'guests\'"><i class="wtfont wtf-user"></i><br><span>{{\'team_team_members.warn_empty_visitor\'|translate}}</span></div><div class="part-loading mt_20" ng-hide=vm.part_loading_done></div><div ng-if="vm.part_loading_done && vm.filter_type==\'normals\'"><div class=frame-dt><span class=title>{{\'team_team_members.members\'|translate}}</span></div><div class=frame-dd><ul class=team_members_list><li class="item flex_row" ng-repeat="member in vm.members.normals"><span class="item_avatar flex_se1"><wt-avatar member=member size=42 status=true class=js-popbox wt-member-control team=team data-align=left></wt-avatar><span class=name>{{[member.display_name,10]|cutstr}} </span></span><span class=flex_se1>{{member.email}}</span> <span class="members_project_status flex_row w_252 mr_20"><span class="pending {{member.overview.uncompleted==0?\'empty\':\'\'}} flex_se1" tooltip-placement=top uib-tooltip="{{\'team_team_members.todo\'|translate}}">{{member.overview.uncompleted}} </span><span class="expired {{member.overview.expired==0?\'empty\':\'\'}} flex_se1" tooltip-placement=top uib-tooltip="{{\'team_team_members.expire\'|translate}}">{{member.overview.expired}} </span><span class="complete {{member.overview.completed==0?\'empty\':\'\'}} flex_se1" tooltip-placement=top uib-tooltip="{{\'team_team_members.done\'|translate}}">{{member.overview.completed}}</span></span></li></ul></div></div><div ng-if="vm.part_loading_done && vm.members.inviteds.length>0 && vm.filter_type==\'normals\'" class=mt_30><div class=frame-dt><span class=title>{{\'team_team_members.pending\'|translate}}</span></div><div class=frame-dd><ul class="clearfix ml_20"><li class="pull-left mt_30 mr_45 text-center" ng-repeat="member in vm.members.inviteds"><wt-avatar member=member size=42 status=true class=js-popbox wt-member-control data-align=left></wt-avatar><div class="text-overflow w_76 mt_5">{{member.display_name}}</div></li></ul></div></div><div ng-if="vm.part_loading_done && (vm.members.guests.length>0 && vm.filter_type==\'guests\')"><div class=frame-dt><span class=title>{{\'team_team_members.members\'|translate}}</span></div><div class=frame-dd><ul class=team_members_list><li class="item flex_row" ng-repeat="member in vm.members.guests"><span class="item_avatar flex_se1"><wt-avatar member=member size=42 status=true class=js-popbox wt-member-control data-align=left></wt-avatar><span class=name>{{[member.display_name,10]|cutstr}} </span></span><span class=flex_se1>{{member.email}}</span> <span class="members_project_status flex_row w_252 mr_20"><span class="pending {{member.overview.uncompleted==0?\'empty\':\'\'}} flex_se1" tooltip-placement=top uib-tooltip="{{\'team_team_members.todo\'|translate}}">{{member.overview.uncompleted}} </span><span class="expired {{member.overview.expired==0?\'empty\':\'\'}} flex_se1" tooltip-placement=top uib-tooltip="{{\'team_team_members.expire\'|translate}}">{{member.overview.expired}} </span><span class="complete {{member.overview.completed==0?\'empty\':\'\'}} flex_se1" tooltip-placement=top uib-tooltip="{{\'team_team_members.done\'|translate}}">{{member.overview.completed}}</span></span></li></ul></div></div></div></dd></dl>'),
    a.put("/tpl/team/team_not_found.html", '<div class=layout_content ng-if="part_loading_done && (!team||!(global.team_module.view_base|permission:team.permission))"><div class="layout_content_main no_sidebar"><dl class=frame wt-minheight=90><dt class=frame-dt><span class=title>{{\'team_not_found.title\'|translate}}</span></dt><dd class=frame-dd><div class=error-panel><i class="fa fa-sitemap"></i><br><span>{{\'team_not_found.info\'|translate}}</span><br><a class="btn btn-danger" href=/account/teams>{{\'team_not_found.link\'|translate}}</a></div></dd></dl></div></div>'),a.put("/tpl/team/team_projects.html", "<div class=team_project><div ng-if=\"parent_vm.public_team!=null\" class=team-public-dashboard wt-minheight=112><div class=team-public-dashboard-right><dl class=frame><dt>{{parent_vm.public_team.info.name}}</dt><dd class=text-muted><div class=\"p_5 pt-10\">{{'team_projects2.industry'|translate}} &nbsp; {{parent_vm.public_team.info.industry|teamIndustries}}</div><div class=p_5 ng-show=\"parent_vm.public_team.info.desc==''\">{{'team_projects2.empty_team_desc'|translate}}</div><div class=p_5 ng-show=\"parent_vm.public_team.info.desc!=''\">{{parent_vm.public_team.info.desc}}</div><div class=p_5>{{'team_projects2.info_create_by_date'|translate:{when:(parent_vm.public_team.info.create_date|dateFormatZHCN)} }}</div></dd></dl><dl class=frame><dt>{{'team_projects2.title_members'|translate}}</dt><dd><ul class=checkable><li ng-repeat=\"member in parent_vm.public_team.members track by member.uid\"><wt-avatar member=member name=true></wt-avatar></li></ul></dd></dl></div><dl class=\"frame team_project\" wt-minheight=82><dt class=frame-dt><span class=title>{{'team_projects2.title_projects'|translate}}</span></dt><div class=empty-panel ng-if=\"parent_vm.public_team.projects.length==0\"><i class=\"wtfont wtf-project\"></i><br><span>{{'team_projects2.warn_empty_project'|translate}}</span></div><dd class=frame-dd ng-if=\"parent_vm.public_team.projects.length>0\"><ul class=team_project_list><wt-project-grid-item ng-repeat=\"project in parent_vm.public_team.projects track by project.pid\" project=project like=star></wt-project-grid-item></ul></dd></dl></div><dl class=frame ng-if=\"team!=null\" wt-minheight=112><dd class=frame-dd><div class=frame-lr-right><dl class=dl-filter><div class=admin_btn_area ng-if=parent_vm.user_is_team_admin><button class=\"btn w-100p btn-success btn--fancy js-popbox\" ng-click=vm.js_new_project($event)>{{'team_projects2.btn_add_project'|translate}}</button> <button class=\"btn w-100p mt_10\" ui-sref=team.admin.projects ui-sref-active=active ng-if=parent_vm.user_is_team_owner>{{'team_projects2.prject_manager'|translate}}</button><hr></div><dt><span class=title>{{'team_projects2.title_filter'|translate}}</span></dt><dd><ul class=checkable><li ng-class=\"{'selected': vm.filter_type=='me'}\" ng-click=\"vm.js_reset_filter_type('me')\"><a href=javascript:;>{{'team_projects2.my_join'|translate}}</a></li><li ng-class=\"{'selected': vm.filter_type=='team'}\" ng-click=\"vm.js_reset_filter_type('team')\"><a href=javascript:;>{{'team_projects2.team_protected'|translate}}</a></li></ul></dd></dl></div><div class=frame-lr-left><div class=empty-panel ng-if=\"vm.part_loading_done&&vm.projects.participateds.length==0&&vm.filter_type=='me'\"><i class=\"wtfont wtf-project\"></i><br><span>{{'team_projects2.warn_empty_my_join'|translate}}</span></div><div class=empty-panel ng-if=\"vm.projects.teampublics.length==0&&vm.filter_type=='team'\"><i class=\"wtfont wtf-project\"></i><br><span>{{'team_projects2.warn_empty_protected'|translate}}</span></div><div class=\"part-loading mt_20\" ng-hide=vm.part_loading_done></div><div ng-if=\"vm.projects.participateds.length>0 && vm.filter_type=='me'\"><div class=frame-dt><span class=title>{{'team_projects2.title_projects'|translate}}</span></div><div class=frame-dd ng-if=\"vm.projects.participateds.length>0 && vm.filter_type=='me'\"><ul class=team_project_list><wt-project-grid-item ng-repeat=\"project in vm.projects.participateds\" project=project like=star></wt-project-grid-item></ul></div></div><div ng-if=\"vm.projects.teampublics.length>0 && vm.filter_type=='team'\"><div class=frame-dt><span class=title>{{'team_projects2.title_projects'|translate}}</span></div><div class=frame-dd><ul class=team_project_list><wt-project-grid-item ng-repeat=\"project in vm.projects.teampublics\" project=project like=favorite></wt-project-grid-item></ul></div></div></div></dd></dl></div>"),a.put("/tpl/team/team_setting.html", '<dl class=frame wt-minheight=112><dd class=frame-dd><div class="part-loading mt_20" ng-hide=part_loading_done></div><div ng-show=part_loading_done><div class=fs_17>{{\'team_setting.title\'|translate}}</div><hr class=mt_10><div class=single-panel-section><div class=single-panel-section-content><div ng-switch=quit_team_step><div class=pt_15 ng-switch-when=1><div class="w_660 pb_20"><i class="fa fa-info-circle mr_5 color-text-grayer"></i> <span class=color-text-grayer>{{\'team_setting.desc\'|translate}}</span></div><div class=form-group><button class="btn btn--warning-border" data-placement=right data-align=top ng-click=js_quit_team_step(2)>{{\'team_setting.btn\'|translate}}</button></div></div><div ng-switch-when=2><wt-confirm-password class=w_360 confirm-cancel=js_quit_team_step(1) confirm-success=js_quit_team_step(3)></wt-confirm-password></div><div ng-switch-when=3><div class="alert alert-warning w_660" ng-show="!(unique_admin_prjs.length > 0)"><span><i class="fa fa-info-circle mr_5"></i> {{\'team_setting.desc2\'|translate}}</span></div><div class="alert alert-warning w_660" ng-show="unique_admin_prjs.length > 0"><span><i class="fa fa-info-circle mr_5"></i> {{\'team_setting.count_manager\'|translate:{count:unique_admin_prjs.length} }}</span></div><div class=form-group><button class="btn btn-danger mr_15" data-loading-text= wt-loading-status=is_quiting ng-click=js_quit_team()></button> <button class="btn btn-link" ng-click=js_quit_team_step(1)>{{\'common.txt_cancel\'|translate}}</button></div></div></div></div></div></div></dd></dl>'),a.put("/tpl/team/team_tasks.html", "<dl class=\"frame team_tasks\" wt-minheight=112><dd class=frame-dd><div class=frame-lr-right><dl class=dl-filter><dt><span class=title>{{'team_team_tasks.title_filter'|translate}}</span></dt><dd><ul class=checkable><li ng-class=\"{'selected': vm.filter_type_reg=='uncompleted'}\" ng-click=\"js_reset_filter_type('uncompleted')\"><a href=javascript:;>{{'team_team_tasks.uncompleted'|translate}}</a></li><li ng-class=\"{'selected': vm.filter_type_reg=='expired'}\" ng-click=\"js_reset_filter_type('expired')\"><a href=javascript:;>{{'team_team_tasks.expired'|translate}}</a></li><li ng-class=\"{'selected': vm.filter_type_reg=='completed'}\" ng-click=\"js_reset_filter_type('completed')\"><a href=javascript:;>{{'team_team_tasks.completed'|translate}}</a></li></ul></dd><hr><dt><span class=title>{{'team_team_tasks.member_filter'|translate}}</span></dt><dd><ul class=checkable><li ng-class=\"{'selected': vm.filter_user_reg==member.uid}\" ng-repeat=\"member in team.members\" ng-click=js_toggle_filter_user(member.uid)><wt-avatar member=member size=30 wt-disable-pop name=[member.display_name,10]|cutstr></wt-avatar></li><li ng-class=\"{'selected': vm.filter_user_reg=='none'}\" ng-click=\"js_toggle_filter_user('none')\"><a class=\"avatar avatar-ban\" href=javascript:;><i class=\"wtfont wtf-ban\"></i> <span class=avatar-name>{{'team_team_tasks.unassign_task'|translate}}</span></a></li></ul></dd></dl></div><div class=frame-lr-left><div class=frame-dt><span class=title>{{'common.txt_task'|translate}}</span></div><div class=empty-panel ng-show=\"tasks.length == 0 && !loading_tasks\"><i class=\"fa fa-check-square-o\"></i><br><span>{{'team_team_tasks.warn'|translate}}</span></div><div class=slide-trigger><wt-task task=task arg-view-type=item arg-show-project=true ng-repeat=\"task in tasks track by task.tid\" ng-click=locator.openTask(task.pid,task.tid)></wt-task></div><div class=loading-more-panel><div class=part-loading ng-if=loading_tasks></div><button class=btn ng-if=\"!loading_tasks && vm.is_has_more_task\" ng-click=load_tasks()>{{'common.btn_loading'|translate}}</button></div></div></dd></dl>"),a.put("/tpl/team/team_title.html", "<h3><i class=\"fa fa-sitemap mr_10\"></i> {{current_team.name}}</h3><a href=javascript:; class=ml_15 tooltip-placement=bottom uib-tooltip={{current_team.visibility|teamVisibility}} show-team-visibility-options ng-click=show($event)><i ng-class=\"{'icon-private':current_team.visibility == 1,'icon-public':current_team.visibility == 2}\"></i></a>"),a.put("/ycjs/directive/activity/activity.html", "<li class=activity-item bindonce bo-class=\"{true:'activity-item-day'}[activity.is_show_date]\"><div class=activity-day ng-show=activity.is_show_date><span class=year bo-html=\"([activity.published,'YYYY']|momentFormat) +'<br>'\"></span> <strong bo-text=\"[activity.published,'MM/DD']|momentFormat\"></strong> <span class=weekday bo-text=\"[activity.published,'ddd']|momentFormat\"></span></div><div class=activity-icon><i class=fa bo-class=activity.verb|activityIcon></i></div><div class=activity-meta><span class=date bo-title=\"[activity.published,'HH:mm']|momentFormat\" bo-text=\"[activity.published,'HH:mm']|momentFormat\"></span></div><wt-avatar member=activity.actor size=30 class=activity-avatar></wt-avatar><div class=activity-itemwarp><span class=activity><wt-include src=\"tpl_prefix + activity.template\"></wt-include></span></div></li>"),a.put("/ycjs/directive/activity/activity_feed.html", '<li class="line-item wt-row feed-item" bindonce ng-click=js_click_feed()><div class="feed-item-inner slide-trigger"><div class="column column-actor"><wt-avatar member=feed.actor name=true size=40 wt-stop-propagation=click></wt-avatar></div><div class="column column-action"><h4><span bo-text=actionTitle></span> <span class=action-text bo-html=actionText></span></h4><span class=entity><i class="fa {{::type_icon.icon}}"></i> <span class=grey-text bo-html=display_entity.name></span></span><div class=project-name bo-text=feed.project_name></div></div><div class="column column-datetime"><span bo-text=feed.published|fromNow></span></div></div></li>'),a.put("/ycjs/directive/archive/archiveentry_item.html", '<div><div class="wt-row archiveentry-item" ng-click=vm.js_toggle_show_tasks(vm.entry)><div class="column column-name"><i class="fa fa-columns mr_20"></i>{{vm.entry.name}}</div><div class="column column-date">{{\'archiveentry_item.entry_info\'|translate:{when:(vm.entry.update_date|timeFormatZHCN)} }}</div><div class="column column-action"><a href=javascript:; class="btn btn-sm" ng-click="vm.js_unarchive_entry($event, vm.entry.entry_id)" ng-if=vm.permission title="{{\'archiveentry_item.unarchive\'|translate}}">{{\'archiveentry_item.unarchive\'|translate}} </a>&nbsp; &nbsp; &nbsp; <a href=javascript:;><i class="fa fa-chevron-down" ng-if=vm.entry.collapse></i> <i class="fa fa-chevron-up" ng-if=!vm.entry.collapse></i></a></div></div><div uib-collapse=vm.entry.collapse><div class="part-loading mt_20" ng-hide=vm.entry.part_loading_done></div><div class="empty-panel empty-panel-small empty-panel-mt-2" ng-if="vm.entry.part_loading_done && vm.entry.tasks.length == 0"><i class="fa fa-check-square-o"></i><br><span>{{\'archiveentry_item.warn_empty_task\'|translate}}</span></div><wt-task ng-if="vm.entry.part_loading_done && vm.entry.tasks.length > 0" ng-repeat="task in vm.entry.tasks track by task.tid" task=task arg-view-type=item class=slide-trigger ng-click="locator.openTask(task.pid, task.tid)"></wt-task></div></div>'),a.put("/ycjs/directive/attachment/attachment.html", "<div class=attachment title={{vm.file.name}}><a class=\"file-picfile {{[vm.file.ext,'fancybox-file']|ifImgExtSetClass}}\" ng-href=\"{{ {0:'#',2:'/files/'+vm.file.fid+'/preview'}[(vm.file|isPreviewFile)] }}\" target=_blank data-fancybox-group=filegroup-attachment data-fancybox-href={{vm.file|wtBoxView}} data-fancybox-type=image title={{vm.file.name}}><span ng-if=vm.file.error><span class=\"label label-danger\">{{vm.file.error|fileuploadErrorInfo}}</span> </span><img ng-if=!vm.file.preview ng-src={{vm.file.icon|wtBox}} alt={{vm.file.name}}><div ng-if=vm.file.preview class=preview data-file-upload-preview=vm.file></div></a><small class=file-type ng-if=vm.file.type|isFile><span class=text-uppercase>{{vm.file|fileExt}} </span>{{'common.txt_file'|translate}} </small><a class=file-name href=javascript:; ng-click=vm.parse_gofile() title={{vm.file.name}}>{{vm.file.name}} </a><span class=file-size>{{vm.file.size|fileSize}}</span> <span class=file-action><a ng-if=\"(vm.file|isPreviewFile)==2\" class=file-preview target=_blank href=/files/{{vm.file.fid}}/preview>{{'common.txt_preview'|translate}} </a><a class=file-cancel href=javascript:; ng-click=vm.file.$cancel() ng-hide=!vm.file.$cancel>{{'common.txt_cancel'|translate}} </a><a class=file-down href=javascript:; ng-if=!vm.file.$progress() ng-click=vm.parse_gofile()>{{'common.txt_open'|translate}} </a><a class=file-down ng-href={{vm.file|wtBoxDownload}} target=_blank ng-if=!vm.file.$progress()>{{'common.txt_download'|translate}} </a><a class=file-del href=javascript:; ng-if=vm.has_del ng-click=vm.parse_del()>{{vm.parse_del}}{{'common.txt_del'|translate}}</a></span></div>"),a.put("/ycjs/directive/autosave/autosave.html", "<div class=autosave ng-show=vm.show_tip><a href=javascript:; ng-click=vm.revert_save()>{{'directive_autosave.recover_last_version'|translate}} ({{vm.save_time}}) </a><button class=\"cancel wtfont wtf-close\" ng-click=vm.cancel_save()></button></div>"),a.put("/ycjs/directive/avatar/avatar.html", "<a class=avatar wt-pop-member=\"'onlyinfo'\"><span class=avatar-face></span></a>"),a.put("/ycjs/directive/broadcast/broadcast.html", "<div id=broadcast ng-class=\"{1:'type-feature',2:'type-recommend',3:'type-event'}[vm.broadcast.type]\"><strong><i class=\"fa fa-bullhorn\"></i> <span ng-bind=\"{1:'directive_broadcast.type_function',2:'directive_broadcast.type_recommend',3:'directive_broadcast.type_event'}[vm.broadcast.type]|translate\"></span> &nbsp; &nbsp; </strong><a class=broadcast-content ng-href={{vm.broadcast.url}} target=_blank ng-click=vm.js_close()>{{vm.broadcast.title}} &nbsp; <span class=broadcast-link>{{'directive_broadcast.link'|translate}} </span></a><a href=javascript:; class=\"pull-right fa fa-times-circle\" ng-click=vm.js_close()></a></div>"),a.put("/ycjs/directive/broadcast/dialog_broadcast.html", "<div class=\"dialog dialog-broadcast\"><div class=dialog-head><span class=dialog-close><i class=\"wtfont wtf-close\" ng-click=vm.js_close()></i></span></div><div class=dialog-body><a ng-href={{vm.broadcast_msg.url}} target=_blank><img ng-src={{vm.broadcast_msg.cover}}></a><div ng-if=\"vm.broadcast_msg.target==''\" class=one-link><a ng-href={{vm.broadcast_msg.url}} target=_blank>{{'broadcast.know_more'|translate}}</a></div><div ng-if=\"vm.broadcast_msg.target!==''\" class=two-link><a ng-href={{vm.broadcast_msg.target}} ng-click=vm.js_close()>{{'broadcast.try'|translate}} </a><a ng-href={{vm.broadcast_msg.url}} target=_blank>{{'broadcast.know_more'|translate}}</a></div></div></div>"),a.put("/ycjs/directive/comment/comment_list.html", '<div class=comment-list><div class="part-loading pt_20" ng-if=!vm.comments_loading_done></div><ul class=comments><li class=comments-showmore ng-if="vm.comments.length>vm.comment_show_number && vm.comment_showmore==false"><a href=javascript:; ng-click=vm.js_showmore()><i class="fa fa-chevron-down"></i> {{\'comment_list.link_toggle_comments\'|translate:{count:vm.comments.length-vm.comment_show_number} }}</a></li><li class=comment-item bindonce ng-repeat="comment in vm.comments" wt-repeat-done=vm.js_repeat_done() ng-class="{\'comment-item-hide\':comment.first_fold}"><wt-avatar member=comment.owner size=40 class=comment-avatar></wt-avatar><div class=comment><a href=javascript:; class=comment-name ng-bind=comment.owner.display_name></a> <span class=comment-time bo-class="{true:\'date\',false:\'\'}[comment.type==1]" ng-bind=comment.create_date|fromNow></span> <span class=comment-meta ng-if=!vm.isArchived><a href=javascript:; ng-click=vm.js_reply_comment(comment) class=comment-action bo-if="comment.type==1 && ($root.global.prj_module.comment|permission:argProject.permission)">{{\'comment_list.reply\'|translate}} </a>&nbsp; <a href=javascript:; ng-click=vm.js_pop_delete_comment($event,comment) class="comment-action js-popbox" bo-if="comment.owner.uid == $root.global.me.uid && comment.type == 1 && ($root.global.prj_module.comment|permission:argProject.permission)">{{\'common.txt_del\'|translate}}</a></span><div class=current-comment-wrap ng-class="{\'current-comment-wrap--border\':comment.files}"><div class=current-comment wt-markdown=comment.message></div><div class=comment-attachments><wt-attachment ng-repeat="file in comment.files" file=file></wt-attachment></div></div><div class="edit-controls clearfix" id="div_comment_{{ comment.cid }}" bo-show=comment.is_edit wt-show-edit=comment.is_edit></div></div></li></ul><div class=new-comment ng-if=!vm.isArchived ng-show=$root.global.prj_module.comment|permission:permission><hr ng-if="vm.comments.length >0"><wt-new-comment new_comment=vm.new_comment at_members=vm.at_members pid=vm.pid xid=vm.xid save=vm.js_save_comment(vm.new_comment)></wt-new-comment></div></div>'),a.put("/ycjs/directive/comment/new_comment.html", '<div class=new-comment-edit><textarea wt-ctrl-enter=vm.parse_save(vmNewComment) atwho-members=vmAtMembers wt-atwho="" placeholder="{{\'new_comment.placeholder_comment\'|translate}}" wt-paste-file=vm.js_files_select($files) ng-model=vmNewComment.message ng-focus=vm.js_textarea_focus($event)>\n  </textarea><div class=comment-upload-queue><div class=comment-attachments><wt-attachment ng-repeat="file in vmNewComment.files|filter:{pid:project.pid}" file=file del="vm.js_del_attachment_comment($event, file)"></wt-attachment></div><div class=comment-upload-item ng-repeat="file in vmNewComment.uploading_files"><div class=file-name title={{file.original.name}}>{{file.original.name}}</div><span class=error ng-if=file.error><span class="label label-danger">{{file.error}}-{{ file.error|fileuploadErrorInfo }}</span><br></span><div ng-if=!file.success class="progress progress-striped active in"><div class="progress-bar progress-bar-success" ng-style="{width: file.percent + \'%\'}"></div></div><span href=javascript:; class=cancel ng-click=file.cancel() ng-hide=!file.cancel>{{\'common.txt_cancel\'|translate}}</span></div></div><div class=add-controls><ul class="nav nav-pills"><li class="btn-group js-popbox dropup mr_5" data-placement=left data-align=bottom><a href=javascript:; class=dropdown-toggle data-toggle=dropdown title="{{\'new_comment.add_attachement\'|translate}}"><i class="fa fa-paperclip"></i></a><ul class=dropdown-menu><li><a href=javascript:; ngf-multiple=true ngf-select ngf-change=vm.js_files_select($files)><i class="fa fa-desktop"></i> {{\'new_comment.local_upload\'|translate}}</a></li><li><a data-placement=top href=javascript:; add-file-from-project=vmPid><i class="fa fa-file"></i> {{\'new_comment.form_project_files\'|translate}}</a></li></ul></li><li class=divider-v></li><li class="js-popbox mr_10"><a ng-click=vm.js_pop_emojis($event) data-placement=right data-align=top href=javascript:;><i class="fa fa-smile-o"></i></a></li><li><a ng-click=vm.js_metion_member($event) class=js-popbox data-placement=right data-align=top href=javascript:;><i class="fa fa-at"></i></a></li><li class=divider-v></li><li><a href=javascript:; ng-click=vm.js_linkentity($event) class=js-popbox data-auto-adapt=true data-placement=right data-align=top><i class="wtfont wtf-linkentity"></i></a></li></ul><button class="btn btn-success pull-right" data-loading-text="{{\'common.saving\'|translate}}" wt-loading-status=vmNewComment.is_saving ng-click=vm.parse_save(vmNewComment) data-ng-disabled="vmNewComment.uploading_files.length > 0">{{ {true:\'common.uploading\',false:\'new_comment.send_comment\'}[vmNewComment.uploading_files.length > 0]|translate }}</button></div></div>'),a.put("/ycjs/directive/complete_account/complete_account.html", '<div id=complete_account class=type-feature ng-class="{true:\'in\'}[vm.need_bind]"><strong><i class="fa fa-bullhorn"></i> <span></span> &nbsp; &nbsp; </strong><span class=complete-account-content> Worktile{{vm.from_platform_text}} &nbsp; <a class=complete-account-link ng-click=vm.open_choose()> </a></span><a href=javascript:; class="pull-right fa fa-times-circle" ng-click=vm.js_close()></a></div>'),a.put("/ycjs/directive/complete_account/dialog_complete_account_choose.html", '<div ng-switch on=vm.status><div ng-switch-default><div class="dialog dialog-complete-account"><div class=dialog-head><span class=dialog-close><i class="wtfont wtf-close" ng-click=vm.close()></i></span><div class=dialog-title></div></div><div class=dialog-body><a href=javascript:; class=create-account ng-click="vm.status=\'create\'"><span></span> </a><a href=javascript:; class=bind-exist-account ng-click="vm.status=\'bind\'" ng-if="vm.from_platform_type==2"><span>Worktile</span></a></div></div></div><div ng-switch-when=create><div class="dialog dialog-complete-account"><div class=dialog-head><span class=dialog-close><i class="wtfont wtf-close" ng-click=vm.close()></i></span><div class=dialog-title></div></div><div class=dialog-body><form name=create_account_form w5c-form-validate="" class=wt-form novalidate><div class=form-group><div class=input-group><input autofocus="" class=form-control type=text placeholder= name=signup_phone ng-model=vm.user.phone required ng-change=vm.js_change_phone($event) ng-pattern=/^0?(13\\d|14[5,7]|15[0-3,5-9]|17[0,6-8]|18\\d)\\d{8}$/ wt-remote-unique-check="{url:\'/api/user/phone/check?phone=\'+vm.user.phone}"> <span class=input-group-btn><button class="btn btn-success fs_17" type=button ng-click=vm.js_get_phone_code(create_account_form) ng-disabled=!create_account_form.signup_phone.$valid||vm.waiting_for_phone_code ng-bind=vm.signup_phone_text></button></span></div></div><div class=form-group ng-init="regist_phone_code_reminde_msg=false"><input class=form-control type=text placeholder= name=phone_code ng-model=vm.user.phone_code required></div><div class=form-group><input class=form-control type=text placeholder= name=signup_name ng-model=vm.user.name required wt-remote-unique-check="{url:\'/api/user/name/check?name=\'+vm.user.name}" ng-pattern=/^[A-Za-z]{1}[0-9A-Za-z_]{2,29}$/ ></div><div class=form-group><input class=form-control type=password placeholder= name=signup_password ng-model=vm.user.password required ng-minlength=6></div><div class=form-group ng-if="create_account_form.$errors.length > 0"><div class=col-xs-10-><div class="alert alert-danger"><i class="fa fa-times-circle mr_5"></i> {{create_account_form.$errors[0]}}</div></div></div><div class=form-group><div><button w5c-form-submit=vm.js_submit_create(create_account_form) type=button class="btn btn-success btn-lg btn-block" data-loading-text= wt-loading-status=vm.is_registering> </button></div><div class="mt_20 ml_12 color-text-grayer"><i class="fa fa-info-circle mr_5"></i>{{vm.from_platform_text}}Worktile</div></div></form></div></div></div><div ng-switch-when=bind><div class="dialog dialog-complete-account"><div class=dialog-head><span class=dialog-close><i class="wtfont wtf-close" ng-click=vm.close()></i></span><div class=dialog-title>Worktile</div></div><div class=dialog-body><form name=bind_account_form w5c-form-validate="" class=wt-form novalidate><div class=form-group><div class=input-group-><input class=form-control type=text placeholder=// name=login_name ng-model=vm.bind_user.name required="" wt-autofocus="" tabindex=1></div></div><div class=form-group><div class=input-group-><input class=form-control type=password placeholder= name=login_password ng-model=vm.bind_user.password required="" ng-minlength=6 tabindex=2></div></div><div class=form-group ng-if="bind_account_form.$errors.length > 0"><div class="alert alert-danger"><i class="fa fa-times-circle mr_5"></i>{{bind_account_form.$errors[0]}}</div></div><div class=form-group><div><button w5c-form-submit=vm.js_submit_bind(bind_account_form) class="btn btn-success btn-lg btn-block" type=button tabindex=4 data-loading-text= wt-loading-status=vm.binding> </button></div><div class="mt_20 ml_12 color-text-grayer"><i class="fa fa-info-circle mr_5"></i>Worktile{{vm.from_platform_text}}</div></div></form></div></div></div></div>'),a.put("/ycjs/directive/datepicker/datepicker.html", "<div><ul class=\"list-inline text-center m-0\"><li><a href=javascript:; ng-click=\"vm.js_set_date_inner('today')\">{{'common.today'|translate}}</a></li><li>|</li><li><a href=javascript:; ng-click=\"vm.js_set_date_inner('tomorrow')\">{{'common.tomorrow'|translate}}</a></li><li>|</li><li><a href=javascript:; ng-click=\"vm.js_set_date_inner('week')\">{{'common.thisweek'|translate}}</a></li><li>|</li><li><a href=javascript:; ng-click=\"vm.js_set_date_inner('next_week')\">{{'common.nextweek'|translate}}</a></li><li>|</li><li><a href=javascript:; ng-click=\"vm.js_set_date_inner('month')\">{{'common.thismonth'|translate}}</a></li></ul><div class=wtdate></div></div>"),a.put("/ycjs/directive/datepicker/datepicker_timer.html", '<div class=datepicker-timer><a href=javascript:; ng-if="vm.show==false" ng-click=vm.toggle()>{{\'datepicker_timer.title\'|translate}}</a><div ng-if=vm.show><select ng-model=vm.hour ng-options="time for time in vm.hour_sections" class="form-control hour" ng-change=vm.change()></select><span class=separation>:</span><select ng-model=vm.minute ng-options="time for time in vm.minute_sections" class="form-control minute" ng-change=vm.change()></select>&nbsp; &nbsp; &nbsp; <a href=javascript:; ng-click=vm.toggle()>{{\'common.txt_cancel\'|translate}}</a></div></div>'),a.put("/ycjs/directive/datepicker/pop_batch_set_expiredate.html", "<ul class=popbox-step><li class=popbox-step-li><div class=popbox-header><button class=\"cancel fa fa-remove\" ng-click=vm.js_close()></button><h3>{{'pop_batch_set_expiredate.title'|translate}}</h3></div><div class=popbox-body><input ng-model=task.expire_date type=hidden><ul class=\"list-inline text-center m-0\"><li><a href=javascript:; ng-click=\"vm.js_set_expire_date('today')\">{{'common.today'|translate}}</a></li><li>|</li><li><a href=javascript:; ng-click=\"vm.js_set_expire_date('tomorrow')\">{{'common.tomorrow'|translate}}</a></li><li>|</li><li><a href=javascript:; ng-click=\"vm.js_set_expire_date('week')\">{{'common.thisweek'|translate}}</a></li><li>|</li><li><a href=javascript:; ng-click=\"vm.js_set_expire_date('next_week')\">{{'common.nextweek'|translate}}</a></li><li>|</li><li><a href=javascript:; ng-click=\"vm.js_set_expire_date('month')\">{{'common.thismonth'|translate}}</a></li></ul><div wt-datepicker=vm.expire_date class=mt_10></div><wt-datepicker-timer timer=vm.expire_date></wt-datepicker-timer></div><div class=popbox-footer><a class=\"btn btn-success mr_15\" ng-click=vm.js_set_expire(vm.expire_date)>{{'common.txt_ok'|translate}} </a><a class=btn ng-if=vm.has_set_expire_task ng-click=vm.js_cancel_expire()>{{'pop_batch_set_expiredate.btn'|translate}}</a><div class=\"text-muted mt_13\">{{'pop_batch_set_expiredate.tips'|translate}}</div></div></li></ul>"),a.put("/ycjs/directive/datepicker/pop_event_datepicker.html", "<div class=popbox-body><wt-full-datepicker default-date=default_date set-date=js_set_date(date) min-date=min_date></wt-full-datepicker></div><div class=popbox-footer ng-show=need_sure><a class=\"btn btn-success mr_15\" ng-click=js_set_date()>{{'common.txt_ok'|translate}} </a><a class=btn ng-click=js_cancel()>{{'common.txt_cancel'|translate}}</a></div>"),a.put("/ycjs/directive/datepicker/pop_task_datepicker.html", "<div class=popbox-body><input ng-model=task.expire_date type=hidden><ul class=\"list-inline text-center m-0 pb_10\"><li><a href=javascript:; ng-click=js_today()>{{'common.today'|translate}}</a></li><li>|</li><li><a href=javascript:; ng-click=js_tomorrow()>{{'common.tomorrow'|translate}}</a></li><li>|</li><li><a href=javascript:; ng-click=js_week()>{{'common.thisweek'|translate}}</a></li><li>|</li><li><a href=javascript:; ng-click=js_next_week()>{{'common.nextweek'|translate}}</a></li><li>|</li><li><a href=javascript:; ng-click=js_month()>{{'common.thismonth'|translate}}</a></li></ul><div wt-datepicker=task.expire_date_temp></div><wt-datepicker-timer timer=task.expire_date_temp></wt-datepicker-timer></div><div class=popbox-footer><a class=\"btn btn-success mr_15\" ng-click=js_set_expire(task.expire_date_temp)>{{'common.btn_ok'|translate}} </a><a class=\"btn btn--warning\" ng-if=\"task.expire_date!=0\" ng-click=js_cancel_expire()>{{'pop_task_datepicker.btn'|translate}}</a><div class=\"text-muted mt_13\">{{'pop_task_datepicker.tips'|translate}}</div></div>"),a.put("/ycjs/directive/datepicker/pop_task_menu.html", "<div class=popbox-header><button class=\"back fa fa-chevron-left\" ng-click=vm.js_step(0)></button> <button class=\"cancel fa fa-remove\" ng-click=vm.js_close()></button><h3>{{'datepicker_pop_task_menu.title'|translate}}</h3></div><div class=popbox-body><input ng-model=task.expire_date type=hidden><ul class=\"list-inline text-center m-0\"><li><a href=javascript:; ng-click=vm.js_today()>{{'common.today'|translate}}</a></li><li>|</li><li><a href=javascript:; ng-click=vm.js_tomorrow()>{{'common.tomorrow'|translate}}</a></li><li>|</li><li><a href=javascript:; ng-click=vm.js_week()>{{'common.thisweek'|translate}}</a></li><li>|</li><li><a href=javascript:; ng-click=vm.js_next_week()>{{'common.nextweek'|translate}}</a></li><li>|</li><li><a href=javascript:; ng-click=vm.js_month()>{{'common.thismonth'|translate}}</a></li></ul><div wt-datepicker=task.expire_date_temp class=mt_10></div><wt-datepicker-timer timer=task.expire_date_temp></wt-datepicker-timer></div><div class=popbox-footer><a class=\"btn btn-success mr_15\" ng-click=vm.js_set_expire(task.expire_date_temp)>{{'common.btn_ok'|translate}} </a><a class=\"btn btn--warning\" ng-if=\"task.expire_date!=0\" ng-click=vm.js_cancel_expire()>{{'datepicker_pop_task_menu.btn'|translate}}</a><div class=\"text-muted mt_13\">{{'datepicker_pop_task_menu.tips'|translate}}</div></div>"),a.put("/ycjs/directive/datepicker/pop_task_set_expire_date.html", "<div class=popbox-header><button class=\"back fa fa-chevron-left\" ng-if=has_back ng-click=back()></button> <button class=\"cancel fa fa-remove\" ng-if=has_close ng-click=close()></button><h3>{{'pop_task_set_expire_date.title'|translate}}</h3></div><div class=popbox-body><input ng-model=task.expire_date type=hidden><ul class=\"list-inline text-center m-0\"><li><a href=javascript:; ng-click=\"js_set_expire_date('today')\">{{'common.today'|translate}}</a></li><li>|</li><li><a href=javascript:; ng-click=\"js_set_expire_date('tomorrow')\">{{'common.tomorrow'|translate}}</a></li><li>|</li><li><a href=javascript:; ng-click=\"js_set_expire_date('week')\">{{'common.thisweek'|translate}}</a></li><li>|</li><li><a href=javascript:; ng-click=\"js_set_expire_date('next_week')\">{{'common.nextweek'|translate}}</a></li><li>|</li><li><a href=javascript:; ng-click=\"js_set_expire_date('month')\">{{'common.thismonth'|translate}}</a></li></ul><div wt-datepicker=task.expire_date select=js_set_expire_date()></div><wt-datepicker-timer timer=task.expire_date></wt-datepicker-timer><div class=\"text-muted mt_13\">{{'pop_task_set_expire_date.info'|translate}}</div></div><div class=popbox-footer ng-if=task.tid><a class=\"btn btn-success mr_15\" ng-click=js_set_expire(task.expire_date)>{{'common.btn_ok'|translate}} </a><a class=btn ng-if=\"task.expire_date > 0\" ng-click=js_cancel_expire()>{{'pop_task_set_expire_date.cancel_expire'|translate}}</a></div>"),a.put("/ycjs/directive/dropwindow/dropwindow.html", "<div id=dropwindow class=wt-animate ng-if=\"$root.global.leftmenu_current_expand=='notice'\"><wt-notice-list></wt-notice-list></div>"),
    a.put("/ycjs/directive/entity/dialog_share_entity.html", '<div class="dialog dialog-share-entity"><div class=dialog-head><span class=dialog-close><i class="wtfont wtf-close" ng-click=vm.js_close()></i></span><div class=dialog-title>{{\'common.txt_share\'|translate}} {{entity}}</div><div class="dialog-tab mlr-28"><ul class=flex_row><li ng-class="{\'step_cursor\':vm.step_index==1}"><a href=javascript:; ng-click=vm.js_step(1)>{{\'dialog_share_entity.tab_link\'|translate}}</a></li><li ng-class="{\'step_cursor\':vm.step_index==2}"><a href=javascript:; ng-click=vm.js_step(2)>{{\'dialog_share_entity.tab_email\'|translate}}</a></li><li ng-class="{\'step_cursor\':vm.step_index==3}"><a href=javascript:; ng-click=vm.js_step(3)>{{\'dialog_share_entity.tab_qrcode\'|translate}}</a></li></ul></div></div><div class=dialog-body><div ng-switch on=vm.step_index><div ng-switch-when=1><form class="form-horizontal wt-form w-590 mlr-auto" name=linkForm novalidate="" w5c-form-validate="" role=form><div class=form-group><div class="input-group w-590 mlr-auto"><input type=text ng-model=vm.share_link wt-focus=input_link_focus class=form-control readonly=readonly wt-auto-click-select> <a class="input-group-addon btn-link-primary" href=javascript:; ng-click=vm.close_share_link()>{{\'common.txt_close\'|translate}}</a></div></div><div class=form-group><div class="col-sm-3 control-panel"><div class=checkbox><label><input type=checkbox ng-model=vm.isPassword> <span class=checkbox-text>{{\'dialog_share_entity.set_password\'|translate}}</span></label></div></div><div class="col-sm-9 control-panel"><input class=form-control type=text ng-model=vm.password ng-required=vm.isPassword ng-disabled=!vm.isPassword name=password placeholder="{{\'common.txt_pwd\'|translate}}"></div></div><div class=form-group><div class="col-sm-3 control-panel"><div class=checkbox><label><input type=checkbox ng-model=vm.isExpired> <span class=checkbox-text>{{\'dialog_share_entity.set_expire\'|translate}}</span></label></div></div><div class="col-sm-9 control-panel"><input type=text class=form-control ng-model=vm.expired readonly="" wt-pop-full-datepicker=vm.set_expired_options ng-disabled=!vm.isExpired ng-required=vm.isExpired name=expired placeholder="{{\'dialog_share_entity.placeholder_set_expire\'|translate}}"></div></div><div class=form-group><div class="col-sm-offset-3 col-sm-9"><button class="btn btn-success" w5c-form-submit=vm.js_set_share_link_secret()>{{\'common.txt_ok\'|translate}}</button> <button class="btn btn-link" ng-click=vm.js_close()>{{\'common.txt_cancel\'|translate}}</button></div></div></form></div><div ng-switch-when=2><form name=share_entity_form w5c-form-validate="" class=wt-form novalidate role=form><div class=form-group><input name=email_address ng-model=share.email_address placeholder="{{\'dialog_share_entity.placeholder_email_address\'|translate}}" type=text wt-multiple-email class=form-control required autofocus></div><div class=form-group><button w5c-form-submit="vm.js_share_entity(share_entity_form, share.email_address)" data-loading-text="{{\'common.sending\'|translate}}" class="btn btn-success mr_15" wt-loading-status=is_sharing>{{\'common.btn_send\'|translate}}</button></div></form><div class=send_email_result data-ng-show=send_success>{{\'dialog_share_entity.success_share\'|translate}}<ul><li ng-repeat="email in vm.sendemails track by $index">{{email}}</li></ul></div></div><div ng-switch-when=3>{{\'dialog_share_entity.tips_scan_qrcode\'|translate}}<div class=text-center><p class=qrcode wt-disable-drag="" ng-bind-html=vm.qrcode></p></div></div></div></div></div>'),a.put("/ycjs/directive/entity/entity.html", '<div class=slide-content wt-dragfile=dragfile_option wt-dragfile-enable=(global.prj_module.crud|permission:project.permission)><div class="entity-well {{\'entity-well--\'+locator.xtype }}"><div class="part-loading mt_60" ng-if=!root_vm.entityExt.loading_done></div><wt-entity-deny></wt-entity-deny><ng-include ng-if="locator.xtype == \'tasks\'" src="\'/ycjs/directive/entity/task.html\'"></ng-include><ng-include ng-if="locator.xtype == \'files\'" src="\'/ycjs/directive/entity/file.html\'"></ng-include><ng-include ng-if="locator.xtype == \'pages\'" src="\'/ycjs/directive/entity/page.html\'"></ng-include><ng-include ng-if="locator.xtype == \'posts\'" src="\'/ycjs/directive/entity/post.html\'"></ng-include><ng-include ng-if="locator.xtype == \'events\'" src="\'/ycjs/directive/entity/event.html\'"></ng-include><ng-include ng-if="locator.xtype == \'emails\'" src="\'/ycjs/directive/entity/mail.html\'"></ng-include></div></div>'),a.put("/ycjs/directive/entity/event.html", '<div ng-controller=entityEventCtrl wt-dragfile=vm.js_files_select($files) class=h_100p wt-dragfile-enable=(global.prj_module.crud|permission:project.permission)><div class=entity-well-header ng-show="root_vm.entityExt.loading_done && (global.prj_module.view|permission:root_vm.entityExt.permission)"><a href=javascript:; class=entity-project-name ng-click="locator.toPath(\'/project/\'+project.pid+\'/event\')" ng-bind=project.name></a><ul class="entity-well-header-nav nav nav-pills pull-right"><li class=entity-warning ng-if=vm.event.is_deleted>{{\'entity_event.info_del\'|translate:{when:(vm.event.update_date|timeFormatZHCN)} }}</li><li ng-if=global.prj_module.crud|permission:root_vm.entityExt.permission><a href=javascript:; ng-click=vm.js_show_editor(event) title="{{\'entity_event.edit\'|translate}}" ng-class="{true:\'disabled\'}[vm.tempEvent.is_edit]"><i class="fa fa-pencil"></i> {{\'entity_event.edit\'|translate}}</a></li><li class=js-popbox ng-if=global.prj_module.crud|permission:root_vm.entityExt.permission><a href=javascript:; class=dropdown-toggle data-toggle=dropdown title="{{\'entity_event.add_attachement\'|translate}}"><i class="fa fa-paperclip"></i> {{\'entity_event.attachment\'|translate}}</a><ul class="dropdown-menu dropdown-menu-right"><li><a href=javascript:; ngf-multiple=true ngf-select ngf-change=vm.js_files_select($files)><i class="fa fa-desktop"></i> {{\'entity_event.local_upload\'|translate}}</a></li><li><a href=javascript:; data-placement=bottom wt-pop-add-attachment-from-file=vm.event><i class="fa fa-file"></i> {{\'entity_event.form_project_files\'|translate}}</a></li><li class=divider></li><li wt-stop-propagation=click><div class="part-loading mt_20" ng-if=vm.js_uploadbylink_uploading></div><form class="form-inline text-nowarp" role=form ng-show=!vm.js_uploadbylink_uploading><input type=text ng-model=vm.uploadlink_url class="form-control input-sm" placeholder="{{\'entity_event.btn_paste_downlink\'|translate}}"> <button class="btn btn-default plr_10" type=button ng-click=vm.js_uploadbylink($event)>{{\'entity_event.add\'|translate}}</button></form></li></ul></li><li class=divider-v ng-if=global.prj_module.crud|permission:root_vm.entityExt.permission></li><li class=js-popbox ng-if="!vm.event.is_deleted && (global.prj_module.crud|permission:root_vm.entityExt.permission)"><a href=javascript:; class=dropdown-toggle data-toggle=dropdown title="{{\'entity_event.more\'|translate}}" aria-expanded=true><i class="fa fa-chevron-down"></i> {{\'entity_event.more\'|translate}}</a><ul class="dropdown-menu dropdown-menu-right"><li ng-show=global.prj_module.crud|permission:root_vm.entityExt.permission><a href=javascript:; ng-click="vm.js_show_trash($event, vm.event)"><i class="fa fa-trash-o fa-fw"></i> {{\'common.txt_del\'|translate}}</a></li><li><a href=javascript:; wt-entity-share="[\'\',project.pid,\'events\',vm.event]"><i class="fa fa-share-square-o fa-fw"></i> {{\'entity_event.share\'|translate}}</a></li><li><a href=javascript:; wt-entity-print=""><i class="fa fa-print fa-fw"></i> {{\'entity_event.print\'|translate}}</a></li></ul></li><li class=js-popbox ng-if=!vm.event.is_deleted&&((global.prj_module.view|permission:root_vm.entityExt.permission)&&!(global.prj_module.crud|permission:root_vm.entityExt.permission))><a href=javascript:; class=dropdown-toggle data-toggle=dropdown title="{{\'entity_event.more\'|translate}}" aria-expanded=true><i class="fa fa-chevron-down"></i> {{\'entity_event.more\'|translate}}</a><ul class="dropdown-menu dropdown-menu-right"><li><a href=javascript:; wt-entity-share="[\'\',project.pid,\'events\',vm.event]"><i class="fa fa-share-square-o"></i> {{\'entity_event.share\'|translate}}</a></li><li><a href=javascript:; wt-entity-print=""><i class="fa fa-print"></i> {{\'entity_event.print\'|translate}}</a></li></ul></li><li class=divider-v></li><li><a class=entity-well-header-close href=javascript:; ng-click=locator.close()><i class="wtfont wtf-close"></i></a></li></ul></div><div class="entity-well-scroll height-nonav height-nonav--notab" ng-show="root_vm.entityExt.loading_done && (global.prj_module.view|permission:root_vm.entityExt.permission)" wt-scroll=""><div class=entity-well-content><div ng-hide=vm.tempEvent.is_edit><div class=entity-title><h2 ng-click=vm.js_show_editor(vm.tempEvent) ng-bind=vm.event.name></h2></div><div class=event-content><div class=event-content-area><div class=start-date><strong>{{vm.event.start.date|timeFormat}}</strong> <small>{{vm.event.start.date|smartTimeFormat}}</small></div><div class=end-date><strong>{{vm.event.end.date|timeFormat}}</strong> <small>{{vm.event.end.date|smartTimeFormat}}</small></div></div><div class=event-content-area ng-if="vm.event.location.length > 0"><i class="wtfont wtf-address-o"></i> <span ng-bind="vm.event.location||(\'entity_event.none\'|translate)"></span></div><div class=event-content-area ng-hide="vm.event.recurrence == 0 "><i class="fa fa-repeat"></i> <span class=time>{{vm.new_repeat_interval.desc}}</span></div><div class=event-content-area ng-if="vm.event.summary.length > 0"><i class="wtfont wtf-desc-o"></i> <span class="event-summary-text markdown" wt-markdown=vm.event.summary></span></div></div></div><div class="edit-section edit-section--event" ng-if=vm.tempEvent.is_edit><div><div class=input-section><input type=text ng-model=vm.tempEvent.name wt-enter="vm.js_set_update($event,vm.event, vm.tempEvent)" class="form-control help-block" placeholder="{{\'entity_event.event_name\'|translate}}" required wt-focus=vm.eventTitleInputFocus></div><div class=input-section><span class=input-label>{{\'entity_event.start\'|translate}} </span><input wt-pop-full-datepicker=vm.start_date_options type=text ng-model=vm.tempEvent.start_date class="form-control date js-popbox" data-placement=bottom readonly=readonly required><select ng-model=vm.tempEvent.start_hour ng-options="time for time in vm.start_hour_sections" class="form-control hour"></select><span class=separation>:</span><select ng-model=vm.tempEvent.start_minute ng-options="time for time in vm.start_minute_sections" class="form-control minute"></select></div><div class=input-section><span class=input-label>{{\'entity_event.end\'|translate}} </span><input type=text ng-model=vm.tempEvent.end_date wt-pop-full-datepicker=vm.end_date_options class="form-control date js-popbox" data-placement=bottom readonly=readonly required><select ng-model=vm.tempEvent.end_hour ng-options="time for time in vm.end_hour_sections" class="form-control hour"></select><span class=separation>:</span><select ng-model=vm.tempEvent.end_minute ng-options="time for time in vm.end_minute_sections" class="form-control minute"></select></div><div class=input-section><span class=input-label>{{\'entity_event.location\'|translate}} </span><input type=text ng-model=vm.tempEvent.location class="form-control location" placeholder="{{\'entity_event.option\'|translate}}"></div><div class=input-section><span class=input-label>{{\'entity_event.repeat\'|translate}} </span><span>{{vm.new_repeat_interval.desc}}</span></div><div class=input-section ng-if=vm.event.recurrence_id><span class=input-label>{{\'entity_event.change\'|translate}}</span><select class="form-control location" ng-model=vm.update.option ng-options="update_option.desc for update_option in vm.update.options_for_recurring_event"></select></div><wt-editor pid=vm.pid><textarea ng-model=vm.tempEvent.summary type=text msd-elastic rows=9 wt-ctrl-enter="vm.js_set_update($event, vm.event,vm.tempEvent)" placeholder="{{\'entity_event.placeholder_desc\'|translate}}"></textarea></wt-editor></div><div class=form-group><button ng-click="vm.js_set_update($event, vm.event,vm.tempEvent)" data-loading-text="{{\'common.saving\'|translate}}" wt-loading-status=vm.event.is_saving class="btn btn-success mr_15">{{\'common.txt_save\'|translate}}</button> <button ng-click=vm.js_cancel_editor(vm.event) class="btn btn-link btn-cancel">{{\'common.txt_cancel\'|translate}}</button></div></div><div class=entity-members><dl class="entity-members-assign entity-members-assign--nowatch"><dt>{{\'entity_event.attend\'|translate}}</dt><dd><ul class=avatars><li ng-repeat="attendee in vm.event.attendees"><a href=javascript:; class="fa fa-times-circle" ng-click=vm.js_remove_attendee($event,attendee,vm.event)></a><wt-avatar member=attendee class=js-popbox wt-pop-member=vm.pop_attendee_options pop-member=attendee data-placement=left></wt-avatar></li><li ng-show=global.prj_module.crud|permission:root_vm.entityExt.permission><a class="avatar-add js-popbox" href=javascript:; data-placement=right data-align=center all-member-click="vm.js_attendee_all($event, members, xEntity)" wt-pop-toggle-members="vm.js_toggle_member($event, member, xEntity)" team-id=project.team_id pid=vm.pid permission=project.permission type=attendee entity=vm.event><span class=o></span></a></li></ul></dd></dl></div><hr class=entity-hr ng-if="vm.event.files.length > 0"><div class=entity-well-content-module><dl class="module-attachment dragfile-hover-show" ng-if="vm.event.files.length==0||vm.event.files == null"><dt><i class="fa fa-paperclip"></i> {{\'entity_event.title_attachment\'|translate}}</dt><dd><div class=dragfile-hover-placeholder><span class=name><i class="fa fa-upload"></i> {{\'entity_event.drop_upload\'|translate}}</span></div></dd></dl><dl class=module-attachment ng-show="vm.event.files.length>0||($wtUpload.uploadQueueFilesByXid[vm.event.event_id].length>0)"><dt><i class="fa fa-paperclip"></i> {{\'entity_event.title_attachment\'|translate}}</dt><dd><wt-attachment ng-repeat="file in vm.event.files" file=file fancygroup=filegroup-task gofile="vm.js_go_to_file(vm.pid, file.fid)" del="vm.js_del_attachment($event, file)" del-permission=global.prj_module.crud|permission:root_vm.entityExt.permission></wt-attachment><upload-attachment-file-process type=event pid=vm.pid xfield=event_id xid=vm.event.event_id></upload-attachment-file-process><div class=task-attachment-add ng-if=global.prj_module.crud|permission:root_vm.entityExt.permission><a href=javascript:; ngf-multiple=true ngf-select ngf-change=vm.js_files_select($files)> {{\'entity_event.add_attachement\'|translate}}</a></div><div class=dragfile-hover-placeholder><span class=name><i class="fa fa-upload"></i> {{\'entity_event.drop_upload\'|translate}}</span></div></dd></dl></div><hr class=entity-hr><div class=entity-content-footer translate=entity_event.who_when_create translate-values={who:vm.event.creator.display_name,when:(vm.event.create_date|datetimeAutoFormat)}></div></div><div class=entity-tabs><wt-item-comment-activity arg-type=event arg-project=project arg-entity=vm.event arg-entity-ext=root_vm.entityExt></wt-item-comment-activity></div></div></div>'),a.put("/ycjs/directive/entity/file.html", '<div ng-controller=entityFileCtrl wt-dragfile=vm.js_files_select($files) class=h_100p wt-dragfile-enable=(global.prj_module.crud|permission:project.permission)><div class=entity-well-header ng-show="root_vm.entityExt.loading_done && (global.prj_module.view|permission:root_vm.entityExt.permission)"><a href=javascript:; class=entity-project-name ng-click=vm.to_project(project.pid) ng-bind=project.name></a><ul class="entity-well-header-nav nav nav-pills pull-right"><li ng-if=vm.file.is_deleted class=entity-warning>{{\'entity_file.info_del\'|translate:{when:(vm.file.update_date|timeFormatZHCN)} }}</li><li ng-if="(vm.file|isPreviewFile)==2"><a href=javascript:; target=_blank ng-href="{{\'/files/\'+vm.file.fid+\'/preview\'}}"><i class="fa fa-eye"></i> {{\'entity_file.preview\'|translate}}</a></li><li ng-if="!vm.file.is_deleted&&vm.file.is_img&&vm.file.path.length>0"><a class=fancybox-file href=javascript:; data-fancybox-group=file-detail-headerbtn data-fancybox-href={{vm.file|wtBoxView}} data-fancybox-type=image><i class="fa fa-eye"></i> {{\'entity_file.preview\'|translate}}</a></li><li ng-if=global.prj_module.crud|permission:root_vm.entityExt.permission><a href=javascript:; ng-class="{true:\'disabled\'}[vm.file.in_edit]" ng-click=vm.js_show_editor(vm.file) title="{{\'entity_file.edit\'|translate}}"><i class="fa fa-pencil fa-fw"></i> {{\'entity_file.edit\'|translate}}</a></li><li ng-if=!vm.file.is_deleted><a ng-href={{vm.file|wtBoxDownload}} target=_blank title="{{\'entity_file.download\'|translate}}"><i class="fa fa-download"></i> {{\'entity_file.download\'|translate}}</a></li><li class=divider-v ng-if=global.prj_module.crud|permission:root_vm.entityExt.permission></li><li ng-if=global.prj_module.crud|permission:root_vm.entityExt.permission><a href=javascript:; ngf-multiple=false ngf-select ngf-change=vm.js_files_select($files) title="{{\'entity_file.update\'|translate}}"><i class="fa fa-refresh"></i> {{\'entity_file.update\'|translate}}</a></li><li class=js-popbox data-placement=bottom ng-show="!vm.file.is_deleted && (global.prj_module.crud|permission:root_vm.entityExt.permission)"><a href=javascript:; class=dropdown-toggle data-toggle=dropdown title="{{\'entity_file.more\'|translate}}"><i class="fa fa-chevron-down"></i> {{\'entity_file.more\'|translate}}</a><ul class="dropdown-menu dropdown-menu-right"><li ng-show=global.prj_module.crud|permission:root_vm.entityExt.permission><a href=javascript:; ng-click="vm.js_show_move_to_dialog($event, vm.file)"><i class="fa fa-share-square-o fa-fw"></i> {{\'entity_file.move\'|translate}}</a></li><li ng-show=global.prj_module.crud|permission:root_vm.entityExt.permission><a href=javascript:; ng-click="vm.js_show_trash_dialog($event, vm.file)"><i class="fa fa-trash-o fa-fw"></i> {{\'entity_file.del\'|translate}}</a></li><li ng-show=global.prj_module.crud|permission:root_vm.entityExt.permission class=divider></li><li><a href=javascript:; wt-entity-share="[\'\',project.pid,\'files\',vm.file]"><i class="fa fa-share-square-o"></i> {{\'entity_file.share\'|translate}}</a></li><li><a href=javascript:; wt-entity-print=""><i class="fa fa-print fa-fw"></i> {{\'entity_file.print\'|translate}}</a></li><li><a href=javascript:; ng-click="vm.js_show_versions($event, vm.file)"><i class="fa fa-clock-o fa-fw"></i> {{\'entity_file.history_version\'|translate}}</a></li></ul></li><li class=js-popbox data-placement=bottom ng-if=!vm.file.is_deleted&&((global.prj_module.view|permission:root_vm.entityExt.permission)&&!(global.prj_module.crud|permission:root_vm.entityExt.permission))><a href=javascript:; class=dropdown-toggle data-toggle=dropdown title="{{\'entity_file.more\'|translate}}"><i class="fa fa-chevron-down"></i> {{\'entity_file.more\'|translate}}</a><ul class="dropdown-menu dropdown-menu-right"><li ng-show=global.prj_module.crud|permission:root_vm.entityExt.permission><a href=javascript:; ng-click="vm.js_show_versions($event, vm.file)"><i class="fa fa-print"></i> {{\'entity_file.history_version\'|translate}}</a></li><li><a href=javascript:; wt-entity-share="[\'\',project.pid,\'files\',vm.file]"><i class="fa fa-share-square-o"></i> {{\'entity_file.share\'|translate}}</a></li><li><a href=javascript:; wt-entity-print=""><i class="fa fa-print"></i> {{\'entity_file.print\'|translate}}</a></li></ul></li><li class=divider-v></li><li><a class=entity-well-header-close href=javascript:; ng-click=locator.close()><i class="wtfont wtf-close"></i></a></li></ul></div><div class="entity-well-scroll height-nonav height-nonav--notab" wt-scroll="" ng-show="root_vm.entityExt.loading_done && (global.prj_module.view|permission:root_vm.entityExt.permission) && vm.file.fid"><div class=entity-well-content><div ng-if=!vm.file.in_edit><div class=entity-title><h2 ng-click=vm.js_show_editor(vm.file) ng-bind=vm.file.name></h2></div></div><div class=edit-section ng-if=vm.file.in_edit><input type=text wt-enter="vm.js_set_update($event, vm.file)" ng-model=vm.tmpFile.name class="form-control help-block" placeholder="{{\'entity_file.file_name\'|translate}}" required wt-focus=vm.fileNameInputFocus><wt-editor pid=vm.pid><textarea ng-model=vm.tmpFile.desc type=text wt-ctrl-enter="vm.js_set_update($event, vm.file)" msd-elastic rows=9 placeholder="{{\'entity_file.link_add_desc\'|translate}}"></textarea></wt-editor><div class=form-group><button ng-click="vm.js_set_update($event, vm.file)" data-loading-text="{{\'common.saving\'|translate}}" class="btn btn-success mr_15" wt-loading-status=vm.is_saving>{{\'common.btn_save\'|translate}}</button> <button ng-click=vm.js_cancel_editor(vm.file) class="btn btn-link btn-cancel">{{\'common.btn_cancel\'|translate}}</button></div></div><div class="entity-drag-drop dragfile-hover-placeholder"><span class=name><i class="fa fa-upload"></i> {{\'entity_file.drop_upload\'|translate}}</span></div><div class="file-section dragfile-hover-hide" ng-hide=vm.file.in_edit ng-class="{true:\'file-section--onlyicon\'}[!vm.file.is_img]"><div class=file-icon ng-hide="vm.file.path.length==0" ng-class="{true:\'fancybox-file\',false:\'file-onlyicon\'}[vm.file.is_img]" data-fancybox-group=file-detail href={{vm.file|wtBoxView}} data-fancybox-type=image><img ng-if="(vm.file|isPreviewFile)==2" ng-src={{vm.file|wtBoxView}} alt="{{ vm.file.name }}"> <img ng-if="(vm.file|isPreviewFile)!=2" ng-src={{vm.file|wtBoxView}} alt="{{ vm.file.name }}"></div><div class=file-section-meta><span class=file-meta><span class=file-ext ng-bind=vm.file|fileExt|uppercase></span> {{\'common.txt_file\'|translate}} &nbsp; &nbsp; &nbsp; <span class=file-size ng-bind=vm.file.size|fileSize></span> </span>&nbsp; &nbsp; &nbsp; <span class=file-meta-creater translate=entity_file.who_upload_when translate-values={who:vm.file.update_user.display_name,when:(vm.file.update_date|datetimeAutoFormat)}></span> <a ng-if="(vm.file|isPreviewFile)==2" ng-href="{{\'/files/\'+vm.file.fid+\'/preview\'}}" target=_blank class="btn file-meta-priviewbtn">{{\'entity_file.btn_preview\'|translate}}</a></div></div><a class=entity-desc-edit ng-if="(!vm.file.desc||vm.file.desc.length == 0) && !vm.file.in_edit && (global.prj_module.crud|permission:root_vm.entityExt.permission)" href=javascript:; ng-click=vm.js_show_editor(vm.file)>{{\'entity_file.link_add_desc\'|translate}}</a><div ng-if="!vm.file.in_edit && (vm.file.desc||vm.file.desc.length != 0)" class="entity-desc markdown" wt-markdown=vm.file.desc></div><div class=entity-members><dl class="entity-members-watchs entity-members-watchs--noassign"><dt>{{\'entity_file.title_watcher\'|translate}}</dt><dd><ul class=avatars><li ng-repeat="watcher in vm.file.watchers"><a href=javascript:; class="fa fa-times-circle" ng-click=vm.js_remove_watcher($event,watcher,vm.file)></a><wt-avatar member=watcher class=js-popbox wt-pop-member=vm.pop_watcher_options pop-member=watcher data-placement=left></wt-avatar></li><li ng-show=global.prj_module.crud|permission:root_vm.entityExt.permission><div class="js-popbox text-center"><a class=avatar-add href=javascript:; data-placement=right data-align=center wt-pop-toggle-members="vm.js_toggle_watch($event, member, xEntity)" team-id=project.team_id pid=vm.pid permission=project.permission type=watch entity=vm.file all-member-click="vm.js_watch_all($event, members, xEntity)"><span class=o></span></a></div></li><li ng-show="(project.curr_role|is_guest) && (global.prj_module.watch|permission:root_vm.entityExt.permission)"><div class="js-popbox text-center" ng-click="vm.js_toggle_watch($event, global.me, vm.file)"><a class=avatar-add href=javascript:; title="{{{true:\'entity_file.btn_cancel_watch\',false:\'entity_file.watch\'}[global.me.watched]|translate }}" data-placement=left data-align=center><span class=o><i class=fa ng-class="{true:\'fa-minus\',false:\'fa-plus\'}[global.me.watched]"></i></span></a></div></li></ul></dd></dl></div><hr class=entity-hr ng-if="vm.file.link_count > 0"><div class=entity-well-content-module ng-if="vm.file.link_count > 0"><dl class=module-links><dt><i class="fa fa-link"></i> {{\'entity_file.title_related_link\'|translate}}</dt><dd><dl class=entity-links><dt ng-if="vm.file.tasks.length>0">{{\'common.txt_task\'|translate}}</dt><dd ng-if="vm.file.tasks.length>0"><ul><li class=link-item ng-repeat="task in vm.file.tasks"><a href=javascript:; ng-click="locator.openTask(vm.file.pid, task.tid)" ng-bind=task.name></a></li></ul></dd><dt ng-if="vm.file.posts.length>0">{{\'common.txt_post\'|translate}}</dt><dd ng-if="vm.file.posts.length>0"><ul><li class=link-item ng-repeat="post in vm.file.posts"><a href=javascript:; ng-click="locator.openPost(vm.file.pid, post.post_id)" ng-bind=post.name></a></li></ul></dd><dt ng-if="vm.file.events.length>0">{{\'common.txt_event\'|translate}}</dt><dd ng-if="vm.file.events.length>0"><ul><li class=link-item ng-repeat="event in vm.file.events"><a href=javascript:; ng-click="locator.openEvent(vm.file.pid, event.event_id)" ng-bind=event.name></a></li></ul></dd></dl></dd></dl></div><hr class=entity-hr></div><div class=entity-tabs><wt-item-comment-activity arg-type=file arg-project=project arg-entity=vm.file arg-entity-ext=root_vm.entityExt></wt-item-comment-activity></div></div></div>'),a.put("/ycjs/directive/entity/mail.html", '<div ng-controller=entityMailCtrl><div class=entity-well-header ng-show=root_vm.entityExt.loading_done><ul class="entity-well-header-nav nav nav-pills pull-right"><li><a href=javascript:; ng-click="vm.js_pop_move($event, vm.mail)" title="{{\'entity_mail.convert_to_post\'|translate}}"><i class="fa fa-share-square-o"></i> {{\'entity_mail.convert_to_post\'|translate}}</a></li><li class=divider-v></li><li class=js-popbox><a href=javascript:; class=dropdown-toggle data-toggle=dropdown title="{{\'common.txt_more\'|translate}}" aria-expanded=true><i class="fa fa-chevron-down"></i> {{\'common.txt_more\'|translate}}</a><ul class="dropdown-menu dropdown-menu-right"><li><a href=javascript:; ng-click="vm.js_pop_trash($event, vm.mail)"><i class="fa fa-trash"></i> {{\'common.txt_del\'|translate}}</a></li><li><a href=javascript:; wt-entity-print=""><i class="fa fa-print"></i> {{\'entity_mail.print\'|translate}}</a></li></ul></li><li class=divider-v></li><li><a class=entity-well-header-close href=javascript:; ng-click=locator.close()><i class="wtfont wtf-close"></i></a></li></ul></div><div class="entity-well-scroll height-nonav height-nonav--notab" ng-show="root_vm.entityExt.loading_done " wt-scroll=""><div class=entity-well-content><div class=entity-title><h2>{{vm.mail.subject}}</h2></div><div><ul class=entity-subtitle><li><span>&nbsp;{{vm.mail.create_date|fromNow}}</span> | <span>{{vm.mail.from}}</span></li></ul></div><div class=email-content><div class=markdown wt-markdown=vm.mail.body_html></div></div></div></div></div>'),a.put("/ycjs/directive/entity/page.html", '<div ng-controller=entityPageCtrl><div class=entity-well-header ng-class="{\'entity-well-header--fullscreen\':vm.is_fullscreen}" ng-if="root_vm.entityExt.loading_done && (global.prj_module.view|permission:root_vm.entityExt.permission)"><a href=javascript:; class=entity-project-name ng-click=vm.js_go_to_pages() ng-bind=project.name></a><ul class="entity-well-header-nav nav nav-pills pull-right"><li ng-if=page.is_deleted class=entity-warning>{{\'entity_page.info_del\'|translate:{when:(page.update_date|timeFormatZHCN)} }}</li><li ng-if=!page.is_deleted><a href=javascript:; ng-click=vm.js_toggle_fullscreen($event)><i class="fa fa-arrows-alt"></i> {{ {false:\'entity_page.btn_fullscreem\',true:\'entity_page.btn_quit_fullscreem\'}[vm.is_fullscreen]|translate }}</a></li><li ng-if=global.prj_module.crud|permission:root_vm.entityExt.permission><a href=javascript:; ng-click="locator.toPath(\'/project/\'+page.pid+\'/page/\'+page.page_id+\'/edit\')" title="{{\'entity_page.edit\'|translate}}"><i class="fa fa-pencil"></i> {{\'entity_page.edit\'|translate}}</a></li><li ng-if="!(page.parent_id) && (global.prj_module.crud|permission:root_vm.entityExt.permission)"><a href=javascript:; ng-click="locator.toPath(\'/project/\'+page.pid+\'/page/add/\'+page.page_id)" title="{{\'entity_page.add_children\'|translate}}"><i class="fa fa-file-text-o"></i> {{\'entity_page.add_children\'|translate}}</a></li><li class=divider-v ng-if=global.prj_module.crud|permission:root_vm.entityExt.permission></li><li class=js-popbox ng-if=global.prj_module.crud|permission:root_vm.entityExt.permission><a href=javascript:; class=dropdown-toggle data-toggle=dropdown><i class="fa fa-chevron-down"></i> {{\'entity_page.more\'|translate}}</a><ul class="dropdown-menu pull-right"><li ng-show=global.prj_module.crud|permission:root_vm.entityExt.permission><a href=javascript:; ng-click=vm.js_show_trash($event)><i class="fa fa-trash-o fa-fw"></i> {{\'common.txt_del\'|translate}}</a></li><li ng-show=global.prj_module.crud|permission:root_vm.entityExt.permission class=divider></li><li><a href=javascript:; wt-entity-share="[\'\',project.pid,\'pages\',page]"><i class="fa fa-share-square-o fa-fw"></i> {{\'entity_page.share\'|translate}}</a></li><li><a href=javascript:; wt-entity-print=""><i class="fa fa-print fa-fw"></i> {{\'entity_page.print\'|translate}}</a></li><li ng-if=global.prj_module.crud|permission:root_vm.entityExt.permission><a href=javascript:; ng-click="locator.toPath(\'/project/\'+page.pid+\'/page/\'+page.page_id+\'/versions\')"><i class="fa fa-clock-o fa-fw"></i> {{\'entity_page.history\'|translate}}</a></li></ul></li><li class=js-popbox ng-if="!page.is_deleted && ( (global.prj_module.view|permission:root_vm.entityExt.permission) && !(global.prj_module.crud|permission:root_vm.entityExt.permission) )"><a href=javascript:; class=dropdown-toggle data-toggle=dropdown><i class="fa fa-chevron-down"></i> {{\'entity_page.more\'|translate}}</a><ul class="dropdown-menu pull-right"><li><a href=javascript:; wt-entity-share="[\'\',project.pid,\'pages\',page]"><i class="fa fa-share-square-o"></i> {{\'entity_page.share\'|translate}}</a></li><li><a href=javascript:; wt-entity-print=""><i class="fa fa-print"></i> {{\'entity_page.print\'|translate}}</a></li></ul></li><li class=divider-v></li><li><a class=entity-well-header-close href=javascript:; ng-click=locator.close()><i class="wtfont wtf-close"></i></a></li></ul></div><div class="entity-well-scroll height-nonav height-nonav--notab" ng-class="{\'entity-well-scroll--fullscreen\':vm.is_fullscreen}" wt-scroll="" ng-show="root_vm.entityExt.loading_done && page.page_id"><div class=entity-well-content><div ng-hide=page.in_edit><div class=entity-title><h2><span ng-bind=page.name></span></h2></div><div class="entity-desc markdown" wt-markdown=page.content></div></div><div class=entity-members><dl class="entity-members-watchs entity-members-watchs--noassign"><dt>{{\'entity_page.watcher\'|translate}}</dt><dd><ul class=avatars><li ng-repeat="watcher in page.watchers"><a href=javascript:; class="fa fa-times-circle" ng-click=vm.js_remove_watcher($event,watcher,page)></a><wt-avatar member=watcher class=js-popbox wt-pop-member=pop_watcher_options pop-member=watcher data-placement=bottom data-align=left></wt-avatar></li><li ng-show=global.prj_module.crud|permission:root_vm.entityExt.permission><div class="js-popbox text-center"><a class=avatar-add href=javascript:; data-placement=right data-align=center data-auto-adapt=true type=watch team-id=project.team_id pid=vm.pid permission=root_vm.entityExt.permission entity=page wt-pop-toggle-members="vm.js_toggle_watch($event, member, xEntity)" all-member-click="vm.js_watch_all($event, members, xEntity)"><span class=o></span></a></div></li><li ng-show="(project.curr_role|is_guest) && (global.prj_module.watch|permission:root_vm.entityExt.permission)"><div class="js-popbox text-center"><a class=avatar-add href=javascript:; title="{{{true:\'entity_page.cancel_watcher\',false:\'entity_page.watch\'}[global.me.watched]|translate}}" ng-click="vm.js_toggle_watch($event, global.me, page)" data-placement=left data-align=center><span class=o><i class=fa ng-class="{true:\'fa-minus\',false:\'fa-plus\'}[global.me.watched]"></i></span></a></div></li></ul></dd></dl></div><hr class=entity-hr ng-if="page.sub_pages.length>0||page.parent_name"><div class=entity-well-content-module ng-if="page.sub_pages.length>0"><dl class=module-sub-pages><dt><i class="fa fa-file-text-o"></i> {{\'entity_page.children_page\'|translate}}</dt><dd><ul><li ng-repeat="sub in page.sub_pages"><a href=javascript:; ng-click="vm.is_fullscreen=false;locator.openPage(page.pid,sub.page_id)"><span ng-bind=sub.name></span></a></li></ul></dd></dl></div><div class=entity-well-content-module ng-if=page.parent_name><dl class=module-sub-pages><dt><i class="fa fa-file-text-o"></i> {{\'entity_page.parent_page\'|translate}}</dt><dd><ul><li><a href=javascript:; ng-click="vm.is_fullscreen=false;locator.openPage(page.pid,page.parent_id)"><span ng-bind=page.parent_name></span></a></li></ul></dd></dl></div><hr class=entity-hr><div class=entity-content-footer>{{page.last_updator.display_name}} {{\'entity_page.last_update\'|translate:{when:(page.update_date|fromNow)} }} {{\'entity_page.current_version\'|translate}}#{{page.version}}</div></div><div class=entity-tabs ng-class="{\'entity-tabs--fullscreen\':vm.is_fullscreen}"><wt-item-comment-activity arg-type=page arg-project=project arg-entity=page arg-entity-ext=root_vm.entityExt></wt-item-comment-activity></div></div></div>'),
    a.put("/ycjs/directive/entity/post.html", '<div ng-controller=entityPostCtrl wt-dragfile=vm.js_files_select($files) class=h_100p wt-dragfile-enable=(global.prj_module.crud|permission:project.permission)><div class=entity-well-header ng-show="root_vm.entityExt.loading_done && (global.prj_module.view|permission:root_vm.entityExt.permission)"><a href=javascript:; class=entity-project-name ng-click=vm.js_go_to_tasks() ng-bind=project.name></a><ul class="entity-well-header-nav nav nav-pills pull-right"><li ng-if=vm.post.is_deleted class=entity-warning>{{\'entity_post.info_del_by\'|translate:{datetime:(vm.post.update_date|timeFormatZHCN)} }}</li><li ng-if=global.prj_module.crud|permission:root_vm.entityExt.permission><a href=javascript:; ng-click=vm.js_show_editor()><i class="fa fa-pencil"></i> {{\'entity_post.btn_edit\'|translate}}</a></li><li class=js-popbox ng-if=global.prj_module.crud|permission:root_vm.entityExt.permission><a href=javascript:; class=dropdown-toggle data-toggle=dropdown title="{{\'entity_post.btn_add_attachement\'|translate}}"><i class="fa fa-paperclip"></i> {{\'entity_post.attachment\'|translate}}</a><ul class="dropdown-menu dropdown-menu-right"><li><a href=javascript:; ngf-multiple=true ngf-select ngf-change=vm.js_files_select($files)><i class="fa fa-desktop"></i> {{\'entity_post.btn_local_upload\'|translate}}</a></li><li><a href=javascript:; data-placement=bottom wt-pop-add-attachment-from-file=vm.post><i class="fa fa-file"></i> {{\'entity_post.btn_from_project_file\'|translate}}</a></li><li class=divider></li><li wt-stop-propagation=click><div class="part-loading mt_20" ng-if=vm.js_uploadbylink_uploading></div><form class="form-inline text-nowarp" role=form ng-show=!js_uploadbylink_uploading><input type=text ng-model=vm.uploadlink_url class="form-control input-sm" placeholder="{{\'entity_post.btn_paste_downlink\'|translate}}"> <button class="btn btn-default plr_10" type=button ng-click=vm.js_uploadbylink($event)>{{\'entity_post.btn_add\'|translate}}</button></form></li></ul></li><li class=divider-v ng-if="!vm.post.is_deleted && (global.prj_module.crud|permission:root_vm.entityExt.permission)"></li><li class=js-popbox ng-if="!vm.post.is_deleted && (global.prj_module.crud|permission:root_vm.entityExt.permission)"><a href=javascript:; class=dropdown-toggle data-toggle=dropdown title="{{\'entity_post.btn_more\'|translate}}"><i class="fa fa-chevron-down"></i> {{\'entity_post.btn_more\'|translate}}</a><ul class="dropdown-menu dropdown-menu-right"><li ng-if="(global.prj_module.crud|permission:project.permission)&&vm.post.is_top==0"><a href=javascript:; ng-click=vm.js_toggle_top(vm.post)><i class="wtfont wtf-top"></i> {{\'entity_post.btn_top\'|translate}}</a></li><li ng-if="(global.prj_module.crud|permission:project.permission)&&vm.post.is_top==1"><a href=javascript:; ng-click=vm.js_toggle_top(vm.post)><i class="wtfont wtf-untop"></i> {{\'entity_post.btn_untop\'|translate}}</a></li><li ng-show=global.prj_module.crud|permission:root_vm.entityExt.permission><a href=javascript:; ng-click="vm.js_trash($event, vm.post)"><i class="fa fa-trash-o fa-fw"></i> {{\'entity_post.btn_del\'|translate}}</a></li><li><a href=javascript:; wt-entity-share="[\'\',project.pid,\'posts\',vm.post]"><i class="fa fa-share-square-o fa-fw"></i> {{\'entity_post.btn_share\'|translate}}</a></li><li><a href=javascript:; wt-entity-print=""><i class="fa fa-print fa-fw"></i> {{\'entity_post.btn_print\'|translate}}</a></li></ul></li><li class=js-popbox ng-if="!vm.post.is_deleted && ( (global.prj_module.view|permission:root_vm.entityExt.permission) && !(global.prj_module.crud|permission:root_vm.entityExt.permission) )"><a href=javascript:; class=dropdown-toggle data-toggle=dropdown title="{{\'entity_post.btn_more\'|translate}}"><i class="fa fa-chevron-down"></i> {{\'entity_post.btn_more\'|translate}}</a><ul class="dropdown-menu dropdown-menu-right"><li><a href=javascript:; wt-entity-share="[\'\',project.pid,\'posts\',vm.post]"><i class="fa fa-share-square-o"></i> {{\'entity_post.btn_share\'|translate}}</a></li><li><a href=javascript:; wt-entity-print=""><i class="fa fa-print"></i> {{\'entity_post.btn_print\'|translate}}</a></li></ul></li><li class=divider-v></li><li><a class=entity-well-header-close href=javascript:; ng-click=locator.close()><i class="wtfont wtf-close"></i></a></li></ul></div><div class="entity-well-scroll height-nonav height-nonav--notab" wt-scroll="" ng-show="root_vm.entityExt.loading_done && (global.prj_module.view|permission:root_vm.entityExt.permission)"><div class=entity-well-content><div ng-if=!vm.temp.is_edit><div class=entity-title><span class="comment_count_style pull-right" title="{{\'entity_post.info_count_comments\'|translate:{count:vm.post.comment_count} }}">{{vm.post.comment_count}}</span><h2 ng-click=vm.js_show_editor()><span ng-bind=vm.post.name></span></h2></div><div class=entity-meta><span class=ml_5>{{vm.post.owner.display_name}}&nbsp; {{\'entity_post.info_create_by_date\'|translate:{time:(vm.post.create_date|fromNow)} }}</span></div><div class="entity-desc markdown" wt-markdown=vm.post.content></div></div><div class=edit-section ng-if=vm.temp.is_edit wt-ctrl-enter=vm.js_update_post(vm.post)><div class=entity-mkd-editor-wrapper><wt-new-editor edit-title=vm.temp.name edit-content=vm.temp.content pid=vm.post.pid entity-id=vm.post.post_id entity-type=vm.post></wt-new-editor></div><div class=form-group><button ng-click=vm.js_update_post(vm.post) data-loading-text="{{\'common.saving\'|translate}}" class="btn btn-success mr_15" wt-loading-status=is_setting_content>{{\'common.btn_save\'|translate}}</button> <button ng-click=vm.js_cancel_editor() class="btn btn-link btn-cancel">{{\'common.btn_cancel\'|translate}}</button></div></div><div class=entity-members><dl class="entity-members-watchs entity-members-watchs--noassign"><dt>{{\'entity_post.title_watcher\'|translate}}</dt><dd><ul class=avatars><li ng-repeat="watcher in vm.post.watchers"><a href=javascript:; class="fa fa-times-circle" ng-click=vm.js_remove_watcher($event,watcher,vm.post)></a><wt-avatar member=watcher class=js-popbox wt-pop-member=vm.pop_watcher_options pop-member=watcher data-placement=left></wt-avatar></li><li ng-show=global.prj_module.crud|permission:root_vm.entityExt.permission><a class="avatar-add js-popbox" href=javascript:; data-placement=right data-align=center type=watch team-id=project.team_id pid=vm.pid permission=root_vm.entityExt.permission entity=vm.post wt-pop-toggle-members="vm.js_toggle_watch($event, member, xEntity)" all-member-click="vm.js_watch_all($event, members, xEntity)"><span class=o></span></a></li><li ng-show="(project.curr_role|is_guest) && (global.prj_module.watch|permission:root_vm.entityExt.permission)"><div class="js-popbox text-center" ng-click="vm.js_toggle_watch($event, global.me, vm.post)" data-placement=left data-align=center><a title="{{{true:\'entity_post.btn_cancel_watch\',false:\'entity_post.btn_watch\'}[global.me.watched]|translate}}" class=avatar-add href=javascript:;><span class=o>{{{true:\'\',false:\'\'}[global.me.watched]}}</span></a></div></li></ul></dd></dl></div><div class=entity-well-content-module><dl class="module-attachment dragfile-hover-show" ng-if="vm.post.files.length==0||vm.post.files == null"><dt><i class="fa fa-paperclip"></i> {{\'common.txt_attach\'|translate}}</dt><dd><div class=dragfile-hover-placeholder><span class=name><i class="fa fa-upload"></i> {{\'entity_post.drop_upload\'|translate}}</span></div></dd></dl><dl class=module-attachment ng-show="vm.post.files.length>0||($wtUpload.uploadQueueFilesByXid[vm.post.post_id].length>0)"><dt><i class="fa fa-paperclip"></i> {{\'common.txt_attach\'|translate}}</dt><dd><wt-attachment ng-repeat="file in vm.post.files" file=file gofile="vm.js_go_to_file(vm.pid, file.fid)" fancygroup=filegroup-task del="vm.js_del_attachment($event, file)" del-permission=global.prj_module.crud|permission:root_vm.entityExt.permission></wt-attachment><upload-attachment-file-process type=post pid=vm.pid xfield=post_id xid=vm.post.post_id></upload-attachment-file-process><div class=dragfile-hover-placeholder><span class=name><i class="fa fa-upload"></i> {{\'entity_post.drop_upload\'|translate}}</span></div></dd></dl></div></div><div class=entity-tabs><wt-item-comment-activity arg-type=post arg-project=project arg-entity=vm.post arg-entity-ext=root_vm.entityExt></wt-item-comment-activity></div></div></div>'),a.put("/ycjs/directive/entity/task.html", '<div wt-dragfile=vm.js_files_select($files) ng-controller=entityTaskCtrl class=h_100p wt-dragfile-enable=(global.prj_module.crud|permission:project.permission)><div class=entity-well-header ng-class="{\'entity-well-header--fullscreen\':vm.is_fullscreen}" ng-show=root_vm.entityExt.loading_done&&(global.prj_module.view|permission:root_vm.entityExt.permission)><a href=javascript:; class=entity-project-name ng-click=vm.js_go_to_tasks() ng-bind=project.name></a><ul class="entity-well-header-nav nav nav-pills pull-right"><li ng-if=(!vm.task.is_deleted&&!vm.task.archived&&vm.task.is_locked)&&(vm.task|taskLockPermission:$root.global.me) class=entity-info>{{\'entity_task.warn_locked\'|translate}}</li><li ng-if=vm.task.is_deleted class=entity-warning>{{\'entity_task.tips_del\'|translate:{datetime:(vm.task.update_date|timeFormatZHCN)} }}</li><li ng-if=vm.task.archived class=entity-info>{{\'entity_task.tips_archive\'|translate:{datetime:(vm.task.update_date|timeFormatZHCN)} }}</li><li ng-if=vm.task.archived class=divider-v></li><li ng-if="vm.task.archived && vm.checkEntityPermission()"><a href=javascript:; ng-click="vm.js_show_entry_menu($event, vm.task)" title="{{\'common.txt_active\'|translate}}"><i class="fa fa-undo"></i> {{\'common.txt_active\'|translate}}</a></li><li ng-if=vm.is_fullscreen><a href=javascript:; ng-click=vm.js_toggle_fullscreen($event)><i class="fa fa-arrows-alt"></i> {{\'entity_task.btn_quit_fullscreem\'|translate}}</a></li><li class=js-popbox ng-if=vm.checkEntityPermission()><a href=javascript:; ng-click="vm.js_show_datepicker($event, vm.task)" title="{{\'entity_task.btn_expire\'|translate}}"><i class="fa fa-clock-o"></i> {{\'entity_task.btn_date\'|translate}}</a></li><li class=js-popbox ng-if=vm.checkEntityPermission()><a href=javascript:; ng-click="vm.js_assign_label($event, vm.task)"><i class="fa fa-tag"></i> {{\'entity_task.btn_labels\'|translate}}</a></li><li ng-if=vm.checkEntityPermission()><a href=javascript:; ng-click=vm.js_show_todo(vm.task) title="{{\'entity_task.link_add_todo\'|translate}}"><i class="fa fa-th-list"></i> {{\'entity_task.title_todo\'|translate}}</a></li><li class=js-popbox ng-if=vm.checkEntityPermission()><a href=javascript:; class=dropdown-toggle data-toggle=dropdown title="{{\'entity_task.link_add_attachement\'|translate}}"><i class="fa fa-paperclip"></i> {{\'entity_task.attachment\'|translate}}</a><ul class="dropdown-menu dropdown-menu-right"><li><a href=javascript:; ngf-multiple=true ngf-select ngf-change=vm.js_files_select($files)><i class="fa fa-desktop"></i> {{\'entity_task.btn_local_upload\'|translate}}</a></li><li><a href=javascript:; data-placement=bottom wt-pop-add-attachment-from-file=vm.task><i class="fa fa-file"></i> {{\'entity_task.btn_from_project_file\'|translate}}</a></li><li class=divider></li><li wt-stop-propagation=click><div class="part-loading mt_20" ng-if=vm.js_uploadbylink_uploading></div><form class="form-inline text-nowarp" role=form ng-show=!vm.js_uploadbylink_uploading><input type=text ng-model=vm.uploadlink_url class="form-control input-sm fs_14" placeholder="{{\'entity_task.btn_paste_downlink\'|translate}}"> <button class="btn btn-default plr_10" type=button ng-click=vm.js_uploadbylink($event)>{{\'entity_task.btn_add\'|translate}}</button></form></li></ul></li><li class=divider-v ng-if="!vm.task.is_deleted && (global.prj_module.crud|permission:root_vm.entityExt.permission)"></li><li class=js-popbox ng-if="!vm.task.is_deleted && (global.prj_module.crud|permission:root_vm.entityExt.permission)"><a href=javascript:; class=dropdown-toggle data-toggle=dropdown title="{{\'entity_task.btn_more\'|translate}}"><i class="fa fa-chevron-down"></i> {{\'entity_task.btn_more\'|translate}}</a><ul class="dropdown-menu dropdown-menu-right"><li ng-if=vm.checkEntityPermission()><a href=javascript:; ng-click=vm.js_show_editor(vm.task) ng-class="{true:\'disabled\'}[vm.temp.is_edit]"><i class="fa fa-pencil fa-fw"></i> {{\'entity_task.btn_edit\'|translate}}</a></li><li ng-if=vm.checkLockEntityPermission()><a href=javascript:; ng-click="vm.js_lock_toggle($event, vm.task)"><i class="fa fa-fw" ng-class="{\'fa-lock\':vm.task.is_locked!=1,\'fa-unlock\':vm.task.is_locked==1}"></i> {{vm.task.is_locked?(\'entity_task.btn_unlock\'|translate):(\'entity_task.btn_lock\'|translate)}}</a></li><li ng-if=vm.checkLockEntityPermission() class=divider></li><li ng-if=global.prj_module.setting|permission:project.permission><a href=javascript:; ng-click="vm.js_timingtask($event, vm.task)"><i class="fa fa-repeat fa-fw"></i> {{\'entity_task.btn_timingtask\'|translate}}</a></li><yc-template ng-if=vm.checkEntityPermission()><li class=js-popbox><a href=javascript:; ng-click="vm.js_archive($event, vm.task)"><i class="fa fa-archive fa-fw"></i> {{\'entity_task.btn_archive\'|translate}}</a></li><li class=divider></li><li><a href=javascript:; ng-click="vm.show_task_move_dialog($event, vm.task)"><i class="fa fa-share fa-fw"></i> {{\'entity_task.btn_move\'|translate}}</a></li></yc-template><li ng-if=vm.checkProjectPermission()><a href=javascript:; ng-click="vm.js_show_copy($event, vm.task)"><i class="fa fa-copy fa-fw"></i> {{\'entity_task.btn_copy\'|translate}}</a></li><li ng-if=vm.checkEntityPermission()><a href=javascript:; ng-click="vm.js_trash($event, vm.task)"><i class="fa fa-trash-o fa-fw"></i> {{\'common.txt_del\'|translate}}</a></li><li ng-if=vm.checkProjectPermission() class=divider></li><li><a href=javascript:; wt-entity-share="[\'\',project.pid,\'tasks\',vm.task]"><i class="fa fa-share-square-o fa-fw"></i> {{\'entity_task.btn_share\'|translate}}</a></li><li><a href=javascript:; wt-entity-print=""><i class="fa fa-print fa-fw"></i> {{\'entity_task.btn_print\'|translate}}</a></li><li><a href=javascript:; ng-click=vm.js_toggle_fullscreen($event)><i class="fa fa-arrows-alt fa-fw"></i> {{ {false:\'entity_task.btn_fullscreem\',true:\'entity_task.btn_quit_fullscreem\'}[vm.is_fullscreen]|translate }}</a></li></ul></li><li class=js-popbox ng-if=vm.checkGuestPermission(vm.task,entity)><a href=javascript:; class=dropdown-toggle data-toggle=dropdown title="{{\'common.txt_more\'|translate}}"><i class="fa fa-chevron-down"></i> {{\'common.txt_more\'|translate}}</a><ul class="dropdown-menu dropdown-menu-right"><li ng-if=vm.task.archived><a href=javascript:; ng-click="vm.js_show_entry_menu($event, vm.task)" title="{{\'entity_task.btn_unarchive\'|translate}}"><i class="fa fa-undo fa-fw"></i> {{\'entity_task.btn_unarchive\'|translate}}</a></li><li><a href=javascript:; ng-click=vm.js_toggle_fullscreen($event)><i class="fa fa-arrows-alt fa-fw"></i> {{ {false:\'entity_task.btn_fullscreem\',true:\'entity_task.btn_quit_fullscreem\'}[vm.is_fullscreen]|translate }}</a></li><li><a href=javascript:; wt-entity-share="[\'\',project.pid,\'tasks\',vm.task]"><i class="fa fa-share fa-fw"></i> {{\'entity_task.btn_share\'|translate}}</a></li><li><a href=javascript:; wt-entity-print=""><i class="fa fa-print fa-fw"></i> {{\'entity_task.btn_print\'|translate}}</a></li></ul></li><li class=divider-v></li><li><a class=entity-well-header-close href=javascript:; ng-click=locator.close()><i class="wtfont wtf-close"></i></a></li></ul></div><div class="entity-well-scroll height-nonav height-nonav--notab" ng-if=root_vm.entityExt.loading_done&&(global.prj_module.view|permission:root_vm.entityExt.permission) ng-class="{\'entity-well-scroll--fullscreen\':vm.is_fullscreen}" wt-scroll><div class=entity-well-content><div ng-if=!vm.temp.is_edit><div class=entity-title><a href=javascript:; ng-click=vm.js_complete_task(vm.task)><i class=fa ng-class="{1:\'fa-check-square\',0:\'fa-square-o\'}[vm.task.completed]"></i></a><h2 ng-click=vm.js_show_editor(vm.task)><span ng-class="{\'task-completed-style\':vm.task.completed}" ng-bind=vm.task.name></span> <span class=entity-title--entry ng-if="vm.task.is_deleted!=1" ng-bind=vm.task.entry_name></span></h2></div><a class=entity-desc-edit ng-if="!vm.task.desc && (global.prj_module.crud|permission:root_vm.entityExt.permission)" href=javascript:; ng-click=vm.js_show_editor(vm.task)>{{\'entity_task.link_add_task_desc\'|translate}}</a><div class="entity-desc markdown" ng-if=vm.task.desc wt-markdown=vm.task.desc></div></div><div class=edit-section ng-if=vm.temp.is_edit><div><input type=text ng-model=vm.temp.name wt-enter="vm.js_set_update($event, vm.task)" class="form-control help-block" placeholder="{{\'entity_task.task_name\'|translate}}" required><wt-editor pid=vm.pid><textarea ng-model=vm.temp.desc type=text class=wt-scroll wt-ctrl-enter="vm.js_set_update($event, vm.task)" msd-elastic rows=9 wt-maxheight=210 placeholder="{{\'entity_task.placeholder_task_desc\'|translate}}" wt-focus=""></textarea></wt-editor></div><div class=form-group><button ng-click="vm.js_set_update($event, vm.task)" data-loading-text="{{\'common.saving\'|translate}}" wt-loading-status=vm.task.is_saving class="btn btn-success mr_15">{{\'common.btn_save\'|translate}}</button> <button ng-click=vm.js_cancel_editor(vm.task) class="btn btn-link btn-cancel">{{\'common.btn_cancel\'|translate}}</button></div></div><div class=entity-members><dl class=entity-members-assign ng-if="vm.task.members.length > 0||(global.prj_module.crud|permission:root_vm.entityExt.permission)"><dt>{{\'entity_task.assign_to\'|translate}}</dt><dd><ul class=avatars><li ng-repeat="member in vm.task.members"><a href=javascript:; class="fa fa-times-circle" ng-click="vm.js_remove_member($event, member, vm.task)"></a><wt-avatar member=member class=js-popbox wt-pop-member=pop_member_options pop-member=member data-placement=left></wt-avatar></li><li ng-if=vm.checkEntityPermission()><div class="js-popbox text-center" data-placement=left data-align=center type=member team-id=project.team_id pid=vm.pid permission=root_vm.entityExt.permission entity=vm.task wt-pop-toggle-members="vm.js_toggle_member($event, member, xEntity)"><a class=avatar-add href=javascript:;><span class=o></span></a></div></li></ul></dd></dl><dl class=entity-members-watchs ng-if="vm.task.watchers.length > 0||(global.prj_module.crud|permission:root_vm.entityExt.permission)"><dt>{{\'entity_task.title_watcher\'|translate}}</dt><dd><ul class=avatars><li ng-repeat="watcher in vm.task.watchers"><a href=javascript:; class="fa fa-times-circle" ng-click=vm.js_remove_watcher($event,watcher,vm.task)></a><wt-avatar member=watcher class=js-popbox wt-pop-member=pop_watcher_options pop-member=watcher data-placement=left></wt-avatar></li><li ng-if=vm.checkEntityPermission()><div class="js-popbox text-center" wt-pop-toggle-members="vm.js_toggle_watch($event, member, xEntity)" type=watch team-id=project.team_id pid=vm.pid permission=root_vm.entityExt.permission entity=vm.task all-member-click="vm.js_watch_all($event, members, xEntity)" data-placement=left data-align=center><a class=avatar-add href=javascript:;><span class=o></span></a></div></li><li ng-show="(project.curr_role|is_guest) && (global.prj_module.watch|permission:root_vm.entityExt.permission)"><div class="js-popbox text-center" ng-click="vm.js_toggle_watch($event, global.me, vm.task)" data-placement=left data-align=center><a class=avatar-add title="{{{true:\'entity_task.btn_cancel_watch\',false:\'entity_task.btn_watch\'}[global.me.watched]|translate}}" href=javascript:;><span class=o>{{{true:\'\',false:\'\'}[global.me.watched]}}</span></a></div></li></ul></dd></dl></div><hr class=entity-hr ng-if="vm.task.is_todo_edit||vm.task.todos.length > 0||vm.task.expire_date||vm.task.labels.length > 0||vm.task.files.length > 0"><div class=entity-well-content-module><dl class=module-expire-date ng-if=vm.task.expire_date><dt><i class="fa fa-clock-o"></i> {{\'entity_task.title_expired\'|translate}}</dt><dd class=js_popbox><a href=javascript:; data-placement=right ng-class=vm.task_expireDateStyle ng-click="vm.js_show_datepicker($event, vm.task)">{{vm.task.expire_date|taskDatetimeFormat}}</a></dd></dl><dl class=module-label ng-if="vm.task.labels.length > 0"><dt><i class="fa fa-tag"></i> {{\'entity_task.title_label\'|translate}}</dt><dd><ul><li class="task-label {{label.name}}-label" title={{label.desc}} ng-repeat="label in vm.task.labels"><span ng-bind=[label.desc,12]|cutstr></span> <a class="action-icon edit fa fa-remove" ng-show=(global.prj_module.crud|permission:root_vm.entityExt.permission) href=javascript:; ng-click=vm.js_remove_label(label) title="{ntity_task.btn_remove_label\'|translate}}"></a></li><li class=task-label-add><a ng-if=vm.checkEntityPermission() href=javascript:; class=js-popbox ng-click="vm.js_assign_label($event, vm.task)" data-placement=left> {{\'entity_task.add_label\'|translate}}</a></li></ul></dd></dl><dl class=module-todo ng-if="vm.task.is_todo_edit||vm.task.todos.length > 0"><dt><i class="fa fa-th-list"></i> {{\'entity_task.todo\'|translate}}</dt><dd><div class=progress-warp><span ng-bind="vm.task.percentage+\'%\'"></span><uib-progressbar value=vm.task.percentage type=success></uib-progressbar></div><div class=task-todos><ul class=sortable sortable=todo_sort_options><li class=todo-item ng-repeat="todo in vm.task.todos" pos={{todo.pos}} ng-class="{\'todo-item-done\':todo.checked!=0}" todo-id={{todo.todo_id}}><a class=todo-item-check ng-click="vm.js_complete_todo(vm.task, todo)"><i class=fa ng-class="{0:\'fa-square-o\',1:\'fa-check-square\'}[todo.checked]"></i></a><div class="todo-item-edit editable"><p ng-hide=todo.is_todo_edit ng-click=vm.js_show_todo_editor(todo) ng-bind=todo.name></p><div class=edit ng-show=todo.is_todo_edit wt-show-edit=todo.is_todo_edit><div class=todo-edit-control><textarea ng-model=todo.name type=text class=form-control ui-keydown="{\'enter esc\':\'vm.js_keydown_edit_todo($event,vm.task,todo)\'}" atwho-members=vm.todo_atwho_members wt-atwho={emojis:false}></textarea></div><div class=mb_10><button ng-click=vm.js_save_todo($event,todo) data-loading-text="{{\'common.txt_save\'|translate}}" wt-loading-status=todo.is_saving class="btn btn-success mr_15">{{\'common.txt_save\'|translate}}</button> <button class="btn btn--warning" ng-click="vm.js_del_todo(vm.task, todo)">{{\'common.txt_del\'|translate}}</button></div></div></div></li></ul></div><div class=new-todo ng-if=vm.checkEntityPermission()><a href=javascript:; ng-click=vm.js_show_add_todo_editor(vm.task) ng-if=!vm.task.is_add_todo_edit> {{\'entity_task.add_todo\'|translate}}</a><div class=new-todo-control ng-if=vm.task.is_add_todo_edit wt-show-edit=vm.task.is_add_todo_edit><div style="width:100%; display:block"><textarea type=text atwho-members=vm.todo_atwho_members wt-atwho={emojis:false} ui-keydown="{\'enter esc\':\'vm.js_keydown_add_todo($event,vm.task,vm.new_todo)\'}" class="new-todo-text form-control" ng-model=vm.new_todo.temp_name placeholder="{{\'entity_task.enter_todo_name\'|translate}}"></textarea></div><div><button class="btn btn-success mr_15" data-loading-text="{{\'entity_task.adding\'|translate}}" wt-loading-status=vm.new_todo.is_saving ng-click="vm.js_add_todo(vm.task, vm.new_todo)">{{\'common.btn_add\'|translate}}</button> <button class="btn btn-link btn-cancel" ng-click=vm.js_cancel_add_todo_editor(vm.task)>{{\'common.btn_cancel\'|translate}}</button></div></div></div></dd></dl><dl class="module-attachment dragfile-hover-show" ng-if="vm.task.files == null"><dt><i class="fa fa-paperclip"></i> {{\'entity_task.attachment\'|translate}}</dt><dd><div class=dragfile-hover-placeholder><span class=name><i class="fa fa-upload"></i> {{\'entity_task.drop_upload\'|translate}}</span></div></dd></dl><dl class=module-attachment ng-show="vm.task.files.length>0||($wtUpload.uploadQueueFilesByXid[vm.task.tid].length>0)"><dt><i class="fa fa-paperclip"></i> {{\'entity_task.attachment\'|translate}}</dt><dd><wt-attachment ng-repeat="file in vm.task.files" fancygroup=filegroup-task file=file gofile="vm.js_go_to_file(vm.pid, file.fid)" del="vm.js_del_attachment($event, file)" del-permission=vm.checkEntityPermission()></wt-attachment><upload-attachment-file-process type=task pid=vm.pid xfield=tid xid=vm.task.tid></upload-attachment-file-process><div class=task-attachment-add ng-if=vm.checkEntityPermission()><a href=javascript:; ngf-multiple=true ngf-select ngf-change=vm.js_files_select($files)> {{\'entity_task.add_attachement\'|translate}}</a></div><div class=dragfile-hover-placeholder><span class=name><i class="fa fa-upload"></i> {{\'entity_task.drop_upload\'|translate}}</span></div></dd></dl></div><hr class=entity-hr><div class=entity-content-footer><div ng-if=vm.task.creator>{{\'entity_task.who_create\'|translate:{who:vm.task.creator.display_name,when:(vm.task.create_date|datetimeAutoFormat)} }}</div><div ng-if=vm.task.completer class=mt_10>{{\'entity_task.who_complete\'|translate:{who:vm.task.completer.display_name,when:(vm.task.completed_at|datetimeAutoFormat)} }}</div></div></div><div class=entity-tabs ng-class="{\'entity-tabs--fullscreen\':vm.is_fullscreen}"><wt-item-comment-activity arg-type=task arg-project=project arg-entity=vm.task arg-entity-ext=root_vm.entityExt></wt-item-comment-activity></div></div></div>'),a.put("/ycjs/directive/event/pop_add_event.html", '<ul class=popbox-step ng-switch on=step><li ng-switch-default class=popbox-step-li><div class=popbox-header><button class="cancel fa fa-remove" ng-click=js_close()></button><h3>{{\'pop_add_event.title_name\'|translate}}</h3></div><div class=popbox-body ng-if="selected_projects.length == 0 && show_project_select"><div class="alert alert-warning">{{\'pop_add_event.warn_project_empty\'|translate}}</div></div><div ng-class="{true:\'max-h445\',false:\'max-h400\'}[show_project_select]" wt-scroll><form ng-if="selected_projects.length > 0||!show_project_select" name=new_event_form w5c-form-validate="" class=wt-form novalidate role=form><div class="popbox-body pop-add-event"><textarea wt-enter=js_save_event(new_event_form) name=event_name ng-model=new_event.name placeholder="{{\'pop_add_event.event_content\'|translate}}" class=form-control required wt-focus></textarea><div class=section-group ng-if=show_project_select><lable>{{\'common.txt_project\'|translate}}</lable><ui-select ng-change=js_change_project() ng-if=!is_team_calendar ng-model=new_event.pid theme=select2 append-to-body=false class=project-select><ui-select-match placeholder="{{\'pop_add_event.choose_project\'|translate}}">{{$select.selected.name}}</ui-select-match><ui-select-choices group-by="\'team_name\'" repeat="project.pid as project in selected_projects|propsFilter:{name: $select.search}"><div class=text-overflow ng-bind-html=project.name|reHighlight:$select.search></div></ui-select-choices></ui-select><ui-select ng-change=js_change_project() ng-if=is_team_calendar ng-model=new_event.pid theme=select2 append-to-body=true class=project-select><ui-select-match placeholder="{{\'pop_add_event.choose_project\'|translate}}">{{$select.selected.name}}</ui-select-match><ui-select-choices repeat="project.pid as project in selected_projects|propsFilter:{name: $select.search}"><div class=text-overflow ng-bind-html=project.name|reHighlight:$select.search></div></ui-select-choices></ui-select></div><div class=section-group><lable>{{\'pop_add_event.star\'|translate}}</lable><input name=start_date ng-model=new_event.start_date placeholder="" type=text class="form-control control-first" ng-click="js_to_set_date(\'start_date\')" readonly=readonly required><select ng-model=new_event.start_hour ng-options="time for time in start_hour_sections" class="form-control hour-select"></select><span class=separation>:</span><select ng-model=new_event.start_minute ng-options="time as time for time in start_minute_sections" class="form-control minute-select"></select></div><div class=section-group><lable>{{\'pop_add_event.end\'|translate}}</lable><input name=end_date ng-model=new_event.end_date placeholder="" type=text class="form-control control-first" ng-click="js_to_set_date(\'end_date\')" readonly=readonly required><select ng-model=new_event.end_hour class="form-control hour-select" ng-change=js_change_end_hour()><option ng-repeat="v in end_hour_sections" ng-selected="new_event.end_hour == v" value={{v}}>{{v}}</option></select><span class=separation>:</span><select ng-model=new_event.end_minute class="form-control minute-select"><option ng-repeat="v in end_minute_sections" ng-selected="new_event.end_minute == v" value={{v}}>{{v}}</option></select></div><div class=section-group><lable>{{\'pop_add_event.location\'|translate}}</lable><input name=event_location ng-model=new_event.location placeholder="{{\'pop_add_event.options\'|translate}}" type=text class="form-control location-input"></div><div class=section-group><lable>{{\'pop_add_event.repeat\'|translate}}</lable><select ng-model=new_event.repeat_interval ng-options="interval.desc for interval in repeat_intervals" class="form-control location-input"></select></div><div class=section-group><lable>{{\'pop_add_event.attend\'|translate}}</lable><ul class=entity-members><li data-ng-repeat="member in new_event.attendees"><a href=javascript:;><wt-avatar member=member faceclass=plr_5 size=40></wt-avatar></a></li><li><a class="avatar-add js-popbox" href=javascript:; ng-click=js_to_attendee($event) data-placement=left><span class=o></span></a></li></ul></div><div class=section-group><button w5c-form-submit=js_save_event(new_event_form) data-loading-text="{{\'common.saving\'|translate}}" class="btn btn-success btn--big mr_15" wt-loading-status=new_event.is_saving>{{\'common.btn_save\'|translate}}</button> <button ng-click=js_close() class="btn btn-link btn-cancel">{{\'common.btn_cancel\'|translate}}</button></div></div></form></div></li><li ng-switch-when=1 class=popbox-step-li><div class=popbox-header><button class="back fa fa-chevron-left" ng-click=js_step(0)></button> <button class="cancel fa fa-remove" ng-click=js_close()></button><h3>{{set_date_title}}</h3></div><div class=popbox-body><wt-full-datepicker default-date=current_date set-date=js_set_date(date) min-date=min_date></wt-full-datepicker></div></li><li ng-switch-when=2 class=popbox-step-li><div class=popbox-header><button class="back fa fa-chevron-left" ng-click=js_step(0)></button> <button class="cancel fa fa-remove" ng-click=js_close()></button><h3>{{\'pop_add_event.attend\'|translate}}</h3></div><div class=popbox-bodywrapper wt-scroll><div class=popbox-body><input type=text ng-model=search_user_input placeholder="{{\'pop_add_event.search_member\'|translate}}" class="form-control help-block"><br><div class=part-loading ng-show=loading_members></div><ul class="popbox-menu checkable checkable--popboxmenu" data-ng-hide=loading_members><li class=member-item ng-repeat="member in members|filterMembers:search_user_input" ng-class="{\'selected\':member.assigned==1}"><wt-avatar member=member tabindex=-1 ng-click=js_toggle_member(member) name=true faceclass=plr_5 atname=true size=30></wt-avatar></li></ul></div></div><div class=hr ng-show=!loading_members></div><div class="popbox-footer popbox-footer-splite" ng-show=!loading_members><a class="action-item popbox-footer-splite-left" href=javascript:; ng-click=js_add_all(0)><span>{{\'pop_add_event.all_add\'|translate}}</span> </a><a class="action-item popbox-footer-splite-right" href=javascript:; ng-click=js_step(0)><span>{{\'common.txt_ok\'|translate}} </span>({{ new_event.attendees.length }}/{{ members.length }})</a></div></li></ul>'),a.put("/ycjs/directive/event/start_end_datatime.html", '<div class=start-end-datatime-warper ng-class="{\'flex-row\':vm.displayMode==\'row\',\'flex-col\':vm.displayMode==\'col\'}"><div class="start-warper flex-se1"><span class=title>{{\'start_end_datatime.begin\'|translate}} </span><span class="datatime flex-row"><input name=start_date ng-change=vm.changeDatetime() ng-model=startDate placeholder="" type=text class="form-control flex-se3 date-select js-popbox" wt-pop-full-datepicker=vm.startDateOptions data-placement=bottom readonly=readonly required><select ng-model=vm.startHour class="form-control flex-se1 hour-select" ng-change=vm.changeDatetime({isChangeStartDate:true})><option ng-repeat="v in vm.allHourSections" value={{v}} ng-selected="v == vm.startHour">{{v}}</option></select><span class=separation>:</span><select ng-model=vm.startMinute class="form-control flex-se1 minute-select" ng-change=vm.changeDatetime({isChangeStartDate:true})><option ng-repeat="v in vm.allMinuteSections" value={{v}} ng-selected="v == vm.startMinute">{{v}}</option></select></span></div><div class="end-warper flex-se1"><span class=title>{{\'start_end_datatime.end\'|translate}} </span><span class="datatime flex-row"><input name=end_date ng-model=endDate placeholder="" type=text class="form-control flex-se3 date-select js-popbox" wt-pop-full-datepicker=vm.endDateOptions data-placement=bottom readonly=readonly required><select ng-model=vm.endHour class="form-control flex-se1 hour-select" ng-change=vm.changeDatetime()><option ng-repeat="v in vm.endHourSections" value={{v}} ng-selected="v == vm.endHour">{{v}}</option></select><span class=separation>:</span><select ng-model=vm.endMinute class="form-control flex-se1 minute-select" ng-change=vm.changeDatetime()><option ng-repeat="v in vm.endMinuteSections" value={{v}} ng-selected="v == vm.endMinute">{{v}}</option></select></span></div></div>'),
    a.put("/ycjs/directive/feedback/feedback.html", "<div id=feedback><a class=feedback-qrcode href=javascript:; ng-click=vm.js_show_qrcode();><i class=\"fa fa-wechat\"></i> <img src=/img/feedback/feedback-qrcode2.png> </a><a class=feedback-help href=javascript:; ng-click=vm.js_show_feedback()>{{'feedback.btn_feedback'|translate}}</a></div>"),a.put("/ycjs/directive/feedback/feedback_form.html", '<div class="dialog dialog-feedback"><div class=dialog-head><span class=dialog-close><i class="wtfont wtf-close" ng-click=vm.js_close()></i></span><div class=dialog-title>{{\'feedback_form.title_name\'|translate}}</div></div><div class=dialog-body><div class=feedback_help_list ng-if="vm.status.code==0"><div translate=feedback_form.first_tips></div><div class=form-group><input type=text class="form-control input-block" wt-focus="" autofocus="" autocomplete=off ng-model=vm.help_keywords placeholder="{{\'feedback_form.placeholder_search_help\'|translate}}"></div><ul><li ng-repeat="link in vm.help_links_init" ng-if="vm.help_links.length==0"><a href={{link.url}} target=_blank>{{link.title}}</a></li><li ng-repeat="link in vm.help_links"><a href={{link.url}} target=_blank>{{link.title}}</a></li></ul><a href=javascript:; class=color-text-act-blue ng-click=vm.js_feedback_begin()>{{\'feedback_form.send_feedback\'|translate}} </a>{{\'feedback_form.phone_number\'|translate}}</div><form class=feedback_send_form ng-if="vm.status.code==1" name=feedback_form w5c-form-validate={blurTrig:false,showMsg:false} method=POST enctype=multipart/form-data class="form-horizontal wt-form" action={{vm.action_url}} role=form><div class=form-group><label for=feedback_type class="control-label label-text">{{\'feedback_form.form_feedback_type\'|translate}}</label><select class=form-control id=feedback_type name=feedback_type ng-model=vm.feedback_type ng-pattern=[1-7]{1} required ng-options="type.name for type in vm.feedback_types"><option value="" selected=selected disabled=disabled>{{\'feedback_form.placeholder_type\'|translate}}</option></select></div><div class=form-group><label for=feedback_desc class="control-label label-text">{{\'feedback_form.your_question\'|translate}}</label><textarea class=form-control rows=6 id=feedback_desc name=feedback_desc ng-model=vm.feedback_desc required placeholder="{{\'feedback_form.need_we_know\'|translate}}"></textarea><div class=file-wrap><button class="btn btn-block" ngf-select=vm.js_file_select($file)><span ng-show=vm.on_upload><i class="fa fa-spinner fa-spin fa-lg"></i>&nbsp;&nbsp;{{vm.progressPercentage}}%</span> <span ng-hide=vm.on_upload><i class="fa fa-paperclip"></i></span></button><div class="text-warning mt_20" ng-if="vm.file_path.length > 0"><dl class=file-list><dt><img ng-if=!isImage ng-src="{{\'/img/icons/\'+vm.file_ext+\'.png\'}}"> <img ng-if=isImage ng-src={{vm.file_path}}></dt><dd><a href={{vm.file_path}} target=_blank>{{vm.file_name}}</a><br>{{vm.file_size}}k</dd></dl></div></div></div><div class=form-group ng-show="feedback_form.$errors.length > 0"><div class="alert alert-danger"><i class="fa fa-info-circle"></i> {{feedback_form.$errors[0]}}</div></div><div class=form-group><button type=button w5c-form-submit=vm.js_feedback_submit(feedback_form) class="btn btn-success btn-green" data-loading-text="{{\'feedback_form.submiting\'|translate}}" loading-status=vm.isSubmit>{{\'feedback_form.submit_feedback\'|translate}}</button> &nbsp; <button type=button ng-click=vm.js_close() class="btn btn-link">{{\'common.btn_cancel\'|translate}}</button><div class="pull-right outer-link"><a href=/help target=_blank class="btn btn-default"><i class="wtfont wtf-message"></i> {{\'feedback_form.link_helpcenter\'|translate}} </a>&nbsp;<div class=divider-v></div>&nbsp; <a href=/upgrade target=_blank class="btn btn-default pro-link"><i class="wtfont wtf-worktile"></i> {{\'feedback_form.linK_pro\'|translate}}</a></div></div></form><div class=success-panel ng-if="vm.status.code==2"><i class=imgicon-success></i><br><span class="w_397 center-block">{{vm.status.message}}</span><br><a class="btn btn-success" href=javascript:; ng-click=vm.js_feedback_again()>{{\'feedback_form.link_refeedback\'|translate}}</a></div></div></div>'),a.put("/ycjs/directive/file/file_delete.html", '<div><div class=popbox-header><button ng-if=vm.has_back class="back fa fa-chevron-left" ng-click=vm.parse_back()></button> <button ng-if=vm.has_close class="cancel fa fa-remove" ng-click=vm.parse_close()></button><h3>{{\'file_delete.title_name\'|translate}}</h3></div><div class=popbox-body><span translate=file_delete.desc></span></div><div class=popbox-footer><button ng-click=vm.js_del_file(vm.file) class="btn btn-danger" data-loading-text="{{\'common.deling\'|translate}}" wt-loading-status=vm.is_deleting>{{\'common.btn_confirm_del\'|translate}}</button></div></div>'),a.put("/ycjs/directive/file/file_item.html", "<div ng-hide=file.is_hide file-id={{file.fid}} class=\"js-popbox file-item-mark right_click_trigger\" ng-class=\"{'wt-row file-item-list':dm.view_type=='list','file-item file-item-icon':dm.view_type=='icon','file-item-preview':(file|isPreviewFile)==0||(file|isPreviewFile)==2}\"><div ng-if=\"dm.view_type=='list'\" file-id={{file.fid}} ng-click=dm.js_open_file($event,file) data-placement=bottom data-align=left ng-class=\"{'active':file.fid == locator.show_detail_file_id}\"><div class=\"column column-name slide-trigger\" ng-class=\"{'column-name--folder':(file.type|isFolder)}\"><img class=pic ng-src={{file.icon|wtBox}} alt=\"{{ file.name }}\"> <a class=name href=javascript:; ng-bind=file.name></a> <ins>{{(file.size|fileSize)||\"\"}}</ins></div><div class=\"column column-meta\">{{file.update_user.display_name}} {{'file_item.update_by'|translate}} <span class=date>{{file.update_date|fromNow}}</span></div></div><div ng-if=\"dm.view_type=='icon'\" file-id={{file.fid}} file-type={{file.type}} droppable=folder_droppable_options draggable=file_draggable_options class=js-dragdropable data-placement=bottom data-align=left ng-click=dm.js_open_file($event,file) title=\"{{ {0:file.name+'\\n'+('file_item.file_size'|translate)+(file.size|fileSize)+'\\n'+('file_item.change_by'|translate)+(file.update_date|timeFormatZHCN),1:file.name+'\\n'+('file_item.change_by'|translate)+(file.update_date|timeFormatZHCN)}[file.type] }}\"><a href=javascript:; class=\"file-menu js-popbox\" ng-if=(((file.type|isFolder)&&(global.prj_module.crud|permission:project.permission))||(file.type|isFile)&&(global.prj_module.watch|permission:project.permission)) data-placement=right data-align=auto ng-click=\"vm.js_show_menu($event, file)\"><i class=\"fa fa-play-circle-o\"></i> </a><a class=file-pic ng-class=\"{0:'file-picfile fancybox-file',1:'file-picfolder',2:'file-preview'}[(file|isPreviewFile)]\" ng-href=\"{{{2:'/files/'+file.fid+'/preview'}[(file|isPreviewFile)]}}\" target=_blank data-fancybox-group=filegroup-files data-fancybox-href={{file|wtBoxView}} data-fancybox-type=image title={{file.name}}><img ng-src={{file.icon|wtBox}} alt={{file.name}}></a><div class=file-name><a class=slide-trigger ng-bind=file.name></a></div></div></div>"),a.put("/ycjs/directive/file/globalUploadFileProcess.html", '<div class=global-file-upload-process ng-if="$wtUpload.uploadQueueFiles.length > 0"><div class="alert-inner dropdown"><a href=javascript:; class=dropdown-toggle uib-dropdown-toggle data-toggle=dropdown>{{\'globalupload_file_process.uploading_queue\'|translate:{count:$wtUpload.uploadQueueFiles.length} }} <i class="fa fa-caret-down pull-right"></i></a><ul class="dropdown-menu dropdown-menu-mw240 dropdown-menu-right" role=menu wt-stop-propagation=click><li ng-repeat="file in $wtUpload.uploadQueueFiles"><a href=javascript:;><span>{{file.name||file.original.name}}</span> <small>({{file.progress}}%)</small> <span ng-if=file.error>{{file.error}}</span> <span ng-click=cancelUpload(file) class="fa fa-close" title="{{\'common.txt_cancel\'|translate}}"></span></a></li></ul></div></div>'),a.put("/ycjs/directive/file/uploadAttachmentFileProcess.html", '<div wt-stop-propagation=click class=upload-attachment-file-process ng-show="$wtUpload.uploadQueueFilesByXid[xid]&&$wtUpload.uploadQueueFilesByXid[xid].length>0"><div class=attachment title={{file.name||file.original.name}} ng-repeat="file in $wtUpload.uploadQueueFilesByXid[xid]"><a class=file-picfile href=javascript:; title={{file.name||file.original.name}}><span class="badge upload-file-process__error" ng-if=file.error>{{file.error}}</span> <img ng-if=file.isImage ngf-src=file.Blob> <img ng-if=!file.isImage src=https://wt-thumb.oss.aliyuncs.com/res/icon/icon-file-default.png> </a><small class=file-type><span class=text-uppercase>{{file|uploadFileExt}} </span>{{\'common.txt_file\'|translate}} </small><a class=file-name href=javascript:; title={{file.name||file.original.name}}>{{file.name||file.original.name}}</a><div ng-if="file.percent>0" class="pull-left mr_15 progress progress-striped active"><div class="progress-bar progress-bar-success" ng-style="{width:file.percent+\'%\'}"></div></div><span class=file-action><a class=file-cancel href=javascript:; ng-click=vm.cancelUpload(file)>{{\'common.txt_cancel\'|translate}}</a></span></div></div>'),a.put("/ycjs/directive/file/uploadFileProcess.html", '<ul wt-stop-propagation=click class=upload-file-process ng-show="$wtUpload.uploadQueueFilesByPid[pid]&&$wtUpload.uploadQueueFilesByPid[pid].length>0"><li ng-repeat="file in $wtUpload.uploadQueueFilesByPid[pid]"><span class=upload-file-process__name>{{file.name||file.original.name}}</span> <span ng-if="file.percent>0" class="mr_15 progress progress-striped active"><div class="progress-bar progress-bar-success" ng-style="{width:file.percent+\'%\'}"></div></span><span class="badge upload-file-process__error" ng-if=file.error>{{file.error}}</span> <a href=javascript:; ng-click=vm.cancelUpload(file) class="fa fa-close" title="{{\'common.txt_cancel\'|translate}}"></a></li></ul>'),a.put("/ycjs/directive/leftmenu/dialog_create_pro.html", "<div class=\"dialog dialog-create-pro\"><div class=\"dialog-head border-bottom\"><span class=dialog-close><i class=\"wtfont wtf-close\" ng-click=vm.js_close()></i></span><div class=dialog-title>{{'dialog_create_pro.title_name'|translate}}</div></div><div class=dialog-body><div class=inner-picture></div><div class=two-link><a href=//pro.worktile.com target=_blank ng-click=vm.js_close()>{{'dialog_create_pro.know_more'|translate}} </a><a href=//pro.worktile.com/signup target=_blank ng-click=vm.js_close() class=color-text-act-pro>{{'dialog_create_pro.signup'|translate}}</a></div></div></div>"),a.put("/ycjs/directive/leftmenu/dialog_mobile_download.html", '<div class="dialog dialog-mobile-download"><div class="dialog-head border-bottom"><span class=dialog-close><i class="wtfont wtf-close" ng-click=vm.js_close()></i></span><div class=dialog-title>{{\'dialog_mobile_download.title_name\'|translate}}</div></div><div class=dialog-body></div></div>'),a.put("/ycjs/directive/leftmenu/dialog_watch_wechat.html", '<div class="dialog dialog-watch-wechat"><div class="dialog-head border-bottom"><span class=dialog-close><i class="wtfont wtf-close" ng-click=vm.js_close()></i></span><div class=dialog-title>{{\'dialog_watch_wechat.title_name\'|translate}}</div></div><div class=dialog-body></div></div>'),a.put("/ycjs/directive/leftmenu/leftmenu.html", "<div id=leftmenu><div id=leftmenu_tab><div class=leftmenu_top><a href=javascript:; class=\"worktilelogo js-popbox\" data-align=top data-placement=right ng-click=vm.js_pop_show_teams($event) id=btn_leftmenu_show_teams><i class=\"wtfont wtf-worktile\"></i></a></div><div class=leftmenu_tab_wrap wt-scroll='{\"theme\":\"wt-scroll-dark\"}'><ul id=leftmenu_current class=leftmenu_module><li><a href=javascript:; tooltip-placement=right tooltip-animation=false uib-tooltip=\"{{{true:('dashboard.title_name'|translate)}[!$root.global.leftmenu_current_expand]}}\" ng-class=\"{'active':$root.global.header_menu=='dashboard'&&$root.global.leftmenu_current_expand==''}\" ng-click=vm.goto_dashboard()><i class=\"wtfont wtf-dashboard\"></i></a></li><li><a href=javascript:; tooltip-placement=right tooltip-animation=false uib-tooltip=\"{{{true:('search.title_name'|translate)}[!$root.global.leftmenu_current_expand]}}\" ng-class=\"{'active':($root.global.header_menu=='search'&&$root.global.leftmenu_current_expand=='')||$root.global.leftmenu_current_expand=='search'}\" ng-click=vm.goto_search()><i class=\"wtfont wtf-search\"></i></a></li><li><a href=javascript:; class=notice-menu tooltip-placement=right tooltip-animation=false uib-tooltip=\"{{{true:('notice.title_name'|translate)}[!$root.global.leftmenu_current_expand]}}\" ng-class=\"{'active':$root.global.leftmenu_current_expand=='notice'}\" ng-click=\"vm.expand_item('notice')\"><i class=\"wtfont wtf-notice\"></i> <span class=\"label label-default label-danger\" ng-if=\"$root.global.unread_count>0\">{{$root.global.unread_count}}</span></a></li><li><a href=javascript:; tooltip-placement=right tooltip-animation=false uib-tooltip=\"{{{true:('project.title_name'|translate)}[!$root.global.leftmenu_current_expand]}}\" ng-class=\"{'active':($root.global.header_menu=='project'&&$root.global.leftmenu_current_expand=='')||$root.global.leftmenu_current_expand=='project'}\" ng-click=\"vm.expand_item('project')\"><i class=\"wtfont wtf-project\"></i></a></li></ul><ul class=leftmenu_starprj ng-if=\"$root.global.me.is_lock_left=='1'\"><li ng-repeat=\"project in vm.star_projects|orderBy:'star_pos'\" pid={{::project.pid}}><a ng-class=\"{'active':$root.global.current_pid==project.pid}\" href=javascript:; ng-click=vm.to_project(project) uib-tooltip={{project.name}} tooltip-animation=false tooltip-placement=right><i ng-class=project.pic ng-style=\"{color: project.bg}\"></i></a></li></ul></div><div class=leftmenu_footer><div class=\"quickadd js-popbox clickable\" tooltip-placement=right tooltip-animation=false uib-tooltip=\"{{{true:('leftmenu.quick_create'|translate)}[!$root.global.leftmenu_current_expand]}}\" data-placement=right data-align=bottom ng-class=\"{'active':$root.global.leftmenu_current_expand=='create'}\" ng-click=vm.js_pop_shortcut_create($event) id=btn_leftmenu_shortcut_create><i class=\"wtfont wtf-create\"></i></div><wt-avatar member=$root.global.me size=40 class=js-popbox ng-click=vm.js_pop_avatar_self($event) data-align=bottom data-placement=right id=btn_leftmenu_avatar_self></wt-avatar></div></div><div id=leftmenu_content class=wt-animate ng-show=\"!([['show_teams','notice','shortcut_create','avatar_self',''],$root.global.leftmenu_current_expand]|indexOf)\" ng-style=$root.global.leftmenu_current_expand_style><wt-me-menu ng-if=\"$root.global.leftmenu_current_expand=='me'\"></wt-me-menu><wt-teams-menu ng-if=\"$root.global.leftmenu_current_expand=='teams'\"></wt-teams-menu><wt-projects-menu ng-if=\"$root.global.leftmenu_current_expand=='project'\"></wt-projects-menu></div><div id=leftmenu_backdrop ng-click=vm.js_leftmenu_collapsed($event) ng-if=\"!([['show_teams','notice','shortcut_create','avatar_self',''],$root.global.leftmenu_current_expand]|indexOf)\"></div></div>"),a.put("/ycjs/directive/leftmenu/leftmenu_help_pop_weixin_qrcode.html", ""),a.put("/ycjs/directive/leftmenu/leftmenu_me.html", ""),a.put("/ycjs/directive/leftmenu/leftmenu_me_pop_app_download.html", ""),a.put("/ycjs/directive/leftmenu/leftmenu_projects.html", '<dl class=leftmenu_projects><dt>{{\'leftmenu_projects.title_name\'|translate}} <a href=javascript:; class=pull-right ng-click=vm.add_project()><i class="wtfont wtf-add"></i></a></dt><dd class=leftmenu_projects_search_form><form role=search><i class="fa fa-search"></i> <input type=text trigger-keydown="" ng-change=vm.change_query() placeholder="{{\'leftmenu_projects.placeholder_search_project_name\'|translate}}" wt-autofocus="" class=form-control ng-model=vm.query></form><div class=leftmenu_projects_more><a href=/projects>{{\'leftmenu_projects.link_all_projects\'|translate}}</a></div></dd><div class="leftmenu_projects_list height-nonav" wt-scroll><dd class=leftmenu_projects_dd ng-if=vm.is_empty><div class="empty-panel empty-panel-small"><i class="fa fa-clock-o"></i><br><span>{{\'leftmenu_projects.warn_empty_project\'|translate}}</span></div></dd><dd class=leftmenu_projects_dd ng-if="vm.star_projects.length > 0" ng-hide=!!vm.query><h3><i class="mr_10 fa fa-star-o"></i> {{\'leftmenu_projects.title_star_project\'|translate}} <span class=pull-right ng-click=vm.toggle_leftmenu_pin()><a href=javascript:; ng-if="$root.global.me.is_lock_left==\'0\'">{{\'leftmenu_projects.toggle_lock_to_left\'|translate}} </a><a href=javascript:; ng-if="$root.global.me.is_lock_left==\'1\'">{{\'leftmenu_projects.toggle_unlock_left\'|translate}}</a></span></h3><ul sortable=vm.project_sort_options><li ng-repeat="project in vm.star_projects|orderBy:\'star_pos\' track by project.pid" pid={{::project.pid}} type=star><i class="wtfont wtf-projectmove pointer-move"></i> <a class="fa fa-star" href=javascript:; ng-click=vm.toggleStar($event,project)></a> <a ng-class="{\'active\':vm.selected_pid==project.pid,\'current\':vm.current_pid==project.pid&&vm.current_star_project==true}" href=javascript:; ng-click=vm.to_project(project) title={{project.name}}><i class=mr_10 ng-class=project.pic ng-style="{color: project.bg}"></i> <span ng-bind=project.name></span></a></li></ul></dd><dd class=leftmenu_projects_dd ng-if="vm.recent_projects.length > 0" ng-hide=!!vm.query><h3><i class="mr_10 fa fa-clock-o"></i> {{\'leftmenu_projects.title_recent_project\'|translate}} <a class="pull-right fa" ng-class="{true:\'fa-angle-down\',false:\'fa-angle-up\'}[vm.collapse_recent_project]" ng-click=vm.js_collapse_projects() href=javascript:;><i></i></a></h3><div uib-collapse=vm.collapse_recent_project><ul><li ng-repeat="project in vm.recent_projects track by project.pid" pid={{::project.pid}} type=recent><a class="fa fa-times-circle" href=javascript:; ng-click=vm.js_remove_recent_project(project.pid)></a> <a ng-class="{\'active\':vm.selected_pid==project.pid,\'current\':vm.current_pid==project.pid&&vm.current_star_project==true}" href=javascript:; ng-click=vm.to_project(project) title={{project.name}}><i class=mr_10 ng-class=project.pic ng-style="{color: project.bg}"></i> <span ng-bind=project.name></span></a></li></ul></div></dd><dd class=leftmenu_projects_dd ng-if="team.show_projects.length > 0" ng-repeat="team in vm.teams"><h3 ng-if="team.team_id == -1"><i class="mr_10 wtfont wtf-user"></i><span class=team_name ng-bind=team.name></span> <a class="pull-right fa" ng-if=!vm.query ng-class="{true:\'fa-angle-down\',false:\'fa-angle-up\'}[team.collapse]" ng-click=vm.js_collapse_projects(team) href=javascript:;><i></i></a></h3><h3 ng-if="team.team_id != -1"><a href=javascript:; ng-click=vm.js_goto_team(team,$event)><i class="mr_10 wtfont wtf-team"></i><span class=team_name ng-bind=team.name></span> </a><a class="pull-right fa" ng-if=!vm.query ng-class="{true:\'fa-angle-down\',false:\'fa-angle-up\'}[team.collapse]" ng-click=vm.js_collapse_projects(team) href=javascript:;><i></i></a></h3><div uib-collapse=team.collapse&&!vm.query><ul sortable="{true:vm.project_sort_options}[team.projects.length!=0]"><li pid={{::project.pid}} ng-repeat="project in team.show_projects track by project.pid" type=team tid={{team.team_id}}><i class="wtfont wtf-projectmove pointer-move"></i> <a class=fa href=javascript:; ng-class="{true:\'fa-star\',false:\'fa-star-o\'}[project.is_star==1]" ng-click=vm.toggleStar($event,project)></a> <a href=javascript:; ng-click=vm.to_project(project) ng-class="{\'active\':vm.selected_pid == project.pid, \'current\':vm.current_pid == project.pid && vm.current_star_project == false}" title={{project.name}}><i ng-class=project.pic ng-style="{color: project.bg}"></i> <span ng-bind=project.name></span></a></li></ul></div></dd><dd class=leftmenu_projects_dd ng-if=!vm.query><h3><a href=/projects#archive><i class="mr_10 fa fa-archive"></i> {{\'leftmenu_projects.link_to_archives\'|translate}}</a></h3><h3><a href=/projects#favorite><i class="mr_10 fa fa-heart"></i> {{\'leftmenu_projects.link_to_favorite\'|translate}}</a></h3></dd></div></dl>'),a.put("/ycjs/directive/leftmenu/leftmenu_teams.html", ""),a.put("/ycjs/directive/leftmenu/pop_avatar_self.html", "<div class=\"popbox-body pop-avatar-self\"><ul class=popbox-menu><li><a href=/account/individuation>{{'leftmenu_me.go_preferences'|translate}}</a></li><li><a href=/account/settings>{{'leftmenu_me.go_account_info'|translate}}</a></li><li><a href=javascript:; ng-click=vm.js_show_feedback()>{{'leftmenu_me.post_feedback'|translate}}</a></li><li class=divider></li><li><a href=javascript:; ng-click=vm.js_pop_mobild_download()>{{'leftmenu_me.link_worktile_app'|translate}}</a></li><li><a href=javascript:; ng-click=vm.js_pop_watch_wechat()>{{'leftmenu_me.watch_wechat'|translate}}</a></li><li class=divider></li><li><div class=\"flex-row icons-link\"><div class=flex-se1><a href=https://worktile.com/help target=_blank><i class=\"fa fa-question-circle\"></i><br>{{'leftmenu_me.link_help'|translate}}</a></div><div class=flex-se1><a href=https://worktile.com/club target=_blank><i class=\"fa fa-comments\"></i><br>{{'leftmenu_me.link_club'|translate}}</a></div><div class=flex-se1><a href=https://worktile.com/blog target=_blank><i class=\"fa fa-pencil\"></i><br>{{'leftmenu_me.link_blog'|translate}}</a></div><div class=flex-se1><a href=https://worktile.com/can target=_blank><i class=\"fa fa-lightbulb-o\"></i><br>{{'leftmenu_me.link_can'|translate}}</a></div></div></li><li class=divider></li><li><a href=javascript:; ng-click=$root.logout()>{{'leftmenu_me.btn_quit_session'|translate}}</a></li></ul></div>"),a.put("/ycjs/directive/leftmenu/pop_my_teams.html", '<div class=pop-my-teams><div class=popbox-header><h3>{{\'pop_my_teams.title_name\'|translate}}</h3></div><div class=popbox-bodywrapper wt-scroll><div class=popbox-body><ul class="popbox-menu popbox-menu--teams" ng-if="vm.teams.length>0"><li ng-repeat="team in vm.teams track by team.team_id"><a ng-click=vm.js_close() ui-sref="team.projects({team_id: team.team_id})" ui-sref-opts="{reload: true}"><wt-team-logo size=35 team=team></wt-team-logo><h5><span ng-bind=team.name></span></h5><small><span><i class="fa fa-user"></i> {{team.member_count||0}}{{\'leftmenu_teams.team_count\'|translate}} </span><span><i ng-class="{1:\'icon-private\', 2:\'icon-public\'}[team.visibility]"></i> {{{1:\'common.txt_private\',2:\'common.txt_public\'}[team.visibility]|translate}}</span></small></a></li></ul><div ng-if="vm.teams.length==0" class=teams_empty><a href=/guide/team/create target=_blank>{{\'pop_my_teams.empty_help_about_team\'|translate}}</a></div></div></div><div class="popbox-footer top-divider"><button ng-click=vm.js_show_add_team() class="btn btn-success btn-block mt_15">{{\'pop_my_teams.btn_create_team\'|translate}}</button><p>{{\'pop_my_teams.desc_create_team\'|translate}}</p><button ng-click=vm.js_pop_create_pro() class="btn btn-block mt_20 mb_15 border-no">{{\'pop_my_teams.btn_create_pro\'|translate}}</button></div></div>'),a.put("/ycjs/directive/leftmenu/pop_shortcut_create.html", "<div class=popbox-body><ul class=popbox-menu><li><a href=javascript:; ng-click=vm.add_team()><i class=\"fa fa-group fa-fw\"></i> {{'common.txt_team'|translate}}</a></li><li><a href=javascript:; ng-click=vm.add_project()><i class=\"fa fa-inbox fa-fw\"></i> {{'common.txt_project'|translate}}</a></li><li class=divider></li><li><a href=javascript:; ng-click=vm.add_task()><i class=\"fa fa-tasks fa-fw\"></i> {{'common.txt_task'|translate}}</a></li><li><a href=javascript:; ng-click=vm.add_event()><i class=\"fa fa-calendar-o fa-fw\"></i> {{'common.txt_event'|translate}}</a></li><li><a href=javascript:; ng-click=vm.add_file()><i class=\"fa fa-file fa-fw\"></i> {{'common.txt_file'|translate}}</a></li></ul></div>"),a.put("/ycjs/directive/member_control/member_control.html", '<ul class=popbox-step ng-switch on=step><li ng-switch-default class=popbox-step-li><div class=popbox-avatar ng-if="mood==\'team\'"><wt-member-info member=selected_member arg-fn-close=js_close() ng-class="{true: \'member-pendding\'}[[(selected_member.status==2||selected_member.status==3)]]"><div>{{\'directive_member_control.title_team_role\'|translate}} <span ng-if="selected_member.uid == current_team.owner.uid">{{\'directive_member_control.title_current_role_admin\'|translate}} </span><span ng-if="selected_member.uid != current_team.owner.uid">{{selected_member.role|role}}</span></div></wt-member-info><div class=avatar-footer ng-if=vm.showTeamSetting ng-hide="!current_team.is_owner && !(current_team.curr_role|is_admin) && selected_member.uid != current_team.owner.uid"><section ng-hide=!(current_team.curr_role|is_admin) class="m_sub15 mt_sub14"><ul class="ul-vertical ul-vertical--small"><li ng-if="(current_team.curr_role|is_admin) && selected_member.status|is_pending"><a class=item href=javascript:; ng-click=js_view_invite_code()><i class="fa fa-link"></i> {{\'directive_member_control.menu_send_inviter\'|translate}}</a><hr class=popbox-hr></li><li ng-if="selected_member.uid!=current_team.owner.uid && (current_team.curr_role|is_admin) && !(selected_member.status|is_pending)"><a class=item href=javascript:; ng-click=js_step(5)><i class="fa fa-wrench"></i> {{\'directive_member_control.menu_set_role\'|translate}}</a><hr class=popbox-hr></li><li ng-if="current_team.owner.uid == $root.global.me.uid"><a class=item href=javascript:; ng-click=js_step(8)><i class="wtfont wtf-project"></i> {{\'directive_member_control.menu_add_team_project\'|translate}}</a></li></ul><hr class=popbox-hr ng-if="selected_member.uid!=$root.global.me.uid && current_team.owner.uid == $root.global.me.uid"><div class=p_20 ng-if="selected_member.uid!=$root.global.me.uid && selected_member.uid!=current_team.owner.uid"><button ng-if="(current_team.curr_role|is_admin) && selected_member.status|is_pending" class="btn btn-block btn--warning-border" ng-click=js_step(4)>{{\'directive_member_control.title_cancel_inviter\'|translate}}</button> <button ng-if="(current_team.curr_role|is_admin) && !(selected_member.status|is_pending)" class="btn btn-block btn--warning-border" ng-click=js_step(2)>{{\'directive_member_control.btn_remove_member\'|translate}}</button></div></section></div></div><div class=popbox-avatar ng-if="mood==\'project\'"><wt-member-info member=selected_member arg-fn-close=js_close() ng-class="{true: \'member-pendding\'}[[(selected_member.status==2||selected_member.status==3)]]"><div>{{\'directive_member_control.title_project_role\'|translate}} <span>{{selected_member.role|role}}</span></div></wt-member-info><div class=avatar-footer ng-if=global.prj_module.setting|permission:project.permission><div class="pull-left color_gray mr_15">{{{2:\'directive_member_control.member_status_no_accept\',3:\'directive_member_control.member_status_quit_team\'}[selected_member.status]|translate}}</div><div ng-if=can_change><button ng-click=js_step(91) class="btn btn--big mr_15" ng-show="selected_member.status==1">{{\'directive_member_control.btn_set_role\'|translate}}</button> <button ng-click=js_step(92) class="btn btn--warning">{{\'common.txt_remove\'|translate}}</button></div><div ng-show=!can_change class=text-left><div><span class=text-muted>{{\'directive_member_control.warn_cant_change_role\'|translate}}</span></div></div></div></div></li><li ng-switch-when=10 class=popbox-step-li><div class=popbox-header><button class="back fa fa-chevron-left" ng-click=js_step(0)></button> <button class="cancel fa fa-remove" ng-click=js_close()></button><h3>{{\'directive_member_control.title_member_setting\'|translate}}</h3></div><div class=popbox-body><ul class=popbox-menu><li ng-hide="selected_member.uid == team.owner.uid" class=mr_15><a ng-click=js_step(5);><i class="fa fa-fw"></i> {{\'directive_member_control.menu_set_role\'|translate}}</a></li><li ng-show="(!(selected_member.status|is_pending)) && (selected_member.uid != team.owner.uid)"><a ng-click=js_step(2)><i class="fa fa-trash-o"></i> {{\'directive_member_control.menu_remove_form_team\'|translate}}</a></li><li ng-show=(selected_member.status|is_pending) class=divider></li><li ng-show=(selected_member.status|is_pending)><a ng-click=js_view_invite_code()><i class="fa fa-fw"></i> {{\'directive_member_control.menu_send_inviter\'|translate}}</a></li><li ng-show=(selected_member.status|is_pending)><a ng-click=js_step(4)><i class="fa fa-fw"></i> {{\'directive_member_control.menu_cancel_inviter\'|translate}}</a></li></ul></div></li><li ng-switch-when=2 class=popbox-step-li><div class=popbox-header><button class="back fa fa-chevron-left" ng-click=js_step(0)></button> <button class="cancel fa fa-remove" ng-click=js_close()></button><h3>{{\'directive_member_control.title_remove_member\'|translate}}</h3></div><div class=popbox-body><div class=part-loading data-ng-hide=loading_unique_admin_prjs_done></div><div class="alert alert-info" data-ng-show="loading_unique_admin_prjs_done && unique_admin_prjs.length == 0">{{\'directive_member_control.info_remove_member\'|translate}}</div><div class="alert alert-warning" data-ng-show="loading_unique_admin_prjs_done && unique_admin_prjs.length > 0">{{\'directive_member_control.info_remove_admin\'|translate:{count:unique_admin_prjs.length} }}</div><button data-ng-show=loading_unique_admin_prjs_done ng-click=js_delete_member(selected_member) class="btn btn-danger" data-loading-text="{{\'common.deling\'|translate}}" wt-loading-status=is_deleting_member>{{\'directive_member_control.btn_confirm_remove\'|translate}}</button></div></li><li ng-switch-when=3 class=popbox-step-li><div class=popbox-header><button class="back fa fa-chevron-left" ng-click=js_step(0)></button> <button class="cancel fa fa-remove" ng-click=js_close()></button><h3>{{selected_member.display_name}}</h3></div><div class=popbox-body wt-scroll><ul class=popbox-menu><li ng-repeat="member_project in member_projects_auth"><a href=javascript:;><span class="pull-left text-muted">{{member_project.name}}</span> <span class=pull-right>{{member_project.curr_role|role}}</span></a></li></ul><span ng-show="member_projects_auth != null && member_projects_auth.length == 0">{{\'directive_member_control.warn_empty_project\'|translate}}</span></div></li><li ng-switch-when=4 class=popbox-step-li><div class=popbox-header><button class="back fa fa-chevron-left" ng-click=js_step(0)></button> <button class="cancel fa fa-remove" ng-click=js_close()></button><h3>{{\'directive_member_control.title_cancel_inviter\'|translate}}</h3></div><div class=popbox-body><div class="alert alert-info">{{\'directive_member_control.desc_cancel_inviter\'|translate}}</div><button class="btn btn-danger" ng-click=js_cancel_invite(selected_member) data-loading-text="{{\'directive_member_control.canceling\'|translate}}" wt-loading-status=is_canceling_invite>{{\'directive_member_control.btn_cancel_inviter\'|translate}}</button></div></li><li ng-switch-when=5 class=popbox-step-li><div class=popbox-header><button class="back fa fa-chevron-left" ng-click=js_step(0)></button> <button class="cancel fa fa-remove" ng-click=js_close()></button><h3>{{\'directive_member_control.title_set_role\'|translate}}</h3></div><div class=popbox-body><ul class="popbox-menu checkable checkable--popboxmenu"><li ng-class="{\'selected\':(selected_member.role|is_admin)}"><a ng-click=js_set_user_as_admin()><strong>{{\'common.txt_admin\'|translate}}</strong><br><span class=text-muted>{{\'directive_member_control.desc_team_role_admin\'|translate}}</span></a></li><li class=divider></li><li ng-class="{\'selected\':(selected_member.role|is_member)}"><a ng-click=js_set_user_as_member()><strong>{{\'common.txt_member\'|translate}}</strong><br><span class=text-muted>{{\'directive_member_control.desc_team_role_member\'|translate}}</span></a></li><li class=divider></li><li ng-class="{\'selected\':(selected_member.role|is_guest)}"><a ng-click=js_set_user_as_guest()><strong>{{\'common.txt_visitor\'|translate}}</strong><br><span class=text-muted>{{\'directive_member_control.desc_team_role_visitor\'|translate}}</span></a></li></ul></div></li><li ng-switch-when=6 class=popbox-step-li><div class=popbox-header><button class="back fa fa-chevron-left" ng-click=js_step(0)></button> <button class="cancel fa fa-remove" ng-click=js_close()></button><h3>{{\'directive_member_control.title_send_invite_link\'|translate}}</h3></div><div class=popbox-body><div class="alert alert-info">{{\'directive_member_control.info_spam_email\'|translate:{name:selected_member.display_name} }}</div><input class="input form-control help-block" wt-click-select type=text ng-model=selected_member.invite_url readonly=readonly></div></li><li ng-switch-when=91 class=popbox-step-li><div class=popbox-header><button class="back fa fa-chevron-left" ng-click=js_step(0)></button> <button class="cancel fa fa-remove" ng-click=js_close()></button><h3>{{\'directive_member_control.title_set_role\'|translate}}</h3></div><div class=popbox-body><ul class="popbox-menu checkable checkable--popboxmenu"><li ng-class="{true:\'selected\',false:\'\'}[selected_member.role==1]"><a href=javascript:; ng-click=js_set_user_as_admin()><strong>{{\'common.txt_manager\'|translate}}</strong><br><span class=text-muted>{{\'directive_member_control.desc_role_manager\'|translate}}</span></a></li><li class=divider></li><li ng-class="{true:\'selected\',false:\'\'}[selected_member.role==2]"><a href=javascript:; ng-click=js_set_user_as_member()><strong>{{\'common.txt_member\'|translate}}</strong><br><span class=text-muted>{{\'directive_member_control.desc_role_member\'|translate}}</span></a></li><li class=divider></li><li ng-class="{true:\'selected\',false:\'\'}[selected_member.role==3]"><a href=javascript:; ng-click=js_set_user_as_guest()><strong>{{\'common.txt_visitor\'|translate}}</strong><br><span class=text-muted>{{\'directive_member_control.desc_role_visitor\'|translate}}</span></a></li></ul></div></li><li ng-switch-when=92 class=popbox-step-li><div class=popbox-header><button class="back fa fa-chevron-left" ng-click=js_step(0)></button> <button class="cancel fa fa-remove" ng-click=js_close()></button><h3>{{\'directive_member_control.title_remove_member\'|translate}}</h3></div><div class=popbox-body><span translate=directive_member_control.desc_remove_member></span></div><div class=popbox-footer><button wt-loading-status=is_deleting data-loading-text="{{\'common.deling\'|translate}}" ng-click=js_delete_member(selected_member) class="btn btn-danger">{{\'directive_member_control.btn_confirm_remove_member\'|translate}}</button></div></li><li ng-switch-when=8 class=popbox-step-li><div class=popbox-header><button class="back fa fa-chevron-left" ng-click=js_step(0)></button> <button class="cancel fa fa-remove" ng-click=js_close()></button><h3>{{\'directive_member_control.title_add_team_project\'|translate}}</h3></div><div class=popbox-bodywrapper wt-scroll><div ng-show=!vm.loading_team_projects_done class="part-loading mt_12"></div><div class=popbox-body ng-if=vm.loading_team_projects_done><div class=empty-menu ng-if="vm.team_projects.length==0">{{\'directive_member_control.warn_empty_can_join_project\'|translate}}</div><div ng-show="vm.team_projects.length>0"><input type=text wt-focus=2500 name=search_project_input ng-model=search_project_input placeholder="{{\'directive_member_control.placeholder_search_project_name\'|translate}}" class="form-control help-block"><br></div><ul class="ul-vertical checkable checkable--popboxmenu" ng-if="vm.team_projects.length>0"><li ng-class="{\'selected\':project.checked}" ng-repeat="project in vm.team_projects|filterProjects:search_project_input"><a ng-click=vm.js_toggle_join(project) class=item><i class={{project.pic}} ng-style={color:project.bg}></i> {{project.name}}</a></li></ul></div></div><div ng-if="vm.team_projects.length != 0"><hr class=popbox-hr><div class=p_20><button class="btn btn-block" ng-click=vm.add_member2projects()>{{\'common.btn_add\'|translate}}</button></div></div></li></ul>'),
    a.put("/ycjs/directive/member_info/member_info.html", "<div class=wt-member-info><button class=\"cancel fa fa-remove\" ng-click=vm.parse_fn_close($event)></button><wt-avatar member=vm.member size=62 name=true namebr=true append=@{{vm.member.name}} ui-sref=profile.info({username:vm.member.name})></wt-avatar><div class=avatar-right><ul class=avatar-right-grid><li ng-transclude></li><li>{{'common.txt_department'|translate}} <span>{{vm.member.department||('common.txt_none'|translate)}}</span></li><li>{{'common.txt_position'|translate}} <span>{{vm.member.title||('common.txt_none'|translate)}}</span></li><li>{{'common.txt_mobile'|translate}} <span>{{vm.member.phone||('common.txt_none'|translate)}}</span></li><li>{{'common.txt_mailbox'|translate}} <span>{{vm.member.email||('common.txt_none'|translate)}}</span></li></ul></div></div>"),a.put("/ycjs/directive/notice/notice_item.html", '<div class="notice-item-inner slide-trigger" ng-click=js_click_notice()><div class="column column-read"><a ng-if="vm.tab == \'unread\'" href=javascript:; ng-show=!notice.is_read class="fa fa-envelope mr_15" uib-tooltip="{{\'notice_item.tooltip_set_read\'|translate}}" ng-click=vm.js_set_notice_read($event,notice)><span class=notice-count ng-if="notice.count>1" ng-bind=notice.count></span> </a><a href=javascript:; ng-click=vm.js_toggle_notice_pending($event,notice) ng-if=!notice.is_pending class="fa fa-flag-o" uib-tooltip="{{\'notice_item.tooltip_set_pending\'|translate}}"></a> <a href=javascript:; ng-click=vm.js_toggle_notice_pending($event,notice) ng-if=notice.is_pending class="fa fa-flag" uib-tooltip="{{\'notice_item.tooltip_set_handler\'|translate}}"></a></div><div class="column column-sender"><wt-avatar member=notice.sender name=true size=30 wt-stop-propagation=click></wt-avatar></div><div class="column column-action"><h4>{{::action}}</h4><span class=entity><i class="fa {{::type_icon.icon}}"></i> <span ng-bind-html=::display_entity.name></span></span></div><div class="column column-datetime"><span>{{::notice.published|fromNow}}</span></div></div>'),a.put("/ycjs/directive/notice/notice_list.html", "<div class=layout_content><div class=layout_content_main id=notice_list><div class=mod-navbar><div class=\"main main-clickable\" ng-click=\"$root.global.leftmenu_current_expand=''\"><div class=title><h3><i class=\"wtfont wtf-notice\"></i> {{'notice_list.title_name'|translate}}</h3></div><div class=main_toolbar><span class=main-clickable-text>{{'common.txt_close'|translate}}</span></div></div><div class=sub><ul class=mod_subnav><li><a ng-class=\"{'active':vm.tab == 'unread'}\" href=javascript:; ng-click=\"vm.js_switch_tab('unread')\">{{'notice_list.unread'|translate}}</a></li><li><a ng-class=\"{'active':vm.tab == 'pending'}\" href=javascript:; ng-click=\"vm.js_switch_tab('pending')\">{{'notice_list.pending'|translate}}</a></li><li><a ng-class=\"{'active':vm.tab == 'read'}\" href=javascript:; ng-click=\"vm.js_switch_tab('read')\">{{'notice_list.read'|translate}}</a></li></ul></div></div><div class=\"height-nonav notice-list-panel\" wt-scroll><dl class=frame wt-minheight=112><div class=\"load-more part-loading\" ng-hide=vm.part_loading_done></div><dd class=\"frame-dd notice-list\" ng-show=vm.part_loading_done><div class=frame-lr-right ng-if=\"(vm.tab=='unread'&&(vm.unread_notices.length>0))||(vm.tab=='pending'&&(vm.pending_notices.length>0))||(vm.tab=='read')\"><div ng-if=\"vm.tab == 'unread'\"><button class=\"btn btn-block mb_15\" ng-click=vm.js_set_all_notice_read()><i class=\"fa fa-check-square-o\"></i>&nbsp; {{'notice_list.btn_set_all_read'|translate}}</button><dl class=dl-filter><dt><span class=title>{{'notice_list.title_filter'|translate}}</span></dt><dd><ul class=checkable><li ng-class=\"{all:'selected'}[vm.unReadFilterType]\" ng-click=\"vm.setUnReadFilterType('all')\"><a href=javascript:;>{{'common.txt_all'|translate}}</a></li><li ng-class=\"{assign:'selected'}[vm.unReadFilterType]\" ng-click=\"vm.setUnReadFilterType('assign')\"><a href=javascript:;>{{'notice_list.assign_me'|translate}}</a></li><li ng-class=\"{watch:'selected'}[vm.unReadFilterType]\" ng-click=\"vm.setUnReadFilterType('watch')\"><a href=javascript:;>{{'notice_list.watch_me'|translate}}</a></li><li ng-class=\"{metion:'selected'}[vm.unReadFilterType]\" ng-click=\"vm.setUnReadFilterType('metion')\"><a href=javascript:;>{{'notice_list.at_me'|translate}}</a></li><li ng-class=\"{comment:'selected'}[vm.unReadFilterType]\" ng-click=\"vm.setUnReadFilterType('comment')\"><a href=javascript:;>{{'common.txt_comment'|translate}}</a></li></ul></dd></dl></div><button ng-if=\"vm.tab == 'pending'\" class=\"btn mt_10\" ng-click=vm.js_handle_all_notice()><i class=\"fa fa-check-square-o\"></i>&nbsp; {{'notice_list.btn_set_all_handle'|translate}}</button><dl class=dl-filter ng-if=\"vm.tab == 'read'\"><dt><span class=title>{{'notice_list.title_filter'|translate}}</span></dt><dd><ul class=checkable><li ng-class=\"{all:'selected'}[vm.readFilterType]\" ng-click=\"vm.setReadFilterType('all')\"><a href=javascript:;>{{'common.txt_all'|translate}}</a></li><li ng-class=\"{assign:'selected'}[vm.readFilterType]\" ng-click=\"vm.setReadFilterType('assign')\"><a href=javascript:;>{{'notice_list.assign_me'|translate}}</a></li><li ng-class=\"{watch:'selected'}[vm.readFilterType]\" ng-click=\"vm.setReadFilterType('watch')\"><a href=javascript:;>{{'notice_list.watch_me'|translate}}</a></li><li ng-class=\"{metion:'selected'}[vm.readFilterType]\" ng-click=\"vm.setReadFilterType('metion')\"><a href=javascript:;>{{'notice_list.at_me'|translate}}</a></li><li ng-class=\"{comment:'selected'}[vm.readFilterType]\" ng-click=\"vm.setReadFilterType('comment')\"><a href=javascript:;>{{'common.txt_comment'|translate}}</a></li></ul></dd></dl></div><div class=frame-lr-left><div ng-show=\"vm.tab == 'read'\"><div class=\"notice-item wt-row\" ng-repeat=\"notice in vm.read_notices track by notice.nid\"><wt-notice-item notice-click=vm.js_show_slide_detail($eType,notice,$entity)></wt-notice-item></div><div class=\"empty-panel text-center ml_220\" ng-show=\"vm.read_notices.length == 0 && vm.part_loading_done\"><i class=\"fa fa-bell\"></i><br><br><span>{{'notice_list.warn_empty_readed'|translate}}</span></div><div class=part-loading ng-show=!vm.part_loading_done></div><div class=loading-more-panel ng-show=\"!vm.has_no_more && vm.part_loading_done\"><button class=btn ng-click=vm.js_load_more_notice()>{{'common.btn_loading'|translate}}</button></div></div><div ng-show=\"vm.tab == 'unread'\"><div class=\"notice-item wt-row\" bindonce ng-repeat=\"notice in vm.unread_notices track by notice.nid\" ng-show=\"vm.unReadFilterType=='all'||notice.verb==vm.unReadFilterType\"><wt-notice-item notice-click=vm.js_show_slide_detail($eType,notice,$entity)></wt-notice-item></div><div class=\"empty-panel text-center ml_220\" ng-show=\"vm.unread_notices.length == 0 && vm.part_loading_done\"><i class=\"fa fa-bell\"></i><br><br><span>{{'notice_list.warn_empty_notice'|translate}}</span></div></div><div ng-show=\"vm.tab == 'pending'\"><div class=\"notice-item wt-row\" bindonce ng-repeat=\"notice in vm.pending_notices track by notice.nid\"><wt-notice-item></wt-notice-item></div><div class=\"empty-panel text-center ml_220\" ng-show=\"vm.pending_notices.length == 0 && vm.part_loading_done\"><i class=\"fa fa-bell\"></i><br><br><span>{{'notice_list.warn_empty_pending'|translate}}</span></div></div></div></dd></dl></div></div></div>"),a.put("/ycjs/directive/notice_panel/notice_panel.html", "<div class=notice-panel><ul><li class=flex_row><span class=notice-panel-checkbox ng-click=\"vm.js_toggle_checkbox_item('task')\"><i class=fa ng-class=\"{0:'fa-square-o',1:'fa-check-square'}[vm.check_list.is_check_task]\"></i></span><div class=flex_se1><p><a href=javascript:; ng-click=\"vm.js_toggle_checkbox_item('task')\" class=color-text-dark>{{'directive_notice_panel.title_task'|translate}}</a></p><p class=notice-panel-desc>{{'directive_notice_panel.desc_task'|translate}}</p></div></li><li class=flex_row><span class=notice-panel-checkbox ng-click=\"vm.js_toggle_checkbox_item('at')\"><i class=fa ng-class=\"{0:'fa-square-o',1:'fa-check-square'}[vm.check_list.is_check_at]\"></i></span><div class=flex_se1><p><a href=javascript:; ng-click=\"vm.js_toggle_checkbox_item('at')\" class=color-text-dark>{{'directive_notice_panel.title_at'|translate}}</a></p><p class=notice-panel-desc>{{'directive_notice_panel.desc_at'|translate}}</p></div></li><li class=flex_row><span class=notice-panel-checkbox ng-click=\"vm.js_toggle_checkbox_item('calendar')\"><i class=fa ng-class=\"{0:'fa-square-o',1:'fa-check-square'}[vm.check_list.is_check_calendar]\"></i></span><div class=flex_se1><p><a href=javascript:; ng-click=\"vm.js_toggle_checkbox_item('calendar')\" class=color-text-dark>{{'directive_notice_panel.title_calendar'|translate}}</a></p><p class=notice-panel-desc>{{'directive_notice_panel.desc_calendar'|translate}}</p></div></li><li class=flex_row><span class=notice-panel-checkbox ng-click=\"vm.js_toggle_checkbox_item('watcher')\"><i class=fa ng-class=\"{0:'fa-square-o',1:'fa-check-square'}[vm.check_list.is_check_watcher]\"></i></span><div class=flex_se1><p><a href=javascript:; ng-click=\"vm.js_toggle_checkbox_item('watcher')\" class=color-text-dark>{{'directive_notice_panel.title_watcher'|translate}}</a></p><p class=\"fs-12 color-text-gray\">{{'directive_notice_panel.desc_watcher'|translate}}</p></div></li><li class=flex_row><span class=notice-panel-checkbox ng-click=\"vm.js_toggle_checkbox_item('comment')\"><i class=fa ng-class=\"{0:'fa-square-o',1:'fa-check-square'}[vm.check_list.is_check_comment]\"></i></span><div class=flex_se1><p><a href=javascript:; ng-click=\"vm.js_toggle_checkbox_item('comment')\" class=color-text-dark>{{'directive_notice_panel.title_comment'|translate}}</a></p><p class=notice-panel-desc>{{'directive_notice_panel.desc_comment'|translate}}</p></div></li><li class=flex_row><span class=notice-panel-checkbox ng-click=\"vm.js_toggle_checkbox_item('other')\"><i class=fa ng-class=\"{0:'fa-square-o',1:'fa-check-square'}[vm.check_list.is_check_other]\"></i></span><div class=flex_se1><p><a href=javascript:; ng-click=\"vm.js_toggle_checkbox_item('other')\" class=color-text-dark>{{'directive_notice_panel.title_other'|translate}}</a></p><p class=notice-panel-desc>{{'directive_notice_panel.desc_other'|translate}}</p></div></li></ul><div class=text-center><button class=\"btn btn-success\" ng-click=vm.js_save()>{{'common.btn_save'|translate}}</button> <button class=\"btn btn-cancel btn-link ml-10\" ng-click=vm.js_cancel()>{{'common.btn_cancel'|translate}}</button></div></div>"),a.put("/ycjs/directive/page/page_item.html", "<div class=\"wt-row page-item page-item-mark js-popbox right_click_trigger slide-trigger\" data-placement=bottom data-align=left ng-class=\"{'active':page.page_id == locator.show_detail_page_id,'page-item-tree':dm.view_type=='tree','page-item-list':dm.view_type=='list'}\" page-id={{page.page_id}} ng-hide=page.is_hide ng-click=dm.open_page_detail($event,page)><div class=\"column column-main\"><h4><a class=name href=javascript:; title=\"{{page.name}}&#10;{{'page_item.create_time'|translate}}{{page.create_date|fromNow}}&#10;{{'page_item.update_time'|translate}}{{page.update_date|fromNow}}\"><i class=wtfont ng-class=\"{'wtf-page-worktile':page.page_type=='worktile','wtf-page-shimo-document':page.page_type=='shimo-document','wtf-page-shimo-spreadsheet':page.page_type=='shimo-spreadsheet'}\"></i> {{page.name}}</a></h4><ul class=sub-item-view ng-if=\"dm.view_type=='tree' && page.sub_pages\"><li ng-repeat=\"sub_page in page.sub_pages\"><a class=\"slide-trigger right_click_trigger page-item-mark\" wt-stop-propagation=click page-id={{sub_page.page_id}} title=\"{{sub_page.name}}&#10;{{'page_item.create_time'|translate}}{{sub_page.create_date|fromNow}}&#10;{{'page_item.update_time'|translate}}{{sub_page.update_date|fromNow}}\" ng-click=dm.open_page_detail($event,sub_page) href=javascript:; ng-bind=sub_page.name></a></li></ul></div><div class=\"column column-meta\">{{page.last_updator.display_name}} {{'page_item.update_by'|translate}} <span class=date>{{page.update_date|fromNow}}</span></div></div>"),a.put("/ycjs/directive/page/pop_delete_page.html", "<div class=popbox-header><button class=\"cancel fa fa-remove\" ng-click=js_close()></button><h3>{{'pop_delete_page.title_name'|translate}}</h3></div><div class=popbox-body><span translate=pop_delete_page.message_del_page></span></div><div class=popbox-footer><button wt-loading-status=deleting data-loading-text=\"{{'common.deling'|translate}}\" ng-click=js_delete() class=\"btn btn-danger\">{{'common.btn_confirm_del'|translate}}</button></div>"),a.put("/ycjs/directive/pop_filter_team/pop_filter_team.html", '<div class=popbox-header><button class="cancel fa fa-remove" ng-click=vm.js_close()></button><h3>{{\'pop_filter_team.title_select_team\'|translate}}</h3></div><div class=popbox-bodywrapper wt-scroll><div class=popbox-body><ul class=popbox-menu><li ng-repeat="team in vm.teams"><a href=javascript:; ng-click=vm.js_select_team($event,team[0],team[1],trigger_apply) ng-bind=team[1]></a></li></ul></div></div>'),a.put("/ycjs/directive/pop_member/pop_member.html", '<div class=popbox-avatar><wt-member-info member=vm.member arg-fn-close=vm.js_close()></wt-member-info><div class=avatar-footer ng-if="vm.options!==\'onlyinfo\'"><button ng-click=vm.js_action_member(vm.member) data-loading-text={{vm.ongoing}} wt-loading-status=vm.pop_member_actioning class="btn btn-danger">{{vm.action_name}}</button></div></div>'),a.put("/ycjs/directive/post/post_item.html", '<div class="wt-row post-item right_click_trigger slide-trigger js-popbox" data-placement=bottom data-align=left ng-class="{\'active\':post.post_id == locator.show_detail_post_id}" post-id={{post.post_id}}><div class="column column-main"><wt-avatar member=post.owner size=42 class=post-avatar name=true></wt-avatar><h4><a href=javascript:;><span ng-bind=post.name></span> <i class="fa fa-paperclip" ng-if="post.attachments_count > 0"></i></a></h4><div class=post-right><div class=post-is-top ng-if="post.is_top==1">{{\'post_item.is_top\'|translate}}</div><span class=total-comment title="{{\'post_item.count_comments\'|translate:{count: post.comment_count} }}">{{post.comment_count}}</span></div><div class=info>{{\'post_item.create_by_time\'|translate}} <strong>{{post.create_date|fromNow}}</strong> <span ng-if=post.last_reply_user class=ml-10><span class=color-text-lightgray>|</span> &nbsp; {{\'post_item.last_replay\'| translate:{who:post.last_reply_user.display_name} }} <strong>{{post.last_reply_date|fromNow}}</strong></span></div></div></div>'),a.put("/ycjs/directive/project/set_labels_add.html", '<div class=label-setter><ul class=popbox-step ng-switch on=vm.step_setlables><li ng-switch-default class=popbox-step-li><div class=popbox-header ng-if="vm.isNewHeader && vm.type != \'project\'"><button ng-if=vm.isBack class="back fa fa-chevron-left" ng-click=vm.js_back()></button> <button ng-if=vm.isClose class="cancel fa fa-remove" ng-click=vm.js_close()></button><h3>{{\'set_labels_add.title_name\'|translate}}</h3></div><div ng-show="vm.type === \'project\'"></div><div class=popbox-body ng-if="vm.labels.length === 0">{{\'set_labels_add.use_up\'|translate}}</div><div class=popbox-body ng-if="vm.labels.length > 0"><form role=form wt-enter=js_set_lables()><div class=form-group><label>{{\'set_labels_add.label_name\'|translate}}</label><input type=text ng-model=vm.newLabel.desc wt-autofocus="" class=form-control placeholder="{{\'set_labels_add.placeholder_name\'|translate}}"></div><div class=form-group><label>{{\'set_labels_add.label_color\'|translate}}</label></div><div class="form-group max-w280"><span ng-if=vm.isEdit class="task-label-lg {{vm.newLabel.name}}-label text-center"><i class="fa fa-check selected"></i> </span><span ng-if=!vm.isEdit ng-repeat="label in vm.labels" ng-click=vm.js_select_color(label.name) class="task-label-lg {{label.name}}-label text-center mb_7"><i ng-class="{\'selected\':vm.newLabel.name === label.name}" class="fa fa-check"></i></span></div></form></div><div class=popbox-footer ng-if="vm.labels.length > 0"><button ng-click=vm.js_save_label() class="btn btn-success mr_15" data-loading-text="{{\'common.saving\'|translate}}" wt-loading-status=vm.is_saving>{{\'common.btn_ok\'|translate}}</button> <button ng-if="vm.isEdit&&vm.type!=\'project\'" ng-click=vm.js_step(1) class="btn btn-link btn-cancel">{{\'common.btn_del\'|translate}}</button> <button ng-if="vm.isEdit&&vm.type==\'project\'" ng-click=vm.pop_del_label($event) class="btn btn-warning js-popbox">{{\'common.btn_del\'|translate}}</button> <button class="btn btn-link btn-cancel" ng-click=vm.js_close()>{{\'common.btn_cancel\'|translate}}</button></div></li><li ng-switch-when=1><div class=popbox-header ng-if=vm.isNewHeader><button ng-if=vm.isBack class="back fa fa-chevron-left" ng-click=vm.js_step(0)></button> <button ng-if=vm.isClose class="cancel fa fa-remove" ng-click=vm.closeFn()></button><h3>{{\'set_labels_add.title_del_label\'|translate}}</h3></div><div class=popbox-body><span>{{\'set_labels_add.del_confirm\'|translate}}</span></div><div class=popbox-footer><button ng-click=vm.js_del_label() class="btn btn-danger" data-loading-text="{{\'common.deling\'|translate}}" wt-loading-status=vm.is_deling>{{\'common.btn_confirm_del\'|translate}}</button></div></li></ul></div>'),a.put("/ycjs/directive/project/set_project_labels.html", '<ul class=popbox-step ng-switch on=step><li ng-switch-default class=popbox-step-li><div class=sidebar_header ng-if=vm.isHeader><button ng-if=vm.isBack class="back wtfont wtf-angleleft" ng-click=backfn()></button> <button ng-click=closefn() class="cancel wtfont wtf-close"></button><h3>{{\'set_project_labels.title_project_labels\'|translate}}</h3></div><div class=popbox-body><ul class="popbox-menu checkable checkable--popboxmenu checkable--project"><li class=label-item ng-repeat="label in task_labels" ng-class="{\'selected\':(label.assigned && !vm.nocheck)}"><a href=javascript:; class="js-toggle-label-filter {{label.name}}-label" ng-click=js_toggle_label(label)><span class="task-label label-name pl-10" title={{label.desc}} ng-bind="[label.desc,25 ]|cutstr"></span> <i ng-click=js_edit_label(label.name,label.desc,1) class="fa fa-pencil pull-right edit"></i></a></li><li ng-show="task_labels==0"><div class=empty-menu style="margin: 0">{{\'set_project_labels.warn_not_set_labels\'|translate}}</div></li><li class=divider ng-show="task_labels.length<16"></li></ul></div><div class=popbox-footer ng-show="task_labels.length<16"><div class=mt_10><a ng-click=js_new_label(1) class="btn btn-success create-label"><i class="fa fa-tags"></i> {{\'set_project_labels.btn_add_labels\'|translate}} </a><button class="btn btn-link btn-cancel" ng-click=closefn()>{{\'common.btn_cancel\'|translate}}</button></div></div></li><li ng-switch-when=1 class=popbox-step-li><wt-set-labels-add type=project project=project isnewpopup=false isnewheader=true currentlabel=vm.currentLabel isback=true isclose=true closefn=closefn() backfn=js_step(0)></wt-set-labels-add></li></ul>'),a.put("/ycjs/directive/project/set_task_labels.html", '<ul class=popbox-step ng-switch on=step><li ng-switch-default class=popbox-step-li><div class=popbox-header ng-if=vm.isHeader><button ng-show=vm.isBack class="back fa fa-chevron-left" ng-click=backfn()></button> <button class="cancel fa fa-remove" ng-click=js_close()></button><h3>{{\'set_task_labels.title_name\'|translate}}</h3></div><div class="popbox-bodywrapper max-h300" wt-scroll><div class=popbox-body><ul class="popbox-menu checkable checkable--popboxmenu"><li class=label-item ng-repeat="label in task_labels" ng-class="{\'selected\':(label.assigned && !vm.nocheck)}"><a href=javascript:; class="js-toggle-label-filter {{label.name}}-label" ng-click=js_toggle_label(label)><span class="label-name pl-10" title={{label.desc}} ng-bind="[label.desc,30 ]|cutstr"></span> <i ng-click=js_edit_label(label.name,label.desc,1) class="fa fa-pencil pull-right edit"></i></a></li><li ng-show="task_labels.length==0"><div class=empty-menu>{{\'set_task_labels.warn_not_set_labels\'|translate}}</div></li></ul></div></div><div class=popbox-footer><div class="mt_10 text-center"><a ng-click=js_new_label(1) class="btn btn-success create-label"><i class="fa fa-tags"></i> {{\'set_task_labels.btn_add_labels\'|translate}}</a></div></div></li><li ng-switch-when=1 class=popbox-step-li><wt-set-labels-add type=task project=project task=task isnewpopup=false isnewheader=true currentlabel=vm.currentLabel isback=true isclose=true closefn=closefn() backfn=js_step(0)></wt-set-labels-add></li></ul>'),a.put("/ycjs/directive/project/set_team_labels.html", '<div class=popbox-header ng-if=vm.isHeader><button ng-show=vm.isBack class="back fa fa-chevron-left" ng-click=vm.js_back()></button> <button class="cancel fa fa-remove" ng-click=vm.js_close()></button><h3>{{\'set_team_labels.title_team_labels\'|translate}}</h3></div><div class=popbox-body><ul class="popbox-menu checkable checkable--popboxmenu clearfix" ng-if="vm.labels.length>0"><li class="label-item pull-left" ng-repeat="label in vm.labels" ng-class="{\'selected\':(label.assigned && !vm.isCheck)}"><a href=javascript:; style="padding-left: 10px" class="js-toggle-label-filter {{label.name}}-label" ng-click=vm.js_toggle_label(label)><span class="label-name pl-10" title={{label.desc}} ng-bind="[label.desc,30 ]|cutstr"></span> <i ng-click=vm.js_popup_true($event,label.name,label.desc) data-placement=bottom data-align=right class="js-popbox fa fa-pencil pull-right edit"></i></a></li></ul><div ng-if="vm.labels.length>0"><br><br></div><ul class="popbox-menu checkable checkable--popboxmenu checkable_botton mt_20 clearfix"><li ng-show="vm.labels.length==0"><div class=empty-menu>{{\'set_team_labels.warn_not_set_labels\'|translate}}</div></li><li class="divider clearBoth"></li><li><a class="js-popbox btn btn-link form-control label_add_btn" ng-click=vm.js_popup_true($event,null,null)>{{\'set_team_labels.btn_add_labels\'|translate}}</a></li></ul></div>');
    a.put("/ycjs/directive/search/search_panel.html", "<div class=layout_content><div class=layout_content_main id=search_panel><div class=mod-navbar><div class=main ng-click=\"$root.global.leftmenu_current_expand=''\"><div class=title><h3><i class=\"wtfont wtf-search\"></i> {{'search.title_name'|translate}}</h3></div></div></div><div class=\"height-nonav height-nonav--notab search-panel\"><div class=search-input ng-class=\"{'smaller': vm.mood!='input'}\"><div class=input-box><input id=the-search-input type=text wt-autofocus autocomplete=off ng-model=vm.keywords wt-enter=vm.js_trigger_search() ng-change=\"vm.typing = true\" ng-blur=\"vm.typing = false\" ng-focus=\"vm.typing = true\" class=\"form-control input-tag\" placeholder=\"{{'search_panel.keywords_placeholder'|translate}}\"> <i class=\"fa fa-search\" ng-click=js_search() ng-show=\"vm.last_searched!==vm.keywords\"></i> <i class=\"fa fa-times-circle-o\" ng-click=js_revoke_search() ng-show=\"vm.last_searched===vm.keywords\"></i></div><div class=\"search-constraint search_range\"><span class=title>{{'search_panel.title_search_area'|translate}}</span> <span class=select wt-pop-filter-team=vm.team_id_name_map select-fn=vm.js_select_range($event,team_id,team_name,trigger_apply)><span ng-bind=\"vm.team_id_name_map[vm.results.all.filter_params.team_id]||('search_panel.unknow_project'|translate)\"></span> <i class=\"fa fa-angle-down\"></i></span></div><div class=\"search-constraint search_pattern\"><span class=title>{{'search_panel.title_search_type'|translate}}</span> <span class=select ng-click=\"vm.js_select_pattern($event, 'noapply')\"><span ng-bind=vm.qpattern_id_name_map[vm.results.all.filter_params.qpattern]></span> <i class=\"fa fa-angle-down\"></i></span></div></div><div class=search-assistant ng-hide=\"vm.mood==='results' && !vm.typing && !vm.using_assistant\" ng-mouseenter=\"vm.using_assistant = true\" ng-mouseleave=\"vm.using_assistant = false\"><div class=assistants ng-class=\"{dropdown: vm.mood === 'results' && vm.part_loading_done}\"><div class=\"assistant search-history animate-hide animate-hide--y\" ng-class=\"{'sp-hide': vm.history.length === 0}\"><div class=title><i class=\"left-icon fa fa-history\"></i> <span>{{'search_panel.search_history'|translate}}</span> <a href=javascript:; class=right-button ng-click=vm.js_purge_history()>{{'search_panel.clear'|translate}}</a></div><ul class=list><li ng-repeat=\"record in vm.history\"><a class=link href=javascript:; ng-click=vm.js_trigger_search(record)><span ng-bind=[record,30]|cutstr></span> </a><a class=right-button href=javascript:; ng-click=vm.js_drop_history(record)><i class=\"fa fa-times\"></i></a></li></ul></div><div class=\"assistant search-express\"><div class=title><i class=\"left-icon fa fa-compass\"></i> <span>{{'search_panel.title_standard_search'|translate}}</span></div><ul class=list><li><a class=link href=javascript:; ng-click=\"vm.js_express_search('_assign_my')\">{{'search_panel.assign_my'|translate}} </a><a class=right-button href=javascript:; ng-click=\"vm.js_express_search('_assign_my')\"><i class=\"fa fa-angle-right\"></i></a></li><li><a class=link href=javascript:; ng-click=\"vm.js_express_search('_my_create')\">{{'search_panel.my_create'|translate}} </a><a class=right-button href=javascript:; ng-click=\"vm.js_express_search('_my_create')\"><i class=\"fa fa-angle-right\"></i></a></li><li><a class=link href=javascript:; ng-click=\"vm.js_express_search('_my_watch')\">{{'search_panel.my_watch'|translate}} </a><a class=right-button href=javascript:; ng-click=\"vm.js_express_search('_my_watch')\"><i class=\"fa fa-angle-right\"></i></a></li><li><a class=link href=javascript:; ng-click=\"vm.js_express_search('_recent_change')\">{{'search_panel.recent_change'|translate}} </a><a class=right-button href=javascript:; ng-click=\"vm.js_express_search('_recent_change')\"><i class=\"fa fa-angle-right\"></i></a></li></ul></div><div class=\"assistant clickable\" ng-click=vm.js_show_quickswitch()><div class=title><i class=\"left-icon wtfont wtf-quickswitch\"></i> {{'search_panel.tips_quick_search'|translate}}</div></div></div></div><div class=search-navtab ng-show=\"vm.mood==='results'\"><span class=title>{{'search_panel.title_search_result'|translate}}</span><ul class=navtabs><li class=tab ng-class=\"{active: vm.current_tab === 'all'}\" ng-hide=\"vm.should_tag_lable_hidden('all')\" ng-click=\"vm.js_select_tab('all')\"><span>{{'common.txt_all'|translate}} (<span ng-bind=vm.results.all.total||0></span>)</span></li><li class=tab ng-class=\"{active: vm.current_tab === 'tasks'}\" ng-hide=\"vm.should_tag_lable_hidden('tasks')\" ng-click=\"vm.js_select_tab('tasks')\"><span>{{'common.txt_task'|translate}} (<span ng-bind=vm.results.tasks.total||0></span>)</span></li><li class=tab ng-class=\"{active: vm.current_tab === 'files'}\" ng-hide=\"vm.should_tag_lable_hidden('files')\" ng-click=\"vm.js_select_tab('files')\"><span>{{'common.txt_file'|translate}} (<span ng-bind=vm.results.files.total||0></span>)</span></li><li class=tab ng-class=\"{active: vm.current_tab === 'events'}\" ng-hide=\"vm.should_tag_lable_hidden('events')\" ng-click=\"vm.js_select_tab('events')\"><span>{{'common.txt_event'|translate}} (<span ng-bind=vm.results.events.total||0></span>)</span></li><li class=tab ng-class=\"{active: vm.current_tab === 'pages'}\" ng-hide=\"vm.should_tag_lable_hidden('pages')\" ng-click=\"vm.js_select_tab('pages')\"><span>{{'common.txt_page'|translate}} (<span ng-bind=vm.results.pages.total||0></span>)</span></li><li class=tab ng-class=\"{active: vm.current_tab === 'posts'}\" ng-hide=\"vm.should_tag_lable_hidden('posts')\" ng-click=\"vm.js_select_tab('posts')\"><span>{{'common.txt_post'|translate}} (<span ng-bind=vm.results.posts.total||0></span>)</span></li><li class=tab ng-class=\"{active: vm.current_tab === 'mails'}\" ng-hide=\"vm.should_tag_lable_hidden('mails')\" ng-click=\"vm.js_select_tab('mails')\"><span>{{'common.txt_email'|translate}} (<span ng-bind=vm.results.mails.total||0></span>)</span></li></ul></div><div class=frame-warp id=the-search-result-frame ng-hide=\"vm.mood!=='results'\" wt-maxheight=180 wt-scroll={alwaysShowScrollbar:1}><dl class=\"search-result frame\" wt-minheight=194><dd class=\"fram-dd search-result-panel\"><div class=\"frame-lr-right search-result-filter\"><dl><dd class=\"search-constraint search_range\"><span class=title>{{'search_panel.title_search_range'|translate}}</span> <span class=select wt-pop-filter-team=vm.team_id_name_map select-fn=vm.js_select_range($event,team_id,team_name,trigger_apply) select-trigger-apply=true><span ng-bind=\"vm.team_id_name_map[vm.results[vm.current_tab].filter_params.team_id]||('search_panel.unknow_project'|translate)\"></span> <i class=\"fa fa-angle-down\"></i></span></dd><dd class=\"search-constraint search_pattern\"><span class=title>{{'search_panel.title_search_type'|translate}} </span><span class=select ng-click=vm.js_select_pattern($event)><span ng-bind=vm.qpattern_id_name_map[vm.results[vm.current_tab].filter_params.qpattern]></span> <i class=\"fa fa-angle-down\"></i></span></dd><dt class=search-filter>{{'search_panel.title_search_filter'|translate}}</dt><dd class=search-filter><ul class=checkable><li ng-class=\"{'selected': vm.results[vm.current_tab].filter_params.assigned}\" ng-hide=\"vm.current_tab !== 'tasks'\" ng-click=\"vm.toggle_filter('assigned')\"><a href=javascript:;>{{'search_panel.assign_my'|translate}}</a></li><li ng-class=\"{'selected': vm.results[vm.current_tab].filter_params.attend }\" ng-hide=\"vm.current_tab !== 'events'\" ng-click=\"vm.toggle_filter('attend')\"><a href=javascript:;>{{'search_panel.my_attend'|translate}}</a></li><li ng-class=\"{'selected': vm.results[vm.current_tab].filter_params.authored}\" ng-click=\"vm.toggle_filter('authored')\"><a href=javascript:;>{{'search_panel.my_create'|translate}}</a></li><li ng-class=\"{'selected': vm.results[vm.current_tab].filter_params.watching}\" ng-click=\"vm.toggle_filter('watching')\"><a href=javascript:;>{{'search_panel.my_watch'|translate}}</a></li><li ng-class=\"{'selected': vm.results[vm.current_tab].filter_params.eafter}\" ng-click=\"vm.toggle_filter_value('eafter', vm.last_month)\"><a href=javascript:;>{{'search_panel.recent_change'|translate}}</a></li><li ng-class=\"{'selected': vm.results[vm.current_tab].filter_params.unarchived}\" ng-click=\"vm.toggle_filter('unarchived')\"><a href=javascript:;>{{'search_panel.unarchived'|translate}}</a></li></ul></dd></dl></div><div class=frame-lr-left><div class=empty-panel ng-if=\"vm.part_loading_done && vm.results[vm.current_tab].results.length === 0\"><i class=\"fa fa-times\"></i><br><span>{{'search_panel.warn_empty_search_result'|translate}}</span></div><wt-search-result-list ng-if=\"vm.current_tab === 'all'\" entities=vm.results.all.results projects=projects highlight=vm.tokens_re></wt-search-result-list><wt-search-result-list ng-if=\"vm.current_tab === 'tasks'\" entities=vm.results.tasks.results projects=projects highlight=vm.tokens_re></wt-search-result-list><wt-search-result-list ng-if=\"vm.current_tab === 'files'\" entities=vm.results.files.results projects=projects highlight=vm.tokens_re></wt-search-result-list><wt-search-result-list ng-if=\"vm.current_tab === 'events'\" entities=vm.results.events.results projects=projects highlight=vm.tokens_re></wt-search-result-list><wt-search-result-list ng-if=\"vm.current_tab === 'pages'\" entities=vm.results.pages.results projects=projects highlight=vm.tokens_re></wt-search-result-list><wt-search-result-list ng-if=\"vm.current_tab === 'posts'\" entities=vm.results.posts.results projects=projects highlight=vm.tokens_re></wt-search-result-list><wt-search-result-list ng-if=\"vm.current_tab === 'mails'\" entities=vm.results.mails.results projects=projects highlight=vm.tokens_re></wt-search-result-list><div class=loading-more-panel ng-if=\"!vm.part_loading_done||vm.current_tab === 'all'||vm.results[vm.current_tab].has_more||vm.results[vm.current_tab].curPage >= 50\"><div class=\"load-more part-loading\" ng-hide=vm.part_loading_done></div><button ng-show=\"vm.current_tab !== 'all' && vm.results[vm.current_tab].has_more && vm.part_loading_done\" class=btn ng-click=vm.js_load_more() ng-disabled=\"vm.results[vm.current_tab].curPage >= 50\" data-loading-text=\"{{'common.loading'|translate}}\" wt-loading-status=!vm.part_loading_done>{{'common.btn_loading'|translate}}</button> <span class=end-of-search ng-if=\"vm.part_loading_done && vm.current_tab === 'all' && vm.results.all.has_more\"><small>{{'search_panel.tips_result_by_all'|translate}} <a href=javascript:; ng-click=\"vm.js_select_tab('tasks', 'bottom')\" ng-if=vm.results.tasks.has_more>{{'common.txt_task'|translate}}</a> <a href=javascript:; ng-click=\"vm.js_select_tab('files', 'bottom')\" ng-if=vm.results.files.has_more>{{'common.txt_file'|translate}}</a> <a href=javascript:; ng-click=\"vm.js_select_tab('events', 'bottom')\" ng-if=vm.results.events.has_more>{{'common.txt_event'|translate}}</a> <a href=javascript:; ng-click=\"vm.js_select_tab('pages', 'bottom')\" ng-if=vm.results.pages.has_more>{{'common.txt_page'|translate}}</a> <a href=javascript:; ng-click=\"vm.js_select_tab('posts', 'bottom')\" ng-if=vm.results.posts.has_more>{{'common.txt_post'|translate}}</a> <a href=javascript:; ng-click=\"vm.js_select_tab('mails', 'bottom')\" ng-if=vm.results.mails.has_more>{{'common.txt_email'|translate}}</a> </small></span><span class=end-of-search ng-if=\"vm.results[vm.current_tab].curPage >= 50\"><small>{{'search_panel.tips_not_support_large_result'|translate}}</small></span></div></div></dd></dl></div></div></div></div>");
    a.put("/ycjs/directive/search/search_pattern_pop.html", "<div class=popbox-header><button class=\"cancel fa fa-remove\" ng-click=js_close()></button><h3>{{'search_pattern_pop.title_name'|translate}}</h3></div><div class=popbox-bodywrapper wt-scroll><div class=popbox-body><ul class=\"popbox-menu checkable checkable--popboxmenu\"><li ng-class=\"{'selected':solve_current_pattern()==='simple'}\"><a ng-click=\"js_select_pattern('simple')\"><strong>{{'search_pattern_pop.full'|translate}}</strong><br><span class=text-muted>{{'search_pattern_pop.full_desc'|translate}}</span></a></li><li class=divider></li><li ng-class=\"{'selected':solve_current_pattern()==='complex'}\"><a ng-click=\"js_select_pattern('complex')\"><strong>{{'search_pattern_pop.advanced'|translate}}</strong><br><span class=text-muted>{{'search_pattern_pop.advanced_desc'|translate}}</span></a></li><li class=divider></li><li ng-class=\"{'selected':solve_current_pattern()==='ridiculous'}\"><a ng-click=\"js_select_pattern('ridiculous')\"><strong>{{'search_pattern_pop.fragment'|translate}}</strong><br><span class=text-muted>{{'search_pattern_pop.fragment_desc'|translate}}</span></a></li></ul></div></div>"), a.put("/ycjs/directive/search/search_result_list.html", '<ul class=search-result-list><li class="result-item slide-trigger" ng-repeat="entity in entities" ng-click=open_entity(entity)><div class=left-col><i ng-class=solve_entity_icon(entity)></i></div><div class=mid-col><span class=entity-name ng-bind-html=entity_title(entity)></span></div><div class=right-col><span class=host-project><i class=project-icon ng-class=projects[entity.pid].pic ng-style="{color: projects[entity.pid].bg}"></i> <span class=project-name ng-bind=projects[entity.pid].name></span></span></div></li></ul>'), a.put("/ycjs/directive/team/team_dashboard_overview.html", "<div class=team-dashboard-overview><dl><dt>{{'team_dashboard_overview.title_name'|translate}}</dt><dd><ul class=numbers wt-go-to=/teams/{{vm.team_id}}/tasks><li title=\"{{'team_dashboard_overview.alt_completed'|translate:{completed:data.completed} }}\"><span class=\"fs-45 color-label-green\">{{data.completed|number2K}}</span><br>{{'team_dashboard_overview.completed'|translate}}</li><li title=\"{{'team_dashboard_overview.alt_uncompleted'|translate:{uncompleted:data.uncompleted} }}\"><span class=\"fs-45 color-label-yellow\">{{data.uncompleted|number2K}}</span><br>{{'team_dashboard_overview.uncompleted'|translate}}</li><li title=\"{{'team_dashboard_overview.alt_expired'|translate:{expired:data.expired} }}\"><span class=\"fs-45 color-text-act-red\">{{data.expired|number2K}}</span><br>{{'team_dashboard_overview.expired'|translate}}</li></ul><ul class=gauges><li><span>{{'team_dashboard_overview.percent_complete'|translate}}</span><wt-graph-gauge size=90 number=vm.percent_complete color=#5DAC81 bgcolor=#FFB11B></wt-graph-gauge></li><li><span>{{'team_dashboard_overview.percent_delay'|translate}}</span><wt-graph-gauge size=90 number=vm.percent_delay color=#DA4F4A bgcolor=#E8ECF4></wt-graph-gauge></li></ul></dd></dl></div>"), a.put("/ycjs/directive/team/team_dashboard_stats.html", '<dl class=team-dashboard-stats><dt><i ng-class=stats.pic ng-style={color:stats.bg}></i><h3><a ng-href=/project/{{stats.pid}}>{{stats.name}}</a></h3><span class=stats-type>{{stats.type| teamStatsType}}</span> <button class="wtfont wtf-close" ng-click=vm.js_remove_stats(stats)></button></dt><dd ng-switch=stats.type><wt-dashboard-stats-overview ng-switch-when=1 data=stats.data></wt-dashboard-stats-overview><wt-dashboard-stats-entry ng-switch-when=2 data=stats.data></wt-dashboard-stats-entry><wt-dashboard-stats-member ng-switch-when=3 data=stats.data></wt-dashboard-stats-member><wt-dashboard-stats-5day ng-switch-when=4 data=stats.data></wt-dashboard-stats-5day></dd></dl>'), a.put("/ycjs/directive/team/team_dashboard_stats_5day.html", "<wt-graph-line ng-if=vm.part_loading_done config=vm.config></wt-graph-line>"), a.put("/ycjs/directive/team/team_dashboard_stats_entry.html", "<wt-graph-column ng-if=vm.part_loading_done config=vm.config></wt-graph-column>"), a.put("/ycjs/directive/team/team_dashboard_stats_member.html", "<wt-graph-bar ng-if=vm.part_loading_done config=vm.config></wt-graph-bar>"), a.put("/ycjs/directive/team/team_dashboard_stats_overview.html", "<div class=team-dashboard-stats-overview><div class=left-pie><div class=left-pie-chart></div>{{'team_dashboard_stats_overview.stats_overview'|translate}}</div><div class=right-number><ul class=gauge><li><wt-graph-gauge size=90 number=vm.percent_complete color=#5DAC81 bgcolor=#FFB11B></wt-graph-gauge>{{'team_dashboard_stats_overview.stats_percent_complete'|translate}}</li><li><wt-graph-gauge size=90 number=vm.percent_delay color=#DA4F4A bgcolor=#E8ECF4></wt-graph-gauge>{{'team_dashboard_stats_overview.stats_percent_delay'|translate}}</li></ul><ul class=numbers><li><span class=color-label-green title=\"{{'team_dashboard_stats_overview.alt_completed'|translate:{completed:data.completed} }}\">{{data.completed|number2K}}</span><br>{{'team_dashboard_stats_overview.completed'|translate}}</li><li><span class=color-label-yellow title=\"{{'team_dashboard_stats_overview.alt_uncompleted'|translate:{uncompleted:data.uncompleted} }}\">{{data.uncompleted|number2K}}</span><br>{{'team_dashboard_stats_overview.uncompleted'|translate}}</li><li><span class=color-text-act-red title=\"{{'team_dashboard_stats_overview.alt_expired'|translate:{expired:data.expired} }}\">{{data.expired|number2K}}</span><br>{{'team_dashboard_stats_overview.expired'|translate}}</li></ul></div></div>"), a.put("/ycjs/directive/teamlogo/teamlogo.html", "<img ng-src={{vm.logo_url}} width={{vm.size}} height={{vm.size}}>"), a.put("/ycjs/directive/toggle_members/pop_toggle_members.html", '<div><wt-toggle-members type={{vm.type}} team-id=vm.team_id pid=vm.pid permission=vm.permission entity=vm.entity toggle-click="vm.fnToggleClick($event, member, xEntity)" all-member-click="vm.fnAllMemberClick($event, members, xEntity)"></wt-toggle-members></div>'), a.put("/ycjs/directive/toggle_members/toggle_members.html", '<div class=toggle-members><div class=popbox-header><button ng-if=vm.hasArgFnBack class="back fa fa-chevron-left" ng-click=argFnBack({})></button> <button ng-if=vm.hasArgFnClose class="cancel fa fa-remove" ng-click=argFnClose({})></button><h3>{{vm.title}}</h3></div><div class=popbox-body><a href=javascript:; class=link-add-all ng-if="vm.type==\'watch\'" ng-click=allMemberClick({$event:$event,members:vm.members,xEntity:vm.xEntity})><span ng-show="vm.xEntity.watchers.length==vm.members.length">{{\'toggle_members.watch_btn_added_all\'|translate}} </span><span ng-show="vm.xEntity.watchers.length<vm.members.length">{{\'toggle_members.watch_btn_add_all\'|translate}} </span></a><a href=javascript:; class=link-add-all ng-if="vm.type==\'attendee\'" ng-click=allMemberClick({$event:$event,members:vm.members,xEntity:vm.xEntity}) class="action-item btn btn-block"><span ng-show="vm.xEntity.attendees.length==vm.members.length">{{\'toggle_members.attendee_btn_added_all\'|translate}} </span><span ng-show="vm.xEntity.attendees.length<vm.members.length">{{\'toggle_members.attendee_btn_add_all\'|translate}} </span></a><input type=text autofocus="" wt-focus name=search_user_input ng-model=vm.search_user_input autocomplete=off placeholder="{{\'toggle_members.placeholder_user_input\'|translate}}" class="form-control help-block mt_0"><div class=toggle-member-result wt-scroll><ul class="popbox-menu checkable checkable--popboxmenu" key-selection=keySelectionOptions><li class=member-item ng-repeat="member in vm.members|filterMembers:vm.search_user_input" ng-class="{\'selected\':(!!member.assigned||!!member.watched)}"><wt-avatar tabindex=-1 ng-click=toggleClick({$event:$event,member:member,xEntity:vm.xEntity}) member=member name=[member.display_name,16]|cutstr faceclass=plr_5 atname=true size=28></wt-avatar></li><li class=popbox-menu-header ng-if="vm.team_members!=null"> <span ng-if=!($root.global.prj_module.setting|permission:vm.permission)>()</span></li><li ng-class="{true:\'member-item\',0:\'disable\'}[($root.global.prj_module.setting|permission:vm.permission)]" ng-if="vm.team_members!=null" ng-repeat="member in vm.team_members|filterMembers:vm.search_user_input" ng-class="{\'selected\':(!!member.assigned||!!member.watched)}"><wt-avatar tabindex=-1 ng-click=($root.global.prj_module.setting|permission:vm.permission)&&toggleClick({$event:$event,member:member,xEntity:vm.xEntity}) member=member name=[member.display_name,16]|cutstr faceclass=plr_5 atname=true size=28></wt-avatar></li></ul></div></div><div class="popbox-footer top-divider" ng-if="vm.team_id!=-1" ng-hide="vm.team_members!=null"><button ng-click=vm.js_show_team_members($event) class="action-item btn btn-block"></button></div></div>'), a.put("/app/js/service/entity/dialog_event_create.html", '<div class="dialog dialog-event-create"><div class=dialog-head><span class=dialog-close><i class="wtfont wtf-close" ng-click=vm.close()></i></span><div class=dialog-title>{{\'dialog_event_create.title_name\'|translate}}</div></div><div class=dialog-body><form ng-if="projects.length > 0" name=new_event_form class="w-590 m-0-auto" w5c-form-validate="" novalidate role=form><div class=form-group><textarea wt-enter=vm.submit_create_event(new_event_form) name=event_name ng-model=vm.new_event.name placeholder="{{\'dialog_event_create.placeholder\'|translate}}" class=form-control required wt-focus></textarea></div><div class=form-group><h5>{{\'dialog_event_create.form_name_project\'|translate}}</h5><ui-select wt-validator-name=event_select_project ng-change=vm.change_event_project() ng-model=vm.new_event.pid theme=select2 append-to-body=true class=project-select required=""><ui-select-match placeholder="{{\'dialog_event_create.form_placeholder_project\'|translate}}">{{$select.selected.name}}</ui-select-match><ui-select-choices group-by="\'team_name\'" repeat="project.pid as project in projects|propsFilter:{name: $select.search}"><div class=text-overflow ng-bind-html=project.name|reHighlight:$select.search></div></ui-select-choices></ui-select></div><div class=form-group><start-end-datetime display-mode=row start-date=vm.new_event.start_date end-date=vm.new_event.end_date start-time=vm.new_event.start_time end-time=vm.new_event.end_time></start-end-datetime></div><div class=form-group><input name=event_location ng-model=vm.new_event.location placeholder="{{\'dialog_event_create.form_placeholder_location\'|translate}}" type=text class="form-control location-input"></div><div class=form-group><select ng-model=vm.new_event.repeat_interval ng-options="interval.desc for interval in repeat_intervals" class="form-control location-input"></select></div><div class=form-group><h5>{{\'dialog_event_create.form_name_member\'|translate}}</h5><ul class="entity-members clearfix"><li ng-repeat="member in vm.new_event.attendees track by member.uid"><a href=javascript:; class="fa fa-times-circle" ng-click="vm.js_remove_attendee($event, member, xEntity)"></a><wt-avatar member=member faceclass=plr_5 size=40></wt-avatar></li><li><a class="avatar-add js-popbox plr_5" href=javascript:; data-placement=right data-align=center type=attendee team-id=vm.new_event.team_id pid=vm.new_event.pid permission=vm.new_event.permission entity=vm.new_event all-member-click="vm.js_attendee_all($event, members, xEntity)" wt-pop-toggle-members="vm.js_toggle_member($event, member, xEntity)"><span class=o></span></a></li></ul></div><div><button w5c-form-submit=vm.submit_create_event(new_event_form) data-loading-text="{{\'common.saving\'|translate}}" class="btn btn-success" wt-loading-status=vm.saving>{{\'common.btn_save\'|translate}}</button> <button class="btn btn-cancel btn-link" ng-click=vm.close()>{{\'common.btn_cancel\'|translate}}</button></div></form></div></div>'), a.put("/app/js/service/entity/dialog_file_create.html", '<div class="dialog dialog-file-create"><div class=dialog-head><span class=dialog-close><i class="wtfont wtf-close" ng-click=vm.close()></i></span><div class=dialog-title>{{\'dialog_file_create.title_name\'|translate}}</div></div><div class=dialog-body><form name=add_file_form w5c-form-validate="" class="w5c-form w-590 m-0-auto" novalidate="" role=form><div class="form-group file-preview-warper" ng-if=vm.new_file.original><img class="w-160 h-160 img" ng-src={{vm.new_file.src}} alt=vm.new_file.original.name><div class=info><div class=name>{{[vm.new_file.original.name,50]|cutstr}}<br><small class=color-text-gray>({{vm.new_file.original.size|fileSize}})</small></div><a href=javascript:; ngf-multiple=false ngf-select ngf-change=vm.file_select($files)>{{\'dialog_file_create.reselect\'|translate}}</a></div></div><div class="form-group empty-file-warper" ng-if=!vm.new_file.original><a href=javascript:; ngf-multiple=false ngf-select ngf-change=vm.file_select($files)><i class="fa fa-file-o"></i> {{\'dialog_file_create.select_file\'|translate}}</a></div><div class=form-group><h5>{{\'dialog_file_create.form_name_project\'|translate}}</h5><ui-select ng-model=vm.new_file.pid theme=select2 append-to-body=true><ui-select-match placeholder="{{\'dialog_file_create.form_placeholder_project\'|translate}}">{{$select.selected.name}}</ui-select-match><ui-select-choices group-by="\'team_name\'" repeat="project.pid as project in projects|propsFilter:{name: $select.search}"><div class=text-overflow ng-bind-html=project.name|reHighlight:$select.search></div></ui-select-choices></ui-select></div><div class=form-group><button wt-loading-status=vm.saving data-loading-text="{{\'common.saving\'|translate}}" w5c-form-submit=vm.js_upload_file() class="btn btn-success">{{\'common.btn_save\'|translate}}</button> <button ng-click=vm.close() class="btn btn-cancel btn-link">{{\'common.btn_cancel\'|translate}}</button></div></form></div></div>'), a.put("/app/js/service/entity/dialog_task_create.html", '<div class="dialog dialog-task-create"><div class=dialog-head><span class=dialog-close><i class="wtfont wtf-close" ng-click=vm.close()></i></span><div class=dialog-title>{{\'dialog_task_create.title_name\'|translate}}</div></div><div class=dialog-body><form name=add_task_form w5c-form-validate="" novalidate="" role=form class="w-590 m-0-auto"><div class=form-group><textarea wt-autofocus="" name=taskName class="js-task-name form-control" wt-autofocus="" placeholder="{{\'dialog_task_create.placeholder\'|translate}}" required="" ng-model=vm.new_task.name rows=5 wt-enter=vm.create_task(add_task_form) wt-enter-not-shift></textarea><span class=text-muted>{{\'dialog_task_create.tooltip_text\'|translate}}</span></div><div class=row><div class=col-sm-6><h5>{{\'dialog_task_create.form_name_project\'|translate}}</h5><div class=form-group><ui-select name=selectProject ng-model=vm.new_task.pid theme=select2 append-to-body=true ng-change=vm.change_task_project()><ui-select-match placeholder="{{\'dialog_task_create.form_placeholder_project\'|translate}}">{{$select.selected.name}}</ui-select-match><ui-select-choices group-by="\'team_name\'" repeat="project.pid as project in projects|propsFilter:{name: $select.search}"><div class=text-overflow ng-bind-html=project.name|reHighlight:$select.search></div></ui-select-choices></ui-select></div></div><div class=col-sm-6><h5>{{\'dialog_task_create.form_name_entry\'|translate}}</h5><div class=form-group><select class=form-control name=selectEntry ng-model=vm.new_task.entry_id required="" ng-options="entry.entry_id as entry.name for entry in vm.entries"><option value="" selected=selected disabled=disabled>{{\'dialog_task_create.form_placeholder_entry\'|translate}}</option></select></div></div></div><div class=row ng-if=vm.show_date><div class=col-sm-6><h5>{{\'dialog_task_create.form_name_expire\'|translate}}</h5><div class=form-group><input type=text class=form-control readonly=readonly ng-click=vm.js_show_datepicker($event,vm.new_task) value={{vm.new_task.expire_date|taskDatetimeFormat}}></div></div></div><div class=row><div class=col-sm-6><div class=form-group><h5>{{\'dialog_task_create.form_name_member\'|translate}}</h5><ul class=avatars><li ng-repeat="member in vm.new_task.members track by member.uid"><wt-avatar member=member size=40></wt-avatar></li><li><div class="js-popbox text-center" data-placement=right data-align=center type=member wt-pop-toggle-members="vm.js_toggle_member($event, member, xEntity)" team-id=vm.new_task.team_id pid=vm.new_task.pid entity=vm.new_task><a class=avatar-add href=javascript:;><span class=o></span></a></div></li></ul></div></div><div class=col-sm-6><a href=javascript:; class=toggle-lock ng-click=vm.js_toggle_lock(vm.new_task)><i class="fa fa-fw" ng-class="{0:\'fa-unlock\',1:\'fa-lock\'}[vm.new_task.is_locked]"></i> {{\'dialog_task_create.form_name_lock\'|translate}}</a></div></div><div class=form-group><button wt-loading-status=vm.saving data-loading-text="{{\'common.saving\'|translate}}" w5c-form-submit=vm.create_task(add_task_form) class="btn btn-success">{{\'common.btn_save\'|translate}}</button> <button class="btn btn-link btn-cancel" ng-click=vm.close()>{{\'common.btn_cancel\'|translate}}</button></div></form></div></div>'), a.put("/app/js/service/entity/pop_search_linkentity.html", "<div class=popbox-header><button class=\"cancel fa fa-remove\" ng-click=vm.js_close()></button><h3>{{'linkentity.title_name'|translate}}</h3></div><div class=\"popbox-body w_252\"><form class=wt-form w5c-form-validate=\"\" name=insert_linkentity_form role=form novalidate><div class=form-group><input type=text wt-focus=\"\" autofocus=\"\" class=form-control name=linkentity_text ng-model=vm.linkentity_text autocomplete=off placeholder=\"{{'linkentity.placeholder'|translate}}\" required=\"\"></div><ul class=checkable><li ng-repeat=\"item in vm.result\" ng-click=vm.js_insert_linkentity(item)><a href=javascript:;><i class=wtfont ng-class=\"{'project':'wtf-project-s','task':'wtf-task-s','file':'wtf-file-s','folder':'wtf-file-s','post':'wtf-post-s','page':'wtf-page-s','event':'wtf-event-s'}[item.__type]\"></i> {{item.name}}</a></li></ul></form></div>"), a.put("/app/js/service/other/shimo/dialog_shimo.html", '<div class=dialog><div class=dialog-head><span class=dialog-close><i class="wtfont wtf-close" ng-click=vm.js_close()></i></span><div class=dialog-title>{{\'shimo.title_name_add_dialog\'|translate}}</div><div class=dialog-breadcrumbs>&nbsp; &nbsp; <span ng-if="vm.parentFolders.length==0">{{\'shimo.breadcrumbs_root\'|translate}}</span> <a ng-if="vm.parentFolders.length>0" href=javascript:; ng-click=vm.js_back_top()>{{\'shimo.breadcrumbs_root\'|translate}} </a><span ng-repeat="folder in vm.parentFolders"><span>&gt;</span> <a ng-if=!$last href=javascript:; ng-click=vm.js_back_folder(folder)>{{folder.name}}</a> <span ng-if=$last>{{folder.name}}</span></span></div></div><div class=dialog-body><div class="part-loading mt_20" ng-hide=vm.part_loading_done></div><div class=shimo-wrapper ng-show="vm.part_loading_done && vm.shimoFolderList.length>0"><ul><li class=flex-row ng-class="{\'item-selected\':vm.selectFile[0].guid==item.guid}" ng-repeat="item in vm.shimoFolderList" ng-click=vm.js_click_item($event,item)><span class=item-icon><i ng-class="{\'wtfont wtf-page-shimo-document\':item.type==\'document\',\'wtfont wtf-page-shimo-spreadsheet\':item.type==\'spreadsheet\',\'fa fa-folder\':item.type==\'folder\'}"></i> </span><span class="item-title flex-se1" ng-bind=item.name></span></li></ul></div><div class="empty-panel empty-panel-middle" ng-if="vm.part_loading_done && vm.shimoFolderList.length==0"><i class="wtfont wtf-page-shimo-document"></i><br><span>{{\'shimo.empty_info\'|translate}}</span></div></div><div class=dialog-foot><button class=btn ng-class="{\'btn-success\':vm.selectFile.length>0}" ng-disabled="vm.selectFile.length==0" ng-click=vm.js_add_shimo()>{{\'common.btn_choose\'|translate}}</button> &nbsp; &nbsp; <button class="btn btn-cancel btn-link" ng-click=vm.js_close()>{{\'common.btn_cancel\'|translate}}</button></div></div>'), a.put("/app/js/service/privilege/dialog_privilege_background.html", '<div class="dialog dialog-privilege-background"><div class=dialog-head><span class=dialog-close><i class="wtfont wtf-close" ng-click=vm.js_close()></i></span><div class=dialog-title>{{\'dialog_privilege_background.title_name\'|translate}}</div></div><div class=dialog-body ng-if=vm.part_loading_done><h3>{{\'dialog_privilege_background.desc\'|translate}}</h3><div class=reslut><div ng-if="vm.recommended.length>0"><wt-avatar member=user size=45 ng-repeat="user in vm.recommended"></wt-avatar></div><div class=text-muted ng-if="vm.recommended.length==0"><i class="fa fa-info-circle"></i> {{\'dialog_privilege_background.not_enable_text\'|translate}}</div></div><div class=invite><ol><li><span class=list-number>1</span>{{\'dialog_privilege_background.tooltip_1\'|translate}}<br><input class=recommend_url type=text ng-model=vm.recommend_url wt-click-select readonly=readonly></li><li><span class=list-number>2</span>{{\'dialog_privilege_background.tooltip_2\'|translate}}<br><p class=qrcode wt-disable-drag="" ng-bind-html=vm.qrcode></p></li></ol></div><div class="form-group text-center"><a class="btn btn-success" href=https://worktile.com/club/news/59f1fff5c74249bcaa3737ec655a0119 target=_blank>{{\'dialog_privilege_background.desc_more\'|translate}}</a></div></div><div class="dialog-body part-loading" ng-if=!vm.part_loading_done></div></div>'), a.put("/app/js/service/profile/profile.html", "<div class=layout_content_main><div class=mod-navbar><div class=main><div class=title><h3><i class=\"wtfont wtf-user\"></i>{{'profile.header_name'|translate}}</h3></div></div></div><div class=\"height-nonav height-nonav--notab\" wt-scroll><dl class=\"frame profile-panel\" wt-minheight=84 ng-show=global.loading_done><div class=profile-info><wt-avatar member=root_vm.profile size=80 wt-disable-pop></wt-avatar><ul class=profile-info-base><li class=displayname ng-bind=root_vm.profile.display_name></li><li class=title title=\"{{'profile.title'|translate}}{{root_vm.profile.title}}\" ng-bind=root_vm.profile.title></li><li class=desc title=\"{{'profile.desc'|translate}}{{root_vm.profile.desc}}\" ng-bind=root_vm.profile.desc></li></ul><ul class=profile-info-contact><li><em>{{'profile.phone'|translate}}</em><span ng-bind=\"root_vm.profile.phone||('profile.empty'|translate)\"></span></li><li><em>{{'profile.email'|translate}}</em><span ng-bind=\"root_vm.profile.email||('profile.empty'|translate)\"></span></li><li ng-if=\"root_vm.profile.uid==$root.global.me.uid\"><em>{{'profile.recommend_link'|translate}}</em> <a target=_blank ng-href=\"{{'https://worktile.com/'+root_vm.profile.name+'/recommend'}}\">{{'https://worktile.com/'+root_vm.profile.name+'/recommend'}}</a></li></ul><div class=profile-info-action><a ui-sref=account.settings class=\"btn btn-success\" ng-if=\"root_vm.profile.uid==$root.global.me.uid\">&nbsp; {{'profile.btn_setting'|translate}}&nbsp;&nbsp;</a></div></div><ul class=profile-tab><li><a ui-sref=profile.info({username:root_vm.username}) ui-sref-active=active>{{'profile.tab_info'|translate}}</a></li><li><a ui-sref=profile.tasks({username:root_vm.username}) ui-sref-active=active>{{'profile.tab_tasks'|translate}}</a></li><li><a ui-sref=profile.graph({username:root_vm.username}) ui-sref-active=active>{{'profile.tab_graph'|translate}}</a></li></ul><ui-view></ui-view></dl></div></div>"), a.put("/app/js/service/profile/profile_graph.html", '<dd class="frame-dd profile-graph"><div class=frame-lr-right><dl class=dl-filter><dd class="pb_10 pt_20"><span class=title>{{\'profile_graph.filter_name_team\'|translate}}</span> <a href=javascript:; wt-pop-filter-team=vm.teams select-fn=vm.js_pop_select_team($event,team_id,team_name,trigger_apply) select-trigger-apply=true>{{vm.teams[vm.team_id]}} <i class="fa fa-angle-down"></i></a></dd></dl></div><div class=frame-lr-left><div class="part-loading mt_20" ng-if=!vm.part_loading_done></div><div class=empty-panel ng-if="vm.report_list.length == 0 && vm.part_loading_done"><i class="fa fa-inbox"></i><br><span>{{\'profile_graph.warn_empty\'|translate}}</span></div><div ng-if="vm.part_loading_done && vm.report_list.length>0"><div class=overview><ul class=numbers><li><wt-graph-gauge size=90 number=vm.overview_task_schedule color=#5DAC81 bgcolor=#FFB11B></wt-graph-gauge>{{\'profile_graph.overview_task_schedule\'|translate}}</li><li><wt-graph-gauge size=90 number=vm.overview_delay_rate color=#DA4F4A bgcolor=#E8ECF4></wt-graph-gauge>{{\'profile_graph.overview_delay_rate\'|translate}}</li><li><span class=color-label-green title="{{\'profile_graph.overview_completed_title\'|translate}}&#10;{{vm.overview.completed}}">{{vm.overview.completed|number2K}}</span><br>{{\'profile_graph.overview_completed\'|translate}}</li><li><span class=color-label-yellow title="{{\'profile_graph.overview_uncompleted_title\'|translate}}&#10;{{vm.overview.uncompleted}}">{{vm.overview.uncompleted|number2K}}</span><br>{{\'profile_graph.overview_uncompleted\'|translate}}</li><li><span class=color-text-act-red title="{{\'profile_graph.overview_expired_title\'|translate}}&#10;{{vm.overview.expired}}">{{vm.overview.expired|number2K}}</span><br>{{\'profile_graph.overview_expired\'|translate}}</li></ul></div><div class=desc><div class=today translate=profile_graph.today translate-values={today_completed:{{vm.overview.today_completed}},today_files:{{vm.overview.today_files}}}></div><div class=week translate=profile_graph.week translate-values={week_completed:{{vm.overview.week_completed}},week_files:{{vm.overview.week_files}}}></div></div><div class=report-list><div class=wt-row><div class="column column-name">{{\'profile_graph.report_column_project_name\'|translate}}</div><div class="column column-uncompleted">{{\'profile_graph.report_column_uncompleted\'|translate}}</div><div class="column column-completed">{{\'profile_graph.report_column_completed\'|translate}}</div><div class="column column-expired">{{\'profile_graph.report_column_expired\'|translate}}</div></div><div class=wt-row ng-repeat="report in vm.report_list"><div class="column column-name"><a href=javascript:; ui-sref=project({pid:report.pid}) ui-sref-opts="{reload: true}"><i ng-class=report.pic ng-style="{color: report.bg}"></i> {{report.name}}</a></div><div class="column column-uncompleted"><span class=color-label-yellow>{{report.overview.uncompleted}}</span></div><div class="column column-completed"><span class=color-label-green>{{report.overview.completed}}</span></div><div class="column column-expired"><span class=color-text-act-red>{{report.overview.expired}}</span></div></div></div></div></div></dd>'), a.put("/app/js/service/profile/profile_info.html", "<div><dl class=profile-info-teams ng-show=\"vm.teams.length>0\"><dt>{{'profile_info.title_teams'|translate}}</dt><dd><ul><li ng-repeat=\"team in vm.teams track by team.team_id\"><a ui-sref=\"team.projects({team_id: team.team_id})\" ui-sref-opts=\"{reload: true}\"><wt-team-logo team=team size=35></wt-team-logo><h5><span ng-bind=team.name></span></h5><small><span class=member_count><i class=\"fa fa-user\"></i> {{'profile_info.member_count'|translate:'{count:'+team.member_count+'}'}} </span><span class=visibility><i ng-class=\"{1:'icon-private', 2:'icon-public'}[team.visibility]\"></i> {{{1:('team.visibility_private'|translate),2:('team.visibility_public'|translate)}[team.visibility]}}</span></small></a></li></ul></dd></dl><dl class=profile-info-feeds><dt>{{'profile_info.title_feeds'|translate}}</dt><dd><ul class=feed-list><div class=empty-panel ng-show=\"vm.feedData.feeds.length == 0 && vm.feeds_loading_done\"><i class=\"fa fa-clock-o\"></i><br><span>{{'profile_info.empty_feeds'|translate}}</span></div><wt-activity-feed ng-repeat=\"feed in vm.feedData.feeds\"></wt-activity-feed><li class=loading-more-panel><div class=part-loading ng-hide=vm.feeds_loading_done></div><button class=\"btn more-btn\" ng-if=\"vm.feedData.hasMore && vm.feeds_loading_done\" data-loading-text=\"{{'common.loading'|translate}}\" wt-loading-status=!vm.feeds_loading_done ng-click=vm.js_load_more()>{{'common.btn_loading'|translate}}</button></li></ul></dd></dl></div>"), a.put("/app/js/service/profile/profile_tasks.html", '<dd class="frame-dd profile-tasks"><div class=frame-lr-right><dl class=dl-filter><dd class="pb_10 pt_20"><span class=title>{{\'profile_tasks.filter_name_team\'|translate}}</span> <a href=javascript:; wt-pop-filter-team=vm.teams select-fn=vm.js_pop_select_team($event,team_id,team_name,trigger_apply) select-trigger-apply=true>{{vm.teams[vm.team_id]}} <i class="fa fa-angle-down"></i></a></dd><hr><dt><span class=title>{{\'profile_tasks.title_sort_type\'|translate}}</span></dt><dd><ul class=checkable><li ng-class="{\'date\':\'active\'}[vm.groupby]" ng-click="vm.js_set_groupby(\'date\')"><a href=javascript:;>{{\'profile_tasks.sort_type_expired\'|translate}}</a></li><li ng-class="{\'project\':\'active\'}[vm.groupby]" ng-click="vm.js_set_groupby(\'project\')"><a href=javascript:;>{{\'profile_tasks.sort_type_project\'|translate}}</a></li></ul></dd><dt><span class=title>{{\'profile_tasks.title_filter\'|translate}}</span></dt><dd><ul class=checkable><li ng-class="{\'uncompleted\':\'active\'}[vm.filter]" ng-click="vm.js_set_filter(\'uncompleted\')"><a href=javascript:;>{{\'profile_tasks.filter_type_uncompleted\'|translate}} <em ng-show="vm.overview.uncompleted!=0">{{vm.overview.uncompleted}}</em></a></li><li ng-class="{\'expired\':\'active\'}[vm.filter]" ng-click="vm.js_set_filter(\'expired\')"><a href=javascript:;>{{\'profile_tasks.filter_type_expired\'|translate}} <em ng-show="vm.overview.expired!=0">{{vm.overview.expired}}</em></a></li><li ng-class="{\'completed\':\'active\'}[vm.filter]" ng-click="vm.js_set_filter(\'completed\')"><a href=javascript:;>{{\'profile_tasks.filter_type_completed\'|translate}} <em ng-show="vm.overview.completed!=0">{{vm.overview.completed}}</em></a></li></ul></dd><hr ng-if="root_vm.profile.uid!=$root.global.me.uid"><dd ng-if="root_vm.profile.uid!=$root.global.me.uid"><ul class=checkable><li ng-class="{\'active\':vm.myassign}" ng-click=vm.js_toggle_myassign()><a href=javascript:;>{{\'profile_tasks.myassign\'|translate}}</a></li></ul></dd></dl></div><div class=frame-lr-left><div class="part-loading mt_20" ng-if=!vm.part_loading_done></div><div class=empty-panel ng-if="vm.tasks.length == 0 && vm.part_loading_done"><i class="fa fa-check-square-o"></i><br><span>{{\'profile_tasks.warn_empty\'|translate}}</span></div><div ng-if="vm.part_loading_done && vm.tasks.length>0"><div ng-repeat="group in vm.tasks_groupby"><div class=task-header ng-click="group.collapse = !group.collapse"><div class=text><i ng-class=group.pic ng-style="{color: group.bg}"></i> {{group.phase}}</div><span class=number>{{group.tasks.length}}</span><div class=toggle-handle><a href=javascript:;><i class="fa fa-chevron-down" ng-if=group.collapse></i> <i class="fa fa-chevron-up" ng-if=!group.collapse></i></a></div></div><div ng-init="group.collapse = false" uib-collapse=group.collapse class=slide-trigger><wt-task task=task arg-view-type=item arg-show-project="vm.groupby==\'date\'" arg-disable-check=true ng-repeat="task in group.tasks track by task.tid" ng-click="locator.openTask(task.pid, task.tid)"></wt-task></div></div></div></div></dd>'), a.put("/app/js/service/project/dialog_project_active.html", "<div class=\"dialog dialog-project-quit\"><div class=dialog-head><span class=dialog-close><i class=\"wtfont wtf-close\" ng-click=vm.js_close()></i></span><div class=dialog-title>{{'dialog_project_active.title_name'|translate}}</div></div><div class=dialog-body><div class=sidebar_body><span class=tips>{{'dialog_project_active.desc'|translate}}<br><br></span><button ng-click=vm.js_prj_unarchive() data-loading-text=\"{{'dialog_project_active.unarchiving'|translate}}\" wt-loading-status=vm.is_unarchiving class=\"btn btn-success\">{{'dialog_project_active.btn_unarchive'|translate}}</button></div></div></div>"), a.put("/app/js/service/project/dialog_project_add_member.html", '<div class="dialog dialog-project-add-member"><div class=dialog-head><span class=dialog-close><i class="wtfont wtf-close" ng-click=vm.js_close()></i></span><div class=dialog-title>{{\'dialog_project_add_member.title_name\'|translate}}</div><div class="dialog-tab mlr-28"><ul class=flex_row><li ng-class="{\'step_cursor\':vm.step_index==1}"><a href=javascript:; ng-click=vm.js_step(1)>{{\'dialog_project_add_member.from_team\'|translate}}</a></li><li ng-class="{\'step_cursor\':vm.step_index==2}"><a href=javascript:; ng-click=vm.js_step(2)>{{\'dialog_project_add_member.from_email\'|translate}}</a></li><li ng-class="{\'step_cursor\':vm.step_index==3}"><a href=javascript:; ng-click=vm.js_step(3)>{{\'dialog_project_add_member.from_qrcode\'|translate}}</a></li></ul></div></div><div class=dialog-body><div ng-switch on=vm.step_index><div ng-switch-when=1><div class=part-loading ng-if=!vm.part_loading_done></div><form name=team_contacts_form ng-if=vm.part_loading_done class=w5c-form novalidate="" role=form><div class="form-group w-590 mlr-auto"><div class=contact_member_search><i class="wtfont wtf-search"></i> <input class=form-control name=filter_contacts_input ng-model=vm.filter_contacts_input type=text wt-autofocus="" placeholder="{{\'dialog_project_add_member.form_filter_contact_placeholder\'|translate}}"></div><div class=contact_member><div><h4 ng-if="members_filtered_results.length!=0">{{\'dialog_project_add_member.title_from_team_member\'|translate}} <a href=javascript:; class="add-full btn btn-success btn-sm" ng-if="vm.filter_contacts_input==undefined||vm.filter_contacts_input==\'\'" ng-click=vm.js_contact_add_all()>{{\'dialog_project_add_member.btn_add_all\'|translate}}</a></h4><ul class=clearfix ng-hide="members_filtered_results.length==0"><li class=flex_row ng-repeat="member in members_filtered_results = (vm.unassigned_team_members|filterMembersInfo:vm.filter_contacts_input)"><wt-avatar member=member size=40 class=member_pic wt-disable-pop></wt-avatar><span class="member_name flex_se1">{{[member.display_name,15]|cutstr}}</span> <a class="btn btn-success btn-sm" href=javascript:; ng-click=vm.js_contact_add(member)>{{\'dialog_project_add_member.btn_add\'|translate}}</a></li></ul><h4 ng-if="visitors_filtered_results.length!=0" class=mt-20>{{\'dialog_project_add_member.title_from_team_visitor\'|translate}} <a href=javascript:; class=toggle-link ng-if="vm.filter_contacts_input==undefined||vm.filter_contacts_input==\'\'" ng-click=vm.js_toggle_visitors_fold();>{{{true:(\'dialog_project_add_member.visitors_fold_show\'|translate),false:(\'dialog_project_add_member.visitors_fold_hide\'|translate)}[vm.visitors_fold]}} <i class=fa ng-class="{true:\'fa-angle-down\',false:\'fa-angle-up\'}[vm.visitors_fold]"></i></a></h4><ul class=clearfix ng-hide="visitors_filtered_results.length==0||(vm.visitors_fold && (vm.filter_contacts_input==undefined||vm.filter_contacts_input==\'\') )"><li class=flex_row ng-repeat="member in visitors_filtered_results=(vm.unassigned_team_visitors|filterMembersInfo:vm.filter_contacts_input)"><wt-avatar member=member size=40 class=member_pic wt-disable-pop></wt-avatar><span class="member_name flex_se1">{{[member.display_name,15]|cutstr}}</span> <a class="btn btn-success btn-sm" href=javascript:; ng-click=vm.js_contact_add(member)>{{\'dialog_project_add_member.btn_add\'|translate}}</a></li></ul><br></div><div class="empty-panel pt_20 pb_20" ng-show="vm.unassigned_team_members.length==0&&vm.unassigned_team_visitors.length==0"><span>{{\'dialog_project_add_member.warn_empty_team_member\'|translate}}</span></div><div class="empty-panel pt_20 pb_20" ng-show="(vm.unassigned_team_members.length!=0||vm.unassigned_team_visitors.length!=0)&&members_filtered_results.length==0&&visitors_filtered_results.length==0"><span>{{\'dialog_project_add_member.warn_empty_filter_condition\'|translate}}</span></div></div></div><div class="contact_member_selected border-top" ng-if="vm.contact_members_selected.length>0">{{\'dialog_project_add_member.added_msg\'|translate:{count:vm.contact_members_selected.length} }}<ul class=avatars><li ng-repeat="member in vm.contact_members_selected" wt-member-control member=member><wt-avatar member=member size=30 wt-disable-pop></wt-avatar></li></ul></div></form></div><div ng-switch-when=2><form name=team_add_member w5c-form-validate="" class=w5c-form novalidate="" role=form><div class="form-group w-590 mlr-auto"><div class=contact_member_search><i class="wtfont wtf-search"></i><div class=input-group><input class=form-control name=search_user_input ng-model=vm.search_user_input type=text wt-autofocus="" required ng-change=vm.change_keyword() placeholder="{{\'dialog_project_add_member.form_find_member_placeholder\'|translate}}"> <span class=input-group-btn><button class="btn btn-success fs_17" type=button w5c-form-submit=vm.js_search_member(team_add_member) ng-disabled=!team_add_member.search_user_input.$valid||vm.is_searching>{{\'dialog_project_add_member.btn_invite\'|translate}}</button></span></div></div><div class=contact_member><ul><li class=flex_row ng-repeat="member in vm.search_member"><wt-avatar member=member size=40 class=member_pic wt-disable-pop></wt-avatar><span class="member_name flex_se1">{{[member.display_name,25]|cutstr}}</span> <a href=javascript:; class="btn btn-success btn-sm" ng-click=vm.js_contact_add(member) ng-disabled="member.status==3">{{{1:\'dialog_project_add_member.membrer_status_sended\',2:\'dialog_project_add_member.membrer_status_add\',3:\'dialog_project_add_member.membrer_status_added\',4:\'dialog_project_add_member.membrer_status_resend\'}[member.status]|translate}}</a></li></ul><div class="empty-panel pt_20 pb_20" ng-if="vm.search_user_input==undefined"><span>{{\'dialog_project_add_member.tooltip_enter_email_phone\'|translate}}</span></div><div class="empty-panel pt_20 pb_20" ng-if=vm.error_show_not_support_phone><span>{{\'dialog_project_add_member.warn_not_support_mobile_newer\'|translate}}</span></div></div></div><div class="contact_member_selected border-top" ng-if="vm.contact_members_invited.length>0">{{\'dialog_project_add_member.invite_count\'|translate:{count:vm.contact_members_invited.length} }}<ul class=avatars><li ng-repeat="member in vm.contact_members_invited" wt-member-control member=member><wt-avatar member=member size=30 wt-disable-pop></wt-avatar></li></ul></div></form></div><div ng-switch-when=3><div ng-if=!vm.invite_link_open class="text-center p-20"><div class=p-20><img src=/img/links/team_invite_share.png alt=""></div><button ng-click=vm.js_invite_link_open() type=button class="btn btn-success btn--big">{{\'dialog_project_add_member.btn_open_invite_link\'|translate}}</button><div class="mt_20 ml_12 text-center color-text-grayer">{{\'dialog_project_add_member.desc_invite_link\'|translate}}</div></div><div ng-if=vm.invite_link_open><div class=form-group><input class=form-control ng-model=vm.invite_link type=text wt-click-select=""></div><ul class=invite-list><li class=ml-20><div class=qrcode ng-bind-html=vm.invite_qrcode></div><span>{{\'dialog_project_add_member.text_wechat_invite\'|translate}}</span></li><li translate=dialog_project_add_member.desc_scan_qrcode></li></ul><div class="info text-center">{{\'dialog_project_add_member.desc_close_link\'|translate}} <button class="btn btn-sm btn-redline" ng-click=vm.js_invite_link_close()>{{\'dialog_project_add_member.btn_close_link\'|translate}}</button></div></div></div></div></div></div>'),
        a.put("/app/js/service/project/dialog_project_archive.html", "<div class=\"dialog dialog-project-quit\"><div class=dialog-head><span class=dialog-close><i class=\"wtfont wtf-close\" ng-click=vm.js_close()></i></span><div class=dialog-title>{{'dialog_project_archive.title_name'|translate}}</div></div><div class=dialog-body><span class=tips>{{'dialog_project_archive.tips_info'|translate}}<br><br></span><div><button ng-click=vm.js_prj_archive() data-loading-text=\"{{'dialog_project_archive.archiving'|translate}}\" wt-loading-status=vm.is_archiving class=\"btn btn-success\">{{'dialog_project_archive.btn_archive'|translate}}</button></div></div></div>"), a.put("/app/js/service/project/dialog_project_copy.html", '<div class="dialog dialog-project-copy"><div class=dialog-head><span class=dialog-close><i class="wtfont wtf-close" ng-click=vm.js_close()></i></span><div class=dialog-title>{{\'dialog_project_copy.title_name\'|translate}}</div></div><div class=dialog-body><form name=prj_copy_form w5c-form-validate="" class=wt-form role=form novalidate><div><div class=form-group><div><input type=text ng-model=prj_copy.name placeholder="{{\'dialog_project_copy.placeholder_project_name\'|translate}}" name=prj_name autofocus class=form-control required></div></div><div class=form-group><div><select class=form-control ng-model=prj_copy.dest_team ng-change=vm.js_target_team_change(prj_copy.dest_team) ng-options="team.name for team in prj_copy.teams" required name=dest_team><option value="" selected=selected disabled=disabled>{{\'dialog_project_copy.form_title_dest_team\'|translate}}</option></select></div></div><div class=form-group><div><select class=form-control ng-model=prj_copy.selected_visibility ng-options="visibility.name for visibility in prj_copy.visibility_options" required name=visibility><option value="" selected=selected disabled=disabled>{{\'dialog_project_copy.form_title_visibility\'|translate}}</option></select></div></div></div><div><br><div class=color-text-grayer>{{\'dialog_project_copy.form_title_select_keep\'|translate}}</div><div class=plr_10><ul class=module-list><li ng-class="{\'selected\':prj_copy.keepTasks}"><a href=javascript:; ng-click="prj_copy.keepTasks=!prj_copy.keepTasks"><i class="fa fa-check-square-o"></i><br><span>{{\'dialog_project_copy.keep_task\'|translate}}</span></a></li><li ng-class="{\'selected\':prj_copy.keepFiles}"><a href=javascript:; ng-click="prj_copy.keepFiles=!prj_copy.keepFiles"><i class="fa fa-file"></i><br><span>{{\'dialog_project_copy.keep_file\'|translate}}</span></a></li><li ng-class="{\'selected\':prj_copy.keepPosts}"><a href=javascript:; ng-click="prj_copy.keepPosts=!prj_copy.keepPosts"><i class="fa fa-list-alt"></i><br><span>{{\'dialog_project_copy.keep_post\'|translate}}</span></a></li><li ng-class="{\'selected\':prj_copy.keepPages}"><a href=javascript:; ng-click="prj_copy.keepPages=!prj_copy.keepPages"><i class="fa fa-file-text-o"></i><br><span>{{\'dialog_project_copy.keep_page\'|translate}}</span></a></li></ul></div><div class=mt_10><button w5c-form-submit=js_prj_copy(prj_copy_form) data-loading-text="{{\'dialog_project_copy.copying\'|translate}}" class="btn btn-success mr_15" wt-loading-status=vm.is_prj_copying>{{\'dialog_project_copy.btn_copy\'|translate}}</button></div></div></form></div></div>'), a.put("/app/js/service/project/dialog_project_create.html", '<div class="dialog dialog-project-create"><div class=dialog-head ng-class="{\'border-bottom\':vm.step_index>0}"><span class=dialog-close><i class="wtfont wtf-close" ng-click=vm.close()></i></span><div class=dialog-title>{{\'dialog_project_create.title_name\'|translate}}</div><div class="dialog-step mlr-28" ng-if="vm.step_index>0"><ul class=flex_row><li class=flex_se1 ng-class="{\'step_cursor\':vm.step_index==1, \'step_active\':vm.step_index>1}">{{\'dialog_project_create.step_select_template\'|translate}}</li><li class=flex_se1 ng-class="{\'step_cursor\':vm.step_index==2, \'step_active\':vm.step_index>2}">{{\'dialog_project_create.step_select_members\'|translate}}</li></ul></div></div><div class=dialog-body><div ng-switch on=vm.step_index><div ng-switch-default><form name=add_project_form w5c-form-validate class="w5c-form w-590 m-0-auto" novalidate role=form><div class=form-group><h5>{{\'dialog_project_create.form_title_project_info\'|translate}}</h5><div><input name=projectName ng-model=vm.new_project.name wt-autofocus="" ng-maxlength=200 placeholder="{{\'dialog_project_create.placeholder_project_name\'|translate}}" class=form-control type=text required></div></div><div class=form-group><div><textarea name=projectDesc ng-model=vm.new_project.desc placeholder="{{\'dialog_project_create.placeholder_project_desc\'|translate}}" class=form-control></textarea></div></div><div class=form-group><h5>{{\'dialog_project_create.form_title_team\'|translate}}</h5><select ng-change=vm.change_project_team() name=projectTeam class=form-control ng-model=vm.new_project.team_id required="" ng-options="team.team_id as team.name for team in vm.teams"><option value="" selected=selected disabled=disabled>{{\'dialog_project_create.placeholder_team\'|translate}}</option></select></div><div class=form-group><h5>{{\'dialog_project_create.form_title_visibility\'|translate}}</h5><select class=form-control name=projectVisibility ng-model=vm.new_project.visibility required="" ng-options="item.id as item.name for item in vm.visibilities"><option value="" selected=selected disabled=disabled>{{\'dialog_project_create.placeholder_visibility\'|translate}}</option></select></div><div class=form-group><button wt-loading-status=vm.saving data-loading-text="{{\'common.saving\'|translate}}" w5c-form-submit=vm.js_project_add($event) class="btn btn-success">{{{false:\'common.btn_save\',true:\'common.btn_next_step\'}[vm.has_next]|translate}}</button> <button class="btn btn-link btn-cancel" ng-click=vm.close()>{{\'common.btn_cancel\'|translate}}</button></div></form></div><div ng-switch-when=1><div class="w-590 m-0-auto"><h5>{{\'dialog_project_create.form_title_select_template\'|translate}}</h5><ul class=project-templates><li ng-repeat="item in vm.team_templates" ng-class="{\'selected\':item.template_id===vm.new_project.template_id}" ng-click=vm.js_select_template(item)><a href=javascript:;><h5>{{item.name}}</h5><span>{{item.entrys}}</span></a></li></ul><div class="form-group mt-10"><button ng-click=vm.js_next_step() class="btn btn-success">{{\'common.btn_next_step\'|translate}}</button> <button class="btn btn-link btn-cancel" ng-click=vm.close()>{{\'common.btn_cancel\'|translate}}</button></div></div></div><div ng-switch-when=2><form name=project_create_step2 w5c-form-validate="" class="w5c-form w-590 m-0-auto" novalidate="" role=form><div class="form-group w-590 mlr-auto" ng-if="vm.unassigned_team_members.length>0||vm.unassigned_team_visitors.length>0"><div class=contact_member_search><i class="wtfont wtf-search"></i> <input class=form-control ng-model=search_user_input type=text placeholder="{{\'dialog_project_create.placeholder_find_contact\'|translate}}"></div><div class=contact_member><h4 ng-if="members_filtered_results.length!=0">{{\'dialog_project_create.form_title_from_team_member\'|translate}} <a href=javascript:; class="add-full btn btn-success btn-sm" ng-if="vm.filter_contacts_input==undefined||vm.filter_contacts_input==\'\'" ng-click=vm.js_contact_add_all()>{{\'common.btn_checkall\'|translate}}</a></h4><ul class=clearfix ng-hide="members_filtered_results.length==0"><li class=flex_row ng-class="{\'selected\':member.selected}" ng-repeat="member in members_filtered_results = (vm.unassigned_team_members|filterMembers:search_user_input)" ng-click=vm.js_contact_selected_toggle(member.uid)><wt-avatar member=member size=40 class=member_pic wt-disable-pop></wt-avatar><span class="member_name flex_se1">{{[member.display_name,10]|cutstr}}</span> <i class="fa fa-check-circle-o"></i></li></ul><h4 ng-if="visitors_filtered_results.length!=0">{{\'dialog_project_create.form_title_from_team_visitor\'|translate}}</h4><ul class=clearfix ng-hide="visitors_filtered_results.length==0"><li class=flex_row ng-class="{\'selected\':member.selected}" ng-repeat="member in visitors_filtered_results = (vm.unassigned_team_visitors|filterMembers:search_user_input)" ng-click=vm.js_contact_selected_toggle(member.uid)><wt-avatar member=member size=40 class=member_pic wt-disable-pop></wt-avatar><span class="member_name flex_se1">{{[member.display_name,10]|cutstr}}</span> <i class="fa fa-check-circle-o"></i></li></ul><div class="empty-panel pt_20 pb_20" ng-show="members_filtered_results.length==0&&visitors_filtered_results.length==0"><span>{{\'dialog_project_create.warn_empty_filter_result\'|translate}}</span></div></div></div><div ng-if="vm.unassigned_team_members.length==0&&vm.unassigned_team_visitors.length==0"><div class="empty-panel pt_20 pb_20"><span>{{\'dialog_project_create.warn_empty_team_user\'|translate}}</span></div></div><div class="form-group mt-10"><button class="btn btn-success" wt-loading-status=vm.saving data-loading-text="{{\'common.saving\'|translate}}" ng-click=vm.js_project_add($event)>{{\'common.btn_done\'|translate}}</button> <button class="btn btn-cancel btn-link w_120" ng-click=vm.close()>{{\'common.btn_cancel\'|translate}}</button></div></form></div></div><a ng-href="{{\'/teams/\'+vm.new_project.team_id+\'/admin/custom\'}}" target=_blank class=create-prj-footer ng-if="vm.step_index==1"><i class="fa fa-info-circle"></i> {{\'dialog_project_create.tips_go_team_setting_template\'|translate}}</a></div></div>'), a.put("/app/js/service/project/dialog_project_createbymail.html", "<div class=\"dialog dialog-project-createbymail\"><div class=dialog-head><span class=dialog-close><i class=\"wtfont wtf-close\" ng-click=vm.js_close()></i></span><div class=dialog-title>{{'dialog_project_createbymail.title_name'|translate}}</div></div><div class=dialog-body><h3 class=createbymail-title>{{'dialog_project_createbymail.form_title_sendto_tips'|translate}}</h3><div class=p_10><textarea class=\"form-control help-block textarea-noresize color-text-act-blue\" rows=3 wt-click-select readonly=readonly>{{vm.project.pid+vm.mail_domain}}</textarea></div><h3 class=createbymail-body-title>{{'dialog_project_createbymail.form_title_get_more_help'|translate}}</h3><ul class=createbymail-menu><li><a href=/guide/task/create#bymail target=_blank><i class=\"fa fa-check-square-o\"></i> {{'dialog_project_createbymail.help_create_task'|translate}}</a></li><li><a href=/guide/post/create#by-email target=_blank><i class=\"fa fa-list-alt\"></i> {{'dialog_project_createbymail.help_create_post'|translate}}</a></li><li><a href=/guide/page/create#by-mail target=_blank><i class=\"fa fa-file-text-o\"></i> {{'dialog_project_createbymail.help_create_page'|translate}}</a></li></ul></div></div>"), a.put("/app/js/service/project/dialog_project_del.html", '<div class="dialog dialog-project-quit"><div class=dialog-head><span class=dialog-close><i class="wtfont wtf-close" ng-click=vm.js_close()></i></span><div class=dialog-title>{{\'dialog_project_del.title_name\'|translate}}</div></div><div class=dialog-body><div><span class=tips translate=dialog_project_del.tips></span> <input type=text class=form-control ng-model=prj_name wt-enter=js_prj_del(prj_name) placeholder="{{\'dialog_project_del.placeholder_project_name\'|translate}}"><br><button ng-click=vm.js_prj_del(prj_name) ng-disabled="prj_name != vm.project.name" class="btn btn-danger" data-loading-text="{{\'common.deling\'|translate}}" wt-loading-status=vm.is_deleting>{{\'common.btn_confirm_del\'|translate}}</button></div></div></div>'), a.put("/app/js/service/project/dialog_project_export.html", '<div class="dialog dialog-project-move"><div class=dialog-head><span class=dialog-close><i class="wtfont wtf-close" ng-click=vm.js_close()></i></span><div class=dialog-title>{{\'dialog_project_export.title_name\'|translate}}</div></div><div class=dialog-body><p class=color-text-grayer>{{\'dialog_project_export.form_title_select_format\'|translate}}</p><div class="radio p_5 ml_15"><label ng-class="{\'color-text-act-blue\':vm.export_type==\'json\'}"><input type=radio ng-model=vm.export_type value=json> {{\'dialog_project_export.format_json\'|translate}}</label>&nbsp; &nbsp; &nbsp; &nbsp;<label ng-class="{\'color-text-act-blue\':vm.export_type==\'csv\'}"><input type=radio ng-model=vm.export_type value=csv> {{\'dialog_project_export.format_csv\'|translate}}</label></div><hr><ul class=ul-horiz-6><li><a href="/api/projects/{{vm.project.pid}}/tasks/exports?format={{vm.export_type}}" target=_blank><i class="fa fa-check-square-o"></i><br>{{\'dialog_project_export.export_task\'|translate}}</a></li><li><a href="/api/projects/{{vm.project.pid}}/files/exports?format={{vm.export_type}}" target=_blank><i class="fa fa-file"></i><br>{{\'dialog_project_export.export_file\'|translate}}</a></li><li><a href="/api/projects/{{vm.project.pid}}/posts/exports?format={{vm.export_type}}" target=_blank><i class="fa fa-list-alt"></i><br>{{\'dialog_project_export.export_post\'|translate}}</a></li><li><a href="/api/projects/{{vm.project.pid}}/pages/exports?format={{vm.export_type}}" target=_blank><i class="fa fa-file-text-o"></i><br>{{\'dialog_project_export.export_page\'|translate}}</a></li></ul></div></div>'), a.put("/app/js/service/project/dialog_project_labels.html", '<div class="dialog dialog-project-labels"><div class=dialog-head><span class=dialog-close><i class="wtfont wtf-close" ng-click=vm.js_close()></i></span><div class=dialog-title>{{\'dialog_project_labels.title_name\'|translate}}</div></div><div class=dialog-body><wt-set-project-labels type=project project=vm.project header=false closefn=vm.js_close() islabelcheck=false></wt-set-project-labels></div></div>'), a.put("/app/js/service/project/dialog_project_move.html", '<div class="dialog dialog-project-move"><div class=dialog-head><span class=dialog-close><i class="wtfont wtf-close" ng-click=vm.js_close()></i></span><div class=dialog-title>{{\'dialog_project_move.title_name\'|translate}}</div></div><div class=dialog-body><p class=color-text-grayer>{{\'dialog_project_move.form_title_select_team\'|translate}}</p><div class=target-list><ul class=checkable><li ng-repeat="team in teams" ng-click=vm.set_transfer_to(team.team_id) class=ptb_2 ng-class="{\'selected\':to_team_id == team.team_id}"><a href=javascript:;><div class="help-inlineblock m_5"><i class="pl-10 fa" ng-class="{true:\'fa-user\', false: \'fa-sitemap\'}[team.team_id == -1]"></i></div><span class=ml-10>{{team.name}}</span></a></li></ul></div><div class=mt_28><button ng-click=vm.transfer() data-loading-text="{{\'dialog_project_move.moving\'|translate}}" wt-loading-status=is_transfering class="btn btn-success mr_15" ng-class="{true:\'disabled\'}[to_team_id == vm.project.team_id]">{{\'dialog_project_move.btn_confirm_move\'|translate}}</button> <button class="btn btn-link btn-cancel" ng-click=vm.js_close()>{{\'common.btn_cancel\'|translate}}</button></div></div></div>'), a.put("/app/js/service/project/dialog_project_quit.html", '<div class="dialog dialog-project-quit"><div class=dialog-head><span class=dialog-close><i class="wtfont wtf-close" ng-click=vm.js_close()></i></span><div class=dialog-title>{{\'dialog_project_quit.title_name\'|translate}}</div></div><div class=dialog-body><div ng-hide="vm.project.curr_role == 1 && !has_other_admin"><span class=tips>{{\'dialog_project_quit.tips\'|translate}}<br><br></span><input type=text class=form-control ng-model=prj_name placeholder="{{\'dialog_project_quit.placeholder_project_name\'|translate}}"><br></div><span class=tips ng-show="vm.project.curr_role==1 && !has_other_admin">{{\'dialog_project_quit.warn_only_admin\'|translate}}<br><br></span><button ng-click=js_prj_quit(prj_name) ng-disabled="prj_name != vm.project.name" class="btn btn-danger" data-loading-text="{{\'dialog_project_quit.quiting\'|translate}}" wt-loading-status=is_quiting>{{\'dialog_project_quit.btn_confirm_quit\'|translate}}</button></div></div>'), a.put("/app/js/service/project/dialog_project_setting.html", "<div class=\"dialog dialog-project-setting\"><div class=dialog-head><span class=dialog-close><i class=\"wtfont wtf-close\" ng-click=vm.js_close()></i></span><div class=dialog-title>{{'dialog_project_setting.title_name'|translate}}</div><div class=\"dialog-project-info clearfix\"><div class=project-info><h3>{{vm.project.name}} <a href=javascript:; ng-click=vm.js_toggle_star()><i class=fa ng-class=\"{1:'fa-star color-label-yellow',0:'fa-star-o color-text-graylight'}[vm.project.is_star]\"></i></a></h3><a ng-if=\"vm.project.team_id!=-1\" ng-href=\"{{'/teams/'+vm.project.team_id}}\">{{vm.project.team.name}} </a><span ng-if=\"vm.project.team_id==-1\">{{vm.project.team.name}} </span>( <i class=\"fa fa-user\"></i> {{vm.project.members.length}} )<br>{{vm.project.desc}}</div><div class=project-icon><i ng-class=vm.project.pic ng-style={color:vm.project.bg}></i></div></div><div class=dialog-tab><ul class=flex_row><li class=flex_se1 ng-class=\"{'step_cursor':vm.step_index==1, 'step_active':vm.step_index>1}\"><a href=javascript:; ng-click=vm.js_step(1)>{{'dialog_project_setting.tab_baseinfo'|translate}}</a></li><li class=flex_se1 ng-class=\"{'step_cursor':vm.step_index==2, 'step_active':vm.step_index>2}\"><a href=javascript:; ng-click=vm.js_step(2)>{{'dialog_project_setting.tab_members'|translate}}</a></li><li class=flex_se1 ng-class=\"{'step_cursor':vm.step_index==3, 'step_active':vm.step_index>3}\"><a href=javascript:; ng-click=vm.js_step(3)>{{'dialog_project_setting.tab_preference'|translate}}</a></li><li class=flex_se1 ng-class=\"{'step_cursor':vm.step_index==4, 'step_active':vm.step_index>4}\"><a href=javascript:; ng-click=vm.js_step(4)>{{'dialog_project_setting.tab_advanced'|translate}}</a></li></ul></div></div><div class=dialog-body><div ng-switch on=vm.step_index><div ng-switch-when=1><form name=prj_update_form w5c-form-validate=\"\" class=wt-form role=form novalidate><div class=form-group><div><input type=text ng-model=temp_prj.name placeholder=\"{{'dialog_project_setting.placeholder_project_name'|translate}}\" name=prj_name autofocus required class=form-control></div></div><div class=form-group><div><select class=form-control ng-model=temp_prj.visibility ng-options=\"visibility.id as visibility.name for visibility in visibilities\"><option value=\"\" selected=selected disabled=disabled>{{'dialog_project_setting.placeholder_project_visibility'|translate}}</option></select></div></div><div class=form-group><div><textarea wt-ctrl-enter=vm.js_prj_update(prj_update_form) ng-model=temp_prj.desc placeholder=\"{{'dialog_project_setting.placeholder_project_desc'|translate}}\" name=prj_desc rows=4 class=form-control></textarea></div></div><div class=mt_28><button w5c-form-submit=vm.js_prj_update(prj_update_form) data-loading-text=\"{{'common.saving'|translate}}\" class=\"btn btn-success btn--big mr_15\" wt-loading-status=is_prj_saveing>{{'common.btn_save'|translate}}</button> <button class=\"btn btn-link btn-cancel\" ng-click=vm.js_close()>{{'common.btn_cancel'|translate}}</button></div></form></div><div ng-switch-when=2><ul class=\"m-0-auto w-80p\"><li ng-repeat=\"member in vm.project.members track by member.uid\" class=\"ptb_8 clearfix\"><wt-avatar class=\"js-popbox member\" wt-stop-propagation=\"mousedown click\" member=member role=member.role name=true nameclass=pl-10 size=40></wt-avatar><span class=pull-right><button wt-member-control member=member project=vm.project class=\"btn btn--big\">{{'common.btn_set'|translate}}</button></span></li></ul></div><div ng-switch-when=3><h3 class=setting-body-header>{{'dialog_project_setting.form_title_module_setting'|translate}}</h3><div class=navigations-sort-body><div class=setting-body-header-desc>{{'dialog_project_setting.tips_module_setting'|translate}}</div><ul class=\"js_sortable prj_navigations-list\" ui-sortable=nav_sortable_options ng-model=prj_navigations><li ng-click=js_toggle_nav(nav) ng-repeat=\"nav in prj_navigations\" nav-id={{nav.id}}><i class=\"pull-right fa fa-check color-text-act-green\" ng-show=vm.js_nav_is_enabled(nav.id)></i> <a href=javascript:;><span class=title ng-bind=nav.title></span> <span class=desc ng-bind=nav.desc></span></a></li><li ng-click=js_toggle_nav(nav) ng-repeat=\"nav in un_prj_navigations\" class=disable wt-disable-drag=\"\"><a href=javascript:;><span class=title ng-bind=nav.title></span> <span class=desc ng-bind=nav.desc></span></a></li></ul></div><h3 class=setting-body-header>{{'dialog_project_setting.form_title_preference'|translate}}</h3><div class=setting-body-header-desc>{{'dialog_project_setting.tips_preference'|translate}}</div><div class=radio--fancy><a href=javascript:; class=fa ng-click=vm.js_toggle_autoarchive() ng-class=\"{'fa-toggle-on':vm.project.auto_archived, 'fa-toggle-off': !vm.project.auto_archived}\"></a> <span>{{'dialog_project_setting.form_item_autoarchive'|translate}}</span><br><ins ng-class=\"{1:'on',0:'off'}[(vm.project.auto_archived||0)]\">{{ {1:'dialog_project_setting.turned_on',0:'dialog_project_setting.turned_off'}[(vm.project.auto_archived||0)]|translate }}</ins></div><div class=radio--fancy><a href=javascript:; class=fa ng-click=vm.js_toggle_show_task_aging() ng-class=\"{'fa-toggle-on':vm.project.show_task_aging, 'fa-toggle-off': !vm.project.show_task_aging}\"></a> <span>{{'dialog_project_setting.form_item_aging'|translate}}</span><br><ins ng-class=\"{1:'on',0:'off'}[(vm.project.show_task_aging||0)]\">{{ {1:'dialog_project_setting.turned_on',0:'dialog_project_setting.turned_off'}[(vm.project.show_task_aging||0)]|translate }}</ins></div><div class=radio--fancy><a href=javascript:; class=fa ng-click=vm.js_toggle_show_entry_number() ng-class=\"{'fa-toggle-on':vm.project.show_entry_number, 'fa-toggle-off': !vm.project.show_entry_number}\"></a> <span>{{'dialog_project_setting.form_item_show_entry_number'|translate}}</span><br><ins ng-class=\"{1:'on',0:'off'}[(vm.project.show_entry_number||0)]\">{{ {1:'dialog_project_setting.turned_on',0:'dialog_project_setting.turned_off'}[(vm.project.show_entry_number||0)]|translate }}</ins></div><div class=radio--fancy><a href=javascript:; class=fa ng-click=vm.js_toggle_show_done_task_in_event() ng-class=\"{'fa-toggle-on':vm.project.show_completed, 'fa-toggle-off': !vm.project.show_completed}\"></a> <span>{{'dialog_project_setting.form_item_calendar_show_completed'|translate}}</span><br><ins ng-class=\"{1:'on',0:'off'}[(vm.project.show_completed||0)]\">{{ {1:'dialog_project_setting.turned_on',0:'dialog_project_setting.turned_off'}[(vm.project.show_completed||0)]|translate }}</ins></div></div><div ng-switch-when=4><ul class=advance_item_list><li ng-if=\"vm.project.curr_role==1&&!vm.project.archived\"><a href=javascript:; ng-click=vm.js_open_project_move()><h4></h4><p></p></a></li><li ng-if=\"($root.global.prj_module.setting|permission:vm.project.permission) && !vm.project.archived\"><a href=javascript:; ng-click=vm.js_open_project_archive()><h4></h4><p></p></a></li><li ng-if=global.prj_module.setting|permission:vm.project.permission><a href=javascript:; ng-click=vm.js_open_project_del()><h4></h4><p></p></a></li><li></li><li ng-if=\"!vm.project.archived && $root.global.prj_module.setting|permission:vm.project.permission\"><a href=javascript:; ng-click=vm.js_open_project_webhook()><h4>Webhook </h4><p>Webhook</p></a></li><li ng-if=!vm.project.archived><a href=javascript:; ng-click=vm.js_open_project_createbymail()><h4></h4><p>WorktileWorktile</p></a></li><li class=hr></li><li><h4></h4><div ng-if=\"vm.project.is_notify==1&&vm.project.archived==0\"><span class=tips>{{'dialog_project_setting.tips_current_notify_open'|translate}}</span><br><br><div><button class=\"btn btn-danger\" ng-click=vm.toggle_email_notify()><i class=\"fa fa-power-off\"></i> {{'dialog_project_setting.btn_close_email_notify'|translate}}</button></div></div><div ng-if=\"vm.project.is_notify==0&&vm.project.archived==0\"><span class=tips>{{'dialog_project_setting.tips_current_notify_close'|translate}}</span><br><br><div><button class=\"btn btn-success\" ng-click=vm.toggle_email_notify()><i class=\"fa fa-bell-o\"></i> {{'dialog_project_setting.btn_open_email_notify'|translate}}</button></div></div></li></ul></div><div ng-switch-when=5><div ng-if=\"vm.project.is_notify==1&&vm.project.archived==0\"><span class=tips>{{'dialog_project_setting.tips_current_notify_open'|translate}}</span><br><br><div><button class=\"btn btn-danger\" ng-click=vm.toggle_email_notify()><i class=\"fa fa-power-off\"></i> {{'dialog_project_setting.btn_close_email_notify'|translate}}</button></div></div><div ng-if=\"vm.project.is_notify==0&&vm.project.archived==0\"><span class=tips>{{'dialog_project_setting.tips_current_notify_close'|translate}}</span><br><br><div><button class=\"btn btn-success\" ng-click=vm.toggle_email_notify()><i class=\"fa fa-bell-o\"></i> {{'dialog_project_setting.btn_open_email_notify'|translate}}</button></div></div></div></div></div></div>"), a.put("/app/js/service/project/dialog_project_timingtasks.html", "<div class=\"dialog dialog-project-timingtask\"><div class=dialog-head><span class=dialog-close><i class=\"wtfont wtf-close\" ng-click=vm.js_close()></i></span><div class=dialog-title>{{'dialog_project_timingtasks.title_name'|translate}}</div></div><div class=dialog-body><h3 class=list-title ng-if=\"vm.prj_timingtasks.length!=0\">{{'dialog_project_timingtasks.form_title_added_timingtasks'|translate}}</h3><ul class=timingtask-list><li ng-if=loading_prj_timingtasks><div class=part-loading></div></li><li ng-if=\"vm.prj_timingtasks.length==0\" class=noresult>{{'dialog_project_timingtasks.warn_empty_timingtasks'|translate}}</li><li ng-if=!loading_prj_timingtasks ng-repeat=\"timingtask in vm.prj_timingtasks\" ng-click=vm.to_edit_mode(timingtask)><span>{{timingtask.name}}</span> <ins class=\"text-muted fs_12\">{{ {0:('dialog_project_timingtasks.each_day'|translate),1:('dialog_project_timingtasks.each_week'|translate),2:('dialog_project_timingtasks.each_month'|translate),3:('dialog_project_timingtasks.each_biweekly'|translate),4:('dialog_project_timingtasks.each_year'|translate),99:('dialog_project_timingtasks.not_run'|translate)}[timingtask.recurrence] }} <em class=label-week ng-if=\"timingtask.recurrence==1||timingtask.recurrence==3\">{{timingtask.repeat.weekdays|weekName}} </em><em class=label-month-type ng-if=\"timingtask.recurrence==4\">{{timingtask.repeat.month}}{{'common.month'|translate}} </em><em class=label-day-type ng-if=\"timingtask.recurrence==2||timingtask.recurrence==4\">{{timingtask.repeat.day}}{{'common.day'|translate}} </em></ins><i class=\"fa fa-pencil\"></i></li></ul><div class=\"fs_12 text-muted\"><i class=\"fa fa-info-circle\"></i> {{'dialog_project_timingtasks.tips_add_timingtasks'|translate}}</div></div></div>"), a.put("/app/js/service/project/dialog_project_webhook.html", "<div class=\"dialog dialog-project-webhook\"><div class=dialog-head><span class=dialog-close><i class=\"wtfont wtf-close\" ng-click=vm.js_close()></i></span><div class=dialog-title>{{'dialog_project_webhook.title_name'|translate}}</div></div><div class=dialog-body><form ng-if=vm.is_add name=webhook_form w5c-form-validate={blurTrig:false,showMsg:false} class=wt-form role=form novalidate><div class=form-group><label class=control-label>{{'dialog_project_webhook.form_title_name'|translate}}</label><div><input type=text ng-model=edit_webhook.name placeholder=\"{{'dialog_project_webhook.placeholder_name'|translate}}\" name=webhook_name wt-autofocus required class=form-control></div></div><div class=form-group><label class=control-label>{{'dialog_project_webhook.form_title_url'|translate}}</label><div><input type=text ng-model=edit_webhook.web_hook_url placeholder=https://example.com/postreceive name=webhook_url required ng-pattern=$root.global.constant.regex.url class=form-control></div></div><div class=form-group><label class=control-label>{{'dialog_project_webhook.form_title_secret'|translate}}</label><div><input type=text ng-model=edit_webhook.secret placeholder=\"{{'dialog_project_webhook.placeholder_secret'|translate}}\" name=webhook_secret class=form-control></div></div><div class=form-group><label class=control-label>{{'dialog_project_webhook.form_hook_type'|translate}}</label><select ng-model=edit_webhook.is_every class=form-control><option value=1>{{'dialog_project_webhook.hook_type_full'|translate}}</option><option value=0>{{'dialog_project_webhook.hook_type_custom'|translate}}</option></select><div ng-if=\"edit_webhook.is_every==0\"><div class=checkbox ng-repeat=\"item in webhook_action\"><label><input type=checkbox name=webhook_actions ng-model=edit_webhook.actions[$index] ng-true-value=\"'{{item.action}}'\" ng-false-value=\"\"> {{item.desc}}</label></div></div></div><div class=form-group><div><button w5c-form-submit=js_webhook_add_edit(webhook_form) data-loading-text=\"{{'common.saving'|translate}}\" class=\"btn btn-success mr_15\" wt-loading-status=is_prj_saveing>{{'common.btn_save'|translate}}</button> <a ng-if=!edit_webhook.wid class=\"btn btn-link btn-cancel\" ng-click=cancel_edit()>{{'common.btn_cancel'|translate}} </a><button ng-if=edit_webhook.wid class=\"btn btn-warning js-popbox\" ng-click=js_webhook_del($event,edit_webhook)>{{'common.btn_del'|translate}}</button> <button ng-if=edit_webhook.wid class=\"btn btn-link btn-cancel\" ng-click=cancel_edit()>{{'common.btn_cancel'|translate}}</button></div></div></form><div ng-if=!vm.is_add><h3 class=webhook-title>{{'dialog_project_webhook.form_title_exist_webhooks'|translate}}</h3><ul class=webhook-list><li ng-if=!vm.part_loading_done><div class=part-loading></div></li><li ng-if=\"prj_webhooks.length==0 && vm.part_loading_done\" class=noresult>{{'dialog_project_webhook.warn_empty_webhooks'|translate}}</li><li ng-if=vm.part_loading_done ng-repeat=\"webhook in prj_webhooks\" ng-click=to_edit_webhook(webhook)><span>{{webhook.name}}</span> <ins>{{ {true:('dialog_project_webhook.hook_text_full'|translate),false:(webhook.actionsStr)}[webhook.is_every==1] }} </ins><i class=\"fa fa-pencil\"></i></li></ul><div><button class=\"btn btn-success btn--big mr_15\" ng-click=to_add_webhook()>{{'common.btn_add'|translate}}</button> <button class=\"btn btn-link btn-cancel\" ng-click=vm.js_close()>{{'common.btn_cancel'|translate}}</button></div></div></div></div>"), a.put("/app/js/service/quickswitch/quickswitch.html", '<div class="dialog dialog-quickswitch"><div class=dialog-head><span class=dialog-close><i class="wtfont wtf-close" ng-click=vm.js_close()></i></span><div class=dialog-title>{{\'quickswitch.title_name\'|translate:{keytip:vm.keytip} }}</div></div><div class=search-area><input type=text class=form-control placeholder="{{\'quickswitch.placeholder_keyword\'|translate}}" wt-autofocus autocomplete=off ng-change=vm.js_change_keyword(); ng-model=vm.keyword ui-keydown="{\'esc\':\'vm.js_esc($event)\'}"> <a href=javascript:; class=search ng-click=vm.js_search($event)><i class="fa fa-search"></i></a></div><div class=quickswitch-result wt-scroll><div class=title ng-if="vm.keyword==\'\'&&vm.recentOpen.length>0">{{\'quickswitch.form_title_recent_open\'|translate}}</div><ul key-selection=vm.keySelectionOptions><li class=result-item ng-if="vm.keyword==\'\'" ng-repeat="item in vm.recentOpen track by $index" rel="{{ {true:\'project\',false:\'member\'}[!!item.pid] }}" ng-mouseover=vm.js_mouseover_result(item) ng-class="{\'current\':item.is_current}"><a href=javascript:; ng-if=!!item.pid ng-click=vm.js_to_project(item) ng-class="{\'active\':vm.selected_pid == item.pid, \'current\':vm.current_pid == item.pid && vm.current_star_project == false}" title={{item.name}}><i class=icon-fixed-width ng-class=item.pic ng-style="{color: item.bg}"></i> <span ng-bind=item.name></span></a><wt-avatar ng-if=!!item.uid tabindex=-1 member=item name=[item.display_name,38]|cutstr ng-click=vm.js_to_profile(item) size=21></wt-avatar><a href=javascript:; ng-click=vm.remove_recentOpen(item) class="fa fa-times-circle"></a></li><li class="pid_{{item.pid}} result-item" ng-if="vm.keyword!=\'\'&&vm.searchMode==false" ng-repeat="item in vm.projects|filterProjects:vm.keyword" rel=project ng-mouseover=vm.js_mouseover_result(item) ng-class="{\'current\':item.is_current}"><a href=javascript:; ng-click=vm.js_to_project(item) ng-class="{\'active\':vm.selected_pid == item.pid, \'current\':vm.current_pid == item.pid && vm.current_star_project == false}" title={{item.name}}><i class=icon-fixed-width ng-class=item.pic ng-style="{color: item.bg}"></i> <span ng-bind=item.name></span></a></li><li class=result-item ng-if="vm.keyword!=\'\'&&vm.searchMode==false" ng-repeat="item in vm.contacts|filterMembers:vm.keyword" rel=member ng-mouseover=vm.js_mouseover_result(item)><wt-avatar tabindex=-1 member=item name=[item.display_name,38]|cutstr ng-click=vm.js_to_profile(item) size=21></wt-avatar></li><li ng-if=vm.searchMode&&vm.searching><div class="part-loading mt_20"></div></li><li class="entityid_{{item._id}} result-item" ng-repeat="item in vm.results" ng-if="vm.searchMode&&vm.searching==false&&vm.results.length>0" rel=entity ng-mouseover=vm.js_mouseover_result(item) ng-class="{\'current\':item.is_current}"><a href=javascript:; ng-click=vm.js_to_entity(item)><span class=result-name><i ng-class=vm.solve_entity_icon(item)></i> <span ng-bind-html=vm.entity_title(item)></span> </span><span class=result-project><i class=project-icon ng-class=vm.solve_project(item.pid).pic ng-style={color:vm.solve_project(item.pid).bg}></i> <span class=project-name ng-bind=vm.solve_project(item.pid).name></span></span></a></li><li class=result-item ng-if="vm.searchMode&&vm.searching==false&&vm.results.length==0"><div class="empty-panel empty-panel-middle"><i class="fa fa-search"></i><br><span>{{\'quickswitch.warn_empty_result\'|translate}}</span><br><br></div></li></ul></div><a class=result-more ng-click=vm.js_go_more() ng-href="{{\'/search?keywords=\'+vm.keyword}}" ng-if="vm.searchMode&&vm.searching==false&&vm.results.length>10">{{\'quickswitch.link_goto_search\'|translate}}</a></div>'),
        a.put("/app/js/service/shortcutkey/dialog_shortcutkey.html", "<div class=\"dialog dialog-shortcutkey\"><div class=dialog-head><span class=dialog-close><i class=\"wtfont wtf-close\" ng-click=vm.js_close()></i></span><div class=dialog-title><i class=\"fa fa-keyboard\"></i> {{'dialog_shortcutkey.title_name'|translate}}</div></div><div class=dialog-body><div class=\"shortcut-column row\"><div class=\"shortcut-section col-sm-4\"><h4>{{'dialog_shortcutkey.colum_title_common'|translate}}</h4><ul class=universal><li><span class=key><a>?</a></span> <span class=text>{{'dialog_shortcutkey.open_help'|translate}}</span></li><li><span class=key><a>Esc</a></span> <span class=\"text pt-2\" translate=dialog_shortcutkey.esc></span></li><li><span class=key><a>U</a></span> <span class=text>{{'dialog_shortcutkey.toggle_leftmenu_account'|translate}}</span></li><li><span class=key><a>G</a></span> <span class=text>{{'dialog_shortcutkey.go_dashboard'|translate}}</span></li><li><span class=key><a>S</a></span> <span class=text>{{'dialog_shortcutkey.go_search'|translate}}</span></li><li><span class=key><a>{{vm.keytip}} K</a></span> <span class=text>{{'dialog_shortcutkey.open_quicksearch'|translate}}</span></li><li><span class=key><a>Shift Q</a></span> <span class=text>{{'dialog_shortcutkey.open_create_task'|translate}}</span></li><li><span class=key><a>N</a></span> <span class=text>{{'dialog_shortcutkey.open_notice'|translate}}</span></li><li><span class=key><a>P</a></span> <span class=text>{{'dialog_shortcutkey.toggle_leftmenu_projects'|translate}}</span></li><li><span class=key><a>T</a></span> <span class=text>{{'dialog_shortcutkey.toggle_leftmenu_teams'|translate}}</span></li><li><span class=key><a>F</a></span> <span class=text>{{'dialog_shortcutkey.toogle_leftmenu_quickcreate'|translate}}</span></li></ul><h4>{{'dialog_shortcutkey.colum_title_page'|translate}}</h4><ul class=page><li><span class=key><a>Ctrl L</a></span> <span class=text>{{'dialog_shortcutkey.toggle_page_fullscreem'|translate}}</span></li></ul></div><div class=\"shortcut-section col-sm-4\"><h4>{{'dialog_shortcutkey.colum_title_project'|translate}}</h4><ul class=project><li><span class=key><a>Shift T</a></span> <span class=text>{{'dialog_shortcutkey.go_task'|translate}}</span></li><li><span class=key><a>Shift E</a></span> <span class=text>{{'dialog_shortcutkey.go_event'|translate}}</span></li><li><span class=key><a>Shift F</a></span> <span class=text>{{'dialog_shortcutkey.go_file'|translate}}</span></li><li><span class=key><a>Shift C</a></span> <span class=text>{{'dialog_shortcutkey.go_post'|translate}}</span></li><li><span class=key><a>Shift D</a></span> <span class=text>{{'dialog_shortcutkey.go_page'|translate}}</span></li><li><span class=key><a>Shift G</a></span> <span class=text>{{'dialog_shortcutkey.go_graph'|translate}}</span></li><li><span class=key><a>Shift A</a></span> <span class=text>{{'dialog_shortcutkey.go_activity'|translate}}</span></li><li><span class=key><a>Shift R</a></span> <span class=text>{{'dialog_shortcutkey.go_trash'|translate}}</span></li><li><span class=key><a>W</a></span> <span class=text>{{'dialog_shortcutkey.toggle_watcher'|translate}}</span></li><li><span class=key><a>Ctrl Enter</a></span> <span class=text>{{'dialog_shortcutkey.send_comment'|translate}}</span></li><li><span class=key><a>@</a></span> <span class=\"text pt-2\" translate=dialog_shortcutkey.at_member></span></li><li><span class=key><a>:</a></span> <span class=text>{{'dialog_shortcutkey.open_emoji'|translate}}</span></li></ul></div><div class=\"shortcut-section col-sm-4\"><h4>{{'dialog_shortcutkey.colum_title_task'|translate}}</h4><ul class=task><li><span class=key><a>I</a></span> <span class=text></span></li><li><span class=key><a></a></span> <span class=text>{{'dialog_shortcutkey.task_select_left'|translate}}</span></li><li><span class=key><a></a></span> <span class=text>{{'dialog_shortcutkey.task_select_right'|translate}}</span></li><li><span class=key><a>/K</a></span> <span class=text>{{'dialog_shortcutkey.task_select_up'|translate}}</span></li><li><span class=key><a>/J</a></span> <span class=text>{{'dialog_shortcutkey.task_select_down'|translate}}</span></li><li><span class=key><a>Enter</a></span> <span class=text>{{'dialog_shortcutkey.open_select_task'|translate}}</span></li><li><span class=key><a>C</a></span> <span class=text>{{'dialog_shortcutkey.task_toggle_complete'|translate}}</span></li><li><span class=key><a>A</a></span> <span class=text>{{'dialog_shortcutkey.task_upload_attachment'|translate}}</span></li><li><span class=key><a>D</a></span> <span class=\"text pt-2\" translate=dialog_shortcutkey.task_set_expire></span></li><li><span class=key><a>L</a></span> <span class=text>{{'dialog_shortcutkey.task_set_label'|translate}}</span></li><li><span class=key><a>M</a></span> <span class=text>{{'dialog_shortcutkey.task_set_assign'|translate}}</span></li><li><span class=key><a>Space</a></span> <span class=text>{{'dialog_shortcutkey.task_assign_self'|translate}}</span></li><li><span class=key><a>Shift &lt;</a></span> <span class=\"text pt-2\" translate=dialog_shortcutkey.task_move_left></span></li><li><span class=key><a>Shift &gt;</a></span> <span class=\"text pt-2\" translate=dialog_shortcutkey.task_move_right></span></li></ul></div></div></div></div>"), a.put("/app/js/service/team/dialog_team_add_member.html", '<div class="dialog dialog-team-add-member"><div class=dialog-head><span class=dialog-close><i class="wtfont wtf-close" ng-click=vm.js_close()></i></span><div class=dialog-title>{{\'dialog_team_add_member.title_name\'|translate}}</div><div class="dialog-tab mlr-28"><ul class=flex_row><li ng-class="{\'step_cursor\':vm.step_index==1}"><a href=javascript:; ng-click=vm.js_step(1)>{{\'dialog_team_add_member.tab_from_email\'|translate}}</a></li><li ng-class="{\'step_cursor\':vm.step_index==2}"><a href=javascript:; ng-click=vm.js_step(2)>{{\'dialog_team_add_member.tab_from_contact\'|translate}}</a></li><li ng-class="{\'step_cursor\':vm.step_index==3}"><a href=javascript:; ng-click=vm.js_step(3)>{{\'dialog_team_add_member.tab_from_qrcode\'|translate}}</a></li></ul></div></div><div class=dialog-body><div ng-switch on=vm.step_index><div ng-switch-when=1><div ng-if=!vm.batch_mode><form name=team_add_member w5c-form-validate="" class=w5c-form novalidate="" role=form><div class="form-group w-590 mlr-auto"><div class=contact_member_search><i class="wtfont wtf-search"></i><div class=input-group><input class=form-control name=search_user_input ng-model=vm.search_user_input type=text wt-autofocus="" required ng-pattern=$root.global.constant.regex.phone_email ng-change=vm.change_keyword() placeholder="{{\'dialog_team_add_member.form_find_member_placeholder\'|translate}}"> <span class=input-group-btn><button class="btn btn-success fs_17" type=button w5c-form-submit=vm.js_search_member(team_add_member) ng-click=vm.js_search_member(team_add_member) ng-disabled=!team_add_member.search_user_input.$valid||vm.is_searching>{{\'dialog_team_add_member.btn_invite\'|translate}}</button></span></div></div><div class=contact_member><ul class=clearfix><li class=flex_row ng-repeat="member in vm.search_member"><wt-avatar member=member size=40 class=member_pic></wt-avatar><span class="member_name flex_se1">{{[member.display_name,25]|cutstr}}</span> <a class="btn btn-success btn-sm" href=javascript:; ng-click=vm.js_contact_add(member) ng-disabled="member.status==3">{{{1:\'dialog_team_add_member.membrer_status_sended\',2:\'dialog_team_add_member.membrer_status_add\',3:\'dialog_team_add_member.membrer_status_added\',4:\'dialog_team_add_member.membrer_status_resend\'}[member.status]|translate}}</a></li></ul><div class="empty-panel pt_20 pb_20" ng-if="vm.search_user_input==undefined"><span>{{\'dialog_team_add_member.tooltip_enter_email_phone\'|translate}}</span></div><div class="empty-panel pt_20 pb_20" ng-if=vm.error_show_not_support_phone><span>{{\'dialog_team_add_member.warn_not_support_mobile_newer\'|translate}}</span></div></div></div></form></div><div ng-if=vm.batch_mode><textarea class="form-control help-block" rows=5 ng-model=vm.invite_email_batch ng-click="vm.invite_email_batch_error=\'\'" placeholder="{{\'dialog_team_add_member.form_email_batch_placeholder\'|translate}}"></textarea><div class="alert alert-danger mr_55" ng-if="vm.invite_email_batch_error!=\'\'"><i class="fa fa-times-circle"></i>{{vm.invite_email_batch_error}}</div><div><button ng-click=vm.js_invite_email_batch() type=button class="btn btn-success btn--big" data-loading-text="{{\'common.sending\'|translate}}" wt-loading-status=vm.is_sending>{{\'dialog_team_add_member.btn_send_invite\'|translate}}</button></div></div><div class="contact_member_selected border-top" ng-if="vm.contact_members_selected.length>0">{{\'dialog_team_add_member.added_count\'|translate:{count:vm.contact_members_selected.length} }}<ul class=avatars><li ng-repeat="member in vm.contact_members_selected" wt-member-control member=member><wt-avatar member=member size=30></wt-avatar></li></ul></div><div class="contact_member_selected border-top" ng-if="vm.contact_members_invited.length>0">{{\'dialog_project_add_member.invite_count\'|translate:{count:vm.contact_members_invited.length} }}<ul class=avatars><li ng-repeat="member in vm.contact_members_invited" wt-member-control member=member><wt-avatar member=member size=30></wt-avatar></li></ul></div><div ng-if=!vm.batch_mode class="mt_20 ml_12"><span class=vl_m>{{\'dialog_team_add_member.you_can_try\'|translate}} </span><button class="btn btn-link-fancy" ng-click="vm.batch_mode=true">{{\'dialog_team_add_member.change_mode_batch_email\'|translate}}</button></div><div ng-if=vm.batch_mode class=mt_20><span class=vl_m>{{\'dialog_team_add_member.you_can_try\'|translate}} </span><button class="btn btn-link-fancy" ng-click="vm.batch_mode=false">{{\'dialog_team_add_member.change_mode_single_email\'|translate}}</button></div></div><div ng-switch-when=2><div class=part-loading ng-if=!vm.part_loading_done></div><form name=team_add_contacts ng-if=vm.part_loading_done w5c-form-validate="" class=w5c-form novalidate="" role=form><div class="form-group w-590 mlr-auto"><div class=contact_member_search><i class="wtfont wtf-search"></i> <input class=form-control name=filter_contacts_input ng-model=vm.filter_contacts_input type=text wt-autofocus="" placeholder="{{\'dialog_team_add_member.tooltip_enter_name_email_phone\'|translate}}"></div><div class=contact_member><ul class=clearfix><li class=flex_row ng-repeat="member in contact_members_filtered_results = (vm.contact_members|filterMembersInfo:vm.filter_contacts_input)"><wt-avatar member=member size=40 class=member_pic></wt-avatar><span class="member_name flex_se1">{{[member.display_name,15]|cutstr}}</span> <a class="btn btn-success btn-sm" href=javascript:; ng-click=vm.js_contact_add(member)>{{\'common.btn_add\'|translate}}</a></li><li class=flex_row ng-repeat="member in vm.search_member"><wt-avatar member=member size=40 class=member_pic></wt-avatar><span class="member_name flex_se1">{{[member.display_name,15]|cutstr}}</span> <a class="btn btn-success btn-sm" href=javascript:; ng-click=vm.js_contact_add(member) ng-disabled="member.status==3">{{{1:\'dialog_team_add_member.btn_invite\',2:\'dialog_team_add_member.membrer_status_add\',3:\'dialog_team_add_member.membrer_status_added\',4:\'dialog_team_add_member.membrer_status_resend\'}[member.status]|translate }}</a></li></ul><div class="empty-panel pt_20 pb_20" ng-show="vm.contact_members.length==0 && vm.search_member.length==0"><span>{{\'dialog_team_add_member.warn_empty_contact\'|translate}}</span></div><div class="empty-panel pt_20 pb_20" ng-show="vm.contact_members.length!=0 && contact_members_filtered_results.length==0 && vm.search_member.length==0 && !vm.error_show_not_support_phone"><span>{{\'dialog_team_add_member.warn_empty_find_contact\'|translate}}</span></div></div></div><div class="contact_member_selected border-top" ng-if="vm.contact_members_selected.length>0">{{\'dialog_team_add_member.added_count\'|translate:{count:vm.contact_members_selected.length} }}<ul class=avatars><li ng-repeat="member in vm.contact_members_selected" wt-member-control member=member><wt-avatar member=member size=30></wt-avatar></li></ul></div><div class="contact_member_selected border-top" ng-if="vm.contact_members_invited.length>0">{{\'dialog_team_add_member.invite_count\'|translate:{count:vm.contact_members_invited.length} }}<ul class=avatars><li ng-repeat="member in vm.contact_members_invited" wt-member-control member=member><wt-avatar member=member size=30></wt-avatar></li></ul></div>{{\'dialog_team_add_member.tips_contact_why\'|translate}}<div class="mt_20 ml_12 color-text-grayer"></div></form></div><div ng-switch-when=3><div ng-if=!vm.invite_link_open class="text-center p-20"><div class=p-20><img src=/img/links/team_invite_share.png alt=""></div><button ng-click=vm.js_invite_link_open() type=button class="btn btn-success btn--big" data-loading-text="{{\'common.sending\'|translate}}" wt-loading-status=vm.is_sending>{{\'dialog_team_add_member.btn_open_invite_link\'|translate}}</button><div class="mt_20 ml_12 text-center color-text-grayer">{{\'dialog_team_add_member.desc_invite_link\'|translate}}</div></div><div ng-if=vm.invite_link_open><div class=form-group><input class=form-control ng-model=vm.invite_link type=text wt-click-select=""></div><ul class=invite-list><li class=ml-20><div class=qrcode ng-bind-html=vm.invite_qrcode></div><span>{{\'dialog_team_add_member.text_wechat_invite\'|translate}}</span></li><li translate=dialog_team_add_member.desc_scan_qrcode></li></ul><div class="text-center color-text-grayer">{{\'dialog_team_add_member.desc_close_link\'|translate}} <button class="btn btn-sm btn-redline" ng-click=vm.js_invite_link_close()>{{\'dialog_team_add_member.btn_close_link\'|translate}}</button></div></div></div></div></div></div>'), a.put("/app/js/service/team/dialog_team_create.html", '<div class="dialog dialog-team-create"><div class=dialog-head><span class=dialog-close><i class="wtfont wtf-close" ng-click=vm.js_close()></i></span><div class=dialog-title ng-if=vm.is_first_landing>{{\'dialog_team_create.title_name_newer\'|translate}}</div><div class=dialog-title ng-if=!vm.is_first_landing>{{\'dialog_team_create.title_name\'|translate}}</div><div class="dialog-step mlr-28"><ul class=flex_row><li class=flex_se1 ng-class="{\'step_cursor\':vm.step_index==1, \'step_active\':vm.step_index>1}">{{\'dialog_team_create.step_1_baseinfo\'|translate}}</li><li class=flex_se1 ng-class="{\'step_cursor\':vm.step_index==2, \'step_active\':vm.step_index>2}">{{\'dialog_team_create.step_2_invite\'|translate}}</li><li class=flex_se1 ng-class="{\'step_cursor\':vm.step_index==3}">{{\'dialog_team_create.step_3_done\'|translate}}</li></ul></div></div><div class=dialog-body><div ng-switch on=vm.step_index><div ng-switch-when=1><form name=team_create_step1 w5c-form-validate="" class=w5c-form novalidate="" role=form><div class=team_s1_title>{{\'dialog_team_create.title_desc\'|translate}}</div><div class="w-590 m-0-auto"><input class=form-control type=text placeholder="{{\'dialog_team_create.form_team_name_placeholder\'|translate}}" ng-maxlength=100 name=team_name required="" wt-autofocus="" ng-model=vm.team_name><div><input class="form-control mt_10" type=text placeholder="{{\'dialog_team_create.form_team_phone_placeholder\'|translate}}" ng-pattern=$root.global.constant.regex.mobile name=team_phone required="" ng-model=vm.team_phone> <span class=error-info ng-show="team_create_step1.team_phone.$dirty && team_create_step1.team_phone.$valid==false"></span></div><select class="form-control mt_10" name=team_industry_text required="" ng-model=vm.team_industry_text ng-options="ins for ins in vm.all_industries" ng-change=vm.js_team_industy_change()><option value="" disabled=disabled>{{\'dialog_team_create.form_team_industry_placeholder\'|translate}}</option></select><label for=team_is_support class=mt_10><input type=checkbox name=team_is_support id=team_is_support ng-model=vm.team_is_support ng-true-value=1 ng-false-value=0> <span translate=dialog_team_create.tips_know_pro></span></label></div><div class="w-590 m-0-auto mt_21"><button class="btn btn-success" w5c-form-submit=vm.js_next_step($event)>{{\'common.btn_next_step\'|translate}}</button> <button class="btn btn-cancel btn-link w_120" ng-click=vm.js_close()>{{\'common.btn_cancel\'|translate}}</button></div></form></div><div ng-switch-when=2><form name=team_create_step2 w5c-form-validate="" class=w5c-form novalidate="" role=form><div class="form-group w-590 mlr-auto" ng-if="!vm.is_first_landing && vm.contact_members.length>0"><div class=contact_member_search>{{\'dialog_team_create.form_title_contact\'|translate}} <span><i class="wtfont wtf-search"></i> <input ng-model=search_user_input type=text placeholder="{{\'dialog_team_create.form_contact_find_placeholder\'|translate}}"></span></div><div class=contact_member><ul class=clearfix ng-hide="contact_members_filtered_results.length==0"><li class="flex_row js-popbox" ng-class="{\'selected\':member.selected}" ng-repeat="member in contact_members_filtered_results = (vm.contact_members|filterMembers:search_user_input)" ng-click=vm.js_contact_selected_toggle(member.uid)><wt-avatar member=member size=40 class=member_pic></wt-avatar><span class="member_name flex_se1">{{[member.display_name,10]|cutstr}}</span> <i class="fa fa-check-circle-o"></i></li></ul><div class="empty-panel pt_20 pb_20" ng-show="contact_members_filtered_results.length==0"><span>{{\'dialog_team_create.warn_empty_find_contact\'|translate}}</span></div></div></div><div class="form-group w-590 mlr-auto"><div class="text-center mt_20 pb_10" ng-if=vm.is_first_landing>{{\'dialog_team_create.title_invite_newer\'|translate}}</div><div ng-if=!vm.is_first_landing>{{\'dialog_team_create.title_invite\'|translate}}</div><div><div class=email_list_item ng-repeat="obj in vm.team_invite_email"><input class="form-control mt_10" type=email wt-validator-name="\'team_invite_email_\'+$index" placeholder="{{\'dialog_team_create.form_invite_by_email\'|translate}}" wt-autofocus="" wt-autofocus-enable="$index==0" ng-model=obj.email> <span ng-if="$index != 0" class=item_remove><i class="fa fa fa-times-circle-o" ng-click=vm.js_remove_email_textbox($index)></i></span></div><div class=ml_12><button class="btn btn-link-fancy" ng-click=vm.js_add_invite_member_input()>{{\'dialog_team_create.btn_more_add\'|translate}}</button></div><div class="mt_20 ml_12 color-text-grayer"><i class="fa fa-info-circle mr_5"></i> {{\'dialog_team_create.tips_invite_can_after\'|translate}}</div></div></div><div class="flex_row w-590 m-0-auto mt_21"><div class="flex_se1 flex_bw_100"><button class="btn btn-success" w5c-form-submit=vm.js_next_step($event,team_create_step2)>{{\'common.btn_next_step\'|translate}}</button> <button class="btn btn-cancel btn-link w_120" ng-click=vm.js_close()>{{\'common.btn_cancel\'|translate}}</button></div><div class="flex_se1 text-right"><button class="btn btn-link-fancy" ng-click=vm.js_next_step($event)>{{\'dialog_team_create.btn_skip_invite\'|translate}}</button></div></div></form></div><div ng-switch-when=3><div class=team_create_info_show><div class=info>{{\'dialog_team_create.title_done_confirm\'|translate}}</div><div class="fs-21 mt_30 color-text-act-green">{{[vm.team_name,20]|cutstr}}</div><div class=mt_20>{{vm.team_industry_text}}</div><div class="text-center mt_20"><wt-avatar member=member size=40 class=member_pic ng-repeat="member in vm.contact_members_selected|limitTo : 4 "></wt-avatar><span ng-if="vm.contact_members_selected.length>4" class="member_pic avatar avatar-40"></span></div></div><div class="w-590 m-0-auto mt_30"><button class="btn btn-success" wt-loading-status=vm.saving data-loading-text="{{\'common.saving\'|translate}}" ng-click=vm.js_team_add()>{{\'common.btn_save\'|translate}}</button> <button class="btn btn-cancel btn-link w_120" ng-click=vm.js_close()>{{\'common.btn_cancel\'|translate}}</button></div></div></div></div></div>'), a.put("/app/js/service/timingtask/add_edit_timingtask.html", "<div><form name=timingtask_form w5c-form-validate=\"\" class=wt-form role=form novalidate><div class=form-group><label>{{'add_edit_timingtask.form_title_name'|translate}}</label><div><input type=text ng-model=vm.timingtask.name placeholder=\"{{'add_edit_timingtask.form_name_placeholder'|translate}}\" name=timingtask_name wt-autofocus required class=form-control></div></div><div class=form-group><label>{{'add_edit_timingtask.form_title_recurrence'|translate}}</label><div><select ng-model=vm.timingtask.recurrence class=form-control name=timingtask_recurrence required><option value=99 selected=selected>{{'add_edit_timingtask.recurrence_type_none'|translate}}</option><option value=0>{{'add_edit_timingtask.recurrence_type_day'|translate}}</option><option value=1>{{'add_edit_timingtask.recurrence_type_week'|translate}}</option><option value=3>{{'add_edit_timingtask.recurrence_type_biweekly'|translate}}</option><option value=2>{{'add_edit_timingtask.recurrence_type_month'|translate}}</option><option value=4>{{'add_edit_timingtask.recurrence_type_year'|translate}}</option></select></div></div><div class=form-group ng-if=\"vm.timingtask.recurrence!=99&&vm.timingtask.recurrence!=0\"><label>{{'add_edit_timingtask.form_title_repeat_day'|translate}}</label><div><div ng-if=\"vm.timingtask.recurrence==1||vm.timingtask.recurrence==3\"><label class=checkbox-inline ng-repeat=\"wd in vm.weeklys\"><input type=checkbox ng-model=wd.check><span class=checkbox-text>{{wd.name}}</span></label></div><input ng-if=\"vm.timingtask.recurrence==4\" type=text readonly=readonly class=\"form-control js-popbox\" data-align=bottom ng-click=vm.js_pop_monthday($event) ng-model=vm.temp_repeat_month_day><select ng-if=\"vm.timingtask.recurrence==2\" ng-model=vm.timingtask.repeat.day class=\"form-control repeat-day\" name=timingtask_repeat_day required><option value=1 selected=selected>1</option><option value=2>2</option><option value=3>3</option><option value=4>4</option><option value=5>5</option><option value=6>6</option><option value=7>7</option><option value=8>8</option><option value=9>9</option><option value=10>10</option><option value=11>11</option><option value=12>12</option><option value=13>13</option><option value=14>14</option><option value=15>15</option><option value=16>16</option><option value=17>17</option><option value=18>18</option><option value=19>19</option><option value=20>20</option><option value=21>21</option><option value=22>22</option><option value=23>23</option><option value=24>24</option><option value=25>25</option><option value=26>26</option><option value=27>27</option><option value=28>28</option><option value=29>29</option><option value=30>30</option><option value=31>31</option></select></div></div><div class=form-group ng-if=\"vm.timingtask.recurrence!=99\"><label>{{'add_edit_timingtask.form_title_entry'|translate}}</label><div><select ng-model=vm.timingtask.entry_id class=form-control name=timingtask_entry_id w5c-dynamic-element ng-change=vm.js_change_entry(); ng-options=\"entry.entry_id as entry.name for entry in vm.entries\" required><option value=\"\" selected=selected disabled=disabled>{{'add_edit_timingtask.form_entry_placeholder'|translate}}</option></select></div></div><div class=form-group><label>{{'add_edit_timingtask.form_title_desc'|translate}}</label><div class=\"alert alert-info\"><span class=label-type>{{(vm.timingtask.recurrence==99?'add_edit_timingtask.not_recurrence':'add_edit_timingtask.each')|translate}} {{(vm.timingtask.recurrence==0?'common.day':'')|translate}} {{(vm.timingtask.recurrence==1?'common.week':'')|translate}} {{(vm.timingtask.recurrence==3?'common.biweekly':'')|translate}} {{(vm.timingtask.recurrence==2?'common.month':'')|translate}} {{(vm.timingtask.recurrence==4?'common.year':'')|translate}} </span><span class=label-week ng-if=\"vm.timingtask.recurrence==1||vm.timingtask.recurrence==3\">{{(vm.weeklys[0].check?'common.week_ss1':'')|translate}} {{(vm.weeklys[1].check?'common.week_ss2':'')|translate}} {{(vm.weeklys[2].check?'common.week_ss3':'')|translate}} {{(vm.weeklys[3].check?'common.week_ss4':'')|translate}} {{(vm.weeklys[4].check?'common.week_ss5':'')|translate}} {{(vm.weeklys[5].check?'common.week_ss6':'')|translate}} {{(vm.weeklys[6].check?'common.week_ss7':'')|translate}} </span><span class=label-month-type ng-if=\"vm.timingtask.recurrence==4\">{{vm.timingtask.repeat.month}}{{'common.month'|translate}} </span><span class=label-day-type ng-if=\"vm.timingtask.recurrence==2||vm.timingtask.recurrence==4\">{{vm.timingtask.repeat.day}}{{'common.day'|translate}} </span><span class=label-day-type ng-if=\"vm.timingtask.recurrence!=99&&vm.timingtask.entry_id!=''\">{{'add_edit_timingtask.entry_where'|translate:{entry_name:vm.timingtask.entry_name} }}</span></div></div><div class=form-group><div><button w5c-form-submit=vm.js_timingtask_add(timingtask_form) data-loading-text=\"{{'common.saving'|translate}}\" class=\"btn btn-success mr_15\" wt-loading-status=is_prj_saveing>{{'common.btn_save'|translate}}</button> <button class=\"btn btn-warning\" ng-if=\"vm.timingtask.ttid!=null\" ng-click=vm.js_timingtask_del($event)>{{'common.btn_del'|translate}}</button> <button class=\"btn btn-link btn-cancel\" ng-click=vmClose()>{{'common.btn_cancel'|translate}}</button></div></div></form></div>"), a.put("/app/js/service/timingtask/dialog_timingtask_add.html", '<div class="dialog dialog-timingtask-add"><div class=dialog-head><span class=dialog-close><i class="wtfont wtf-close" ng-click=vm.js_close()></i></span><div class=dialog-title>{{\'dialog_timingtask_add.title_name\'|translate}}</div></div><div class=dialog-body><wt-add-edit-timingtask entries=vm.entries task=vm.task timingtask=vm.timingtask close=vm.js_close()></wt-add-edit-timingtask></div></div>')
}]);